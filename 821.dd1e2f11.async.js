!(function(){var Gx=Object.defineProperty,Xx=Object.defineProperties;var Yx=Object.getOwnPropertyDescriptors;var T0=Object.getOwnPropertySymbols;var Kx=Object.prototype.hasOwnProperty,qx=Object.prototype.propertyIsEnumerable;var Uo=Math.pow,A0=(Ci,At,I)=>At in Ci?Gx(Ci,At,{enumerable:!0,configurable:!0,writable:!0,value:I}):Ci[At]=I,ig=(Ci,At)=>{for(var I in At||(At={}))Kx.call(At,I)&&A0(Ci,I,At[I]);if(T0)for(var I of T0(At))qx.call(At,I)&&A0(Ci,I,At[I]);return Ci},P0=(Ci,At)=>Xx(Ci,Yx(At));var Tl=(Ci,At,I)=>new Promise((u,q)=>{var $=fe=>{try{Qe(I.next(fe))}catch(ee){q(ee)}},de=fe=>{try{Qe(I.throw(fe))}catch(ee){q(ee)}},Qe=fe=>fe.done?u(fe.value):Promise.resolve(fe.value).then($,de);Qe((I=I.apply(Ci,At)).next())});(self.webpackChunk_zpcscc_demo=self.webpackChunk_zpcscc_demo||[]).push([[821],{75875:function(Ci,At,I){"use strict";I.d(At,{iN:function(){return Le},R_:function(){return Be},Ti:function(){return vi},ez:function(){return Oe}});var u=I(96299),q=I(28556),$=2,de=.16,Qe=.05,fe=.05,ee=.15,X=5,j=4,he=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ft(Nn){var Pt=Nn.r,rn=Nn.g,cn=Nn.b,zi=(0,u.py)(Pt,rn,cn);return{h:zi.h*360,s:zi.s,v:zi.v}}function st(Nn){var Pt=Nn.r,rn=Nn.g,cn=Nn.b;return"#".concat((0,u.vq)(Pt,rn,cn,!1))}function oe(Nn,Pt,rn){var cn=rn/100,zi={r:(Pt.r-Nn.r)*cn+Nn.r,g:(Pt.g-Nn.g)*cn+Nn.g,b:(Pt.b-Nn.b)*cn+Nn.b};return zi}function ct(Nn,Pt,rn){var cn;return Math.round(Nn.h)>=60&&Math.round(Nn.h)<=240?cn=rn?Math.round(Nn.h)-$*Pt:Math.round(Nn.h)+$*Pt:cn=rn?Math.round(Nn.h)+$*Pt:Math.round(Nn.h)-$*Pt,cn<0?cn+=360:cn>=360&&(cn-=360),cn}function xe(Nn,Pt,rn){if(Nn.h===0&&Nn.s===0)return Nn.s;var cn;return rn?cn=Nn.s-de*Pt:Pt===j?cn=Nn.s+de:cn=Nn.s+Qe*Pt,cn>1&&(cn=1),rn&&Pt===X&&cn>.1&&(cn=.1),cn<.06&&(cn=.06),Number(cn.toFixed(2))}function ne(Nn,Pt,rn){var cn;return rn?cn=Nn.v+fe*Pt:cn=Nn.v-ee*Pt,cn>1&&(cn=1),Number(cn.toFixed(2))}function Be(Nn){for(var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rn=[],cn=(0,q.uA)(Nn),zi=X;zi>0;zi-=1){var Mi=ft(cn),as=st((0,q.uA)({h:ct(Mi,zi,!0),s:xe(Mi,zi,!0),v:ne(Mi,zi,!0)}));rn.push(as)}rn.push(st(cn));for(var dn=1;dn<=j;dn+=1){var Rr=ft(cn),is=st((0,q.uA)({h:ct(Rr,dn),s:xe(Rr,dn),v:ne(Rr,dn)}));rn.push(is)}return Pt.theme==="dark"?he.map(function(mr){var bi=mr.index,qn=mr.opacity,Fi=st(oe((0,q.uA)(Pt.backgroundColor||"#141414"),(0,q.uA)(rn[bi]),qn*100));return Fi}):rn}var Oe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ce=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Ce.primary=Ce[5];var at=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];at.primary=at[5];var re=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];re.primary=re[5];var we=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];we.primary=we[5];var Ue=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Ue.primary=Ue[5];var E=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];E.primary=E[5];var tt=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];tt.primary=tt[5];var Ie=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Ie.primary=Ie[5];var Le=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Le.primary=Le[5];var bt=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];bt.primary=bt[5];var en=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];en.primary=en[5];var lt=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];lt.primary=lt[5];var Ht=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Ht.primary=Ht[5];var Pn=null,vi={red:Ce,volcano:at,orange:re,gold:we,yellow:Ue,lime:E,green:tt,cyan:Ie,blue:Le,geekblue:bt,purple:en,magenta:lt,grey:Ht},Rt=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Rt.primary=Rt[5];var ut=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];ut.primary=ut[5];var Ge=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Ge.primary=Ge[5];var ot=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];ot.primary=ot[5];var mt=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];mt.primary=mt[5];var kt=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];kt.primary=kt[5];var qt=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];qt.primary=qt[5];var Yn=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Yn.primary=Yn[5];var _n=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];_n.primary=_n[5];var Lt=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Lt.primary=Lt[5];var Kn=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Kn.primary=Kn[5];var ln=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];ln.primary=ln[5];var Gt=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Gt.primary=Gt[5];var Bt={red:Rt,volcano:ut,orange:Ge,gold:ot,yellow:mt,lime:kt,green:qt,cyan:Yn,blue:_n,geekblue:Lt,purple:Kn,magenta:ln,grey:Gt}},76950:function(Ci,At,I){"use strict";I.d(At,{rb:function(){return _n},IX:function(){return Le}});var u=I(63194),q=I(97171),$=I(30985),de=I(88598),Qe=I(75271),fe=I(40322),ee=I(71479),X=I(38172),j=I(10037),he=I(14280),ft=I(37747),st=(0,X.Z)(function Lt(){(0,ee.Z)(this,Lt)}),oe=st,ct="CALC_UNIT",xe=new RegExp(ct,"g");function ne(Lt){return typeof Lt=="number"?"".concat(Lt).concat(ct):Lt}var Be=function(Lt){(0,he.Z)(ln,Lt);var Kn=(0,ft.Z)(ln);function ln(Gt,Bt){var Nn;(0,ee.Z)(this,ln),Nn=Kn.call(this),(0,$.Z)((0,j.Z)(Nn),"result",""),(0,$.Z)((0,j.Z)(Nn),"unitlessCssVar",void 0),(0,$.Z)((0,j.Z)(Nn),"lowPriority",void 0);var Pt=(0,u.Z)(Gt);return Nn.unitlessCssVar=Bt,Gt instanceof ln?Nn.result="(".concat(Gt.result,")"):Pt==="number"?Nn.result=ne(Gt):Pt==="string"&&(Nn.result=Gt),Nn}return(0,X.Z)(ln,[{key:"add",value:function(Bt){return Bt instanceof ln?this.result="".concat(this.result," + ").concat(Bt.getResult()):(typeof Bt=="number"||typeof Bt=="string")&&(this.result="".concat(this.result," + ").concat(ne(Bt))),this.lowPriority=!0,this}},{key:"sub",value:function(Bt){return Bt instanceof ln?this.result="".concat(this.result," - ").concat(Bt.getResult()):(typeof Bt=="number"||typeof Bt=="string")&&(this.result="".concat(this.result," - ").concat(ne(Bt))),this.lowPriority=!0,this}},{key:"mul",value:function(Bt){return this.lowPriority&&(this.result="(".concat(this.result,")")),Bt instanceof ln?this.result="".concat(this.result," * ").concat(Bt.getResult(!0)):(typeof Bt=="number"||typeof Bt=="string")&&(this.result="".concat(this.result," * ").concat(Bt)),this.lowPriority=!1,this}},{key:"div",value:function(Bt){return this.lowPriority&&(this.result="(".concat(this.result,")")),Bt instanceof ln?this.result="".concat(this.result," / ").concat(Bt.getResult(!0)):(typeof Bt=="number"||typeof Bt=="string")&&(this.result="".concat(this.result," / ").concat(Bt)),this.lowPriority=!1,this}},{key:"getResult",value:function(Bt){return this.lowPriority||Bt?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(Bt){var Nn=this,Pt=Bt||{},rn=Pt.unit,cn=!0;return typeof rn=="boolean"?cn=rn:Array.from(this.unitlessCssVar).some(function(zi){return Nn.result.includes(zi)})&&(cn=!1),this.result=this.result.replace(xe,cn?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),ln}(oe),Oe=function(Lt){(0,he.Z)(ln,Lt);var Kn=(0,ft.Z)(ln);function ln(Gt){var Bt;return(0,ee.Z)(this,ln),Bt=Kn.call(this),(0,$.Z)((0,j.Z)(Bt),"result",0),Gt instanceof ln?Bt.result=Gt.result:typeof Gt=="number"&&(Bt.result=Gt),Bt}return(0,X.Z)(ln,[{key:"add",value:function(Bt){return Bt instanceof ln?this.result+=Bt.result:typeof Bt=="number"&&(this.result+=Bt),this}},{key:"sub",value:function(Bt){return Bt instanceof ln?this.result-=Bt.result:typeof Bt=="number"&&(this.result-=Bt),this}},{key:"mul",value:function(Bt){return Bt instanceof ln?this.result*=Bt.result:typeof Bt=="number"&&(this.result*=Bt),this}},{key:"div",value:function(Bt){return Bt instanceof ln?this.result/=Bt.result:typeof Bt=="number"&&(this.result/=Bt),this}},{key:"equal",value:function(){return this.result}}]),ln}(oe),Ce=function(Kn,ln){var Gt=Kn==="css"?Be:Oe;return function(Bt){return new Gt(Bt,ln)}},at=Ce,re=function(Kn,ln){return"".concat([ln,Kn.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},we=re,Ue=I(28774);function E(Lt,Kn,ln,Gt){var Bt=(0,de.Z)({},Kn[Lt]);if(Gt!=null&&Gt.deprecatedTokens){var Nn=Gt.deprecatedTokens;Nn.forEach(function(rn){var cn=(0,q.Z)(rn,2),zi=cn[0],Mi=cn[1];if(Bt!=null&&Bt[zi]||Bt!=null&&Bt[Mi]){var as;(as=Bt[Mi])!==null&&as!==void 0||(Bt[Mi]=Bt==null?void 0:Bt[zi])}})}var Pt=(0,de.Z)((0,de.Z)({},ln),Bt);return Object.keys(Pt).forEach(function(rn){Pt[rn]===Kn[rn]&&delete Pt[rn]}),Pt}var tt=typeof CSSINJS_STATISTIC!="undefined",Ie=!0;function Le(){for(var Lt=arguments.length,Kn=new Array(Lt),ln=0;ln<Lt;ln++)Kn[ln]=arguments[ln];if(!tt)return Object.assign.apply(Object,[{}].concat(Kn));Ie=!1;var Gt={};return Kn.forEach(function(Bt){if((0,u.Z)(Bt)==="object"){var Nn=Object.keys(Bt);Nn.forEach(function(Pt){Object.defineProperty(Gt,Pt,{configurable:!0,enumerable:!0,get:function(){return Bt[Pt]}})})}}),Ie=!0,Gt}var bt={},en={};function lt(){}var Ht=function(Kn){var ln,Gt=Kn,Bt=lt;return tt&&typeof Proxy!="undefined"&&(ln=new Set,Gt=new Proxy(Kn,{get:function(Pt,rn){return Ie&&ln.add(rn),Pt[rn]}}),Bt=function(Pt,rn){var cn;bt[Pt]={global:Array.from(ln),component:(0,de.Z)((0,de.Z)({},(cn=bt[Pt])===null||cn===void 0?void 0:cn.component),rn)}}),{token:Gt,keys:ln,flush:Bt}},Pn=Ht;function vi(Lt,Kn,ln){if(typeof ln=="function"){var Gt;return ln(Le(Kn,(Gt=Kn[Lt])!==null&&Gt!==void 0?Gt:{}))}return ln!=null?ln:{}}function Rt(Lt){return Lt==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var ln=arguments.length,Gt=new Array(ln),Bt=0;Bt<ln;Bt++)Gt[Bt]=arguments[Bt];return"max(".concat(Gt.map(function(Nn){return(0,fe.bf)(Nn)}).join(","),")")},min:function(){for(var ln=arguments.length,Gt=new Array(ln),Bt=0;Bt<ln;Bt++)Gt[Bt]=arguments[Bt];return"min(".concat(Gt.map(function(Nn){return(0,fe.bf)(Nn)}).join(","),")")}}}var ut=1e3*60*10,Ge=function(){function Lt(){(0,ee.Z)(this,Lt),(0,$.Z)(this,"map",new Map),(0,$.Z)(this,"objectIDMap",new WeakMap),(0,$.Z)(this,"nextID",0),(0,$.Z)(this,"lastAccessBeat",new Map),(0,$.Z)(this,"accessBeat",0)}return(0,X.Z)(Lt,[{key:"set",value:function(ln,Gt){this.clear();var Bt=this.getCompositeKey(ln);this.map.set(Bt,Gt),this.lastAccessBeat.set(Bt,Date.now())}},{key:"get",value:function(ln){var Gt=this.getCompositeKey(ln),Bt=this.map.get(Gt);return this.lastAccessBeat.set(Gt,Date.now()),this.accessBeat+=1,Bt}},{key:"getCompositeKey",value:function(ln){var Gt=this,Bt=ln.map(function(Nn){return Nn&&(0,u.Z)(Nn)==="object"?"obj_".concat(Gt.getObjectID(Nn)):"".concat((0,u.Z)(Nn),"_").concat(Nn)});return Bt.join("|")}},{key:"getObjectID",value:function(ln){if(this.objectIDMap.has(ln))return this.objectIDMap.get(ln);var Gt=this.nextID;return this.objectIDMap.set(ln,Gt),this.nextID+=1,Gt}},{key:"clear",value:function(){var ln=this;if(this.accessBeat>1e4){var Gt=Date.now();this.lastAccessBeat.forEach(function(Bt,Nn){Gt-Bt>ut&&(ln.map.delete(Nn),ln.lastAccessBeat.delete(Nn))}),this.accessBeat=0}}}]),Lt}(),ot=new Ge;function mt(Lt,Kn){return Qe.useMemo(function(){var ln=ot.get(Kn);if(ln)return ln;var Gt=Lt();return ot.set(Kn,Gt),Gt},Kn)}var kt=mt,qt=function(){return{}},Yn=qt;function _n(Lt){var Kn=Lt.useCSP,ln=Kn===void 0?Yn:Kn,Gt=Lt.useToken,Bt=Lt.usePrefix,Nn=Lt.getResetStyles,Pt=Lt.getCommonStyle,rn=Lt.getCompUnitless;function cn(dn,Rr,is,mr){var bi=Array.isArray(dn)?dn[0]:dn;function qn(kr){return"".concat(String(bi)).concat(kr.slice(0,1).toUpperCase()).concat(kr.slice(1))}var Fi=(mr==null?void 0:mr.unitless)||{},pn=typeof rn=="function"?rn(dn):{},it=(0,de.Z)((0,de.Z)({},pn),{},(0,$.Z)({},qn("zIndexPopup"),!0));Object.keys(Fi).forEach(function(kr){it[qn(kr)]=Fi[kr]});var Vs=(0,de.Z)((0,de.Z)({},mr),{},{unitless:it,prefixToken:qn}),nr=Mi(dn,Rr,is,Vs),zr=zi(bi,is,Vs);return function(kr){var Hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kr,ce=nr(kr,Hn),Qt=(0,q.Z)(ce,2),gn=Qt[1],Ft=zr(Hn),on=(0,q.Z)(Ft,2),Cn=on[0],Or=on[1];return[Cn,gn,Or]}}function zi(dn,Rr,is){var mr=is.unitless,bi=is.injectStyle,qn=bi===void 0?!0:bi,Fi=is.prefixToken,pn=is.ignore,it=function(zr){var kr=zr.rootCls,Hn=zr.cssVar,ce=Hn===void 0?{}:Hn,Qt=Gt(),gn=Qt.realToken;return(0,fe.CI)({path:[dn],prefix:ce.prefix,key:ce.key,unitless:mr,ignore:pn,token:gn,scope:kr},function(){var Ft=vi(dn,gn,Rr),on=E(dn,gn,Ft,{deprecatedTokens:is==null?void 0:is.deprecatedTokens});return Object.keys(Ft).forEach(function(Cn){on[Fi(Cn)]=on[Cn],delete on[Cn]}),on}),null},Vs=function(zr){var kr=Gt(),Hn=kr.cssVar;return[function(ce){return qn&&Hn?Qe.createElement(Qe.Fragment,null,Qe.createElement(it,{rootCls:zr,cssVar:Hn,component:dn}),ce):ce},Hn==null?void 0:Hn.key]};return Vs}function Mi(dn,Rr,is){var mr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},bi=Array.isArray(dn)?dn:[dn,dn],qn=(0,q.Z)(bi,1),Fi=qn[0],pn=bi.join("-");return function(it){var Vs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:it,nr=Gt(),zr=nr.theme,kr=nr.realToken,Hn=nr.hashId,ce=nr.token,Qt=nr.cssVar,gn=Bt(),Ft=gn.rootPrefixCls,on=gn.iconPrefixCls,Cn=ln(),Or=Qt?"css":"js",ds=kt(function(){var hs=new Set;return Qt&&Object.keys(mr.unitless||{}).forEach(function(dt){hs.add((0,fe.ks)(dt,Qt.prefix)),hs.add((0,fe.ks)(dt,we(Fi,Qt.prefix)))}),at(Or,hs)},[Or,Fi,Qt==null?void 0:Qt.prefix]),io=Rt(Or),$r=io.max,fr=io.min,ir={theme:zr,token:ce,hashId:Hn,nonce:function(){return Cn.nonce},clientOnly:mr.clientOnly,layer:{name:"antd"},order:mr.order||-999};(0,fe.xy)((0,de.Z)((0,de.Z)({},ir),{},{clientOnly:!1,path:["Shared",Ft]}),function(){return typeof Nn=="function"?Nn(ce):[]});var _r=(0,fe.xy)((0,de.Z)((0,de.Z)({},ir),{},{path:[pn,it,on]}),function(){if(mr.injectStyle===!1)return[];var hs=Pn(ce),dt=hs.token,vt=hs.flush,Ut=vi(Fi,kr,is),ti=".".concat(it),Si=E(Fi,kr,Ut,{deprecatedTokens:mr.deprecatedTokens});Qt&&(0,u.Z)(Ut)==="object"&&Object.keys(Ut).forEach(function(Ls){Ut[Ls]="var(".concat((0,fe.ks)(Ls,we(Fi,Qt.prefix)),")")});var Li=Le(dt,{componentCls:ti,prefixCls:it,iconCls:".".concat(on),antCls:".".concat(Ft),calc:ds,max:$r,min:fr},Qt?Ut:Si),Ds=Rr(Li,{hashId:Hn,prefixCls:it,rootPrefixCls:Ft,iconPrefixCls:on});vt(Fi,Si);var Sr=typeof Pt=="function"?Pt(Li,it,Vs,mr.resetFont):null;return[mr.resetStyle===!1?null:Sr,Ds]});return[_r,Hn]}}function as(dn,Rr,is){var mr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},bi=Mi(dn,Rr,is,(0,de.Z)({resetStyle:!1,order:-998},mr)),qn=function(pn){var it=pn.prefixCls,Vs=pn.rootCls,nr=Vs===void 0?it:Vs;return bi(it,nr),null};return qn}return{genStyleHooks:cn,genSubStyleComponent:as,genComponentStyleHook:Mi}}},40322:function(Ci,At,I){"use strict";I.d(At,{E4:function(){return oi},jG:function(){return Yn},ks:function(){return qn},bf:function(){return mr},CI:function(){return nn},fp:function(){return Ls},xy:function(){return Y}});var u=I(30985),q=I(97171),$=I(40665),de=I(88598);function Qe(ye){for(var qe=0,Ve,ht=0,Nt=ye.length;Nt>=4;++ht,Nt-=4)Ve=ye.charCodeAt(ht)&255|(ye.charCodeAt(++ht)&255)<<8|(ye.charCodeAt(++ht)&255)<<16|(ye.charCodeAt(++ht)&255)<<24,Ve=(Ve&65535)*1540483477+((Ve>>>16)*59797<<16),Ve^=Ve>>>24,qe=(Ve&65535)*1540483477+((Ve>>>16)*59797<<16)^(qe&65535)*1540483477+((qe>>>16)*59797<<16);switch(Nt){case 3:qe^=(ye.charCodeAt(ht+2)&255)<<16;case 2:qe^=(ye.charCodeAt(ht+1)&255)<<8;case 1:qe^=ye.charCodeAt(ht)&255,qe=(qe&65535)*1540483477+((qe>>>16)*59797<<16)}return qe^=qe>>>13,qe=(qe&65535)*1540483477+((qe>>>16)*59797<<16),((qe^qe>>>15)>>>0).toString(36)}var fe=Qe,ee=I(61984),X=I(75271),j=I.t(X,2),he=I(95410),ft=I(19088),st=I(71479),oe=I(38172),ct="%";function xe(ye){return ye.join(ct)}var ne=function(){function ye(qe){(0,st.Z)(this,ye),(0,u.Z)(this,"instanceId",void 0),(0,u.Z)(this,"cache",new Map),this.instanceId=qe}return(0,oe.Z)(ye,[{key:"get",value:function(Ve){return this.opGet(xe(Ve))}},{key:"opGet",value:function(Ve){return this.cache.get(Ve)||null}},{key:"update",value:function(Ve,ht){return this.opUpdate(xe(Ve),ht)}},{key:"opUpdate",value:function(Ve,ht){var Nt=this.cache.get(Ve),Fn=ht(Nt);Fn===null?this.cache.delete(Ve):this.cache.set(Ve,Fn)}}]),ye}(),Be=ne,Oe=null,Ce="data-token-hash",at="data-css-hash",re="data-cache-path",we="__cssinjs_instance__";function Ue(){var ye=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var qe=document.body.querySelectorAll("style[".concat(at,"]"))||[],Ve=document.head.firstChild;Array.from(qe).forEach(function(Nt){Nt[we]=Nt[we]||ye,Nt[we]===ye&&document.head.insertBefore(Nt,Ve)});var ht={};Array.from(document.querySelectorAll("style[".concat(at,"]"))).forEach(function(Nt){var Fn=Nt.getAttribute(at);if(ht[Fn]){if(Nt[we]===ye){var ai;(ai=Nt.parentNode)===null||ai===void 0||ai.removeChild(Nt)}}else ht[Fn]=!0})}return new Be(ye)}var E=X.createContext({hashPriority:"low",cache:Ue(),defaultCache:!0}),tt=function(qe){var Ve=qe.children,ht=_objectWithoutProperties(qe,Oe),Nt=React.useContext(E),Fn=useMemo(function(){var ai=_objectSpread({},Nt);Object.keys(ht).forEach(function(hi){var Xi=ht[hi];ht[hi]!==void 0&&(ai[hi]=Xi)});var xi=ht.cache;return ai.cache=ai.cache||Ue(),ai.defaultCache=!xi&&Nt.defaultCache,ai},[Nt,ht],function(ai,xi){return!isEqual(ai[0],xi[0],!0)||!isEqual(ai[1],xi[1],!0)});return React.createElement(E.Provider,{value:Fn},Ve)},Ie=E,Le=I(63194),bt=I(71254),en="CALC_UNIT",lt=new RegExp(en,"g");function Ht(ye){return typeof ye=="number"?"".concat(ye).concat(en):ye}var Pn=null,vi=function(qe,Ve){var ht=qe==="css"?CSSCalculator:NumCalculator;return function(Nt){return new ht(Nt,Ve)}},Rt=null;function ut(ye,qe){if(ye.length!==qe.length)return!1;for(var Ve=0;Ve<ye.length;Ve++)if(ye[Ve]!==qe[Ve])return!1;return!0}var Ge=function(){function ye(){(0,st.Z)(this,ye),(0,u.Z)(this,"cache",void 0),(0,u.Z)(this,"keys",void 0),(0,u.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,oe.Z)(ye,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(Ve){var ht,Nt,Fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ai={map:this.cache};return Ve.forEach(function(xi){if(!ai)ai=void 0;else{var hi;ai=(hi=ai)===null||hi===void 0||(hi=hi.map)===null||hi===void 0?void 0:hi.get(xi)}}),(ht=ai)!==null&&ht!==void 0&&ht.value&&Fn&&(ai.value[1]=this.cacheCallTimes++),(Nt=ai)===null||Nt===void 0?void 0:Nt.value}},{key:"get",value:function(Ve){var ht;return(ht=this.internalGet(Ve,!0))===null||ht===void 0?void 0:ht[0]}},{key:"has",value:function(Ve){return!!this.internalGet(Ve)}},{key:"set",value:function(Ve,ht){var Nt=this;if(!this.has(Ve)){if(this.size()+1>ye.MAX_CACHE_SIZE+ye.MAX_CACHE_OFFSET){var Fn=this.keys.reduce(function(Xi,Pi){var jn=(0,q.Z)(Xi,2),Ji=jn[1];return Nt.internalGet(Pi)[1]<Ji?[Pi,Nt.internalGet(Pi)[1]]:Xi},[this.keys[0],this.cacheCallTimes]),ai=(0,q.Z)(Fn,1),xi=ai[0];this.delete(xi)}this.keys.push(Ve)}var hi=this.cache;Ve.forEach(function(Xi,Pi){if(Pi===Ve.length-1)hi.set(Xi,{value:[ht,Nt.cacheCallTimes++]});else{var jn=hi.get(Xi);jn?jn.map||(jn.map=new Map):hi.set(Xi,{map:new Map}),hi=hi.get(Xi).map}})}},{key:"deleteByPath",value:function(Ve,ht){var Nt=Ve.get(ht[0]);if(ht.length===1){var Fn;return Nt.map?Ve.set(ht[0],{map:Nt.map}):Ve.delete(ht[0]),(Fn=Nt.value)===null||Fn===void 0?void 0:Fn[0]}var ai=this.deleteByPath(Nt.map,ht.slice(1));return(!Nt.map||Nt.map.size===0)&&!Nt.value&&Ve.delete(ht[0]),ai}},{key:"delete",value:function(Ve){if(this.has(Ve))return this.keys=this.keys.filter(function(ht){return!ut(ht,Ve)}),this.deleteByPath(this.cache,Ve)}}]),ye}();(0,u.Z)(Ge,"MAX_CACHE_SIZE",20),(0,u.Z)(Ge,"MAX_CACHE_OFFSET",5);var ot=I(7432),mt=0,kt=function(){function ye(qe){(0,st.Z)(this,ye),(0,u.Z)(this,"derivatives",void 0),(0,u.Z)(this,"id",void 0),this.derivatives=Array.isArray(qe)?qe:[qe],this.id=mt,qe.length===0&&(0,ot.Kp)(qe.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),mt+=1}return(0,oe.Z)(ye,[{key:"getDerivativeToken",value:function(Ve){return this.derivatives.reduce(function(ht,Nt){return Nt(Ve,ht)},void 0)}}]),ye}(),qt=new Ge;function Yn(ye){var qe=Array.isArray(ye)?ye:[ye];return qt.has(qe)||qt.set(qe,new kt(qe)),qt.get(qe)}var _n=new WeakMap,Lt={};function Kn(ye,qe){for(var Ve=_n,ht=0;ht<qe.length;ht+=1){var Nt=qe[ht];Ve.has(Nt)||Ve.set(Nt,new WeakMap),Ve=Ve.get(Nt)}return Ve.has(Lt)||Ve.set(Lt,ye()),Ve.get(Lt)}var ln=new WeakMap;function Gt(ye){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ve=ln.get(ye)||"";return Ve||(Object.keys(ye).forEach(function(ht){var Nt=ye[ht];Ve+=ht,Nt instanceof kt?Ve+=Nt.id:Nt&&(0,Le.Z)(Nt)==="object"?Ve+=Gt(Nt,qe):Ve+=Nt}),qe&&(Ve=fe(Ve)),ln.set(ye,Ve)),Ve}function Bt(ye,qe){return fe("".concat(qe,"_").concat(Gt(ye,!0)))}var Nn="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Pt="_bAmBoO_";function rn(ye,qe,Ve){if((0,bt.Z)()){var ht,Nt;(0,ee.hq)(ye,Nn);var Fn=document.createElement("div");Fn.style.position="fixed",Fn.style.left="0",Fn.style.top="0",qe==null||qe(Fn),document.body.appendChild(Fn);var ai=Ve?Ve(Fn):(ht=getComputedStyle(Fn).content)===null||ht===void 0?void 0:ht.includes(Pt);return(Nt=Fn.parentNode)===null||Nt===void 0||Nt.removeChild(Fn),(0,ee.jL)(Nn),ai}return!1}var cn=null;function zi(){return cn===void 0&&(cn=rn("@layer ".concat(Nn," { .").concat(Nn,' { content: "').concat(Pt,'"!important; } }'),function(ye){ye.className=Nn})),cn}var Mi=void 0;function as(){return Mi===void 0&&(Mi=rn(":where(.".concat(Nn,') { content: "').concat(Pt,'"!important; }'),function(ye){ye.className=Nn})),Mi}var dn=void 0;function Rr(){return dn===void 0&&(dn=rn(".".concat(Nn," { inset-block: 93px !important; }"),function(ye){ye.className=Nn},function(ye){return getComputedStyle(ye).bottom==="93px"})),dn}var is=(0,bt.Z)();function mr(ye){return typeof ye=="number"?"".concat(ye,"px"):ye}function bi(ye,qe,Ve){var ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Nt)return ye;var Fn=(0,de.Z)((0,de.Z)({},ht),{},(0,u.Z)((0,u.Z)({},Ce,qe),at,Ve)),ai=Object.keys(Fn).map(function(xi){var hi=Fn[xi];return hi?"".concat(xi,'="').concat(hi,'"'):null}).filter(function(xi){return xi}).join(" ");return"<style ".concat(ai,">").concat(ye,"</style>")}var qn=function(qe){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(Ve?"".concat(Ve,"-"):"").concat(qe).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Fi=function(qe,Ve,ht){return Object.keys(qe).length?".".concat(Ve).concat(ht!=null&&ht.scope?".".concat(ht.scope):"","{").concat(Object.entries(qe).map(function(Nt){var Fn=(0,q.Z)(Nt,2),ai=Fn[0],xi=Fn[1];return"".concat(ai,":").concat(xi,";")}).join(""),"}"):""},pn=function(qe,Ve,ht){var Nt={},Fn={};return Object.entries(qe).forEach(function(ai){var xi,hi,Xi=(0,q.Z)(ai,2),Pi=Xi[0],jn=Xi[1];if(ht!=null&&(xi=ht.preserve)!==null&&xi!==void 0&&xi[Pi])Fn[Pi]=jn;else if((typeof jn=="string"||typeof jn=="number")&&!(ht!=null&&(hi=ht.ignore)!==null&&hi!==void 0&&hi[Pi])){var Ji,Zt=qn(Pi,ht==null?void 0:ht.prefix);Nt[Zt]=typeof jn=="number"&&!(ht!=null&&(Ji=ht.unitless)!==null&&Ji!==void 0&&Ji[Pi])?"".concat(jn,"px"):String(jn),Fn[Pi]="var(".concat(Zt,")")}}),[Fn,Fi(Nt,Ve,{scope:ht==null?void 0:ht.scope})]},it=I(40570),Vs=(0,de.Z)({},j),nr=Vs.useInsertionEffect,zr=function(qe,Ve,ht){X.useMemo(qe,ht),(0,it.Z)(function(){return Ve(!0)},ht)},kr=nr?function(ye,qe,Ve){return nr(function(){return ye(),qe()},Ve)}:zr,Hn=kr,ce=(0,de.Z)({},j),Qt=ce.useInsertionEffect,gn=function(qe){var Ve=[],ht=!1;function Nt(Fn){ht||Ve.push(Fn)}return X.useEffect(function(){return ht=!1,function(){ht=!0,Ve.length&&Ve.forEach(function(Fn){return Fn()})}},qe),Nt},Ft=function(){return function(qe){qe()}},on=typeof Qt!="undefined"?gn:Ft,Cn=on;function Or(){return!1}var ds=!1;function io(){return ds}var $r=Or;if(0)var fr,ir;function _r(ye,qe,Ve,ht,Nt){var Fn=X.useContext(Ie),ai=Fn.cache,xi=[ye].concat((0,$.Z)(qe)),hi=xe(xi),Xi=Cn([hi]),Pi=$r(),jn=function(ge){ai.opUpdate(hi,function(Xe){var yt=Xe||[void 0,void 0],_t=(0,q.Z)(yt,2),$t=_t[0],In=$t===void 0?0:$t,Wn=_t[1],Xn=Wn,kn=Xn||Ve(),Zi=[In,kn];return ge?ge(Zi):Zi})};X.useMemo(function(){jn()},[hi]);var Ji=ai.opGet(hi),Zt=Ji[1];return Hn(function(){Nt==null||Nt(Zt)},function(Wi){return jn(function(ge){var Xe=(0,q.Z)(ge,2),yt=Xe[0],_t=Xe[1];return Wi&&yt===0&&(Nt==null||Nt(Zt)),[yt+1,_t]}),function(){ai.opUpdate(hi,function(ge){var Xe=ge||[],yt=(0,q.Z)(Xe,2),_t=yt[0],$t=_t===void 0?0:_t,In=yt[1],Wn=$t-1;return Wn===0?(Xi(function(){(Wi||!ai.opGet(hi))&&(ht==null||ht(In,!1))}),null):[$t-1,In]})}},[hi]),Zt}var hs={},dt="css",vt=new Map;function Ut(ye){vt.set(ye,(vt.get(ye)||0)+1)}function ti(ye,qe){if(typeof document!="undefined"){var Ve=document.querySelectorAll("style[".concat(Ce,'="').concat(ye,'"]'));Ve.forEach(function(ht){if(ht[we]===qe){var Nt;(Nt=ht.parentNode)===null||Nt===void 0||Nt.removeChild(ht)}})}}var Si=0;function Li(ye,qe){vt.set(ye,(vt.get(ye)||0)-1);var Ve=Array.from(vt.keys()),ht=Ve.filter(function(Nt){var Fn=vt.get(Nt)||0;return Fn<=0});Ve.length-ht.length>Si&&ht.forEach(function(Nt){ti(Nt,qe),vt.delete(Nt)})}var Ds=function(qe,Ve,ht,Nt){var Fn=ht.getDerivativeToken(qe),ai=(0,de.Z)((0,de.Z)({},Fn),Ve);return Nt&&(ai=Nt(ai)),ai},Sr="token";function Ls(ye,qe){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=(0,X.useContext)(Ie),Nt=ht.cache.instanceId,Fn=ht.container,ai=Ve.salt,xi=ai===void 0?"":ai,hi=Ve.override,Xi=hi===void 0?hs:hi,Pi=Ve.formatToken,jn=Ve.getComputedToken,Ji=Ve.cssVar,Zt=Kn(function(){return Object.assign.apply(Object,[{}].concat((0,$.Z)(qe)))},qe),Wi=Gt(Zt),ge=Gt(Xi),Xe=Ji?Gt(Ji):"",yt=_r(Sr,[xi,ye.id,Wi,ge,Xe],function(){var _t,$t=jn?jn(Zt,Xi,ye):Ds(Zt,Xi,ye,Pi),In=(0,de.Z)({},$t),Wn="";if(Ji){var Xn=pn($t,Ji.key,{prefix:Ji.prefix,ignore:Ji.ignore,unitless:Ji.unitless,preserve:Ji.preserve}),kn=(0,q.Z)(Xn,2);$t=kn[0],Wn=kn[1]}var Zi=Bt($t,xi);$t._tokenKey=Zi,In._tokenKey=Bt(In,xi);var Nr=(_t=Ji==null?void 0:Ji.key)!==null&&_t!==void 0?_t:Zi;$t._themeKey=Nr,Ut(Nr);var Ar="".concat(dt,"-").concat(fe(Zi));return $t._hashId=Ar,[$t,Ar,In,Wn,(Ji==null?void 0:Ji.key)||""]},function(_t){Li(_t[0]._themeKey,Nt)},function(_t){var $t=(0,q.Z)(_t,4),In=$t[0],Wn=$t[3];if(Ji&&Wn){var Xn=(0,ee.hq)(Wn,fe("css-variables-".concat(In._themeKey)),{mark:at,prepend:"queue",attachTo:Fn,priority:-999});Xn[we]=Nt,Xn.setAttribute(Ce,In._themeKey)}});return yt}var Us=function(qe,Ve,ht){var Nt=(0,q.Z)(qe,5),Fn=Nt[2],ai=Nt[3],xi=Nt[4],hi=ht||{},Xi=hi.plain;if(!ai)return null;var Pi=Fn._tokenKey,jn=-999,Ji={"data-rc-order":"prependQueue","data-rc-priority":"".concat(jn)},Zt=bi(ai,xi,Pi,Ji,Xi);return[jn,Pi,Zt]},As=I(89856),yo={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ss=yo,wo="-ms-",Mo="-moz-",It="-webkit-",Rn="comm",zn="rule",an="decl",Vn="@page",Dn="@media",ri="@import",Ni="@charset",Hr="@viewport",pr="@supports",Ir="@document",vr="@namespace",zs="@keyframes",so="@font-face",Xr="@counter-style",Ws="@font-feature-values",jo="@layer",Js="@scope",Qs=Math.abs,_i=String.fromCharCode,eo=Object.assign;function js(ye,qe){return qr(ye,0)^45?(((qe<<2^qr(ye,0))<<2^qr(ye,1))<<2^qr(ye,2))<<2^qr(ye,3):0}function Ps(ye){return ye.trim()}function Vr(ye,qe){return(ye=qe.exec(ye))?ye[0]:ye}function Wr(ye,qe,Ve){return ye.replace(qe,Ve)}function Hi(ye,qe,Ve){return ye.indexOf(qe,Ve)}function qr(ye,qe){return ye.charCodeAt(qe)|0}function Jr(ye,qe,Ve){return ye.slice(qe,Ve)}function gr(ye){return ye.length}function oo(ye){return ye.length}function Yi(ye,qe){return qe.push(ye),ye}function to(ye,qe){return ye.map(qe).join("")}function Ho(ye,qe){return ye.filter(function(Ve){return!Vr(Ve,qe)})}function Ns(ye,qe){for(var Ve="",ht=0;ht<ye.length;ht++)Ve+=qe(ye[ht],ht,ye,qe)||"";return Ve}function Zo(ye,qe,Ve,ht){switch(ye.type){case jo:if(ye.children.length)break;case ri:case an:return ye.return=ye.return||ye.value;case Rn:return"";case zs:return ye.return=ye.value+"{"+Ns(ye.children,ht)+"}";case zn:if(!gr(ye.value=ye.props.join(",")))return""}return gr(Ve=Ns(ye.children,ht))?ye.return=ye.value+"{"+Ve+"}":""}var Go=1,ys=1,qi=0,Ui=0,Ei=0,xo="";function Os(ye,qe,Ve,ht,Nt,Fn,ai,xi){return{value:ye,root:qe,parent:Ve,type:ht,props:Nt,children:Fn,line:Go,column:ys,length:ai,return:"",siblings:xi}}function Xo(ye,qe){return assign(Os("",null,null,"",null,null,0,ye.siblings),ye,{length:-ye.length},qe)}function Ks(ye){for(;ye.root;)ye=Xo(ye.root,{children:[ye]});append(ye,ye.siblings)}function Ea(){return Ei}function Ao(){return Ei=Ui>0?qr(xo,--Ui):0,ys--,Ei===10&&(ys=1,Go--),Ei}function bo(){return Ei=Ui<qi?qr(xo,Ui++):0,ys++,Ei===10&&(ys=1,Go++),Ei}function Yo(){return qr(xo,Ui)}function Po(){return Ui}function zo(ye,qe){return Jr(xo,ye,qe)}function Eo(ye){switch(ye){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ma(ye){return Go=ys=1,qi=gr(xo=ye),Ui=0,[]}function uo(ye){return xo="",ye}function Wa(ye){return Ps(zo(Ui-1,ja(ye===91?ye+2:ye===40?ye+1:ye)))}function bl(ye){return uo(Al(ma(ye)))}function ka(ye){for(;(Ei=Yo())&&Ei<33;)bo();return Eo(ye)>2||Eo(Ei)>3?"":" "}function Al(ye){for(;bo();)switch(Eo(Ei)){case 0:append(na(Ui-1),ye);break;case 2:append(Wa(Ei),ye);break;default:append(from(Ei),ye)}return ye}function ic(ye,qe){for(;--qe&&bo()&&!(Ei<48||Ei>102||Ei>57&&Ei<65||Ei>70&&Ei<97););return zo(ye,Po()+(qe<6&&Yo()==32&&bo()==32))}function ja(ye){for(;bo();)switch(Ei){case ye:return Ui;case 34:case 39:ye!==34&&ye!==39&&ja(Ei);break;case 40:ye===41&&ja(ye);break;case 92:bo();break}return Ui}function hl(ye,qe){for(;bo()&&ye+Ei!==57;)if(ye+Ei===84&&Yo()===47)break;return"/*"+zo(qe,Ui-1)+"*"+_i(ye===47?ye:bo())}function na(ye){for(;!Eo(Yo());)bo();return zo(ye,Ui)}function Za(ye){return uo($a("",null,null,null,[""],ye=ma(ye),0,[0],ye))}function $a(ye,qe,Ve,ht,Nt,Fn,ai,xi,hi){for(var Xi=0,Pi=0,jn=ai,Ji=0,Zt=0,Wi=0,ge=1,Xe=1,yt=1,_t=0,$t="",In=Nt,Wn=Fn,Xn=ht,kn=$t;Xe;)switch(Wi=_t,_t=bo()){case 40:if(Wi!=108&&qr(kn,jn-1)==58){Hi(kn+=Wr(Wa(_t),"&","&\f"),"&\f",Qs(Xi?xi[Xi-1]:0))!=-1&&(yt=-1);break}case 34:case 39:case 91:kn+=Wa(_t);break;case 9:case 10:case 13:case 32:kn+=ka(Wi);break;case 92:kn+=ic(Po()-1,7);continue;case 47:switch(Yo()){case 42:case 47:Yi(Ze(hl(bo(),Po()),qe,Ve,hi),hi);break;default:kn+="/"}break;case 123*ge:xi[Xi++]=gr(kn)*yt;case 125*ge:case 59:case 0:switch(_t){case 0:case 125:Xe=0;case 59+Pi:yt==-1&&(kn=Wr(kn,/\f/g,"")),Zt>0&&gr(kn)-jn&&Yi(Zt>32?te(kn+";",ht,Ve,jn-1,hi):te(Wr(kn," ","")+";",ht,Ve,jn-2,hi),hi);break;case 59:kn+=";";default:if(Yi(Xn=Pl(kn,qe,Ve,Xi,Pi,Nt,xi,$t,In=[],Wn=[],jn,Fn),Fn),_t===123)if(Pi===0)$a(kn,qe,Xn,Xn,In,Fn,jn,xi,Wn);else switch(Ji===99&&qr(kn,3)===110?100:Ji){case 100:case 108:case 109:case 115:$a(ye,Xn,Xn,ht&&Yi(Pl(ye,Xn,Xn,0,0,Nt,xi,$t,Nt,In=[],jn,Wn),Wn),Nt,Wn,jn,xi,ht?In:Wn);break;default:$a(kn,Xn,Xn,Xn,[""],Wn,0,xi,Wn)}}Xi=Pi=Zt=0,ge=yt=1,$t=kn="",jn=ai;break;case 58:jn=1+gr(kn),Zt=Wi;default:if(ge<1){if(_t==123)--ge;else if(_t==125&&ge++==0&&Ao()==125)continue}switch(kn+=_i(_t),_t*ge){case 38:yt=Pi>0?1:(kn+="\f",-1);break;case 44:xi[Xi++]=(gr(kn)-1)*yt,yt=1;break;case 64:Yo()===45&&(kn+=Wa(bo())),Ji=Yo(),Pi=jn=gr($t=kn+=na(Po())),_t++;break;case 45:Wi===45&&gr(kn)==2&&(ge=0)}}return Fn}function Pl(ye,qe,Ve,ht,Nt,Fn,ai,xi,hi,Xi,Pi,jn){for(var Ji=Nt-1,Zt=Nt===0?Fn:[""],Wi=oo(Zt),ge=0,Xe=0,yt=0;ge<ht;++ge)for(var _t=0,$t=Jr(ye,Ji+1,Ji=Qs(Xe=ai[ge])),In=ye;_t<Wi;++_t)(In=Ps(Xe>0?Zt[_t]+" "+$t:Wr($t,/&\f/g,Zt[_t])))&&(hi[yt++]=In);return Os(ye,qe,Ve,Nt===0?zn:xi,hi,Xi,Pi,jn)}function Ze(ye,qe,Ve,ht){return Os(ye,qe,Ve,Rn,_i(Ea()),Jr(ye,2,-2),0,ht)}function te(ye,qe,Ve,ht,Nt){return Os(ye,qe,Ve,an,Jr(ye,0,ht),Jr(ye,ht+1,-1),ht,Nt)}function H(ye,qe){var Ve=qe.path,ht=qe.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(Ve?"Error in ".concat(Ve,": "):"").concat(ye).concat(ht.length?" Selector: ".concat(ht.join(" | ")):""))}var le=function(qe,Ve,ht){if(qe==="content"){var Nt=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,Fn=["normal","none","initial","inherit","unset"];(typeof Ve!="string"||Fn.indexOf(Ve)===-1&&!Nt.test(Ve)&&(Ve.charAt(0)!==Ve.charAt(Ve.length-1)||Ve.charAt(0)!=='"'&&Ve.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(Ve,"\"'`."),ht)}},ie=null,$e=function(qe,Ve,ht){qe==="animation"&&ht.hashId&&Ve!=="none"&&lintWarning("You seem to be using hashed animation '".concat(Ve,"', in which case 'animationName' with Keyframe as value is recommended."),ht)},Fe=null;function zt(ye){var qe,Ve=((qe=ye.match(/:not\(([^)]*)\)/))===null||qe===void 0?void 0:qe[1])||"",ht=Ve.split(/(\[[^[]*])|(?=[.#])/).filter(function(Nt){return Nt});return ht.length>1}function sn(ye){return ye.parentSelectors.reduce(function(qe,Ve){return qe?Ve.includes("&")?Ve.replace(/&/g,qe):"".concat(qe," ").concat(Ve):Ve},"")}var On=function(qe,Ve,ht){var Nt=sn(ht),Fn=Nt.match(/:not\([^)]*\)/g)||[];Fn.length>0&&Fn.some(zt)&&lintWarning("Concat ':not' selector not support in legacy browsers.",ht)},Yt=null,g=function(qe,Ve,ht){switch(qe){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(qe,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ht);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof Ve=="string"){var Nt=Ve.split(" ").map(function(xi){return xi.trim()});Nt.length===4&&Nt[1]!==Nt[3]&&lintWarning("You seem to be using '".concat(qe,"' property with different left ").concat(qe," and right ").concat(qe,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ht)}return;case"clear":case"textAlign":(Ve==="left"||Ve==="right")&&lintWarning("You seem to be using non-logical value '".concat(Ve,"' of ").concat(qe,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ht);return;case"borderRadius":if(typeof Ve=="string"){var Fn=Ve.split("/").map(function(xi){return xi.trim()}),ai=Fn.reduce(function(xi,hi){if(xi)return xi;var Xi=hi.split(" ").map(function(Pi){return Pi.trim()});return Xi.length>=2&&Xi[0]!==Xi[1]||Xi.length===3&&Xi[1]!==Xi[2]||Xi.length===4&&Xi[2]!==Xi[3]?!0:xi},!1);ai&&lintWarning("You seem to be using non-logical value '".concat(Ve,"' of ").concat(qe,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),ht)}return;default:}},b=null,T=function(qe,Ve,ht){(typeof Ve=="string"&&/NaN/g.test(Ve)||Number.isNaN(Ve))&&lintWarning("Unexpected 'NaN' in property '".concat(qe,": ").concat(Ve,"'."),ht)},D=null,k=function(qe,Ve,ht){ht.parentSelectors.some(function(Nt){var Fn=Nt.split(",");return Fn.some(function(ai){return ai.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",ht)},z=null,J="data-ant-cssinjs-cache-path",_e="_FILE_STYLE__";function Me(ye){return Object.keys(ye).map(function(qe){var Ve=ye[qe];return"".concat(qe,":").concat(Ve)}).join(";")}var He,Dt=!0;function tn(ye){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;He=ye,Dt=qe}function Et(){if(!He&&(He={},(0,bt.Z)())){var ye=document.createElement("div");ye.className=J,ye.style.position="fixed",ye.style.visibility="hidden",ye.style.top="-9999px",document.body.appendChild(ye);var qe=getComputedStyle(ye).content||"";qe=qe.replace(/^"/,"").replace(/"$/,""),qe.split(";").forEach(function(Nt){var Fn=Nt.split(":"),ai=(0,q.Z)(Fn,2),xi=ai[0],hi=ai[1];He[xi]=hi});var Ve=document.querySelector("style[".concat(J,"]"));if(Ve){var ht;Dt=!1,(ht=Ve.parentNode)===null||ht===void 0||ht.removeChild(Ve)}document.body.removeChild(ye)}}function yn(ye){return Et(),!!He[ye]}function ni(ye){var qe=He[ye],Ve=null;if(qe&&(0,bt.Z)())if(Dt)Ve=_e;else{var ht=document.querySelector("style[".concat(at,'="').concat(He[ye],'"]'));ht?Ve=ht.innerHTML:delete He[ye]}return[Ve,qe]}var ji="_skip_check_",rr="_multi_value_";function Cs(ye){var qe=Ns(Za(ye),Zo);return qe.replace(/\{%%%\:[^;];}/g,";")}function _s(ye){return(0,Le.Z)(ye)==="object"&&ye&&(ji in ye||rr in ye)}function go(ye,qe,Ve){if(!qe)return ye;var ht=".".concat(qe),Nt=Ve==="low"?":where(".concat(ht,")"):ht,Fn=ye.split(",").map(function(ai){var xi,hi=ai.trim().split(/\s+/),Xi=hi[0]||"",Pi=((xi=Xi.match(/^\w+/))===null||xi===void 0?void 0:xi[0])||"";return Xi="".concat(Pi).concat(Nt).concat(Xi.slice(Pi.length)),[Xi].concat((0,$.Z)(hi.slice(1))).join(" ")});return Fn.join(",")}var Da=function ye(qe){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},Nt=ht.root,Fn=ht.injectHash,ai=ht.parentSelectors,xi=Ve.hashId,hi=Ve.layer,Xi=Ve.path,Pi=Ve.hashPriority,jn=Ve.transformers,Ji=jn===void 0?[]:jn,Zt=Ve.linters,Wi=Zt===void 0?[]:Zt,ge="",Xe={};function yt(In){var Wn=In.getName(xi);if(!Xe[Wn]){var Xn=ye(In.style,Ve,{root:!1,parentSelectors:ai}),kn=(0,q.Z)(Xn,1),Zi=kn[0];Xe[Wn]="@keyframes ".concat(In.getName(xi)).concat(Zi)}}function _t(In){var Wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return In.forEach(function(Xn){Array.isArray(Xn)?_t(Xn,Wn):Xn&&Wn.push(Xn)}),Wn}var $t=_t(Array.isArray(qe)?qe:[qe]);return $t.forEach(function(In){var Wn=typeof In=="string"&&!Nt?{}:In;if(typeof Wn=="string")ge+="".concat(Wn,`
`);else if(Wn._keyframe)yt(Wn);else{var Xn=Ji.reduce(function(kn,Zi){var Nr;return(Zi==null||(Nr=Zi.visit)===null||Nr===void 0?void 0:Nr.call(Zi,kn))||kn},Wn);Object.keys(Xn).forEach(function(kn){var Zi=Xn[kn];if((0,Le.Z)(Zi)==="object"&&Zi&&(kn!=="animationName"||!Zi._keyframe)&&!_s(Zi)){var Nr=!1,Ar=kn.trim(),mo=!1;(Nt||Fn)&&xi?Ar.startsWith("@")?Nr=!0:Ar=go(kn,xi,Pi):Nt&&!xi&&(Ar==="&"||Ar==="")&&(Ar="",mo=!0);var Ri=ye(Zi,Ve,{root:mo,injectHash:Nr,parentSelectors:[].concat((0,$.Z)(ai),[Ar])}),Qr=(0,q.Z)(Ri,2),Ko=Qr[0],da=Qr[1];Xe=(0,de.Z)((0,de.Z)({},Xe),da),ge+="".concat(Ar).concat(Ko)}else{let Qa=function(sa,rc){var el=sa.replace(/[A-Z]/g,function(nu){return"-".concat(nu.toLowerCase())}),ao=rc;!Ss[sa]&&typeof ao=="number"&&ao!==0&&(ao="".concat(ao,"px")),sa==="animationName"&&rc!==null&&rc!==void 0&&rc._keyframe&&(yt(rc),ao=rc.getName(xi)),ge+="".concat(el,":").concat(ao,";")};var Fa,fl=(Fa=Zi==null?void 0:Zi.value)!==null&&Fa!==void 0?Fa:Zi;(0,Le.Z)(Zi)==="object"&&Zi!==null&&Zi!==void 0&&Zi[rr]&&Array.isArray(fl)?fl.forEach(function(sa){Qa(kn,sa)}):Qa(kn,fl)}})}}),Nt?hi&&(ge="@layer ".concat(hi.name," {").concat(ge,"}"),hi.dependencies&&(Xe["@layer ".concat(hi.name)]=hi.dependencies.map(function(In){return"@layer ".concat(In,", ").concat(hi.name,";")}).join(`
`))):ge="{".concat(ge,"}"),[ge,Xe]};function Yr(ye,qe){return fe("".concat(ye.join("%")).concat(qe))}function ra(){return null}var Lo="style";function Y(ye,qe){var Ve=ye.token,ht=ye.path,Nt=ye.hashId,Fn=ye.layer,ai=ye.nonce,xi=ye.clientOnly,hi=ye.order,Xi=hi===void 0?0:hi,Pi=X.useContext(Ie),jn=Pi.autoClear,Ji=Pi.mock,Zt=Pi.defaultCache,Wi=Pi.hashPriority,ge=Pi.container,Xe=Pi.ssrInline,yt=Pi.transformers,_t=Pi.linters,$t=Pi.cache,In=Pi.layer,Wn=Ve._tokenKey,Xn=[Wn];In&&Xn.push("layer"),Xn.push.apply(Xn,(0,$.Z)(ht));var kn=is,Zi=_r(Lo,Xn,function(){var Qr=Xn.join("|");if(yn(Qr)){var Ko=ni(Qr),da=(0,q.Z)(Ko,2),Fa=da[0],fl=da[1];if(Fa)return[Fa,Wn,fl,{},xi,Xi]}var Qa=qe(),sa=Da(Qa,{hashId:Nt,hashPriority:Wi,layer:In?Fn:void 0,path:ht.join("-"),transformers:yt,linters:_t}),rc=(0,q.Z)(sa,2),el=rc[0],ao=rc[1],nu=Cs(el),Sl=Yr(Xn,nu);return[nu,Wn,Sl,ao,xi,Xi]},function(Qr,Ko){var da=(0,q.Z)(Qr,3),Fa=da[2];(Ko||jn)&&is&&(0,ee.jL)(Fa,{mark:at})},function(Qr){var Ko=(0,q.Z)(Qr,4),da=Ko[0],Fa=Ko[1],fl=Ko[2],Qa=Ko[3];if(kn&&da!==_e){var sa={mark:at,prepend:In?!1:"queue",attachTo:ge,priority:Xi},rc=typeof ai=="function"?ai():ai;rc&&(sa.csp={nonce:rc});var el=[],ao=[];Object.keys(Qa).forEach(function(Sl){Sl.startsWith("@layer")?el.push(Sl):ao.push(Sl)}),el.forEach(function(Sl){(0,ee.hq)(Cs(Qa[Sl]),"_layer-".concat(Sl),(0,de.Z)((0,de.Z)({},sa),{},{prepend:!0}))});var nu=(0,ee.hq)(da,fl,sa);nu[we]=$t.instanceId,nu.setAttribute(Ce,Wn),ao.forEach(function(Sl){(0,ee.hq)(Cs(Qa[Sl]),"_effect-".concat(Sl),sa)})}}),Nr=(0,q.Z)(Zi,3),Ar=Nr[0],mo=Nr[1],Ri=Nr[2];return function(Qr){var Ko;return!Xe||kn||!Zt?Ko=X.createElement(ra,null):Ko=X.createElement("style",(0,As.Z)({},(0,u.Z)((0,u.Z)({},Ce,mo),at,Ri),{dangerouslySetInnerHTML:{__html:Ar}})),X.createElement(X.Fragment,null,Ko,Qr)}}var Pe=function(qe,Ve,ht){var Nt=(0,q.Z)(qe,6),Fn=Nt[0],ai=Nt[1],xi=Nt[2],hi=Nt[3],Xi=Nt[4],Pi=Nt[5],jn=ht||{},Ji=jn.plain;if(Xi)return null;var Zt=Fn,Wi={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Pi)};return Zt=bi(Fn,ai,xi,Wi,Ji),hi&&Object.keys(hi).forEach(function(ge){if(!Ve[ge]){Ve[ge]=!0;var Xe=Cs(hi[ge]),yt=bi(Xe,ai,"_effect-".concat(ge),Wi,Ji);ge.startsWith("@layer")?Zt=yt+Zt:Zt+=yt}}),[Pi,xi,Zt]},Tt="cssVar",Mt=function(qe,Ve){var ht=qe.key,Nt=qe.prefix,Fn=qe.unitless,ai=qe.ignore,xi=qe.token,hi=qe.scope,Xi=hi===void 0?"":hi,Pi=(0,X.useContext)(Ie),jn=Pi.cache.instanceId,Ji=Pi.container,Zt=xi._tokenKey,Wi=[].concat((0,$.Z)(qe.path),[ht,Xi,Zt]),ge=_r(Tt,Wi,function(){var Xe=Ve(),yt=pn(Xe,ht,{prefix:Nt,unitless:Fn,ignore:ai,scope:Xi}),_t=(0,q.Z)(yt,2),$t=_t[0],In=_t[1],Wn=Yr(Wi,In);return[$t,In,Wn,ht]},function(Xe){var yt=(0,q.Z)(Xe,3),_t=yt[2];is&&(0,ee.jL)(_t,{mark:at})},function(Xe){var yt=(0,q.Z)(Xe,3),_t=yt[1],$t=yt[2];if(_t){var In=(0,ee.hq)(_t,$t,{mark:at,prepend:"queue",attachTo:Ji,priority:-999});In[we]=jn,In.setAttribute(Ce,ht)}});return ge},Kt=function(qe,Ve,ht){var Nt=(0,q.Z)(qe,4),Fn=Nt[1],ai=Nt[2],xi=Nt[3],hi=ht||{},Xi=hi.plain;if(!Fn)return null;var Pi=-999,jn={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Pi)},Ji=bi(Fn,xi,ai,jn,Xi);return[Pi,ai,Ji]},nn=Mt,si=(0,u.Z)((0,u.Z)((0,u.Z)({},Lo,Pe),Sr,Us),Tt,Kt);function Qn(ye){return ye!==null}function hn(ye,qe){var Ve=typeof qe=="boolean"?{plain:qe}:qe||{},ht=Ve.plain,Nt=ht===void 0?!1:ht,Fn=Ve.types,ai=Fn===void 0?["style","token","cssVar"]:Fn,xi=new RegExp("^(".concat((typeof ai=="string"?[ai]:ai).join("|"),")%")),hi=Array.from(ye.cache.keys()).filter(function(Ji){return xi.test(Ji)}),Xi={},Pi={},jn="";return hi.map(function(Ji){var Zt=Ji.replace(xi,"").replace(/%/g,"|"),Wi=Ji.split("%"),ge=_slicedToArray(Wi,1),Xe=ge[0],yt=si[Xe],_t=yt(ye.cache.get(Ji)[1],Xi,{plain:Nt});if(!_t)return null;var $t=_slicedToArray(_t,3),In=$t[0],Wn=$t[1],Xn=$t[2];return Ji.startsWith("style")&&(Pi[Zt]=Wn),[In,Xn]}).filter(Qn).sort(function(Ji,Zt){var Wi=_slicedToArray(Ji,1),ge=Wi[0],Xe=_slicedToArray(Zt,1),yt=Xe[0];return ge-yt}).forEach(function(Ji){var Zt=_slicedToArray(Ji,2),Wi=Zt[1];jn+=Wi}),jn+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(Pi),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),Nt),jn}var Vi=function(){function ye(qe,Ve){(0,st.Z)(this,ye),(0,u.Z)(this,"name",void 0),(0,u.Z)(this,"style",void 0),(0,u.Z)(this,"_keyframe",!0),this.name=qe,this.style=Ve}return(0,oe.Z)(ye,[{key:"getName",value:function(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ve?"".concat(Ve,"-").concat(this.name):this.name}}]),ye}(),oi=Vi;function Gi(ye){if(typeof ye=="number")return[[ye],!1];var qe=String(ye).trim(),Ve=qe.match(/(.*)(!important)/),ht=(Ve?Ve[1]:qe).trim().split(/\s+/),Nt=[],Fn=0;return[ht.reduce(function(ai,xi){if(xi.includes("(")||xi.includes(")")){var hi=xi.split("(").length-1,Xi=xi.split(")").length-1;Fn+=hi-Xi}return Fn>=0&&Nt.push(xi),Fn===0&&(ai.push(Nt.join(" ")),Nt=[]),ai},[]),!!Ve]}function Ki(ye){return ye.notSplit=!0,ye}var sr={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:Ki(["borderTop","borderBottom"]),borderBlockStart:Ki(["borderTop"]),borderBlockEnd:Ki(["borderBottom"]),borderInline:Ki(["borderLeft","borderRight"]),borderInlineStart:Ki(["borderLeft"]),borderInlineEnd:Ki(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function Is(ye,qe){var Ve=ye;return qe&&(Ve="".concat(Ve," !important")),{_skip_check_:!0,value:Ve}}var mi={visit:function(qe){var Ve={};return Object.keys(qe).forEach(function(ht){var Nt=qe[ht],Fn=sr[ht];if(Fn&&(typeof Nt=="number"||typeof Nt=="string")){var ai=Gi(Nt),xi=(0,q.Z)(ai,2),hi=xi[0],Xi=xi[1];Fn.length&&Fn.notSplit?Fn.forEach(function(Pi){Ve[Pi]=Is(Nt,Xi)}):Fn.length===1?Ve[Fn[0]]=Is(hi[0],Xi):Fn.length===2?Fn.forEach(function(Pi,jn){var Ji;Ve[Pi]=Is((Ji=hi[jn])!==null&&Ji!==void 0?Ji:hi[0],Xi)}):Fn.length===4?Fn.forEach(function(Pi,jn){var Ji,Zt;Ve[Pi]=Is((Ji=(Zt=hi[jn])!==null&&Zt!==void 0?Zt:hi[jn-2])!==null&&Ji!==void 0?Ji:hi[0],Xi)}):Ve[ht]=Nt}else Ve[ht]=Nt}),Ve}},ho=null,jr=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function yr(ye,qe){var Ve=Math.pow(10,qe+1),ht=Math.floor(ye*Ve);return Math.round(ht/10)*10/Ve}var So=function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ve=qe.rootValue,ht=Ve===void 0?16:Ve,Nt=qe.precision,Fn=Nt===void 0?5:Nt,ai=qe.mediaQuery,xi=ai===void 0?!1:ai,hi=function(jn,Ji){if(!Ji)return jn;var Zt=parseFloat(Ji);if(Zt<=1)return jn;var Wi=yr(Zt/ht,Fn);return"".concat(Wi,"rem")},Xi=function(jn){var Ji=_objectSpread({},jn);return Object.entries(jn).forEach(function(Zt){var Wi=_slicedToArray(Zt,2),ge=Wi[0],Xe=Wi[1];if(typeof Xe=="string"&&Xe.includes("px")){var yt=Xe.replace(jr,hi);Ji[ge]=yt}!unitless[ge]&&typeof Xe=="number"&&Xe!==0&&(Ji[ge]="".concat(Xe,"px").replace(jr,hi));var _t=ge.trim();if(_t.startsWith("@")&&_t.includes("px")&&xi){var $t=ge.replace(jr,hi);Ji[$t]=Ji[ge],delete Ji[ge]}}),Ji};return{visit:Xi}},Vo=null,_a={supportModernCSS:function(){return as()&&Rr()}}},77276:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return ut}});var u=I(89856),q=I(97171),$=I(30985),de=I(58424),Qe=I(75271),fe=I(82187),ee=I.n(fe),X=I(75875),j=I(45211),he=I(88598),ft=I(63194),st=I(61984),oe=I(18742),ct=I(7432);function xe(Ge){return Ge.replace(/-(.)/g,function(ot,mt){return mt.toUpperCase()})}function ne(Ge,ot){(0,ct.ZP)(Ge,"[@ant-design/icons] ".concat(ot))}function Be(Ge){return(0,ft.Z)(Ge)==="object"&&typeof Ge.name=="string"&&typeof Ge.theme=="string"&&((0,ft.Z)(Ge.icon)==="object"||typeof Ge.icon=="function")}function Oe(){var Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Ge).reduce(function(ot,mt){var kt=Ge[mt];switch(mt){case"class":ot.className=kt,delete ot.class;break;default:delete ot[mt],ot[xe(mt)]=kt}return ot},{})}function Ce(Ge,ot,mt){return mt?Qe.createElement(Ge.tag,(0,he.Z)((0,he.Z)({key:ot},Oe(Ge.attrs)),mt),(Ge.children||[]).map(function(kt,qt){return Ce(kt,"".concat(ot,"-").concat(Ge.tag,"-").concat(qt))})):Qe.createElement(Ge.tag,(0,he.Z)({key:ot},Oe(Ge.attrs)),(Ge.children||[]).map(function(kt,qt){return Ce(kt,"".concat(ot,"-").concat(Ge.tag,"-").concat(qt))}))}function at(Ge){return(0,X.R_)(Ge)[0]}function re(Ge){return Ge?Array.isArray(Ge)?Ge:[Ge]:[]}var we={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Ue=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,E=function(ot){var mt=(0,Qe.useContext)(j.Z),kt=mt.csp,qt=mt.prefixCls,Yn=Ue;qt&&(Yn=Yn.replace(/anticon/g,qt)),(0,Qe.useEffect)(function(){var _n=ot.current,Lt=(0,oe.A)(_n);(0,st.hq)(Yn,"@ant-design-icons",{prepend:!0,csp:kt,attachTo:Lt})},[])},tt=["icon","className","onClick","style","primaryColor","secondaryColor"],Ie={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Le(Ge){var ot=Ge.primaryColor,mt=Ge.secondaryColor;Ie.primaryColor=ot,Ie.secondaryColor=mt||at(ot),Ie.calculated=!!mt}function bt(){return(0,he.Z)({},Ie)}var en=function(ot){var mt=ot.icon,kt=ot.className,qt=ot.onClick,Yn=ot.style,_n=ot.primaryColor,Lt=ot.secondaryColor,Kn=(0,de.Z)(ot,tt),ln=Qe.useRef(),Gt=Ie;if(_n&&(Gt={primaryColor:_n,secondaryColor:Lt||at(_n)}),E(ln),ne(Be(mt),"icon should be icon definiton, but got ".concat(mt)),!Be(mt))return null;var Bt=mt;return Bt&&typeof Bt.icon=="function"&&(Bt=(0,he.Z)((0,he.Z)({},Bt),{},{icon:Bt.icon(Gt.primaryColor,Gt.secondaryColor)})),Ce(Bt.icon,"svg-".concat(Bt.name),(0,he.Z)((0,he.Z)({className:kt,onClick:qt,style:Yn,"data-icon":Bt.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},Kn),{},{ref:ln}))};en.displayName="IconReact",en.getTwoToneColors=bt,en.setTwoToneColors=Le;var lt=en;function Ht(Ge){var ot=re(Ge),mt=(0,q.Z)(ot,2),kt=mt[0],qt=mt[1];return lt.setTwoToneColors({primaryColor:kt,secondaryColor:qt})}function Pn(){var Ge=lt.getTwoToneColors();return Ge.calculated?[Ge.primaryColor,Ge.secondaryColor]:Ge.primaryColor}var vi=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ht(X.iN.primary);var Rt=Qe.forwardRef(function(Ge,ot){var mt=Ge.className,kt=Ge.icon,qt=Ge.spin,Yn=Ge.rotate,_n=Ge.tabIndex,Lt=Ge.onClick,Kn=Ge.twoToneColor,ln=(0,de.Z)(Ge,vi),Gt=Qe.useContext(j.Z),Bt=Gt.prefixCls,Nn=Bt===void 0?"anticon":Bt,Pt=Gt.rootClassName,rn=ee()(Pt,Nn,(0,$.Z)((0,$.Z)({},"".concat(Nn,"-").concat(kt.name),!!kt.name),"".concat(Nn,"-spin"),!!qt||kt.name==="loading"),mt),cn=_n;cn===void 0&&Lt&&(cn=-1);var zi=Yn?{msTransform:"rotate(".concat(Yn,"deg)"),transform:"rotate(".concat(Yn,"deg)")}:void 0,Mi=re(Kn),as=(0,q.Z)(Mi,2),dn=as[0],Rr=as[1];return Qe.createElement("span",(0,u.Z)({role:"img","aria-label":kt.name},ln,{ref:ot,tabIndex:cn,onClick:Lt,className:rn}),Qe.createElement(lt,{icon:kt,primaryColor:dn,secondaryColor:Rr,style:zi}))});Rt.displayName="AntdIcon",Rt.getTwoToneColor=Pn,Rt.setTwoToneColor=Ht;var ut=Rt},45211:function(Ci,At,I){"use strict";var u=I(75271),q=(0,u.createContext)({});At.Z=q},74855:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return X}});var u=I(89856),q=I(75271),$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},de=$,Qe=I(77276),fe=function(he,ft){return q.createElement(Qe.Z,(0,u.Z)({},he,{ref:ft,icon:de}))},ee=q.forwardRef(fe),X=ee},56514:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return X}});var u=I(89856),q=I(75271),$={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},de=$,Qe=I(77276),fe=function(he,ft){return q.createElement(Qe.Z,(0,u.Z)({},he,{ref:ft,icon:de}))},ee=q.forwardRef(fe),X=ee},93823:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return X}});var u=I(89856),q=I(75271),$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},de=$,Qe=I(77276),fe=function(he,ft){return q.createElement(Qe.Z,(0,u.Z)({},he,{ref:ft,icon:de}))},ee=q.forwardRef(fe),X=ee},32092:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return X}});var u=I(89856),q=I(75271),$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},de=$,Qe=I(77276),fe=function(he,ft){return q.createElement(Qe.Z,(0,u.Z)({},he,{ref:ft,icon:de}))},ee=q.forwardRef(fe),X=ee},45500:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return X}});var u=I(89856),q=I(75271),$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},de=$,Qe=I(77276),fe=function(he,ft){return q.createElement(Qe.Z,(0,u.Z)({},he,{ref:ft,icon:de}))},ee=q.forwardRef(fe),X=ee},96299:function(Ci,At,I){"use strict";I.d(At,{T6:function(){return st},VD:function(){return oe},WE:function(){return ee},Yt:function(){return ct},lC:function(){return $},py:function(){return fe},rW:function(){return q},s:function(){return j},ve:function(){return Qe},vq:function(){return X}});var u=I(23881);function q(xe,ne,Be){return{r:(0,u.sh)(xe,255)*255,g:(0,u.sh)(ne,255)*255,b:(0,u.sh)(Be,255)*255}}function $(xe,ne,Be){xe=(0,u.sh)(xe,255),ne=(0,u.sh)(ne,255),Be=(0,u.sh)(Be,255);var Oe=Math.max(xe,ne,Be),Ce=Math.min(xe,ne,Be),at=0,re=0,we=(Oe+Ce)/2;if(Oe===Ce)re=0,at=0;else{var Ue=Oe-Ce;switch(re=we>.5?Ue/(2-Oe-Ce):Ue/(Oe+Ce),Oe){case xe:at=(ne-Be)/Ue+(ne<Be?6:0);break;case ne:at=(Be-xe)/Ue+2;break;case Be:at=(xe-ne)/Ue+4;break;default:break}at/=6}return{h:at,s:re,l:we}}function de(xe,ne,Be){return Be<0&&(Be+=1),Be>1&&(Be-=1),Be<1/6?xe+(ne-xe)*(6*Be):Be<1/2?ne:Be<2/3?xe+(ne-xe)*(2/3-Be)*6:xe}function Qe(xe,ne,Be){var Oe,Ce,at;if(xe=(0,u.sh)(xe,360),ne=(0,u.sh)(ne,100),Be=(0,u.sh)(Be,100),ne===0)Ce=Be,at=Be,Oe=Be;else{var re=Be<.5?Be*(1+ne):Be+ne-Be*ne,we=2*Be-re;Oe=de(we,re,xe+1/3),Ce=de(we,re,xe),at=de(we,re,xe-1/3)}return{r:Oe*255,g:Ce*255,b:at*255}}function fe(xe,ne,Be){xe=(0,u.sh)(xe,255),ne=(0,u.sh)(ne,255),Be=(0,u.sh)(Be,255);var Oe=Math.max(xe,ne,Be),Ce=Math.min(xe,ne,Be),at=0,re=Oe,we=Oe-Ce,Ue=Oe===0?0:we/Oe;if(Oe===Ce)at=0;else{switch(Oe){case xe:at=(ne-Be)/we+(ne<Be?6:0);break;case ne:at=(Be-xe)/we+2;break;case Be:at=(xe-ne)/we+4;break;default:break}at/=6}return{h:at,s:Ue,v:re}}function ee(xe,ne,Be){xe=(0,u.sh)(xe,360)*6,ne=(0,u.sh)(ne,100),Be=(0,u.sh)(Be,100);var Oe=Math.floor(xe),Ce=xe-Oe,at=Be*(1-ne),re=Be*(1-Ce*ne),we=Be*(1-(1-Ce)*ne),Ue=Oe%6,E=[Be,re,at,at,we,Be][Ue],tt=[we,Be,Be,re,at,at][Ue],Ie=[at,at,we,Be,Be,re][Ue];return{r:E*255,g:tt*255,b:Ie*255}}function X(xe,ne,Be,Oe){var Ce=[(0,u.FZ)(Math.round(xe).toString(16)),(0,u.FZ)(Math.round(ne).toString(16)),(0,u.FZ)(Math.round(Be).toString(16))];return Oe&&Ce[0].startsWith(Ce[0].charAt(1))&&Ce[1].startsWith(Ce[1].charAt(1))&&Ce[2].startsWith(Ce[2].charAt(1))?Ce[0].charAt(0)+Ce[1].charAt(0)+Ce[2].charAt(0):Ce.join("")}function j(xe,ne,Be,Oe,Ce){var at=[(0,u.FZ)(Math.round(xe).toString(16)),(0,u.FZ)(Math.round(ne).toString(16)),(0,u.FZ)(Math.round(Be).toString(16)),(0,u.FZ)(ft(Oe))];return Ce&&at[0].startsWith(at[0].charAt(1))&&at[1].startsWith(at[1].charAt(1))&&at[2].startsWith(at[2].charAt(1))&&at[3].startsWith(at[3].charAt(1))?at[0].charAt(0)+at[1].charAt(0)+at[2].charAt(0)+at[3].charAt(0):at.join("")}function he(xe,ne,Be,Oe){var Ce=[pad2(ft(Oe)),pad2(Math.round(xe).toString(16)),pad2(Math.round(ne).toString(16)),pad2(Math.round(Be).toString(16))];return Ce.join("")}function ft(xe){return Math.round(parseFloat(xe)*255).toString(16)}function st(xe){return oe(xe)/255}function oe(xe){return parseInt(xe,16)}function ct(xe){return{r:xe>>16,g:(xe&65280)>>8,b:xe&255}}},76367:function(Ci,At,I){"use strict";I.d(At,{R:function(){return u}});var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},28556:function(Ci,At,I){"use strict";I.d(At,{uA:function(){return de}});var u=I(96299),q=I(76367),$=I(23881);function de(oe){var ct={r:0,g:0,b:0},xe=1,ne=null,Be=null,Oe=null,Ce=!1,at=!1;return typeof oe=="string"&&(oe=ft(oe)),typeof oe=="object"&&(st(oe.r)&&st(oe.g)&&st(oe.b)?(ct=(0,u.rW)(oe.r,oe.g,oe.b),Ce=!0,at=String(oe.r).substr(-1)==="%"?"prgb":"rgb"):st(oe.h)&&st(oe.s)&&st(oe.v)?(ne=(0,$.JX)(oe.s),Be=(0,$.JX)(oe.v),ct=(0,u.WE)(oe.h,ne,Be),Ce=!0,at="hsv"):st(oe.h)&&st(oe.s)&&st(oe.l)&&(ne=(0,$.JX)(oe.s),Oe=(0,$.JX)(oe.l),ct=(0,u.ve)(oe.h,ne,Oe),Ce=!0,at="hsl"),Object.prototype.hasOwnProperty.call(oe,"a")&&(xe=oe.a)),xe=(0,$.Yq)(xe),{ok:Ce,format:oe.format||at,r:Math.min(255,Math.max(ct.r,0)),g:Math.min(255,Math.max(ct.g,0)),b:Math.min(255,Math.max(ct.b,0)),a:xe}}var Qe="[-\\+]?\\d+%?",fe="[-\\+]?\\d*\\.\\d+%?",ee="(?:".concat(fe,")|(?:").concat(Qe,")"),X="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),j="[\\s|\\(]+(".concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")[,|\\s]+(").concat(ee,")\\s*\\)?"),he={CSS_UNIT:new RegExp(ee),rgb:new RegExp("rgb"+X),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+X),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+X),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ft(oe){if(oe=oe.trim().toLowerCase(),oe.length===0)return!1;var ct=!1;if(q.R[oe])oe=q.R[oe],ct=!0;else if(oe==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var xe=he.rgb.exec(oe);return xe?{r:xe[1],g:xe[2],b:xe[3]}:(xe=he.rgba.exec(oe),xe?{r:xe[1],g:xe[2],b:xe[3],a:xe[4]}:(xe=he.hsl.exec(oe),xe?{h:xe[1],s:xe[2],l:xe[3]}:(xe=he.hsla.exec(oe),xe?{h:xe[1],s:xe[2],l:xe[3],a:xe[4]}:(xe=he.hsv.exec(oe),xe?{h:xe[1],s:xe[2],v:xe[3]}:(xe=he.hsva.exec(oe),xe?{h:xe[1],s:xe[2],v:xe[3],a:xe[4]}:(xe=he.hex8.exec(oe),xe?{r:(0,u.VD)(xe[1]),g:(0,u.VD)(xe[2]),b:(0,u.VD)(xe[3]),a:(0,u.T6)(xe[4]),format:ct?"name":"hex8"}:(xe=he.hex6.exec(oe),xe?{r:(0,u.VD)(xe[1]),g:(0,u.VD)(xe[2]),b:(0,u.VD)(xe[3]),format:ct?"name":"hex"}:(xe=he.hex4.exec(oe),xe?{r:(0,u.VD)(xe[1]+xe[1]),g:(0,u.VD)(xe[2]+xe[2]),b:(0,u.VD)(xe[3]+xe[3]),a:(0,u.T6)(xe[4]+xe[4]),format:ct?"name":"hex8"}:(xe=he.hex3.exec(oe),xe?{r:(0,u.VD)(xe[1]+xe[1]),g:(0,u.VD)(xe[2]+xe[2]),b:(0,u.VD)(xe[3]+xe[3]),format:ct?"name":"hex"}:!1)))))))))}function st(oe){return!!he.CSS_UNIT.exec(String(oe))}},99978:function(Ci,At,I){"use strict";I.d(At,{C:function(){return Qe}});var u=I(96299),q=I(76367),$=I(28556),de=I(23881),Qe=function(){function ee(X,j){X===void 0&&(X=""),j===void 0&&(j={});var he;if(X instanceof ee)return X;typeof X=="number"&&(X=(0,u.Yt)(X)),this.originalInput=X;var ft=(0,$.uA)(X);this.originalInput=X,this.r=ft.r,this.g=ft.g,this.b=ft.b,this.a=ft.a,this.roundA=Math.round(100*this.a)/100,this.format=(he=j.format)!==null&&he!==void 0?he:ft.format,this.gradientType=j.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=ft.ok}return ee.prototype.isDark=function(){return this.getBrightness()<128},ee.prototype.isLight=function(){return!this.isDark()},ee.prototype.getBrightness=function(){var X=this.toRgb();return(X.r*299+X.g*587+X.b*114)/1e3},ee.prototype.getLuminance=function(){var X=this.toRgb(),j,he,ft,st=X.r/255,oe=X.g/255,ct=X.b/255;return st<=.03928?j=st/12.92:j=Math.pow((st+.055)/1.055,2.4),oe<=.03928?he=oe/12.92:he=Math.pow((oe+.055)/1.055,2.4),ct<=.03928?ft=ct/12.92:ft=Math.pow((ct+.055)/1.055,2.4),.2126*j+.7152*he+.0722*ft},ee.prototype.getAlpha=function(){return this.a},ee.prototype.setAlpha=function(X){return this.a=(0,de.Yq)(X),this.roundA=Math.round(100*this.a)/100,this},ee.prototype.isMonochrome=function(){var X=this.toHsl().s;return X===0},ee.prototype.toHsv=function(){var X=(0,u.py)(this.r,this.g,this.b);return{h:X.h*360,s:X.s,v:X.v,a:this.a}},ee.prototype.toHsvString=function(){var X=(0,u.py)(this.r,this.g,this.b),j=Math.round(X.h*360),he=Math.round(X.s*100),ft=Math.round(X.v*100);return this.a===1?"hsv(".concat(j,", ").concat(he,"%, ").concat(ft,"%)"):"hsva(".concat(j,", ").concat(he,"%, ").concat(ft,"%, ").concat(this.roundA,")")},ee.prototype.toHsl=function(){var X=(0,u.lC)(this.r,this.g,this.b);return{h:X.h*360,s:X.s,l:X.l,a:this.a}},ee.prototype.toHslString=function(){var X=(0,u.lC)(this.r,this.g,this.b),j=Math.round(X.h*360),he=Math.round(X.s*100),ft=Math.round(X.l*100);return this.a===1?"hsl(".concat(j,", ").concat(he,"%, ").concat(ft,"%)"):"hsla(".concat(j,", ").concat(he,"%, ").concat(ft,"%, ").concat(this.roundA,")")},ee.prototype.toHex=function(X){return X===void 0&&(X=!1),(0,u.vq)(this.r,this.g,this.b,X)},ee.prototype.toHexString=function(X){return X===void 0&&(X=!1),"#"+this.toHex(X)},ee.prototype.toHex8=function(X){return X===void 0&&(X=!1),(0,u.s)(this.r,this.g,this.b,this.a,X)},ee.prototype.toHex8String=function(X){return X===void 0&&(X=!1),"#"+this.toHex8(X)},ee.prototype.toHexShortString=function(X){return X===void 0&&(X=!1),this.a===1?this.toHexString(X):this.toHex8String(X)},ee.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},ee.prototype.toRgbString=function(){var X=Math.round(this.r),j=Math.round(this.g),he=Math.round(this.b);return this.a===1?"rgb(".concat(X,", ").concat(j,", ").concat(he,")"):"rgba(".concat(X,", ").concat(j,", ").concat(he,", ").concat(this.roundA,")")},ee.prototype.toPercentageRgb=function(){var X=function(j){return"".concat(Math.round((0,de.sh)(j,255)*100),"%")};return{r:X(this.r),g:X(this.g),b:X(this.b),a:this.a}},ee.prototype.toPercentageRgbString=function(){var X=function(j){return Math.round((0,de.sh)(j,255)*100)};return this.a===1?"rgb(".concat(X(this.r),"%, ").concat(X(this.g),"%, ").concat(X(this.b),"%)"):"rgba(".concat(X(this.r),"%, ").concat(X(this.g),"%, ").concat(X(this.b),"%, ").concat(this.roundA,")")},ee.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var X="#"+(0,u.vq)(this.r,this.g,this.b,!1),j=0,he=Object.entries(q.R);j<he.length;j++){var ft=he[j],st=ft[0],oe=ft[1];if(X===oe)return st}return!1},ee.prototype.toString=function(X){var j=!!X;X=X!=null?X:this.format;var he=!1,ft=this.a<1&&this.a>=0,st=!j&&ft&&(X.startsWith("hex")||X==="name");return st?X==="name"&&this.a===0?this.toName():this.toRgbString():(X==="rgb"&&(he=this.toRgbString()),X==="prgb"&&(he=this.toPercentageRgbString()),(X==="hex"||X==="hex6")&&(he=this.toHexString()),X==="hex3"&&(he=this.toHexString(!0)),X==="hex4"&&(he=this.toHex8String(!0)),X==="hex8"&&(he=this.toHex8String()),X==="name"&&(he=this.toName()),X==="hsl"&&(he=this.toHslString()),X==="hsv"&&(he=this.toHsvString()),he||this.toHexString())},ee.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},ee.prototype.clone=function(){return new ee(this.toString())},ee.prototype.lighten=function(X){X===void 0&&(X=10);var j=this.toHsl();return j.l+=X/100,j.l=(0,de.V2)(j.l),new ee(j)},ee.prototype.brighten=function(X){X===void 0&&(X=10);var j=this.toRgb();return j.r=Math.max(0,Math.min(255,j.r-Math.round(255*-(X/100)))),j.g=Math.max(0,Math.min(255,j.g-Math.round(255*-(X/100)))),j.b=Math.max(0,Math.min(255,j.b-Math.round(255*-(X/100)))),new ee(j)},ee.prototype.darken=function(X){X===void 0&&(X=10);var j=this.toHsl();return j.l-=X/100,j.l=(0,de.V2)(j.l),new ee(j)},ee.prototype.tint=function(X){return X===void 0&&(X=10),this.mix("white",X)},ee.prototype.shade=function(X){return X===void 0&&(X=10),this.mix("black",X)},ee.prototype.desaturate=function(X){X===void 0&&(X=10);var j=this.toHsl();return j.s-=X/100,j.s=(0,de.V2)(j.s),new ee(j)},ee.prototype.saturate=function(X){X===void 0&&(X=10);var j=this.toHsl();return j.s+=X/100,j.s=(0,de.V2)(j.s),new ee(j)},ee.prototype.greyscale=function(){return this.desaturate(100)},ee.prototype.spin=function(X){var j=this.toHsl(),he=(j.h+X)%360;return j.h=he<0?360+he:he,new ee(j)},ee.prototype.mix=function(X,j){j===void 0&&(j=50);var he=this.toRgb(),ft=new ee(X).toRgb(),st=j/100,oe={r:(ft.r-he.r)*st+he.r,g:(ft.g-he.g)*st+he.g,b:(ft.b-he.b)*st+he.b,a:(ft.a-he.a)*st+he.a};return new ee(oe)},ee.prototype.analogous=function(X,j){X===void 0&&(X=6),j===void 0&&(j=30);var he=this.toHsl(),ft=360/j,st=[this];for(he.h=(he.h-(ft*X>>1)+720)%360;--X;)he.h=(he.h+ft)%360,st.push(new ee(he));return st},ee.prototype.complement=function(){var X=this.toHsl();return X.h=(X.h+180)%360,new ee(X)},ee.prototype.monochromatic=function(X){X===void 0&&(X=6);for(var j=this.toHsv(),he=j.h,ft=j.s,st=j.v,oe=[],ct=1/X;X--;)oe.push(new ee({h:he,s:ft,v:st})),st=(st+ct)%1;return oe},ee.prototype.splitcomplement=function(){var X=this.toHsl(),j=X.h;return[this,new ee({h:(j+72)%360,s:X.s,l:X.l}),new ee({h:(j+216)%360,s:X.s,l:X.l})]},ee.prototype.onBackground=function(X){var j=this.toRgb(),he=new ee(X).toRgb(),ft=j.a+he.a*(1-j.a);return new ee({r:(j.r*j.a+he.r*he.a*(1-j.a))/ft,g:(j.g*j.a+he.g*he.a*(1-j.a))/ft,b:(j.b*j.a+he.b*he.a*(1-j.a))/ft,a:ft})},ee.prototype.triad=function(){return this.polyad(3)},ee.prototype.tetrad=function(){return this.polyad(4)},ee.prototype.polyad=function(X){for(var j=this.toHsl(),he=j.h,ft=[this],st=360/X,oe=1;oe<X;oe++)ft.push(new ee({h:(he+oe*st)%360,s:j.s,l:j.l}));return ft},ee.prototype.equals=function(X){return this.toRgbString()===new ee(X).toRgbString()},ee}();function fe(ee,X){return ee===void 0&&(ee=""),X===void 0&&(X={}),new Qe(ee,X)}},23881:function(Ci,At,I){"use strict";I.d(At,{FZ:function(){return ee},JX:function(){return fe},V2:function(){return q},Yq:function(){return Qe},sh:function(){return u}});function u(X,j){$(X)&&(X="100%");var he=de(X);return X=j===360?X:Math.min(j,Math.max(0,parseFloat(X))),he&&(X=parseInt(String(X*j),10)/100),Math.abs(X-j)<1e-6?1:(j===360?X=(X<0?X%j+j:X%j)/parseFloat(String(j)):X=X%j/parseFloat(String(j)),X)}function q(X){return Math.min(1,Math.max(0,X))}function $(X){return typeof X=="string"&&X.indexOf(".")!==-1&&parseFloat(X)===1}function de(X){return typeof X=="string"&&X.indexOf("%")!==-1}function Qe(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function fe(X){return X<=1?"".concat(Number(X)*100,"%"):X}function ee(X){return X.length===1?"0"+X:String(X)}},12975:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return ne}});var u=I(89856),q=I(75271),$=I(36154),de=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Qe=(0,$.Z)(function(Be){return de.test(Be)||Be.charCodeAt(0)===111&&Be.charCodeAt(1)===110&&Be.charCodeAt(2)<91}),fe=I(7356),ee=I(83771),X=I(43805),j=I(28368),he=Qe,ft=function(Oe){return Oe!=="theme"},st=function(Oe){return typeof Oe=="string"&&Oe.charCodeAt(0)>96?he:ft},oe=function(Oe,Ce,at){var re;if(Ce){var we=Ce.shouldForwardProp;re=Oe.__emotion_forwardProp&&we?function(Ue){return Oe.__emotion_forwardProp(Ue)&&we(Ue)}:we}return typeof re!="function"&&at&&(re=Oe.__emotion_forwardProp),re},ct=!1,xe=function(Oe){var Ce=Oe.cache,at=Oe.serialized,re=Oe.isStringTag;return(0,ee.hC)(Ce,at,re),(0,j.L)(function(){return(0,ee.My)(Ce,at,re)}),null},ne=function Be(Oe,Ce){var at=Oe.__emotion_real===Oe,re=at&&Oe.__emotion_base||Oe,we,Ue;Ce!==void 0&&(we=Ce.label,Ue=Ce.target);var E=oe(Oe,Ce,at),tt=E||st(re),Ie=!tt("as");return function(){var Le=arguments,bt=at&&Oe.__emotion_styles!==void 0?Oe.__emotion_styles.slice(0):[];if(we!==void 0&&bt.push("label:"+we+";"),Le[0]==null||Le[0].raw===void 0)bt.push.apply(bt,Le);else{bt.push(Le[0][0]);for(var en=Le.length,lt=1;lt<en;lt++)bt.push(Le[lt],Le[0][lt])}var Ht=(0,fe.w)(function(Pn,vi,Rt){var ut=Ie&&Pn.as||re,Ge="",ot=[],mt=Pn;if(Pn.theme==null){mt={};for(var kt in Pn)mt[kt]=Pn[kt];mt.theme=q.useContext(fe.T)}typeof Pn.className=="string"?Ge=(0,ee.fp)(vi.registered,ot,Pn.className):Pn.className!=null&&(Ge=Pn.className+" ");var qt=(0,X.O)(bt.concat(ot),vi.registered,mt);Ge+=vi.key+"-"+qt.name,Ue!==void 0&&(Ge+=" "+Ue);var Yn=Ie&&E===void 0?st(ut):tt,_n={};for(var Lt in Pn)Ie&&Lt==="as"||Yn(Lt)&&(_n[Lt]=Pn[Lt]);return _n.className=Ge,Rt&&(_n.ref=Rt),q.createElement(q.Fragment,null,q.createElement(xe,{cache:vi,serialized:qt,isStringTag:typeof ut=="string"}),q.createElement(ut,_n))});return Ht.displayName=we!==void 0?we:"Styled("+(typeof re=="string"?re:re.displayName||re.name||"Component")+")",Ht.defaultProps=Oe.defaultProps,Ht.__emotion_real=Ht,Ht.__emotion_base=re,Ht.__emotion_styles=bt,Ht.__emotion_forwardProp=E,Object.defineProperty(Ht,"toString",{value:function(){return Ue===void 0&&ct?"NO_COMPONENT_SELECTOR":"."+Ue}}),Ht.withComponent=function(Pn,vi){return Be(Pn,(0,u.Z)({},Ce,vi,{shouldForwardProp:oe(Ht,vi,!0)})).apply(void 0,bt)},Ht}}},48911:function(Ci,At,I){"use strict";var u=I(75271);function q($){var de=(0,u.useRef)($);return de.current=$,de}At.Z=q},30343:function(Ci,At,I){"use strict";var u=I(75271),q=I(23754),$=I(23917);const de=Qe=>{const{space:fe,form:ee,children:X}=Qe;if(X==null)return null;let j=X;return ee&&(j=u.createElement(q.Ux,{override:!0,status:!0},j)),fe&&(j=u.createElement($.BR,null,j)),j};At.Z=de},13771:function(Ci,At,I){"use strict";I.d(At,{i:function(){return Qe}});var u=I(75271),q=I(6522),$=I(97045),de=I(1800);function Qe(ee){return X=>u.createElement($.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},u.createElement(ee,Object.assign({},X)))}const fe=(ee,X,j,he)=>Qe(st=>{const{prefixCls:oe,style:ct}=st,xe=u.useRef(null),[ne,Be]=u.useState(0),[Oe,Ce]=u.useState(0),[at,re]=(0,q.Z)(!1,{value:st.open}),{getPrefixCls:we}=u.useContext(de.E_),Ue=we(X||"select",oe);u.useEffect(()=>{if(re(!0),typeof ResizeObserver!="undefined"){const Ie=new ResizeObserver(bt=>{const en=bt[0].target;Be(en.offsetHeight+8),Ce(en.offsetWidth)}),Le=setInterval(()=>{var bt;const en=j?`.${j(Ue)}`:`.${Ue}-dropdown`,lt=(bt=xe.current)===null||bt===void 0?void 0:bt.querySelector(en);lt&&(clearInterval(Le),Ie.observe(lt))},10);return()=>{clearInterval(Le),Ie.disconnect()}}},[]);let E=Object.assign(Object.assign({},st),{style:Object.assign(Object.assign({},ct),{margin:0}),open:at,visible:at,getPopupContainer:()=>xe.current});he&&(E=he(E));const tt={paddingBottom:ne,position:"relative",minWidth:Oe};return u.createElement("div",{ref:xe,style:tt},u.createElement(ee,Object.assign({},E)))});At.Z=fe},22160:function(Ci,At,I){"use strict";I.d(At,{Cn:function(){return he},u6:function(){return fe}});var u=I(75271),q=I(91556),$=I(48605);const de=100,fe=de*10,ee={Modal:de,Drawer:de,Popover:de,Popconfirm:de,Tooltip:de,Tour:de},X={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function j(ft){return ft in ee}function he(ft,st){const[,oe]=(0,q.ZP)(),ct=u.useContext($.Z),xe=j(ft);let ne;if(st!==void 0)ne=[st,st];else{let Be=ct!=null?ct:0;xe?Be+=(ct?0:oe.zIndexPopupBase)+ee[ft]:Be+=X[ft],ne=[ct===void 0?st:Be,Be]}return ne}},49337:function(Ci,At,I){"use strict";I.d(At,{m:function(){return X}});var u=I(1800);const q=()=>({height:0,opacity:0}),$=j=>{const{scrollHeight:he}=j;return{height:he,opacity:1}},de=j=>({height:j?j.offsetHeight:0}),Qe=(j,he)=>(he==null?void 0:he.deadline)===!0||he.propertyName==="height",fe=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.Rf}-motion-collapse`,onAppearStart:q,onEnterStart:q,onAppearActive:$,onEnterActive:$,onLeaveStart:de,onLeaveActive:q,onAppearEnd:Qe,onEnterEnd:Qe,onLeaveEnd:Qe,motionDeadline:500}},ee=null,X=(j,he,ft)=>ft!==void 0?ft:`${j}-${he}`;At.Z=fe},79641:function(Ci,At,I){"use strict";I.d(At,{M2:function(){return q},Tm:function(){return de}});var u=I(75271);function q(Qe){return Qe&&u.isValidElement(Qe)&&Qe.type===u.Fragment}const $=(Qe,fe,ee)=>u.isValidElement(Qe)?u.cloneElement(Qe,typeof ee=="function"?ee(Qe.props||{}):ee):fe;function de(Qe,fe){return $(Qe,Qe,fe)}},72489:function(Ci,At,I){"use strict";I.d(At,{F:function(){return Qe},Z:function(){return de}});var u=I(82187),q=I.n(u);const $=null;function de(fe,ee,X){return q()({[`${fe}-status-success`]:ee==="success",[`${fe}-status-warning`]:ee==="warning",[`${fe}-status-error`]:ee==="error",[`${fe}-status-validating`]:ee==="validating",[`${fe}-has-feedback`]:X})}const Qe=(fe,ee)=>ee||fe},6852:function(Ci,At,I){"use strict";I.d(At,{G8:function(){return ee},ln:function(){return X}});var u=I(75271),q=I(7432);function $(){}let de=null;function Qe(){de=null,rcResetWarned()}let fe=null;const ee=u.createContext({}),X=()=>{const he=()=>{};return he.deprecated=$,he};var j=null},2007:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return Le}});var u=I(75271),q=I(82187),$=I.n(q),de=I(39840),Qe=I(3083),fe=I(1800),ee=I(79641),X=I(9199);const j=bt=>{const{componentCls:en,colorPrimary:lt}=bt;return{[en]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${lt})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${bt.motionEaseOutCirc}`,`opacity 2s ${bt.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${bt.motionDurationSlow} ${bt.motionEaseInOut}`,`opacity ${bt.motionDurationSlow} ${bt.motionEaseInOut}`].join(",")}}}}};var he=(0,X.A1)("Wave",bt=>[j(bt)]),ft=I(28774),st=I(15363),oe=I(91556);const ct=`${fe.Rf}-wave-target`;var xe=I(61435),ne=I(12615);function Be(bt){const en=(bt||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return en&&en[1]&&en[2]&&en[3]?!(en[1]===en[2]&&en[2]===en[3]):!0}function Oe(bt){return bt&&bt!=="#fff"&&bt!=="#ffffff"&&bt!=="rgb(255, 255, 255)"&&bt!=="rgba(255, 255, 255, 1)"&&Be(bt)&&!/rgba\((?:\d*, ){3}0\)/.test(bt)&&bt!=="transparent"}function Ce(bt){const{borderTopColor:en,borderColor:lt,backgroundColor:Ht}=getComputedStyle(bt);return Oe(en)?en:Oe(lt)?lt:Oe(Ht)?Ht:null}function at(bt){return Number.isNaN(bt)?0:bt}const re=bt=>{const{className:en,target:lt,component:Ht}=bt,Pn=u.useRef(null),[vi,Rt]=u.useState(null),[ut,Ge]=u.useState([]),[ot,mt]=u.useState(0),[kt,qt]=u.useState(0),[Yn,_n]=u.useState(0),[Lt,Kn]=u.useState(0),[ln,Gt]=u.useState(!1),Bt={left:ot,top:kt,width:Yn,height:Lt,borderRadius:ut.map(rn=>`${rn}px`).join(" ")};vi&&(Bt["--wave-color"]=vi);function Nn(){const rn=getComputedStyle(lt);Rt(Ce(lt));const cn=rn.position==="static",{borderLeftWidth:zi,borderTopWidth:Mi}=rn;mt(cn?lt.offsetLeft:at(-parseFloat(zi))),qt(cn?lt.offsetTop:at(-parseFloat(Mi))),_n(lt.offsetWidth),Kn(lt.offsetHeight);const{borderTopLeftRadius:as,borderTopRightRadius:dn,borderBottomLeftRadius:Rr,borderBottomRightRadius:is}=rn;Ge([as,dn,is,Rr].map(mr=>at(parseFloat(mr))))}if(u.useEffect(()=>{if(lt){const rn=(0,st.Z)(()=>{Nn(),Gt(!0)});let cn;return typeof ResizeObserver!="undefined"&&(cn=new ResizeObserver(Nn),cn.observe(lt)),()=>{st.Z.cancel(rn),cn==null||cn.disconnect()}}},[]),!ln)return null;const Pt=(Ht==="Checkbox"||Ht==="Radio")&&(lt==null?void 0:lt.classList.contains(ct));return u.createElement(xe.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(rn,cn)=>{var zi;if(cn.deadline||cn.propertyName==="opacity"){const Mi=(zi=Pn.current)===null||zi===void 0?void 0:zi.parentElement;(0,ne.v)(Mi).then(()=>{Mi==null||Mi.remove()})}return!1}},(rn,cn)=>{let{className:zi}=rn;return u.createElement("div",{ref:(0,Qe.sQ)(Pn,cn),className:$()(en,zi,{"wave-quick":Pt}),style:Bt})})};var Ue=(bt,en)=>{var lt;const{component:Ht}=en;if(Ht==="Checkbox"&&!(!((lt=bt.querySelector("input"))===null||lt===void 0)&&lt.checked))return;const Pn=document.createElement("div");Pn.style.position="absolute",Pn.style.left="0px",Pn.style.top="0px",bt==null||bt.insertBefore(Pn,bt==null?void 0:bt.firstChild),(0,ne.s)(u.createElement(re,Object.assign({},en,{target:bt})),Pn)},tt=(bt,en,lt)=>{const{wave:Ht}=u.useContext(fe.E_),[,Pn,vi]=(0,oe.ZP)(),Rt=(0,ft.zX)(ot=>{const mt=bt.current;if(Ht!=null&&Ht.disabled||!mt)return;const kt=mt.querySelector(`.${ct}`)||mt,{showEffect:qt}=Ht||{};(qt||Ue)(kt,{className:en,token:Pn,component:lt,event:ot,hashId:vi})}),ut=u.useRef();return ot=>{st.Z.cancel(ut.current),ut.current=(0,st.Z)(()=>{Rt(ot)})}},Le=bt=>{const{children:en,disabled:lt,component:Ht}=bt,{getPrefixCls:Pn}=(0,u.useContext)(fe.E_),vi=(0,u.useRef)(null),Rt=Pn("wave"),[,ut]=he(Rt),Ge=tt(vi,$()(Rt,ut),Ht);if(u.useEffect(()=>{const mt=vi.current;if(!mt||mt.nodeType!==1||lt)return;const kt=qt=>{!(0,de.Z)(qt.target)||!mt.getAttribute||mt.getAttribute("disabled")||mt.disabled||mt.className.includes("disabled")||mt.className.includes("-leave")||Ge(qt)};return mt.addEventListener("click",kt,!0),()=>{mt.removeEventListener("click",kt,!0)}},[lt]),!u.isValidElement(en))return en!=null?en:null;const ot=(0,Qe.Yr)(en)?(0,Qe.sQ)(en.ref,vi):vi;return(0,ee.Tm)(en,{ref:ot})}},48605:function(Ci,At,I){"use strict";var u=I(75271);const q=u.createContext(void 0);At.Z=q},64294:function(Ci,At,I){"use strict";I.d(At,{Te:function(){return ee},aG:function(){return de},hU:function(){return j},nx:function(){return Qe}});var u=I(75271),q=I(79641);const $=/^[\u4e00-\u9fa5]{2}$/,de=$.test.bind($);function Qe(oe){return oe==="danger"?{danger:!0}:{type:oe}}function fe(oe){return typeof oe=="string"}function ee(oe){return oe==="text"||oe==="link"}function X(oe,ct){if(oe==null)return;const xe=ct?" ":"";return typeof oe!="string"&&typeof oe!="number"&&fe(oe.type)&&de(oe.props.children)?(0,q.Tm)(oe,{children:oe.props.children.split("").join(xe)}):fe(oe)?de(oe)?u.createElement("span",null,oe.split("").join(xe)):u.createElement("span",null,oe):(0,q.M2)(oe)?u.createElement("span",null,oe):oe}function j(oe,ct){let xe=!1;const ne=[];return u.Children.forEach(oe,Be=>{const Oe=typeof Be,Ce=Oe==="string"||Oe==="number";if(xe&&Ce){const at=ne.length-1,re=ne[at];ne[at]=`${re}${Be}`}else ne.push(Be);xe=Ce}),u.Children.map(ne,Be=>X(Be,ct))}const he=null,ft=null,st=null},54906:function(Ci,At,I){"use strict";I.d(At,{ZP:function(){return Hn}});var u=I(75271),q=I(82187),$=I.n(q),de=I(2021),Qe=I(3083),fe=I(2007),ee=I(1800),X=I(82961),j=I(57892),he=I(23917),ft=I(91556),st=function(ce,Qt){var gn={};for(var Ft in ce)Object.prototype.hasOwnProperty.call(ce,Ft)&&Qt.indexOf(Ft)<0&&(gn[Ft]=ce[Ft]);if(ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var on=0,Ft=Object.getOwnPropertySymbols(ce);on<Ft.length;on++)Qt.indexOf(Ft[on])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ft[on])&&(gn[Ft[on]]=ce[Ft[on]]);return gn};const oe=u.createContext(void 0);var xe=ce=>{const{getPrefixCls:Qt,direction:gn}=u.useContext(ee.E_),{prefixCls:Ft,size:on,className:Cn}=ce,Or=st(ce,["prefixCls","size","className"]),ds=Qt("btn-group",Ft),[,,io]=(0,ft.ZP)();let $r="";switch(on){case"large":$r="lg";break;case"small":$r="sm";break;default:}const fr=$()(ds,{[`${ds}-${$r}`]:$r,[`${ds}-rtl`]:gn==="rtl"},Cn,io);return u.createElement(oe.Provider,{value:on},u.createElement("div",Object.assign({},Or,{className:fr})))},ne=I(64294),Oe=(0,u.forwardRef)((ce,Qt)=>{const{className:gn,style:Ft,children:on,prefixCls:Cn}=ce,Or=$()(`${Cn}-icon`,gn);return u.createElement("span",{ref:Qt,className:Or,style:Ft},on)}),Ce=I(32092),at=I(61435);const re=(0,u.forwardRef)((ce,Qt)=>{const{prefixCls:gn,className:Ft,style:on,iconClassName:Cn}=ce,Or=$()(`${gn}-loading-icon`,Ft);return u.createElement(Oe,{prefixCls:gn,className:Or,style:on,ref:Qt},u.createElement(Ce.Z,{className:Cn}))}),we=()=>({width:0,opacity:0,transform:"scale(0)"}),Ue=ce=>({width:ce.scrollWidth,opacity:1,transform:"scale(1)"});var tt=ce=>{const{prefixCls:Qt,loading:gn,existIcon:Ft,className:on,style:Cn}=ce,Or=!!gn;return Ft?u.createElement(re,{prefixCls:Qt,className:on,style:Cn}):u.createElement(at.ZP,{visible:Or,motionName:`${Qt}-loading-icon-motion`,motionLeave:Or,removeOnLeave:!0,onAppearStart:we,onAppearActive:Ue,onEnterStart:we,onEnterActive:Ue,onLeaveStart:Ue,onLeaveActive:we},(ds,io)=>{let{className:$r,style:fr}=ds;return u.createElement(re,{prefixCls:Qt,className:on,style:Object.assign(Object.assign({},Cn),fr),ref:io,iconClassName:$r})})},Ie=I(40322),Le=I(10500),bt=I(76950),en=I(9199);const lt=(ce,Qt)=>({[`> span, > ${ce}`]:{"&:not(:last-child)":{[`&, & > ${ce}`]:{"&:not(:disabled)":{borderInlineEndColor:Qt}}},"&:not(:first-child)":{[`&, & > ${ce}`]:{"&:not(:disabled)":{borderInlineStartColor:Qt}}}}});var Pn=ce=>{const{componentCls:Qt,fontSize:gn,lineWidth:Ft,groupBorderColor:on,colorErrorHover:Cn}=ce;return{[`${Qt}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${Qt}`]:{"&:not(:last-child)":{[`&, & > ${Qt}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:ce.calc(Ft).mul(-1).equal(),[`&, & > ${Qt}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[Qt]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${Qt}-icon-only`]:{fontSize:gn}},lt(`${Qt}-primary`,on),lt(`${Qt}-danger`,Cn)]}},vi=I(55569);const Rt=ce=>{const{paddingInline:Qt,onlyIconSize:gn,paddingBlock:Ft}=ce;return(0,bt.IX)(ce,{buttonPaddingHorizontal:Qt,buttonPaddingVertical:Ft,buttonIconOnlyFontSize:gn})},ut=ce=>{var Qt,gn,Ft,on,Cn,Or;const ds=(Qt=ce.contentFontSize)!==null&&Qt!==void 0?Qt:ce.fontSize,io=(gn=ce.contentFontSizeSM)!==null&&gn!==void 0?gn:ce.fontSize,$r=(Ft=ce.contentFontSizeLG)!==null&&Ft!==void 0?Ft:ce.fontSizeLG,fr=(on=ce.contentLineHeight)!==null&&on!==void 0?on:(0,vi.D)(ds),ir=(Cn=ce.contentLineHeightSM)!==null&&Cn!==void 0?Cn:(0,vi.D)(io),_r=(Or=ce.contentLineHeightLG)!==null&&Or!==void 0?Or:(0,vi.D)($r);return{fontWeight:400,defaultShadow:`0 ${ce.controlOutlineWidth}px 0 ${ce.controlTmpOutline}`,primaryShadow:`0 ${ce.controlOutlineWidth}px 0 ${ce.controlOutline}`,dangerShadow:`0 ${ce.controlOutlineWidth}px 0 ${ce.colorErrorOutline}`,primaryColor:ce.colorTextLightSolid,dangerColor:ce.colorTextLightSolid,borderColorDisabled:ce.colorBorder,defaultGhostColor:ce.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:ce.colorBgContainer,paddingInline:ce.paddingContentHorizontal-ce.lineWidth,paddingInlineLG:ce.paddingContentHorizontal-ce.lineWidth,paddingInlineSM:8-ce.lineWidth,onlyIconSize:ce.fontSizeLG,onlyIconSizeSM:ce.fontSizeLG-2,onlyIconSizeLG:ce.fontSizeLG+2,groupBorderColor:ce.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:ce.colorBgTextHover,defaultColor:ce.colorText,defaultBg:ce.colorBgContainer,defaultBorderColor:ce.colorBorder,defaultBorderColorDisabled:ce.colorBorder,defaultHoverBg:ce.colorBgContainer,defaultHoverColor:ce.colorPrimaryHover,defaultHoverBorderColor:ce.colorPrimaryHover,defaultActiveBg:ce.colorBgContainer,defaultActiveColor:ce.colorPrimaryActive,defaultActiveBorderColor:ce.colorPrimaryActive,contentFontSize:ds,contentFontSizeSM:io,contentFontSizeLG:$r,contentLineHeight:fr,contentLineHeightSM:ir,contentLineHeightLG:_r,paddingBlock:Math.max((ce.controlHeight-ds*fr)/2-ce.lineWidth,0),paddingBlockSM:Math.max((ce.controlHeightSM-io*ir)/2-ce.lineWidth,0),paddingBlockLG:Math.max((ce.controlHeightLG-$r*_r)/2-ce.lineWidth,0)}},Ge=ce=>{const{componentCls:Qt,iconCls:gn,fontWeight:Ft}=ce;return{[Qt]:{outline:"none",position:"relative",display:"inline-flex",gap:ce.marginXS,alignItems:"center",justifyContent:"center",fontWeight:Ft,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,Ie.bf)(ce.lineWidth)} ${ce.lineType} transparent`,cursor:"pointer",transition:`all ${ce.motionDurationMid} ${ce.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:ce.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${Qt}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},(0,Le.Qy)(ce)),[`&${Qt}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${Qt}-two-chinese-chars > *:not(${gn})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},ot=(ce,Qt,gn)=>({[`&:not(:disabled):not(${ce}-disabled)`]:{"&:hover":Qt,"&:active":gn}}),mt=ce=>({minWidth:ce.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),kt=ce=>({borderRadius:ce.controlHeight,paddingInlineStart:ce.calc(ce.controlHeight).div(2).equal(),paddingInlineEnd:ce.calc(ce.controlHeight).div(2).equal()}),qt=ce=>({cursor:"not-allowed",borderColor:ce.borderColorDisabled,color:ce.colorTextDisabled,background:ce.colorBgContainerDisabled,boxShadow:"none"}),Yn=(ce,Qt,gn,Ft,on,Cn,Or,ds)=>({[`&${ce}-background-ghost`]:Object.assign(Object.assign({color:gn||void 0,background:Qt,borderColor:Ft||void 0,boxShadow:"none"},ot(ce,Object.assign({background:Qt},Or),Object.assign({background:Qt},ds))),{"&:disabled":{cursor:"not-allowed",color:on||void 0,borderColor:Cn||void 0}})}),_n=ce=>({[`&:disabled, &${ce.componentCls}-disabled`]:Object.assign({},qt(ce))}),Lt=ce=>Object.assign({},_n(ce)),Kn=ce=>({[`&:disabled, &${ce.componentCls}-disabled`]:{cursor:"not-allowed",color:ce.colorTextDisabled}}),ln=ce=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Lt(ce)),{background:ce.defaultBg,borderColor:ce.defaultBorderColor,color:ce.defaultColor,boxShadow:ce.defaultShadow}),ot(ce.componentCls,{color:ce.defaultHoverColor,borderColor:ce.defaultHoverBorderColor,background:ce.defaultHoverBg},{color:ce.defaultActiveColor,borderColor:ce.defaultActiveBorderColor,background:ce.defaultActiveBg})),Yn(ce.componentCls,ce.ghostBg,ce.defaultGhostColor,ce.defaultGhostBorderColor,ce.colorTextDisabled,ce.colorBorder)),{[`&${ce.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:ce.colorError,borderColor:ce.colorError},ot(ce.componentCls,{color:ce.colorErrorHover,borderColor:ce.colorErrorBorderHover},{color:ce.colorErrorActive,borderColor:ce.colorErrorActive})),Yn(ce.componentCls,ce.ghostBg,ce.colorError,ce.colorError,ce.colorTextDisabled,ce.colorBorder)),_n(ce))}),Gt=ce=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Lt(ce)),{color:ce.primaryColor,background:ce.colorPrimary,boxShadow:ce.primaryShadow}),ot(ce.componentCls,{color:ce.colorTextLightSolid,background:ce.colorPrimaryHover},{color:ce.colorTextLightSolid,background:ce.colorPrimaryActive})),Yn(ce.componentCls,ce.ghostBg,ce.colorPrimary,ce.colorPrimary,ce.colorTextDisabled,ce.colorBorder,{color:ce.colorPrimaryHover,borderColor:ce.colorPrimaryHover},{color:ce.colorPrimaryActive,borderColor:ce.colorPrimaryActive})),{[`&${ce.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:ce.colorError,boxShadow:ce.dangerShadow,color:ce.dangerColor},ot(ce.componentCls,{background:ce.colorErrorHover},{background:ce.colorErrorActive})),Yn(ce.componentCls,ce.ghostBg,ce.colorError,ce.colorError,ce.colorTextDisabled,ce.colorBorder,{color:ce.colorErrorHover,borderColor:ce.colorErrorHover},{color:ce.colorErrorActive,borderColor:ce.colorErrorActive})),_n(ce))}),Bt=ce=>Object.assign(Object.assign({},ln(ce)),{borderStyle:"dashed"}),Nn=ce=>Object.assign(Object.assign(Object.assign({color:ce.colorLink},ot(ce.componentCls,{color:ce.colorLinkHover,background:ce.linkHoverBg},{color:ce.colorLinkActive})),Kn(ce)),{[`&${ce.componentCls}-dangerous`]:Object.assign(Object.assign({color:ce.colorError},ot(ce.componentCls,{color:ce.colorErrorHover},{color:ce.colorErrorActive})),Kn(ce))}),Pt=ce=>Object.assign(Object.assign(Object.assign({},ot(ce.componentCls,{color:ce.colorText,background:ce.textHoverBg},{color:ce.colorText,background:ce.colorBgTextActive})),Kn(ce)),{[`&${ce.componentCls}-dangerous`]:Object.assign(Object.assign({color:ce.colorError},Kn(ce)),ot(ce.componentCls,{color:ce.colorErrorHover,background:ce.colorErrorBg},{color:ce.colorErrorHover,background:ce.colorErrorBgActive}))}),rn=ce=>{const{componentCls:Qt}=ce;return{[`${Qt}-default`]:ln(ce),[`${Qt}-primary`]:Gt(ce),[`${Qt}-dashed`]:Bt(ce),[`${Qt}-link`]:Nn(ce),[`${Qt}-text`]:Pt(ce),[`${Qt}-ghost`]:Yn(ce.componentCls,ce.ghostBg,ce.colorBgContainer,ce.colorBgContainer,ce.colorTextDisabled,ce.colorBorder)}},cn=function(ce){let Qt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:gn,controlHeight:Ft,fontSize:on,lineHeight:Cn,borderRadius:Or,buttonPaddingHorizontal:ds,iconCls:io,buttonPaddingVertical:$r}=ce,fr=`${gn}-icon-only`;return[{[Qt]:{fontSize:on,lineHeight:Cn,height:Ft,padding:`${(0,Ie.bf)($r)} ${(0,Ie.bf)(ds)}`,borderRadius:Or,[`&${fr}`]:{width:Ft,paddingInline:0,[`&${gn}-compact-item`]:{flex:"none"},[`&${gn}-round`]:{width:"auto"},[io]:{fontSize:ce.buttonIconOnlyFontSize}},[`&${gn}-loading`]:{opacity:ce.opacityLoading,cursor:"default"},[`${gn}-loading-icon`]:{transition:`width ${ce.motionDurationSlow} ${ce.motionEaseInOut}, opacity ${ce.motionDurationSlow} ${ce.motionEaseInOut}`}}},{[`${gn}${gn}-circle${Qt}`]:mt(ce)},{[`${gn}${gn}-round${Qt}`]:kt(ce)}]},zi=ce=>{const Qt=(0,bt.IX)(ce,{fontSize:ce.contentFontSize,lineHeight:ce.contentLineHeight});return cn(Qt,ce.componentCls)},Mi=ce=>{const Qt=(0,bt.IX)(ce,{controlHeight:ce.controlHeightSM,fontSize:ce.contentFontSizeSM,lineHeight:ce.contentLineHeightSM,padding:ce.paddingXS,buttonPaddingHorizontal:ce.paddingInlineSM,buttonPaddingVertical:ce.paddingBlockSM,borderRadius:ce.borderRadiusSM,buttonIconOnlyFontSize:ce.onlyIconSizeSM});return cn(Qt,`${ce.componentCls}-sm`)},as=ce=>{const Qt=(0,bt.IX)(ce,{controlHeight:ce.controlHeightLG,fontSize:ce.contentFontSizeLG,lineHeight:ce.contentLineHeightLG,buttonPaddingHorizontal:ce.paddingInlineLG,buttonPaddingVertical:ce.paddingBlockLG,borderRadius:ce.borderRadiusLG,buttonIconOnlyFontSize:ce.onlyIconSizeLG});return cn(Qt,`${ce.componentCls}-lg`)},dn=ce=>{const{componentCls:Qt}=ce;return{[Qt]:{[`&${Qt}-block`]:{width:"100%"}}}};var Rr=(0,en.I$)("Button",ce=>{const Qt=Rt(ce);return[Ge(Qt),zi(Qt),Mi(Qt),as(Qt),dn(Qt),rn(Qt),Pn(Qt)]},ut,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}}),is=I(24553);function mr(ce,Qt){return{[`&-item:not(${Qt}-last-item)`]:{marginBottom:ce.calc(ce.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function bi(ce,Qt){return{[`&-item:not(${Qt}-first-item):not(${Qt}-last-item)`]:{borderRadius:0},[`&-item${Qt}-first-item:not(${Qt}-last-item)`]:{[`&, &${ce}-sm, &${ce}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${Qt}-last-item:not(${Qt}-first-item)`]:{[`&, &${ce}-sm, &${ce}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function qn(ce){const Qt=`${ce.componentCls}-compact-vertical`;return{[Qt]:Object.assign(Object.assign({},mr(ce,Qt)),bi(ce.componentCls,Qt))}}const Fi=ce=>{const{componentCls:Qt,calc:gn}=ce;return{[Qt]:{[`&-compact-item${Qt}-primary`]:{[`&:not([disabled]) + ${Qt}-compact-item${Qt}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:gn(ce.lineWidth).mul(-1).equal(),insetInlineStart:gn(ce.lineWidth).mul(-1).equal(),display:"inline-block",width:ce.lineWidth,height:`calc(100% + ${(0,Ie.bf)(ce.lineWidth)} * 2)`,backgroundColor:ce.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${Qt}-primary`]:{[`&:not([disabled]) + ${Qt}-compact-vertical-item${Qt}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:gn(ce.lineWidth).mul(-1).equal(),insetInlineStart:gn(ce.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${(0,Ie.bf)(ce.lineWidth)} * 2)`,height:ce.lineWidth,backgroundColor:ce.colorPrimaryHover,content:'""'}}}}}}};var pn=(0,en.bk)(["Button","compact"],ce=>{const Qt=Rt(ce);return[(0,is.c)(Qt),qn(Qt),Fi(Qt)]},ut),it=function(ce,Qt){var gn={};for(var Ft in ce)Object.prototype.hasOwnProperty.call(ce,Ft)&&Qt.indexOf(Ft)<0&&(gn[Ft]=ce[Ft]);if(ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var on=0,Ft=Object.getOwnPropertySymbols(ce);on<Ft.length;on++)Qt.indexOf(Ft[on])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ft[on])&&(gn[Ft[on]]=ce[Ft[on]]);return gn};function Vs(ce){if(typeof ce=="object"&&ce){let Qt=ce==null?void 0:ce.delay;return Qt=!Number.isNaN(Qt)&&typeof Qt=="number"?Qt:0,{loading:Qt<=0,delay:Qt}}return{loading:!!ce,delay:0}}const zr=u.forwardRef((ce,Qt)=>{var gn,Ft,on;const{loading:Cn=!1,prefixCls:Or,type:ds,danger:io=!1,shape:$r="default",size:fr,styles:ir,disabled:_r,className:hs,rootClassName:dt,children:vt,icon:Ut,iconPosition:ti="start",ghost:Si=!1,block:Li=!1,htmlType:Ds="button",classNames:Sr,style:Ls={},autoInsertSpace:Us}=ce,As=it(ce,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),yo=ds||"default",{getPrefixCls:Ss,direction:wo,button:Mo}=(0,u.useContext)(ee.E_),It=(gn=Us!=null?Us:Mo==null?void 0:Mo.autoInsertSpace)!==null&&gn!==void 0?gn:!0,Rn=Ss("btn",Or),[zn,an,Vn]=Rr(Rn),Dn=(0,u.useContext)(X.Z),ri=_r!=null?_r:Dn,Ni=(0,u.useContext)(oe),Hr=(0,u.useMemo)(()=>Vs(Cn),[Cn]),[pr,Ir]=(0,u.useState)(Hr.loading),[vr,zs]=(0,u.useState)(!1),so=(0,u.createRef)(),Xr=(0,Qe.sQ)(Qt,so),Ws=u.Children.count(vt)===1&&!Ut&&!(0,ne.Te)(yo);(0,u.useEffect)(()=>{let to=null;Hr.delay>0?to=setTimeout(()=>{to=null,Ir(!0)},Hr.delay):Ir(Hr.loading);function Ho(){to&&(clearTimeout(to),to=null)}return Ho},[Hr]),(0,u.useEffect)(()=>{if(!Xr||!Xr.current||!It)return;const to=Xr.current.textContent;Ws&&(0,ne.aG)(to)?vr||zs(!0):vr&&zs(!1)},[Xr]);const jo=to=>{const{onClick:Ho}=ce;if(pr||ri){to.preventDefault();return}Ho==null||Ho(to)},{compactSize:Js,compactItemClassnames:Qs}=(0,he.ri)(Rn,wo),_i={large:"lg",small:"sm",middle:void 0},eo=(0,j.Z)(to=>{var Ho,Ns;return(Ns=(Ho=fr!=null?fr:Js)!==null&&Ho!==void 0?Ho:Ni)!==null&&Ns!==void 0?Ns:to}),js=eo&&_i[eo]||"",Ps=pr?"loading":Ut,Vr=(0,de.Z)(As,["navigate"]),Wr=$()(Rn,an,Vn,{[`${Rn}-${$r}`]:$r!=="default"&&$r,[`${Rn}-${yo}`]:yo,[`${Rn}-${js}`]:js,[`${Rn}-icon-only`]:!vt&&vt!==0&&!!Ps,[`${Rn}-background-ghost`]:Si&&!(0,ne.Te)(yo),[`${Rn}-loading`]:pr,[`${Rn}-two-chinese-chars`]:vr&&It&&!pr,[`${Rn}-block`]:Li,[`${Rn}-dangerous`]:io,[`${Rn}-rtl`]:wo==="rtl",[`${Rn}-icon-end`]:ti==="end"},Qs,hs,dt,Mo==null?void 0:Mo.className),Hi=Object.assign(Object.assign({},Mo==null?void 0:Mo.style),Ls),qr=$()(Sr==null?void 0:Sr.icon,(Ft=Mo==null?void 0:Mo.classNames)===null||Ft===void 0?void 0:Ft.icon),Jr=Object.assign(Object.assign({},(ir==null?void 0:ir.icon)||{}),((on=Mo==null?void 0:Mo.styles)===null||on===void 0?void 0:on.icon)||{}),gr=Ut&&!pr?u.createElement(Oe,{prefixCls:Rn,className:qr,style:Jr},Ut):u.createElement(tt,{existIcon:!!Ut,prefixCls:Rn,loading:pr}),oo=vt||vt===0?(0,ne.hU)(vt,Ws&&It):null;if(Vr.href!==void 0)return zn(u.createElement("a",Object.assign({},Vr,{className:$()(Wr,{[`${Rn}-disabled`]:ri}),href:ri?void 0:Vr.href,style:Hi,onClick:jo,ref:Xr,tabIndex:ri?-1:0}),gr,oo));let Yi=u.createElement("button",Object.assign({},As,{type:Ds,className:Wr,style:Hi,onClick:jo,disabled:ri,ref:Xr}),gr,oo,!!Qs&&u.createElement(pn,{key:"compact",prefixCls:Rn}));return(0,ne.Te)(yo)||(Yi=u.createElement(fe.Z,{component:"Button",disabled:pr},Yi)),zn(Yi)});zr.Group=xe,zr.__ANT_BUTTON=!0;var kr=zr,Hn=kr},10213:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return st}});var u=I(75271),q=I(82187),$=I.n(q),de=I(1800),Qe=I(18243),fe=I(58146),ee=function(oe,ct){var xe={};for(var ne in oe)Object.prototype.hasOwnProperty.call(oe,ne)&&ct.indexOf(ne)<0&&(xe[ne]=oe[ne]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Be=0,ne=Object.getOwnPropertySymbols(oe);Be<ne.length;Be++)ct.indexOf(ne[Be])<0&&Object.prototype.propertyIsEnumerable.call(oe,ne[Be])&&(xe[ne[Be]]=oe[ne[Be]]);return xe};function X(oe){return typeof oe=="number"?`${oe} ${oe} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(oe)?`0 0 ${oe}`:oe}const j=["xs","sm","md","lg","xl","xxl"];var ft=u.forwardRef((oe,ct)=>{const{getPrefixCls:xe,direction:ne}=u.useContext(de.E_),{gutter:Be,wrap:Oe}=u.useContext(Qe.Z),{prefixCls:Ce,span:at,order:re,offset:we,push:Ue,pull:E,className:tt,children:Ie,flex:Le,style:bt}=oe,en=ee(oe,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),lt=xe("col",Ce),[Ht,Pn,vi]=(0,fe.cG)(lt),Rt={};let ut={};j.forEach(mt=>{let kt={};const qt=oe[mt];typeof qt=="number"?kt.span=qt:typeof qt=="object"&&(kt=qt||{}),delete en[mt],ut=Object.assign(Object.assign({},ut),{[`${lt}-${mt}-${kt.span}`]:kt.span!==void 0,[`${lt}-${mt}-order-${kt.order}`]:kt.order||kt.order===0,[`${lt}-${mt}-offset-${kt.offset}`]:kt.offset||kt.offset===0,[`${lt}-${mt}-push-${kt.push}`]:kt.push||kt.push===0,[`${lt}-${mt}-pull-${kt.pull}`]:kt.pull||kt.pull===0,[`${lt}-rtl`]:ne==="rtl"}),kt.flex&&(ut[`${lt}-${mt}-flex`]=!0,Rt[`--${lt}-${mt}-flex`]=X(kt.flex))});const Ge=$()(lt,{[`${lt}-${at}`]:at!==void 0,[`${lt}-order-${re}`]:re,[`${lt}-offset-${we}`]:we,[`${lt}-push-${Ue}`]:Ue,[`${lt}-pull-${E}`]:E},tt,ut,Pn,vi),ot={};if(Be&&Be[0]>0){const mt=Be[0]/2;ot.paddingLeft=mt,ot.paddingRight=mt}return Le&&(ot.flex=X(Le),Oe===!1&&!ot.minWidth&&(ot.minWidth=0)),Ht(u.createElement("div",Object.assign({},en,{style:Object.assign(Object.assign(Object.assign({},ot),bt),Rt),className:Ge,ref:ct}),Ie))}),st=ft},84198:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return ev}});var u=I(75271),q=I(82187),$=I.n(q),de=I(6522),Qe=I(30343),fe=I(13771),ee=I(72489),X=I(1800),j=I(82961),he=I(38785),ft=I(57892),st=I(23754),oe=I(1260);const ct=h=>h?typeof h=="function"?h():h:null;var xe=I(49337),ne=I(79641),Be=I(7593),Oe=I(22160),Ce=I(40322);function at(h){const{sizePopupArrow:m,borderRadiusXS:C,borderRadiusOuter:_}=h,L=m/2,Z=0,K=L,G=_*1/Math.sqrt(2),ue=L-_*(1-1/Math.sqrt(2)),me=L-C*(1/Math.sqrt(2)),Ee=_*(Math.sqrt(2)-1)+C*(1/Math.sqrt(2)),Se=2*L-me,We=Ee,Ae=2*L-G,et=ue,ze=2*L-Z,Ke=K,pt=L*Math.sqrt(2)+_*(Math.sqrt(2)-2),Ye=_*(Math.sqrt(2)-1),Ot=`polygon(${Ye}px 100%, 50% ${Ye}px, ${2*L-Ye}px 100%, ${Ye}px 100%)`,gt=`path('M ${Z} ${K} A ${_} ${_} 0 0 0 ${G} ${ue} L ${me} ${Ee} A ${C} ${C} 0 0 1 ${Se} ${We} L ${Ae} ${et} A ${_} ${_} 0 0 0 ${ze} ${Ke} Z')`;return{arrowShadowWidth:pt,arrowPath:gt,arrowPolygon:Ot}}const re=(h,m,C)=>{const{sizePopupArrow:_,arrowPolygon:L,arrowPath:Z,arrowShadowWidth:K,borderRadiusXS:G,calc:ue}=h;return{pointerEvents:"none",width:_,height:_,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:_,height:ue(_).div(2).equal(),background:m,clipPath:{_multi_value_:!0,value:[L,Z]},content:'""'},"&::after":{content:'""',position:"absolute",width:K,height:K,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,Ce.bf)(G)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:C,zIndex:0,background:"transparent"}}},we=8;function Ue(h){const{contentRadius:m,limitVerticalRadius:C}=h,_=m>12?m+2:12;return{arrowOffsetHorizontal:_,arrowOffsetVertical:C?we:_}}function E(h,m){return h?m:{}}function tt(h,m,C){const{componentCls:_,boxShadowPopoverArrow:L,arrowOffsetVertical:Z,arrowOffsetHorizontal:K}=h,{arrowDistance:G=0,arrowPlacement:ue={left:!0,right:!0,top:!0,bottom:!0}}=C||{};return{[_]:Object.assign(Object.assign(Object.assign(Object.assign({[`${_}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},re(h,m,L)),{"&:before":{background:m}})]},E(!!ue.top,{[[`&-placement-top > ${_}-arrow`,`&-placement-topLeft > ${_}-arrow`,`&-placement-topRight > ${_}-arrow`].join(",")]:{bottom:G,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${_}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":K,[`> ${_}-arrow`]:{left:{_skip_check_:!0,value:K}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,Ce.bf)(K)})`,[`> ${_}-arrow`]:{right:{_skip_check_:!0,value:K}}}})),E(!!ue.bottom,{[[`&-placement-bottom > ${_}-arrow`,`&-placement-bottomLeft > ${_}-arrow`,`&-placement-bottomRight > ${_}-arrow`].join(",")]:{top:G,transform:"translateY(-100%)"},[`&-placement-bottom > ${_}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":K,[`> ${_}-arrow`]:{left:{_skip_check_:!0,value:K}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,Ce.bf)(K)})`,[`> ${_}-arrow`]:{right:{_skip_check_:!0,value:K}}}})),E(!!ue.left,{[[`&-placement-left > ${_}-arrow`,`&-placement-leftTop > ${_}-arrow`,`&-placement-leftBottom > ${_}-arrow`].join(",")]:{right:{_skip_check_:!0,value:G},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${_}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${_}-arrow`]:{top:Z},[`&-placement-leftBottom > ${_}-arrow`]:{bottom:Z}})),E(!!ue.right,{[[`&-placement-right > ${_}-arrow`,`&-placement-rightTop > ${_}-arrow`,`&-placement-rightBottom > ${_}-arrow`].join(",")]:{left:{_skip_check_:!0,value:G},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${_}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${_}-arrow`]:{top:Z},[`&-placement-rightBottom > ${_}-arrow`]:{bottom:Z}}))}}function Ie(h,m,C,_){if(_===!1)return{adjustX:!1,adjustY:!1};const L=_&&typeof _=="object"?_:{},Z={};switch(h){case"top":case"bottom":Z.shiftX=m.arrowOffsetHorizontal*2+C,Z.shiftY=!0,Z.adjustY=!0;break;case"left":case"right":Z.shiftY=m.arrowOffsetVertical*2+C,Z.shiftX=!0,Z.adjustX=!0;break}const K=Object.assign(Object.assign({},Z),L);return K.shiftX||(K.adjustX=!0),K.shiftY||(K.adjustY=!0),K}const Le={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},bt={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},en=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function lt(h){const{arrowWidth:m,autoAdjustOverflow:C,arrowPointAtCenter:_,offset:L,borderRadius:Z,visibleFirst:K}=h,G=m/2,ue={};return Object.keys(Le).forEach(me=>{const Ee=_&&bt[me]||Le[me],Se=Object.assign(Object.assign({},Ee),{offset:[0,0],dynamicInset:!0});switch(ue[me]=Se,en.has(me)&&(Se.autoArrow=!1),me){case"top":case"topLeft":case"topRight":Se.offset[1]=-G-L;break;case"bottom":case"bottomLeft":case"bottomRight":Se.offset[1]=G+L;break;case"left":case"leftTop":case"leftBottom":Se.offset[0]=-G-L;break;case"right":case"rightTop":case"rightBottom":Se.offset[0]=G+L;break}const We=Ue({contentRadius:Z,limitVerticalRadius:!0});if(_)switch(me){case"topLeft":case"bottomLeft":Se.offset[0]=-We.arrowOffsetHorizontal-G;break;case"topRight":case"bottomRight":Se.offset[0]=We.arrowOffsetHorizontal+G;break;case"leftTop":case"rightTop":Se.offset[1]=-We.arrowOffsetHorizontal-G;break;case"leftBottom":case"rightBottom":Se.offset[1]=We.arrowOffsetHorizontal+G;break}Se.overflow=Ie(me,We,m,C),K&&(Se.htmlRegion="visibleFirst")}),ue}var Ht=I(6852),Pn=I(48605),vi=I(91556),Rt=I(10500),ut=I(67329);const Ge=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function ot(h,m){return Ge.reduce((C,_)=>{const L=h[`${_}1`],Z=h[`${_}3`],K=h[`${_}6`],G=h[`${_}7`];return Object.assign(Object.assign({},C),m(_,{lightColor:L,lightBorderColor:Z,darkColor:K,textColor:G}))},{})}var mt=I(76950),kt=I(9199);const qt=h=>{const{componentCls:m,tooltipMaxWidth:C,tooltipColor:_,tooltipBg:L,tooltipBorderRadius:Z,zIndexPopup:K,controlHeight:G,boxShadowSecondary:ue,paddingSM:me,paddingXS:Ee}=h;return[{[m]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Rt.Wf)(h)),{position:"absolute",zIndex:K,display:"block",width:"max-content",maxWidth:C,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":L,[`${m}-inner`]:{minWidth:"1em",minHeight:G,padding:`${(0,Ce.bf)(h.calc(me).div(2).equal())} ${(0,Ce.bf)(Ee)}`,color:_,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:L,borderRadius:Z,boxShadow:ue,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${m}-inner`]:{borderRadius:h.min(Z,we)}},[`${m}-content`]:{position:"relative"}}),ot(h,(Se,We)=>{let{darkColor:Ae}=We;return{[`&${m}-${Se}`]:{[`${m}-inner`]:{backgroundColor:Ae},[`${m}-arrow`]:{"--antd-arrow-background-color":Ae}}}})),{"&-rtl":{direction:"rtl"}})},tt(h,"var(--antd-arrow-background-color)"),{[`${m}-pure`]:{position:"relative",maxWidth:"none",margin:h.sizePopupArrow}}]},Yn=h=>Object.assign(Object.assign({zIndexPopup:h.zIndexPopupBase+70},Ue({contentRadius:h.borderRadius,limitVerticalRadius:!0})),at((0,mt.IX)(h,{borderRadiusOuter:Math.min(h.borderRadiusOuter,4)})));var _n=function(h){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,kt.I$)("Tooltip",_=>{const{borderRadius:L,colorTextLightSolid:Z,colorBgSpotlight:K}=_,G=(0,mt.IX)(_,{tooltipMaxWidth:250,tooltipColor:Z,tooltipBorderRadius:L,tooltipBg:K});return[qt(G),(0,ut._y)(_,"zoom-big-fast")]},Yn,{resetStyle:!1,injectStyle:m})(h)},Lt=I(40665);const Kn=Ge.map(h=>`${h}-inverse`),ln=null;function Gt(h){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,Lt.Z)(Kn),(0,Lt.Z)(Ge)).includes(h):Ge.includes(h)}function Bt(h){return ln.includes(h)}function Nn(h,m){const C=Gt(m),_=$()({[`${h}-${m}`]:m&&C}),L={},Z={};return m&&!C&&(L.background=m,Z["--antd-arrow-background-color"]=m),{className:_,overlayStyle:L,arrowStyle:Z}}var rn=h=>{const{prefixCls:m,className:C,placement:_="top",title:L,color:Z,overlayInnerStyle:K}=h,{getPrefixCls:G}=u.useContext(X.E_),ue=G("tooltip",m),[me,Ee,Se]=_n(ue),We=Nn(ue,Z),Ae=We.arrowStyle,et=Object.assign(Object.assign({},K),We.overlayStyle),ze=$()(Ee,Se,ue,`${ue}-pure`,`${ue}-placement-${_}`,C,We.className);return me(u.createElement("div",{className:ze,style:Ae},u.createElement("div",{className:`${ue}-arrow`}),u.createElement(Be.G,Object.assign({},h,{className:Ee,prefixCls:ue,overlayInnerStyle:et}),L)))},cn=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const Mi=u.forwardRef((h,m)=>{var C,_;const{prefixCls:L,openClassName:Z,getTooltipContainer:K,overlayClassName:G,color:ue,overlayInnerStyle:me,children:Ee,afterOpenChange:Se,afterVisibleChange:We,destroyTooltipOnHide:Ae,arrow:et=!0,title:ze,overlay:Ke,builtinPlacements:pt,arrowPointAtCenter:Ye=!1,autoAdjustOverflow:Ot=!0}=h,gt=!!et,[,Wt]=(0,vi.ZP)(),{getPopupContainer:un,getPrefixCls:Mn,direction:An}=u.useContext(X.E_),Jn=(0,Ht.ln)("Tooltip"),En=u.useRef(null),$n=()=>{var br;(br=En.current)===null||br===void 0||br.forceAlign()};u.useImperativeHandle(m,()=>{var br;return{forceAlign:$n,forcePopupAlign:()=>{Jn.deprecated(!1,"forcePopupAlign","forceAlign"),$n()},nativeElement:(br=En.current)===null||br===void 0?void 0:br.nativeElement}});const[wn,ui]=(0,de.Z)(!1,{value:(C=h.open)!==null&&C!==void 0?C:h.visible,defaultValue:(_=h.defaultOpen)!==null&&_!==void 0?_:h.defaultVisible}),Gn=!ze&&!Ke&&ze!==0,li=br=>{var Xs,fo;ui(Gn?!1:br),Gn||((Xs=h.onOpenChange)===null||Xs===void 0||Xs.call(h,br),(fo=h.onVisibleChange)===null||fo===void 0||fo.call(h,br))},ci=u.useMemo(()=>{var br,Xs;let fo=Ye;return typeof et=="object"&&(fo=(Xs=(br=et.pointAtCenter)!==null&&br!==void 0?br:et.arrowPointAtCenter)!==null&&Xs!==void 0?Xs:Ye),pt||lt({arrowPointAtCenter:fo,autoAdjustOverflow:Ot,arrowWidth:gt?Wt.sizePopupArrow:0,borderRadius:Wt.borderRadius,offset:Wt.marginXXS,visibleFirst:!0})},[Ye,et,pt,Wt]),gi=u.useMemo(()=>ze===0?ze:Ke||ze||"",[Ke,ze]),Bn=u.createElement(Qe.Z,{space:!0},typeof gi=="function"?gi():gi),{getPopupContainer:Ti,placement:Qi="top",mouseEnterDelay:rs=.1,mouseLeaveDelay:lo=.1,overlayStyle:Zs,rootClassName:es}=h,lr=cn(h,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),ws=Mn("tooltip",L),Er=Mn(),Zr=h["data-popover-inject"];let bs=wn;!("open"in h)&&!("visible"in h)&&Gn&&(bs=!1);const Ii=u.isValidElement(Ee)&&!(0,ne.M2)(Ee)?Ee:u.createElement("span",null,Ee),ei=Ii.props,Cr=!ei.className||typeof ei.className=="string"?$()(ei.className,Z||`${ws}-open`):ei.className,[ts,Bi,Br]=_n(ws,!Zr),ls=Nn(ws,ue),dr=ls.arrowStyle,ps=Object.assign(Object.assign({},me),ls.overlayStyle),Ur=$()(G,{[`${ws}-rtl`]:An==="rtl"},ls.className,es,Bi,Br),[Jo,Gs]=(0,Oe.Cn)("Tooltip",lr.zIndex),Fs=u.createElement(Be.Z,Object.assign({},lr,{zIndex:Jo,showArrow:gt,placement:Qi,mouseEnterDelay:rs,mouseLeaveDelay:lo,prefixCls:ws,overlayClassName:Ur,overlayStyle:Object.assign(Object.assign({},dr),Zs),getTooltipContainer:Ti||K||un,ref:En,builtinPlacements:ci,overlay:Bn,visible:bs,onVisibleChange:li,afterVisibleChange:Se!=null?Se:We,overlayInnerStyle:ps,arrowContent:u.createElement("span",{className:`${ws}-arrow-content`}),motion:{motionName:(0,xe.m)(Er,"zoom-big-fast",h.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!Ae}),bs?(0,ne.Tm)(Ii,{className:Cr}):Ii);return ts(u.createElement(Pn.Z.Provider,{value:Gs},Fs))});Mi._InternalPanelDoNotUseOrYouWillBeFired=rn;var as=Mi;const dn=h=>{const{componentCls:m,popoverColor:C,titleMinWidth:_,fontWeightStrong:L,innerPadding:Z,boxShadowSecondary:K,colorTextHeading:G,borderRadiusLG:ue,zIndexPopup:me,titleMarginBottom:Ee,colorBgElevated:Se,popoverBg:We,titleBorderBottom:Ae,innerContentPadding:et,titlePadding:ze}=h;return[{[m]:Object.assign(Object.assign({},(0,Rt.Wf)(h)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:me,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":Se,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${m}-content`]:{position:"relative"},[`${m}-inner`]:{backgroundColor:We,backgroundClip:"padding-box",borderRadius:ue,boxShadow:K,padding:Z},[`${m}-title`]:{minWidth:_,marginBottom:Ee,color:G,fontWeight:L,borderBottom:Ae,padding:ze},[`${m}-inner-content`]:{color:C,padding:et}})},tt(h,"var(--antd-arrow-background-color)"),{[`${m}-pure`]:{position:"relative",maxWidth:"none",margin:h.sizePopupArrow,display:"inline-block",[`${m}-content`]:{display:"inline-block"}}}]},Rr=h=>{const{componentCls:m}=h;return{[m]:Ge.map(C=>{const _=h[`${C}6`];return{[`&${m}-${C}`]:{"--antd-arrow-background-color":_,[`${m}-inner`]:{backgroundColor:_},[`${m}-arrow`]:{background:"transparent"}}}})}},is=h=>{const{lineWidth:m,controlHeight:C,fontHeight:_,padding:L,wireframe:Z,zIndexPopupBase:K,borderRadiusLG:G,marginXS:ue,lineType:me,colorSplit:Ee,paddingSM:Se}=h,We=C-_,Ae=We/2,et=We/2-m,ze=L;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:K+30},at(h)),Ue({contentRadius:G,limitVerticalRadius:!0})),{innerPadding:Z?0:12,titleMarginBottom:Z?0:ue,titlePadding:Z?`${Ae}px ${ze}px ${et}px`:0,titleBorderBottom:Z?`${m}px ${me} ${Ee}`:"none",innerContentPadding:Z?`${Se}px ${ze}px`:0})};var mr=(0,kt.I$)("Popover",h=>{const{colorBgElevated:m,colorText:C}=h,_=(0,mt.IX)(h,{popoverBg:m,popoverColor:C});return[dn(_),Rr(_),(0,ut._y)(_,"zoom-big")]},is,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),bi=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const qn=h=>{let{title:m,content:C,prefixCls:_}=h;return!m&&!C?null:u.createElement(u.Fragment,null,m&&u.createElement("div",{className:`${_}-title`},m),C&&u.createElement("div",{className:`${_}-inner-content`},C))},Fi=h=>{const{hashId:m,prefixCls:C,className:_,style:L,placement:Z="top",title:K,content:G,children:ue}=h,me=ct(K),Ee=ct(G),Se=$()(m,C,`${C}-pure`,`${C}-placement-${Z}`,_);return u.createElement("div",{className:Se,style:L},u.createElement("div",{className:`${C}-arrow`}),u.createElement(Be.G,Object.assign({},h,{className:m,prefixCls:C}),ue||u.createElement(qn,{prefixCls:C,title:me,content:Ee})))};var it=h=>{const{prefixCls:m,className:C}=h,_=bi(h,["prefixCls","className"]),{getPrefixCls:L}=u.useContext(X.E_),Z=L("popover",m),[K,G,ue]=mr(Z);return K(u.createElement(Fi,Object.assign({},_,{prefixCls:Z,hashId:G,className:$()(C,ue)})))},Vs=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const zr=u.forwardRef((h,m)=>{var C,_;const{prefixCls:L,title:Z,content:K,overlayClassName:G,placement:ue="top",trigger:me="hover",children:Ee,mouseEnterDelay:Se=.1,mouseLeaveDelay:We=.1,onOpenChange:Ae,overlayStyle:et={}}=h,ze=Vs(h,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:Ke}=u.useContext(X.E_),pt=Ke("popover",L),[Ye,Ot,gt]=mr(pt),Wt=Ke(),un=$()(G,Ot,gt),[Mn,An]=(0,de.Z)(!1,{value:(C=h.open)!==null&&C!==void 0?C:h.visible,defaultValue:(_=h.defaultOpen)!==null&&_!==void 0?_:h.defaultVisible}),Jn=(Gn,li)=>{An(Gn,!0),Ae==null||Ae(Gn,li)},En=Gn=>{Gn.keyCode===oe.Z.ESC&&Jn(!1,Gn)},$n=Gn=>{Jn(Gn)},wn=ct(Z),ui=ct(K);return Ye(u.createElement(as,Object.assign({placement:ue,trigger:me,mouseEnterDelay:Se,mouseLeaveDelay:We,overlayStyle:et},ze,{prefixCls:pt,overlayClassName:un,ref:m,open:Mn,onOpenChange:$n,overlay:wn||ui?u.createElement(qn,{prefixCls:pt,title:wn,content:ui}):null,transitionName:(0,xe.m)(Wt,"zoom-big",ze.transitionName),"data-popover-inject":!0}),(0,ne.Tm)(Ee,{onKeyDown:Gn=>{var li,ci;u.isValidElement(Ee)&&((ci=Ee==null?void 0:(li=Ee.props).onKeyDown)===null||ci===void 0||ci.call(li,Gn)),En(Gn)}})))});zr._InternalPanelDoNotUseOrYouWillBeFired=it;var kr=zr,Hn=I(23917),ce=I(71479),Qt=I(38172),gn=I(89856),Ft=I(30985),on=I(97171),Cn=I(88598),Or=I(14280),ds=I(37747),io=I(58424),$r=I(63194);const fr=Math.round;function ir(h,m){const C=h.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],_=C.map(L=>parseFloat(L));for(let L=0;L<3;L+=1)_[L]=m(_[L]||0,C[L]||"",L);return C[3]?_[3]=C[3].includes("%")?_[3]/100:_[3]:_[3]=1,_}const _r=(h,m,C)=>C===0?h:h/100;function hs(h,m){const C=m||255;return h>C?C:h<0?0:h}class dt{constructor(m){(0,Ft.Z)(this,"isValid",!0),(0,Ft.Z)(this,"r",0),(0,Ft.Z)(this,"g",0),(0,Ft.Z)(this,"b",0),(0,Ft.Z)(this,"a",1),(0,Ft.Z)(this,"_h",void 0),(0,Ft.Z)(this,"_s",void 0),(0,Ft.Z)(this,"_l",void 0),(0,Ft.Z)(this,"_v",void 0),(0,Ft.Z)(this,"_max",void 0),(0,Ft.Z)(this,"_min",void 0),(0,Ft.Z)(this,"_brightness",void 0);function C(_){return _[0]in m&&_[1]in m&&_[2]in m}if(m)if(typeof m=="string"){let L=function(Z){return _.startsWith(Z)};const _=m.trim();/^#?[A-F\d]{3,8}$/i.test(_)?this.fromHexString(_):L("rgb")?this.fromRgbString(_):L("hsl")?this.fromHslString(_):(L("hsv")||L("hsb"))&&this.fromHsvString(_)}else if(m instanceof dt)this.r=m.r,this.g=m.g,this.b=m.b,this.a=m.a,this._h=m._h,this._s=m._s,this._l=m._l,this._v=m._v;else if(C("rgb"))this.r=hs(m.r),this.g=hs(m.g),this.b=hs(m.b),this.a=typeof m.a=="number"?hs(m.a,1):1;else if(C("hsl"))this.fromHsl(m);else if(C("hsv"))this.fromHsv(m);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(m))}setR(m){return this._sc("r",m)}setG(m){return this._sc("g",m)}setB(m){return this._sc("b",m)}setA(m){return this._sc("a",m,1)}setHue(m){const C=this.toHsv();return C.h=m,this._c(C)}getLuminance(){function m(Z){const K=Z/255;return K<=.03928?K/12.92:Math.pow((K+.055)/1.055,2.4)}const C=m(this.r),_=m(this.g),L=m(this.b);return .2126*C+.7152*_+.0722*L}getHue(){if(typeof this._h=="undefined"){const m=this.getMax()-this.getMin();m===0?this._h=0:this._h=fr(60*(this.r===this.getMax()?(this.g-this.b)/m+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/m+2:(this.r-this.g)/m+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const m=this.getMax()-this.getMin();m===0?this._s=0:this._s=m/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(m=10){const C=this.getHue(),_=this.getSaturation();let L=this.getLightness()-m/100;return L<0&&(L=0),this._c({h:C,s:_,l:L,a:this.a})}lighten(m=10){const C=this.getHue(),_=this.getSaturation();let L=this.getLightness()+m/100;return L>1&&(L=1),this._c({h:C,s:_,l:L,a:this.a})}mix(m,C=50){const _=this._c(m),L=C/100,Z=G=>(_[G]-this[G])*L+this[G],K={r:fr(Z("r")),g:fr(Z("g")),b:fr(Z("b")),a:fr(Z("a")*100)/100};return this._c(K)}tint(m=10){return this.mix({r:255,g:255,b:255,a:1},m)}shade(m=10){return this.mix({r:0,g:0,b:0,a:1},m)}onBackground(m){const C=this._c(m),_=this.a+C.a*(1-this.a),L=Z=>fr((this[Z]*this.a+C[Z]*C.a*(1-this.a))/_);return this._c({r:L("r"),g:L("g"),b:L("b"),a:_})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(m){return this.r===m.r&&this.g===m.g&&this.b===m.b&&this.a===m.a}clone(){return this._c(this)}toHexString(){let m="#";const C=(this.r||0).toString(16);m+=C.length===2?C:"0"+C;const _=(this.g||0).toString(16);m+=_.length===2?_:"0"+_;const L=(this.b||0).toString(16);if(m+=L.length===2?L:"0"+L,typeof this.a=="number"&&this.a>=0&&this.a<1){const Z=fr(this.a*255).toString(16);m+=Z.length===2?Z:"0"+Z}return m}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const m=this.getHue(),C=fr(this.getSaturation()*100),_=fr(this.getLightness()*100);return this.a!==1?`hsla(${m},${C}%,${_}%,${this.a})`:`hsl(${m},${C}%,${_}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(m,C,_){const L=this.clone();return L[m]=hs(C,_),L}_c(m){return new this.constructor(m)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(m){const C=m.replace("#","");function _(L,Z){return parseInt(C[L]+C[Z||L],16)}C.length<6?(this.r=_(0),this.g=_(1),this.b=_(2),this.a=C[3]?_(3)/255:1):(this.r=_(0,1),this.g=_(2,3),this.b=_(4,5),this.a=C[6]?_(6,7)/255:1)}fromHsl({h:m,s:C,l:_,a:L}){if(this._h=m%360,this._s=C,this._l=_,this.a=typeof L=="number"?L:1,C<=0){const We=fr(_*255);this.r=We,this.g=We,this.b=We}let Z=0,K=0,G=0;const ue=m/60,me=(1-Math.abs(2*_-1))*C,Ee=me*(1-Math.abs(ue%2-1));ue>=0&&ue<1?(Z=me,K=Ee):ue>=1&&ue<2?(Z=Ee,K=me):ue>=2&&ue<3?(K=me,G=Ee):ue>=3&&ue<4?(K=Ee,G=me):ue>=4&&ue<5?(Z=Ee,G=me):ue>=5&&ue<6&&(Z=me,G=Ee);const Se=_-me/2;this.r=fr((Z+Se)*255),this.g=fr((K+Se)*255),this.b=fr((G+Se)*255)}fromHsv({h:m,s:C,v:_,a:L}){this._h=m%360,this._s=C,this._v=_,this.a=typeof L=="number"?L:1;const Z=fr(_*255);if(this.r=Z,this.g=Z,this.b=Z,C<=0)return;const K=m/60,G=Math.floor(K),ue=K-G,me=fr(_*(1-C)*255),Ee=fr(_*(1-C*ue)*255),Se=fr(_*(1-C*(1-ue))*255);switch(G){case 0:this.g=Se,this.b=me;break;case 1:this.r=Ee,this.b=me;break;case 2:this.r=me,this.b=Se;break;case 3:this.r=me,this.g=Ee;break;case 4:this.r=Se,this.g=me;break;case 5:default:this.g=me,this.b=Ee;break}}fromHsvString(m){const C=ir(m,_r);this.fromHsv({h:C[0],s:C[1],v:C[2],a:C[3]})}fromHslString(m){const C=ir(m,_r);this.fromHsl({h:C[0],s:C[1],l:C[2],a:C[3]})}fromRgbString(m){const C=ir(m,(_,L)=>L.includes("%")?fr(_/100*255):_);this.r=C[0],this.g=C[1],this.b=C[2],this.a=C[3]}}var vt=["b"],Ut=["v"],ti=function(m){return Math.round(Number(m||0))},Si=function(m){if(m instanceof dt)return m;if(m&&(0,$r.Z)(m)==="object"&&"h"in m&&"b"in m){var C=m,_=C.b,L=(0,io.Z)(C,vt);return(0,Cn.Z)((0,Cn.Z)({},L),{},{v:_})}return typeof m=="string"&&/hsb/.test(m)?m.replace(/hsb/,"hsv"):m},Li=function(h){(0,Or.Z)(C,h);var m=(0,ds.Z)(C);function C(_){return(0,ce.Z)(this,C),m.call(this,Si(_))}return(0,Qt.Z)(C,[{key:"toHsbString",value:function(){var L=this.toHsb(),Z=ti(L.s*100),K=ti(L.b*100),G=ti(L.h),ue=L.a,me="hsb(".concat(G,", ").concat(Z,"%, ").concat(K,"%)"),Ee="hsba(".concat(G,", ").concat(Z,"%, ").concat(K,"%, ").concat(ue.toFixed(ue===0?0:2),")");return ue===1?me:Ee}},{key:"toHsb",value:function(){var L=this.toHsv(),Z=L.v,K=(0,io.Z)(L,Ut);return(0,Cn.Z)((0,Cn.Z)({},K),{},{b:Z,a:this.a})}}]),C}(dt),Ds="rc-color-picker",Sr=function(m){return m instanceof Li?m:new Li(m)},Ls=Sr("#1677ff"),Us=function(m){var C=m.offset,_=m.targetRef,L=m.containerRef,Z=m.color,K=m.type,G=L.current.getBoundingClientRect(),ue=G.width,me=G.height,Ee=_.current.getBoundingClientRect(),Se=Ee.width,We=Ee.height,Ae=Se/2,et=We/2,ze=(C.x+Ae)/ue,Ke=1-(C.y+et)/me,pt=Z.toHsb(),Ye=ze,Ot=(C.x+Ae)/ue*360;if(K)switch(K){case"hue":return Sr((0,Cn.Z)((0,Cn.Z)({},pt),{},{h:Ot<=0?0:Ot}));case"alpha":return Sr((0,Cn.Z)((0,Cn.Z)({},pt),{},{a:Ye<=0?0:Ye}))}return Sr({h:pt.h,s:ze<=0?0:ze,b:Ke>=1?1:Ke,a:pt.a})},As=function(m,C){var _=m.toHsb();switch(C){case"hue":return{x:_.h/360*100,y:50};case"alpha":return{x:m.a*100,y:50};default:return{x:_.s*100,y:(1-_.b)*100}}},yo=function(m){var C=m.color,_=m.prefixCls,L=m.className,Z=m.style,K=m.onClick,G="".concat(_,"-color-block");return u.createElement("div",{className:$()(G,L),style:Z,onClick:K},u.createElement("div",{className:"".concat(G,"-inner"),style:{background:C}}))},Ss=yo;function wo(h){var m="touches"in h?h.touches[0]:h,C=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,_=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:m.pageX-C,pageY:m.pageY-_}}function Mo(h){var m=h.targetRef,C=h.containerRef,_=h.direction,L=h.onDragChange,Z=h.onDragChangeComplete,K=h.calculate,G=h.color,ue=h.disabledDrag,me=(0,u.useState)({x:0,y:0}),Ee=(0,on.Z)(me,2),Se=Ee[0],We=Ee[1],Ae=(0,u.useRef)(null),et=(0,u.useRef)(null);(0,u.useEffect)(function(){We(K())},[G]),(0,u.useEffect)(function(){return function(){document.removeEventListener("mousemove",Ae.current),document.removeEventListener("mouseup",et.current),document.removeEventListener("touchmove",Ae.current),document.removeEventListener("touchend",et.current),Ae.current=null,et.current=null}},[]);var ze=function(gt){var Wt=wo(gt),un=Wt.pageX,Mn=Wt.pageY,An=C.current.getBoundingClientRect(),Jn=An.x,En=An.y,$n=An.width,wn=An.height,ui=m.current.getBoundingClientRect(),Gn=ui.width,li=ui.height,ci=Gn/2,gi=li/2,Bn=Math.max(0,Math.min(un-Jn,$n))-ci,Ti=Math.max(0,Math.min(Mn-En,wn))-gi,Qi={x:Bn,y:_==="x"?Se.y:Ti};if(Gn===0&&li===0||Gn!==li)return!1;L==null||L(Qi)},Ke=function(gt){gt.preventDefault(),ze(gt)},pt=function(gt){gt.preventDefault(),document.removeEventListener("mousemove",Ae.current),document.removeEventListener("mouseup",et.current),document.removeEventListener("touchmove",Ae.current),document.removeEventListener("touchend",et.current),Ae.current=null,et.current=null,Z==null||Z()},Ye=function(gt){document.removeEventListener("mousemove",Ae.current),document.removeEventListener("mouseup",et.current),!ue&&(ze(gt),document.addEventListener("mousemove",Ke),document.addEventListener("mouseup",pt),document.addEventListener("touchmove",Ke),document.addEventListener("touchend",pt),Ae.current=Ke,et.current=pt)};return[Se,Ye]}var It=Mo,Rn=I(28774),zn=function(m){var C=m.size,_=C===void 0?"default":C,L=m.color,Z=m.prefixCls;return u.createElement("div",{className:$()("".concat(Z,"-handler"),(0,Ft.Z)({},"".concat(Z,"-handler-sm"),_==="small")),style:{backgroundColor:L}})},an=zn,Vn=function(m){var C=m.children,_=m.style,L=m.prefixCls;return u.createElement("div",{className:"".concat(L,"-palette"),style:(0,Cn.Z)({position:"relative"},_)},C)},Dn=Vn,ri=(0,u.forwardRef)(function(h,m){var C=h.children,_=h.x,L=h.y;return u.createElement("div",{ref:m,style:{position:"absolute",left:"".concat(_,"%"),top:"".concat(L,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},C)}),Ni=ri,Hr=function(m){var C=m.color,_=m.onChange,L=m.prefixCls,Z=m.onChangeComplete,K=m.disabled,G=(0,u.useRef)(),ue=(0,u.useRef)(),me=(0,u.useRef)(C),Ee=(0,Rn.zX)(function(ze){var Ke=Us({offset:ze,targetRef:ue,containerRef:G,color:C});me.current=Ke,_(Ke)}),Se=It({color:C,containerRef:G,targetRef:ue,calculate:function(){return As(C)},onDragChange:Ee,onDragChangeComplete:function(){return Z==null?void 0:Z(me.current)},disabledDrag:K}),We=(0,on.Z)(Se,2),Ae=We[0],et=We[1];return u.createElement("div",{ref:G,className:"".concat(L,"-select"),onMouseDown:et,onTouchStart:et},u.createElement(Dn,{prefixCls:L},u.createElement(Ni,{x:Ae.x,y:Ae.y,ref:ue},u.createElement(an,{color:C.toRgbString(),prefixCls:L})),u.createElement("div",{className:"".concat(L,"-saturation"),style:{backgroundColor:"hsl(".concat(C.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},pr=Hr,Ir=function(m,C){var _=(0,Rn.C8)(m,{value:C}),L=(0,on.Z)(_,2),Z=L[0],K=L[1],G=(0,u.useMemo)(function(){return Sr(Z)},[Z]);return[G,K]},vr=Ir,zs=function(m){var C=m.colors,_=m.children,L=m.direction,Z=L===void 0?"to right":L,K=m.type,G=m.prefixCls,ue=(0,u.useMemo)(function(){return C.map(function(me,Ee){var Se=Sr(me);return K==="alpha"&&Ee===C.length-1&&(Se=new Li(Se.setA(1))),Se.toRgbString()}).join(",")},[C,K]);return u.createElement("div",{className:"".concat(G,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(Z,", ").concat(ue,")")}},_)},so=zs,Xr=function(m){var C=m.prefixCls,_=m.colors,L=m.disabled,Z=m.onChange,K=m.onChangeComplete,G=m.color,ue=m.type,me=(0,u.useRef)(),Ee=(0,u.useRef)(),Se=(0,u.useRef)(G),We=function(Wt){return ue==="hue"?Wt.getHue():Wt.a*100},Ae=(0,Rn.zX)(function(gt){var Wt=Us({offset:gt,targetRef:Ee,containerRef:me,color:G,type:ue});Se.current=Wt,Z(We(Wt))}),et=It({color:G,targetRef:Ee,containerRef:me,calculate:function(){return As(G,ue)},onDragChange:Ae,onDragChangeComplete:function(){K(We(Se.current))},direction:"x",disabledDrag:L}),ze=(0,on.Z)(et,2),Ke=ze[0],pt=ze[1],Ye=u.useMemo(function(){if(ue==="hue"){var gt=G.toHsb();gt.s=1,gt.b=1,gt.a=1;var Wt=new Li(gt);return Wt}return G},[G,ue]),Ot=u.useMemo(function(){return _.map(function(gt){return"".concat(gt.color," ").concat(gt.percent,"%")})},[_]);return u.createElement("div",{ref:me,className:$()("".concat(C,"-slider"),"".concat(C,"-slider-").concat(ue)),onMouseDown:pt,onTouchStart:pt},u.createElement(Dn,{prefixCls:C},u.createElement(Ni,{x:Ke.x,y:Ke.y,ref:Ee},u.createElement(an,{size:"small",color:Ye.toHexString(),prefixCls:C})),u.createElement(so,{colors:Ot,type:ue,prefixCls:C})))},Ws=Xr;function jo(h){return u.useMemo(function(){var m=h||{},C=m.slider;return[C||Ws]},[h])}var Js=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Qs=(0,u.forwardRef)(function(h,m){var C=h.value,_=h.defaultValue,L=h.prefixCls,Z=L===void 0?Ds:L,K=h.onChange,G=h.onChangeComplete,ue=h.className,me=h.style,Ee=h.panelRender,Se=h.disabledAlpha,We=Se===void 0?!1:Se,Ae=h.disabled,et=Ae===void 0?!1:Ae,ze=h.components,Ke=jo(ze),pt=(0,on.Z)(Ke,1),Ye=pt[0],Ot=vr(_||Ls,C),gt=(0,on.Z)(Ot,2),Wt=gt[0],un=gt[1],Mn=(0,u.useMemo)(function(){return Wt.setA(1).toRgbString()},[Wt]),An=function(Ti,Qi){C||un(Ti),K==null||K(Ti,Qi)},Jn=function(Ti){return new Li(Wt.setHue(Ti))},En=function(Ti){return new Li(Wt.setA(Ti/100))},$n=function(Ti){An(Jn(Ti),{type:"hue",value:Ti})},wn=function(Ti){An(En(Ti),{type:"alpha",value:Ti})},ui=function(Ti){G&&G(Jn(Ti))},Gn=function(Ti){G&&G(En(Ti))},li=$()("".concat(Z,"-panel"),ue,(0,Ft.Z)({},"".concat(Z,"-panel-disabled"),et)),ci={prefixCls:Z,disabled:et,color:Wt},gi=u.createElement(u.Fragment,null,u.createElement(pr,(0,gn.Z)({onChange:An},ci,{onChangeComplete:G})),u.createElement("div",{className:"".concat(Z,"-slider-container")},u.createElement("div",{className:$()("".concat(Z,"-slider-group"),(0,Ft.Z)({},"".concat(Z,"-slider-group-disabled-alpha"),We))},u.createElement(Ye,(0,gn.Z)({},ci,{type:"hue",colors:Js,min:0,max:359,value:Wt.getHue(),onChange:$n,onChangeComplete:ui})),!We&&u.createElement(Ye,(0,gn.Z)({},ci,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:Mn}],min:0,max:100,value:Wt.a*100,onChange:wn,onChangeComplete:Gn}))),u.createElement(Ss,{color:Wt.toRgbString(),prefixCls:Z})));return u.createElement("div",{className:li,style:me,ref:m},typeof Ee=="function"?Ee(gi):gi)}),_i=Qs,eo=_i;const js=(h,m)=>(h==null?void 0:h.replace(/[^\w/]/gi,"").slice(0,m?8:6))||"",Ps=(h,m)=>h?js(h,m):"";let Vr=function(){function h(m){(0,ce.Z)(this,h);var C;if(this.cleared=!1,m instanceof h){this.metaColor=m.metaColor.clone(),this.colors=(C=m.colors)===null||C===void 0?void 0:C.map(L=>({color:new h(L.color),percent:L.percent})),this.cleared=m.cleared;return}const _=Array.isArray(m);_&&m.length?(this.colors=m.map(L=>{let{color:Z,percent:K}=L;return{color:new h(Z),percent:K}}),this.metaColor=new Li(this.colors[0].color.metaColor)):this.metaColor=new Li(_?"":m),(!m||_&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return(0,Qt.Z)(h,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Ps(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:C}=this;return C?`linear-gradient(90deg, ${C.map(L=>`${L.color.toRgbString()} ${L.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(C){return!C||this.isGradient()!==C.isGradient()?!1:this.isGradient()?this.colors.length===C.colors.length&&this.colors.every((_,L)=>{const Z=C.colors[L];return _.percent===Z.percent&&_.color.equals(Z.color)}):this.toHexString()===C.toHexString()}}])}();var Wr=I(26579),Hi=I(40570),qr=I(3083),Jr=I(2021),gr=I(61435),oo=function(m){return m?{left:m.offsetLeft,right:m.parentElement.clientWidth-m.clientWidth-m.offsetLeft,width:m.clientWidth}:null},Yi=function(m){return m!==void 0?"".concat(m,"px"):void 0};function to(h){var m=h.prefixCls,C=h.containerRef,_=h.value,L=h.getValueIndex,Z=h.motionName,K=h.onMotionStart,G=h.onMotionEnd,ue=h.direction,me=u.useRef(null),Ee=u.useState(_),Se=(0,on.Z)(Ee,2),We=Se[0],Ae=Se[1],et=function(ui){var Gn,li=L(ui),ci=(Gn=C.current)===null||Gn===void 0?void 0:Gn.querySelectorAll(".".concat(m,"-item"))[li];return(ci==null?void 0:ci.offsetParent)&&ci},ze=u.useState(null),Ke=(0,on.Z)(ze,2),pt=Ke[0],Ye=Ke[1],Ot=u.useState(null),gt=(0,on.Z)(Ot,2),Wt=gt[0],un=gt[1];(0,Hi.Z)(function(){if(We!==_){var wn=et(We),ui=et(_),Gn=oo(wn),li=oo(ui);Ae(_),Ye(Gn),un(li),wn&&ui?K():G()}},[_]);var Mn=u.useMemo(function(){return Yi(ue==="rtl"?-(pt==null?void 0:pt.right):pt==null?void 0:pt.left)},[ue,pt]),An=u.useMemo(function(){return Yi(ue==="rtl"?-(Wt==null?void 0:Wt.right):Wt==null?void 0:Wt.left)},[ue,Wt]),Jn=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},En=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},$n=function(){Ye(null),un(null),G()};return!pt||!Wt?null:u.createElement(gr.ZP,{visible:!0,motionName:Z,motionAppear:!0,onAppearStart:Jn,onAppearActive:En,onVisibleChanged:$n},function(wn,ui){var Gn=wn.className,li=wn.style,ci=(0,Cn.Z)((0,Cn.Z)({},li),{},{"--thumb-start-left":Mn,"--thumb-start-width":Yi(pt==null?void 0:pt.width),"--thumb-active-left":An,"--thumb-active-width":Yi(Wt==null?void 0:Wt.width)}),gi={ref:(0,qr.sQ)(me,ui),style:ci,className:$()("".concat(m,"-thumb"),Gn)};return u.createElement("div",gi)})}var Ho=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function Ns(h){if(typeof h.title!="undefined")return h.title;if((0,$r.Z)(h.label)!=="object"){var m;return(m=h.label)===null||m===void 0?void 0:m.toString()}}function Zo(h){return h.map(function(m){if((0,$r.Z)(m)==="object"&&m!==null){var C=Ns(m);return(0,Cn.Z)((0,Cn.Z)({},m),{},{title:C})}return{label:m==null?void 0:m.toString(),title:m==null?void 0:m.toString(),value:m}})}var Go=function(m){var C=m.prefixCls,_=m.className,L=m.disabled,Z=m.checked,K=m.label,G=m.title,ue=m.value,me=m.onChange,Ee=function(We){L||me(We,ue)};return u.createElement("label",{className:$()(_,(0,Ft.Z)({},"".concat(C,"-item-disabled"),L))},u.createElement("input",{className:"".concat(C,"-item-input"),type:"radio",disabled:L,checked:Z,onChange:Ee}),u.createElement("div",{className:"".concat(C,"-item-label"),title:G},K))},ys=u.forwardRef(function(h,m){var C,_,L=h.prefixCls,Z=L===void 0?"rc-segmented":L,K=h.direction,G=h.options,ue=G===void 0?[]:G,me=h.disabled,Ee=h.defaultValue,Se=h.value,We=h.onChange,Ae=h.className,et=Ae===void 0?"":Ae,ze=h.motionName,Ke=ze===void 0?"thumb-motion":ze,pt=(0,io.Z)(h,Ho),Ye=u.useRef(null),Ot=u.useMemo(function(){return(0,qr.sQ)(Ye,m)},[Ye,m]),gt=u.useMemo(function(){return Zo(ue)},[ue]),Wt=(0,de.Z)((C=gt[0])===null||C===void 0?void 0:C.value,{value:Se,defaultValue:Ee}),un=(0,on.Z)(Wt,2),Mn=un[0],An=un[1],Jn=u.useState(!1),En=(0,on.Z)(Jn,2),$n=En[0],wn=En[1],ui=function(ci,gi){me||(An(gi),We==null||We(gi))},Gn=(0,Jr.Z)(pt,["children"]);return u.createElement("div",(0,gn.Z)({},Gn,{className:$()(Z,(_={},(0,Ft.Z)(_,"".concat(Z,"-rtl"),K==="rtl"),(0,Ft.Z)(_,"".concat(Z,"-disabled"),me),_),et),ref:Ot}),u.createElement("div",{className:"".concat(Z,"-group")},u.createElement(to,{prefixCls:Z,value:Mn,containerRef:Ye,motionName:"".concat(Z,"-").concat(Ke),direction:K,getValueIndex:function(ci){return gt.findIndex(function(gi){return gi.value===ci})},onMotionStart:function(){wn(!0)},onMotionEnd:function(){wn(!1)}}),gt.map(function(li){return u.createElement(Go,(0,gn.Z)({},li,{key:li.value,prefixCls:Z,className:$()(li.className,"".concat(Z,"-item"),(0,Ft.Z)({},"".concat(Z,"-item-selected"),li.value===Mn&&!$n)),checked:li.value===Mn,onChange:ui,disabled:!!me||!!li.disabled}))})))}),qi=ys,Ui=qi;function Ei(h,m){return{[`${h}, ${h}:hover, ${h}:focus`]:{color:m.colorTextDisabled,cursor:"not-allowed"}}}function xo(h){return{backgroundColor:h.itemSelectedBg,boxShadow:h.boxShadowTertiary}}const Os=Object.assign({overflow:"hidden"},Rt.vS),Xo=h=>{const{componentCls:m}=h,C=h.calc(h.controlHeight).sub(h.calc(h.trackPadding).mul(2)).equal(),_=h.calc(h.controlHeightLG).sub(h.calc(h.trackPadding).mul(2)).equal(),L=h.calc(h.controlHeightSM).sub(h.calc(h.trackPadding).mul(2)).equal();return{[m]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Rt.Wf)(h)),{display:"inline-block",padding:h.trackPadding,color:h.itemColor,background:h.trackBg,borderRadius:h.borderRadius,transition:`all ${h.motionDurationMid} ${h.motionEaseInOut}`,[`${m}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${m}-rtl`]:{direction:"rtl"},[`&${m}-block`]:{display:"flex"},[`&${m}-block ${m}-item`]:{flex:1,minWidth:0},[`${m}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${h.motionDurationMid} ${h.motionEaseInOut}`,borderRadius:h.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},xo(h)),{color:h.itemSelectedColor}),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${h.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${m}-item-selected):not(${m}-item-disabled)`]:{color:h.itemHoverColor,"&::after":{backgroundColor:h.itemHoverBg}},[`&:active:not(${m}-item-selected):not(${m}-item-disabled)`]:{color:h.itemHoverColor,"&::after":{backgroundColor:h.itemActiveBg}},"&-label":Object.assign({minHeight:C,lineHeight:(0,Ce.bf)(C),padding:`0 ${(0,Ce.bf)(h.segmentedPaddingHorizontal)}`},Os),"&-icon + *":{marginInlineStart:h.calc(h.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${m}-thumb`]:Object.assign(Object.assign({},xo(h)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,Ce.bf)(h.paddingXXS)} 0`,borderRadius:h.borderRadiusSM,[`& ~ ${m}-item:not(${m}-item-selected):not(${m}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${m}-lg`]:{borderRadius:h.borderRadiusLG,[`${m}-item-label`]:{minHeight:_,lineHeight:(0,Ce.bf)(_),padding:`0 ${(0,Ce.bf)(h.segmentedPaddingHorizontal)}`,fontSize:h.fontSizeLG},[`${m}-item, ${m}-thumb`]:{borderRadius:h.borderRadius}},[`&${m}-sm`]:{borderRadius:h.borderRadiusSM,[`${m}-item-label`]:{minHeight:L,lineHeight:(0,Ce.bf)(L),padding:`0 ${(0,Ce.bf)(h.segmentedPaddingHorizontalSM)}`},[`${m}-item, ${m}-thumb`]:{borderRadius:h.borderRadiusXS}}}),Ei(`&-disabled ${m}-item`,h)),Ei(`${m}-item-disabled`,h)),{[`${m}-thumb-motion-appear-active`]:{transition:`transform ${h.motionDurationSlow} ${h.motionEaseInOut}, width ${h.motionDurationSlow} ${h.motionEaseInOut}`,willChange:"transform, width"}})}},Ks=h=>{const{colorTextLabel:m,colorText:C,colorFillSecondary:_,colorBgElevated:L,colorFill:Z,lineWidthBold:K,colorBgLayout:G}=h;return{trackPadding:K,trackBg:G,itemColor:m,itemHoverColor:C,itemHoverBg:_,itemSelectedBg:L,itemActiveBg:Z,itemSelectedColor:C}};var Ea=(0,kt.I$)("Segmented",h=>{const{lineWidth:m,calc:C}=h,_=(0,mt.IX)(h,{segmentedPaddingHorizontal:C(h.controlPaddingHorizontal).sub(m).equal(),segmentedPaddingHorizontalSM:C(h.controlPaddingHorizontalSM).sub(m).equal()});return[Xo(_)]},Ks),Ao=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};function bo(h){return typeof h=="object"&&!!(h!=null&&h.icon)}var zo=u.forwardRef((h,m)=>{const{prefixCls:C,className:_,rootClassName:L,block:Z,options:K=[],size:G="middle",style:ue}=h,me=Ao(h,["prefixCls","className","rootClassName","block","options","size","style"]),{getPrefixCls:Ee,direction:Se,segmented:We}=u.useContext(X.E_),Ae=Ee("segmented",C),[et,ze,Ke]=Ea(Ae),pt=(0,ft.Z)(G),Ye=u.useMemo(()=>K.map(Wt=>{if(bo(Wt)){const{icon:un,label:Mn}=Wt,An=Ao(Wt,["icon","label"]);return Object.assign(Object.assign({},An),{label:u.createElement(u.Fragment,null,u.createElement("span",{className:`${Ae}-item-icon`},un),Mn&&u.createElement("span",null,Mn))})}return Wt}),[K,Ae]),Ot=$()(_,L,We==null?void 0:We.className,{[`${Ae}-block`]:Z,[`${Ae}-sm`]:pt==="small",[`${Ae}-lg`]:pt==="large"},ze,Ke),gt=Object.assign(Object.assign({},We==null?void 0:We.style),ue);return et(u.createElement(Ui,Object.assign({},me,{className:Ot,style:gt,options:Ye,ref:m,prefixCls:Ae,direction:Se})))});const Eo=u.createContext({}),ma=u.createContext({}),uo=h=>h instanceof Vr?h:new Vr(h),Wa=h=>Math.round(Number(h||0)),bl=h=>Wa(h.toHsb().a*100),ka=(h,m)=>{const C=h.toHsb();return C.a=m||1,uo(C)},Al=(h,m)=>{const C=[{percent:0,color:h[0].color}].concat((0,Lt.Z)(h),[{percent:100,color:h[h.length-1].color}]);for(let _=0;_<C.length-1;_+=1){const L=C[_].percent,Z=C[_+1].percent,K=C[_].color,G=C[_+1].color;if(L<=m&&m<=Z){const ue=Z-L;if(ue===0)return K;const me=(m-L)/ue*100,Ee=new Li(K),Se=new Li(G);return Ee.mix(Se,me).toRgbString()}}return""};var ja=h=>{let{prefixCls:m,value:C,onChange:_}=h;const L=()=>{if(_&&C&&!C.cleared){const Z=C.toHsb();Z.a=0;const K=uo(Z);K.cleared=!0,_(K)}};return u.createElement("div",{className:`${m}-clear`,onClick:L})},hl=I(7432),na=I(27741),Za=function(m){var C=m.className,_=m.customizeIcon,L=m.customizeIconProps,Z=m.children,K=m.onMouseDown,G=m.onClick,ue=typeof _=="function"?_(L):_;return u.createElement("span",{className:C,onMouseDown:function(Ee){Ee.preventDefault(),K==null||K(Ee)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:G,"aria-hidden":!0},ue!==void 0?ue:u.createElement("span",{className:$()(C.split(/\s+/).map(function(me){return"".concat(me,"-icon")}))},Z))},$a=Za,Pl=function(m,C,_,L,Z){var K=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,G=arguments.length>6?arguments[6]:void 0,ue=arguments.length>7?arguments[7]:void 0,me=u.useMemo(function(){if((0,$r.Z)(L)==="object")return L.clearIcon;if(Z)return Z},[L,Z]),Ee=u.useMemo(function(){return!!(!K&&L&&(_.length||G)&&!(ue==="combobox"&&G===""))},[L,K,_.length,G,ue]);return{allowClear:Ee,clearIcon:u.createElement($a,{className:"".concat(m,"-clear"),onMouseDown:C,customizeIcon:me},"\xD7")}},Ze=u.createContext(null);function te(){return u.useContext(Ze)}function H(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,m=u.useState(!1),C=(0,on.Z)(m,2),_=C[0],L=C[1],Z=u.useRef(null),K=function(){window.clearTimeout(Z.current)};u.useEffect(function(){return K},[]);var G=function(me,Ee){K(),Z.current=window.setTimeout(function(){L(me),Ee&&Ee()},h)};return[_,G,K]}function le(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,m=u.useRef(null),C=u.useRef(null);u.useEffect(function(){return function(){window.clearTimeout(C.current)}},[]);function _(L){(L||m.current===null)&&(m.current=L),window.clearTimeout(C.current),C.current=window.setTimeout(function(){m.current=null},h)}return[function(){return m.current},_]}function ie(h,m,C,_){var L=u.useRef(null);L.current={open:m,triggerOpen:C,customizedTrigger:_},u.useEffect(function(){function Z(K){var G;if(!((G=L.current)!==null&&G!==void 0&&G.customizedTrigger)){var ue=K.target;ue.shadowRoot&&K.composed&&(ue=K.composedPath()[0]||ue),L.current.open&&h().filter(function(me){return me}).every(function(me){return!me.contains(ue)&&me!==ue})&&L.current.triggerOpen(!1)}}return window.addEventListener("mousedown",Z),function(){return window.removeEventListener("mousedown",Z)}},[])}function $e(h){return![oe.Z.ESC,oe.Z.SHIFT,oe.Z.BACKSPACE,oe.Z.TAB,oe.Z.WIN_KEY,oe.Z.ALT,oe.Z.META,oe.Z.WIN_KEY_RIGHT,oe.Z.CTRL,oe.Z.SEMICOLON,oe.Z.EQUALS,oe.Z.CAPS_LOCK,oe.Z.CONTEXT_MENU,oe.Z.F1,oe.Z.F2,oe.Z.F3,oe.Z.F4,oe.Z.F5,oe.Z.F6,oe.Z.F7,oe.Z.F8,oe.Z.F9,oe.Z.F10,oe.Z.F11,oe.Z.F12].includes(h)}var Fe=I(41045),zt=I(76341),sn=function(m,C){var _,L=m.prefixCls,Z=m.id,K=m.inputElement,G=m.disabled,ue=m.tabIndex,me=m.autoFocus,Ee=m.autoComplete,Se=m.editable,We=m.activeDescendantId,Ae=m.value,et=m.maxLength,ze=m.onKeyDown,Ke=m.onMouseDown,pt=m.onChange,Ye=m.onPaste,Ot=m.onCompositionStart,gt=m.onCompositionEnd,Wt=m.open,un=m.attrs,Mn=K||u.createElement("input",null),An=Mn,Jn=An.ref,En=An.props,$n=En.onKeyDown,wn=En.onChange,ui=En.onMouseDown,Gn=En.onCompositionStart,li=En.onCompositionEnd,ci=En.style;return(0,hl.Kp)(!("maxLength"in Mn.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Mn=u.cloneElement(Mn,(0,Cn.Z)((0,Cn.Z)((0,Cn.Z)({type:"search"},En),{},{id:Z,ref:(0,qr.sQ)(C,Jn),disabled:G,tabIndex:ue,autoComplete:Ee||"off",autoFocus:me,className:$()("".concat(L,"-selection-search-input"),(_=Mn)===null||_===void 0||(_=_.props)===null||_===void 0?void 0:_.className),role:"combobox","aria-expanded":Wt||!1,"aria-haspopup":"listbox","aria-owns":"".concat(Z,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(Z,"_list"),"aria-activedescendant":Wt?We:void 0},un),{},{value:Se?Ae:"",maxLength:et,readOnly:!Se,unselectable:Se?null:"on",style:(0,Cn.Z)((0,Cn.Z)({},ci),{},{opacity:Se?null:0}),onKeyDown:function(Bn){ze(Bn),$n&&$n(Bn)},onMouseDown:function(Bn){Ke(Bn),ui&&ui(Bn)},onChange:function(Bn){pt(Bn),wn&&wn(Bn)},onCompositionStart:function(Bn){Ot(Bn),Gn&&Gn(Bn)},onCompositionEnd:function(Bn){gt(Bn),li&&li(Bn)},onPaste:Ye})),Mn},On=u.forwardRef(sn),Yt=On;function g(h){return Array.isArray(h)?h:h!==void 0?[h]:[]}var b=typeof window!="undefined"&&window.document&&window.document.documentElement,T=b;function D(h){return h!=null}function k(h){return!h&&h!==0}function z(h){return["string","number"].includes((0,$r.Z)(h))}function J(h){var m=void 0;return h&&(z(h.title)?m=h.title.toString():z(h.label)&&(m=h.label.toString())),m}function _e(h,m){T?u.useLayoutEffect(h,m):u.useEffect(h,m)}function Me(h){var m;return(m=h.key)!==null&&m!==void 0?m:h.value}var He=function(m){m.preventDefault(),m.stopPropagation()},Dt=function(m){var C=m.id,_=m.prefixCls,L=m.values,Z=m.open,K=m.searchValue,G=m.autoClearSearchValue,ue=m.inputRef,me=m.placeholder,Ee=m.disabled,Se=m.mode,We=m.showSearch,Ae=m.autoFocus,et=m.autoComplete,ze=m.activeDescendantId,Ke=m.tabIndex,pt=m.removeIcon,Ye=m.maxTagCount,Ot=m.maxTagTextLength,gt=m.maxTagPlaceholder,Wt=gt===void 0?function(ts){return"+ ".concat(ts.length," ...")}:gt,un=m.tagRender,Mn=m.onToggleOpen,An=m.onRemove,Jn=m.onInputChange,En=m.onInputPaste,$n=m.onInputKeyDown,wn=m.onInputMouseDown,ui=m.onInputCompositionStart,Gn=m.onInputCompositionEnd,li=u.useRef(null),ci=(0,u.useState)(0),gi=(0,on.Z)(ci,2),Bn=gi[0],Ti=gi[1],Qi=(0,u.useState)(!1),rs=(0,on.Z)(Qi,2),lo=rs[0],Zs=rs[1],es="".concat(_,"-selection"),lr=Z||Se==="multiple"&&G===!1||Se==="tags"?K:"",ws=Se==="tags"||Se==="multiple"&&G===!1||We&&(Z||lo);_e(function(){Ti(li.current.scrollWidth)},[lr]);var Er=function(Bi,Br,ls,dr,ps){return u.createElement("span",{title:J(Bi),className:$()("".concat(es,"-item"),(0,Ft.Z)({},"".concat(es,"-item-disabled"),ls))},u.createElement("span",{className:"".concat(es,"-item-content")},Br),dr&&u.createElement($a,{className:"".concat(es,"-item-remove"),onMouseDown:He,onClick:ps,customizeIcon:pt},"\xD7"))},Zr=function(Bi,Br,ls,dr,ps,Ur){var Jo=function(Fs){He(Fs),Mn(!Z)};return u.createElement("span",{onMouseDown:Jo},un({label:Br,value:Bi,disabled:ls,closable:dr,onClose:ps,isMaxTag:!!Ur}))},bs=function(Bi){var Br=Bi.disabled,ls=Bi.label,dr=Bi.value,ps=!Ee&&!Br,Ur=ls;if(typeof Ot=="number"&&(typeof ls=="string"||typeof ls=="number")){var Jo=String(Ur);Jo.length>Ot&&(Ur="".concat(Jo.slice(0,Ot),"..."))}var Gs=function(br){br&&br.stopPropagation(),An(Bi)};return typeof un=="function"?Zr(dr,Ur,Br,ps,Gs):Er(Bi,Ur,Br,ps,Gs)},Ii=function(Bi){var Br=typeof Wt=="function"?Wt(Bi):Wt;return typeof un=="function"?Zr(void 0,Br,!1,!1,void 0,!0):Er({title:Br},Br,!1)},ei=u.createElement("div",{className:"".concat(es,"-search"),style:{width:Bn},onFocus:function(){Zs(!0)},onBlur:function(){Zs(!1)}},u.createElement(Yt,{ref:ue,open:Z,prefixCls:_,id:C,inputElement:null,disabled:Ee,autoFocus:Ae,autoComplete:et,editable:ws,activeDescendantId:ze,value:lr,onKeyDown:$n,onMouseDown:wn,onChange:Jn,onPaste:En,onCompositionStart:ui,onCompositionEnd:Gn,tabIndex:Ke,attrs:(0,Fe.Z)(m,!0)}),u.createElement("span",{ref:li,className:"".concat(es,"-search-mirror"),"aria-hidden":!0},lr,"\xA0")),Cr=u.createElement(zt.Z,{prefixCls:"".concat(es,"-overflow"),data:L,renderItem:bs,renderRest:Ii,suffix:ei,itemKey:Me,maxCount:Ye});return u.createElement(u.Fragment,null,Cr,!L.length&&!lr&&u.createElement("span",{className:"".concat(es,"-placeholder")},me))},tn=Dt,Et=function(m){var C=m.inputElement,_=m.prefixCls,L=m.id,Z=m.inputRef,K=m.disabled,G=m.autoFocus,ue=m.autoComplete,me=m.activeDescendantId,Ee=m.mode,Se=m.open,We=m.values,Ae=m.placeholder,et=m.tabIndex,ze=m.showSearch,Ke=m.searchValue,pt=m.activeValue,Ye=m.maxLength,Ot=m.onInputKeyDown,gt=m.onInputMouseDown,Wt=m.onInputChange,un=m.onInputPaste,Mn=m.onInputCompositionStart,An=m.onInputCompositionEnd,Jn=m.title,En=u.useState(!1),$n=(0,on.Z)(En,2),wn=$n[0],ui=$n[1],Gn=Ee==="combobox",li=Gn||ze,ci=We[0],gi=Ke||"";Gn&&pt&&!wn&&(gi=pt),u.useEffect(function(){Gn&&ui(!1)},[Gn,pt]);var Bn=Ee!=="combobox"&&!Se&&!ze?!1:!!gi,Ti=Jn===void 0?J(ci):Jn,Qi=u.useMemo(function(){return ci?null:u.createElement("span",{className:"".concat(_,"-selection-placeholder"),style:Bn?{visibility:"hidden"}:void 0},Ae)},[ci,Bn,Ae,_]);return u.createElement(u.Fragment,null,u.createElement("span",{className:"".concat(_,"-selection-search")},u.createElement(Yt,{ref:Z,prefixCls:_,id:L,open:Se,inputElement:C,disabled:K,autoFocus:G,autoComplete:ue,editable:li,activeDescendantId:me,value:gi,onKeyDown:Ot,onMouseDown:gt,onChange:function(lo){ui(!0),Wt(lo)},onPaste:un,onCompositionStart:Mn,onCompositionEnd:An,tabIndex:et,attrs:(0,Fe.Z)(m,!0),maxLength:Gn?Ye:void 0})),!Gn&&ci?u.createElement("span",{className:"".concat(_,"-selection-item"),title:Ti,style:Bn?{visibility:"hidden"}:void 0},ci.label):null,Qi)},yn=Et,ni=function(m,C){var _=(0,u.useRef)(null),L=(0,u.useRef)(!1),Z=m.prefixCls,K=m.open,G=m.mode,ue=m.showSearch,me=m.tokenWithEnter,Ee=m.disabled,Se=m.autoClearSearchValue,We=m.onSearch,Ae=m.onSearchSubmit,et=m.onToggleOpen,ze=m.onInputKeyDown,Ke=m.domRef;u.useImperativeHandle(C,function(){return{focus:function(Bn){_.current.focus(Bn)},blur:function(){_.current.blur()}}});var pt=le(0),Ye=(0,on.Z)(pt,2),Ot=Ye[0],gt=Ye[1],Wt=function(Bn){var Ti=Bn.which;(Ti===oe.Z.UP||Ti===oe.Z.DOWN)&&Bn.preventDefault(),ze&&ze(Bn),Ti===oe.Z.ENTER&&G==="tags"&&!L.current&&!K&&(Ae==null||Ae(Bn.target.value)),$e(Ti)&&et(!0)},un=function(){gt(!0)},Mn=(0,u.useRef)(null),An=function(Bn){We(Bn,!0,L.current)!==!1&&et(!0)},Jn=function(){L.current=!0},En=function(Bn){L.current=!1,G!=="combobox"&&An(Bn.target.value)},$n=function(Bn){var Ti=Bn.target.value;if(me&&Mn.current&&/[\r\n]/.test(Mn.current)){var Qi=Mn.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ti=Ti.replace(Qi,Mn.current)}Mn.current=null,An(Ti)},wn=function(Bn){var Ti=Bn.clipboardData,Qi=Ti==null?void 0:Ti.getData("text");Mn.current=Qi||""},ui=function(Bn){var Ti=Bn.target;if(Ti!==_.current){var Qi=document.body.style.msTouchAction!==void 0;Qi?setTimeout(function(){_.current.focus()}):_.current.focus()}},Gn=function(Bn){var Ti=Ot();Bn.target!==_.current&&!Ti&&!(G==="combobox"&&Ee)&&Bn.preventDefault(),(G!=="combobox"&&(!ue||!Ti)||!K)&&(K&&Se!==!1&&We("",!0,!1),et())},li={inputRef:_,onInputKeyDown:Wt,onInputMouseDown:un,onInputChange:$n,onInputPaste:wn,onInputCompositionStart:Jn,onInputCompositionEnd:En},ci=G==="multiple"||G==="tags"?u.createElement(tn,(0,gn.Z)({},m,li)):u.createElement(yn,(0,gn.Z)({},m,li));return u.createElement("div",{ref:Ke,className:"".concat(Z,"-selector"),onClick:ui,onMouseDown:Gn},ci)},ji=u.forwardRef(ni),rr=ji,Cs=I(39369),_s=I(99182),go=I(74194),Da=I(18742),Yr=I(88046),ra=I(24030);function Lo(h){var m=h.prefixCls,C=h.align,_=h.arrow,L=h.arrowPos,Z=_||{},K=Z.className,G=Z.content,ue=L.x,me=ue===void 0?0:ue,Ee=L.y,Se=Ee===void 0?0:Ee,We=u.useRef();if(!C||!C.points)return null;var Ae={position:"absolute"};if(C.autoArrow!==!1){var et=C.points[0],ze=C.points[1],Ke=et[0],pt=et[1],Ye=ze[0],Ot=ze[1];Ke===Ye||!["t","b"].includes(Ke)?Ae.top=Se:Ke==="t"?Ae.top=0:Ae.bottom=0,pt===Ot||!["l","r"].includes(pt)?Ae.left=me:pt==="l"?Ae.left=0:Ae.right=0}return u.createElement("div",{ref:We,className:$()("".concat(m,"-arrow"),K),style:Ae},G)}function Y(h){var m=h.prefixCls,C=h.open,_=h.zIndex,L=h.mask,Z=h.motion;return L?u.createElement(gr.ZP,(0,gn.Z)({},Z,{motionAppear:!0,visible:C,removeOnLeave:!0}),function(K){var G=K.className;return u.createElement("div",{style:{zIndex:_},className:$()("".concat(m,"-mask"),G)})}):null}var Pe=u.memo(function(h){var m=h.children;return m},function(h,m){return m.cache}),Tt=Pe,Mt=u.forwardRef(function(h,m){var C=h.popup,_=h.className,L=h.prefixCls,Z=h.style,K=h.target,G=h.onVisibleChanged,ue=h.open,me=h.keepDom,Ee=h.fresh,Se=h.onClick,We=h.mask,Ae=h.arrow,et=h.arrowPos,ze=h.align,Ke=h.motion,pt=h.maskMotion,Ye=h.forceRender,Ot=h.getPopupContainer,gt=h.autoDestroy,Wt=h.portal,un=h.zIndex,Mn=h.onMouseEnter,An=h.onMouseLeave,Jn=h.onPointerEnter,En=h.ready,$n=h.offsetX,wn=h.offsetY,ui=h.offsetR,Gn=h.offsetB,li=h.onAlign,ci=h.onPrepare,gi=h.stretch,Bn=h.targetWidth,Ti=h.targetHeight,Qi=typeof C=="function"?C():C,rs=ue||me,lo=(Ot==null?void 0:Ot.length)>0,Zs=u.useState(!Ot||!lo),es=(0,on.Z)(Zs,2),lr=es[0],ws=es[1];if((0,Hi.Z)(function(){!lr&&lo&&K&&ws(!0)},[lr,lo,K]),!lr)return null;var Er="auto",Zr={left:"-1000vw",top:"-1000vh",right:Er,bottom:Er};if(En||!ue){var bs,Ii=ze.points,ei=ze.dynamicInset||((bs=ze._experimental)===null||bs===void 0?void 0:bs.dynamicInset),Cr=ei&&Ii[0][1]==="r",ts=ei&&Ii[0][0]==="b";Cr?(Zr.right=ui,Zr.left=Er):(Zr.left=$n,Zr.right=Er),ts?(Zr.bottom=Gn,Zr.top=Er):(Zr.top=wn,Zr.bottom=Er)}var Bi={};return gi&&(gi.includes("height")&&Ti?Bi.height=Ti:gi.includes("minHeight")&&Ti&&(Bi.minHeight=Ti),gi.includes("width")&&Bn?Bi.width=Bn:gi.includes("minWidth")&&Bn&&(Bi.minWidth=Bn)),ue||(Bi.pointerEvents="none"),u.createElement(Wt,{open:Ye||rs,getContainer:Ot&&function(){return Ot(K)},autoDestroy:gt},u.createElement(Y,{prefixCls:L,open:ue,zIndex:un,mask:We,motion:pt}),u.createElement(_s.Z,{onResize:li,disabled:!ue},function(Br){return u.createElement(gr.ZP,(0,gn.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:Ye,leavedClassName:"".concat(L,"-hidden")},Ke,{onAppearPrepare:ci,onEnterPrepare:ci,visible:ue,onVisibleChanged:function(dr){var ps;Ke==null||(ps=Ke.onVisibleChanged)===null||ps===void 0||ps.call(Ke,dr),G(dr)}}),function(ls,dr){var ps=ls.className,Ur=ls.style,Jo=$()(L,ps,_);return u.createElement("div",{ref:(0,qr.sQ)(Br,m,dr),className:Jo,style:(0,Cn.Z)((0,Cn.Z)((0,Cn.Z)((0,Cn.Z)({"--arrow-x":"".concat(et.x||0,"px"),"--arrow-y":"".concat(et.y||0,"px")},Zr),Bi),Ur),{},{boxSizing:"border-box",zIndex:un},Z),onMouseEnter:Mn,onMouseLeave:An,onPointerEnter:Jn,onClick:Se},Ae&&u.createElement(Lo,{prefixCls:L,arrow:Ae,arrowPos:et,align:ze}),u.createElement(Tt,{cache:!ue&&!Ee},Qi))})}))}),Kt=Mt,nn=u.forwardRef(function(h,m){var C=h.children,_=h.getTriggerDOMNode,L=(0,qr.Yr)(C),Z=u.useCallback(function(G){(0,qr.mH)(m,_?_(G):G)},[_]),K=(0,qr.x1)(Z,C.ref);return L?u.cloneElement(C,{ref:K}):C}),si=nn,Qn=u.createContext(null),hn=Qn;function Vi(h){return h?Array.isArray(h)?h:[h]:[]}function oi(h,m,C,_){return u.useMemo(function(){var L=Vi(C!=null?C:m),Z=Vi(_!=null?_:m),K=new Set(L),G=new Set(Z);return h&&(K.has("hover")&&(K.delete("hover"),K.add("click")),G.has("hover")&&(G.delete("hover"),G.add("click"))),[K,G]},[h,m,C,_])}var Gi=I(39840);function Ki(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=arguments.length>2?arguments[2]:void 0;return C?h[0]===m[0]:h[0]===m[0]&&h[1]===m[1]}function sr(h,m,C,_){for(var L=C.points,Z=Object.keys(h),K=0;K<Z.length;K+=1){var G,ue=Z[K];if(Ki((G=h[ue])===null||G===void 0?void 0:G.points,L,_))return"".concat(m,"-placement-").concat(ue)}return""}function Is(h,m,C,_){return m||(C?{motionName:"".concat(h,"-").concat(C)}:_?{motionName:_}:null)}function mi(h){return h.ownerDocument.defaultView}function ho(h){for(var m=[],C=h==null?void 0:h.parentElement,_=["hidden","scroll","clip","auto"];C;){var L=mi(C).getComputedStyle(C),Z=L.overflowX,K=L.overflowY,G=L.overflow;[Z,K,G].some(function(ue){return _.includes(ue)})&&m.push(C),C=C.parentElement}return m}function jr(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(h)?m:h}function yr(h){return jr(parseFloat(h),0)}function So(h,m){var C=(0,Cn.Z)({},h);return(m||[]).forEach(function(_){if(!(_ instanceof HTMLBodyElement||_ instanceof HTMLHtmlElement)){var L=mi(_).getComputedStyle(_),Z=L.overflow,K=L.overflowClipMargin,G=L.borderTopWidth,ue=L.borderBottomWidth,me=L.borderLeftWidth,Ee=L.borderRightWidth,Se=_.getBoundingClientRect(),We=_.offsetHeight,Ae=_.clientHeight,et=_.offsetWidth,ze=_.clientWidth,Ke=yr(G),pt=yr(ue),Ye=yr(me),Ot=yr(Ee),gt=jr(Math.round(Se.width/et*1e3)/1e3),Wt=jr(Math.round(Se.height/We*1e3)/1e3),un=(et-ze-Ye-Ot)*gt,Mn=(We-Ae-Ke-pt)*Wt,An=Ke*Wt,Jn=pt*Wt,En=Ye*gt,$n=Ot*gt,wn=0,ui=0;if(Z==="clip"){var Gn=yr(K);wn=Gn*gt,ui=Gn*Wt}var li=Se.x+En-wn,ci=Se.y+An-ui,gi=li+Se.width+2*wn-En-$n-un,Bn=ci+Se.height+2*ui-An-Jn-Mn;C.left=Math.max(C.left,li),C.top=Math.max(C.top,ci),C.right=Math.min(C.right,gi),C.bottom=Math.min(C.bottom,Bn)}}),C}function Vo(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C="".concat(m),_=C.match(/^(.*)\%$/);return _?h*(parseFloat(_[1])/100):parseFloat(C)}function _a(h,m){var C=m||[],_=(0,on.Z)(C,2),L=_[0],Z=_[1];return[Vo(h.width,L),Vo(h.height,Z)]}function ye(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[h[0],h[1]]}function qe(h,m){var C=m[0],_=m[1],L,Z;return C==="t"?Z=h.y:C==="b"?Z=h.y+h.height:Z=h.y+h.height/2,_==="l"?L=h.x:_==="r"?L=h.x+h.width:L=h.x+h.width/2,{x:L,y:Z}}function Ve(h,m){var C={t:"b",b:"t",l:"r",r:"l"};return h.map(function(_,L){return L===m?C[_]||"c":_}).join("")}function ht(h,m,C,_,L,Z,K){var G=u.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:L[_]||{}}),ue=(0,on.Z)(G,2),me=ue[0],Ee=ue[1],Se=u.useRef(0),We=u.useMemo(function(){return m?ho(m):[]},[m]),Ae=u.useRef({}),et=function(){Ae.current={}};h||et();var ze=(0,Yr.Z)(function(){if(m&&C&&h){let uc=function(Zu,Fd){var xh=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Jo,bh=Qi.x+Zu,rf=Qi.y+Fd,sf=bh+bs,qf=rf+Zr,Jf=Math.max(bh,xh.left),Qf=Math.max(rf,xh.top),Up=Math.min(sf,xh.right),zp=Math.min(qf,xh.bottom);return Math.max(0,(Up-Jf)*(zp-Qf))},Kf=function(){ll=Qi.y+ya,_l=ll+Zr,Aa=Qi.x+Oa,wl=Aa+bs};var Ye,Ot,gt=m,Wt=gt.ownerDocument,un=mi(gt),Mn=un.getComputedStyle(gt),An=Mn.width,Jn=Mn.height,En=Mn.position,$n=gt.style.left,wn=gt.style.top,ui=gt.style.right,Gn=gt.style.bottom,li=gt.style.overflow,ci=(0,Cn.Z)((0,Cn.Z)({},L[_]),Z),gi=Wt.createElement("div");(Ye=gt.parentElement)===null||Ye===void 0||Ye.appendChild(gi),gi.style.left="".concat(gt.offsetLeft,"px"),gi.style.top="".concat(gt.offsetTop,"px"),gi.style.position=En,gi.style.height="".concat(gt.offsetHeight,"px"),gi.style.width="".concat(gt.offsetWidth,"px"),gt.style.left="0",gt.style.top="0",gt.style.right="auto",gt.style.bottom="auto",gt.style.overflow="hidden";var Bn;if(Array.isArray(C))Bn={x:C[0],y:C[1],width:0,height:0};else{var Ti=C.getBoundingClientRect();Bn={x:Ti.x,y:Ti.y,width:Ti.width,height:Ti.height}}var Qi=gt.getBoundingClientRect(),rs=Wt.documentElement,lo=rs.clientWidth,Zs=rs.clientHeight,es=rs.scrollWidth,lr=rs.scrollHeight,ws=rs.scrollTop,Er=rs.scrollLeft,Zr=Qi.height,bs=Qi.width,Ii=Bn.height,ei=Bn.width,Cr={left:0,top:0,right:lo,bottom:Zs},ts={left:-Er,top:-ws,right:es-Er,bottom:lr-ws},Bi=ci.htmlRegion,Br="visible",ls="visibleFirst";Bi!=="scroll"&&Bi!==ls&&(Bi=Br);var dr=Bi===ls,ps=So(ts,We),Ur=So(Cr,We),Jo=Bi===Br?Ur:ps,Gs=dr?Ur:Jo;gt.style.left="auto",gt.style.top="auto",gt.style.right="0",gt.style.bottom="0";var Fs=gt.getBoundingClientRect();gt.style.left=$n,gt.style.top=wn,gt.style.right=ui,gt.style.bottom=Gn,gt.style.overflow=li,(Ot=gt.parentElement)===null||Ot===void 0||Ot.removeChild(gi);var br=jr(Math.round(bs/parseFloat(An)*1e3)/1e3),Xs=jr(Math.round(Zr/parseFloat(Jn)*1e3)/1e3);if(br===0||Xs===0||(0,go.Sh)(C)&&!(0,Gi.Z)(C))return;var fo=ci.offset,$s=ci.targetOffset,ro=_a(Qi,fo),Wo=(0,on.Z)(ro,2),Co=Wo[0],fa=Wo[1],Ba=_a(Bn,$s),Ha=(0,on.Z)(Ba,2),Pa=Ha[0],Xa=Ha[1];Bn.x-=Pa,Bn.y-=Xa;var Ra=ci.points||[],aa=(0,on.Z)(Ra,2),va=aa[0],pa=aa[1],oc=ye(pa),la=ye(va),Ol=qe(Bn,oc),bc=qe(Qi,la),Il=(0,Cn.Z)({},ci),Oa=Ol.x-bc.x+Co,ya=Ol.y-bc.y+fa,xa=uc(Oa,ya),ac=uc(Oa,ya,Ur),Ma=qe(Bn,["t","l"]),ec=qe(Qi,["t","l"]),Cl=qe(Bn,["b","r"]),cs=qe(Qi,["b","r"]),Ys=ci.overflow||{},ss=Ys.adjustX,_o=Ys.adjustY,ea=Ys.shiftX,ia=Ys.shiftY,yl=function(Fd){return typeof Fd=="boolean"?Fd:Fd>=0},ll,_l,Aa,wl;Kf();var Zl=yl(_o),Zc=la[0]===oc[0];if(Zl&&la[0]==="t"&&(_l>Gs.bottom||Ae.current.bt)){var Dl=ya;Zc?Dl-=Zr-Ii:Dl=Ma.y-cs.y-fa;var fc=uc(Oa,Dl),Kr=uc(Oa,Dl,Ur);fc>xa||fc===xa&&(!dr||Kr>=ac)?(Ae.current.bt=!0,ya=Dl,fa=-fa,Il.points=[Ve(la,0),Ve(oc,0)]):Ae.current.bt=!1}if(Zl&&la[0]==="b"&&(ll<Gs.top||Ae.current.tb)){var gs=ya;Zc?gs+=Zr-Ii:gs=Cl.y-ec.y-fa;var cr=uc(Oa,gs),hr=uc(Oa,gs,Ur);cr>xa||cr===xa&&(!dr||hr>=ac)?(Ae.current.tb=!0,ya=gs,fa=-fa,Il.points=[Ve(la,0),Ve(oc,0)]):Ae.current.tb=!1}var ko=yl(ss),Sa=la[1]===oc[1];if(ko&&la[1]==="l"&&(wl>Gs.right||Ae.current.rl)){var Ca=Oa;Sa?Ca-=bs-ei:Ca=Ma.x-cs.x-Co;var lc=uc(Ca,ya),cc=uc(Ca,ya,Ur);lc>xa||lc===xa&&(!dr||cc>=ac)?(Ae.current.rl=!0,Oa=Ca,Co=-Co,Il.points=[Ve(la,1),Ve(oc,1)]):Ae.current.rl=!1}if(ko&&la[1]==="r"&&(Aa<Gs.left||Ae.current.lr)){var cl=Oa;Sa?cl+=bs-ei:cl=Cl.x-ec.x-Co;var Ll=uc(cl,ya),Sc=uc(cl,ya,Ur);Ll>xa||Ll===xa&&(!dr||Sc>=ac)?(Ae.current.lr=!0,Oa=cl,Co=-Co,Il.points=[Ve(la,1),Ve(oc,1)]):Ae.current.lr=!1}Kf();var Nl=ea===!0?0:ea;typeof Nl=="number"&&(Aa<Ur.left&&(Oa-=Aa-Ur.left-Co,Bn.x+ei<Ur.left+Nl&&(Oa+=Bn.x-Ur.left+ei-Nl)),wl>Ur.right&&(Oa-=wl-Ur.right-Co,Bn.x>Ur.right-Nl&&(Oa+=Bn.x-Ur.right+Nl)));var Fl=ia===!0?0:ia;typeof Fl=="number"&&(ll<Ur.top&&(ya-=ll-Ur.top-fa,Bn.y+Ii<Ur.top+Fl&&(ya+=Bn.y-Ur.top+Ii-Fl)),_l>Ur.bottom&&(ya-=_l-Ur.bottom-fa,Bn.y>Ur.bottom-Fl&&(ya+=Bn.y-Ur.bottom+Fl)));var pc=Qi.x+Oa,Wu=pc+bs,Tu=Qi.y+ya,ju=Tu+Zr,Nd=Bn.x,Gc=Nd+ei,Dc=Bn.y,ca=Dc+Ii,Oo=Math.max(pc,Nd),Bl=Math.min(Wu,Gc),Gl=(Oo+Bl)/2,ul=Gl-pc,Ul=Math.max(Tu,Dc),Lc=Math.min(ju,ca),Cc=(Ul+Lc)/2,eu=Cc-Tu;K==null||K(m,Il);var tu=Fs.right-Qi.x-(Oa+Qi.width),Nc=Fs.bottom-Qi.y-(ya+Qi.height);br===1&&(Oa=Math.round(Oa),tu=Math.round(tu)),Xs===1&&(ya=Math.round(ya),Nc=Math.round(Nc));var ad={ready:!0,offsetX:Oa/br,offsetY:ya/Xs,offsetR:tu/br,offsetB:Nc/Xs,arrowX:ul/br,arrowY:eu/Xs,scaleX:br,scaleY:Xs,align:Il};Ee(ad)}}),Ke=function(){Se.current+=1;var Ot=Se.current;Promise.resolve().then(function(){Se.current===Ot&&ze()})},pt=function(){Ee(function(Ot){return(0,Cn.Z)((0,Cn.Z)({},Ot),{},{ready:!1})})};return(0,Hi.Z)(pt,[_]),(0,Hi.Z)(function(){h||pt()},[h]),[me.ready,me.offsetX,me.offsetY,me.offsetR,me.offsetB,me.arrowX,me.arrowY,me.scaleX,me.scaleY,me.align,Ke]}function Nt(h,m,C,_,L){(0,Hi.Z)(function(){if(h&&m&&C){let Se=function(){_(),L()};var Z=m,K=C,G=ho(Z),ue=ho(K),me=mi(K),Ee=new Set([me].concat((0,Lt.Z)(G),(0,Lt.Z)(ue)));return Ee.forEach(function(We){We.addEventListener("scroll",Se,{passive:!0})}),me.addEventListener("resize",Se,{passive:!0}),_(),function(){Ee.forEach(function(We){We.removeEventListener("scroll",Se),me.removeEventListener("resize",Se)})}}},[h,m,C])}function Fn(h,m,C,_,L,Z,K,G){var ue=u.useRef(h);ue.current=h,u.useEffect(function(){if(m&&_&&(!L||Z)){var me=function(pt){var Ye;ue.current&&!K(((Ye=pt.composedPath)===null||Ye===void 0||(Ye=Ye.call(pt))===null||Ye===void 0?void 0:Ye[0])||pt.target)&&G(!1)},Ee=mi(_);Ee.addEventListener("mousedown",me,!0),Ee.addEventListener("contextmenu",me,!0);var Se=(0,Da.A)(C);if(Se&&(Se.addEventListener("mousedown",me,!0),Se.addEventListener("contextmenu",me,!0)),0)var We,Ae,et,ze;return function(){Ee.removeEventListener("mousedown",me,!0),Ee.removeEventListener("contextmenu",me,!0),Se&&(Se.removeEventListener("mousedown",me,!0),Se.removeEventListener("contextmenu",me,!0))}}},[m,C,_,L,Z])}var ai=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function xi(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cs.Z,m=u.forwardRef(function(C,_){var L=C.prefixCls,Z=L===void 0?"rc-trigger-popup":L,K=C.children,G=C.action,ue=G===void 0?"hover":G,me=C.showAction,Ee=C.hideAction,Se=C.popupVisible,We=C.defaultPopupVisible,Ae=C.onPopupVisibleChange,et=C.afterPopupVisibleChange,ze=C.mouseEnterDelay,Ke=C.mouseLeaveDelay,pt=Ke===void 0?.1:Ke,Ye=C.focusDelay,Ot=C.blurDelay,gt=C.mask,Wt=C.maskClosable,un=Wt===void 0?!0:Wt,Mn=C.getPopupContainer,An=C.forceRender,Jn=C.autoDestroy,En=C.destroyPopupOnHide,$n=C.popup,wn=C.popupClassName,ui=C.popupStyle,Gn=C.popupPlacement,li=C.builtinPlacements,ci=li===void 0?{}:li,gi=C.popupAlign,Bn=C.zIndex,Ti=C.stretch,Qi=C.getPopupClassNameFromAlign,rs=C.fresh,lo=C.alignPoint,Zs=C.onPopupClick,es=C.onPopupAlign,lr=C.arrow,ws=C.popupMotion,Er=C.maskMotion,Zr=C.popupTransitionName,bs=C.popupAnimation,Ii=C.maskTransitionName,ei=C.maskAnimation,Cr=C.className,ts=C.getTriggerDOMNode,Bi=(0,io.Z)(C,ai),Br=Jn||En||!1,ls=u.useState(!1),dr=(0,on.Z)(ls,2),ps=dr[0],Ur=dr[1];(0,Hi.Z)(function(){Ur((0,na.Z)())},[]);var Jo=u.useRef({}),Gs=u.useContext(hn),Fs=u.useMemo(function(){return{registerSubPopup:function(To,xl){Jo.current[To]=xl,Gs==null||Gs.registerSubPopup(To,xl)}}},[Gs]),br=(0,ra.Z)(),Xs=u.useState(null),fo=(0,on.Z)(Xs,2),$s=fo[0],ro=fo[1],Wo=u.useRef(null),Co=(0,Yr.Z)(function(Ms){Wo.current=Ms,(0,go.Sh)(Ms)&&$s!==Ms&&ro(Ms),Gs==null||Gs.registerSubPopup(br,Ms)}),fa=u.useState(null),Ba=(0,on.Z)(fa,2),Ha=Ba[0],Pa=Ba[1],Xa=u.useRef(null),Ra=(0,Yr.Z)(function(Ms){(0,go.Sh)(Ms)&&Ha!==Ms&&(Pa(Ms),Xa.current=Ms)}),aa=u.Children.only(K),va=(aa==null?void 0:aa.props)||{},pa={},oc=(0,Yr.Z)(function(Ms){var To,xl,Xl=Ha;return(Xl==null?void 0:Xl.contains(Ms))||((To=(0,Da.A)(Xl))===null||To===void 0?void 0:To.host)===Ms||Ms===Xl||($s==null?void 0:$s.contains(Ms))||((xl=(0,Da.A)($s))===null||xl===void 0?void 0:xl.host)===Ms||Ms===$s||Object.values(Jo.current).some(function(dl){return(dl==null?void 0:dl.contains(Ms))||Ms===dl})}),la=Is(Z,ws,bs,Zr),Ol=Is(Z,Er,ei,Ii),bc=u.useState(We||!1),Il=(0,on.Z)(bc,2),Oa=Il[0],ya=Il[1],xa=Se!=null?Se:Oa,ac=(0,Yr.Z)(function(Ms){Se===void 0&&ya(Ms)});(0,Hi.Z)(function(){ya(Se||!1)},[Se]);var Ma=u.useRef(xa);Ma.current=xa;var ec=u.useRef([]);ec.current=[];var Cl=(0,Yr.Z)(function(Ms){var To;ac(Ms),((To=ec.current[ec.current.length-1])!==null&&To!==void 0?To:xa)!==Ms&&(ec.current.push(Ms),Ae==null||Ae(Ms))}),cs=u.useRef(),Ys=function(){clearTimeout(cs.current)},ss=function(To){var xl=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ys(),xl===0?Cl(To):cs.current=setTimeout(function(){Cl(To)},xl*1e3)};u.useEffect(function(){return Ys},[]);var _o=u.useState(!1),ea=(0,on.Z)(_o,2),ia=ea[0],yl=ea[1];(0,Hi.Z)(function(Ms){(!Ms||xa)&&yl(!0)},[xa]);var ll=u.useState(null),_l=(0,on.Z)(ll,2),Aa=_l[0],wl=_l[1],Zl=u.useState([0,0]),Zc=(0,on.Z)(Zl,2),Dl=Zc[0],fc=Zc[1],Kr=function(To){fc([To.clientX,To.clientY])},gs=ht(xa,$s,lo?Dl:Ha,Gn,ci,gi,es),cr=(0,on.Z)(gs,11),hr=cr[0],ko=cr[1],Sa=cr[2],Ca=cr[3],lc=cr[4],cc=cr[5],cl=cr[6],Ll=cr[7],Sc=cr[8],Nl=cr[9],Fl=cr[10],pc=oi(ps,ue,me,Ee),Wu=(0,on.Z)(pc,2),Tu=Wu[0],ju=Wu[1],Nd=Tu.has("click"),Gc=ju.has("click")||ju.has("contextMenu"),Dc=(0,Yr.Z)(function(){ia||Fl()}),ca=function(){Ma.current&&lo&&Gc&&ss(!1)};Nt(xa,Ha,$s,Dc,ca),(0,Hi.Z)(function(){Dc()},[Dl,Gn]),(0,Hi.Z)(function(){xa&&!(ci!=null&&ci[Gn])&&Dc()},[JSON.stringify(gi)]);var Oo=u.useMemo(function(){var Ms=sr(ci,Z,Nl,lo);return $()(Ms,Qi==null?void 0:Qi(Nl))},[Nl,Qi,ci,Z,lo]);u.useImperativeHandle(_,function(){return{nativeElement:Xa.current,popupElement:Wo.current,forceAlign:Dc}});var Bl=u.useState(0),Gl=(0,on.Z)(Bl,2),ul=Gl[0],Ul=Gl[1],Lc=u.useState(0),Cc=(0,on.Z)(Lc,2),eu=Cc[0],tu=Cc[1],Nc=function(){if(Ti&&Ha){var To=Ha.getBoundingClientRect();Ul(To.width),tu(To.height)}},ad=function(){Nc(),Dc()},uc=function(To){yl(!1),Fl(),et==null||et(To)},Kf=function(){return new Promise(function(To){Nc(),wl(function(){return To})})};(0,Hi.Z)(function(){Aa&&(Fl(),Aa(),wl(null))},[Aa]);function Zu(Ms,To,xl,Xl){pa[Ms]=function(dl){var ep;Xl==null||Xl(dl),ss(To,xl);for(var tp=arguments.length,kp=new Array(tp>1?tp-1:0),np=1;np<tp;np++)kp[np-1]=arguments[np];(ep=va[Ms])===null||ep===void 0||ep.call.apply(ep,[va,dl].concat(kp))}}(Nd||Gc)&&(pa.onClick=function(Ms){var To;Ma.current&&Gc?ss(!1):!Ma.current&&Nd&&(Kr(Ms),ss(!0));for(var xl=arguments.length,Xl=new Array(xl>1?xl-1:0),dl=1;dl<xl;dl++)Xl[dl-1]=arguments[dl];(To=va.onClick)===null||To===void 0||To.call.apply(To,[va,Ms].concat(Xl))}),Fn(xa,Gc,Ha,$s,gt,un,oc,ss);var Fd=Tu.has("hover"),xh=ju.has("hover"),bh,rf;Fd&&(Zu("onMouseEnter",!0,ze,function(Ms){Kr(Ms)}),Zu("onPointerEnter",!0,ze,function(Ms){Kr(Ms)}),bh=function(To){(xa||ia)&&$s!==null&&$s!==void 0&&$s.contains(To.target)&&ss(!0,ze)},lo&&(pa.onMouseMove=function(Ms){var To;(To=va.onMouseMove)===null||To===void 0||To.call(va,Ms)})),xh&&(Zu("onMouseLeave",!1,pt),Zu("onPointerLeave",!1,pt),rf=function(){ss(!1,pt)}),Tu.has("focus")&&Zu("onFocus",!0,Ye),ju.has("focus")&&Zu("onBlur",!1,Ot),Tu.has("contextMenu")&&(pa.onContextMenu=function(Ms){var To;Ma.current&&ju.has("contextMenu")?ss(!1):(Kr(Ms),ss(!0)),Ms.preventDefault();for(var xl=arguments.length,Xl=new Array(xl>1?xl-1:0),dl=1;dl<xl;dl++)Xl[dl-1]=arguments[dl];(To=va.onContextMenu)===null||To===void 0||To.call.apply(To,[va,Ms].concat(Xl))}),Cr&&(pa.className=$()(va.className,Cr));var sf=(0,Cn.Z)((0,Cn.Z)({},va),pa),qf={},Jf=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Jf.forEach(function(Ms){Bi[Ms]&&(qf[Ms]=function(){for(var To,xl=arguments.length,Xl=new Array(xl),dl=0;dl<xl;dl++)Xl[dl]=arguments[dl];(To=sf[Ms])===null||To===void 0||To.call.apply(To,[sf].concat(Xl)),Bi[Ms].apply(Bi,Xl)})});var Qf=u.cloneElement(aa,(0,Cn.Z)((0,Cn.Z)({},sf),qf)),Up={x:cc,y:cl},zp=lr?(0,Cn.Z)({},lr!==!0?lr:{}):null;return u.createElement(u.Fragment,null,u.createElement(_s.Z,{disabled:!xa,ref:Ra,onResize:ad},u.createElement(si,{getTriggerDOMNode:ts},Qf)),u.createElement(hn.Provider,{value:Fs},u.createElement(Kt,{portal:h,ref:Co,prefixCls:Z,popup:$n,className:$()(wn,Oo),style:ui,target:Ha,onMouseEnter:bh,onMouseLeave:rf,onPointerEnter:bh,zIndex:Bn,open:xa,keepDom:ia,fresh:rs,onClick:Zs,mask:gt,motion:la,maskMotion:Ol,onVisibleChanged:uc,onPrepare:Kf,forceRender:An,autoDestroy:Br,getPopupContainer:Mn,align:Nl,arrow:zp,arrowPos:Up,ready:hr,offsetX:ko,offsetY:Sa,offsetR:Ca,offsetB:lc,onAlign:Dc,stretch:Ti,targetWidth:ul/Ll,targetHeight:eu/Sc})))});return m}var hi=xi(Cs.Z),Xi=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Pi=function(m){var C=m===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:C,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:C,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:C,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:C,adjustY:1},htmlRegion:"scroll"}}},jn=function(m,C){var _=m.prefixCls,L=m.disabled,Z=m.visible,K=m.children,G=m.popupElement,ue=m.animation,me=m.transitionName,Ee=m.dropdownStyle,Se=m.dropdownClassName,We=m.direction,Ae=We===void 0?"ltr":We,et=m.placement,ze=m.builtinPlacements,Ke=m.dropdownMatchSelectWidth,pt=m.dropdownRender,Ye=m.dropdownAlign,Ot=m.getPopupContainer,gt=m.empty,Wt=m.getTriggerDOMNode,un=m.onPopupVisibleChange,Mn=m.onPopupMouseEnter,An=(0,io.Z)(m,Xi),Jn="".concat(_,"-dropdown"),En=G;pt&&(En=pt(G));var $n=u.useMemo(function(){return ze||Pi(Ke)},[ze,Ke]),wn=ue?"".concat(Jn,"-").concat(ue):me,ui=typeof Ke=="number",Gn=u.useMemo(function(){return ui?null:Ke===!1?"minWidth":"width"},[Ke,ui]),li=Ee;ui&&(li=(0,Cn.Z)((0,Cn.Z)({},li),{},{width:Ke}));var ci=u.useRef(null);return u.useImperativeHandle(C,function(){return{getPopupElement:function(){var Bn;return(Bn=ci.current)===null||Bn===void 0?void 0:Bn.popupElement}}}),u.createElement(hi,(0,gn.Z)({},An,{showAction:un?["click"]:[],hideAction:un?["click"]:[],popupPlacement:et||(Ae==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:$n,prefixCls:Jn,popupTransitionName:wn,popup:u.createElement("div",{onMouseEnter:Mn},En),ref:ci,stretch:Gn,popupAlign:Ye,popupVisible:Z,getPopupContainer:Ot,popupClassName:$()(Se,(0,Ft.Z)({},"".concat(Jn,"-empty"),gt)),popupStyle:li,getTriggerDOMNode:Wt,onPopupVisibleChange:un}),K)},Ji=u.forwardRef(jn),Zt=Ji,Wi=I(2909);function ge(h,m){var C=h.key,_;return"value"in h&&(_=h.value),C!=null?C:_!==void 0?_:"rc-index-key-".concat(m)}function Xe(h){return typeof h!="undefined"&&!Number.isNaN(h)}function yt(h,m){var C=h||{},_=C.label,L=C.value,Z=C.options,K=C.groupLabel,G=_||(m?"children":"label");return{label:G,value:L||"value",options:Z||"options",groupLabel:K||G}}function _t(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=m.fieldNames,_=m.childrenAsData,L=[],Z=yt(C,!1),K=Z.label,G=Z.value,ue=Z.options,me=Z.groupLabel;function Ee(Se,We){Array.isArray(Se)&&Se.forEach(function(Ae){if(We||!(ue in Ae)){var et=Ae[G];L.push({key:ge(Ae,L.length),groupOption:We,data:Ae,label:Ae[K],value:et})}else{var ze=Ae[me];ze===void 0&&_&&(ze=Ae.label),L.push({key:ge(Ae,L.length),group:!0,data:Ae,label:ze}),Ee(Ae[ue],!0)}})}return Ee(h,!1),L}function $t(h){var m=(0,Cn.Z)({},h);return"props"in m||Object.defineProperty(m,"props",{get:function(){return(0,hl.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),m}}),m}var In=function(m,C,_){if(!C||!C.length)return null;var L=!1,Z=function G(ue,me){var Ee=(0,Wi.Z)(me),Se=Ee[0],We=Ee.slice(1);if(!Se)return[ue];var Ae=ue.split(Se);return L=L||Ae.length>1,Ae.reduce(function(et,ze){return[].concat((0,Lt.Z)(et),(0,Lt.Z)(G(ze,We)))},[]).filter(Boolean)},K=Z(m,C);return L?typeof _!="undefined"?K.slice(0,_):K:null},Wn=u.createContext(null),Xn=Wn;function kn(h){var m=h.visible,C=h.values;if(!m)return null;var _=50;return u.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(C.slice(0,_).map(function(L){var Z=L.label,K=L.value;return["number","string"].includes((0,$r.Z)(Z))?Z:K}).join(", ")),C.length>_?", ...":null)}var Zi=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Nr=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Ar=function(m){return m==="tags"||m==="multiple"},mo=u.forwardRef(function(h,m){var C,_=h.id,L=h.prefixCls,Z=h.className,K=h.showSearch,G=h.tagRender,ue=h.direction,me=h.omitDomProps,Ee=h.displayValues,Se=h.onDisplayValuesChange,We=h.emptyOptions,Ae=h.notFoundContent,et=Ae===void 0?"Not Found":Ae,ze=h.onClear,Ke=h.mode,pt=h.disabled,Ye=h.loading,Ot=h.getInputElement,gt=h.getRawInputElement,Wt=h.open,un=h.defaultOpen,Mn=h.onDropdownVisibleChange,An=h.activeValue,Jn=h.onActiveValueChange,En=h.activeDescendantId,$n=h.searchValue,wn=h.autoClearSearchValue,ui=h.onSearch,Gn=h.onSearchSplit,li=h.tokenSeparators,ci=h.allowClear,gi=h.suffixIcon,Bn=h.clearIcon,Ti=h.OptionList,Qi=h.animation,rs=h.transitionName,lo=h.dropdownStyle,Zs=h.dropdownClassName,es=h.dropdownMatchSelectWidth,lr=h.dropdownRender,ws=h.dropdownAlign,Er=h.placement,Zr=h.builtinPlacements,bs=h.getPopupContainer,Ii=h.showAction,ei=Ii===void 0?[]:Ii,Cr=h.onFocus,ts=h.onBlur,Bi=h.onKeyUp,Br=h.onKeyDown,ls=h.onMouseDown,dr=(0,io.Z)(h,Zi),ps=Ar(Ke),Ur=(K!==void 0?K:ps)||Ke==="combobox",Jo=(0,Cn.Z)({},dr);Nr.forEach(function(ca){delete Jo[ca]}),me==null||me.forEach(function(ca){delete Jo[ca]});var Gs=u.useState(!1),Fs=(0,on.Z)(Gs,2),br=Fs[0],Xs=Fs[1];u.useEffect(function(){Xs((0,na.Z)())},[]);var fo=u.useRef(null),$s=u.useRef(null),ro=u.useRef(null),Wo=u.useRef(null),Co=u.useRef(null),fa=u.useRef(!1),Ba=H(),Ha=(0,on.Z)(Ba,3),Pa=Ha[0],Xa=Ha[1],Ra=Ha[2];u.useImperativeHandle(m,function(){var ca,Oo;return{focus:(ca=Wo.current)===null||ca===void 0?void 0:ca.focus,blur:(Oo=Wo.current)===null||Oo===void 0?void 0:Oo.blur,scrollTo:function(Gl){var ul;return(ul=Co.current)===null||ul===void 0?void 0:ul.scrollTo(Gl)},nativeElement:fo.current||$s.current}});var aa=u.useMemo(function(){var ca;if(Ke!=="combobox")return $n;var Oo=(ca=Ee[0])===null||ca===void 0?void 0:ca.value;return typeof Oo=="string"||typeof Oo=="number"?String(Oo):""},[$n,Ke,Ee]),va=Ke==="combobox"&&typeof Ot=="function"&&Ot()||null,pa=typeof gt=="function"&&gt(),oc=(0,qr.x1)($s,pa==null||(C=pa.props)===null||C===void 0?void 0:C.ref),la=u.useState(!1),Ol=(0,on.Z)(la,2),bc=Ol[0],Il=Ol[1];(0,Hi.Z)(function(){Il(!0)},[]);var Oa=(0,de.Z)(!1,{defaultValue:un,value:Wt}),ya=(0,on.Z)(Oa,2),xa=ya[0],ac=ya[1],Ma=bc?xa:!1,ec=!et&&We;(pt||ec&&Ma&&Ke==="combobox")&&(Ma=!1);var Cl=ec?!1:Ma,cs=u.useCallback(function(ca){var Oo=ca!==void 0?ca:!Ma;pt||(ac(Oo),Ma!==Oo&&(Mn==null||Mn(Oo)))},[pt,Ma,ac,Mn]),Ys=u.useMemo(function(){return(li||[]).some(function(ca){return[`
`,`\r
`].includes(ca)})},[li]),ss=u.useContext(Xn)||{},_o=ss.maxCount,ea=ss.rawValues,ia=function(Oo,Bl,Gl){if(!(ps&&Xe(_o)&&(ea==null?void 0:ea.size)>=_o)){var ul=!0,Ul=Oo;Jn==null||Jn(null);var Lc=In(Oo,li,Xe(_o)?_o-ea.size:void 0),Cc=Gl?null:Lc;return Ke!=="combobox"&&Cc&&(Ul="",Gn==null||Gn(Cc),cs(!1),ul=!1),ui&&aa!==Ul&&ui(Ul,{source:Bl?"typing":"effect"}),ul}},yl=function(Oo){!Oo||!Oo.trim()||ui(Oo,{source:"submit"})};u.useEffect(function(){!Ma&&!ps&&Ke!=="combobox"&&ia("",!1,!1)},[Ma]),u.useEffect(function(){xa&&pt&&ac(!1),pt&&!fa.current&&Xa(!1)},[pt]);var ll=le(),_l=(0,on.Z)(ll,2),Aa=_l[0],wl=_l[1],Zl=u.useRef(!1),Zc=function(Oo){var Bl=Aa(),Gl=Oo.key,ul=Gl==="Enter";if(ul&&(Ke!=="combobox"&&Oo.preventDefault(),Ma||cs(!0)),wl(!!aa),Gl==="Backspace"&&!Bl&&ps&&!aa&&Ee.length){for(var Ul=(0,Lt.Z)(Ee),Lc=null,Cc=Ul.length-1;Cc>=0;Cc-=1){var eu=Ul[Cc];if(!eu.disabled){Ul.splice(Cc,1),Lc=eu;break}}Lc&&Se(Ul,{type:"remove",values:[Lc]})}for(var tu=arguments.length,Nc=new Array(tu>1?tu-1:0),ad=1;ad<tu;ad++)Nc[ad-1]=arguments[ad];if(Ma&&(!ul||!Zl.current)){var uc;(uc=Co.current)===null||uc===void 0||uc.onKeyDown.apply(uc,[Oo].concat(Nc))}ul&&(Zl.current=!0),Br==null||Br.apply(void 0,[Oo].concat(Nc))},Dl=function(Oo){for(var Bl=arguments.length,Gl=new Array(Bl>1?Bl-1:0),ul=1;ul<Bl;ul++)Gl[ul-1]=arguments[ul];if(Ma){var Ul;(Ul=Co.current)===null||Ul===void 0||Ul.onKeyUp.apply(Ul,[Oo].concat(Gl))}Oo.key==="Enter"&&(Zl.current=!1),Bi==null||Bi.apply(void 0,[Oo].concat(Gl))},fc=function(Oo){var Bl=Ee.filter(function(Gl){return Gl!==Oo});Se(Bl,{type:"remove",values:[Oo]})},Kr=u.useRef(!1),gs=function(){Xa(!0),pt||(Cr&&!Kr.current&&Cr.apply(void 0,arguments),ei.includes("focus")&&cs(!0)),Kr.current=!0},cr=function(){fa.current=!0,Xa(!1,function(){Kr.current=!1,fa.current=!1,cs(!1)}),!pt&&(aa&&(Ke==="tags"?ui(aa,{source:"submit"}):Ke==="multiple"&&ui("",{source:"blur"})),ts&&ts.apply(void 0,arguments))},hr=[];u.useEffect(function(){return function(){hr.forEach(function(ca){return clearTimeout(ca)}),hr.splice(0,hr.length)}},[]);var ko=function(Oo){var Bl,Gl=Oo.target,ul=(Bl=ro.current)===null||Bl===void 0?void 0:Bl.getPopupElement();if(ul&&ul.contains(Gl)){var Ul=setTimeout(function(){var tu=hr.indexOf(Ul);if(tu!==-1&&hr.splice(tu,1),Ra(),!br&&!ul.contains(document.activeElement)){var Nc;(Nc=Wo.current)===null||Nc===void 0||Nc.focus()}});hr.push(Ul)}for(var Lc=arguments.length,Cc=new Array(Lc>1?Lc-1:0),eu=1;eu<Lc;eu++)Cc[eu-1]=arguments[eu];ls==null||ls.apply(void 0,[Oo].concat(Cc))},Sa=u.useState({}),Ca=(0,on.Z)(Sa,2),lc=Ca[1];function cc(){lc({})}var cl;pa&&(cl=function(Oo){cs(Oo)}),ie(function(){var ca;return[fo.current,(ca=ro.current)===null||ca===void 0?void 0:ca.getPopupElement()]},Cl,cs,!!pa);var Ll=u.useMemo(function(){return(0,Cn.Z)((0,Cn.Z)({},h),{},{notFoundContent:et,open:Ma,triggerOpen:Cl,id:_,showSearch:Ur,multiple:ps,toggleOpen:cs})},[h,et,Cl,Ma,_,Ur,ps,cs]),Sc=!!gi||Ye,Nl;Sc&&(Nl=u.createElement($a,{className:$()("".concat(L,"-arrow"),(0,Ft.Z)({},"".concat(L,"-arrow-loading"),Ye)),customizeIcon:gi,customizeIconProps:{loading:Ye,searchValue:aa,open:Ma,focused:Pa,showSearch:Ur}}));var Fl=function(){var Oo;ze==null||ze(),(Oo=Wo.current)===null||Oo===void 0||Oo.focus(),Se([],{type:"clear",values:Ee}),ia("",!1,!1)},pc=Pl(L,Fl,Ee,ci,Bn,pt,aa,Ke),Wu=pc.allowClear,Tu=pc.clearIcon,ju=u.createElement(Ti,{ref:Co}),Nd=$()(L,Z,(0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({},"".concat(L,"-focused"),Pa),"".concat(L,"-multiple"),ps),"".concat(L,"-single"),!ps),"".concat(L,"-allow-clear"),ci),"".concat(L,"-show-arrow"),Sc),"".concat(L,"-disabled"),pt),"".concat(L,"-loading"),Ye),"".concat(L,"-open"),Ma),"".concat(L,"-customize-input"),va),"".concat(L,"-show-search"),Ur)),Gc=u.createElement(Zt,{ref:ro,disabled:pt,prefixCls:L,visible:Cl,popupElement:ju,animation:Qi,transitionName:rs,dropdownStyle:lo,dropdownClassName:Zs,direction:ue,dropdownMatchSelectWidth:es,dropdownRender:lr,dropdownAlign:ws,placement:Er,builtinPlacements:Zr,getPopupContainer:bs,empty:We,getTriggerDOMNode:function(Oo){return $s.current||Oo},onPopupVisibleChange:cl,onPopupMouseEnter:cc},pa?u.cloneElement(pa,{ref:oc}):u.createElement(rr,(0,gn.Z)({},h,{domRef:$s,prefixCls:L,inputElement:va,ref:Wo,id:_,showSearch:Ur,autoClearSearchValue:wn,mode:Ke,activeDescendantId:En,tagRender:G,values:Ee,open:Ma,onToggleOpen:cs,activeValue:An,searchValue:aa,onSearch:ia,onSearchSubmit:yl,onRemove:fc,tokenWithEnter:Ys}))),Dc;return pa?Dc=Gc:Dc=u.createElement("div",(0,gn.Z)({className:Nd},Jo,{ref:fo,onMouseDown:ko,onKeyDown:Zc,onKeyUp:Dl,onFocus:gs,onBlur:cr}),u.createElement(kn,{visible:Pa&&!Ma,values:Ee}),Gc,Nl,Wu&&Tu),u.createElement(Ze.Provider,{value:Ll},Dc)}),Ri=mo,Qr=function(){return null};Qr.isSelectOptGroup=!0;var Ko=Qr,da=function(){return null};da.isSelectOption=!0;var Fa=da,fl=I(95410),Qa=I(30967),sa=u.forwardRef(function(h,m){var C=h.height,_=h.offsetY,L=h.offsetX,Z=h.children,K=h.prefixCls,G=h.onInnerResize,ue=h.innerProps,me=h.rtl,Ee=h.extra,Se={},We={display:"flex",flexDirection:"column"};return _!==void 0&&(Se={height:C,position:"relative",overflow:"hidden"},We=(0,Cn.Z)((0,Cn.Z)({},We),{},(0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({transform:"translateY(".concat(_,"px)")},me?"marginRight":"marginLeft",-L),"position","absolute"),"left",0),"right",0),"top",0))),u.createElement("div",{style:Se},u.createElement(_s.Z,{onResize:function(et){var ze=et.offsetHeight;ze&&G&&G()}},u.createElement("div",(0,gn.Z)({style:We,className:$()((0,Ft.Z)({},"".concat(K,"-holder-inner"),K)),ref:m},ue),Z,Ee)))});sa.displayName="Filler";var rc=sa;function el(h){var m=h.children,C=h.setRef,_=u.useCallback(function(L){C(L)},[]);return u.cloneElement(m,{ref:_})}function ao(h,m,C,_,L,Z,K,G){var ue=G.getKey;return h.slice(m,C+1).map(function(me,Ee){var Se=m+Ee,We=K(me,Se,{style:{width:_},offsetX:L}),Ae=ue(me);return u.createElement(el,{key:Ae,setRef:function(ze){return Z(me,ze)}},We)})}function nu(h,m,C,_){var L=C-h,Z=m-C,K=Math.min(L,Z)*2;if(_<=K){var G=Math.floor(_/2);return _%2?C+G+1:C-G}return L>Z?C-(_-Z):C+(_-L)}function Sl(h,m,C){var _=h.length,L=m.length,Z,K;if(_===0&&L===0)return null;_<L?(Z=h,K=m):(Z=m,K=h);var G={__EMPTY_ITEM__:!0};function ue(et){return et!==void 0?C(et):G}for(var me=null,Ee=Math.abs(_-L)!==1,Se=0;Se<K.length;Se+=1){var We=ue(Z[Se]),Ae=ue(K[Se]);if(We!==Ae){me=Se,Ee=Ee||We!==ue(K[Se+1]);break}}return me===null?null:{index:me,multiple:Ee}}function Eh(h,m,C){var _=u.useState(h),L=(0,on.Z)(_,2),Z=L[0],K=L[1],G=u.useState(null),ue=(0,on.Z)(G,2),me=ue[0],Ee=ue[1];return u.useEffect(function(){var Se=Sl(Z||[],h||[],m);(Se==null?void 0:Se.index)!==void 0&&(C==null||C(Se.index),Ee(h[Se.index])),K(h)},[h]),[me]}var dc=I(15363),Th=(typeof navigator=="undefined"?"undefined":(0,$r.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),yf=Th,Kl=function(h,m,C,_){var L=(0,u.useRef)(!1),Z=(0,u.useRef)(null);function K(){clearTimeout(Z.current),L.current=!0,Z.current=setTimeout(function(){L.current=!1},50)}var G=(0,u.useRef)({top:h,bottom:m,left:C,right:_});return G.current.top=h,G.current.bottom=m,G.current.left=C,G.current.right=_,function(ue,me){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Se=ue?me<0&&G.current.left||me>0&&G.current.right:me<0&&G.current.top||me>0&&G.current.bottom;return Ee&&Se?(clearTimeout(Z.current),L.current=!1):(!Se||L.current)&&K(),!L.current&&Se}};function je(h,m,C,_,L,Z,K){var G=(0,u.useRef)(0),ue=(0,u.useRef)(null),me=(0,u.useRef)(null),Ee=(0,u.useRef)(!1),Se=Kl(m,C,_,L);function We(Ye,Ot){dc.Z.cancel(ue.current),G.current+=Ot,me.current=Ot,!Se(!1,Ot)&&(yf||Ye.preventDefault(),ue.current=(0,dc.Z)(function(){var gt=Ee.current?10:1;K(G.current*gt),G.current=0}))}function Ae(Ye,Ot){K(Ot,!0),yf||Ye.preventDefault()}var et=(0,u.useRef)(null),ze=(0,u.useRef)(null);function Ke(Ye){if(h){dc.Z.cancel(ze.current),ze.current=(0,dc.Z)(function(){et.current=null},2);var Ot=Ye.deltaX,gt=Ye.deltaY,Wt=Ye.shiftKey,un=Ot,Mn=gt;(et.current==="sx"||!et.current&&Wt&&gt&&!Ot)&&(un=gt,Mn=0,et.current="sx");var An=Math.abs(un),Jn=Math.abs(Mn);et.current===null&&(et.current=Z&&An>Jn?"x":"y"),et.current==="y"?We(Ye,Mn):Ae(Ye,un)}}function pt(Ye){h&&(Ee.current=Ye.detail===me.current)}return[Ke,pt]}function $d(h,m,C,_){var L=u.useMemo(function(){return[new Map,[]]},[h,C.id,_]),Z=(0,on.Z)(L,2),K=Z[0],G=Z[1],ue=function(Ee){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee,We=K.get(Ee),Ae=K.get(Se);if(We===void 0||Ae===void 0)for(var et=h.length,ze=G.length;ze<et;ze+=1){var Ke,pt=h[ze],Ye=m(pt);K.set(Ye,ze);var Ot=(Ke=C.get(Ye))!==null&&Ke!==void 0?Ke:_;if(G[ze]=(G[ze-1]||0)+Ot,Ye===Ee&&(We=ze),Ye===Se&&(Ae=ze),We!==void 0&&Ae!==void 0)break}return{top:G[We-1]||0,bottom:G[Ae]}};return ue}var Ah=function(){function h(){(0,ce.Z)(this,h),(0,Ft.Z)(this,"maps",void 0),(0,Ft.Z)(this,"id",0),this.maps=Object.create(null)}return(0,Qt.Z)(h,[{key:"set",value:function(C,_){this.maps[C]=_,this.id+=1}},{key:"get",value:function(C){return this.maps[C]}}]),h}(),ql=Ah;function Yc(h,m,C){var _=u.useState(0),L=(0,on.Z)(_,2),Z=L[0],K=L[1],G=(0,u.useRef)(new Map),ue=(0,u.useRef)(new ql),me=(0,u.useRef)();function Ee(){dc.Z.cancel(me.current)}function Se(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Ee();var et=function(){G.current.forEach(function(Ke,pt){if(Ke&&Ke.offsetParent){var Ye=(0,go.ZP)(Ke),Ot=Ye.offsetHeight;ue.current.get(pt)!==Ot&&ue.current.set(pt,Ye.offsetHeight)}}),K(function(Ke){return Ke+1})};Ae?et():me.current=(0,dc.Z)(et)}function We(Ae,et){var ze=h(Ae),Ke=G.current.get(ze);et?(G.current.set(ze,et),Se()):G.current.delete(ze),!Ke!=!et&&(et?m==null||m(Ae):C==null||C(Ae))}return(0,u.useEffect)(function(){return Ee},[]),[We,Se,ue.current,Z]}var Ga=14/15;function Hd(h,m,C){var _=(0,u.useRef)(!1),L=(0,u.useRef)(0),Z=(0,u.useRef)(0),K=(0,u.useRef)(null),G=(0,u.useRef)(null),ue,me=function(Ae){if(_.current){var et=Math.ceil(Ae.touches[0].pageX),ze=Math.ceil(Ae.touches[0].pageY),Ke=L.current-et,pt=Z.current-ze,Ye=Math.abs(Ke)>Math.abs(pt);Ye?L.current=et:Z.current=ze,C(Ye,Ye?Ke:pt)&&Ae.preventDefault(),clearInterval(G.current),G.current=setInterval(function(){Ye?Ke*=Ga:pt*=Ga;var Ot=Math.floor(Ye?Ke:pt);(!C(Ye,Ot,!0)||Math.abs(Ot)<=.1)&&clearInterval(G.current)},16)}},Ee=function(){_.current=!1,ue()},Se=function(Ae){ue(),Ae.touches.length===1&&!_.current&&(_.current=!0,L.current=Math.ceil(Ae.touches[0].pageX),Z.current=Math.ceil(Ae.touches[0].pageY),K.current=Ae.target,K.current.addEventListener("touchmove",me,{passive:!1}),K.current.addEventListener("touchend",Ee,{passive:!0}))};ue=function(){K.current&&(K.current.removeEventListener("touchmove",me),K.current.removeEventListener("touchend",Ee))},(0,Hi.Z)(function(){return h&&m.current.addEventListener("touchstart",Se,{passive:!0}),function(){var We;(We=m.current)===null||We===void 0||We.removeEventListener("touchstart",Se),ue(),clearInterval(G.current)}},[h])}var Xu=10;function Yu(h,m,C,_,L,Z,K,G){var ue=u.useRef(),me=u.useState(null),Ee=(0,on.Z)(me,2),Se=Ee[0],We=Ee[1];return(0,Hi.Z)(function(){if(Se&&Se.times<Xu){if(!h.current){We(function(Ti){return(0,Cn.Z)({},Ti)});return}Z();var Ae=Se.targetAlign,et=Se.originAlign,ze=Se.index,Ke=Se.offset,pt=h.current.clientHeight,Ye=!1,Ot=Ae,gt=null;if(pt){for(var Wt=Ae||et,un=0,Mn=0,An=0,Jn=Math.min(m.length-1,ze),En=0;En<=Jn;En+=1){var $n=L(m[En]);Mn=un;var wn=C.get($n);An=Mn+(wn===void 0?_:wn),un=An}for(var ui=Wt==="top"?Ke:pt-Ke,Gn=Jn;Gn>=0;Gn-=1){var li=L(m[Gn]),ci=C.get(li);if(ci===void 0){Ye=!0;break}if(ui-=ci,ui<=0)break}switch(Wt){case"top":gt=Mn-Ke;break;case"bottom":gt=An-pt+Ke;break;default:{var gi=h.current.scrollTop,Bn=gi+pt;Mn<gi?Ot="top":An>Bn&&(Ot="bottom")}}gt!==null&&K(gt),gt!==Se.lastTop&&(Ye=!0)}Ye&&We((0,Cn.Z)((0,Cn.Z)({},Se),{},{times:Se.times+1,targetAlign:Ot,lastTop:gt}))}},[Se,h.current]),function(Ae){if(Ae==null){G();return}if(dc.Z.cancel(ue.current),typeof Ae=="number")K(Ae);else if(Ae&&(0,$r.Z)(Ae)==="object"){var et,ze=Ae.align;"index"in Ae?et=Ae.index:et=m.findIndex(function(Ye){return L(Ye)===Ae.key});var Ke=Ae.offset,pt=Ke===void 0?0:Ke;We({times:0,index:et,offset:pt,originAlign:ze})}}}function Pu(h,m){var C="touches"in h?h.touches[0]:h;return C[m?"pageX":"pageY"]}var vu=u.forwardRef(function(h,m){var C=h.prefixCls,_=h.rtl,L=h.scrollOffset,Z=h.scrollRange,K=h.onStartMove,G=h.onStopMove,ue=h.onScroll,me=h.horizontal,Ee=h.spinSize,Se=h.containerSize,We=h.style,Ae=h.thumbStyle,et=u.useState(!1),ze=(0,on.Z)(et,2),Ke=ze[0],pt=ze[1],Ye=u.useState(null),Ot=(0,on.Z)(Ye,2),gt=Ot[0],Wt=Ot[1],un=u.useState(null),Mn=(0,on.Z)(un,2),An=Mn[0],Jn=Mn[1],En=!_,$n=u.useRef(),wn=u.useRef(),ui=u.useState(!1),Gn=(0,on.Z)(ui,2),li=Gn[0],ci=Gn[1],gi=u.useRef(),Bn=function(){clearTimeout(gi.current),ci(!0),gi.current=setTimeout(function(){ci(!1)},3e3)},Ti=Z-Se||0,Qi=Se-Ee||0,rs=u.useMemo(function(){if(L===0||Ti===0)return 0;var Ii=L/Ti;return Ii*Qi},[L,Ti,Qi]),lo=function(ei){ei.stopPropagation(),ei.preventDefault()},Zs=u.useRef({top:rs,dragging:Ke,pageY:gt,startTop:An});Zs.current={top:rs,dragging:Ke,pageY:gt,startTop:An};var es=function(ei){pt(!0),Wt(Pu(ei,me)),Jn(Zs.current.top),K(),ei.stopPropagation(),ei.preventDefault()};u.useEffect(function(){var Ii=function(Bi){Bi.preventDefault()},ei=$n.current,Cr=wn.current;return ei.addEventListener("touchstart",Ii,{passive:!1}),Cr.addEventListener("touchstart",es,{passive:!1}),function(){ei.removeEventListener("touchstart",Ii),Cr.removeEventListener("touchstart",es)}},[]);var lr=u.useRef();lr.current=Ti;var ws=u.useRef();ws.current=Qi,u.useEffect(function(){if(Ke){var Ii,ei=function(Bi){var Br=Zs.current,ls=Br.dragging,dr=Br.pageY,ps=Br.startTop;dc.Z.cancel(Ii);var Ur=$n.current.getBoundingClientRect(),Jo=Se/(me?Ur.width:Ur.height);if(ls){var Gs=(Pu(Bi,me)-dr)*Jo,Fs=ps;!En&&me?Fs-=Gs:Fs+=Gs;var br=lr.current,Xs=ws.current,fo=Xs?Fs/Xs:0,$s=Math.ceil(fo*br);$s=Math.max($s,0),$s=Math.min($s,br),Ii=(0,dc.Z)(function(){ue($s,me)})}},Cr=function(){pt(!1),G()};return window.addEventListener("mousemove",ei,{passive:!0}),window.addEventListener("touchmove",ei,{passive:!0}),window.addEventListener("mouseup",Cr,{passive:!0}),window.addEventListener("touchend",Cr,{passive:!0}),function(){window.removeEventListener("mousemove",ei),window.removeEventListener("touchmove",ei),window.removeEventListener("mouseup",Cr),window.removeEventListener("touchend",Cr),dc.Z.cancel(Ii)}}},[Ke]),u.useEffect(function(){return Bn(),function(){clearTimeout(gi.current)}},[L]),u.useImperativeHandle(m,function(){return{delayHidden:Bn}});var Er="".concat(C,"-scrollbar"),Zr={position:"absolute",visibility:li?null:"hidden"},bs={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return me?(Zr.height=8,Zr.left=0,Zr.right=0,Zr.bottom=0,bs.height="100%",bs.width=Ee,En?bs.left=rs:bs.right=rs):(Zr.width=8,Zr.top=0,Zr.bottom=0,En?Zr.right=0:Zr.left=0,bs.width="100%",bs.height=Ee,bs.top=rs),u.createElement("div",{ref:$n,className:$()(Er,(0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({},"".concat(Er,"-horizontal"),me),"".concat(Er,"-vertical"),!me),"".concat(Er,"-visible"),li)),style:(0,Cn.Z)((0,Cn.Z)({},Zr),We),onMouseDown:lo,onMouseMove:Bn},u.createElement("div",{ref:wn,className:$()("".concat(Er,"-thumb"),(0,Ft.Z)({},"".concat(Er,"-thumb-moving"),Ke)),style:(0,Cn.Z)((0,Cn.Z)({},bs),Ae),onMouseDown:es}))}),iu=vu,ru=20;function Ku(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=h/m*h;return isNaN(C)&&(C=0),C=Math.max(C,ru),Math.floor(C)}var Vd=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],Wd=[],Ru={overflowY:"auto",overflowAnchor:"none"};function Ph(h,m){var C=h.prefixCls,_=C===void 0?"rc-virtual-list":C,L=h.className,Z=h.height,K=h.itemHeight,G=h.fullHeight,ue=G===void 0?!0:G,me=h.style,Ee=h.data,Se=h.children,We=h.itemKey,Ae=h.virtual,et=h.direction,ze=h.scrollWidth,Ke=h.component,pt=Ke===void 0?"div":Ke,Ye=h.onScroll,Ot=h.onVirtualScroll,gt=h.onVisibleChange,Wt=h.innerProps,un=h.extraRender,Mn=h.styles,An=(0,io.Z)(h,Vd),Jn=u.useCallback(function(Kr){return typeof We=="function"?We(Kr):Kr==null?void 0:Kr[We]},[We]),En=Yc(Jn,null,null),$n=(0,on.Z)(En,4),wn=$n[0],ui=$n[1],Gn=$n[2],li=$n[3],ci=!!(Ae!==!1&&Z&&K),gi=u.useMemo(function(){return Object.values(Gn.maps).reduce(function(Kr,gs){return Kr+gs},0)},[Gn.id,Gn.maps]),Bn=ci&&Ee&&(Math.max(K*Ee.length,gi)>Z||!!ze),Ti=et==="rtl",Qi=$()(_,(0,Ft.Z)({},"".concat(_,"-rtl"),Ti),L),rs=Ee||Wd,lo=(0,u.useRef)(),Zs=(0,u.useRef)(),es=(0,u.useRef)(),lr=(0,u.useState)(0),ws=(0,on.Z)(lr,2),Er=ws[0],Zr=ws[1],bs=(0,u.useState)(0),Ii=(0,on.Z)(bs,2),ei=Ii[0],Cr=Ii[1],ts=(0,u.useState)(!1),Bi=(0,on.Z)(ts,2),Br=Bi[0],ls=Bi[1],dr=function(){ls(!0)},ps=function(){ls(!1)},Ur={getKey:Jn};function Jo(Kr){Zr(function(gs){var cr;typeof Kr=="function"?cr=Kr(gs):cr=Kr;var hr=bc(cr);return lo.current.scrollTop=hr,hr})}var Gs=(0,u.useRef)({start:0,end:rs.length}),Fs=(0,u.useRef)(),br=Eh(rs,Jn),Xs=(0,on.Z)(br,1),fo=Xs[0];Fs.current=fo;var $s=u.useMemo(function(){if(!ci)return{scrollHeight:void 0,start:0,end:rs.length-1,offset:void 0};if(!Bn){var Kr;return{scrollHeight:((Kr=Zs.current)===null||Kr===void 0?void 0:Kr.offsetHeight)||0,start:0,end:rs.length-1,offset:void 0}}for(var gs=0,cr,hr,ko,Sa=rs.length,Ca=0;Ca<Sa;Ca+=1){var lc=rs[Ca],cc=Jn(lc),cl=Gn.get(cc),Ll=gs+(cl===void 0?K:cl);Ll>=Er&&cr===void 0&&(cr=Ca,hr=gs),Ll>Er+Z&&ko===void 0&&(ko=Ca),gs=Ll}return cr===void 0&&(cr=0,hr=0,ko=Math.ceil(Z/K)),ko===void 0&&(ko=rs.length-1),ko=Math.min(ko+1,rs.length-1),{scrollHeight:gs,start:cr,end:ko,offset:hr}},[Bn,ci,Er,rs,li,Z]),ro=$s.scrollHeight,Wo=$s.start,Co=$s.end,fa=$s.offset;Gs.current.start=Wo,Gs.current.end=Co;var Ba=u.useState({width:0,height:Z}),Ha=(0,on.Z)(Ba,2),Pa=Ha[0],Xa=Ha[1],Ra=function(gs){Xa({width:gs.offsetWidth,height:gs.offsetHeight})},aa=(0,u.useRef)(),va=(0,u.useRef)(),pa=u.useMemo(function(){return Ku(Pa.width,ze)},[Pa.width,ze]),oc=u.useMemo(function(){return Ku(Pa.height,ro)},[Pa.height,ro]),la=ro-Z,Ol=(0,u.useRef)(la);Ol.current=la;function bc(Kr){var gs=Kr;return Number.isNaN(Ol.current)||(gs=Math.min(gs,Ol.current)),gs=Math.max(gs,0),gs}var Il=Er<=0,Oa=Er>=la,ya=ei<=0,xa=ei>=ze,ac=Kl(Il,Oa,ya,xa),Ma=function(){return{x:Ti?-ei:ei,y:Er}},ec=(0,u.useRef)(Ma()),Cl=(0,Rn.zX)(function(Kr){if(Ot){var gs=(0,Cn.Z)((0,Cn.Z)({},Ma()),Kr);(ec.current.x!==gs.x||ec.current.y!==gs.y)&&(Ot(gs),ec.current=gs)}});function cs(Kr,gs){var cr=Kr;gs?((0,Qa.flushSync)(function(){Cr(cr)}),Cl()):Jo(cr)}function Ys(Kr){var gs=Kr.currentTarget.scrollTop;gs!==Er&&Jo(gs),Ye==null||Ye(Kr),Cl()}var ss=function(gs){var cr=gs,hr=ze?ze-Pa.width:0;return cr=Math.max(cr,0),cr=Math.min(cr,hr),cr},_o=(0,Rn.zX)(function(Kr,gs){gs?((0,Qa.flushSync)(function(){Cr(function(cr){var hr=cr+(Ti?-Kr:Kr);return ss(hr)})}),Cl()):Jo(function(cr){var hr=cr+Kr;return hr})}),ea=je(ci,Il,Oa,ya,xa,!!ze,_o),ia=(0,on.Z)(ea,2),yl=ia[0],ll=ia[1];Hd(ci,lo,function(Kr,gs,cr){return ac(Kr,gs,cr)?!1:(yl({preventDefault:function(){},deltaX:Kr?gs:0,deltaY:Kr?0:gs}),!0)}),(0,Hi.Z)(function(){function Kr(cr){ci&&cr.preventDefault()}var gs=lo.current;return gs.addEventListener("wheel",yl,{passive:!1}),gs.addEventListener("DOMMouseScroll",ll,{passive:!0}),gs.addEventListener("MozMousePixelScroll",Kr,{passive:!1}),function(){gs.removeEventListener("wheel",yl),gs.removeEventListener("DOMMouseScroll",ll),gs.removeEventListener("MozMousePixelScroll",Kr)}},[ci]),(0,Hi.Z)(function(){if(ze){var Kr=ss(ei);Cr(Kr),Cl({x:Kr})}},[Pa.width,ze]);var _l=function(){var gs,cr;(gs=aa.current)===null||gs===void 0||gs.delayHidden(),(cr=va.current)===null||cr===void 0||cr.delayHidden()},Aa=Yu(lo,rs,Gn,K,Jn,function(){return ui(!0)},Jo,_l);u.useImperativeHandle(m,function(){return{nativeElement:es.current,getScrollInfo:Ma,scrollTo:function(gs){function cr(hr){return hr&&(0,$r.Z)(hr)==="object"&&("left"in hr||"top"in hr)}cr(gs)?(gs.left!==void 0&&Cr(ss(gs.left)),Aa(gs.top)):Aa(gs)}}}),(0,Hi.Z)(function(){if(gt){var Kr=rs.slice(Wo,Co+1);gt(Kr,rs)}},[Wo,Co,rs]);var wl=$d(rs,Jn,Gn,K),Zl=un==null?void 0:un({start:Wo,end:Co,virtual:Bn,offsetX:ei,offsetY:fa,rtl:Ti,getSize:wl}),Zc=ao(rs,Wo,Co,ze,ei,wn,Se,Ur),Dl=null;Z&&(Dl=(0,Cn.Z)((0,Ft.Z)({},ue?"height":"maxHeight",Z),Ru),ci&&(Dl.overflowY="hidden",ze&&(Dl.overflowX="hidden"),Br&&(Dl.pointerEvents="none")));var fc={};return Ti&&(fc.dir="rtl"),u.createElement("div",(0,gn.Z)({ref:es,style:(0,Cn.Z)((0,Cn.Z)({},me),{},{position:"relative"}),className:Qi},fc,An),u.createElement(_s.Z,{onResize:Ra},u.createElement(pt,{className:"".concat(_,"-holder"),style:Dl,ref:lo,onScroll:Ys,onMouseEnter:_l},u.createElement(rc,{prefixCls:_,height:ro,offsetX:ei,offsetY:fa,scrollWidth:ze,onInnerResize:ui,ref:Zs,innerProps:Wt,rtl:Ti,extra:Zl},Zc))),Bn&&ro>Z&&u.createElement(iu,{ref:aa,prefixCls:_,scrollOffset:Er,scrollRange:ro,rtl:Ti,onScroll:cs,onStartMove:dr,onStopMove:ps,spinSize:oc,containerSize:Pa.height,style:Mn==null?void 0:Mn.verticalScrollBar,thumbStyle:Mn==null?void 0:Mn.verticalScrollBarThumb}),Bn&&ze>Pa.width&&u.createElement(iu,{ref:va,prefixCls:_,scrollOffset:ei,scrollRange:ze,rtl:Ti,onScroll:cs,onStartMove:dr,onStopMove:ps,spinSize:pa,containerSize:Pa.width,horizontal:!0,style:Mn==null?void 0:Mn.horizontalScrollBar,thumbStyle:Mn==null?void 0:Mn.horizontalScrollBarThumb}))}var dd=u.forwardRef(Ph);dd.displayName="List";var hd=dd,Rh=hd;function Jl(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var su=["disabled","title","children","style","className"];function Mc(h){return typeof h=="string"||typeof h=="number"}var jd=function(m,C){var _=te(),L=_.prefixCls,Z=_.id,K=_.open,G=_.multiple,ue=_.mode,me=_.searchValue,Ee=_.toggleOpen,Se=_.notFoundContent,We=_.onPopupScroll,Ae=u.useContext(Xn),et=Ae.maxCount,ze=Ae.flattenOptions,Ke=Ae.onActiveValue,pt=Ae.defaultActiveFirstOption,Ye=Ae.onSelect,Ot=Ae.menuItemSelectedIcon,gt=Ae.rawValues,Wt=Ae.fieldNames,un=Ae.virtual,Mn=Ae.direction,An=Ae.listHeight,Jn=Ae.listItemHeight,En=Ae.optionRender,$n="".concat(L,"-item"),wn=(0,fl.Z)(function(){return ze},[K,ze],function(Ii,ei){return ei[0]&&Ii[1]!==ei[1]}),ui=u.useRef(null),Gn=u.useMemo(function(){return G&&Xe(et)&&(gt==null?void 0:gt.size)>=et},[G,et,gt==null?void 0:gt.size]),li=function(ei){ei.preventDefault()},ci=function(ei){var Cr;(Cr=ui.current)===null||Cr===void 0||Cr.scrollTo(typeof ei=="number"?{index:ei}:ei)},gi=function(ei){for(var Cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ts=wn.length,Bi=0;Bi<ts;Bi+=1){var Br=(ei+Bi*Cr+ts)%ts,ls=wn[Br]||{},dr=ls.group,ps=ls.data;if(!dr&&!(ps!=null&&ps.disabled)&&!Gn)return Br}return-1},Bn=u.useState(function(){return gi(0)}),Ti=(0,on.Z)(Bn,2),Qi=Ti[0],rs=Ti[1],lo=function(ei){var Cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;rs(ei);var ts={source:Cr?"keyboard":"mouse"},Bi=wn[ei];if(!Bi){Ke(null,-1,ts);return}Ke(Bi.value,ei,ts)};(0,u.useEffect)(function(){lo(pt!==!1?gi(0):-1)},[wn.length,me]);var Zs=u.useCallback(function(Ii){return gt.has(Ii)&&ue!=="combobox"},[ue,(0,Lt.Z)(gt).toString(),gt.size]);(0,u.useEffect)(function(){var Ii=setTimeout(function(){if(!G&&K&&gt.size===1){var Cr=Array.from(gt)[0],ts=wn.findIndex(function(Bi){var Br=Bi.data;return Br.value===Cr});ts!==-1&&(lo(ts),ci(ts))}});if(K){var ei;(ei=ui.current)===null||ei===void 0||ei.scrollTo(void 0)}return function(){return clearTimeout(Ii)}},[K,me]);var es=function(ei){ei!==void 0&&Ye(ei,{selected:!gt.has(ei)}),G||Ee(!1)};if(u.useImperativeHandle(C,function(){return{onKeyDown:function(ei){var Cr=ei.which,ts=ei.ctrlKey;switch(Cr){case oe.Z.N:case oe.Z.P:case oe.Z.UP:case oe.Z.DOWN:{var Bi=0;if(Cr===oe.Z.UP?Bi=-1:Cr===oe.Z.DOWN?Bi=1:Jl()&&ts&&(Cr===oe.Z.N?Bi=1:Cr===oe.Z.P&&(Bi=-1)),Bi!==0){var Br=gi(Qi+Bi,Bi);ci(Br),lo(Br,!0)}break}case oe.Z.ENTER:{var ls,dr=wn[Qi];dr&&!(dr!=null&&(ls=dr.data)!==null&&ls!==void 0&&ls.disabled)&&!Gn?es(dr.value):es(void 0),K&&ei.preventDefault();break}case oe.Z.ESC:Ee(!1),K&&ei.stopPropagation()}},onKeyUp:function(){},scrollTo:function(ei){ci(ei)}}}),wn.length===0)return u.createElement("div",{role:"listbox",id:"".concat(Z,"_list"),className:"".concat($n,"-empty"),onMouseDown:li},Se);var lr=Object.keys(Wt).map(function(Ii){return Wt[Ii]}),ws=function(ei){return ei.label};function Er(Ii,ei){var Cr=Ii.group;return{role:Cr?"presentation":"option",id:"".concat(Z,"_list_").concat(ei)}}var Zr=function(ei){var Cr=wn[ei];if(!Cr)return null;var ts=Cr.data||{},Bi=ts.value,Br=Cr.group,ls=(0,Fe.Z)(ts,!0),dr=ws(Cr);return Cr?u.createElement("div",(0,gn.Z)({"aria-label":typeof dr=="string"&&!Br?dr:null},ls,{key:ei},Er(Cr,ei),{"aria-selected":Zs(Bi)}),Bi):null},bs={role:"listbox",id:"".concat(Z,"_list")};return u.createElement(u.Fragment,null,un&&u.createElement("div",(0,gn.Z)({},bs,{style:{height:0,width:0,overflow:"hidden"}}),Zr(Qi-1),Zr(Qi),Zr(Qi+1)),u.createElement(Rh,{itemKey:"key",ref:ui,data:wn,height:An,itemHeight:Jn,fullHeight:!1,onMouseDown:li,onScroll:We,virtual:un,direction:Mn,innerProps:un?null:bs},function(Ii,ei){var Cr=Ii.group,ts=Ii.groupOption,Bi=Ii.data,Br=Ii.label,ls=Ii.value,dr=Bi.key;if(Cr){var ps,Ur=(ps=Bi.title)!==null&&ps!==void 0?ps:Mc(Br)?Br.toString():void 0;return u.createElement("div",{className:$()($n,"".concat($n,"-group"),Bi.className),title:Ur},Br!==void 0?Br:dr)}var Jo=Bi.disabled,Gs=Bi.title,Fs=Bi.children,br=Bi.style,Xs=Bi.className,fo=(0,io.Z)(Bi,su),$s=(0,Jr.Z)(fo,lr),ro=Zs(ls),Wo=Jo||!ro&&Gn,Co="".concat($n,"-option"),fa=$()($n,Co,Xs,(0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({},"".concat(Co,"-grouped"),ts),"".concat(Co,"-active"),Qi===ei&&!Wo),"".concat(Co,"-disabled"),Wo),"".concat(Co,"-selected"),ro)),Ba=ws(Ii),Ha=!Ot||typeof Ot=="function"||ro,Pa=typeof Ba=="number"?Ba:Ba||ls,Xa=Mc(Pa)?Pa.toString():void 0;return Gs!==void 0&&(Xa=Gs),u.createElement("div",(0,gn.Z)({},(0,Fe.Z)($s),un?{}:Er(Ii,ei),{"aria-selected":ro,className:fa,title:Xa,onMouseMove:function(){Qi===ei||Wo||lo(ei)},onClick:function(){Wo||es(ls)},style:br}),u.createElement("div",{className:"".concat(Co,"-content")},typeof En=="function"?En(Ii,{index:ei}):Pa),u.isValidElement(Ot)||ro,Ha&&u.createElement($a,{className:"".concat($n,"-option-state"),customizeIcon:Ot,customizeIconProps:{value:ls,disabled:Wo,isSelected:ro}},ro?"\u2713":null))}))},ou=u.forwardRef(jd),gc=ou,Ec=function(h,m){var C=u.useRef({values:new Map,options:new Map}),_=u.useMemo(function(){var Z=C.current,K=Z.values,G=Z.options,ue=h.map(function(Se){if(Se.label===void 0){var We;return(0,Cn.Z)((0,Cn.Z)({},Se),{},{label:(We=K.get(Se.value))===null||We===void 0?void 0:We.label})}return Se}),me=new Map,Ee=new Map;return ue.forEach(function(Se){me.set(Se.value,Se),Ee.set(Se.value,m.get(Se.value)||G.get(Se.value))}),C.current.values=me,C.current.options=Ee,ue},[h,m]),L=u.useCallback(function(Z){return m.get(Z)||C.current.options.get(Z)},[m]);return[_,L]};function yu(h,m){return g(h).join("").toUpperCase().includes(m)}var Ou=function(h,m,C,_,L){return u.useMemo(function(){if(!C||_===!1)return h;var Z=m.options,K=m.label,G=m.value,ue=[],me=typeof _=="function",Ee=C.toUpperCase(),Se=me?_:function(Ae,et){return L?yu(et[L],Ee):et[Z]?yu(et[K!=="children"?K:"label"],Ee):yu(et[G],Ee)},We=me?function(Ae){return $t(Ae)}:function(Ae){return Ae};return h.forEach(function(Ae){if(Ae[Z]){var et=Se(C,We(Ae));if(et)ue.push(Ae);else{var ze=Ae[Z].filter(function(Ke){return Se(C,We(Ke))});ze.length&&ue.push((0,Cn.Z)((0,Cn.Z)({},Ae),{},(0,Ft.Z)({},Z,ze)))}return}Se(C,We(Ae))&&ue.push(Ae)}),ue},[h,_,L,C,m])},qs=I(71254),xu=0,hc=(0,qs.Z)();function Oh(){var h;return hc?(h=xu,xu+=1):h="TEST_OR_SSR",h}function fp(h){var m=u.useState(),C=(0,on.Z)(m,2),_=C[0],L=C[1];return u.useEffect(function(){L("rc_select_".concat(Oh()))},[]),h||_}var Kc=I(22615),fd=["children","value"],Hl=["children"];function xf(h){var m=h,C=m.key,_=m.props,L=_.children,Z=_.value,K=(0,io.Z)(_,fd);return(0,Cn.Z)({key:C,value:Z!==void 0?Z:C,children:L},K)}function Ih(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Kc.Z)(h).map(function(C,_){if(!u.isValidElement(C)||!C.type)return null;var L=C,Z=L.type.isSelectOptGroup,K=L.key,G=L.props,ue=G.children,me=(0,io.Z)(G,Hl);return m||!Z?xf(C):(0,Cn.Z)((0,Cn.Z)({key:"__RC_SELECT_GRP__".concat(K===null?_:K,"__"),label:K},me),{},{options:Ih(ue)})}).filter(function(C){return C})}var tl=function(m,C,_,L,Z){return u.useMemo(function(){var K=m,G=!m;G&&(K=Ih(C));var ue=new Map,me=new Map,Ee=function(Ae,et,ze){ze&&typeof ze=="string"&&Ae.set(et[ze],et)},Se=function We(Ae){for(var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ze=0;ze<Ae.length;ze+=1){var Ke=Ae[ze];!Ke[_.options]||et?(ue.set(Ke[_.value],Ke),Ee(me,Ke,_.label),Ee(me,Ke,L),Ee(me,Ke,Z)):We(Ke[_.options],!0)}};return Se(K),{options:K,valueOptions:ue,labelOptions:me}},[m,C,_,L,Z])},Zd=tl;function Dh(h){var m=u.useRef();m.current=h;var C=u.useCallback(function(){return m.current.apply(m,arguments)},[]);return C}function bf(h){var m=h.mode,C=h.options,_=h.children,L=h.backfill,Z=h.allowClear,K=h.placeholder,G=h.getInputElement,ue=h.showSearch,me=h.onSearch,Ee=h.defaultOpen,Se=h.autoFocus,We=h.labelInValue,Ae=h.value,et=h.inputValue,ze=h.optionLabelProp,Ke=isMultiple(m),pt=ue!==void 0?ue:Ke||m==="combobox",Ye=C||convertChildrenToData(_);if(warning(m!=="tags"||Ye.every(function(un){return!un.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),m==="tags"||m==="combobox"){var Ot=Ye.some(function(un){return un.options?un.options.some(function(Mn){return typeof("value"in Mn?Mn.value:Mn.key)=="number"}):typeof("value"in un?un.value:un.key)=="number"});warning(!Ot,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(m!=="combobox"||!ze,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(m==="combobox"||!L,"`backfill` only works with `combobox` mode."),warning(m==="combobox"||!G,"`getInputElement` only work with `combobox` mode."),noteOnce(m!=="combobox"||!G||!Z||!K,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),me&&!pt&&m!=="combobox"&&m!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!Ee||Se,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Ae!=null){var gt=toArray(Ae);warning(!We||gt.every(function(un){return _typeof(un)==="object"&&("key"in un||"value"in un)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!Ke||Array.isArray(Ae),"`value` should be array when `mode` is `multiple` or `tags`")}if(_){var Wt=null;toNodeArray(_).some(function(un){if(!React.isValidElement(un)||!un.type)return!1;var Mn=un,An=Mn.type;if(An.isSelectOption)return!1;if(An.isSelectOptGroup){var Jn=toNodeArray(un.props.children).every(function(En){return!React.isValidElement(En)||!un.type||En.type.isSelectOption?!0:(Wt=En.type,!1)});return!Jn}return Wt=An,!0}),Wt&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(Wt.displayName||Wt.name||Wt,"`.")),warning(et===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Ta(h,m){if(h){var C=function _(L){for(var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K=0;K<L.length;K++){var G=L[K];if(G[m==null?void 0:m.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!Z&&Array.isArray(G[m==null?void 0:m.options])&&_(G[m==null?void 0:m.options],!0))break}};C(h)}}var bu=null,Gd=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],pd=["inputValue"];function pp(h){return!h||(0,$r.Z)(h)!=="object"}var gp=u.forwardRef(function(h,m){var C=h.id,_=h.mode,L=h.prefixCls,Z=L===void 0?"rc-select":L,K=h.backfill,G=h.fieldNames,ue=h.inputValue,me=h.searchValue,Ee=h.onSearch,Se=h.autoClearSearchValue,We=Se===void 0?!0:Se,Ae=h.onSelect,et=h.onDeselect,ze=h.dropdownMatchSelectWidth,Ke=ze===void 0?!0:ze,pt=h.filterOption,Ye=h.filterSort,Ot=h.optionFilterProp,gt=h.optionLabelProp,Wt=h.options,un=h.optionRender,Mn=h.children,An=h.defaultActiveFirstOption,Jn=h.menuItemSelectedIcon,En=h.virtual,$n=h.direction,wn=h.listHeight,ui=wn===void 0?200:wn,Gn=h.listItemHeight,li=Gn===void 0?20:Gn,ci=h.labelRender,gi=h.value,Bn=h.defaultValue,Ti=h.labelInValue,Qi=h.onChange,rs=h.maxCount,lo=(0,io.Z)(h,Gd),Zs=fp(C),es=Ar(_),lr=!!(!Wt&&Mn),ws=u.useMemo(function(){return pt===void 0&&_==="combobox"?!1:pt},[pt,_]),Er=u.useMemo(function(){return yt(G,lr)},[JSON.stringify(G),lr]),Zr=(0,de.Z)("",{value:me!==void 0?me:ue,postState:function(Ys){return Ys||""}}),bs=(0,on.Z)(Zr,2),Ii=bs[0],ei=bs[1],Cr=Zd(Wt,Mn,Er,Ot,gt),ts=Cr.valueOptions,Bi=Cr.labelOptions,Br=Cr.options,ls=u.useCallback(function(cs){var Ys=g(cs);return Ys.map(function(ss){var _o,ea,ia,yl,ll;if(pp(ss))_o=ss;else{var _l;ia=ss.key,ea=ss.label,_o=(_l=ss.value)!==null&&_l!==void 0?_l:ia}var Aa=ts.get(_o);if(Aa){var wl;if(ea===void 0&&(ea=Aa==null?void 0:Aa[gt||Er.label]),ia===void 0&&(ia=(wl=Aa==null?void 0:Aa.key)!==null&&wl!==void 0?wl:_o),yl=Aa==null?void 0:Aa.disabled,ll=Aa==null?void 0:Aa.title,0)var Zl}return{label:ea,value:_o,key:ia,disabled:yl,title:ll}})},[Er,gt,ts]),dr=(0,de.Z)(Bn,{value:gi}),ps=(0,on.Z)(dr,2),Ur=ps[0],Jo=ps[1],Gs=u.useMemo(function(){var cs,Ys=es&&Ur===null?[]:Ur,ss=ls(Ys);return _==="combobox"&&k((cs=ss[0])===null||cs===void 0?void 0:cs.value)?[]:ss},[Ur,ls,_,es]),Fs=Ec(Gs,ts),br=(0,on.Z)(Fs,2),Xs=br[0],fo=br[1],$s=u.useMemo(function(){if(!_&&Xs.length===1){var cs=Xs[0];if(cs.value===null&&(cs.label===null||cs.label===void 0))return[]}return Xs.map(function(Ys){var ss;return(0,Cn.Z)((0,Cn.Z)({},Ys),{},{label:(ss=typeof ci=="function"?ci(Ys):Ys.label)!==null&&ss!==void 0?ss:Ys.value})})},[_,Xs,ci]),ro=u.useMemo(function(){return new Set(Xs.map(function(cs){return cs.value}))},[Xs]);u.useEffect(function(){if(_==="combobox"){var cs,Ys=(cs=Xs[0])===null||cs===void 0?void 0:cs.value;ei(D(Ys)?String(Ys):"")}},[Xs]);var Wo=Dh(function(cs,Ys){var ss=Ys!=null?Ys:cs;return(0,Ft.Z)((0,Ft.Z)({},Er.value,cs),Er.label,ss)}),Co=u.useMemo(function(){if(_!=="tags")return Br;var cs=(0,Lt.Z)(Br),Ys=function(_o){return ts.has(_o)};return(0,Lt.Z)(Xs).sort(function(ss,_o){return ss.value<_o.value?-1:1}).forEach(function(ss){var _o=ss.value;Ys(_o)||cs.push(Wo(_o,ss.label))}),cs},[Wo,Br,ts,Xs,_]),fa=Ou(Co,Er,Ii,ws,Ot),Ba=u.useMemo(function(){return _!=="tags"||!Ii||fa.some(function(cs){return cs[Ot||"value"]===Ii})||fa.some(function(cs){return cs[Er.value]===Ii})?fa:[Wo(Ii)].concat((0,Lt.Z)(fa))},[Wo,Ot,_,fa,Ii,Er]),Ha=u.useMemo(function(){return Ye?(0,Lt.Z)(Ba).sort(function(cs,Ys){return Ye(cs,Ys,{searchValue:Ii})}):Ba},[Ba,Ye,Ii]),Pa=u.useMemo(function(){return _t(Ha,{fieldNames:Er,childrenAsData:lr})},[Ha,Er,lr]),Xa=function(Ys){var ss=ls(Ys);if(Jo(ss),Qi&&(ss.length!==Xs.length||ss.some(function(ia,yl){var ll;return((ll=Xs[yl])===null||ll===void 0?void 0:ll.value)!==(ia==null?void 0:ia.value)}))){var _o=Ti?ss:ss.map(function(ia){return ia.value}),ea=ss.map(function(ia){return $t(fo(ia.value))});Qi(es?_o:_o[0],es?ea:ea[0])}},Ra=u.useState(null),aa=(0,on.Z)(Ra,2),va=aa[0],pa=aa[1],oc=u.useState(0),la=(0,on.Z)(oc,2),Ol=la[0],bc=la[1],Il=An!==void 0?An:_!=="combobox",Oa=u.useCallback(function(cs,Ys){var ss=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_o=ss.source,ea=_o===void 0?"keyboard":_o;bc(Ys),K&&_==="combobox"&&cs!==null&&ea==="keyboard"&&pa(String(cs))},[K,_]),ya=function(Ys,ss,_o){var ea=function(){var fc,Kr=fo(Ys);return[Ti?{label:Kr==null?void 0:Kr[Er.label],value:Ys,key:(fc=Kr==null?void 0:Kr.key)!==null&&fc!==void 0?fc:Ys}:Ys,$t(Kr)]};if(ss&&Ae){var ia=ea(),yl=(0,on.Z)(ia,2),ll=yl[0],_l=yl[1];Ae(ll,_l)}else if(!ss&&et&&_o!=="clear"){var Aa=ea(),wl=(0,on.Z)(Aa,2),Zl=wl[0],Zc=wl[1];et(Zl,Zc)}},xa=Dh(function(cs,Ys){var ss,_o=es?Ys.selected:!0;_o?ss=es?[].concat((0,Lt.Z)(Xs),[cs]):[cs]:ss=Xs.filter(function(ea){return ea.value!==cs}),Xa(ss),ya(cs,_o),_==="combobox"?pa(""):(!Ar||We)&&(ei(""),pa(""))}),ac=function(Ys,ss){Xa(Ys);var _o=ss.type,ea=ss.values;(_o==="remove"||_o==="clear")&&ea.forEach(function(ia){ya(ia.value,!1,_o)})},Ma=function(Ys,ss){if(ei(Ys),pa(null),ss.source==="submit"){var _o=(Ys||"").trim();if(_o){var ea=Array.from(new Set([].concat((0,Lt.Z)(ro),[_o])));Xa(ea),ya(_o,!0),ei("")}return}ss.source!=="blur"&&(_==="combobox"&&Xa(Ys),Ee==null||Ee(Ys))},ec=function(Ys){var ss=Ys;_!=="tags"&&(ss=Ys.map(function(ea){var ia=Bi.get(ea);return ia==null?void 0:ia.value}).filter(function(ea){return ea!==void 0}));var _o=Array.from(new Set([].concat((0,Lt.Z)(ro),(0,Lt.Z)(ss))));Xa(_o),_o.forEach(function(ea){ya(ea,!0)})},Cl=u.useMemo(function(){var cs=En!==!1&&Ke!==!1;return(0,Cn.Z)((0,Cn.Z)({},Cr),{},{flattenOptions:Pa,onActiveValue:Oa,defaultActiveFirstOption:Il,onSelect:xa,menuItemSelectedIcon:Jn,rawValues:ro,fieldNames:Er,virtual:cs,direction:$n,listHeight:ui,listItemHeight:li,childrenAsData:lr,maxCount:rs,optionRender:un})},[rs,Cr,Pa,Oa,Il,xa,Jn,ro,Er,En,Ke,$n,ui,li,lr,un]);return u.createElement(Xn.Provider,{value:Cl},u.createElement(Ri,(0,gn.Z)({},lo,{id:Zs,prefixCls:Z,ref:m,omitDomProps:pd,mode:_,displayValues:$s,onDisplayValuesChange:ac,direction:$n,searchValue:Ii,onSearch:Ma,autoClearSearchValue:We,onSearchSplit:ec,dropdownMatchSelectWidth:Ke,OptionList:gc,emptyOptions:!Pa.length,activeValue:va,activeDescendantId:"".concat(Zs,"_list_").concat(Ol)})))}),Xd=gp;Xd.Option=Fa,Xd.OptGroup=Ko;var Sf=Xd,Cf=Sf,gd=I(4847),qu=I(99978),Lh=()=>{const[,h]=(0,vi.ZP)(),C=new qu.C(h.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return u.createElement("svg",{style:C,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},u.createElement("title",null,"empty image"),u.createElement("g",{fill:"none",fillRule:"evenodd"},u.createElement("g",{transform:"translate(24 31.67)"},u.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),u.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),u.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),u.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),u.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),u.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),u.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},u.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),u.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Tc=()=>{const[,h]=(0,vi.ZP)(),{colorFill:m,colorFillTertiary:C,colorFillQuaternary:_,colorBgContainer:L}=h,{borderColor:Z,shadowColor:K,contentColor:G}=(0,u.useMemo)(()=>({borderColor:new qu.C(m).onBackground(L).toHexShortString(),shadowColor:new qu.C(C).onBackground(L).toHexShortString(),contentColor:new qu.C(_).onBackground(L).toHexShortString()}),[m,C,_,L]);return u.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},u.createElement("title",null,"Simple Empty"),u.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},u.createElement("ellipse",{fill:K,cx:"32",cy:"33",rx:"32",ry:"7"}),u.createElement("g",{fillRule:"nonzero",stroke:Z},u.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),u.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:G}))))};const Bc=h=>{const{componentCls:m,margin:C,marginXS:_,marginXL:L,fontSize:Z,lineHeight:K}=h;return{[m]:{marginInline:_,fontSize:Z,lineHeight:K,textAlign:"center",[`${m}-image`]:{height:h.emptyImgHeight,marginBottom:_,opacity:h.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${m}-description`]:{color:h.colorTextDescription},[`${m}-footer`]:{marginTop:C},"&-normal":{marginBlock:L,color:h.colorTextDescription,[`${m}-description`]:{color:h.colorTextDescription},[`${m}-image`]:{height:h.emptyImgHeightMD}},"&-small":{marginBlock:_,color:h.colorTextDescription,[`${m}-image`]:{height:h.emptyImgHeightSM}}}}};var Nh=(0,kt.I$)("Empty",h=>{const{componentCls:m,controlHeightLG:C,calc:_}=h,L=(0,mt.IX)(h,{emptyImgCls:`${m}-img`,emptyImgHeight:_(C).mul(2.5).equal(),emptyImgHeightMD:C,emptyImgHeightSM:_(C).mul(.875).equal()});return[Bc(L)]}),qc=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const Jc=u.createElement(Lh,null),Su=u.createElement(Tc,null),md=h=>{var{className:m,rootClassName:C,prefixCls:_,image:L=Jc,description:Z,children:K,imageStyle:G,style:ue}=h,me=qc(h,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:Ee,direction:Se,empty:We}=u.useContext(X.E_),Ae=Ee("empty",_),[et,ze,Ke]=Nh(Ae),[pt]=(0,gd.Z)("Empty"),Ye=typeof Z!="undefined"?Z:pt==null?void 0:pt.description,Ot=typeof Ye=="string"?Ye:"empty";let gt=null;return typeof L=="string"?gt=u.createElement("img",{alt:Ot,src:L}):gt=L,et(u.createElement("div",Object.assign({className:$()(ze,Ke,Ae,We==null?void 0:We.className,{[`${Ae}-normal`]:L===Su,[`${Ae}-rtl`]:Se==="rtl"},m,C),style:Object.assign(Object.assign({},We==null?void 0:We.style),ue)},me),u.createElement("div",{className:`${Ae}-image`,style:G},gt),Ye&&u.createElement("div",{className:`${Ae}-description`},Ye),K&&u.createElement("div",{className:`${Ae}-footer`},K)))};md.PRESENTED_IMAGE_DEFAULT=Jc,md.PRESENTED_IMAGE_SIMPLE=Su;var Cu=md,Bh=h=>{const{componentName:m}=h,{getPrefixCls:C}=(0,u.useContext)(X.E_),_=C("empty");switch(m){case"Table":case"List":return u.createElement(Cu,{image:Cu.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return u.createElement(Cu,{image:Cu.PRESENTED_IMAGE_SIMPLE,className:`${_}-small`});case"Table.filter":return null;default:return u.createElement(Cu,null)}},Ac=I(55669);const _f=h=>{const C={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:h==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},C),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},C),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},C),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},C),{points:["br","tr"],offset:[0,-4]})}};function au(h,m){return h||_f(m)}var Yd=au,Qu=I(24553),wr=I(81187);const Vl=new Ce.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),wf=new Ce.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),_u=new Ce.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),lu=new Ce.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Uc=new Ce.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Mf=new Ce.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Wl=new Ce.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Kd=new Ce.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),rg={"slide-up":{inKeyframes:Vl,outKeyframes:wf},"slide-down":{inKeyframes:_u,outKeyframes:lu},"slide-left":{inKeyframes:Uc,outKeyframes:Mf},"slide-right":{inKeyframes:Wl,outKeyframes:Kd}},nl=(h,m)=>{const{antCls:C}=h,_=`${C}-${m}`,{inKeyframes:L,outKeyframes:Z}=rg[m];return[(0,wr.R)(_,L,Z,h.motionDurationMid),{[`
      ${_}-enter,
      ${_}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:h.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${_}-leave`]:{animationTimingFunction:h.motionEaseInQuint}}]},qd=new Ce.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),pl=new Ce.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Pc=new Ce.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),vd=new Ce.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Iu=new Ce.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),zc=new Ce.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Ef=new Ce.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Tf=new Ce.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Uh={"move-up":{inKeyframes:Ef,outKeyframes:Tf},"move-down":{inKeyframes:qd,outKeyframes:pl},"move-left":{inKeyframes:Pc,outKeyframes:vd},"move-right":{inKeyframes:Iu,outKeyframes:zc}},mp=(h,m)=>{const{antCls:C}=h,_=`${C}-${m}`,{inKeyframes:L,outKeyframes:Z}=Uh[m];return[(0,wr.R)(_,L,Z,h.motionDurationMid),{[`
        ${_}-enter,
        ${_}-appear
      `]:{opacity:0,animationTimingFunction:h.motionEaseOutCirc},[`${_}-leave`]:{animationTimingFunction:h.motionEaseInOutCirc}}]},fs=h=>{const{optionHeight:m,optionFontSize:C,optionLineHeight:_,optionPadding:L}=h;return{position:"relative",display:"block",minHeight:m,padding:L,color:h.colorText,fontWeight:"normal",fontSize:C,lineHeight:_,boxSizing:"border-box"}};var mc=h=>{const{antCls:m,componentCls:C}=h,_=`${C}-item`,L=`&${m}-slide-up-enter${m}-slide-up-enter-active`,Z=`&${m}-slide-up-appear${m}-slide-up-appear-active`,K=`&${m}-slide-up-leave${m}-slide-up-leave-active`,G=`${C}-dropdown-placement-`;return[{[`${C}-dropdown`]:Object.assign(Object.assign({},(0,Rt.Wf)(h)),{position:"absolute",top:-9999,zIndex:h.zIndexPopup,boxSizing:"border-box",padding:h.paddingXXS,overflow:"hidden",fontSize:h.fontSize,fontVariant:"initial",backgroundColor:h.colorBgElevated,borderRadius:h.borderRadiusLG,outline:"none",boxShadow:h.boxShadowSecondary,[`
          ${L}${G}bottomLeft,
          ${Z}${G}bottomLeft
        `]:{animationName:Vl},[`
          ${L}${G}topLeft,
          ${Z}${G}topLeft,
          ${L}${G}topRight,
          ${Z}${G}topRight
        `]:{animationName:_u},[`${K}${G}bottomLeft`]:{animationName:wf},[`
          ${K}${G}topLeft,
          ${K}${G}topRight
        `]:{animationName:lu},"&-hidden":{display:"none"},[_]:Object.assign(Object.assign({},fs(h)),{cursor:"pointer",transition:`background ${h.motionDurationSlow} ease`,borderRadius:h.borderRadiusSM,"&-group":{color:h.colorTextDescription,fontSize:h.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},Rt.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${_}-option-disabled)`]:{backgroundColor:h.optionActiveBg},[`&-selected:not(${_}-option-disabled)`]:{color:h.optionSelectedColor,fontWeight:h.optionSelectedFontWeight,backgroundColor:h.optionSelectedBg,[`${_}-option-state`]:{color:h.colorPrimary},[`&:has(+ ${_}-option-selected:not(${_}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${_}-option-selected:not(${_}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${_}-option-selected`]:{backgroundColor:h.colorBgContainerDisabled},color:h.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:h.calc(h.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},fs(h)),{color:h.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},nl(h,"slide-up"),nl(h,"slide-down"),mp(h,"move-up"),mp(h,"move-down")]};const zh=h=>{const{multipleSelectItemHeight:m,paddingXXS:C,lineWidth:_,INTERNAL_FIXED_ITEM_MARGIN:L}=h,Z=h.max(h.calc(C).sub(_).equal(),0),K=h.max(h.calc(Z).sub(L).equal(),0);return{basePadding:Z,containerPadding:K,itemHeight:(0,Ce.bf)(m),itemLineHeight:(0,Ce.bf)(h.calc(m).sub(h.calc(h.lineWidth).mul(2)).equal())}},ed=h=>{const{multipleSelectItemHeight:m,selectHeight:C,lineWidth:_}=h;return h.calc(C).sub(m).div(2).sub(_).equal()},vc=h=>{const{componentCls:m,iconCls:C,borderRadiusSM:_,motionDurationSlow:L,paddingXS:Z,multipleItemColorDisabled:K,multipleItemBorderColorDisabled:G,colorIcon:ue,colorIconHover:me,INTERNAL_FIXED_ITEM_MARGIN:Ee}=h;return{[`${m}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${m}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:Ee,borderRadius:_,cursor:"default",transition:`font-size ${L}, line-height ${L}, height ${L}`,marginInlineEnd:h.calc(Ee).mul(2).equal(),paddingInlineStart:Z,paddingInlineEnd:h.calc(Z).div(2).equal(),[`${m}-disabled&`]:{color:K,borderColor:G,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:h.calc(Z).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,Rt.Ro)()),{display:"inline-flex",alignItems:"center",color:ue,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${C}`]:{verticalAlign:"-0.2em"},"&:hover":{color:me}})}}}},yd=(h,m)=>{const{componentCls:C,INTERNAL_FIXED_ITEM_MARGIN:_}=h,L=`${C}-selection-overflow`,Z=h.multipleSelectItemHeight,K=ed(h),G=m?`${C}-${m}`:"",ue=zh(h);return{[`${C}-multiple${G}`]:Object.assign(Object.assign({},vc(h)),{[`${C}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:ue.basePadding,paddingBlock:ue.containerPadding,borderRadius:h.borderRadius,[`${C}-disabled&`]:{background:h.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,Ce.bf)(_)} 0`,lineHeight:(0,Ce.bf)(Z),visibility:"hidden",content:'"\\a0"'}},[`${C}-selection-item`]:{height:ue.itemHeight,lineHeight:(0,Ce.bf)(ue.itemLineHeight)},[`${L}-item + ${L}-item`]:{[`${C}-selection-search`]:{marginInlineStart:0}},[`${L}-item-suffix`]:{height:"100%"},[`${C}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:h.calc(h.inputPaddingHorizontalBase).sub(K).equal(),"\n          &-input,\n          &-mirror\n        ":{height:Z,fontFamily:h.fontFamily,lineHeight:(0,Ce.bf)(Z),transition:`all ${h.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${C}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:h.inputPaddingHorizontalBase,insetInlineEnd:h.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${h.motionDurationSlow}`}})}};function al(h,m){const{componentCls:C}=h,_=m?`${C}-${m}`:"",L={[`${C}-multiple${_}`]:{fontSize:h.fontSize,[`${C}-selector`]:{[`${C}-show-search&`]:{cursor:"text"}},[`
        &${C}-show-arrow ${C}-selector,
        &${C}-allow-clear ${C}-selector
      `]:{paddingInlineEnd:h.calc(h.fontSizeIcon).add(h.controlPaddingHorizontal).equal()}}};return[yd(h,m),L]}var Rc=h=>{const{componentCls:m}=h,C=(0,mt.IX)(h,{selectHeight:h.controlHeightSM,multipleSelectItemHeight:h.multipleItemHeightSM,borderRadius:h.borderRadiusSM,borderRadiusSM:h.borderRadiusXS}),_=(0,mt.IX)(h,{fontSize:h.fontSizeLG,selectHeight:h.controlHeightLG,multipleSelectItemHeight:h.multipleItemHeightLG,borderRadius:h.borderRadiusLG,borderRadiusSM:h.borderRadius});return[al(h),al(C,"sm"),{[`${m}-multiple${m}-sm`]:{[`${m}-selection-placeholder`]:{insetInline:h.calc(h.controlPaddingHorizontalSM).sub(h.lineWidth).equal()},[`${m}-selection-search`]:{marginInlineStart:2}}},al(_,"lg")]};function cu(h,m){const{componentCls:C,inputPaddingHorizontalBase:_,borderRadius:L}=h,Z=h.calc(h.controlHeight).sub(h.calc(h.lineWidth).mul(2)).equal(),K=m?`${C}-${m}`:"";return{[`${C}-single${K}`]:{fontSize:h.fontSize,height:h.controlHeight,[`${C}-selector`]:Object.assign(Object.assign({},(0,Rt.Wf)(h,!0)),{display:"flex",borderRadius:L,[`${C}-selection-search`]:{position:"absolute",top:0,insetInlineStart:_,insetInlineEnd:_,bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${C}-selection-item,
          ${C}-selection-placeholder
        `]:{padding:0,lineHeight:(0,Ce.bf)(Z),transition:`all ${h.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${C}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${C}-selection-item:empty:after`,`${C}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${C}-show-arrow ${C}-selection-item,
        &${C}-show-arrow ${C}-selection-placeholder
      `]:{paddingInlineEnd:h.showArrowPaddingInlineEnd},[`&${C}-open ${C}-selection-item`]:{color:h.colorTextPlaceholder},[`&:not(${C}-customize-input)`]:{[`${C}-selector`]:{width:"100%",height:"100%",padding:`0 ${(0,Ce.bf)(_)}`,[`${C}-selection-search-input`]:{height:Z},"&:after":{lineHeight:(0,Ce.bf)(Z)}}},[`&${C}-customize-input`]:{[`${C}-selector`]:{"&:after":{display:"none"},[`${C}-selection-search`]:{position:"static",width:"100%"},[`${C}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,Ce.bf)(_)}`,"&:after":{display:"none"}}}}}}}function wu(h){const{componentCls:m}=h,C=h.calc(h.controlPaddingHorizontalSM).sub(h.lineWidth).equal();return[cu(h),cu((0,mt.IX)(h,{controlHeight:h.controlHeightSM,borderRadius:h.borderRadiusSM}),"sm"),{[`${m}-single${m}-sm`]:{[`&:not(${m}-customize-input)`]:{[`${m}-selection-search`]:{insetInlineStart:C,insetInlineEnd:C},[`${m}-selector`]:{padding:`0 ${(0,Ce.bf)(C)}`},[`&${m}-show-arrow ${m}-selection-search`]:{insetInlineEnd:h.calc(C).add(h.calc(h.fontSize).mul(1.5)).equal()},[`
            &${m}-show-arrow ${m}-selection-item,
            &${m}-show-arrow ${m}-selection-placeholder
          `]:{paddingInlineEnd:h.calc(h.fontSize).mul(1.5).equal()}}}},cu((0,mt.IX)(h,{controlHeight:h.singleItemHeightLG,fontSize:h.fontSizeLG,borderRadius:h.borderRadiusLG}),"lg")]}const Af=h=>{const{fontSize:m,lineHeight:C,lineWidth:_,controlHeight:L,controlHeightSM:Z,controlHeightLG:K,paddingXXS:G,controlPaddingHorizontal:ue,zIndexPopupBase:me,colorText:Ee,fontWeightStrong:Se,controlItemBgActive:We,controlItemBgHover:Ae,colorBgContainer:et,colorFillSecondary:ze,colorBgContainerDisabled:Ke,colorTextDisabled:pt}=h,Ye=G*2,Ot=_*2,gt=Math.min(L-Ye,L-Ot),Wt=Math.min(Z-Ye,Z-Ot),un=Math.min(K-Ye,K-Ot);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(G/2),zIndexPopup:me+50,optionSelectedColor:Ee,optionSelectedFontWeight:Se,optionSelectedBg:We,optionActiveBg:Ae,optionPadding:`${(L-m*C)/2}px ${ue}px`,optionFontSize:m,optionLineHeight:C,optionHeight:L,selectorBg:et,clearBg:et,singleItemHeightLG:K,multipleItemBg:ze,multipleItemBorderColor:"transparent",multipleItemHeight:gt,multipleItemHeightSM:Wt,multipleItemHeightLG:un,multipleSelectorBgDisabled:Ke,multipleItemColorDisabled:pt,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(h.fontSize*1.25)}},Qc=(h,m)=>{const{componentCls:C,antCls:_,controlOutlineWidth:L}=h;return{[`&:not(${C}-customize-input) ${C}-selector`]:{border:`${(0,Ce.bf)(h.lineWidth)} ${h.lineType} ${m.borderColor}`,background:h.selectorBg},[`&:not(${C}-disabled):not(${C}-customize-input):not(${_}-pagination-size-changer)`]:{[`&:hover ${C}-selector`]:{borderColor:m.hoverBorderHover},[`${C}-focused& ${C}-selector`]:{borderColor:m.activeBorderColor,boxShadow:`0 0 0 ${(0,Ce.bf)(L)} ${m.activeShadowColor}`,outline:0}}}},Du=(h,m)=>({[`&${h.componentCls}-status-${m.status}`]:Object.assign({},Qc(h,m))}),td=h=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},Qc(h,{borderColor:h.colorBorder,hoverBorderHover:h.colorPrimaryHover,activeBorderColor:h.colorPrimary,activeShadowColor:h.controlOutline})),Du(h,{status:"error",borderColor:h.colorError,hoverBorderHover:h.colorErrorHover,activeBorderColor:h.colorError,activeShadowColor:h.colorErrorOutline})),Du(h,{status:"warning",borderColor:h.colorWarning,hoverBorderHover:h.colorWarningHover,activeBorderColor:h.colorWarning,activeShadowColor:h.colorWarningOutline})),{[`&${h.componentCls}-disabled`]:{[`&:not(${h.componentCls}-customize-input) ${h.componentCls}-selector`]:{background:h.colorBgContainerDisabled,color:h.colorTextDisabled}},[`&${h.componentCls}-multiple ${h.componentCls}-selection-item`]:{background:h.multipleItemBg,border:`${(0,Ce.bf)(h.lineWidth)} ${h.lineType} ${h.multipleItemBorderColor}`}})}),Jd=(h,m)=>{const{componentCls:C,antCls:_}=h;return{[`&:not(${C}-customize-input) ${C}-selector`]:{background:m.bg,border:`${(0,Ce.bf)(h.lineWidth)} ${h.lineType} transparent`,color:m.color},[`&:not(${C}-disabled):not(${C}-customize-input):not(${_}-pagination-size-changer)`]:{[`&:hover ${C}-selector`]:{background:m.hoverBg},[`${C}-focused& ${C}-selector`]:{background:h.selectorBg,borderColor:m.activeBorderColor,outline:0}}}},Oc=(h,m)=>({[`&${h.componentCls}-status-${m.status}`]:Object.assign({},Jd(h,m))}),Lu=h=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},Jd(h,{bg:h.colorFillTertiary,hoverBg:h.colorFillSecondary,activeBorderColor:h.colorPrimary,color:h.colorText})),Oc(h,{status:"error",bg:h.colorErrorBg,hoverBg:h.colorErrorBgHover,activeBorderColor:h.colorError,color:h.colorError})),Oc(h,{status:"warning",bg:h.colorWarningBg,hoverBg:h.colorWarningBgHover,activeBorderColor:h.colorWarning,color:h.colorWarning})),{[`&${h.componentCls}-disabled`]:{[`&:not(${h.componentCls}-customize-input) ${h.componentCls}-selector`]:{borderColor:h.colorBorder,background:h.colorBgContainerDisabled,color:h.colorTextDisabled}},[`&${h.componentCls}-multiple ${h.componentCls}-selection-item`]:{background:h.colorBgContainer,border:`${(0,Ce.bf)(h.lineWidth)} ${h.lineType} ${h.colorSplit}`}})}),Qd=h=>({"&-borderless":{[`${h.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${h.componentCls}-disabled`]:{[`&:not(${h.componentCls}-customize-input) ${h.componentCls}-selector`]:{color:h.colorTextDisabled}},[`&${h.componentCls}-multiple ${h.componentCls}-selection-item`]:{background:h.multipleItemBg,border:`${(0,Ce.bf)(h.lineWidth)} ${h.lineType} ${h.multipleItemBorderColor}`},[`&${h.componentCls}-status-error`]:{[`${h.componentCls}-selection-item`]:{color:h.colorError}},[`&${h.componentCls}-status-warning`]:{[`${h.componentCls}-selection-item`]:{color:h.colorWarning}}}});var kc=h=>({[h.componentCls]:Object.assign(Object.assign(Object.assign({},td(h)),Lu(h)),Qd(h))});const yp=h=>{const{componentCls:m}=h;return{position:"relative",transition:`all ${h.motionDurationMid} ${h.motionEaseInOut}`,input:{cursor:"pointer"},[`${m}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${m}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},xp=h=>{const{componentCls:m}=h;return{[`${m}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},kh=h=>{const{antCls:m,componentCls:C,inputPaddingHorizontalBase:_,iconCls:L}=h;return{[C]:Object.assign(Object.assign({},(0,Rt.Wf)(h)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${C}-customize-input) ${C}-selector`]:Object.assign(Object.assign({},yp(h)),xp(h)),[`${C}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},Rt.vS),{[`> ${m}-typography`]:{display:"inline"}}),[`${C}-selection-placeholder`]:Object.assign(Object.assign({},Rt.vS),{flex:1,color:h.colorTextPlaceholder,pointerEvents:"none"}),[`${C}-arrow`]:Object.assign(Object.assign({},(0,Rt.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:_,height:h.fontSizeIcon,marginTop:h.calc(h.fontSizeIcon).mul(-1).div(2).equal(),color:h.colorTextQuaternary,fontSize:h.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${h.motionDurationSlow} ease`,[L]:{verticalAlign:"top",transition:`transform ${h.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${C}-suffix)`]:{pointerEvents:"auto"}},[`${C}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${C}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:_,zIndex:1,display:"inline-block",width:h.fontSizeIcon,height:h.fontSizeIcon,marginTop:h.calc(h.fontSizeIcon).mul(-1).div(2).equal(),color:h.colorTextQuaternary,fontSize:h.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${h.motionDurationMid} ease, opacity ${h.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:h.colorTextTertiary}},"&:hover":{[`${C}-clear`]:{opacity:1},[`${C}-arrow:not(:last-child)`]:{opacity:0}}}),[`${C}-has-feedback`]:{[`${C}-clear`]:{insetInlineEnd:h.calc(_).add(h.fontSize).add(h.paddingXS).equal()}}}},th=h=>{const{componentCls:m}=h;return[{[m]:{[`&${m}-in-form-item`]:{width:"100%"}}},kh(h),wu(h),Rc(h),mc(h),{[`${m}-rtl`]:{direction:"rtl"}},(0,Qu.c)(h,{borderElCls:`${m}-selector`,focusElCls:`${m}-focused`})]};var Ql=(0,kt.I$)("Select",(h,m)=>{let{rootPrefixCls:C}=m;const _=(0,mt.IX)(h,{rootPrefixCls:C,inputPaddingHorizontalBase:h.calc(h.paddingSM).sub(1).equal(),multipleSelectItemHeight:h.multipleItemHeight,selectHeight:h.controlHeight});return[th(_),kc(_)]},Af,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),$h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},$c=$h,yc=I(77276),Nu=function(m,C){return u.createElement(yc.Z,(0,gn.Z)({},m,{ref:C,icon:$c}))},rl=u.forwardRef(Nu),bp=rl,Pf=I(74855),Hh=I(56514),Hc=I(93823),nh=I(32092),Vc=I(45500);function ih(h){let{suffixIcon:m,clearIcon:C,menuItemSelectedIcon:_,removeIcon:L,loading:Z,multiple:K,hasFeedback:G,prefixCls:ue,showSuffixIcon:me,feedbackIcon:Ee,showArrow:Se,componentName:We}=h;const Ae=C!=null?C:u.createElement(Pf.Z,null),et=Ye=>m===null&&!G&&!Se?null:u.createElement(u.Fragment,null,me!==!1&&Ye,G&&Ee);let ze=null;if(m!==void 0)ze=et(m);else if(Z)ze=et(u.createElement(nh.Z,{spin:!0}));else{const Ye=`${ue}-suffix`;ze=Ot=>{let{open:gt,showSearch:Wt}=Ot;return et(gt&&Wt?u.createElement(Vc.Z,{className:Ye}):u.createElement(Hc.Z,{className:Ye}))}}let Ke=null;_!==void 0?Ke=_:K?Ke=u.createElement(bp,null):Ke=null;let pt=null;return L!==void 0?pt=L:pt=u.createElement(Hh.Z,null),{clearIcon:Ae,suffixIcon:ze,itemIcon:Ke,removeIcon:pt}}function uu(h,m){return m!==void 0?m:h!==null}var Vh=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const Wh="SECRET_COMBOBOX_MODE_DO_NOT_USE",jl=(h,m)=>{var C;const{prefixCls:_,bordered:L,className:Z,rootClassName:K,getPopupContainer:G,popupClassName:ue,dropdownClassName:me,listHeight:Ee=256,placement:Se,listItemHeight:We,size:Ae,disabled:et,notFoundContent:ze,status:Ke,builtinPlacements:pt,dropdownMatchSelectWidth:Ye,popupMatchSelectWidth:Ot,direction:gt,style:Wt,allowClear:un,variant:Mn,dropdownStyle:An,transitionName:Jn,tagRender:En,maxCount:$n}=h,wn=Vh(h,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:ui,getPrefixCls:Gn,renderEmpty:li,direction:ci,virtual:gi,popupMatchSelectWidth:Bn,popupOverflow:Ti,select:Qi}=u.useContext(X.E_),[,rs]=(0,vi.ZP)(),lo=We!=null?We:rs==null?void 0:rs.controlHeight,Zs=Gn("select",_),es=Gn(),lr=gt!=null?gt:ci,{compactSize:ws,compactItemClassnames:Er}=(0,Hn.ri)(Zs,lr),[Zr,bs]=(0,Ac.Z)("select",Mn,L),Ii=(0,he.Z)(Zs),[ei,Cr,ts]=Ql(Zs,Ii),Bi=u.useMemo(()=>{const{mode:va}=h;if(va!=="combobox")return va===Wh?"combobox":va},[h.mode]),Br=Bi==="multiple"||Bi==="tags",ls=uu(h.suffixIcon,h.showArrow),dr=(C=Ot!=null?Ot:Ye)!==null&&C!==void 0?C:Bn,{status:ps,hasFeedback:Ur,isFormItemInput:Jo,feedbackIcon:Gs}=u.useContext(st.aM),Fs=(0,ee.F)(ps,Ke);let br;ze!==void 0?br=ze:Bi==="combobox"?br=null:br=(li==null?void 0:li("Select"))||u.createElement(Bh,{componentName:"Select"});const{suffixIcon:Xs,itemIcon:fo,removeIcon:$s,clearIcon:ro}=ih(Object.assign(Object.assign({},wn),{multiple:Br,hasFeedback:Ur,feedbackIcon:Gs,showSuffixIcon:ls,prefixCls:Zs,componentName:"Select"})),Wo=un===!0?{clearIcon:ro}:un,Co=(0,Jr.Z)(wn,["suffixIcon","itemIcon"]),fa=$()(ue||me,{[`${Zs}-dropdown-${lr}`]:lr==="rtl"},K,ts,Ii,Cr),Ba=(0,ft.Z)(va=>{var pa;return(pa=Ae!=null?Ae:ws)!==null&&pa!==void 0?pa:va}),Ha=u.useContext(j.Z),Pa=et!=null?et:Ha,Xa=$()({[`${Zs}-lg`]:Ba==="large",[`${Zs}-sm`]:Ba==="small",[`${Zs}-rtl`]:lr==="rtl",[`${Zs}-${Zr}`]:bs,[`${Zs}-in-form-item`]:Jo},(0,ee.Z)(Zs,Fs,Ur),Er,Qi==null?void 0:Qi.className,Z,K,ts,Ii,Cr),Ra=u.useMemo(()=>Se!==void 0?Se:lr==="rtl"?"bottomRight":"bottomLeft",[Se,lr]),[aa]=(0,Oe.Cn)("SelectLike",An==null?void 0:An.zIndex);return ei(u.createElement(Cf,Object.assign({ref:m,virtual:gi,showSearch:Qi==null?void 0:Qi.showSearch},Co,{style:Object.assign(Object.assign({},Qi==null?void 0:Qi.style),Wt),dropdownMatchSelectWidth:dr,transitionName:(0,xe.m)(es,"slide-up",Jn),builtinPlacements:Yd(pt,Ti),listHeight:Ee,listItemHeight:lo,mode:Bi,prefixCls:Zs,placement:Ra,direction:lr,suffixIcon:Xs,menuItemSelectedIcon:fo,removeIcon:$s,allowClear:Wo,notFoundContent:br,className:Xa,getPopupContainer:G||ui,dropdownClassName:fa,disabled:Pa,dropdownStyle:Object.assign(Object.assign({},An),{zIndex:aa}),maxCount:Br?$n:void 0,tagRender:Br?En:void 0})))},gl=u.forwardRef(jl),du=(0,fe.Z)(gl);gl.SECRET_COMBOBOX_MODE_DO_NOT_USE=Wh,gl.Option=Fa,gl.OptGroup=Ko,gl._InternalPanelDoNotUseOrYouWillBeFired=du;var xd=gl,sc;(function(h){h.hex="hex",h.rgb="rgb",h.hsb="hsb"})(sc||(sc={}));var Rf=I(79572),Fu=h=>{let{prefixCls:m,min:C=0,max:_=100,value:L,onChange:Z,className:K,formatter:G}=h;const ue=`${m}-steppers`,[me,Ee]=(0,u.useState)(L);return(0,u.useEffect)(()=>{Number.isNaN(L)||Ee(L)},[L]),u.createElement(Rf.Z,{className:$()(ue,K),min:C,max:_,value:me,formatter:G,size:"small",onChange:Se=>{L||Ee(Se||0),Z==null||Z(Se)}})},Bu=h=>{let{prefixCls:m,value:C,onChange:_}=h;const L=`${m}-alpha-input`,[Z,K]=(0,u.useState)(uo(C||"#000"));(0,u.useEffect)(()=>{C&&K(C)},[C]);const G=ue=>{const me=Z.toHsb();me.a=(ue||0)/100;const Ee=uo(me);C||K(Ee),_==null||_(Ee)};return u.createElement(Fu,{value:bl(Z),prefixCls:m,formatter:ue=>`${ue}%`,className:L,onChange:G})},hu=I(74590);const Rl=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,rh=h=>Rl.test(`#${h}`);var Sp=h=>{let{prefixCls:m,value:C,onChange:_}=h;const L=`${m}-hex-input`,[Z,K]=(0,u.useState)(()=>C?js(C.toHexString()):void 0);(0,u.useEffect)(()=>{C&&K(js(C.toHexString()))},[C]);const G=ue=>{const me=ue.target.value;K(js(me)),rh(js(me,!0))&&(_==null||_(uo(me)))};return u.createElement(hu.Z,{className:L,value:Z,prefix:"#",onChange:G,size:"small"})},jh=h=>{let{prefixCls:m,value:C,onChange:_}=h;const L=`${m}-hsb-input`,[Z,K]=(0,u.useState)(uo(C||"#000"));(0,u.useEffect)(()=>{C&&K(C)},[C]);const G=(ue,me)=>{const Ee=Z.toHsb();Ee[me]=me==="h"?ue:(ue||0)/100;const Se=uo(Ee);C||K(Se),_==null||_(Se)};return u.createElement("div",{className:L},u.createElement(Fu,{max:360,min:0,value:Number(Z.toHsb().h),prefixCls:m,className:L,formatter:ue=>Wa(ue||0).toString(),onChange:ue=>G(Number(ue),"h")}),u.createElement(Fu,{max:100,min:0,value:Number(Z.toHsb().s)*100,prefixCls:m,className:L,formatter:ue=>`${Wa(ue||0)}%`,onChange:ue=>G(Number(ue),"s")}),u.createElement(Fu,{max:100,min:0,value:Number(Z.toHsb().b)*100,prefixCls:m,className:L,formatter:ue=>`${Wa(ue||0)}%`,onChange:ue=>G(Number(ue),"b")}))},oh=h=>{let{prefixCls:m,value:C,onChange:_}=h;const L=`${m}-rgb-input`,[Z,K]=(0,u.useState)(uo(C||"#000"));(0,u.useEffect)(()=>{C&&K(C)},[C]);const G=(ue,me)=>{const Ee=Z.toRgb();Ee[me]=ue||0;const Se=uo(Ee);C||K(Se),_==null||_(Se)};return u.createElement("div",{className:L},u.createElement(Fu,{max:255,min:0,value:Number(Z.toRgb().r),prefixCls:m,className:L,onChange:ue=>G(Number(ue),"r")}),u.createElement(Fu,{max:255,min:0,value:Number(Z.toRgb().g),prefixCls:m,className:L,onChange:ue=>G(Number(ue),"g")}),u.createElement(Fu,{max:255,min:0,value:Number(Z.toRgb().b),prefixCls:m,className:L,onChange:ue=>G(Number(ue),"b")}))};const ah=[sc.hex,sc.hsb,sc.rgb].map(h=>({value:h,label:h.toLocaleUpperCase()}));var lh=h=>{const{prefixCls:m,format:C,value:_,disabledAlpha:L,onFormatChange:Z,onChange:K}=h,[G,ue]=(0,de.Z)(sc.hex,{value:C,onChange:Z}),me=`${m}-input`,Ee=We=>{ue(We)},Se=(0,u.useMemo)(()=>{const We={value:_,prefixCls:m,onChange:K};switch(G){case sc.hsb:return u.createElement(jh,Object.assign({},We));case sc.rgb:return u.createElement(oh,Object.assign({},We));default:return u.createElement(Sp,Object.assign({},We))}},[G,m,_,K]);return u.createElement("div",{className:`${me}-container`},u.createElement(xd,{value:G,variant:"borderless",getPopupContainer:We=>We,popupMatchSelectWidth:68,placement:"bottomRight",onChange:Ee,className:`${m}-format-select`,size:"small",options:ah}),u.createElement("div",{className:me},Se),!L&&u.createElement(Bu,{prefixCls:m,value:_,onChange:K}))},ch=I(19088);function Gh(h,m,C){return(h-m)/(C-m)}function Wc(h,m,C,_){var L=Gh(m,C,_),Z={};switch(h){case"rtl":Z.right="".concat(L*100,"%"),Z.transform="translateX(50%)";break;case"btt":Z.bottom="".concat(L*100,"%"),Z.transform="translateY(50%)";break;case"ttb":Z.top="".concat(L*100,"%"),Z.transform="translateY(-50%)";break;default:Z.left="".concat(L*100,"%"),Z.transform="translateX(-50%)";break}return Z}function Ic(h,m){return Array.isArray(h)?h[m]:h}var Lf=u.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Mu=Lf,Nf=u.createContext({}),Uu=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Cp=u.forwardRef(function(h,m){var C=h.prefixCls,_=h.value,L=h.valueIndex,Z=h.onStartMove,K=h.onDelete,G=h.style,ue=h.render,me=h.dragging,Ee=h.draggingDelete,Se=h.onOffsetChange,We=h.onChangeComplete,Ae=h.onFocus,et=h.onMouseEnter,ze=(0,io.Z)(h,Uu),Ke=u.useContext(Mu),pt=Ke.min,Ye=Ke.max,Ot=Ke.direction,gt=Ke.disabled,Wt=Ke.keyboard,un=Ke.range,Mn=Ke.tabIndex,An=Ke.ariaLabelForHandle,Jn=Ke.ariaLabelledByForHandle,En=Ke.ariaValueTextFormatterForHandle,$n=Ke.styles,wn=Ke.classNames,ui="".concat(C,"-handle"),Gn=function(es){gt||Z(es,L)},li=function(es){Ae==null||Ae(es,L)},ci=function(es){et(es,L)},gi=function(es){if(!gt&&Wt){var lr=null;switch(es.which||es.keyCode){case oe.Z.LEFT:lr=Ot==="ltr"||Ot==="btt"?-1:1;break;case oe.Z.RIGHT:lr=Ot==="ltr"||Ot==="btt"?1:-1;break;case oe.Z.UP:lr=Ot!=="ttb"?1:-1;break;case oe.Z.DOWN:lr=Ot!=="ttb"?-1:1;break;case oe.Z.HOME:lr="min";break;case oe.Z.END:lr="max";break;case oe.Z.PAGE_UP:lr=2;break;case oe.Z.PAGE_DOWN:lr=-2;break;case oe.Z.BACKSPACE:case oe.Z.DELETE:K(L);break}lr!==null&&(es.preventDefault(),Se(lr,L))}},Bn=function(es){switch(es.which||es.keyCode){case oe.Z.LEFT:case oe.Z.RIGHT:case oe.Z.UP:case oe.Z.DOWN:case oe.Z.HOME:case oe.Z.END:case oe.Z.PAGE_UP:case oe.Z.PAGE_DOWN:We==null||We();break}},Ti=Wc(Ot,_,pt,Ye),Qi={};if(L!==null){var rs;Qi={tabIndex:gt?null:Ic(Mn,L),role:"slider","aria-valuemin":pt,"aria-valuemax":Ye,"aria-valuenow":_,"aria-disabled":gt,"aria-label":Ic(An,L),"aria-labelledby":Ic(Jn,L),"aria-valuetext":(rs=Ic(En,L))===null||rs===void 0?void 0:rs(_),"aria-orientation":Ot==="ltr"||Ot==="rtl"?"horizontal":"vertical",onMouseDown:Gn,onTouchStart:Gn,onFocus:li,onMouseEnter:ci,onKeyDown:gi,onKeyUp:Bn}}var lo=u.createElement("div",(0,gn.Z)({ref:m,className:$()(ui,(0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({},"".concat(ui,"-").concat(L+1),L!==null&&un),"".concat(ui,"-dragging"),me),"".concat(ui,"-dragging-delete"),Ee),wn.handle),style:(0,Cn.Z)((0,Cn.Z)((0,Cn.Z)({},Ti),G),$n.handle)},Qi,ze));return ue&&(lo=ue(lo,{index:L,prefixCls:C,value:_,dragging:me,draggingDelete:Ee})),lo}),bd=Cp,uh=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],_p=u.forwardRef(function(h,m){var C=h.prefixCls,_=h.style,L=h.onStartMove,Z=h.onOffsetChange,K=h.values,G=h.handleRender,ue=h.activeHandleRender,me=h.draggingIndex,Ee=h.draggingDelete,Se=h.onFocus,We=(0,io.Z)(h,uh),Ae=u.useRef({}),et=u.useState(!1),ze=(0,on.Z)(et,2),Ke=ze[0],pt=ze[1],Ye=u.useState(-1),Ot=(0,on.Z)(Ye,2),gt=Ot[0],Wt=Ot[1],un=function($n){Wt($n),pt(!0)},Mn=function($n,wn){un(wn),Se==null||Se($n)},An=function($n,wn){un(wn)};u.useImperativeHandle(m,function(){return{focus:function($n){var wn;(wn=Ae.current[$n])===null||wn===void 0||wn.focus()},hideHelp:function(){(0,Qa.flushSync)(function(){pt(!1)})}}});var Jn=(0,Cn.Z)({prefixCls:C,onStartMove:L,onOffsetChange:Z,render:G,onFocus:Mn,onMouseEnter:An},We);return u.createElement(u.Fragment,null,K.map(function(En,$n){var wn=me===$n;return u.createElement(bd,(0,gn.Z)({ref:function(Gn){Gn?Ae.current[$n]=Gn:delete Ae.current[$n]},dragging:wn,draggingDelete:wn&&Ee,style:Ic(_,$n),key:$n,value:En,valueIndex:$n},Jn))}),ue&&Ke&&u.createElement(bd,(0,gn.Z)({key:"a11y"},Jn,{value:K[gt],valueIndex:null,dragging:me!==-1,draggingDelete:Ee,render:ue,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Xh=_p,og=function(m){var C=m.prefixCls,_=m.style,L=m.children,Z=m.value,K=m.onClick,G=u.useContext(Mu),ue=G.min,me=G.max,Ee=G.direction,Se=G.includedStart,We=G.includedEnd,Ae=G.included,et="".concat(C,"-text"),ze=Wc(Ee,Z,ue,me);return u.createElement("span",{className:$()(et,(0,Ft.Z)({},"".concat(et,"-active"),Ae&&Se<=Z&&Z<=We)),style:(0,Cn.Z)((0,Cn.Z)({},ze),_),onMouseDown:function(pt){pt.stopPropagation()},onClick:function(){K(Z)}},L)},wp=og,Ff=function(m){var C=m.prefixCls,_=m.marks,L=m.onClick,Z="".concat(C,"-mark");return _.length?u.createElement("div",{className:Z},_.map(function(K){var G=K.value,ue=K.style,me=K.label;return u.createElement(wp,{key:G,prefixCls:Z,style:ue,value:G,onClick:L},me)})):null},xc=Ff,Yh=function(m){var C=m.prefixCls,_=m.value,L=m.style,Z=m.activeStyle,K=u.useContext(Mu),G=K.min,ue=K.max,me=K.direction,Ee=K.included,Se=K.includedStart,We=K.includedEnd,Ae="".concat(C,"-dot"),et=Ee&&Se<=_&&_<=We,ze=(0,Cn.Z)((0,Cn.Z)({},Wc(me,_,G,ue)),typeof L=="function"?L(_):L);return et&&(ze=(0,Cn.Z)((0,Cn.Z)({},ze),typeof Z=="function"?Z(_):Z)),u.createElement("span",{className:$()(Ae,(0,Ft.Z)({},"".concat(Ae,"-active"),et)),style:ze})},dh=Yh,Mp=function(m){var C=m.prefixCls,_=m.marks,L=m.dots,Z=m.style,K=m.activeStyle,G=u.useContext(Mu),ue=G.min,me=G.max,Ee=G.step,Se=u.useMemo(function(){var We=new Set;if(_.forEach(function(et){We.add(et.value)}),L&&Ee!==null)for(var Ae=ue;Ae<=me;)We.add(Ae),Ae+=Ee;return Array.from(We)},[ue,me,Ee,L,_]);return u.createElement("div",{className:"".concat(C,"-step")},Se.map(function(We){return u.createElement(dh,{prefixCls:C,key:We,value:We,style:Z,activeStyle:K})}))},Bf=Mp,Ep=function(m){var C=m.prefixCls,_=m.style,L=m.start,Z=m.end,K=m.index,G=m.onStartMove,ue=m.replaceCls,me=u.useContext(Mu),Ee=me.direction,Se=me.min,We=me.max,Ae=me.disabled,et=me.range,ze=me.classNames,Ke="".concat(C,"-track"),pt=Gh(L,Se,We),Ye=Gh(Z,Se,We),Ot=function(Mn){!Ae&&G&&G(Mn,-1)},gt={};switch(Ee){case"rtl":gt.right="".concat(pt*100,"%"),gt.width="".concat(Ye*100-pt*100,"%");break;case"btt":gt.bottom="".concat(pt*100,"%"),gt.height="".concat(Ye*100-pt*100,"%");break;case"ttb":gt.top="".concat(pt*100,"%"),gt.height="".concat(Ye*100-pt*100,"%");break;default:gt.left="".concat(pt*100,"%"),gt.width="".concat(Ye*100-pt*100,"%")}var Wt=ue||$()(Ke,(0,Ft.Z)((0,Ft.Z)({},"".concat(Ke,"-").concat(K+1),K!==null&&et),"".concat(C,"-track-draggable"),G),ze.track);return u.createElement("div",{className:Wt,style:(0,Cn.Z)((0,Cn.Z)({},gt),_),onMouseDown:Ot,onTouchStart:Ot})},hh=Ep,Uf=function(m){var C=m.prefixCls,_=m.style,L=m.values,Z=m.startPoint,K=m.onStartMove,G=u.useContext(Mu),ue=G.included,me=G.range,Ee=G.min,Se=G.styles,We=G.classNames,Ae=u.useMemo(function(){if(!me){if(L.length===0)return[];var ze=Z!=null?Z:Ee,Ke=L[0];return[{start:Math.min(ze,Ke),end:Math.max(ze,Ke)}]}for(var pt=[],Ye=0;Ye<L.length-1;Ye+=1)pt.push({start:L[Ye],end:L[Ye+1]});return pt},[L,me,Z,Ee]);if(!ue)return null;var et=We.tracks||Se.tracks?u.createElement(hh,{index:null,prefixCls:C,start:Ae[0].start,end:Ae[Ae.length-1].end,replaceCls:$()(We.tracks,"".concat(C,"-tracks")),style:Se.tracks}):null;return u.createElement(u.Fragment,null,et,Ae.map(function(ze,Ke){var pt=ze.start,Ye=ze.end;return u.createElement(hh,{index:Ke,prefixCls:C,style:(0,Cn.Z)((0,Cn.Z)({},Ic(_,Ke)),Se.track),start:pt,end:Ye,key:Ke,onStartMove:K})}))},Tp=Uf,Ap=130;function Kh(h){var m="touches"in h?h.touches[0]:h;return{pageX:m.pageX,pageY:m.pageY}}function Pp(h,m,C,_,L,Z,K,G,ue,me,Ee){var Se=u.useState(null),We=(0,on.Z)(Se,2),Ae=We[0],et=We[1],ze=u.useState(-1),Ke=(0,on.Z)(ze,2),pt=Ke[0],Ye=Ke[1],Ot=u.useState(!1),gt=(0,on.Z)(Ot,2),Wt=gt[0],un=gt[1],Mn=u.useState(C),An=(0,on.Z)(Mn,2),Jn=An[0],En=An[1],$n=u.useState(C),wn=(0,on.Z)($n,2),ui=wn[0],Gn=wn[1],li=u.useRef(null),ci=u.useRef(null),gi=u.useContext(Nf),Bn=gi.onDragStart,Ti=gi.onDragChange;u.useLayoutEffect(function(){pt===-1&&En(C)},[C,pt]),u.useEffect(function(){return function(){document.removeEventListener("mousemove",li.current),document.removeEventListener("mouseup",ci.current),document.removeEventListener("touchmove",li.current),document.removeEventListener("touchend",ci.current)}},[]);var Qi=function(lr,ws,Er){ws!==void 0&&et(ws),En(lr);var Zr=lr;Er&&(Zr=lr.filter(function(bs,Ii){return Ii!==pt})),K(Zr),Ti&&Ti({rawValues:lr,deleteIndex:Er?pt:-1,draggingIndex:pt,draggingValue:ws})},rs=(0,Rn.zX)(function(es,lr,ws){if(es===-1){var Er=ui[0],Zr=ui[ui.length-1],bs=_-Er,Ii=L-Zr,ei=lr*(L-_);ei=Math.max(ei,bs),ei=Math.min(ei,Ii);var Cr=Z(Er+ei);ei=Cr-Er;var ts=ui.map(function(dr){return dr+ei});Qi(ts)}else{var Bi=(L-_)*lr,Br=(0,Lt.Z)(Jn);Br[es]=ui[es];var ls=ue(Br,Bi,es,"dist");Qi(ls.values,ls.value,ws)}}),lo=function(lr,ws,Er){lr.stopPropagation();var Zr=Er||C,bs=Zr[ws];Ye(ws),et(bs),Gn(Zr),En(Zr),un(!1);var Ii=Kh(lr),ei=Ii.pageX,Cr=Ii.pageY,ts=!1;Bn&&Bn({rawValues:Zr,draggingIndex:ws,draggingValue:bs});var Bi=function(dr){dr.preventDefault();var ps=Kh(dr),Ur=ps.pageX,Jo=ps.pageY,Gs=Ur-ei,Fs=Jo-Cr,br=h.current.getBoundingClientRect(),Xs=br.width,fo=br.height,$s,ro;switch(m){case"btt":$s=-Fs/fo,ro=Gs;break;case"ttb":$s=Fs/fo,ro=Gs;break;case"rtl":$s=-Gs/Xs,ro=Fs;break;default:$s=Gs/Xs,ro=Fs}ts=me?Math.abs(ro)>Ap&&Ee<Jn.length:!1,un(ts),rs(ws,$s,ts)},Br=function ls(dr){dr.preventDefault(),document.removeEventListener("mouseup",ls),document.removeEventListener("mousemove",Bi),document.removeEventListener("touchend",ls),document.removeEventListener("touchmove",Bi),li.current=null,ci.current=null,G(ts),Ye(-1),un(!1)};document.addEventListener("mouseup",Br),document.addEventListener("mousemove",Bi),document.addEventListener("touchend",Br),document.addEventListener("touchmove",Bi),li.current=Bi,ci.current=Br},Zs=u.useMemo(function(){var es=(0,Lt.Z)(C).sort(function(bs,Ii){return bs-Ii}),lr=(0,Lt.Z)(Jn).sort(function(bs,Ii){return bs-Ii}),ws={};lr.forEach(function(bs){ws[bs]=(ws[bs]||0)+1}),es.forEach(function(bs){ws[bs]=(ws[bs]||0)-1});var Er=me?1:0,Zr=Object.values(ws).reduce(function(bs,Ii){return bs+Math.abs(Ii)},0);return Zr<=Er?Jn:C},[C,Jn,me]);return[pt,Ae,Wt,Zs,lo]}var zf=Pp;function qh(h,m,C,_,L,Z){var K=u.useCallback(function(Ae){return Math.max(h,Math.min(m,Ae))},[h,m]),G=u.useCallback(function(Ae){if(C!==null){var et=h+Math.round((K(Ae)-h)/C)*C,ze=function(Ot){return(String(Ot).split(".")[1]||"").length},Ke=Math.max(ze(C),ze(m),ze(h)),pt=Number(et.toFixed(Ke));return h<=pt&&pt<=m?pt:null}return null},[C,h,m,K]),ue=u.useCallback(function(Ae){var et=K(Ae),ze=_.map(function(Ye){return Ye.value});C!==null&&ze.push(G(Ae)),ze.push(h,m);var Ke=ze[0],pt=m-h;return ze.forEach(function(Ye){var Ot=Math.abs(et-Ye);Ot<=pt&&(Ke=Ye,pt=Ot)}),Ke},[h,m,_,C,K,G]),me=function Ae(et,ze,Ke){var pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof ze=="number"){var Ye,Ot=et[Ke],gt=Ot+ze,Wt=[];_.forEach(function(En){Wt.push(En.value)}),Wt.push(h,m),Wt.push(G(Ot));var un=ze>0?1:-1;pt==="unit"?Wt.push(G(Ot+un*C)):Wt.push(G(gt)),Wt=Wt.filter(function(En){return En!==null}).filter(function(En){return ze<0?En<=Ot:En>=Ot}),pt==="unit"&&(Wt=Wt.filter(function(En){return En!==Ot}));var Mn=pt==="unit"?Ot:gt;Ye=Wt[0];var An=Math.abs(Ye-Mn);if(Wt.forEach(function(En){var $n=Math.abs(En-Mn);$n<An&&(Ye=En,An=$n)}),Ye===void 0)return ze<0?h:m;if(pt==="dist")return Ye;if(Math.abs(ze)>1){var Jn=(0,Lt.Z)(et);return Jn[Ke]=Ye,Ae(Jn,ze-un,Ke,pt)}return Ye}else{if(ze==="min")return h;if(ze==="max")return m}},Ee=function(et,ze,Ke){var pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",Ye=et[Ke],Ot=me(et,ze,Ke,pt);return{value:Ot,changed:Ot!==Ye}},Se=function(et){return Z===null&&et===0||typeof Z=="number"&&et<Z},We=function(et,ze,Ke){var pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",Ye=et.map(ue),Ot=Ye[Ke],gt=me(Ye,ze,Ke,pt);if(Ye[Ke]=gt,L===!1){var Wt=Z||0;Ke>0&&Ye[Ke-1]!==Ot&&(Ye[Ke]=Math.max(Ye[Ke],Ye[Ke-1]+Wt)),Ke<Ye.length-1&&Ye[Ke+1]!==Ot&&(Ye[Ke]=Math.min(Ye[Ke],Ye[Ke+1]-Wt))}else if(typeof Z=="number"||Z===null){for(var un=Ke+1;un<Ye.length;un+=1)for(var Mn=!0;Se(Ye[un]-Ye[un-1])&&Mn;){var An=Ee(Ye,1,un);Ye[un]=An.value,Mn=An.changed}for(var Jn=Ke;Jn>0;Jn-=1)for(var En=!0;Se(Ye[Jn]-Ye[Jn-1])&&En;){var $n=Ee(Ye,-1,Jn-1);Ye[Jn-1]=$n.value,En=$n.changed}for(var wn=Ye.length-1;wn>0;wn-=1)for(var ui=!0;Se(Ye[wn]-Ye[wn-1])&&ui;){var Gn=Ee(Ye,-1,wn-1);Ye[wn-1]=Gn.value,ui=Gn.changed}for(var li=0;li<Ye.length-1;li+=1)for(var ci=!0;Se(Ye[li+1]-Ye[li])&&ci;){var gi=Ee(Ye,1,li+1);Ye[li+1]=gi.value,ci=gi.changed}}return{value:Ye[Ke],values:Ye}};return[ue,We]}function kf(h){return(0,u.useMemo)(function(){if(h===!0||!h)return[!!h,!1,!1,0];var m=h.editable,C=h.draggableTrack,_=h.minCount,L=h.maxCount;return[!0,m,!m&&C,_||0,L]},[h])}var ag=u.forwardRef(function(h,m){var C=h.prefixCls,_=C===void 0?"rc-slider":C,L=h.className,Z=h.style,K=h.classNames,G=h.styles,ue=h.disabled,me=ue===void 0?!1:ue,Ee=h.keyboard,Se=Ee===void 0?!0:Ee,We=h.autoFocus,Ae=h.onFocus,et=h.onBlur,ze=h.min,Ke=ze===void 0?0:ze,pt=h.max,Ye=pt===void 0?100:pt,Ot=h.step,gt=Ot===void 0?1:Ot,Wt=h.value,un=h.defaultValue,Mn=h.range,An=h.count,Jn=h.onChange,En=h.onBeforeChange,$n=h.onAfterChange,wn=h.onChangeComplete,ui=h.allowCross,Gn=ui===void 0?!0:ui,li=h.pushable,ci=li===void 0?!1:li,gi=h.reverse,Bn=h.vertical,Ti=h.included,Qi=Ti===void 0?!0:Ti,rs=h.startPoint,lo=h.trackStyle,Zs=h.handleStyle,es=h.railStyle,lr=h.dotStyle,ws=h.activeDotStyle,Er=h.marks,Zr=h.dots,bs=h.handleRender,Ii=h.activeHandleRender,ei=h.track,Cr=h.tabIndex,ts=Cr===void 0?0:Cr,Bi=h.ariaLabelForHandle,Br=h.ariaLabelledByForHandle,ls=h.ariaValueTextFormatterForHandle,dr=u.useRef(null),ps=u.useRef(null),Ur=u.useMemo(function(){return Bn?gi?"ttb":"btt":gi?"rtl":"ltr"},[gi,Bn]),Jo=kf(Mn),Gs=(0,on.Z)(Jo,5),Fs=Gs[0],br=Gs[1],Xs=Gs[2],fo=Gs[3],$s=Gs[4],ro=u.useMemo(function(){return isFinite(Ke)?Ke:0},[Ke]),Wo=u.useMemo(function(){return isFinite(Ye)?Ye:100},[Ye]),Co=u.useMemo(function(){return gt!==null&&gt<=0?1:gt},[gt]),fa=u.useMemo(function(){return typeof ci=="boolean"?ci?Co:!1:ci>=0?ci:!1},[ci,Co]),Ba=u.useMemo(function(){return Object.keys(Er||{}).map(function(cr){var hr=Er[cr],ko={value:Number(cr)};return hr&&(0,$r.Z)(hr)==="object"&&!u.isValidElement(hr)&&("label"in hr||"style"in hr)?(ko.style=hr.style,ko.label=hr.label):ko.label=hr,ko}).filter(function(cr){var hr=cr.label;return hr||typeof hr=="number"}).sort(function(cr,hr){return cr.value-hr.value})},[Er]),Ha=qh(ro,Wo,Co,Ba,Gn,fa),Pa=(0,on.Z)(Ha,2),Xa=Pa[0],Ra=Pa[1],aa=(0,de.Z)(un,{value:Wt}),va=(0,on.Z)(aa,2),pa=va[0],oc=va[1],la=u.useMemo(function(){var cr=pa==null?[]:Array.isArray(pa)?pa:[pa],hr=(0,on.Z)(cr,1),ko=hr[0],Sa=ko===void 0?ro:ko,Ca=pa===null?[]:[Sa];if(Fs){if(Ca=(0,Lt.Z)(cr),An||pa===void 0){var lc=An>=0?An+1:2;for(Ca=Ca.slice(0,lc);Ca.length<lc;){var cc;Ca.push((cc=Ca[Ca.length-1])!==null&&cc!==void 0?cc:ro)}}Ca.sort(function(cl,Ll){return cl-Ll})}return Ca.forEach(function(cl,Ll){Ca[Ll]=Xa(cl)}),Ca},[pa,Fs,ro,An,Xa]),Ol=function(hr){return Fs?hr:hr[0]},bc=(0,Rn.zX)(function(cr){var hr=(0,Lt.Z)(cr).sort(function(ko,Sa){return ko-Sa});Jn&&!(0,ch.Z)(hr,la,!0)&&Jn(Ol(hr)),oc(hr)}),Il=(0,Rn.zX)(function(cr){cr&&dr.current.hideHelp();var hr=Ol(la);$n==null||$n(hr),(0,hl.ZP)(!$n,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),wn==null||wn(hr)}),Oa=function(hr){if(!(me||!br||la.length<=fo)){var ko=(0,Lt.Z)(la);ko.splice(hr,1),En==null||En(Ol(ko)),bc(ko);var Sa=Math.max(0,hr-1);dr.current.hideHelp(),dr.current.focus(Sa)}},ya=zf(ps,Ur,la,ro,Wo,Xa,bc,Il,Ra,br,fo),xa=(0,on.Z)(ya,5),ac=xa[0],Ma=xa[1],ec=xa[2],Cl=xa[3],cs=xa[4],Ys=function(hr,ko){if(!me){var Sa=(0,Lt.Z)(la),Ca=0,lc=0,cc=Wo-ro;la.forEach(function(Fl,pc){var Wu=Math.abs(hr-Fl);Wu<=cc&&(cc=Wu,Ca=pc),Fl<hr&&(lc=pc)});var cl=Ca;br&&cc!==0&&(!$s||la.length<$s)?(Sa.splice(lc+1,0,hr),cl=lc+1):Sa[Ca]=hr,Fs&&!la.length&&An===void 0&&Sa.push(hr);var Ll=Ol(Sa);if(En==null||En(Ll),bc(Sa),ko){var Sc,Nl;(Sc=document.activeElement)===null||Sc===void 0||(Nl=Sc.blur)===null||Nl===void 0||Nl.call(Sc),dr.current.focus(cl),cs(ko,cl,Sa)}else $n==null||$n(Ll),(0,hl.ZP)(!$n,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),wn==null||wn(Ll)}},ss=function(hr){hr.preventDefault();var ko=ps.current.getBoundingClientRect(),Sa=ko.width,Ca=ko.height,lc=ko.left,cc=ko.top,cl=ko.bottom,Ll=ko.right,Sc=hr.clientX,Nl=hr.clientY,Fl;switch(Ur){case"btt":Fl=(cl-Nl)/Ca;break;case"ttb":Fl=(Nl-cc)/Ca;break;case"rtl":Fl=(Ll-Sc)/Sa;break;default:Fl=(Sc-lc)/Sa}var pc=ro+Fl*(Wo-ro);Ys(Xa(pc),hr)},_o=u.useState(null),ea=(0,on.Z)(_o,2),ia=ea[0],yl=ea[1],ll=function(hr,ko){if(!me){var Sa=Ra(la,hr,ko);En==null||En(Ol(la)),bc(Sa.values),yl(Sa.value)}};u.useEffect(function(){if(ia!==null){var cr=la.indexOf(ia);cr>=0&&dr.current.focus(cr)}yl(null)},[ia]);var _l=u.useMemo(function(){return Xs&&Co===null?!1:Xs},[Xs,Co]),Aa=(0,Rn.zX)(function(cr,hr){cs(cr,hr),En==null||En(Ol(la))}),wl=ac!==-1;u.useEffect(function(){if(!wl){var cr=la.lastIndexOf(Ma);dr.current.focus(cr)}},[wl]);var Zl=u.useMemo(function(){return(0,Lt.Z)(Cl).sort(function(cr,hr){return cr-hr})},[Cl]),Zc=u.useMemo(function(){return Fs?[Zl[0],Zl[Zl.length-1]]:[ro,Zl[0]]},[Zl,Fs,ro]),Dl=(0,on.Z)(Zc,2),fc=Dl[0],Kr=Dl[1];u.useImperativeHandle(m,function(){return{focus:function(){dr.current.focus(0)},blur:function(){var hr,ko=document,Sa=ko.activeElement;(hr=ps.current)!==null&&hr!==void 0&&hr.contains(Sa)&&(Sa==null||Sa.blur())}}}),u.useEffect(function(){We&&dr.current.focus(0)},[]);var gs=u.useMemo(function(){return{min:ro,max:Wo,direction:Ur,disabled:me,keyboard:Se,step:Co,included:Qi,includedStart:fc,includedEnd:Kr,range:Fs,tabIndex:ts,ariaLabelForHandle:Bi,ariaLabelledByForHandle:Br,ariaValueTextFormatterForHandle:ls,styles:G||{},classNames:K||{}}},[ro,Wo,Ur,me,Se,Co,Qi,fc,Kr,Fs,ts,Bi,Br,ls,G,K]);return u.createElement(Mu.Provider,{value:gs},u.createElement("div",{ref:ps,className:$()(_,L,(0,Ft.Z)((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({},"".concat(_,"-disabled"),me),"".concat(_,"-vertical"),Bn),"".concat(_,"-horizontal"),!Bn),"".concat(_,"-with-marks"),Ba.length)),style:Z,onMouseDown:ss},u.createElement("div",{className:$()("".concat(_,"-rail"),K==null?void 0:K.rail),style:(0,Cn.Z)((0,Cn.Z)({},es),G==null?void 0:G.rail)}),ei!==!1&&u.createElement(Tp,{prefixCls:_,style:lo,values:la,startPoint:rs,onStartMove:_l?Aa:void 0}),u.createElement(Bf,{prefixCls:_,marks:Ba,dots:Zr,style:lr,activeStyle:ws}),u.createElement(Xh,{ref:dr,prefixCls:_,style:Zs,values:Cl,draggingIndex:ac,draggingDelete:ec,onStartMove:Aa,onOffsetChange:ll,onFocus:Ae,onBlur:et,handleRender:bs,activeHandleRender:Ii,onChangeComplete:Il,onDelete:br?Oa:void 0}),u.createElement(xc,{prefixCls:_,marks:Ba,onClick:Ys})))}),lg=ag,$f=lg,Jh=u.forwardRef((h,m)=>{const{open:C,draggingDelete:_}=h,L=(0,u.useRef)(null),Z=C&&!_,K=(0,u.useRef)(null);function G(){dc.Z.cancel(K.current),K.current=null}function ue(){K.current=(0,dc.Z)(()=>{var me;(me=L.current)===null||me===void 0||me.forceAlign(),K.current=null})}return u.useEffect(()=>(Z?ue():G(),G),[Z,h.title]),u.createElement(as,Object.assign({ref:(0,qr.sQ)(L,m)},h,{open:Z}))});const Hf=h=>{const{componentCls:m,antCls:C,controlSize:_,dotSize:L,marginFull:Z,marginPart:K,colorFillContentHover:G,handleColorDisabled:ue,calc:me,handleSize:Ee,handleSizeHover:Se,handleActiveColor:We,handleActiveOutlineColor:Ae,handleLineWidth:et,handleLineWidthHover:ze,motionDurationMid:Ke}=h;return{[m]:Object.assign(Object.assign({},(0,Rt.Wf)(h)),{position:"relative",height:_,margin:`${(0,Ce.bf)(K)} ${(0,Ce.bf)(Z)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,Ce.bf)(Z)} ${(0,Ce.bf)(K)}`},[`${m}-rail`]:{position:"absolute",backgroundColor:h.railBg,borderRadius:h.borderRadiusXS,transition:`background-color ${Ke}`},[`${m}-track,${m}-tracks`]:{position:"absolute",transition:`background-color ${Ke}`},[`${m}-track`]:{backgroundColor:h.trackBg,borderRadius:h.borderRadiusXS},[`${m}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${m}-rail`]:{backgroundColor:h.railHoverBg},[`${m}-track`]:{backgroundColor:h.trackHoverBg},[`${m}-dot`]:{borderColor:G},[`${m}-handle::after`]:{boxShadow:`0 0 0 ${(0,Ce.bf)(et)} ${h.colorPrimaryBorderHover}`},[`${m}-dot-active`]:{borderColor:h.dotActiveBorderColor}},[`${m}-handle`]:{position:"absolute",width:Ee,height:Ee,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:me(et).mul(-1).equal(),insetBlockStart:me(et).mul(-1).equal(),width:me(Ee).add(me(et).mul(2)).equal(),height:me(Ee).add(me(et).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:Ee,height:Ee,backgroundColor:h.colorBgElevated,boxShadow:`0 0 0 ${(0,Ce.bf)(et)} ${h.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${Ke},
            inset-block-start ${Ke},
            width ${Ke},
            height ${Ke},
            box-shadow ${Ke},
            outline ${Ke}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:me(Se).sub(Ee).div(2).add(ze).mul(-1).equal(),insetBlockStart:me(Se).sub(Ee).div(2).add(ze).mul(-1).equal(),width:me(Se).add(me(ze).mul(2)).equal(),height:me(Se).add(me(ze).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,Ce.bf)(ze)} ${We}`,outline:`6px solid ${Ae}`,width:Se,height:Se,insetInlineStart:h.calc(Ee).sub(Se).div(2).equal(),insetBlockStart:h.calc(Ee).sub(Se).div(2).equal()}}},[`&-lock ${m}-handle`]:{"&::before, &::after":{transition:"none"}},[`${m}-mark`]:{position:"absolute",fontSize:h.fontSize},[`${m}-mark-text`]:{position:"absolute",display:"inline-block",color:h.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:h.colorText}},[`${m}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${m}-dot`]:{position:"absolute",width:L,height:L,backgroundColor:h.colorBgElevated,border:`${(0,Ce.bf)(et)} solid ${h.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${h.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:h.dotActiveBorderColor}},[`&${m}-disabled`]:{cursor:"not-allowed",[`${m}-rail`]:{backgroundColor:`${h.railBg} !important`},[`${m}-track`]:{backgroundColor:`${h.trackBgDisabled} !important`},[`
          ${m}-dot
        `]:{backgroundColor:h.colorBgElevated,borderColor:h.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${m}-handle::after`]:{backgroundColor:h.colorBgElevated,cursor:"not-allowed",width:Ee,height:Ee,boxShadow:`0 0 0 ${(0,Ce.bf)(et)} ${ue}`,insetInlineStart:0,insetBlockStart:0},[`
          ${m}-mark-text,
          ${m}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${C}-tooltip-inner`]:{minWidth:"unset"}})}},Qh=(h,m)=>{const{componentCls:C,railSize:_,handleSize:L,dotSize:Z,marginFull:K,calc:G}=h,ue=m?"paddingBlock":"paddingInline",me=m?"width":"height",Ee=m?"height":"width",Se=m?"insetBlockStart":"insetInlineStart",We=m?"top":"insetInlineStart",Ae=G(_).mul(3).sub(L).div(2).equal(),et=G(L).sub(_).div(2).equal(),ze=m?{borderWidth:`${(0,Ce.bf)(et)} 0`,transform:`translateY(${(0,Ce.bf)(G(et).mul(-1).equal())})`}:{borderWidth:`0 ${(0,Ce.bf)(et)}`,transform:`translateX(${(0,Ce.bf)(h.calc(et).mul(-1).equal())})`};return{[ue]:_,[Ee]:G(_).mul(3).equal(),[`${C}-rail`]:{[me]:"100%",[Ee]:_},[`${C}-track,${C}-tracks`]:{[Ee]:_},[`${C}-track-draggable`]:Object.assign({},ze),[`${C}-handle`]:{[Se]:Ae},[`${C}-mark`]:{insetInlineStart:0,top:0,[We]:G(_).mul(3).add(m?0:K).equal(),[me]:"100%"},[`${C}-step`]:{insetInlineStart:0,top:0,[We]:_,[me]:"100%",[Ee]:_},[`${C}-dot`]:{position:"absolute",[Se]:G(_).sub(Z).div(2).equal()}}},cg=h=>{const{componentCls:m,marginPartWithMark:C}=h;return{[`${m}-horizontal`]:Object.assign(Object.assign({},Qh(h,!0)),{[`&${m}-with-marks`]:{marginBottom:C}})}},fh=h=>{const{componentCls:m}=h;return{[`${m}-vertical`]:Object.assign(Object.assign({},Qh(h,!1)),{height:"100%"})}},ug=h=>{const C=h.controlHeightLG/4,_=h.controlHeightSM/2,L=h.lineWidth+1,Z=h.lineWidth+1*1.5,K=h.colorPrimary,G=new qu.C(K).setAlpha(.2).toRgbString();return{controlSize:C,railSize:4,handleSize:C,handleSizeHover:_,dotSize:8,handleLineWidth:L,handleLineWidthHover:Z,railBg:h.colorFillTertiary,railHoverBg:h.colorFillSecondary,trackBg:h.colorPrimaryBorder,trackHoverBg:h.colorPrimaryBorderHover,handleColor:h.colorPrimaryBorder,handleActiveColor:K,handleActiveOutlineColor:G,handleColorDisabled:new qu.C(h.colorTextDisabled).onBackground(h.colorBgContainer).toHexShortString(),dotBorderColor:h.colorBorderSecondary,dotActiveBorderColor:h.colorPrimaryBorder,trackBgDisabled:h.colorBgContainerDisabled}};var ef=(0,kt.I$)("Slider",h=>{const m=(0,mt.IX)(h,{marginPart:h.calc(h.controlHeight).sub(h.controlSize).div(2).equal(),marginFull:h.calc(h.controlSize).div(2).equal(),marginPartWithMark:h.calc(h.controlHeightLG).sub(h.controlSize).equal()});return[Hf(m),cg(m),fh(m)]},ug),Vf=(0,u.createContext)({});function tf(){const[h,m]=u.useState(!1),C=u.useRef(),_=()=>{dc.Z.cancel(C.current)},L=Z=>{_(),Z?m(Z):C.current=(0,dc.Z)(()=>{m(Z)})};return u.useEffect(()=>_,[]),[h,L]}var Op=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};function ml(h,m){return h||h===null?h:m||m===null?m:C=>typeof C=="number"?C.toString():""}var Sd=u.forwardRef((h,m)=>{const{prefixCls:C,range:_,className:L,rootClassName:Z,style:K,disabled:G,tooltipPrefixCls:ue,tipFormatter:me,tooltipVisible:Ee,getTooltipPopupContainer:Se,tooltipPlacement:We,tooltip:Ae={},onChangeComplete:et}=h,ze=Op(h,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:Ke}=h,{direction:pt,slider:Ye,getPrefixCls:Ot,getPopupContainer:gt}=u.useContext(X.E_),Wt=u.useContext(j.Z),un=G!=null?G:Wt,{handleRender:Mn,direction:An}=u.useContext(Vf),En=(An||pt)==="rtl",[$n,wn]=tf(),[ui,Gn]=tf(),li=Object.assign({},Ae),{open:ci,placement:gi,getPopupContainer:Bn,prefixCls:Ti,formatter:Qi}=li,rs=ci!=null?ci:Ee,lo=($n||ui)&&rs!==!1,Zs=ml(Qi,me),[es,lr]=tf(),ws=dr=>{et==null||et(dr),lr(!1)},Er=(dr,ps)=>dr||(ps?En?"left":"right":"top"),Zr=Ot("slider",C),[bs,Ii,ei]=ef(Zr),Cr=$()(L,Ye==null?void 0:Ye.className,Z,{[`${Zr}-rtl`]:En,[`${Zr}-lock`]:es},Ii,ei);En&&!ze.vertical&&(ze.reverse=!ze.reverse),u.useEffect(()=>{const dr=()=>{(0,dc.Z)(()=>{Gn(!1)},1)};return document.addEventListener("mouseup",dr),()=>{document.removeEventListener("mouseup",dr)}},[]);const ts=_&&!rs,Bi=Mn||((dr,ps)=>{const{index:Ur}=ps,Jo=dr.props;function Gs(fo,$s,ro){var Wo,Co,fa,Ba;ro&&((Co=(Wo=ze)[fo])===null||Co===void 0||Co.call(Wo,$s)),(Ba=(fa=Jo)[fo])===null||Ba===void 0||Ba.call(fa,$s)}const Fs=Object.assign(Object.assign({},Jo),{onMouseEnter:fo=>{wn(!0),Gs("onMouseEnter",fo)},onMouseLeave:fo=>{wn(!1),Gs("onMouseLeave",fo)},onMouseDown:fo=>{Gn(!0),lr(!0),Gs("onMouseDown",fo)},onFocus:fo=>{var $s;Gn(!0),($s=ze.onFocus)===null||$s===void 0||$s.call(ze,fo),Gs("onFocus",fo,!0)},onBlur:fo=>{var $s;Gn(!1),($s=ze.onBlur)===null||$s===void 0||$s.call(ze,fo),Gs("onBlur",fo,!0)}}),br=u.cloneElement(dr,Fs),Xs=(!!rs||lo)&&Zs!==null;return ts?br:u.createElement(Jh,Object.assign({},li,{prefixCls:Ot("tooltip",Ti!=null?Ti:ue),title:Zs?Zs(ps.value):"",open:Xs,placement:Er(gi!=null?gi:We,Ke),key:Ur,overlayClassName:`${Zr}-tooltip`,getPopupContainer:Bn||Se||gt}),br)}),Br=ts?(dr,ps)=>{const Ur=u.cloneElement(dr,{style:Object.assign(Object.assign({},dr.props.style),{visibility:"hidden"})});return u.createElement(Jh,Object.assign({},li,{prefixCls:Ot("tooltip",Ti!=null?Ti:ue),title:Zs?Zs(ps.value):"",open:Zs!==null&&lo,placement:Er(gi!=null?gi:We,Ke),key:"tooltip",overlayClassName:`${Zr}-tooltip`,getPopupContainer:Bn||Se||gt,draggingDelete:ps.draggingDelete}),Ur)}:void 0,ls=Object.assign(Object.assign({},Ye==null?void 0:Ye.style),K);return bs(u.createElement($f,Object.assign({},ze,{step:ze.step,range:_,className:Cr,style:ls,disabled:un,ref:m,prefixCls:Zr,handleRender:Bi,activeHandleRender:Br,onChangeComplete:ws})))}),Ip=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const Wf=h=>{const{prefixCls:m,colors:C,type:_,color:L,range:Z=!1,className:K,activeIndex:G,onActive:ue,onDragStart:me,onDragChange:Ee,onKeyDelete:Se}=h,We=Ip(h,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),Ae=Object.assign(Object.assign({},We),{track:!1}),et=u.useMemo(()=>`linear-gradient(90deg, ${C.map(un=>`${un.color} ${un.percent}%`).join(", ")})`,[C]),ze=u.useMemo(()=>!L||!_?null:_==="alpha"?L.toRgbString():`hsl(${L.toHsb().h}, 100%, 50%)`,[L,_]),Ke=(0,Rn.zX)(me),pt=(0,Rn.zX)(Ee),Ye=u.useMemo(()=>({onDragStart:Ke,onDragChange:pt}),[]),Ot=(0,Rn.zX)((Wt,un)=>{const{onFocus:Mn,style:An,className:Jn,onKeyDown:En}=Wt.props,$n=Object.assign({},An);return _==="gradient"&&($n.background=Al(C,un.value)),u.cloneElement(Wt,{onFocus:wn=>{ue==null||ue(un.index),Mn==null||Mn(wn)},style:$n,className:$()(Jn,{[`${m}-slider-handle-active`]:G===un.index}),onKeyDown:wn=>{(wn.key==="Delete"||wn.key==="Backspace")&&Se&&Se(un.index),En==null||En(wn)}})}),gt=u.useMemo(()=>({direction:"ltr",handleRender:Ot}),[]);return u.createElement(Vf.Provider,{value:gt},u.createElement(Nf.Provider,{value:Ye},u.createElement(Sd,Object.assign({},Ae,{className:$()(K,`${m}-slider`),tooltip:{open:!1},range:{editable:Z,minCount:2},styles:{rail:{background:et},handle:ze?{background:ze}:{}},classNames:{rail:`${m}-slider-rail`,handle:`${m}-slider-handle`}}))))};var Cd=h=>{const{value:m,onChange:C,onChangeComplete:_}=h,L=K=>C(K[0]),Z=K=>_(K[0]);return u.createElement(Wf,Object.assign({},h,{value:[m],onChange:L,onChangeComplete:Z}))};function nd(h){return(0,Lt.Z)(h).sort((m,C)=>m.percent-C.percent)}const zu=h=>{const{prefixCls:m,mode:C,onChange:_,onChangeComplete:L,onActive:Z,activeIndex:K,onGradientDragging:G,colors:ue}=h,me=C==="gradient",Ee=u.useMemo(()=>ue.map(pt=>({percent:pt.percent,color:pt.color.toRgbString()})),[ue]),Se=u.useMemo(()=>Ee.map(pt=>pt.percent),[Ee]),We=u.useRef(Ee),Ae=pt=>{let{rawValues:Ye,draggingIndex:Ot,draggingValue:gt}=pt;if(Ye.length>Ee.length){const Wt=Al(Ee,gt),un=(0,Lt.Z)(Ee);un.splice(Ot,0,{percent:gt,color:Wt}),We.current=un}else We.current=Ee;G(!0),_(new Vr(nd(We.current)),!0)},et=pt=>{let{deleteIndex:Ye,draggingIndex:Ot,draggingValue:gt}=pt,Wt=(0,Lt.Z)(We.current);Ye!==-1?Wt.splice(Ye,1):(Wt[Ot]=Object.assign(Object.assign({},Wt[Ot]),{percent:gt}),Wt=nd(Wt)),_(new Vr(Wt),!0)},ze=pt=>{const Ye=(0,Lt.Z)(Ee);Ye.splice(pt,1);const Ot=new Vr(Ye);_(Ot),L(Ot)},Ke=pt=>{L(new Vr(Ee)),K>=pt.length&&Z(pt.length-1),G(!1)};return me?u.createElement(Wf,{min:0,max:100,prefixCls:m,className:`${m}-gradient-slider`,colors:Ee,color:null,value:Se,range:!0,onChangeComplete:Ke,disabled:!1,type:"gradient",activeIndex:K,onActive:Z,onDragStart:Ae,onDragChange:et,onKeyDelete:ze}):null};var ku=u.memo(zu),Dp=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const Lp={slider:Cd};var jf=()=>{const h=(0,u.useContext)(Eo),{mode:m,onModeChange:C,modeOptions:_,prefixCls:L,allowClear:Z,value:K,disabledAlpha:G,onChange:ue,onClear:me,onChangeComplete:Ee,activeIndex:Se,gradientDragging:We}=h,Ae=Dp(h,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),et=u.useMemo(()=>K.cleared?[{percent:0,color:new Vr("")},{percent:100,color:new Vr("")}]:K.getColors(),[K]),ze=!K.isGradient(),[Ke,pt]=u.useState(K);(0,Hi.Z)(()=>{var An;ze||pt((An=et[Se])===null||An===void 0?void 0:An.color)},[We,Se]);const Ye=u.useMemo(()=>{var An;return ze?K:We?Ke:(An=et[Se])===null||An===void 0?void 0:An.color},[K,Se,ze,Ke,We]),Ot=An=>{if(m==="single")return An;const Jn=(0,Lt.Z)(et);return Jn[Se]=Object.assign(Object.assign({},Jn[Se]),{color:An}),new Vr(Jn)},gt=(An,Jn,En)=>{let wn=uo(An);if(K.cleared){const ui=wn.toRgb();if(!ui.r&&!ui.g&&!ui.b&&En){const{type:Gn,value:li=0}=En;wn=new Vr({h:Gn==="hue"?li:0,s:1,b:1,a:Gn==="alpha"?li/100:1})}else wn=ka(wn)}ue(Ot(wn),Jn)},Wt=An=>{Ee(Ot(An))};let un=null;const Mn=_.length>1;return(Z||Mn)&&(un=u.createElement("div",{className:`${L}-operation`},Mn&&u.createElement(zo,{size:"small",options:_,value:m,onChange:C}),u.createElement(ja,Object.assign({prefixCls:L,value:K,onChange:An=>{ue(An),me==null||me()}},Ae)))),u.createElement(u.Fragment,null,un,u.createElement(ku,Object.assign({},h,{colors:et})),u.createElement(eo,{prefixCls:L,value:Ye==null?void 0:Ye.toHsb(),disabledAlpha:G,onChange:(An,Jn)=>{gt(An,!0,Jn)},onChangeComplete:An=>{Wt(uo(An))},components:Lp}),u.createElement(lh,Object.assign({value:Ye,onChange:gt,prefixCls:L,disabledAlpha:G},Ae)))},Np={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},Fp=Np,Bp=function(m,C){return u.createElement(yc.Z,(0,gn.Z)({},m,{ref:C,icon:Fp}))},nf=u.forwardRef(Bp),_d=nf,Zf=u.forwardRef(function(h,m){var C=h.prefixCls,_=h.forceRender,L=h.className,Z=h.style,K=h.children,G=h.isActive,ue=h.role,me=u.useState(G||_),Ee=(0,on.Z)(me,2),Se=Ee[0],We=Ee[1];return u.useEffect(function(){(_||G)&&We(!0)},[_,G]),Se?u.createElement("div",{ref:m,className:$()("".concat(C,"-content"),(0,Ft.Z)((0,Ft.Z)({},"".concat(C,"-content-active"),G),"".concat(C,"-content-inactive"),!G),L),style:Z,role:ue},u.createElement("div",{className:"".concat(C,"-content-box")},K)):null});Zf.displayName="PanelContent";var wd=Zf,Gf=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Md=u.forwardRef(function(h,m){var C=h.showArrow,_=C===void 0?!0:C,L=h.headerClass,Z=h.isActive,K=h.onItemClick,G=h.forceRender,ue=h.className,me=h.prefixCls,Ee=h.collapsible,Se=h.accordion,We=h.panelKey,Ae=h.extra,et=h.header,ze=h.expandIcon,Ke=h.openMotion,pt=h.destroyInactivePanel,Ye=h.children,Ot=(0,io.Z)(h,Gf),gt=Ee==="disabled",Wt=Ee==="header",un=Ee==="icon",Mn=Ae!=null&&typeof Ae!="boolean",An=function(){K==null||K(We)},Jn=function(li){(li.key==="Enter"||li.keyCode===oe.Z.ENTER||li.which===oe.Z.ENTER)&&An()},En=typeof ze=="function"?ze(h):u.createElement("i",{className:"arrow"});En&&(En=u.createElement("div",{className:"".concat(me,"-expand-icon"),onClick:["header","icon"].includes(Ee)?An:void 0},En));var $n=$()((0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({},"".concat(me,"-item"),!0),"".concat(me,"-item-active"),Z),"".concat(me,"-item-disabled"),gt),ue),wn=$()(L,(0,Ft.Z)((0,Ft.Z)((0,Ft.Z)({},"".concat(me,"-header"),!0),"".concat(me,"-header-collapsible-only"),Wt),"".concat(me,"-icon-collapsible-only"),un)),ui={className:wn,"aria-expanded":Z,"aria-disabled":gt,onKeyDown:Jn};return!Wt&&!un&&(ui.onClick=An,ui.role=Se?"tab":"button",ui.tabIndex=gt?-1:0),u.createElement("div",(0,gn.Z)({},Ot,{ref:m,className:$n}),u.createElement("div",ui,_&&En,u.createElement("span",{className:"".concat(me,"-header-text"),onClick:Ee==="header"?An:void 0},et),Mn&&u.createElement("div",{className:"".concat(me,"-extra")},Ae)),u.createElement(gr.ZP,(0,gn.Z)({visible:Z,leavedClassName:"".concat(me,"-content-hidden")},Ke,{forceRender:G,removeOnLeave:pt}),function(Gn,li){var ci=Gn.className,gi=Gn.style;return u.createElement(wd,{ref:li,prefixCls:me,className:ci,style:gi,isActive:Z,forceRender:G,role:Se?"tabpanel":void 0},Ye)}))}),Xf=Md,Ed=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],gh=function(m,C){var _=C.prefixCls,L=C.accordion,Z=C.collapsible,K=C.destroyInactivePanel,G=C.onItemClick,ue=C.activeKey,me=C.openMotion,Ee=C.expandIcon;return m.map(function(Se,We){var Ae=Se.children,et=Se.label,ze=Se.key,Ke=Se.collapsible,pt=Se.onItemClick,Ye=Se.destroyInactivePanel,Ot=(0,io.Z)(Se,Ed),gt=String(ze!=null?ze:We),Wt=Ke!=null?Ke:Z,un=Ye!=null?Ye:K,Mn=function(En){Wt!=="disabled"&&(G(En),pt==null||pt(En))},An=!1;return L?An=ue[0]===gt:An=ue.indexOf(gt)>-1,u.createElement(Xf,(0,gn.Z)({},Ot,{prefixCls:_,key:gt,panelKey:gt,isActive:An,accordion:L,openMotion:me,expandIcon:Ee,header:et,collapsible:Wt,onItemClick:Mn,destroyInactivePanel:un}),Ae)})},Td=function(m,C,_){if(!m)return null;var L=_.prefixCls,Z=_.accordion,K=_.collapsible,G=_.destroyInactivePanel,ue=_.onItemClick,me=_.activeKey,Ee=_.openMotion,Se=_.expandIcon,We=m.key||String(C),Ae=m.props,et=Ae.header,ze=Ae.headerClass,Ke=Ae.destroyInactivePanel,pt=Ae.collapsible,Ye=Ae.onItemClick,Ot=!1;Z?Ot=me[0]===We:Ot=me.indexOf(We)>-1;var gt=pt!=null?pt:K,Wt=function(An){gt!=="disabled"&&(ue(An),Ye==null||Ye(An))},un={key:We,panelKey:We,header:et,headerClass:ze,isActive:Ot,prefixCls:L,destroyInactivePanel:Ke!=null?Ke:G,openMotion:Ee,accordion:Z,children:m.props.children,onItemClick:Wt,expandIcon:Se,collapsible:gt};return typeof m.type=="string"?m:(Object.keys(un).forEach(function(Mn){typeof un[Mn]=="undefined"&&delete un[Mn]}),u.cloneElement(m,un))};function Ad(h,m,C){return Array.isArray(h)?gh(h,C):(0,Kc.Z)(m).map(function(_,L){return Td(_,L,C)})}var Pd=Ad;function Rd(h){var m=h;if(!Array.isArray(m)){var C=(0,$r.Z)(m);m=C==="number"||C==="string"?[m]:[]}return m.map(function(_){return String(_)})}var Od=u.forwardRef(function(h,m){var C=h.prefixCls,_=C===void 0?"rc-collapse":C,L=h.destroyInactivePanel,Z=L===void 0?!1:L,K=h.style,G=h.accordion,ue=h.className,me=h.children,Ee=h.collapsible,Se=h.openMotion,We=h.expandIcon,Ae=h.activeKey,et=h.defaultActiveKey,ze=h.onChange,Ke=h.items,pt=$()(_,ue),Ye=(0,de.Z)([],{value:Ae,onChange:function(Jn){return ze==null?void 0:ze(Jn)},defaultValue:et,postState:Rd}),Ot=(0,on.Z)(Ye,2),gt=Ot[0],Wt=Ot[1],un=function(Jn){return Wt(function(){if(G)return gt[0]===Jn?[]:[Jn];var En=gt.indexOf(Jn),$n=En>-1;return $n?gt.filter(function(wn){return wn!==Jn}):[].concat((0,Lt.Z)(gt),[Jn])})};(0,hl.ZP)(!me,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var Mn=Pd(Ke,me,{prefixCls:_,accordion:G,openMotion:Se,expandIcon:We,collapsible:Ee,destroyInactivePanel:Z,onItemClick:un,activeKey:gt});return u.createElement("div",(0,gn.Z)({ref:m,className:pt,style:K,role:G?"tablist":void 0},(0,Fe.Z)(h,{aria:!0,data:!0})),Mn)}),id=Object.assign(Od,{Panel:Xf}),rd=id,im=id.Panel,n=u.forwardRef((h,m)=>{const{getPrefixCls:C}=u.useContext(X.E_),{prefixCls:_,className:L,showArrow:Z=!0}=h,K=C("collapse",_),G=$()({[`${K}-no-arrow`]:!Z},L);return u.createElement(rd.Panel,Object.assign({ref:m},h,{prefixCls:K,className:G}))}),o=h=>({[h.componentCls]:{[`${h.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${h.motionDurationMid} ${h.motionEaseInOut},
        opacity ${h.motionDurationMid} ${h.motionEaseInOut} !important`}},[`${h.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${h.motionDurationMid} ${h.motionEaseInOut},
        opacity ${h.motionDurationMid} ${h.motionEaseInOut} !important`}}});const c=h=>{const{componentCls:m,contentBg:C,padding:_,headerBg:L,headerPadding:Z,collapseHeaderPaddingSM:K,collapseHeaderPaddingLG:G,collapsePanelBorderRadius:ue,lineWidth:me,lineType:Ee,colorBorder:Se,colorText:We,colorTextHeading:Ae,colorTextDisabled:et,fontSizeLG:ze,lineHeight:Ke,lineHeightLG:pt,marginSM:Ye,paddingSM:Ot,paddingLG:gt,paddingXS:Wt,motionDurationSlow:un,fontSizeIcon:Mn,contentPadding:An,fontHeight:Jn,fontHeightLG:En}=h,$n=`${(0,Ce.bf)(me)} ${Ee} ${Se}`;return{[m]:Object.assign(Object.assign({},(0,Rt.Wf)(h)),{backgroundColor:L,border:$n,borderRadius:ue,"&-rtl":{direction:"rtl"},[`& > ${m}-item`]:{borderBottom:$n,"&:last-child":{[`
            &,
            & > ${m}-header`]:{borderRadius:`0 0 ${(0,Ce.bf)(ue)} ${(0,Ce.bf)(ue)}`}},[`> ${m}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:Z,color:Ae,lineHeight:Ke,cursor:"pointer",transition:`all ${un}, visibility 0s`,[`> ${m}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${m}-expand-icon`]:{height:Jn,display:"flex",alignItems:"center",paddingInlineEnd:Ye},[`${m}-arrow`]:Object.assign(Object.assign({},(0,Rt.Ro)()),{fontSize:Mn,transition:`transform ${un}`,svg:{transition:`transform ${un}`}}),[`${m}-header-text`]:{marginInlineEnd:"auto"}},[`${m}-icon-collapsible-only`]:{cursor:"unset",[`${m}-expand-icon`]:{cursor:"pointer"}}},[`${m}-content`]:{color:We,backgroundColor:C,borderTop:$n,[`& > ${m}-content-box`]:{padding:An},"&-hidden":{display:"none"}},"&-small":{[`> ${m}-item`]:{[`> ${m}-header`]:{padding:K,paddingInlineStart:Wt,[`> ${m}-expand-icon`]:{marginInlineStart:h.calc(Ot).sub(Wt).equal()}},[`> ${m}-content > ${m}-content-box`]:{padding:Ot}}},"&-large":{[`> ${m}-item`]:{fontSize:ze,lineHeight:pt,[`> ${m}-header`]:{padding:G,paddingInlineStart:_,[`> ${m}-expand-icon`]:{height:En,marginInlineStart:h.calc(gt).sub(_).equal()}},[`> ${m}-content > ${m}-content-box`]:{padding:gt}}},[`${m}-item:last-child`]:{borderBottom:0,[`> ${m}-content`]:{borderRadius:`0 0 ${(0,Ce.bf)(ue)} ${(0,Ce.bf)(ue)}`}},[`& ${m}-item-disabled > ${m}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:et,cursor:"not-allowed"}},[`&${m}-icon-position-end`]:{[`& > ${m}-item`]:{[`> ${m}-header`]:{[`${m}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:Ye}}}}})}},f=h=>{const{componentCls:m}=h,C=`> ${m}-item > ${m}-header ${m}-arrow`;return{[`${m}-rtl`]:{[C]:{transform:"rotate(180deg)"}}}},y=h=>{const{componentCls:m,headerBg:C,paddingXXS:_,colorBorder:L}=h;return{[`${m}-borderless`]:{backgroundColor:C,border:0,[`> ${m}-item`]:{borderBottom:`1px solid ${L}`},[`
        > ${m}-item:last-child,
        > ${m}-item:last-child ${m}-header
      `]:{borderRadius:0},[`> ${m}-item:last-child`]:{borderBottom:0},[`> ${m}-item > ${m}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${m}-item > ${m}-content > ${m}-content-box`]:{paddingTop:_}}}},w=h=>{const{componentCls:m,paddingSM:C}=h;return{[`${m}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${m}-item`]:{borderBottom:0,[`> ${m}-content`]:{backgroundColor:"transparent",border:0,[`> ${m}-content-box`]:{paddingBlock:C}}}}}},R=h=>({headerPadding:`${h.paddingSM}px ${h.padding}px`,headerBg:h.colorFillAlter,contentPadding:`${h.padding}px 16px`,contentBg:h.colorBgContainer});var U=(0,kt.I$)("Collapse",h=>{const m=(0,mt.IX)(h,{collapseHeaderPaddingSM:`${(0,Ce.bf)(h.paddingXS)} ${(0,Ce.bf)(h.paddingSM)}`,collapseHeaderPaddingLG:`${(0,Ce.bf)(h.padding)} ${(0,Ce.bf)(h.paddingLG)}`,collapsePanelBorderRadius:h.borderRadiusLG});return[c(m),y(m),w(m),f(m),o(m)]},R),be=Object.assign(u.forwardRef((h,m)=>{const{getPrefixCls:C,direction:_,collapse:L}=u.useContext(X.E_),{prefixCls:Z,className:K,rootClassName:G,style:ue,bordered:me=!0,ghost:Ee,size:Se,expandIconPosition:We="start",children:Ae,expandIcon:et}=h,ze=(0,ft.Z)($n=>{var wn;return(wn=Se!=null?Se:$n)!==null&&wn!==void 0?wn:"middle"}),Ke=C("collapse",Z),pt=C(),[Ye,Ot,gt]=U(Ke),Wt=u.useMemo(()=>We==="left"?"start":We==="right"?"end":We,[We]),un=et!=null?et:L==null?void 0:L.expandIcon,Mn=u.useCallback(function(){let $n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const wn=typeof un=="function"?un($n):u.createElement(_d,{rotate:$n.isActive?90:void 0,"aria-label":$n.isActive?"expanded":"collapsed"});return(0,ne.Tm)(wn,()=>{var ui;return{className:$()((ui=wn==null?void 0:wn.props)===null||ui===void 0?void 0:ui.className,`${Ke}-arrow`)}})},[un,Ke]),An=$()(`${Ke}-icon-position-${Wt}`,{[`${Ke}-borderless`]:!me,[`${Ke}-rtl`]:_==="rtl",[`${Ke}-ghost`]:!!Ee,[`${Ke}-${ze}`]:ze!=="middle"},L==null?void 0:L.className,K,G,Ot,gt),Jn=Object.assign(Object.assign({},(0,xe.Z)(pt)),{motionAppear:!1,leavedClassName:`${Ke}-content-hidden`}),En=u.useMemo(()=>Ae?(0,Kc.Z)(Ae).map(($n,wn)=>{var ui,Gn;if(!((ui=$n.props)===null||ui===void 0)&&ui.disabled){const li=(Gn=$n.key)!==null&&Gn!==void 0?Gn:String(wn),{disabled:ci,collapsible:gi}=$n.props,Bn=Object.assign(Object.assign({},(0,Jr.Z)($n.props,["disabled"])),{key:li,collapsible:gi!=null?gi:ci?"disabled":void 0});return(0,ne.Tm)($n,Bn)}return $n}):null,[Ae]);return Ye(u.createElement(rd,Object.assign({ref:m,openMotion:Jn},(0,Jr.Z)(h,["rootClassName"]),{expandIcon:Mn,prefixCls:Ke,className:An,style:Object.assign(Object.assign({},L==null?void 0:L.style),ue)}),En))}),{Panel:n}),De=be;const nt=h=>h.map(m=>(m.colors=m.colors.map(uo),m)),wt=(h,m)=>{const{r:C,g:_,b:L,a:Z}=h.toRgb(),K=new Li(h.toRgbString()).onBackground(m).toHsv();return Z<=.5?K.v>.5:C*.299+_*.587+L*.114>192},Xt=h=>{let{label:m}=h;return`panel-${m}`};var bn=h=>{let{prefixCls:m,presets:C,value:_,onChange:L}=h;const[Z]=(0,gd.Z)("ColorPicker"),[,K]=(0,vi.ZP)(),[G]=(0,de.Z)(nt(C),{value:nt(C),postState:nt}),ue=`${m}-presets`,me=(0,u.useMemo)(()=>G.reduce((We,Ae)=>{const{defaultOpen:et=!0}=Ae;return et&&We.push(Xt(Ae)),We},[]),[G]),Ee=We=>{L==null||L(We)},Se=G.map(We=>{var Ae;return{key:Xt(We),label:u.createElement("div",{className:`${ue}-label`},We==null?void 0:We.label),children:u.createElement("div",{className:`${ue}-items`},Array.isArray(We==null?void 0:We.colors)&&((Ae=We.colors)===null||Ae===void 0?void 0:Ae.length)>0?We.colors.map((et,ze)=>u.createElement(Ss,{key:`preset-${ze}-${et.toHexString()}`,color:uo(et).toRgbString(),prefixCls:m,className:$()(`${ue}-color`,{[`${ue}-color-checked`]:et.toHexString()===(_==null?void 0:_.toHexString()),[`${ue}-color-bright`]:wt(et,K.colorBgElevated)}),onClick:()=>Ee(et)})):u.createElement("span",{className:`${ue}-empty`},Z.presetEmpty))}});return u.createElement("div",{className:ue},u.createElement(De,{defaultActiveKey:me,ghost:!0,items:Se}))},Fr=()=>{const{prefixCls:h,value:m,presets:C,onChange:_}=(0,u.useContext)(ma);return Array.isArray(C)?u.createElement(bn,{value:m,presets:C,prefixCls:h,onChange:_}):null},Mr=h=>{const{prefixCls:m,presets:C,panelRender:_,value:L,onChange:Z,onClear:K,allowClear:G,disabledAlpha:ue,mode:me,onModeChange:Ee,modeOptions:Se,onChangeComplete:We,activeIndex:Ae,onActive:et,format:ze,onFormatChange:Ke,gradientDragging:pt,onGradientDragging:Ye}=h,Ot=`${m}-inner`,gt=u.useMemo(()=>({prefixCls:m,value:L,onChange:Z,onClear:K,allowClear:G,disabledAlpha:ue,mode:me,onModeChange:Ee,modeOptions:Se,onChangeComplete:We,activeIndex:Ae,onActive:et,format:ze,onFormatChange:Ke,gradientDragging:pt,onGradientDragging:Ye}),[m,L,Z,K,G,ue,me,Ee,Se,We,Ae,et,ze,Ke,pt,Ye]),Wt=u.useMemo(()=>({prefixCls:m,value:L,presets:C,onChange:Z}),[m,L,C,Z]),un=u.createElement("div",{className:`${Ot}-content`},u.createElement(jf,null),Array.isArray(C)&&u.createElement(Wr.Z,null),u.createElement(Fr,null));return u.createElement(Eo.Provider,{value:gt},u.createElement(ma.Provider,{value:Wt},u.createElement("div",{className:Ot},typeof _=="function"?_(un,{components:{Picker:jf,Presets:Fr}}):un)))},Ro=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C},ks=(0,u.forwardRef)((h,m)=>{const{color:C,prefixCls:_,open:L,disabled:Z,format:K,className:G,showText:ue,activeIndex:me}=h,Ee=Ro(h,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),Se=`${_}-trigger`,We=`${Se}-text`,Ae=`${We}-cell`,[et]=(0,gd.Z)("ColorPicker"),ze=u.useMemo(()=>{if(!ue)return"";if(typeof ue=="function")return ue(C);if(C.cleared)return et.transparent;if(C.isGradient())return C.getColors().map((Ot,gt)=>{const Wt=me!==-1&&me!==gt;return u.createElement("span",{key:gt,className:$()(Ae,Wt&&`${Ae}-inactive`)},Ot.color.toRgbString()," ",Ot.percent,"%")});const pt=C.toHexString().toUpperCase(),Ye=bl(C);switch(K){case"rgb":return C.toRgbString();case"hsb":return C.toHsbString();default:return Ye<100?`${pt.slice(0,7)},${Ye}%`:pt}},[C,K,ue,me]),Ke=(0,u.useMemo)(()=>C.cleared?u.createElement(ja,{prefixCls:_}):u.createElement(Ss,{prefixCls:_,color:C.toCssString()}),[C,_]);return u.createElement("div",Object.assign({ref:m,className:$()(Se,G,{[`${Se}-active`]:L,[`${Se}-disabled`]:Z})},(0,Fe.Z)(Ee)),Ke,ue&&u.createElement("div",{className:We},ze))});function wa(h,m,C){const[_]=(0,gd.Z)("ColorPicker"),[L,Z]=(0,Rn.C8)(h,{value:m}),[K,G]=u.useState("single"),[ue,me]=u.useMemo(()=>{const ze=(Array.isArray(C)?C:[C]).filter(Ot=>Ot);ze.length||ze.push("single");const Ke=new Set(ze),pt=[],Ye=(Ot,gt)=>{Ke.has(Ot)&&pt.push({label:gt,value:Ot})};return Ye("single",_.singleColor),Ye("gradient",_.gradientColor),[pt,Ke]},[C]),[Ee,Se]=u.useState(null),We=(0,Rn.zX)(ze=>{Se(ze),Z(ze)}),Ae=u.useMemo(()=>{const ze=uo(L||"");return ze.equals(Ee)?Ee:ze},[L,Ee]),et=u.useMemo(()=>{var ze;return me.has(K)?K:(ze=ue[0])===null||ze===void 0?void 0:ze.value},[me,K,ue]);return u.useEffect(()=>{G(Ae.isGradient()?"gradient":"single")},[Ae]),[Ae,We,et,G,ue]}const La=(h,m)=>({backgroundImage:`conic-gradient(${m} 0 25%, transparent 0 50%, ${m} 0 75%, transparent 0)`,backgroundSize:`${h} ${h}`});var il=(h,m)=>{const{componentCls:C,borderRadiusSM:_,colorPickerInsetShadow:L,lineWidth:Z,colorFillSecondary:K}=h;return{[`${C}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:_,width:m,height:m,boxShadow:L,flex:"none"},La("50%",h.colorFillSecondary)),{[`${C}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,Ce.bf)(Z)} ${K}`,borderRadius:"inherit"}})}},ol=h=>{const{componentCls:m,antCls:C,fontSizeSM:_,lineHeightSM:L,colorPickerAlphaInputWidth:Z,marginXXS:K,paddingXXS:G,controlHeightSM:ue,marginXS:me,fontSizeIcon:Ee,paddingXS:Se,colorTextPlaceholder:We,colorPickerInputNumberHandleWidth:Ae,lineWidth:et}=h;return{[`${m}-input-container`]:{display:"flex",[`${m}-steppers${C}-input-number`]:{fontSize:_,lineHeight:L,[`${C}-input-number-input`]:{paddingInlineStart:G,paddingInlineEnd:0},[`${C}-input-number-handler-wrap`]:{width:Ae}},[`${m}-steppers${m}-alpha-input`]:{flex:`0 0 ${(0,Ce.bf)(Z)}`,marginInlineStart:K},[`${m}-format-select${C}-select`]:{marginInlineEnd:me,width:"auto","&-single":{[`${C}-select-selector`]:{padding:0,border:0},[`${C}-select-arrow`]:{insetInlineEnd:0},[`${C}-select-selection-item`]:{paddingInlineEnd:h.calc(Ee).add(K).equal(),fontSize:_,lineHeight:(0,Ce.bf)(ue)},[`${C}-select-item-option-content`]:{fontSize:_,lineHeight:L},[`${C}-select-dropdown`]:{[`${C}-select-item`]:{minHeight:"auto"}}}},[`${m}-input`]:{gap:K,alignItems:"center",flex:1,width:0,[`${m}-hsb-input,${m}-rgb-input`]:{display:"flex",gap:K,alignItems:"center"},[`${m}-steppers`]:{flex:1},[`${m}-hex-input${C}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,Ce.bf)(Se)}`,[`${C}-input`]:{fontSize:_,textTransform:"uppercase",lineHeight:(0,Ce.bf)(h.calc(ue).sub(h.calc(et).mul(2)).equal())},[`${C}-input-prefix`]:{color:We}}}}}},jc=h=>{const{componentCls:m,controlHeightLG:C,borderRadiusSM:_,colorPickerInsetShadow:L,marginSM:Z,colorBgElevated:K,colorFillSecondary:G,lineWidthBold:ue,colorPickerHandlerSize:me}=h;return{userSelect:"none",[`${m}-select`]:{[`${m}-palette`]:{minHeight:h.calc(C).mul(4).equal(),overflow:"hidden",borderRadius:_},[`${m}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:L,inset:0},marginBottom:Z},[`${m}-handler`]:{width:me,height:me,border:`${(0,Ce.bf)(ue)} solid ${K}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${L}, 0 0 0 1px ${G}`}}},Eu=h=>{const{componentCls:m,antCls:C,colorTextQuaternary:_,paddingXXS:L,colorPickerPresetColorSize:Z,fontSizeSM:K,colorText:G,lineHeightSM:ue,lineWidth:me,borderRadius:Ee,colorFill:Se,colorWhite:We,marginXXS:Ae,paddingXS:et,fontHeightSM:ze}=h;return{[`${m}-presets`]:{[`${C}-collapse-item > ${C}-collapse-header`]:{padding:0,[`${C}-collapse-expand-icon`]:{height:ze,color:_,paddingInlineEnd:L}},[`${C}-collapse`]:{display:"flex",flexDirection:"column",gap:Ae},[`${C}-collapse-item > ${C}-collapse-content > ${C}-collapse-content-box`]:{padding:`${(0,Ce.bf)(et)} 0`},"&-label":{fontSize:K,color:G,lineHeight:ue},"&-items":{display:"flex",flexWrap:"wrap",gap:h.calc(Ae).mul(1.5).equal(),[`${m}-presets-color`]:{position:"relative",cursor:"pointer",width:Z,height:Z,"&::before":{content:'""',pointerEvents:"none",width:h.calc(Z).add(h.calc(me).mul(4)).equal(),height:h.calc(Z).add(h.calc(me).mul(4)).equal(),position:"absolute",top:h.calc(me).mul(-2).equal(),insetInlineStart:h.calc(me).mul(-2).equal(),borderRadius:Ee,border:`${(0,Ce.bf)(me)} solid transparent`,transition:`border-color ${h.motionDurationMid} ${h.motionEaseInBack}`},"&:hover::before":{borderColor:Se},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:h.calc(Z).div(13).mul(5).equal(),height:h.calc(Z).div(13).mul(8).equal(),border:`${(0,Ce.bf)(h.lineWidthBold)} solid ${h.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${h.motionDurationFast} ${h.motionEaseInBack}, opacity ${h.motionDurationFast}`},[`&${m}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:We,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${h.motionDurationMid} ${h.motionEaseOutBack} ${h.motionDurationFast}`},[`&${m}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:K,color:_}}}},sd=h=>{const{componentCls:m,colorPickerInsetShadow:C,colorBgElevated:_,colorFillSecondary:L,lineWidthBold:Z,colorPickerHandlerSizeSM:K,colorPickerSliderHeight:G,marginSM:ue,marginXS:me}=h,Ee=h.calc(K).sub(h.calc(Z).mul(2).equal()).equal(),Se=h.calc(K).add(h.calc(Z).mul(2).equal()).equal(),We={"&:after":{transform:"scale(1)",boxShadow:`${C}, 0 0 0 1px ${h.colorPrimaryActive}`}};return{[`${m}-slider`]:[La((0,Ce.bf)(G),h.colorFillSecondary),{margin:0,padding:0,height:G,borderRadius:h.calc(G).div(2).equal(),"&-rail":{height:G,borderRadius:h.calc(G).div(2).equal(),boxShadow:C},[`& ${m}-slider-handle`]:{width:Ee,height:Ee,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:Se,height:Se,borderRadius:"100%"},"&:after":{width:K,height:K,border:`${(0,Ce.bf)(Z)} solid ${_}`,boxShadow:`${C}, 0 0 0 1px ${L}`,outline:"none",insetInlineStart:h.calc(Z).mul(-1).equal(),top:h.calc(Z).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":We}}],[`${m}-slider-container`]:{display:"flex",gap:ue,marginBottom:ue,[`${m}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${m}-gradient-slider`]:{marginBottom:me,[`& ${m}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":We}}}};const Dd=(h,m,C)=>({borderInlineEndWidth:h.lineWidth,borderColor:m,boxShadow:`0 0 0 ${(0,Ce.bf)(h.controlOutlineWidth)} ${C}`,outline:0}),Yf=h=>{const{componentCls:m}=h;return{"&-rtl":{[`${m}-presets-color`]:{"&::after":{direction:"ltr"}},[`${m}-clear`]:{"&::after":{direction:"ltr"}}}}},Ld=(h,m,C)=>{const{componentCls:_,borderRadiusSM:L,lineWidth:Z,colorSplit:K,colorBorder:G,red6:ue}=h;return{[`${_}-clear`]:Object.assign(Object.assign({width:m,height:m,borderRadius:L,border:`${(0,Ce.bf)(Z)} solid ${K}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${h.motionDurationFast}`},C),{"&::after":{content:'""',position:"absolute",insetInlineEnd:h.calc(Z).mul(-1).equal(),top:h.calc(Z).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:ue},"&:hover":{borderColor:G}})}},Hu=h=>{const{componentCls:m,colorError:C,colorWarning:_,colorErrorHover:L,colorWarningHover:Z,colorErrorOutline:K,colorWarningOutline:G}=h;return{[`&${m}-status-error`]:{borderColor:C,"&:hover":{borderColor:L},[`&${m}-trigger-active`]:Object.assign({},Dd(h,C,K))},[`&${m}-status-warning`]:{borderColor:_,"&:hover":{borderColor:Z},[`&${m}-trigger-active`]:Object.assign({},Dd(h,_,G))}}},mh=h=>{const{componentCls:m,controlHeightLG:C,controlHeightSM:_,controlHeight:L,controlHeightXS:Z,borderRadius:K,borderRadiusSM:G,borderRadiusXS:ue,borderRadiusLG:me,fontSizeLG:Ee}=h;return{[`&${m}-lg`]:{minWidth:C,minHeight:C,borderRadius:me,[`${m}-color-block, ${m}-clear`]:{width:L,height:L,borderRadius:K},[`${m}-trigger-text`]:{fontSize:Ee}},[`&${m}-sm`]:{minWidth:_,minHeight:_,borderRadius:G,[`${m}-color-block, ${m}-clear`]:{width:Z,height:Z,borderRadius:ue},[`${m}-trigger-text`]:{lineHeight:(0,Ce.bf)(Z)}}}},od=h=>{const{antCls:m,componentCls:C,colorPickerWidth:_,colorPrimary:L,motionDurationMid:Z,colorBgElevated:K,colorTextDisabled:G,colorText:ue,colorBgContainerDisabled:me,borderRadius:Ee,marginXS:Se,marginSM:We,controlHeight:Ae,controlHeightSM:et,colorBgTextActive:ze,colorPickerPresetColorSize:Ke,colorPickerPreviewSize:pt,lineWidth:Ye,colorBorder:Ot,paddingXXS:gt,fontSize:Wt,colorPrimaryHover:un,controlOutline:Mn}=h;return[{[C]:Object.assign({[`${C}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:_,[`& > ${m}-divider`]:{margin:`${(0,Ce.bf)(We)} 0 ${(0,Ce.bf)(Se)}`}},[`${C}-panel`]:Object.assign({},jc(h))},sd(h)),il(h,pt)),ol(h)),Eu(h)),Ld(h,Ke,{marginInlineStart:"auto"})),{[`${C}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:Se}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:Ae,minHeight:Ae,borderRadius:Ee,border:`${(0,Ce.bf)(Ye)} solid ${Ot}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${Z}`,background:K,padding:h.calc(gt).sub(Ye).equal(),[`${C}-trigger-text`]:{marginInlineStart:Se,marginInlineEnd:h.calc(Se).sub(h.calc(gt).sub(Ye)).equal(),fontSize:Wt,color:ue,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:G}}},"&:hover":{borderColor:un},[`&${C}-trigger-active`]:Object.assign({},Dd(h,L,Mn)),"&-disabled":{color:G,background:me,cursor:"not-allowed","&:hover":{borderColor:ze},[`${C}-trigger-text`]:{color:G}}},Ld(h,et)),il(h,et)),Hu(h)),mh(h))},Yf(h))},(0,Qu.c)(h,{focusElCls:`${C}-trigger-active`})]};var vh=(0,kt.I$)("ColorPicker",h=>{const{colorTextQuaternary:m,marginSM:C}=h,_=8,L=(0,mt.IX)(h,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${m}`,colorPickerSliderHeight:_,colorPickerPreviewSize:h.calc(_).mul(2).add(C).equal()});return[od(L)]}),pg=function(h,m){var C={};for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&m.indexOf(_)<0&&(C[_]=h[_]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,_=Object.getOwnPropertySymbols(h);L<_.length;L++)m.indexOf(_[L])<0&&Object.prototype.propertyIsEnumerable.call(h,_[L])&&(C[_[L]]=h[_[L]]);return C};const yh=h=>{const{mode:m,value:C,defaultValue:_,format:L,defaultFormat:Z,allowClear:K=!1,presets:G,children:ue,trigger:me="click",open:Ee,disabled:Se,placement:We="bottomLeft",arrow:Ae=!0,panelRender:et,showText:ze,style:Ke,className:pt,size:Ye,rootClassName:Ot,prefixCls:gt,styles:Wt,disabledAlpha:un=!1,onFormatChange:Mn,onChange:An,onClear:Jn,onOpenChange:En,onChangeComplete:$n,getPopupContainer:wn,autoAdjustOverflow:ui=!0,destroyTooltipOnHide:Gn}=h,li=pg(h,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide"]),{getPrefixCls:ci,direction:gi,colorPicker:Bn}=(0,u.useContext)(X.E_),Ti=(0,u.useContext)(j.Z),Qi=Se!=null?Se:Ti,[rs,lo]=(0,de.Z)(!1,{value:Ee,postState:Ra=>!Qi&&Ra,onChange:En}),[Zs,es]=(0,de.Z)(L,{value:L,defaultValue:Z,onChange:Mn}),lr=ci("color-picker",gt),[ws,Er,Zr,bs,Ii]=wa(_,C,m),ei=(0,u.useMemo)(()=>bl(ws)<100,[ws]),[Cr,ts]=u.useState(null),Bi=Ra=>{if($n){let aa=uo(Ra);un&&ei&&(aa=ka(Ra)),$n(aa)}},Br=(Ra,aa)=>{let va=uo(Ra);un&&ei&&(va=ka(va)),Er(va),ts(null),An&&An(va,va.toCssString()),aa||Bi(va)},[ls,dr]=u.useState(0),[ps,Ur]=u.useState(!1),Jo=Ra=>{if(bs(Ra),Ra==="single"&&ws.isGradient())dr(0),Br(new Vr(ws.getColors()[0].color)),ts(ws);else if(Ra==="gradient"&&!ws.isGradient()){const aa=ei?ka(ws):ws;Br(new Vr(Cr||[{percent:0,color:aa},{percent:100,color:aa}]))}},{status:Gs}=u.useContext(st.aM),{compactSize:Fs,compactItemClassnames:br}=(0,Hn.ri)(lr,gi),Xs=(0,ft.Z)(Ra=>{var aa;return(aa=Ye!=null?Ye:Fs)!==null&&aa!==void 0?aa:Ra}),fo=(0,he.Z)(lr),[$s,ro,Wo]=vh(lr,fo),Co={[`${lr}-rtl`]:gi},fa=$()(Ot,Wo,fo,Co),Ba=$()((0,ee.Z)(lr,Gs),{[`${lr}-sm`]:Xs==="small",[`${lr}-lg`]:Xs==="large"},br,Bn==null?void 0:Bn.className,fa,pt,ro),Ha=$()(lr,fa),Pa={open:rs,trigger:me,placement:We,arrow:Ae,rootClassName:Ot,getPopupContainer:wn,autoAdjustOverflow:ui,destroyTooltipOnHide:Gn},Xa=Object.assign(Object.assign({},Bn==null?void 0:Bn.style),Ke);return $s(u.createElement(kr,Object.assign({style:Wt==null?void 0:Wt.popup,overlayInnerStyle:Wt==null?void 0:Wt.popupOverlayInner,onOpenChange:Ra=>{(!Ra||!Qi)&&lo(Ra)},content:u.createElement(Qe.Z,{form:!0},u.createElement(Mr,{mode:Zr,onModeChange:Jo,modeOptions:Ii,prefixCls:lr,value:ws,allowClear:K,disabled:Qi,disabledAlpha:un,presets:G,panelRender:et,format:Zs,onFormatChange:es,onChange:Br,onChangeComplete:Bi,onClear:Jn,activeIndex:ls,onActive:dr,gradientDragging:ps,onGradientDragging:Ur})),overlayClassName:Ha},Pa),ue||u.createElement(ks,Object.assign({activeIndex:rs?ls:-1,open:rs,className:Ba,style:Xa,prefixCls:lr,disabled:Qi,showText:ze,format:Zs},li,{color:ws}))))},Vu=(0,fe.Z)(yh,"color-picker",h=>h,h=>Object.assign(Object.assign({},h),{placement:"bottom",autoAdjustOverflow:!1}));yh._InternalPanelDoNotUseOrYouWillBeFired=Vu;var Qm=yh,ev=Qm},82961:function(Ci,At,I){"use strict";I.d(At,{n:function(){return $}});var u=I(75271);const q=u.createContext(!1),$=de=>{let{children:Qe,disabled:fe}=de;const ee=u.useContext(q);return u.createElement(q.Provider,{value:fe!=null?fe:ee},Qe)};At.Z=q},36176:function(Ci,At,I){"use strict";I.d(At,{q:function(){return $}});var u=I(75271);const q=u.createContext(void 0),$=de=>{let{children:Qe,size:fe}=de;const ee=u.useContext(q);return u.createElement(q.Provider,{value:fe||ee},Qe)};At.Z=q},1800:function(Ci,At,I){"use strict";I.d(At,{E_:function(){return fe},Rf:function(){return q},oR:function(){return $},tr:function(){return de}});var u=I(75271);const q="ant",$="anticon",de=["outlined","borderless","filled"],Qe=(X,j)=>j||(X?`${q}-${X}`:q),fe=u.createContext({getPrefixCls:Qe,iconPrefixCls:$}),{Consumer:ee}=fe},38785:function(Ci,At,I){"use strict";var u=I(91556);const q=$=>{const[,,,,de]=(0,u.ZP)();return de?`${$}-css-var`:""};At.Z=q},57892:function(Ci,At,I){"use strict";var u=I(75271),q=I(36176);const $=de=>{const Qe=u.useContext(q.Z);return u.useMemo(()=>de?typeof de=="string"?de!=null?de:Qe:de instanceof Function?de(Qe):Qe:Qe,[de,Qe])};At.Z=$},97045:function(Ci,At,I){"use strict";I.d(At,{ZP:function(){return mr},w6:function(){return dn}});var u=I(75271),q=I.t(u,2),$=I(40322),de=I(45211),Qe=I(95410),fe=I(67502),ee=I(6852),X=(0,u.createContext)(void 0),j=I(98495),he=I(10711);const ft="internalMark";var oe=bi=>{const{locale:qn={},children:Fi,_ANT_MARK__:pn}=bi;u.useEffect(()=>(0,j.f)(qn==null?void 0:qn.Modal),[qn]);const it=u.useMemo(()=>Object.assign(Object.assign({},qn),{exist:!0}),[qn]);return u.createElement(he.Z.Provider,{value:it},Fi)},ct=I(81001),xe=I(99510),ne=I(18619),Be=I(1800),Oe=I(75875),Ce=I(99978),at=I(71254),re=I(61984);const we=`-ant-${Date.now()}-${Math.random()}`;function Ue(bi,qn){const Fi={},pn=(nr,zr)=>{let kr=nr.clone();return kr=(zr==null?void 0:zr(kr))||kr,kr.toRgbString()},it=(nr,zr)=>{const kr=new Ce.C(nr),Hn=(0,Oe.R_)(kr.toRgbString());Fi[`${zr}-color`]=pn(kr),Fi[`${zr}-color-disabled`]=Hn[1],Fi[`${zr}-color-hover`]=Hn[4],Fi[`${zr}-color-active`]=Hn[6],Fi[`${zr}-color-outline`]=kr.clone().setAlpha(.2).toRgbString(),Fi[`${zr}-color-deprecated-bg`]=Hn[0],Fi[`${zr}-color-deprecated-border`]=Hn[2]};if(qn.primaryColor){it(qn.primaryColor,"primary");const nr=new Ce.C(qn.primaryColor),zr=(0,Oe.R_)(nr.toRgbString());zr.forEach((Hn,ce)=>{Fi[`primary-${ce+1}`]=Hn}),Fi["primary-color-deprecated-l-35"]=pn(nr,Hn=>Hn.lighten(35)),Fi["primary-color-deprecated-l-20"]=pn(nr,Hn=>Hn.lighten(20)),Fi["primary-color-deprecated-t-20"]=pn(nr,Hn=>Hn.tint(20)),Fi["primary-color-deprecated-t-50"]=pn(nr,Hn=>Hn.tint(50)),Fi["primary-color-deprecated-f-12"]=pn(nr,Hn=>Hn.setAlpha(Hn.getAlpha()*.12));const kr=new Ce.C(zr[0]);Fi["primary-color-active-deprecated-f-30"]=pn(kr,Hn=>Hn.setAlpha(Hn.getAlpha()*.3)),Fi["primary-color-active-deprecated-d-02"]=pn(kr,Hn=>Hn.darken(2))}return qn.successColor&&it(qn.successColor,"success"),qn.warningColor&&it(qn.warningColor,"warning"),qn.errorColor&&it(qn.errorColor,"error"),qn.infoColor&&it(qn.infoColor,"info"),`
  :root {
    ${Object.keys(Fi).map(nr=>`--${bi}-${nr}: ${Fi[nr]};`).join(`
`)}
  }
  `.trim()}function E(bi,qn){const Fi=Ue(bi,qn);(0,at.Z)()&&(0,re.hq)(Fi,`${we}-dynamic-theme`)}var tt=I(82961),Ie=I(36176);function Le(){const bi=(0,u.useContext)(tt.Z),qn=(0,u.useContext)(Ie.Z);return{componentDisabled:bi,componentSize:qn}}var bt=Le,en=I(19088);const lt=Object.assign({},q),{useId:Ht}=lt;var Rt=typeof Ht=="undefined"?()=>"":Ht;function ut(bi,qn,Fi){var pn,it;const Vs=(0,ee.ln)("ConfigProvider"),nr=bi||{},zr=nr.inherit===!1||!qn?Object.assign(Object.assign({},xe.u_),{hashed:(pn=qn==null?void 0:qn.hashed)!==null&&pn!==void 0?pn:xe.u_.hashed,cssVar:qn==null?void 0:qn.cssVar}):qn,kr=Rt();return(0,Qe.Z)(()=>{var Hn,ce;if(!bi)return qn;const Qt=Object.assign({},zr.components);Object.keys(bi.components||{}).forEach(on=>{Qt[on]=Object.assign(Object.assign({},Qt[on]),bi.components[on])});const gn=`css-var-${kr.replace(/:/g,"")}`,Ft=((Hn=nr.cssVar)!==null&&Hn!==void 0?Hn:zr.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:Fi==null?void 0:Fi.prefixCls},typeof zr.cssVar=="object"?zr.cssVar:{}),typeof nr.cssVar=="object"?nr.cssVar:{}),{key:typeof nr.cssVar=="object"&&((ce=nr.cssVar)===null||ce===void 0?void 0:ce.key)||gn});return Object.assign(Object.assign(Object.assign({},zr),nr),{token:Object.assign(Object.assign({},zr.token),nr.token),components:Qt,cssVar:Ft})},[nr,zr],(Hn,ce)=>Hn.some((Qt,gn)=>{const Ft=ce[gn];return!(0,en.Z)(Qt,Ft,!0)}))}var Ge=I(61435),ot=I(91556);function mt(bi){const{children:qn}=bi,[,Fi]=(0,ot.ZP)(),{motion:pn}=Fi,it=u.useRef(!1);return it.current=it.current||pn===!1,it.current?u.createElement(Ge.zt,{motion:pn},qn):qn}const kt=null;var qt=()=>null,Yn=I(23560),_n=function(bi,qn){var Fi={};for(var pn in bi)Object.prototype.hasOwnProperty.call(bi,pn)&&qn.indexOf(pn)<0&&(Fi[pn]=bi[pn]);if(bi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,pn=Object.getOwnPropertySymbols(bi);it<pn.length;it++)qn.indexOf(pn[it])<0&&Object.prototype.propertyIsEnumerable.call(bi,pn[it])&&(Fi[pn[it]]=bi[pn[it]]);return Fi};let Lt=!1;const Kn=null,ln=null,Gt=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Bt,Nn,Pt,rn;function cn(){return Bt||Be.Rf}function zi(){return Nn||Be.oR}function Mi(bi){return Object.keys(bi).some(qn=>qn.endsWith("Color"))}const as=bi=>{const{prefixCls:qn,iconPrefixCls:Fi,theme:pn,holderRender:it}=bi;qn!==void 0&&(Bt=qn),Fi!==void 0&&(Nn=Fi),"holderRender"in bi&&(rn=it),pn&&(Mi(pn)?E(cn(),pn):Pt=pn)},dn=()=>({getPrefixCls:(bi,qn)=>qn||(bi?`${cn()}-${bi}`:cn()),getIconPrefixCls:zi,getRootPrefixCls:()=>Bt||cn(),getTheme:()=>Pt,holderRender:rn}),Rr=bi=>{const{children:qn,csp:Fi,autoInsertSpaceInButton:pn,alert:it,anchor:Vs,form:nr,locale:zr,componentSize:kr,direction:Hn,space:ce,virtual:Qt,dropdownMatchSelectWidth:gn,popupMatchSelectWidth:Ft,popupOverflow:on,legacyLocale:Cn,parentContext:Or,iconPrefixCls:ds,theme:io,componentDisabled:$r,segmented:fr,statistic:ir,spin:_r,calendar:hs,carousel:dt,cascader:vt,collapse:Ut,typography:ti,checkbox:Si,descriptions:Li,divider:Ds,drawer:Sr,skeleton:Ls,steps:Us,image:As,layout:yo,list:Ss,mentions:wo,modal:Mo,progress:It,result:Rn,slider:zn,breadcrumb:an,menu:Vn,pagination:Dn,input:ri,textArea:Ni,empty:Hr,badge:pr,radio:Ir,rate:vr,switch:zs,transfer:so,avatar:Xr,message:Ws,tag:jo,table:Js,card:Qs,tabs:_i,timeline:eo,timePicker:js,upload:Ps,notification:Vr,tree:Wr,colorPicker:Hi,datePicker:qr,rangePicker:Jr,flex:gr,wave:oo,dropdown:Yi,warning:to,tour:Ho,floatButtonGroup:Ns,variant:Zo,inputNumber:Go,treeSelect:ys}=bi,qi=u.useCallback((Po,zo)=>{const{prefixCls:Eo}=bi;if(zo)return zo;const ma=Eo||Or.getPrefixCls("");return Po?`${ma}-${Po}`:ma},[Or.getPrefixCls,bi.prefixCls]),Ui=ds||Or.iconPrefixCls||Be.oR,Ei=Fi||Or.csp;(0,Yn.Z)(Ui,Ei);const xo=ut(io,Or.theme,{prefixCls:qi("")}),Os={csp:Ei,autoInsertSpaceInButton:pn,alert:it,anchor:Vs,locale:zr||Cn,direction:Hn,space:ce,virtual:Qt,popupMatchSelectWidth:Ft!=null?Ft:gn,popupOverflow:on,getPrefixCls:qi,iconPrefixCls:Ui,theme:xo,segmented:fr,statistic:ir,spin:_r,calendar:hs,carousel:dt,cascader:vt,collapse:Ut,typography:ti,checkbox:Si,descriptions:Li,divider:Ds,drawer:Sr,skeleton:Ls,steps:Us,image:As,input:ri,textArea:Ni,layout:yo,list:Ss,mentions:wo,modal:Mo,progress:It,result:Rn,slider:zn,breadcrumb:an,menu:Vn,pagination:Dn,empty:Hr,badge:pr,radio:Ir,rate:vr,switch:zs,transfer:so,avatar:Xr,message:Ws,tag:jo,table:Js,card:Qs,tabs:_i,timeline:eo,timePicker:js,upload:Ps,notification:Vr,tree:Wr,colorPicker:Hi,datePicker:qr,rangePicker:Jr,flex:gr,wave:oo,dropdown:Yi,warning:to,tour:Ho,floatButtonGroup:Ns,variant:Zo,inputNumber:Go,treeSelect:ys},Xo=Object.assign({},Or);Object.keys(Os).forEach(Po=>{Os[Po]!==void 0&&(Xo[Po]=Os[Po])}),Gt.forEach(Po=>{const zo=bi[Po];zo&&(Xo[Po]=zo)}),typeof pn!="undefined"&&(Xo.button=Object.assign({autoInsertSpace:pn},Xo.button));const Ks=(0,Qe.Z)(()=>Xo,Xo,(Po,zo)=>{const Eo=Object.keys(Po),ma=Object.keys(zo);return Eo.length!==ma.length||Eo.some(uo=>Po[uo]!==zo[uo])}),Ea=u.useMemo(()=>({prefixCls:Ui,csp:Ei}),[Ui,Ei]);let Ao=u.createElement(u.Fragment,null,u.createElement(qt,{dropdownMatchSelectWidth:gn}),qn);const bo=u.useMemo(()=>{var Po,zo,Eo,ma;return(0,fe.T)(((Po=ct.Z.Form)===null||Po===void 0?void 0:Po.defaultValidateMessages)||{},((Eo=(zo=Ks.locale)===null||zo===void 0?void 0:zo.Form)===null||Eo===void 0?void 0:Eo.defaultValidateMessages)||{},((ma=Ks.form)===null||ma===void 0?void 0:ma.validateMessages)||{},(nr==null?void 0:nr.validateMessages)||{})},[Ks,nr==null?void 0:nr.validateMessages]);Object.keys(bo).length>0&&(Ao=u.createElement(X.Provider,{value:bo},Ao)),zr&&(Ao=u.createElement(oe,{locale:zr,_ANT_MARK__:ft},Ao)),(Ui||Ei)&&(Ao=u.createElement(de.Z.Provider,{value:Ea},Ao)),kr&&(Ao=u.createElement(Ie.q,{size:kr},Ao)),Ao=u.createElement(mt,null,Ao);const Yo=u.useMemo(()=>{const Po=xo||{},{algorithm:zo,token:Eo,components:ma,cssVar:uo}=Po,Wa=_n(Po,["algorithm","token","components","cssVar"]),bl=zo&&(!Array.isArray(zo)||zo.length>0)?(0,$.jG)(zo):xe.uH,ka={};Object.entries(ma||{}).forEach(ic=>{let[ja,hl]=ic;const na=Object.assign({},hl);"algorithm"in na&&(na.algorithm===!0?na.theme=bl:(Array.isArray(na.algorithm)||typeof na.algorithm=="function")&&(na.theme=(0,$.jG)(na.algorithm)),delete na.algorithm),ka[ja]=na});const Al=Object.assign(Object.assign({},ne.Z),Eo);return Object.assign(Object.assign({},Wa),{theme:bl,token:Al,components:ka,override:Object.assign({override:Al},ka),cssVar:uo})},[xo]);return io&&(Ao=u.createElement(xe.Mj.Provider,{value:Yo},Ao)),Ks.warning&&(Ao=u.createElement(ee.G8.Provider,{value:Ks.warning},Ao)),$r!==void 0&&(Ao=u.createElement(tt.n,{disabled:$r},Ao)),u.createElement(Be.E_.Provider,{value:Ks},Ao)},is=bi=>{const qn=u.useContext(Be.E_),Fi=u.useContext(he.Z);return u.createElement(Rr,Object.assign({parentContext:qn,legacyLocale:Fi},bi))};is.ConfigContext=Be.E_,is.SizeContext=Ie.Z,is.config=as,is.useConfig=bt,Object.defineProperty(is,"SizeContext",{get:()=>Ie.Z});var mr=is},26579:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return ct}});var u=I(75271),q=I(82187),$=I.n(q),de=I(1800),Qe=I(40322),fe=I(10500),ee=I(9199),X=I(76950);const j=xe=>{const{componentCls:ne,sizePaddingEdgeHorizontal:Be,colorSplit:Oe,lineWidth:Ce,textPaddingInline:at,orientationMargin:re,verticalMarginInline:we}=xe;return{[ne]:Object.assign(Object.assign({},(0,fe.Wf)(xe)),{borderBlockStart:`${(0,Qe.bf)(Ce)} solid ${Oe}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:we,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,Qe.bf)(Ce)} solid ${Oe}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,Qe.bf)(xe.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${ne}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,Qe.bf)(xe.dividerHorizontalWithTextGutterMargin)} 0`,color:xe.colorTextHeading,fontWeight:500,fontSize:xe.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${Oe}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,Qe.bf)(Ce)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${ne}-with-text-left`]:{"&::before":{width:`calc(${re} * 100%)`},"&::after":{width:`calc(100% - ${re} * 100%)`}},[`&-horizontal${ne}-with-text-right`]:{"&::before":{width:`calc(100% - ${re} * 100%)`},"&::after":{width:`calc(${re} * 100%)`}},[`${ne}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:at},"&-dashed":{background:"none",borderColor:Oe,borderStyle:"dashed",borderWidth:`${(0,Qe.bf)(Ce)} 0 0`},[`&-horizontal${ne}-with-text${ne}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${ne}-dashed`]:{borderInlineStartWidth:Ce,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:Oe,borderStyle:"dotted",borderWidth:`${(0,Qe.bf)(Ce)} 0 0`},[`&-horizontal${ne}-with-text${ne}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${ne}-dotted`]:{borderInlineStartWidth:Ce,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${ne}-with-text`]:{color:xe.colorText,fontWeight:"normal",fontSize:xe.fontSize},[`&-horizontal${ne}-with-text-left${ne}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${ne}-inner-text`]:{paddingInlineStart:Be}},[`&-horizontal${ne}-with-text-right${ne}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${ne}-inner-text`]:{paddingInlineEnd:Be}}})}},he=xe=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:xe.marginXS});var ft=(0,ee.I$)("Divider",xe=>{const ne=(0,X.IX)(xe,{dividerHorizontalWithTextGutterMargin:xe.margin,dividerHorizontalGutterMargin:xe.marginLG,sizePaddingEdgeHorizontal:0});return[j(ne)]},he,{unitless:{orientationMargin:!0}}),st=function(xe,ne){var Be={};for(var Oe in xe)Object.prototype.hasOwnProperty.call(xe,Oe)&&ne.indexOf(Oe)<0&&(Be[Oe]=xe[Oe]);if(xe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ce=0,Oe=Object.getOwnPropertySymbols(xe);Ce<Oe.length;Ce++)ne.indexOf(Oe[Ce])<0&&Object.prototype.propertyIsEnumerable.call(xe,Oe[Ce])&&(Be[Oe[Ce]]=xe[Oe[Ce]]);return Be},ct=xe=>{const{getPrefixCls:ne,direction:Be,divider:Oe}=u.useContext(de.E_),{prefixCls:Ce,type:at="horizontal",orientation:re="center",orientationMargin:we,className:Ue,rootClassName:E,children:tt,dashed:Ie,variant:Le="solid",plain:bt,style:en}=xe,lt=st(xe,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),Ht=ne("divider",Ce),[Pn,vi,Rt]=ft(Ht),ut=!!tt,Ge=re==="left"&&we!=null,ot=re==="right"&&we!=null,mt=$()(Ht,Oe==null?void 0:Oe.className,vi,Rt,`${Ht}-${at}`,{[`${Ht}-with-text`]:ut,[`${Ht}-with-text-${re}`]:ut,[`${Ht}-dashed`]:!!Ie,[`${Ht}-${Le}`]:Le!=="solid",[`${Ht}-plain`]:!!bt,[`${Ht}-rtl`]:Be==="rtl",[`${Ht}-no-default-orientation-margin-left`]:Ge,[`${Ht}-no-default-orientation-margin-right`]:ot},Ue,E),kt=u.useMemo(()=>typeof we=="number"?we:/^\d+$/.test(we)?Number(we):we,[we]),qt=Object.assign(Object.assign({},Ge&&{marginLeft:kt}),ot&&{marginRight:kt});return Pn(u.createElement("div",Object.assign({className:mt,style:Object.assign(Object.assign({},Oe==null?void 0:Oe.style),en)},lt,{role:"separator"}),tt&&at!=="vertical"&&u.createElement("span",{className:`${Ht}-inner-text`,style:qt},tt)))}},23754:function(Ci,At,I){"use strict";I.d(At,{aM:function(){return Za},Ux:function(){return $a},pg:function(){return Pl}});var u=I(75271),q=I(89856),$=I(58424),de=I(31880),Qe=I(29608),fe=I(88598),ee=I(40665),X=I(71479),j=I(38172),he=I(10037),ft=I(14280),st=I(37747),oe=I(30985),ct=I(22615),xe=I(19088),ne=I(7432),Be="RC_FORM_INTERNAL_HOOKS",Oe=function(){(0,ne.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ce=u.createContext({getFieldValue:Oe,getFieldsValue:Oe,getFieldError:Oe,getFieldWarning:Oe,getFieldsError:Oe,isFieldsTouched:Oe,isFieldTouched:Oe,isFieldValidating:Oe,isFieldsValidating:Oe,resetFields:Oe,setFields:Oe,setFieldValue:Oe,setFieldsValue:Oe,validateFields:Oe,submit:Oe,getInternalHooks:function(){return Oe(),{dispatch:Oe,initEntityValue:Oe,registerField:Oe,useSubscribe:Oe,setInitialValues:Oe,destroyForm:Oe,setCallbacks:Oe,registerWatch:Oe,getFields:Oe,setValidateMessages:Oe,setPreserve:Oe,getInitialValue:Oe}}}),at=Ce,re=u.createContext(null),we=re;function Ue(Ze){return Ze==null?[]:Array.isArray(Ze)?Ze:[Ze]}function E(Ze){return Ze&&!!Ze._init}var tt=I(63194);function Ie(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var te=JSON.parse(JSON.stringify(this));return te.clone=this.clone,te}}}var Le=Ie(),bt=I(82456),en=I(36891);function lt(Ze){try{return Function.toString.call(Ze).indexOf("[native code]")!==-1}catch(te){return typeof Ze=="function"}}var Ht=I(6531);function Pn(Ze,te,H){if((0,Ht.Z)())return Reflect.construct.apply(null,arguments);var le=[null];le.push.apply(le,te);var ie=new(Ze.bind.apply(Ze,le));return H&&(0,en.Z)(ie,H.prototype),ie}function vi(Ze){var te=typeof Map=="function"?new Map:void 0;return vi=function(le){if(le===null||!lt(le))return le;if(typeof le!="function")throw new TypeError("Super expression must either be null or a function");if(te!==void 0){if(te.has(le))return te.get(le);te.set(le,ie)}function ie(){return Pn(le,arguments,(0,bt.Z)(this).constructor)}return ie.prototype=Object.create(le.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),(0,en.Z)(ie,le)},vi(Ze)}var Rt=I(14224),ut=/%[sdj%]/g,Ge=function(){};function ot(Ze){if(!Ze||!Ze.length)return null;var te={};return Ze.forEach(function(H){var le=H.field;te[le]=te[le]||[],te[le].push(H)}),te}function mt(Ze){for(var te=arguments.length,H=new Array(te>1?te-1:0),le=1;le<te;le++)H[le-1]=arguments[le];var ie=0,$e=H.length;if(typeof Ze=="function")return Ze.apply(null,H);if(typeof Ze=="string"){var Fe=Ze.replace(ut,function(zt){if(zt==="%%")return"%";if(ie>=$e)return zt;switch(zt){case"%s":return String(H[ie++]);case"%d":return Number(H[ie++]);case"%j":try{return JSON.stringify(H[ie++])}catch(sn){return"[Circular]"}break;default:return zt}});return Fe}return Ze}function kt(Ze){return Ze==="string"||Ze==="url"||Ze==="hex"||Ze==="email"||Ze==="date"||Ze==="pattern"}function qt(Ze,te){return!!(Ze==null||te==="array"&&Array.isArray(Ze)&&!Ze.length||kt(te)&&typeof Ze=="string"&&!Ze)}function Yn(Ze){return Object.keys(Ze).length===0}function _n(Ze,te,H){var le=[],ie=0,$e=Ze.length;function Fe(zt){le.push.apply(le,(0,ee.Z)(zt||[])),ie++,ie===$e&&H(le)}Ze.forEach(function(zt){te(zt,Fe)})}function Lt(Ze,te,H){var le=0,ie=Ze.length;function $e(Fe){if(Fe&&Fe.length){H(Fe);return}var zt=le;le=le+1,zt<ie?te(Ze[zt],$e):H([])}$e([])}function Kn(Ze){var te=[];return Object.keys(Ze).forEach(function(H){te.push.apply(te,(0,ee.Z)(Ze[H]||[]))}),te}var ln=function(Ze){(0,ft.Z)(H,Ze);var te=(0,st.Z)(H);function H(le,ie){var $e;return(0,X.Z)(this,H),$e=te.call(this,"Async Validation Error"),(0,oe.Z)((0,he.Z)($e),"errors",void 0),(0,oe.Z)((0,he.Z)($e),"fields",void 0),$e.errors=le,$e.fields=ie,$e}return(0,j.Z)(H)}(vi(Error));function Gt(Ze,te,H,le,ie){if(te.first){var $e=new Promise(function(b,T){var D=function(J){return le(J),J.length?T(new ln(J,ot(J))):b(ie)},k=Kn(Ze);Lt(k,H,D)});return $e.catch(function(b){return b}),$e}var Fe=te.firstFields===!0?Object.keys(Ze):te.firstFields||[],zt=Object.keys(Ze),sn=zt.length,On=0,Yt=[],g=new Promise(function(b,T){var D=function(z){if(Yt.push.apply(Yt,z),On++,On===sn)return le(Yt),Yt.length?T(new ln(Yt,ot(Yt))):b(ie)};zt.length||(le(Yt),b(ie)),zt.forEach(function(k){var z=Ze[k];Fe.indexOf(k)!==-1?Lt(z,H,D):_n(z,H,D)})});return g.catch(function(b){return b}),g}function Bt(Ze){return!!(Ze&&Ze.message!==void 0)}function Nn(Ze,te){for(var H=Ze,le=0;le<te.length;le++){if(H==null)return H;H=H[te[le]]}return H}function Pt(Ze,te){return function(H){var le;return Ze.fullFields?le=Nn(te,Ze.fullFields):le=te[H.field||Ze.fullField],Bt(H)?(H.field=H.field||Ze.fullField,H.fieldValue=le,H):{message:typeof H=="function"?H():H,fieldValue:le,field:H.field||Ze.fullField}}}function rn(Ze,te){if(te){for(var H in te)if(te.hasOwnProperty(H)){var le=te[H];(0,tt.Z)(le)==="object"&&(0,tt.Z)(Ze[H])==="object"?Ze[H]=(0,fe.Z)((0,fe.Z)({},Ze[H]),le):Ze[H]=le}}return Ze}var cn="enum",zi=function(te,H,le,ie,$e){te[cn]=Array.isArray(te[cn])?te[cn]:[],te[cn].indexOf(H)===-1&&ie.push(mt($e.messages[cn],te.fullField,te[cn].join(", ")))},Mi=zi,as=function(te,H,le,ie,$e){if(te.pattern){if(te.pattern instanceof RegExp)te.pattern.lastIndex=0,te.pattern.test(H)||ie.push(mt($e.messages.pattern.mismatch,te.fullField,H,te.pattern));else if(typeof te.pattern=="string"){var Fe=new RegExp(te.pattern);Fe.test(H)||ie.push(mt($e.messages.pattern.mismatch,te.fullField,H,te.pattern))}}},dn=as,Rr=function(te,H,le,ie,$e){var Fe=typeof te.len=="number",zt=typeof te.min=="number",sn=typeof te.max=="number",On=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yt=H,g=null,b=typeof H=="number",T=typeof H=="string",D=Array.isArray(H);if(b?g="number":T?g="string":D&&(g="array"),!g)return!1;D&&(Yt=H.length),T&&(Yt=H.replace(On,"_").length),Fe?Yt!==te.len&&ie.push(mt($e.messages[g].len,te.fullField,te.len)):zt&&!sn&&Yt<te.min?ie.push(mt($e.messages[g].min,te.fullField,te.min)):sn&&!zt&&Yt>te.max?ie.push(mt($e.messages[g].max,te.fullField,te.max)):zt&&sn&&(Yt<te.min||Yt>te.max)&&ie.push(mt($e.messages[g].range,te.fullField,te.min,te.max))},is=Rr,mr=function(te,H,le,ie,$e,Fe){te.required&&(!le.hasOwnProperty(te.field)||qt(H,Fe||te.type))&&ie.push(mt($e.messages.required,te.fullField))},bi=mr,qn,Fi=function(){if(qn)return qn;var Ze="[a-fA-F\\d:]",te=function(tn){return tn&&tn.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(Ze,")|(?<=").concat(Ze,")(?=\\s|$))"):""},H="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",le="[a-fA-F\\d]{1,4}",ie=["(?:".concat(le,":){7}(?:").concat(le,"|:)"),"(?:".concat(le,":){6}(?:").concat(H,"|:").concat(le,"|:)"),"(?:".concat(le,":){5}(?::").concat(H,"|(?::").concat(le,"){1,2}|:)"),"(?:".concat(le,":){4}(?:(?::").concat(le,"){0,1}:").concat(H,"|(?::").concat(le,"){1,3}|:)"),"(?:".concat(le,":){3}(?:(?::").concat(le,"){0,2}:").concat(H,"|(?::").concat(le,"){1,4}|:)"),"(?:".concat(le,":){2}(?:(?::").concat(le,"){0,3}:").concat(H,"|(?::").concat(le,"){1,5}|:)"),"(?:".concat(le,":){1}(?:(?::").concat(le,"){0,4}:").concat(H,"|(?::").concat(le,"){1,6}|:)"),"(?::(?:(?::".concat(le,"){0,5}:").concat(H,"|(?::").concat(le,"){1,7}|:))")],$e="(?:%[0-9a-zA-Z]{1,})?",Fe="(?:".concat(ie.join("|"),")").concat($e),zt=new RegExp("(?:^".concat(H,"$)|(?:^").concat(Fe,"$)")),sn=new RegExp("^".concat(H,"$")),On=new RegExp("^".concat(Fe,"$")),Yt=function(tn){return tn&&tn.exact?zt:new RegExp("(?:".concat(te(tn)).concat(H).concat(te(tn),")|(?:").concat(te(tn)).concat(Fe).concat(te(tn),")"),"g")};Yt.v4=function(Dt){return Dt&&Dt.exact?sn:new RegExp("".concat(te(Dt)).concat(H).concat(te(Dt)),"g")},Yt.v6=function(Dt){return Dt&&Dt.exact?On:new RegExp("".concat(te(Dt)).concat(Fe).concat(te(Dt)),"g")};var g="(?:(?:[a-z]+:)?//)",b="(?:\\S+(?::\\S*)?@)?",T=Yt.v4().source,D=Yt.v6().source,k="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",z="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",J="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_e="(?::\\d{2,5})?",Me='(?:[/?#][^\\s"]*)?',He="(?:".concat(g,"|www\\.)").concat(b,"(?:localhost|").concat(T,"|").concat(D,"|").concat(k).concat(z).concat(J,")").concat(_e).concat(Me);return qn=new RegExp("(?:^".concat(He,"$)"),"i"),qn},pn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},it={integer:function(te){return it.number(te)&&parseInt(te,10)===te},float:function(te){return it.number(te)&&!it.integer(te)},array:function(te){return Array.isArray(te)},regexp:function(te){if(te instanceof RegExp)return!0;try{return!!new RegExp(te)}catch(H){return!1}},date:function(te){return typeof te.getTime=="function"&&typeof te.getMonth=="function"&&typeof te.getYear=="function"&&!isNaN(te.getTime())},number:function(te){return isNaN(te)?!1:typeof te=="number"},object:function(te){return(0,tt.Z)(te)==="object"&&!it.array(te)},method:function(te){return typeof te=="function"},email:function(te){return typeof te=="string"&&te.length<=320&&!!te.match(pn.email)},url:function(te){return typeof te=="string"&&te.length<=2048&&!!te.match(Fi())},hex:function(te){return typeof te=="string"&&!!te.match(pn.hex)}},Vs=function(te,H,le,ie,$e){if(te.required&&H===void 0){bi(te,H,le,ie,$e);return}var Fe=["integer","float","array","regexp","object","method","email","number","date","url","hex"],zt=te.type;Fe.indexOf(zt)>-1?it[zt](H)||ie.push(mt($e.messages.types[zt],te.fullField,te.type)):zt&&(0,tt.Z)(H)!==te.type&&ie.push(mt($e.messages.types[zt],te.fullField,te.type))},nr=Vs,zr=function(te,H,le,ie,$e){(/^\s+$/.test(H)||H==="")&&ie.push(mt($e.messages.whitespace,te.fullField))},kr=zr,Hn={required:bi,whitespace:kr,type:nr,range:is,enum:Mi,pattern:dn},ce=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e)}le(Fe)},Qt=ce,gn=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(H==null&&!te.required)return le();Hn.required(te,H,ie,Fe,$e,"array"),H!=null&&(Hn.type(te,H,ie,Fe,$e),Hn.range(te,H,ie,Fe,$e))}le(Fe)},Ft=gn,on=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),H!==void 0&&Hn.type(te,H,ie,Fe,$e)}le(Fe)},Cn=on,Or=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H,"date")&&!te.required)return le();if(Hn.required(te,H,ie,Fe,$e),!qt(H,"date")){var sn;H instanceof Date?sn=H:sn=new Date(H),Hn.type(te,sn,ie,Fe,$e),sn&&Hn.range(te,sn.getTime(),ie,Fe,$e)}}le(Fe)},ds=Or,io="enum",$r=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),H!==void 0&&Hn[io](te,H,ie,Fe,$e)}le(Fe)},fr=$r,ir=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),H!==void 0&&(Hn.type(te,H,ie,Fe,$e),Hn.range(te,H,ie,Fe,$e))}le(Fe)},_r=ir,hs=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),H!==void 0&&(Hn.type(te,H,ie,Fe,$e),Hn.range(te,H,ie,Fe,$e))}le(Fe)},dt=hs,vt=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),H!==void 0&&Hn.type(te,H,ie,Fe,$e)}le(Fe)},Ut=vt,ti=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(H===""&&(H=void 0),qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),H!==void 0&&(Hn.type(te,H,ie,Fe,$e),Hn.range(te,H,ie,Fe,$e))}le(Fe)},Si=ti,Li=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),H!==void 0&&Hn.type(te,H,ie,Fe,$e)}le(Fe)},Ds=Li,Sr=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H,"string")&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),qt(H,"string")||Hn.pattern(te,H,ie,Fe,$e)}le(Fe)},Ls=Sr,Us=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H)&&!te.required)return le();Hn.required(te,H,ie,Fe,$e),qt(H)||Hn.type(te,H,ie,Fe,$e)}le(Fe)},As=Us,yo=function(te,H,le,ie,$e){var Fe=[],zt=Array.isArray(H)?"array":(0,tt.Z)(H);Hn.required(te,H,ie,Fe,$e,zt),le(Fe)},Ss=yo,wo=function(te,H,le,ie,$e){var Fe=[],zt=te.required||!te.required&&ie.hasOwnProperty(te.field);if(zt){if(qt(H,"string")&&!te.required)return le();Hn.required(te,H,ie,Fe,$e,"string"),qt(H,"string")||(Hn.type(te,H,ie,Fe,$e),Hn.range(te,H,ie,Fe,$e),Hn.pattern(te,H,ie,Fe,$e),te.whitespace===!0&&Hn.whitespace(te,H,ie,Fe,$e))}le(Fe)},Mo=wo,It=function(te,H,le,ie,$e){var Fe=te.type,zt=[],sn=te.required||!te.required&&ie.hasOwnProperty(te.field);if(sn){if(qt(H,Fe)&&!te.required)return le();Hn.required(te,H,ie,zt,$e,Fe),qt(H,Fe)||Hn.type(te,H,ie,zt,$e)}le(zt)},Rn=It,zn={string:Mo,method:Ut,number:Si,boolean:Cn,regexp:As,integer:dt,float:_r,array:Ft,object:Ds,enum:fr,pattern:Ls,date:ds,url:Rn,hex:Rn,email:Rn,required:Ss,any:Qt},an=function(){function Ze(te){(0,X.Z)(this,Ze),(0,oe.Z)(this,"rules",null),(0,oe.Z)(this,"_messages",Le),this.define(te)}return(0,j.Z)(Ze,[{key:"define",value:function(H){var le=this;if(!H)throw new Error("Cannot configure a schema with no rules");if((0,tt.Z)(H)!=="object"||Array.isArray(H))throw new Error("Rules must be an object");this.rules={},Object.keys(H).forEach(function(ie){var $e=H[ie];le.rules[ie]=Array.isArray($e)?$e:[$e]})}},{key:"messages",value:function(H){return H&&(this._messages=rn(Ie(),H)),this._messages}},{key:"validate",value:function(H){var le=this,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},Fe=H,zt=ie,sn=$e;if(typeof zt=="function"&&(sn=zt,zt={}),!this.rules||Object.keys(this.rules).length===0)return sn&&sn(null,Fe),Promise.resolve(Fe);function On(D){var k=[],z={};function J(Me){if(Array.isArray(Me)){var He;k=(He=k).concat.apply(He,(0,ee.Z)(Me))}else k.push(Me)}for(var _e=0;_e<D.length;_e++)J(D[_e]);k.length?(z=ot(k),sn(k,z)):sn(null,Fe)}if(zt.messages){var Yt=this.messages();Yt===Le&&(Yt=Ie()),rn(Yt,zt.messages),zt.messages=Yt}else zt.messages=this.messages();var g={},b=zt.keys||Object.keys(this.rules);b.forEach(function(D){var k=le.rules[D],z=Fe[D];k.forEach(function(J){var _e=J;typeof _e.transform=="function"&&(Fe===H&&(Fe=(0,fe.Z)({},Fe)),z=Fe[D]=_e.transform(z),z!=null&&(_e.type=_e.type||(Array.isArray(z)?"array":(0,tt.Z)(z)))),typeof _e=="function"?_e={validator:_e}:_e=(0,fe.Z)({},_e),_e.validator=le.getValidationMethod(_e),_e.validator&&(_e.field=D,_e.fullField=_e.fullField||D,_e.type=le.getType(_e),g[D]=g[D]||[],g[D].push({rule:_e,value:z,source:Fe,field:D}))})});var T={};return Gt(g,zt,function(D,k){var z=D.rule,J=(z.type==="object"||z.type==="array")&&((0,tt.Z)(z.fields)==="object"||(0,tt.Z)(z.defaultField)==="object");J=J&&(z.required||!z.required&&D.value),z.field=D.field;function _e(Et,yn){return(0,fe.Z)((0,fe.Z)({},yn),{},{fullField:"".concat(z.fullField,".").concat(Et),fullFields:z.fullFields?[].concat((0,ee.Z)(z.fullFields),[Et]):[Et]})}function Me(){var Et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],yn=Array.isArray(Et)?Et:[Et];!zt.suppressWarning&&yn.length&&Ze.warning("async-validator:",yn),yn.length&&z.message!==void 0&&(yn=[].concat(z.message));var ni=yn.map(Pt(z,Fe));if(zt.first&&ni.length)return T[z.field]=1,k(ni);if(!J)k(ni);else{if(z.required&&!D.value)return z.message!==void 0?ni=[].concat(z.message).map(Pt(z,Fe)):zt.error&&(ni=[zt.error(z,mt(zt.messages.required,z.field))]),k(ni);var ji={};z.defaultField&&Object.keys(D.value).map(function(_s){ji[_s]=z.defaultField}),ji=(0,fe.Z)((0,fe.Z)({},ji),D.rule.fields);var rr={};Object.keys(ji).forEach(function(_s){var go=ji[_s],Da=Array.isArray(go)?go:[go];rr[_s]=Da.map(_e.bind(null,_s))});var Cs=new Ze(rr);Cs.messages(zt.messages),D.rule.options&&(D.rule.options.messages=zt.messages,D.rule.options.error=zt.error),Cs.validate(D.value,D.rule.options||zt,function(_s){var go=[];ni&&ni.length&&go.push.apply(go,(0,ee.Z)(ni)),_s&&_s.length&&go.push.apply(go,(0,ee.Z)(_s)),k(go.length?go:null)})}}var He;if(z.asyncValidator)He=z.asyncValidator(z,D.value,Me,D.source,zt);else if(z.validator){try{He=z.validator(z,D.value,Me,D.source,zt)}catch(Et){var Dt,tn;(Dt=(tn=console).error)===null||Dt===void 0||Dt.call(tn,Et),zt.suppressValidatorError||setTimeout(function(){throw Et},0),Me(Et.message)}He===!0?Me():He===!1?Me(typeof z.message=="function"?z.message(z.fullField||z.field):z.message||"".concat(z.fullField||z.field," fails")):He instanceof Array?Me(He):He instanceof Error&&Me(He.message)}He&&He.then&&He.then(function(){return Me()},function(Et){return Me(Et)})},function(D){On(D)},Fe)}},{key:"getType",value:function(H){if(H.type===void 0&&H.pattern instanceof RegExp&&(H.type="pattern"),typeof H.validator!="function"&&H.type&&!zn.hasOwnProperty(H.type))throw new Error(mt("Unknown rule type %s",H.type));return H.type||"string"}},{key:"getValidationMethod",value:function(H){if(typeof H.validator=="function")return H.validator;var le=Object.keys(H),ie=le.indexOf("message");return ie!==-1&&le.splice(ie,1),le.length===1&&le[0]==="required"?zn.required:zn[this.getType(H)]||void 0}}]),Ze}();(0,oe.Z)(an,"register",function(te,H){if(typeof H!="function")throw new Error("Cannot register a validator by type, validator is not a function");zn[te]=H}),(0,oe.Z)(an,"warning",Ge),(0,oe.Z)(an,"messages",Le),(0,oe.Z)(an,"validators",zn);var Vn=an,Dn="'${name}' is not a valid ${type}",ri={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Dn,method:Dn,array:Dn,object:Dn,number:Dn,date:Dn,boolean:Dn,integer:Dn,float:Dn,regexp:Dn,email:Dn,url:Dn,hex:Dn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ni=I(67502),Hr=Vn;function pr(Ze,te){return Ze.replace(/\$\{\w+\}/g,function(H){var le=H.slice(2,-1);return te[le]})}var Ir="CODE_LOGIC_ERROR";function vr(Ze,te,H,le,ie){return zs.apply(this,arguments)}function zs(){return zs=(0,Qe.Z)((0,de.Z)().mark(function Ze(te,H,le,ie,$e){var Fe,zt,sn,On,Yt,g,b,T,D;return(0,de.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return Fe=(0,fe.Z)({},le),delete Fe.ruleIndex,Hr.warning=function(){},Fe.validator&&(zt=Fe.validator,Fe.validator=function(){try{return zt.apply(void 0,arguments)}catch(J){return console.error(J),Promise.reject(Ir)}}),sn=null,Fe&&Fe.type==="array"&&Fe.defaultField&&(sn=Fe.defaultField,delete Fe.defaultField),On=new Hr((0,oe.Z)({},te,[Fe])),Yt=(0,Ni.T)(ri,ie.validateMessages),On.messages(Yt),g=[],z.prev=10,z.next=13,Promise.resolve(On.validate((0,oe.Z)({},te,H),(0,fe.Z)({},ie)));case 13:z.next=18;break;case 15:z.prev=15,z.t0=z.catch(10),z.t0.errors&&(g=z.t0.errors.map(function(J,_e){var Me=J.message,He=Me===Ir?Yt.default:Me;return u.isValidElement(He)?u.cloneElement(He,{key:"error_".concat(_e)}):He}));case 18:if(!(!g.length&&sn)){z.next=23;break}return z.next=21,Promise.all(H.map(function(J,_e){return vr("".concat(te,".").concat(_e),J,sn,ie,$e)}));case 21:return b=z.sent,z.abrupt("return",b.reduce(function(J,_e){return[].concat((0,ee.Z)(J),(0,ee.Z)(_e))},[]));case 23:return T=(0,fe.Z)((0,fe.Z)({},le),{},{name:te,enum:(le.enum||[]).join(", ")},$e),D=g.map(function(J){return typeof J=="string"?pr(J,T):J}),z.abrupt("return",D);case 26:case"end":return z.stop()}},Ze,null,[[10,15]])})),zs.apply(this,arguments)}function so(Ze,te,H,le,ie,$e){var Fe=Ze.join("."),zt=H.map(function(Yt,g){var b=Yt.validator,T=(0,fe.Z)((0,fe.Z)({},Yt),{},{ruleIndex:g});return b&&(T.validator=function(D,k,z){var J=!1,_e=function(){for(var Dt=arguments.length,tn=new Array(Dt),Et=0;Et<Dt;Et++)tn[Et]=arguments[Et];Promise.resolve().then(function(){(0,ne.ZP)(!J,"Your validator function has already return a promise. `callback` will be ignored."),J||z.apply(void 0,tn)})},Me=b(D,k,_e);J=Me&&typeof Me.then=="function"&&typeof Me.catch=="function",(0,ne.ZP)(J,"`callback` is deprecated. Please return a promise instead."),J&&Me.then(function(){z()}).catch(function(He){z(He||" ")})}),T}).sort(function(Yt,g){var b=Yt.warningOnly,T=Yt.ruleIndex,D=g.warningOnly,k=g.ruleIndex;return!!b==!!D?T-k:b?1:-1}),sn;if(ie===!0)sn=new Promise(function(){var Yt=(0,Qe.Z)((0,de.Z)().mark(function g(b,T){var D,k,z;return(0,de.Z)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:D=0;case 1:if(!(D<zt.length)){_e.next=12;break}return k=zt[D],_e.next=5,vr(Fe,te,k,le,$e);case 5:if(z=_e.sent,!z.length){_e.next=9;break}return T([{errors:z,rule:k}]),_e.abrupt("return");case 9:D+=1,_e.next=1;break;case 12:b([]);case 13:case"end":return _e.stop()}},g)}));return function(g,b){return Yt.apply(this,arguments)}}());else{var On=zt.map(function(Yt){return vr(Fe,te,Yt,le,$e).then(function(g){return{errors:g,rule:Yt}})});sn=(ie?jo(On):Xr(On)).then(function(Yt){return Promise.reject(Yt)})}return sn.catch(function(Yt){return Yt}),sn}function Xr(Ze){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,Qe.Z)((0,de.Z)().mark(function Ze(te){return(0,de.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.abrupt("return",Promise.all(te).then(function(ie){var $e,Fe=($e=[]).concat.apply($e,(0,ee.Z)(ie));return Fe}));case 1:case"end":return le.stop()}},Ze)})),Ws.apply(this,arguments)}function jo(Ze){return Js.apply(this,arguments)}function Js(){return Js=(0,Qe.Z)((0,de.Z)().mark(function Ze(te){var H;return(0,de.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return H=0,ie.abrupt("return",new Promise(function($e){te.forEach(function(Fe){Fe.then(function(zt){zt.errors.length&&$e([zt]),H+=1,H===te.length&&$e([])})})}));case 2:case"end":return ie.stop()}},Ze)})),Js.apply(this,arguments)}var Qs=I(65584);function _i(Ze){return Ue(Ze)}function eo(Ze,te){var H={};return te.forEach(function(le){var ie=(0,Qs.Z)(Ze,le);H=(0,Ni.Z)(H,le,ie)}),H}function js(Ze,te){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Ze&&Ze.some(function(le){return Ps(te,le,H)})}function Ps(Ze,te){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!Ze||!te||!H&&Ze.length!==te.length?!1:te.every(function(le,ie){return Ze[ie]===le})}function Vr(Ze,te){if(Ze===te)return!0;if(!Ze&&te||Ze&&!te||!Ze||!te||(0,tt.Z)(Ze)!=="object"||(0,tt.Z)(te)!=="object")return!1;var H=Object.keys(Ze),le=Object.keys(te),ie=new Set([].concat(H,le));return(0,ee.Z)(ie).every(function($e){var Fe=Ze[$e],zt=te[$e];return typeof Fe=="function"&&typeof zt=="function"?!0:Fe===zt})}function Wr(Ze){var te=arguments.length<=1?void 0:arguments[1];return te&&te.target&&(0,tt.Z)(te.target)==="object"&&Ze in te.target?te.target[Ze]:te}function Hi(Ze,te,H){var le=Ze.length;if(te<0||te>=le||H<0||H>=le)return Ze;var ie=Ze[te],$e=te-H;return $e>0?[].concat((0,ee.Z)(Ze.slice(0,H)),[ie],(0,ee.Z)(Ze.slice(H,te)),(0,ee.Z)(Ze.slice(te+1,le))):$e<0?[].concat((0,ee.Z)(Ze.slice(0,te)),(0,ee.Z)(Ze.slice(te+1,H+1)),[ie],(0,ee.Z)(Ze.slice(H+1,le))):Ze}var qr=["name"],Jr=[];function gr(Ze,te,H,le,ie,$e){return typeof Ze=="function"?Ze(te,H,"source"in $e?{source:$e.source}:{}):le!==ie}var oo=function(Ze){(0,ft.Z)(H,Ze);var te=(0,st.Z)(H);function H(le){var ie;if((0,X.Z)(this,H),ie=te.call(this,le),(0,oe.Z)((0,he.Z)(ie),"state",{resetCount:0}),(0,oe.Z)((0,he.Z)(ie),"cancelRegisterFunc",null),(0,oe.Z)((0,he.Z)(ie),"mounted",!1),(0,oe.Z)((0,he.Z)(ie),"touched",!1),(0,oe.Z)((0,he.Z)(ie),"dirty",!1),(0,oe.Z)((0,he.Z)(ie),"validatePromise",void 0),(0,oe.Z)((0,he.Z)(ie),"prevValidating",void 0),(0,oe.Z)((0,he.Z)(ie),"errors",Jr),(0,oe.Z)((0,he.Z)(ie),"warnings",Jr),(0,oe.Z)((0,he.Z)(ie),"cancelRegister",function(){var sn=ie.props,On=sn.preserve,Yt=sn.isListField,g=sn.name;ie.cancelRegisterFunc&&ie.cancelRegisterFunc(Yt,On,_i(g)),ie.cancelRegisterFunc=null}),(0,oe.Z)((0,he.Z)(ie),"getNamePath",function(){var sn=ie.props,On=sn.name,Yt=sn.fieldContext,g=Yt.prefixName,b=g===void 0?[]:g;return On!==void 0?[].concat((0,ee.Z)(b),(0,ee.Z)(On)):[]}),(0,oe.Z)((0,he.Z)(ie),"getRules",function(){var sn=ie.props,On=sn.rules,Yt=On===void 0?[]:On,g=sn.fieldContext;return Yt.map(function(b){return typeof b=="function"?b(g):b})}),(0,oe.Z)((0,he.Z)(ie),"refresh",function(){ie.mounted&&ie.setState(function(sn){var On=sn.resetCount;return{resetCount:On+1}})}),(0,oe.Z)((0,he.Z)(ie),"metaCache",null),(0,oe.Z)((0,he.Z)(ie),"triggerMetaEvent",function(sn){var On=ie.props.onMetaChange;if(On){var Yt=(0,fe.Z)((0,fe.Z)({},ie.getMeta()),{},{destroy:sn});(0,xe.Z)(ie.metaCache,Yt)||On(Yt),ie.metaCache=Yt}else ie.metaCache=null}),(0,oe.Z)((0,he.Z)(ie),"onStoreChange",function(sn,On,Yt){var g=ie.props,b=g.shouldUpdate,T=g.dependencies,D=T===void 0?[]:T,k=g.onReset,z=Yt.store,J=ie.getNamePath(),_e=ie.getValue(sn),Me=ie.getValue(z),He=On&&js(On,J);switch(Yt.type==="valueUpdate"&&Yt.source==="external"&&!(0,xe.Z)(_e,Me)&&(ie.touched=!0,ie.dirty=!0,ie.validatePromise=null,ie.errors=Jr,ie.warnings=Jr,ie.triggerMetaEvent()),Yt.type){case"reset":if(!On||He){ie.touched=!1,ie.dirty=!1,ie.validatePromise=void 0,ie.errors=Jr,ie.warnings=Jr,ie.triggerMetaEvent(),k==null||k(),ie.refresh();return}break;case"remove":{if(b&&gr(b,sn,z,_e,Me,Yt)){ie.reRender();return}break}case"setField":{var Dt=Yt.data;if(He){"touched"in Dt&&(ie.touched=Dt.touched),"validating"in Dt&&!("originRCField"in Dt)&&(ie.validatePromise=Dt.validating?Promise.resolve([]):null),"errors"in Dt&&(ie.errors=Dt.errors||Jr),"warnings"in Dt&&(ie.warnings=Dt.warnings||Jr),ie.dirty=!0,ie.triggerMetaEvent(),ie.reRender();return}else if("value"in Dt&&js(On,J,!0)){ie.reRender();return}if(b&&!J.length&&gr(b,sn,z,_e,Me,Yt)){ie.reRender();return}break}case"dependenciesUpdate":{var tn=D.map(_i);if(tn.some(function(Et){return js(Yt.relatedFields,Et)})){ie.reRender();return}break}default:if(He||(!D.length||J.length||b)&&gr(b,sn,z,_e,Me,Yt)){ie.reRender();return}break}b===!0&&ie.reRender()}),(0,oe.Z)((0,he.Z)(ie),"validateRules",function(sn){var On=ie.getNamePath(),Yt=ie.getValue(),g=sn||{},b=g.triggerName,T=g.validateOnly,D=T===void 0?!1:T,k=Promise.resolve().then((0,Qe.Z)((0,de.Z)().mark(function z(){var J,_e,Me,He,Dt,tn,Et;return(0,de.Z)().wrap(function(ni){for(;;)switch(ni.prev=ni.next){case 0:if(ie.mounted){ni.next=2;break}return ni.abrupt("return",[]);case 2:if(J=ie.props,_e=J.validateFirst,Me=_e===void 0?!1:_e,He=J.messageVariables,Dt=J.validateDebounce,tn=ie.getRules(),b&&(tn=tn.filter(function(ji){return ji}).filter(function(ji){var rr=ji.validateTrigger;if(!rr)return!0;var Cs=Ue(rr);return Cs.includes(b)})),!(Dt&&b)){ni.next=10;break}return ni.next=8,new Promise(function(ji){setTimeout(ji,Dt)});case 8:if(ie.validatePromise===k){ni.next=10;break}return ni.abrupt("return",[]);case 10:return Et=so(On,Yt,tn,sn,Me,He),Et.catch(function(ji){return ji}).then(function(){var ji=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jr;if(ie.validatePromise===k){var rr;ie.validatePromise=null;var Cs=[],_s=[];(rr=ji.forEach)===null||rr===void 0||rr.call(ji,function(go){var Da=go.rule.warningOnly,Yr=go.errors,ra=Yr===void 0?Jr:Yr;Da?_s.push.apply(_s,(0,ee.Z)(ra)):Cs.push.apply(Cs,(0,ee.Z)(ra))}),ie.errors=Cs,ie.warnings=_s,ie.triggerMetaEvent(),ie.reRender()}}),ni.abrupt("return",Et);case 13:case"end":return ni.stop()}},z)})));return D||(ie.validatePromise=k,ie.dirty=!0,ie.errors=Jr,ie.warnings=Jr,ie.triggerMetaEvent(),ie.reRender()),k}),(0,oe.Z)((0,he.Z)(ie),"isFieldValidating",function(){return!!ie.validatePromise}),(0,oe.Z)((0,he.Z)(ie),"isFieldTouched",function(){return ie.touched}),(0,oe.Z)((0,he.Z)(ie),"isFieldDirty",function(){if(ie.dirty||ie.props.initialValue!==void 0)return!0;var sn=ie.props.fieldContext,On=sn.getInternalHooks(Be),Yt=On.getInitialValue;return Yt(ie.getNamePath())!==void 0}),(0,oe.Z)((0,he.Z)(ie),"getErrors",function(){return ie.errors}),(0,oe.Z)((0,he.Z)(ie),"getWarnings",function(){return ie.warnings}),(0,oe.Z)((0,he.Z)(ie),"isListField",function(){return ie.props.isListField}),(0,oe.Z)((0,he.Z)(ie),"isList",function(){return ie.props.isList}),(0,oe.Z)((0,he.Z)(ie),"isPreserve",function(){return ie.props.preserve}),(0,oe.Z)((0,he.Z)(ie),"getMeta",function(){ie.prevValidating=ie.isFieldValidating();var sn={touched:ie.isFieldTouched(),validating:ie.prevValidating,errors:ie.errors,warnings:ie.warnings,name:ie.getNamePath(),validated:ie.validatePromise===null};return sn}),(0,oe.Z)((0,he.Z)(ie),"getOnlyChild",function(sn){if(typeof sn=="function"){var On=ie.getMeta();return(0,fe.Z)((0,fe.Z)({},ie.getOnlyChild(sn(ie.getControlled(),On,ie.props.fieldContext))),{},{isFunction:!0})}var Yt=(0,ct.Z)(sn);return Yt.length!==1||!u.isValidElement(Yt[0])?{child:Yt,isFunction:!1}:{child:Yt[0],isFunction:!1}}),(0,oe.Z)((0,he.Z)(ie),"getValue",function(sn){var On=ie.props.fieldContext.getFieldsValue,Yt=ie.getNamePath();return(0,Qs.Z)(sn||On(!0),Yt)}),(0,oe.Z)((0,he.Z)(ie),"getControlled",function(){var sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},On=ie.props,Yt=On.name,g=On.trigger,b=On.validateTrigger,T=On.getValueFromEvent,D=On.normalize,k=On.valuePropName,z=On.getValueProps,J=On.fieldContext,_e=b!==void 0?b:J.validateTrigger,Me=ie.getNamePath(),He=J.getInternalHooks,Dt=J.getFieldsValue,tn=He(Be),Et=tn.dispatch,yn=ie.getValue(),ni=z||function(go){return(0,oe.Z)({},k,go)},ji=sn[g],rr=Yt!==void 0?ni(yn):{},Cs=(0,fe.Z)((0,fe.Z)({},sn),rr);Cs[g]=function(){ie.touched=!0,ie.dirty=!0,ie.triggerMetaEvent();for(var go,Da=arguments.length,Yr=new Array(Da),ra=0;ra<Da;ra++)Yr[ra]=arguments[ra];T?go=T.apply(void 0,Yr):go=Wr.apply(void 0,[k].concat(Yr)),D&&(go=D(go,yn,Dt(!0))),Et({type:"updateValue",namePath:Me,value:go}),ji&&ji.apply(void 0,Yr)};var _s=Ue(_e||[]);return _s.forEach(function(go){var Da=Cs[go];Cs[go]=function(){Da&&Da.apply(void 0,arguments);var Yr=ie.props.rules;Yr&&Yr.length&&Et({type:"validateField",namePath:Me,triggerName:go})}}),Cs}),le.fieldContext){var $e=le.fieldContext.getInternalHooks,Fe=$e(Be),zt=Fe.initEntityValue;zt((0,he.Z)(ie))}return ie}return(0,j.Z)(H,[{key:"componentDidMount",value:function(){var ie=this.props,$e=ie.shouldUpdate,Fe=ie.fieldContext;if(this.mounted=!0,Fe){var zt=Fe.getInternalHooks,sn=zt(Be),On=sn.registerField;this.cancelRegisterFunc=On(this)}$e===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var ie=this.state.resetCount,$e=this.props.children,Fe=this.getOnlyChild($e),zt=Fe.child,sn=Fe.isFunction,On;return sn?On=zt:u.isValidElement(zt)?On=u.cloneElement(zt,this.getControlled(zt.props)):((0,ne.ZP)(!zt,"`children` of Field is not validate ReactElement."),On=zt),u.createElement(u.Fragment,{key:ie},On)}}]),H}(u.Component);(0,oe.Z)(oo,"contextType",at),(0,oe.Z)(oo,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Yi(Ze){var te=Ze.name,H=(0,$.Z)(Ze,qr),le=u.useContext(at),ie=u.useContext(we),$e=te!==void 0?_i(te):void 0,Fe="keep";return H.isListField||(Fe="_".concat(($e||[]).join("_"))),u.createElement(oo,(0,q.Z)({key:Fe,name:$e,isListField:!!ie},H,{fieldContext:le}))}var to=Yi;function Ho(Ze){var te=Ze.name,H=Ze.initialValue,le=Ze.children,ie=Ze.rules,$e=Ze.validateTrigger,Fe=Ze.isListField,zt=u.useContext(at),sn=u.useContext(we),On=u.useRef({keys:[],id:0}),Yt=On.current,g=u.useMemo(function(){var k=_i(zt.prefixName)||[];return[].concat((0,ee.Z)(k),(0,ee.Z)(_i(te)))},[zt.prefixName,te]),b=u.useMemo(function(){return(0,fe.Z)((0,fe.Z)({},zt),{},{prefixName:g})},[zt,g]),T=u.useMemo(function(){return{getKey:function(z){var J=g.length,_e=z[J];return[Yt.keys[_e],z.slice(J+1)]}}},[g]);if(typeof le!="function")return(0,ne.ZP)(!1,"Form.List only accepts function as children."),null;var D=function(z,J,_e){var Me=_e.source;return Me==="internal"?!1:z!==J};return u.createElement(we.Provider,{value:T},u.createElement(at.Provider,{value:b},u.createElement(to,{name:[],shouldUpdate:D,rules:ie,validateTrigger:$e,initialValue:H,isList:!0,isListField:Fe!=null?Fe:!!sn},function(k,z){var J=k.value,_e=J===void 0?[]:J,Me=k.onChange,He=zt.getFieldValue,Dt=function(){var ni=He(g||[]);return ni||[]},tn={add:function(ni,ji){var rr=Dt();ji>=0&&ji<=rr.length?(Yt.keys=[].concat((0,ee.Z)(Yt.keys.slice(0,ji)),[Yt.id],(0,ee.Z)(Yt.keys.slice(ji))),Me([].concat((0,ee.Z)(rr.slice(0,ji)),[ni],(0,ee.Z)(rr.slice(ji))))):(Yt.keys=[].concat((0,ee.Z)(Yt.keys),[Yt.id]),Me([].concat((0,ee.Z)(rr),[ni]))),Yt.id+=1},remove:function(ni){var ji=Dt(),rr=new Set(Array.isArray(ni)?ni:[ni]);rr.size<=0||(Yt.keys=Yt.keys.filter(function(Cs,_s){return!rr.has(_s)}),Me(ji.filter(function(Cs,_s){return!rr.has(_s)})))},move:function(ni,ji){if(ni!==ji){var rr=Dt();ni<0||ni>=rr.length||ji<0||ji>=rr.length||(Yt.keys=Hi(Yt.keys,ni,ji),Me(Hi(rr,ni,ji)))}}},Et=_e||[];return Array.isArray(Et)||(Et=[]),le(Et.map(function(yn,ni){var ji=Yt.keys[ni];return ji===void 0&&(Yt.keys[ni]=Yt.id,ji=Yt.keys[ni],Yt.id+=1),{name:ni,key:ji,isListField:!0}}),tn,z)})))}var Ns=Ho,Zo=I(97171);function Go(Ze){var te=!1,H=Ze.length,le=[];return Ze.length?new Promise(function(ie,$e){Ze.forEach(function(Fe,zt){Fe.catch(function(sn){return te=!0,sn}).then(function(sn){H-=1,le[zt]=sn,!(H>0)&&(te&&$e(le),ie(le))})})}):Promise.resolve([])}var ys="__@field_split__";function qi(Ze){return Ze.map(function(te){return"".concat((0,tt.Z)(te),":").concat(te)}).join(ys)}var Ui=function(){function Ze(){(0,X.Z)(this,Ze),(0,oe.Z)(this,"kvs",new Map)}return(0,j.Z)(Ze,[{key:"set",value:function(H,le){this.kvs.set(qi(H),le)}},{key:"get",value:function(H){return this.kvs.get(qi(H))}},{key:"update",value:function(H,le){var ie=this.get(H),$e=le(ie);$e?this.set(H,$e):this.delete(H)}},{key:"delete",value:function(H){this.kvs.delete(qi(H))}},{key:"map",value:function(H){return(0,ee.Z)(this.kvs.entries()).map(function(le){var ie=(0,Zo.Z)(le,2),$e=ie[0],Fe=ie[1],zt=$e.split(ys);return H({key:zt.map(function(sn){var On=sn.match(/^([^:]*):(.*)$/),Yt=(0,Zo.Z)(On,3),g=Yt[1],b=Yt[2];return g==="number"?Number(b):b}),value:Fe})})}},{key:"toJSON",value:function(){var H={};return this.map(function(le){var ie=le.key,$e=le.value;return H[ie.join(".")]=$e,null}),H}}]),Ze}(),Ei=Ui,xo=["name"],Os=(0,j.Z)(function Ze(te){var H=this;(0,X.Z)(this,Ze),(0,oe.Z)(this,"formHooked",!1),(0,oe.Z)(this,"forceRootUpdate",void 0),(0,oe.Z)(this,"subscribable",!0),(0,oe.Z)(this,"store",{}),(0,oe.Z)(this,"fieldEntities",[]),(0,oe.Z)(this,"initialValues",{}),(0,oe.Z)(this,"callbacks",{}),(0,oe.Z)(this,"validateMessages",null),(0,oe.Z)(this,"preserve",null),(0,oe.Z)(this,"lastValidatePromise",null),(0,oe.Z)(this,"getForm",function(){return{getFieldValue:H.getFieldValue,getFieldsValue:H.getFieldsValue,getFieldError:H.getFieldError,getFieldWarning:H.getFieldWarning,getFieldsError:H.getFieldsError,isFieldsTouched:H.isFieldsTouched,isFieldTouched:H.isFieldTouched,isFieldValidating:H.isFieldValidating,isFieldsValidating:H.isFieldsValidating,resetFields:H.resetFields,setFields:H.setFields,setFieldValue:H.setFieldValue,setFieldsValue:H.setFieldsValue,validateFields:H.validateFields,submit:H.submit,_init:!0,getInternalHooks:H.getInternalHooks}}),(0,oe.Z)(this,"getInternalHooks",function(le){return le===Be?(H.formHooked=!0,{dispatch:H.dispatch,initEntityValue:H.initEntityValue,registerField:H.registerField,useSubscribe:H.useSubscribe,setInitialValues:H.setInitialValues,destroyForm:H.destroyForm,setCallbacks:H.setCallbacks,setValidateMessages:H.setValidateMessages,getFields:H.getFields,setPreserve:H.setPreserve,getInitialValue:H.getInitialValue,registerWatch:H.registerWatch}):((0,ne.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,oe.Z)(this,"useSubscribe",function(le){H.subscribable=le}),(0,oe.Z)(this,"prevWithoutPreserves",null),(0,oe.Z)(this,"setInitialValues",function(le,ie){if(H.initialValues=le||{},ie){var $e,Fe=(0,Ni.T)(le,H.store);($e=H.prevWithoutPreserves)===null||$e===void 0||$e.map(function(zt){var sn=zt.key;Fe=(0,Ni.Z)(Fe,sn,(0,Qs.Z)(le,sn))}),H.prevWithoutPreserves=null,H.updateStore(Fe)}}),(0,oe.Z)(this,"destroyForm",function(le){if(le)H.updateStore({});else{var ie=new Ei;H.getFieldEntities(!0).forEach(function($e){H.isMergedPreserve($e.isPreserve())||ie.set($e.getNamePath(),!0)}),H.prevWithoutPreserves=ie}}),(0,oe.Z)(this,"getInitialValue",function(le){var ie=(0,Qs.Z)(H.initialValues,le);return le.length?(0,Ni.T)(ie):ie}),(0,oe.Z)(this,"setCallbacks",function(le){H.callbacks=le}),(0,oe.Z)(this,"setValidateMessages",function(le){H.validateMessages=le}),(0,oe.Z)(this,"setPreserve",function(le){H.preserve=le}),(0,oe.Z)(this,"watchList",[]),(0,oe.Z)(this,"registerWatch",function(le){return H.watchList.push(le),function(){H.watchList=H.watchList.filter(function(ie){return ie!==le})}}),(0,oe.Z)(this,"notifyWatch",function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(H.watchList.length){var ie=H.getFieldsValue(),$e=H.getFieldsValue(!0);H.watchList.forEach(function(Fe){Fe(ie,$e,le)})}}),(0,oe.Z)(this,"timeoutId",null),(0,oe.Z)(this,"warningUnhooked",function(){}),(0,oe.Z)(this,"updateStore",function(le){H.store=le}),(0,oe.Z)(this,"getFieldEntities",function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return le?H.fieldEntities.filter(function(ie){return ie.getNamePath().length}):H.fieldEntities}),(0,oe.Z)(this,"getFieldsMap",function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ie=new Ei;return H.getFieldEntities(le).forEach(function($e){var Fe=$e.getNamePath();ie.set(Fe,$e)}),ie}),(0,oe.Z)(this,"getFieldEntitiesForNamePathList",function(le){if(!le)return H.getFieldEntities(!0);var ie=H.getFieldsMap(!0);return le.map(function($e){var Fe=_i($e);return ie.get(Fe)||{INVALIDATE_NAME_PATH:_i($e)}})}),(0,oe.Z)(this,"getFieldsValue",function(le,ie){H.warningUnhooked();var $e,Fe,zt;if(le===!0||Array.isArray(le)?($e=le,Fe=ie):le&&(0,tt.Z)(le)==="object"&&(zt=le.strict,Fe=le.filter),$e===!0&&!Fe)return H.store;var sn=H.getFieldEntitiesForNamePathList(Array.isArray($e)?$e:null),On=[];return sn.forEach(function(Yt){var g,b,T="INVALIDATE_NAME_PATH"in Yt?Yt.INVALIDATE_NAME_PATH:Yt.getNamePath();if(zt){var D,k;if((D=(k=Yt).isList)!==null&&D!==void 0&&D.call(k))return}else if(!$e&&(g=(b=Yt).isListField)!==null&&g!==void 0&&g.call(b))return;if(!Fe)On.push(T);else{var z="getMeta"in Yt?Yt.getMeta():null;Fe(z)&&On.push(T)}}),eo(H.store,On.map(_i))}),(0,oe.Z)(this,"getFieldValue",function(le){H.warningUnhooked();var ie=_i(le);return(0,Qs.Z)(H.store,ie)}),(0,oe.Z)(this,"getFieldsError",function(le){H.warningUnhooked();var ie=H.getFieldEntitiesForNamePathList(le);return ie.map(function($e,Fe){return $e&&!("INVALIDATE_NAME_PATH"in $e)?{name:$e.getNamePath(),errors:$e.getErrors(),warnings:$e.getWarnings()}:{name:_i(le[Fe]),errors:[],warnings:[]}})}),(0,oe.Z)(this,"getFieldError",function(le){H.warningUnhooked();var ie=_i(le),$e=H.getFieldsError([ie])[0];return $e.errors}),(0,oe.Z)(this,"getFieldWarning",function(le){H.warningUnhooked();var ie=_i(le),$e=H.getFieldsError([ie])[0];return $e.warnings}),(0,oe.Z)(this,"isFieldsTouched",function(){H.warningUnhooked();for(var le=arguments.length,ie=new Array(le),$e=0;$e<le;$e++)ie[$e]=arguments[$e];var Fe=ie[0],zt=ie[1],sn,On=!1;ie.length===0?sn=null:ie.length===1?Array.isArray(Fe)?(sn=Fe.map(_i),On=!1):(sn=null,On=Fe):(sn=Fe.map(_i),On=zt);var Yt=H.getFieldEntities(!0),g=function(z){return z.isFieldTouched()};if(!sn)return On?Yt.every(function(k){return g(k)||k.isList()}):Yt.some(g);var b=new Ei;sn.forEach(function(k){b.set(k,[])}),Yt.forEach(function(k){var z=k.getNamePath();sn.forEach(function(J){J.every(function(_e,Me){return z[Me]===_e})&&b.update(J,function(_e){return[].concat((0,ee.Z)(_e),[k])})})});var T=function(z){return z.some(g)},D=b.map(function(k){var z=k.value;return z});return On?D.every(T):D.some(T)}),(0,oe.Z)(this,"isFieldTouched",function(le){return H.warningUnhooked(),H.isFieldsTouched([le])}),(0,oe.Z)(this,"isFieldsValidating",function(le){H.warningUnhooked();var ie=H.getFieldEntities();if(!le)return ie.some(function(Fe){return Fe.isFieldValidating()});var $e=le.map(_i);return ie.some(function(Fe){var zt=Fe.getNamePath();return js($e,zt)&&Fe.isFieldValidating()})}),(0,oe.Z)(this,"isFieldValidating",function(le){return H.warningUnhooked(),H.isFieldsValidating([le])}),(0,oe.Z)(this,"resetWithFieldInitialValue",function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ie=new Ei,$e=H.getFieldEntities(!0);$e.forEach(function(sn){var On=sn.props.initialValue,Yt=sn.getNamePath();if(On!==void 0){var g=ie.get(Yt)||new Set;g.add({entity:sn,value:On}),ie.set(Yt,g)}});var Fe=function(On){On.forEach(function(Yt){var g=Yt.props.initialValue;if(g!==void 0){var b=Yt.getNamePath(),T=H.getInitialValue(b);if(T!==void 0)(0,ne.ZP)(!1,"Form already set 'initialValues' with path '".concat(b.join("."),"'. Field can not overwrite it."));else{var D=ie.get(b);if(D&&D.size>1)(0,ne.ZP)(!1,"Multiple Field with path '".concat(b.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(D){var k=H.getFieldValue(b),z=Yt.isListField();!z&&(!le.skipExist||k===void 0)&&H.updateStore((0,Ni.Z)(H.store,b,(0,ee.Z)(D)[0].value))}}}})},zt;le.entities?zt=le.entities:le.namePathList?(zt=[],le.namePathList.forEach(function(sn){var On=ie.get(sn);if(On){var Yt;(Yt=zt).push.apply(Yt,(0,ee.Z)((0,ee.Z)(On).map(function(g){return g.entity})))}})):zt=$e,Fe(zt)}),(0,oe.Z)(this,"resetFields",function(le){H.warningUnhooked();var ie=H.store;if(!le){H.updateStore((0,Ni.T)(H.initialValues)),H.resetWithFieldInitialValue(),H.notifyObservers(ie,null,{type:"reset"}),H.notifyWatch();return}var $e=le.map(_i);$e.forEach(function(Fe){var zt=H.getInitialValue(Fe);H.updateStore((0,Ni.Z)(H.store,Fe,zt))}),H.resetWithFieldInitialValue({namePathList:$e}),H.notifyObservers(ie,$e,{type:"reset"}),H.notifyWatch($e)}),(0,oe.Z)(this,"setFields",function(le){H.warningUnhooked();var ie=H.store,$e=[];le.forEach(function(Fe){var zt=Fe.name,sn=(0,$.Z)(Fe,xo),On=_i(zt);$e.push(On),"value"in sn&&H.updateStore((0,Ni.Z)(H.store,On,sn.value)),H.notifyObservers(ie,[On],{type:"setField",data:Fe})}),H.notifyWatch($e)}),(0,oe.Z)(this,"getFields",function(){var le=H.getFieldEntities(!0),ie=le.map(function($e){var Fe=$e.getNamePath(),zt=$e.getMeta(),sn=(0,fe.Z)((0,fe.Z)({},zt),{},{name:Fe,value:H.getFieldValue(Fe)});return Object.defineProperty(sn,"originRCField",{value:!0}),sn});return ie}),(0,oe.Z)(this,"initEntityValue",function(le){var ie=le.props.initialValue;if(ie!==void 0){var $e=le.getNamePath(),Fe=(0,Qs.Z)(H.store,$e);Fe===void 0&&H.updateStore((0,Ni.Z)(H.store,$e,ie))}}),(0,oe.Z)(this,"isMergedPreserve",function(le){var ie=le!==void 0?le:H.preserve;return ie!=null?ie:!0}),(0,oe.Z)(this,"registerField",function(le){H.fieldEntities.push(le);var ie=le.getNamePath();if(H.notifyWatch([ie]),le.props.initialValue!==void 0){var $e=H.store;H.resetWithFieldInitialValue({entities:[le],skipExist:!0}),H.notifyObservers($e,[le.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(Fe,zt){var sn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(H.fieldEntities=H.fieldEntities.filter(function(g){return g!==le}),!H.isMergedPreserve(zt)&&(!Fe||sn.length>1)){var On=Fe?void 0:H.getInitialValue(ie);if(ie.length&&H.getFieldValue(ie)!==On&&H.fieldEntities.every(function(g){return!Ps(g.getNamePath(),ie)})){var Yt=H.store;H.updateStore((0,Ni.Z)(Yt,ie,On,!0)),H.notifyObservers(Yt,[ie],{type:"remove"}),H.triggerDependenciesUpdate(Yt,ie)}}H.notifyWatch([ie])}}),(0,oe.Z)(this,"dispatch",function(le){switch(le.type){case"updateValue":{var ie=le.namePath,$e=le.value;H.updateValue(ie,$e);break}case"validateField":{var Fe=le.namePath,zt=le.triggerName;H.validateFields([Fe],{triggerName:zt});break}default:}}),(0,oe.Z)(this,"notifyObservers",function(le,ie,$e){if(H.subscribable){var Fe=(0,fe.Z)((0,fe.Z)({},$e),{},{store:H.getFieldsValue(!0)});H.getFieldEntities().forEach(function(zt){var sn=zt.onStoreChange;sn(le,ie,Fe)})}else H.forceRootUpdate()}),(0,oe.Z)(this,"triggerDependenciesUpdate",function(le,ie){var $e=H.getDependencyChildrenFields(ie);return $e.length&&H.validateFields($e),H.notifyObservers(le,$e,{type:"dependenciesUpdate",relatedFields:[ie].concat((0,ee.Z)($e))}),$e}),(0,oe.Z)(this,"updateValue",function(le,ie){var $e=_i(le),Fe=H.store;H.updateStore((0,Ni.Z)(H.store,$e,ie)),H.notifyObservers(Fe,[$e],{type:"valueUpdate",source:"internal"}),H.notifyWatch([$e]);var zt=H.triggerDependenciesUpdate(Fe,$e),sn=H.callbacks.onValuesChange;if(sn){var On=eo(H.store,[$e]);sn(On,H.getFieldsValue())}H.triggerOnFieldsChange([$e].concat((0,ee.Z)(zt)))}),(0,oe.Z)(this,"setFieldsValue",function(le){H.warningUnhooked();var ie=H.store;if(le){var $e=(0,Ni.T)(H.store,le);H.updateStore($e)}H.notifyObservers(ie,null,{type:"valueUpdate",source:"external"}),H.notifyWatch()}),(0,oe.Z)(this,"setFieldValue",function(le,ie){H.setFields([{name:le,value:ie}])}),(0,oe.Z)(this,"getDependencyChildrenFields",function(le){var ie=new Set,$e=[],Fe=new Ei;H.getFieldEntities().forEach(function(sn){var On=sn.props.dependencies;(On||[]).forEach(function(Yt){var g=_i(Yt);Fe.update(g,function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return b.add(sn),b})})});var zt=function sn(On){var Yt=Fe.get(On)||new Set;Yt.forEach(function(g){if(!ie.has(g)){ie.add(g);var b=g.getNamePath();g.isFieldDirty()&&b.length&&($e.push(b),sn(b))}})};return zt(le),$e}),(0,oe.Z)(this,"triggerOnFieldsChange",function(le,ie){var $e=H.callbacks.onFieldsChange;if($e){var Fe=H.getFields();if(ie){var zt=new Ei;ie.forEach(function(On){var Yt=On.name,g=On.errors;zt.set(Yt,g)}),Fe.forEach(function(On){On.errors=zt.get(On.name)||On.errors})}var sn=Fe.filter(function(On){var Yt=On.name;return js(le,Yt)});sn.length&&$e(sn,Fe)}}),(0,oe.Z)(this,"validateFields",function(le,ie){H.warningUnhooked();var $e,Fe;Array.isArray(le)||typeof le=="string"||typeof ie=="string"?($e=le,Fe=ie):Fe=le;var zt=!!$e,sn=zt?$e.map(_i):[],On=[],Yt=String(Date.now()),g=new Set,b=Fe||{},T=b.recursive,D=b.dirty;H.getFieldEntities(!0).forEach(function(_e){if(zt||sn.push(_e.getNamePath()),!(!_e.props.rules||!_e.props.rules.length)&&!(D&&!_e.isFieldDirty())){var Me=_e.getNamePath();if(g.add(Me.join(Yt)),!zt||js(sn,Me,T)){var He=_e.validateRules((0,fe.Z)({validateMessages:(0,fe.Z)((0,fe.Z)({},ri),H.validateMessages)},Fe));On.push(He.then(function(){return{name:Me,errors:[],warnings:[]}}).catch(function(Dt){var tn,Et=[],yn=[];return(tn=Dt.forEach)===null||tn===void 0||tn.call(Dt,function(ni){var ji=ni.rule.warningOnly,rr=ni.errors;ji?yn.push.apply(yn,(0,ee.Z)(rr)):Et.push.apply(Et,(0,ee.Z)(rr))}),Et.length?Promise.reject({name:Me,errors:Et,warnings:yn}):{name:Me,errors:Et,warnings:yn}}))}}});var k=Go(On);H.lastValidatePromise=k,k.catch(function(_e){return _e}).then(function(_e){var Me=_e.map(function(He){var Dt=He.name;return Dt});H.notifyObservers(H.store,Me,{type:"validateFinish"}),H.triggerOnFieldsChange(Me,_e)});var z=k.then(function(){return H.lastValidatePromise===k?Promise.resolve(H.getFieldsValue(sn)):Promise.reject([])}).catch(function(_e){var Me=_e.filter(function(He){return He&&He.errors.length});return Promise.reject({values:H.getFieldsValue(sn),errorFields:Me,outOfDate:H.lastValidatePromise!==k})});z.catch(function(_e){return _e});var J=sn.filter(function(_e){return g.has(_e.join(Yt))});return H.triggerOnFieldsChange(J),z}),(0,oe.Z)(this,"submit",function(){H.warningUnhooked(),H.validateFields().then(function(le){var ie=H.callbacks.onFinish;if(ie)try{ie(le)}catch($e){console.error($e)}}).catch(function(le){var ie=H.callbacks.onFinishFailed;ie&&ie(le)})}),this.forceRootUpdate=te});function Xo(Ze){var te=u.useRef(),H=u.useState({}),le=(0,Zo.Z)(H,2),ie=le[1];if(!te.current)if(Ze)te.current=Ze;else{var $e=function(){ie({})},Fe=new Os($e);te.current=Fe.getForm()}return[te.current]}var Ks=Xo,Ea=u.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Ao=function(te){var H=te.validateMessages,le=te.onFormChange,ie=te.onFormFinish,$e=te.children,Fe=u.useContext(Ea),zt=u.useRef({});return u.createElement(Ea.Provider,{value:(0,fe.Z)((0,fe.Z)({},Fe),{},{validateMessages:(0,fe.Z)((0,fe.Z)({},Fe.validateMessages),H),triggerFormChange:function(On,Yt){le&&le(On,{changedFields:Yt,forms:zt.current}),Fe.triggerFormChange(On,Yt)},triggerFormFinish:function(On,Yt){ie&&ie(On,{values:Yt,forms:zt.current}),Fe.triggerFormFinish(On,Yt)},registerForm:function(On,Yt){On&&(zt.current=(0,fe.Z)((0,fe.Z)({},zt.current),{},(0,oe.Z)({},On,Yt))),Fe.registerForm(On,Yt)},unregisterForm:function(On){var Yt=(0,fe.Z)({},zt.current);delete Yt[On],zt.current=Yt,Fe.unregisterForm(On)}})},$e)},bo=Ea,Yo=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Po=function(te,H){var le=te.name,ie=te.initialValues,$e=te.fields,Fe=te.form,zt=te.preserve,sn=te.children,On=te.component,Yt=On===void 0?"form":On,g=te.validateMessages,b=te.validateTrigger,T=b===void 0?"onChange":b,D=te.onValuesChange,k=te.onFieldsChange,z=te.onFinish,J=te.onFinishFailed,_e=te.clearOnDestroy,Me=(0,$.Z)(te,Yo),He=u.useRef(null),Dt=u.useContext(bo),tn=Ks(Fe),Et=(0,Zo.Z)(tn,1),yn=Et[0],ni=yn.getInternalHooks(Be),ji=ni.useSubscribe,rr=ni.setInitialValues,Cs=ni.setCallbacks,_s=ni.setValidateMessages,go=ni.setPreserve,Da=ni.destroyForm;u.useImperativeHandle(H,function(){return(0,fe.Z)((0,fe.Z)({},yn),{},{nativeElement:He.current})}),u.useEffect(function(){return Dt.registerForm(le,yn),function(){Dt.unregisterForm(le)}},[Dt,yn,le]),_s((0,fe.Z)((0,fe.Z)({},Dt.validateMessages),g)),Cs({onValuesChange:D,onFieldsChange:function(nn){if(Dt.triggerFormChange(le,nn),k){for(var si=arguments.length,Qn=new Array(si>1?si-1:0),hn=1;hn<si;hn++)Qn[hn-1]=arguments[hn];k.apply(void 0,[nn].concat(Qn))}},onFinish:function(nn){Dt.triggerFormFinish(le,nn),z&&z(nn)},onFinishFailed:J}),go(zt);var Yr=u.useRef(null);rr(ie,!Yr.current),Yr.current||(Yr.current=!0),u.useEffect(function(){return function(){return Da(_e)}},[]);var ra,Lo=typeof sn=="function";if(Lo){var Y=yn.getFieldsValue(!0);ra=sn(Y,yn)}else ra=sn;ji(!Lo);var Pe=u.useRef();u.useEffect(function(){Vr(Pe.current||[],$e||[])||yn.setFields($e||[]),Pe.current=$e},[$e,yn]);var Tt=u.useMemo(function(){return(0,fe.Z)((0,fe.Z)({},yn),{},{validateTrigger:T})},[yn,T]),Mt=u.createElement(we.Provider,{value:null},u.createElement(at.Provider,{value:Tt},ra));return Yt===!1?Mt:u.createElement(Yt,(0,q.Z)({},Me,{ref:He,onSubmit:function(nn){nn.preventDefault(),nn.stopPropagation(),yn.submit()},onReset:function(nn){var si;nn.preventDefault(),yn.resetFields(),(si=Me.onReset)===null||si===void 0||si.call(Me,nn)}}),Mt)},zo=Po;function Eo(Ze){try{return JSON.stringify(Ze)}catch(te){return Math.random()}}var ma=function(){};function uo(){for(var Ze=arguments.length,te=new Array(Ze),H=0;H<Ze;H++)te[H]=arguments[H];var le=te[0],ie=te[1],$e=ie===void 0?{}:ie,Fe=E($e)?{form:$e}:$e,zt=Fe.form,sn=(0,u.useState)(),On=(0,Zo.Z)(sn,2),Yt=On[0],g=On[1],b=(0,u.useMemo)(function(){return Eo(Yt)},[Yt]),T=(0,u.useRef)(b);T.current=b;var D=(0,u.useContext)(at),k=zt||D,z=k&&k._init,J=_i(le),_e=(0,u.useRef)(J);return _e.current=J,ma(J),(0,u.useEffect)(function(){if(z){var Me=k.getFieldsValue,He=k.getInternalHooks,Dt=He(Be),tn=Dt.registerWatch,Et=function(rr,Cs){var _s=Fe.preserve?Cs:rr;return typeof le=="function"?le(_s):(0,Qs.Z)(_s,_e.current)},yn=tn(function(ji,rr){var Cs=Et(ji,rr),_s=Eo(Cs);T.current!==_s&&(T.current=_s,g(Cs))}),ni=Et(Me(),Me(!0));return Yt!==ni&&g(ni),yn}},[z]),Yt}var Wa=uo,bl=u.forwardRef(zo),ka=bl;ka.FormProvider=Ao,ka.Field=to,ka.List=Ns,ka.useForm=Ks,ka.useWatch=Wa;var Al=null;const ic=u.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),ja=null,hl=Ze=>{const te=omit(Ze,["prefixCls"]);return React.createElement(RcFormProvider,Object.assign({},te))},na=u.createContext({prefixCls:""}),Za=u.createContext({}),$a=Ze=>{let{children:te,status:H,override:le}=Ze;const ie=(0,u.useContext)(Za),$e=(0,u.useMemo)(()=>{const Fe=Object.assign({},ie);return le&&delete Fe.isFormItemInput,H&&(delete Fe.status,delete Fe.hasFeedback,delete Fe.feedbackIcon),Fe},[H,le,ie]);return u.createElement(Za.Provider,{value:$e},te)},Pl=(0,u.createContext)(void 0)},55669:function(Ci,At,I){"use strict";var u=I(75271),q=I(23754),$=I(1800);const de=function(Qe,fe){let ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var X,j;const{variant:he,[Qe]:ft}=(0,u.useContext)($.E_),st=(0,u.useContext)(q.pg),oe=ft==null?void 0:ft.variant;let ct;typeof fe!="undefined"?ct=fe:ee===!1?ct="borderless":ct=(j=(X=st!=null?st:oe)!==null&&X!==void 0?X:he)!==null&&j!==void 0?j:"outlined";const xe=$.tr.includes(ct);return[ct,xe]};At.Z=de},18243:function(Ci,At,I){"use strict";var u=I(75271);const q=(0,u.createContext)({});At.Z=q},58146:function(Ci,At,I){"use strict";I.d(At,{VM:function(){return ft},cG:function(){return st}});var u=I(40322),q=I(9199),$=I(76950);const de=oe=>{const{componentCls:ct}=oe;return{[ct]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Qe=oe=>{const{componentCls:ct}=oe;return{[ct]:{position:"relative",maxWidth:"100%",minHeight:1}}},fe=(oe,ct)=>{const{prefixCls:xe,componentCls:ne,gridColumns:Be}=oe,Oe={};for(let Ce=Be;Ce>=0;Ce--)Ce===0?(Oe[`${ne}${ct}-${Ce}`]={display:"none"},Oe[`${ne}-push-${Ce}`]={insetInlineStart:"auto"},Oe[`${ne}-pull-${Ce}`]={insetInlineEnd:"auto"},Oe[`${ne}${ct}-push-${Ce}`]={insetInlineStart:"auto"},Oe[`${ne}${ct}-pull-${Ce}`]={insetInlineEnd:"auto"},Oe[`${ne}${ct}-offset-${Ce}`]={marginInlineStart:0},Oe[`${ne}${ct}-order-${Ce}`]={order:0}):(Oe[`${ne}${ct}-${Ce}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${Ce/Be*100}%`,maxWidth:`${Ce/Be*100}%`}],Oe[`${ne}${ct}-push-${Ce}`]={insetInlineStart:`${Ce/Be*100}%`},Oe[`${ne}${ct}-pull-${Ce}`]={insetInlineEnd:`${Ce/Be*100}%`},Oe[`${ne}${ct}-offset-${Ce}`]={marginInlineStart:`${Ce/Be*100}%`},Oe[`${ne}${ct}-order-${Ce}`]={order:Ce});return Oe[`${ne}${ct}-flex`]={flex:`var(--${xe}${ct}-flex)`},Oe},ee=(oe,ct)=>fe(oe,ct),X=(oe,ct,xe)=>({[`@media (min-width: ${(0,u.bf)(ct)})`]:Object.assign({},ee(oe,xe))}),j=()=>({}),he=()=>({}),ft=(0,q.I$)("Grid",de,j),st=(0,q.I$)("Grid",oe=>{const ct=(0,$.IX)(oe,{gridColumns:24}),xe={"-sm":ct.screenSMMin,"-md":ct.screenMDMin,"-lg":ct.screenLGMin,"-xl":ct.screenXLMin,"-xxl":ct.screenXXLMin};return[Qe(ct),ee(ct,""),ee(ct,"-xs"),Object.keys(xe).map(ne=>X(ct,xe[ne],ne)).reduce((ne,Be)=>Object.assign(Object.assign({},ne),Be),{})]},he)},79572:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return hs}});var u=I(75271),q=I(93823),$=I(89856),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Qe=de,fe=I(77276),ee=function(vt,Ut){return u.createElement(fe.Z,(0,$.Z)({},vt,{ref:Ut,icon:Qe}))},X=u.forwardRef(ee),j=X,he=I(82187),ft=I.n(he),st=I(30985),oe=I(63194),ct=I(97171),xe=I(58424),ne=I(71479),Be=I(38172);function Oe(){return typeof BigInt=="function"}function Ce(dt){return!dt&&dt!==0&&!Number.isNaN(dt)||!String(dt).trim()}function at(dt){var vt=dt.trim(),Ut=vt.startsWith("-");Ut&&(vt=vt.slice(1)),vt=vt.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),vt.startsWith(".")&&(vt="0".concat(vt));var ti=vt||"0",Si=ti.split("."),Li=Si[0]||"0",Ds=Si[1]||"0";Li==="0"&&Ds==="0"&&(Ut=!1);var Sr=Ut?"-":"";return{negative:Ut,negativeStr:Sr,trimStr:ti,integerStr:Li,decimalStr:Ds,fullStr:"".concat(Sr).concat(ti)}}function re(dt){var vt=String(dt);return!Number.isNaN(Number(vt))&&vt.includes("e")}function we(dt){var vt=String(dt);if(re(dt)){var Ut=Number(vt.slice(vt.indexOf("e-")+2)),ti=vt.match(/\.(\d+)/);return ti!=null&&ti[1]&&(Ut+=ti[1].length),Ut}return vt.includes(".")&&E(vt)?vt.length-vt.indexOf(".")-1:0}function Ue(dt){var vt=String(dt);if(re(dt)){if(dt>Number.MAX_SAFE_INTEGER)return String(Oe()?BigInt(dt).toString():Number.MAX_SAFE_INTEGER);if(dt<Number.MIN_SAFE_INTEGER)return String(Oe()?BigInt(dt).toString():Number.MIN_SAFE_INTEGER);vt=dt.toFixed(we(vt))}return at(vt).fullStr}function E(dt){return typeof dt=="number"?!Number.isNaN(dt):dt?/^\s*-?\d+(\.\d+)?\s*$/.test(dt)||/^\s*-?\d+\.\s*$/.test(dt)||/^\s*-?\.\d+\s*$/.test(dt):!1}var tt=function(){function dt(vt){if((0,ne.Z)(this,dt),(0,st.Z)(this,"origin",""),(0,st.Z)(this,"negative",void 0),(0,st.Z)(this,"integer",void 0),(0,st.Z)(this,"decimal",void 0),(0,st.Z)(this,"decimalLen",void 0),(0,st.Z)(this,"empty",void 0),(0,st.Z)(this,"nan",void 0),Ce(vt)){this.empty=!0;return}if(this.origin=String(vt),vt==="-"||Number.isNaN(vt)){this.nan=!0;return}var Ut=vt;if(re(Ut)&&(Ut=Number(Ut)),Ut=typeof Ut=="string"?Ut:Ue(Ut),E(Ut)){var ti=at(Ut);this.negative=ti.negative;var Si=ti.trimStr.split(".");this.integer=BigInt(Si[0]);var Li=Si[1]||"0";this.decimal=BigInt(Li),this.decimalLen=Li.length}else this.nan=!0}return(0,Be.Z)(dt,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(Ut){var ti="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(Ut,"0"));return BigInt(ti)}},{key:"negate",value:function(){var Ut=new dt(this.toString());return Ut.negative=!Ut.negative,Ut}},{key:"cal",value:function(Ut,ti,Si){var Li=Math.max(this.getDecimalStr().length,Ut.getDecimalStr().length),Ds=this.alignDecimal(Li),Sr=Ut.alignDecimal(Li),Ls=ti(Ds,Sr).toString(),Us=Si(Li),As=at(Ls),yo=As.negativeStr,Ss=As.trimStr,wo="".concat(yo).concat(Ss.padStart(Us+1,"0"));return new dt("".concat(wo.slice(0,-Us),".").concat(wo.slice(-Us)))}},{key:"add",value:function(Ut){if(this.isInvalidate())return new dt(Ut);var ti=new dt(Ut);return ti.isInvalidate()?this:this.cal(ti,function(Si,Li){return Si+Li},function(Si){return Si})}},{key:"multi",value:function(Ut){var ti=new dt(Ut);return this.isInvalidate()||ti.isInvalidate()?new dt(NaN):this.cal(ti,function(Si,Li){return Si*Li},function(Si){return Si*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Ut){return this.toString()===(Ut==null?void 0:Ut.toString())}},{key:"lessEquals",value:function(Ut){return this.add(Ut.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Ut?this.isInvalidate()?"":at("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),dt}(),Ie=function(){function dt(vt){if((0,ne.Z)(this,dt),(0,st.Z)(this,"origin",""),(0,st.Z)(this,"number",void 0),(0,st.Z)(this,"empty",void 0),Ce(vt)){this.empty=!0;return}this.origin=String(vt),this.number=Number(vt)}return(0,Be.Z)(dt,[{key:"negate",value:function(){return new dt(-this.toNumber())}},{key:"add",value:function(Ut){if(this.isInvalidate())return new dt(Ut);var ti=Number(Ut);if(Number.isNaN(ti))return this;var Si=this.number+ti;if(Si>Number.MAX_SAFE_INTEGER)return new dt(Number.MAX_SAFE_INTEGER);if(Si<Number.MIN_SAFE_INTEGER)return new dt(Number.MIN_SAFE_INTEGER);var Li=Math.max(we(this.number),we(ti));return new dt(Si.toFixed(Li))}},{key:"multi",value:function(Ut){var ti=Number(Ut);if(this.isInvalidate()||Number.isNaN(ti))return new dt(NaN);var Si=this.number*ti;if(Si>Number.MAX_SAFE_INTEGER)return new dt(Number.MAX_SAFE_INTEGER);if(Si<Number.MIN_SAFE_INTEGER)return new dt(Number.MIN_SAFE_INTEGER);var Li=Math.max(we(this.number),we(ti));return new dt(Si.toFixed(Li))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Ut){return this.toNumber()===(Ut==null?void 0:Ut.toNumber())}},{key:"lessEquals",value:function(Ut){return this.add(Ut.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Ut?this.isInvalidate()?"":Ue(this.number):this.origin}}]),dt}();function Le(dt){return Oe()?new tt(dt):new Ie(dt)}function bt(dt,vt,Ut){var ti=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(dt==="")return"";var Si=at(dt),Li=Si.negativeStr,Ds=Si.integerStr,Sr=Si.decimalStr,Ls="".concat(vt).concat(Sr),Us="".concat(Li).concat(Ds);if(Ut>=0){var As=Number(Sr[Ut]);if(As>=5&&!ti){var yo=Le(dt).add("".concat(Li,"0.").concat("0".repeat(Ut)).concat(10-As));return bt(yo.toString(),vt,Ut,ti)}return Ut===0?Us:"".concat(Us).concat(vt).concat(Sr.padEnd(Ut,"0").slice(0,Ut))}return Ls===".0"?Us:"".concat(Us).concat(Ls)}var en=Le,lt=I(64919),Ht=I(40570);function Pn(dt,vt){return typeof Proxy!="undefined"&&dt?new Proxy(dt,{get:function(ti,Si){if(vt[Si])return vt[Si];var Li=ti[Si];return typeof Li=="function"?Li.bind(ti):Li}}):dt}var vi=I(3083),Rt=I(7432);function ut(dt,vt){var Ut=(0,u.useRef)(null);function ti(){try{var Li=dt.selectionStart,Ds=dt.selectionEnd,Sr=dt.value,Ls=Sr.substring(0,Li),Us=Sr.substring(Ds);Ut.current={start:Li,end:Ds,value:Sr,beforeTxt:Ls,afterTxt:Us}}catch(As){}}function Si(){if(dt&&Ut.current&&vt)try{var Li=dt.value,Ds=Ut.current,Sr=Ds.beforeTxt,Ls=Ds.afterTxt,Us=Ds.start,As=Li.length;if(Li.startsWith(Sr))As=Sr.length;else if(Li.endsWith(Ls))As=Li.length-Ut.current.afterTxt.length;else{var yo=Sr[Us-1],Ss=Li.indexOf(yo,Us-1);Ss!==-1&&(As=Ss+1)}dt.setSelectionRange(As,As)}catch(wo){(0,Rt.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(wo.message))}}return[ti,Si]}var Ge=I(27741),ot=function(){var vt=(0,u.useState)(!1),Ut=(0,ct.Z)(vt,2),ti=Ut[0],Si=Ut[1];return(0,Ht.Z)(function(){Si((0,Ge.Z)())},[]),ti},mt=ot,kt=I(15363),qt=200,Yn=600;function _n(dt){var vt=dt.prefixCls,Ut=dt.upNode,ti=dt.downNode,Si=dt.upDisabled,Li=dt.downDisabled,Ds=dt.onStep,Sr=u.useRef(),Ls=u.useRef([]),Us=u.useRef();Us.current=Ds;var As=function(){clearTimeout(Sr.current)},yo=function(Vn,Dn){Vn.preventDefault(),As(),Us.current(Dn);function ri(){Us.current(Dn),Sr.current=setTimeout(ri,qt)}Sr.current=setTimeout(ri,Yn)};u.useEffect(function(){return function(){As(),Ls.current.forEach(function(an){return kt.Z.cancel(an)})}},[]);var Ss=mt();if(Ss)return null;var wo="".concat(vt,"-handler"),Mo=ft()(wo,"".concat(wo,"-up"),(0,st.Z)({},"".concat(wo,"-up-disabled"),Si)),It=ft()(wo,"".concat(wo,"-down"),(0,st.Z)({},"".concat(wo,"-down-disabled"),Li)),Rn=function(){return Ls.current.push((0,kt.Z)(As))},zn={unselectable:"on",role:"button",onMouseUp:Rn,onMouseLeave:Rn};return u.createElement("div",{className:"".concat(wo,"-wrap")},u.createElement("span",(0,$.Z)({},zn,{onMouseDown:function(Vn){yo(Vn,!0)},"aria-label":"Increase Value","aria-disabled":Si,className:Mo}),Ut||u.createElement("span",{unselectable:"on",className:"".concat(vt,"-handler-up-inner")})),u.createElement("span",(0,$.Z)({},zn,{onMouseDown:function(Vn){yo(Vn,!1)},"aria-label":"Decrease Value","aria-disabled":Li,className:It}),ti||u.createElement("span",{unselectable:"on",className:"".concat(vt,"-handler-down-inner")})))}function Lt(dt){var vt=typeof dt=="number"?Ue(dt):at(dt).fullStr,Ut=vt.includes(".");return Ut?at(vt.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:dt+"0"}var Kn=I(49207),ln=function(){var dt=(0,u.useRef)(0),vt=function(){kt.Z.cancel(dt.current)};return(0,u.useEffect)(function(){return vt},[]),function(Ut){vt(),dt.current=(0,kt.Z)(function(){Ut()})}},Gt=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],Bt=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Nn=function(vt,Ut){return vt||Ut.isEmpty()?Ut.toString():Ut.toNumber()},Pt=function(vt){var Ut=en(vt);return Ut.isInvalidate()?null:Ut},rn=u.forwardRef(function(dt,vt){var Ut=dt.prefixCls,ti=dt.className,Si=dt.style,Li=dt.min,Ds=dt.max,Sr=dt.step,Ls=Sr===void 0?1:Sr,Us=dt.defaultValue,As=dt.value,yo=dt.disabled,Ss=dt.readOnly,wo=dt.upHandler,Mo=dt.downHandler,It=dt.keyboard,Rn=dt.changeOnWheel,zn=Rn===void 0?!1:Rn,an=dt.controls,Vn=an===void 0?!0:an,Dn=dt.classNames,ri=dt.stringMode,Ni=dt.parser,Hr=dt.formatter,pr=dt.precision,Ir=dt.decimalSeparator,vr=dt.onChange,zs=dt.onInput,so=dt.onPressEnter,Xr=dt.onStep,Ws=dt.changeOnBlur,jo=Ws===void 0?!0:Ws,Js=dt.domRef,Qs=(0,xe.Z)(dt,Gt),_i="".concat(Ut,"-input"),eo=u.useRef(null),js=u.useState(!1),Ps=(0,ct.Z)(js,2),Vr=Ps[0],Wr=Ps[1],Hi=u.useRef(!1),qr=u.useRef(!1),Jr=u.useRef(!1),gr=u.useState(function(){return en(As!=null?As:Us)}),oo=(0,ct.Z)(gr,2),Yi=oo[0],to=oo[1];function Ho(Ze){As===void 0&&to(Ze)}var Ns=u.useCallback(function(Ze,te){if(!te)return pr>=0?pr:Math.max(we(Ze),we(Ls))},[pr,Ls]),Zo=u.useCallback(function(Ze){var te=String(Ze);if(Ni)return Ni(te);var H=te;return Ir&&(H=H.replace(Ir,".")),H.replace(/[^\w.-]+/g,"")},[Ni,Ir]),Go=u.useRef(""),ys=u.useCallback(function(Ze,te){if(Hr)return Hr(Ze,{userTyping:te,input:String(Go.current)});var H=typeof Ze=="number"?Ue(Ze):Ze;if(!te){var le=Ns(H,te);if(E(H)&&(Ir||le>=0)){var ie=Ir||".";H=bt(H,ie,le)}}return H},[Hr,Ns,Ir]),qi=u.useState(function(){var Ze=Us!=null?Us:As;return Yi.isInvalidate()&&["string","number"].includes((0,oe.Z)(Ze))?Number.isNaN(Ze)?"":Ze:ys(Yi.toString(),!1)}),Ui=(0,ct.Z)(qi,2),Ei=Ui[0],xo=Ui[1];Go.current=Ei;function Os(Ze,te){xo(ys(Ze.isInvalidate()?Ze.toString(!1):Ze.toString(!te),te))}var Xo=u.useMemo(function(){return Pt(Ds)},[Ds,pr]),Ks=u.useMemo(function(){return Pt(Li)},[Li,pr]),Ea=u.useMemo(function(){return!Xo||!Yi||Yi.isInvalidate()?!1:Xo.lessEquals(Yi)},[Xo,Yi]),Ao=u.useMemo(function(){return!Ks||!Yi||Yi.isInvalidate()?!1:Yi.lessEquals(Ks)},[Ks,Yi]),bo=ut(eo.current,Vr),Yo=(0,ct.Z)(bo,2),Po=Yo[0],zo=Yo[1],Eo=function(te){return Xo&&!te.lessEquals(Xo)?Xo:Ks&&!Ks.lessEquals(te)?Ks:null},ma=function(te){return!Eo(te)},uo=function(te,H){var le=te,ie=ma(le)||le.isEmpty();if(!le.isEmpty()&&!H&&(le=Eo(le)||le,ie=!0),!Ss&&!yo&&ie){var $e=le.toString(),Fe=Ns($e,H);return Fe>=0&&(le=en(bt($e,".",Fe)),ma(le)||(le=en(bt($e,".",Fe,!0)))),le.equals(Yi)||(Ho(le),vr==null||vr(le.isEmpty()?null:Nn(ri,le)),As===void 0&&Os(le,H)),le}return Yi},Wa=ln(),bl=function Ze(te){if(Po(),Go.current=te,xo(te),!qr.current){var H=Zo(te),le=en(H);le.isNaN()||uo(le,!0)}zs==null||zs(te),Wa(function(){var ie=te;Ni||(ie=te.replace(/。/g,".")),ie!==te&&Ze(ie)})},ka=function(){qr.current=!0},Al=function(){qr.current=!1,bl(eo.current.value)},ic=function(te){bl(te.target.value)},ja=function(te){var H;if(!(te&&Ea||!te&&Ao)){Hi.current=!1;var le=en(Jr.current?Lt(Ls):Ls);te||(le=le.negate());var ie=(Yi||en(0)).add(le.toString()),$e=uo(ie,!1);Xr==null||Xr(Nn(ri,$e),{offset:Jr.current?Lt(Ls):Ls,type:te?"up":"down"}),(H=eo.current)===null||H===void 0||H.focus()}},hl=function(te){var H=en(Zo(Ei)),le;H.isNaN()?le=uo(Yi,te):le=uo(H,te),As!==void 0?Os(Yi,!1):le.isNaN()||Os(le,!1)},na=function(){Hi.current=!0},Za=function(te){var H=te.key,le=te.shiftKey;Hi.current=!0,Jr.current=le,H==="Enter"&&(qr.current||(Hi.current=!1),hl(!1),so==null||so(te)),It!==!1&&!qr.current&&["Up","ArrowUp","Down","ArrowDown"].includes(H)&&(ja(H==="Up"||H==="ArrowUp"),te.preventDefault())},$a=function(){Hi.current=!1,Jr.current=!1};u.useEffect(function(){if(zn&&Vr){var Ze=function(le){ja(le.deltaY<0),le.preventDefault()},te=eo.current;if(te)return te.addEventListener("wheel",Ze,{passive:!1}),function(){return te.removeEventListener("wheel",Ze)}}});var Pl=function(){jo&&hl(!1),Wr(!1),Hi.current=!1};return(0,Ht.o)(function(){Yi.isInvalidate()||Os(Yi,!1)},[pr,Hr]),(0,Ht.o)(function(){var Ze=en(As);to(Ze);var te=en(Zo(Ei));(!Ze.equals(te)||!Hi.current||Hr)&&Os(Ze,Hi.current)},[As]),(0,Ht.o)(function(){Hr&&zo()},[Ei]),u.createElement("div",{ref:Js,className:ft()(Ut,ti,(0,st.Z)((0,st.Z)((0,st.Z)((0,st.Z)((0,st.Z)({},"".concat(Ut,"-focused"),Vr),"".concat(Ut,"-disabled"),yo),"".concat(Ut,"-readonly"),Ss),"".concat(Ut,"-not-a-number"),Yi.isNaN()),"".concat(Ut,"-out-of-range"),!Yi.isInvalidate()&&!ma(Yi))),style:Si,onFocus:function(){Wr(!0)},onBlur:Pl,onKeyDown:Za,onKeyUp:$a,onCompositionStart:ka,onCompositionEnd:Al,onBeforeInput:na},Vn&&u.createElement(_n,{prefixCls:Ut,upNode:wo,downNode:Mo,upDisabled:Ea,downDisabled:Ao,onStep:ja}),u.createElement("div",{className:"".concat(_i,"-wrap")},u.createElement("input",(0,$.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":Li,"aria-valuemax":Ds,"aria-valuenow":Yi.isInvalidate()?null:Yi.toString(),step:Ls},Qs,{ref:(0,vi.sQ)(eo,vt),className:_i,value:Ei,onChange:ic,disabled:yo,readOnly:Ss}))))}),cn=u.forwardRef(function(dt,vt){var Ut=dt.disabled,ti=dt.style,Si=dt.prefixCls,Li=Si===void 0?"rc-input-number":Si,Ds=dt.value,Sr=dt.prefix,Ls=dt.suffix,Us=dt.addonBefore,As=dt.addonAfter,yo=dt.className,Ss=dt.classNames,wo=(0,xe.Z)(dt,Bt),Mo=u.useRef(null),It=u.useRef(null),Rn=u.useRef(null),zn=function(Vn){Rn.current&&(0,Kn.nH)(Rn.current,Vn)};return u.useImperativeHandle(vt,function(){return Pn(Rn.current,{nativeElement:Mo.current.nativeElement||It.current})}),u.createElement(lt.Q,{className:yo,triggerFocus:zn,prefixCls:Li,value:Ds,disabled:Ut,style:ti,prefix:Sr,suffix:Ls,addonAfter:As,addonBefore:Us,classNames:Ss,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:Mo},u.createElement(rn,(0,$.Z)({prefixCls:Li,disabled:Ut,ref:Rn,domRef:It,className:Ss==null?void 0:Ss.input},wo)))}),zi=cn,Mi=zi,as=I(30343),dn=I(72489),Rr=I(1800),is=I(97045),mr=I(82961),bi=I(38785),qn=I(57892),Fi=I(23754),pn=I(55669),it=I(23917),Vs=I(40322),nr=I(84728),zr=I(89335),kr=I(42431),Hn=I(10500),ce=I(24553),Qt=I(9199),gn=I(76950),Ft=I(99978);const on=dt=>{var vt;const Ut=(vt=dt.handleVisible)!==null&&vt!==void 0?vt:"auto";return Object.assign(Object.assign({},(0,zr.T)(dt)),{controlWidth:90,handleWidth:dt.controlHeightSM-dt.lineWidth*2,handleFontSize:dt.fontSize/2,handleVisible:Ut,handleActiveBg:dt.colorFillAlter,handleBg:dt.colorBgContainer,filledHandleBg:new Ft.C(dt.colorFillSecondary).onBackground(dt.colorBgContainer).toHexString(),handleHoverColor:dt.colorPrimary,handleBorderColor:dt.colorBorder,handleOpacity:Ut===!0?1:0})},Cn=(dt,vt)=>{let{componentCls:Ut,borderRadiusSM:ti,borderRadiusLG:Si}=dt;const Li=vt==="lg"?Si:ti;return{[`&-${vt}`]:{[`${Ut}-handler-wrap`]:{borderStartEndRadius:Li,borderEndEndRadius:Li},[`${Ut}-handler-up`]:{borderStartEndRadius:Li},[`${Ut}-handler-down`]:{borderEndEndRadius:Li}}}},Or=dt=>{const{componentCls:vt,lineWidth:Ut,lineType:ti,borderRadius:Si,inputFontSizeSM:Li,inputFontSizeLG:Ds,controlHeightLG:Sr,controlHeightSM:Ls,colorError:Us,paddingInlineSM:As,paddingBlockSM:yo,paddingBlockLG:Ss,paddingInlineLG:wo,colorTextDescription:Mo,motionDurationMid:It,handleHoverColor:Rn,handleOpacity:zn,paddingInline:an,paddingBlock:Vn,handleBg:Dn,handleActiveBg:ri,colorTextDisabled:Ni,borderRadiusSM:Hr,borderRadiusLG:pr,controlWidth:Ir,handleBorderColor:vr,filledHandleBg:zs,lineHeightLG:so,calc:Xr}=dt;return[{[vt]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Hn.Wf)(dt)),(0,nr.ik)(dt)),{display:"inline-block",width:Ir,margin:0,padding:0,borderRadius:Si}),(0,kr.qG)(dt,{[`${vt}-handler-wrap`]:{background:Dn,[`${vt}-handler-down`]:{borderBlockStart:`${(0,Vs.bf)(Ut)} ${ti} ${vr}`}}})),(0,kr.H8)(dt,{[`${vt}-handler-wrap`]:{background:zs,[`${vt}-handler-down`]:{borderBlockStart:`${(0,Vs.bf)(Ut)} ${ti} ${vr}`}},"&:focus-within":{[`${vt}-handler-wrap`]:{background:Dn}}})),(0,kr.Mu)(dt)),{"&-rtl":{direction:"rtl",[`${vt}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:Ds,lineHeight:so,borderRadius:pr,[`input${vt}-input`]:{height:Xr(Sr).sub(Xr(Ut).mul(2)).equal(),padding:`${(0,Vs.bf)(Ss)} ${(0,Vs.bf)(wo)}`}},"&-sm":{padding:0,fontSize:Li,borderRadius:Hr,[`input${vt}-input`]:{height:Xr(Ls).sub(Xr(Ut).mul(2)).equal(),padding:`${(0,Vs.bf)(yo)} ${(0,Vs.bf)(As)}`}},"&-out-of-range":{[`${vt}-input-wrap`]:{input:{color:Us}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,Hn.Wf)(dt)),(0,nr.s7)(dt)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${vt}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${vt}-group-addon`]:{borderRadius:pr,fontSize:dt.fontSizeLG}},"&-sm":{[`${vt}-group-addon`]:{borderRadius:Hr}}},(0,kr.ir)(dt)),(0,kr.S5)(dt)),{[`&:not(${vt}-compact-first-item):not(${vt}-compact-last-item)${vt}-compact-item`]:{[`${vt}, ${vt}-group-addon`]:{borderRadius:0}},[`&:not(${vt}-compact-last-item)${vt}-compact-first-item`]:{[`${vt}, ${vt}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${vt}-compact-first-item)${vt}-compact-last-item`]:{[`${vt}, ${vt}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${vt}-input`]:{cursor:"not-allowed"},[vt]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,Hn.Wf)(dt)),{width:"100%",padding:`${(0,Vs.bf)(Vn)} ${(0,Vs.bf)(an)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:Si,outline:0,transition:`all ${It} linear`,appearance:"textfield",fontSize:"inherit"}),(0,nr.nz)(dt.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${vt}-handler-wrap, &-focused ${vt}-handler-wrap`]:{width:dt.handleWidth,opacity:1}})},{[vt]:Object.assign(Object.assign(Object.assign({[`${vt}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:0,opacity:zn,height:"100%",borderStartStartRadius:0,borderStartEndRadius:Si,borderEndEndRadius:Si,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${It}`,overflow:"hidden",[`${vt}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${vt}-handler-up-inner,
              ${vt}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:dt.handleFontSize}}},[`${vt}-handler`]:{height:"50%",overflow:"hidden",color:Mo,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,Vs.bf)(Ut)} ${ti} ${vr}`,transition:`all ${It} linear`,"&:active":{background:ri},"&:hover":{height:"60%",[`
              ${vt}-handler-up-inner,
              ${vt}-handler-down-inner
            `]:{color:Rn}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,Hn.Ro)()),{color:Mo,transition:`all ${It} linear`,userSelect:"none"})},[`${vt}-handler-up`]:{borderStartEndRadius:Si},[`${vt}-handler-down`]:{borderEndEndRadius:Si}},Cn(dt,"lg")),Cn(dt,"sm")),{"&-disabled, &-readonly":{[`${vt}-handler-wrap`]:{display:"none"},[`${vt}-input`]:{color:"inherit"}},[`
          ${vt}-handler-up-disabled,
          ${vt}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${vt}-handler-up-disabled:hover &-handler-up-inner,
          ${vt}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:Ni}})}]},ds=dt=>{const{componentCls:vt,paddingBlock:Ut,paddingInline:ti,inputAffixPadding:Si,controlWidth:Li,borderRadiusLG:Ds,borderRadiusSM:Sr,paddingInlineLG:Ls,paddingInlineSM:Us,paddingBlockLG:As,paddingBlockSM:yo,motionDurationMid:Ss}=dt;return{[`${vt}-affix-wrapper`]:Object.assign(Object.assign({[`input${vt}-input`]:{padding:`${(0,Vs.bf)(Ut)} 0`}},(0,nr.ik)(dt)),{position:"relative",display:"inline-flex",alignItems:"center",width:Li,padding:0,paddingInlineStart:ti,"&-lg":{borderRadius:Ds,paddingInlineStart:Ls,[`input${vt}-input`]:{padding:`${(0,Vs.bf)(As)} 0`}},"&-sm":{borderRadius:Sr,paddingInlineStart:Us,[`input${vt}-input`]:{padding:`${(0,Vs.bf)(yo)} 0`}},[`&:not(${vt}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${vt}-disabled`]:{background:"transparent"},[`> div${vt}`]:{width:"100%",border:"none",outline:"none",[`&${vt}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${vt}-handler-wrap`]:{zIndex:2},[vt]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:Si},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:ti,marginInlineStart:Si,transition:`margin ${Ss}`}},[`&:hover ${vt}-handler-wrap, &-focused ${vt}-handler-wrap`]:{width:dt.handleWidth,opacity:1},[`&:hover ${vt}-suffix`]:{marginInlineEnd:dt.calc(dt.handleWidth).add(ti).equal()}})}};var io=(0,Qt.I$)("InputNumber",dt=>{const vt=(0,gn.IX)(dt,(0,zr.e)(dt));return[Or(vt),ds(vt),(0,ce.c)(vt)]},on,{unitless:{handleOpacity:!0}}),$r=function(dt,vt){var Ut={};for(var ti in dt)Object.prototype.hasOwnProperty.call(dt,ti)&&vt.indexOf(ti)<0&&(Ut[ti]=dt[ti]);if(dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Si=0,ti=Object.getOwnPropertySymbols(dt);Si<ti.length;Si++)vt.indexOf(ti[Si])<0&&Object.prototype.propertyIsEnumerable.call(dt,ti[Si])&&(Ut[ti[Si]]=dt[ti[Si]]);return Ut};const fr=u.forwardRef((dt,vt)=>{const{getPrefixCls:Ut,direction:ti}=u.useContext(Rr.E_),Si=u.useRef(null);u.useImperativeHandle(vt,()=>Si.current);const{className:Li,rootClassName:Ds,size:Sr,disabled:Ls,prefixCls:Us,addonBefore:As,addonAfter:yo,prefix:Ss,suffix:wo,bordered:Mo,readOnly:It,status:Rn,controls:zn,variant:an}=dt,Vn=$r(dt,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),Dn=Ut("input-number",Us),ri=(0,bi.Z)(Dn),[Ni,Hr,pr]=io(Dn,ri),{compactSize:Ir,compactItemClassnames:vr}=(0,it.ri)(Dn,ti);let zs=u.createElement(j,{className:`${Dn}-handler-up-inner`}),so=u.createElement(q.Z,{className:`${Dn}-handler-down-inner`});const Xr=typeof zn=="boolean"?zn:void 0;typeof zn=="object"&&(zs=typeof zn.upIcon=="undefined"?zs:u.createElement("span",{className:`${Dn}-handler-up-inner`},zn.upIcon),so=typeof zn.downIcon=="undefined"?so:u.createElement("span",{className:`${Dn}-handler-down-inner`},zn.downIcon));const{hasFeedback:Ws,status:jo,isFormItemInput:Js,feedbackIcon:Qs}=u.useContext(Fi.aM),_i=(0,dn.F)(jo,Rn),eo=(0,qn.Z)(oo=>{var Yi;return(Yi=Sr!=null?Sr:Ir)!==null&&Yi!==void 0?Yi:oo}),js=u.useContext(mr.Z),Ps=Ls!=null?Ls:js,[Vr,Wr]=(0,pn.Z)("inputNumber",an,Mo),Hi=Ws&&u.createElement(u.Fragment,null,Qs),qr=ft()({[`${Dn}-lg`]:eo==="large",[`${Dn}-sm`]:eo==="small",[`${Dn}-rtl`]:ti==="rtl",[`${Dn}-in-form-item`]:Js},Hr),Jr=`${Dn}-group`,gr=u.createElement(Mi,Object.assign({ref:Si,disabled:Ps,className:ft()(pr,ri,Li,Ds,vr),upHandler:zs,downHandler:so,prefixCls:Dn,readOnly:It,controls:Xr,prefix:Ss,suffix:Hi||wo,addonBefore:As&&u.createElement(as.Z,{form:!0,space:!0},As),addonAfter:yo&&u.createElement(as.Z,{form:!0,space:!0},yo),classNames:{input:qr,variant:ft()({[`${Dn}-${Vr}`]:Wr},(0,dn.Z)(Dn,_i,Ws)),affixWrapper:ft()({[`${Dn}-affix-wrapper-sm`]:eo==="small",[`${Dn}-affix-wrapper-lg`]:eo==="large",[`${Dn}-affix-wrapper-rtl`]:ti==="rtl"},Hr),wrapper:ft()({[`${Jr}-rtl`]:ti==="rtl"},Hr),groupWrapper:ft()({[`${Dn}-group-wrapper-sm`]:eo==="small",[`${Dn}-group-wrapper-lg`]:eo==="large",[`${Dn}-group-wrapper-rtl`]:ti==="rtl",[`${Dn}-group-wrapper-${Vr}`]:Wr},(0,dn.Z)(`${Dn}-group-wrapper`,_i,Ws),Hr)}},Vn));return Ni(gr)}),ir=fr,_r=dt=>u.createElement(is.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},u.createElement(fr,Object.assign({},dt)));ir._InternalPanelDoNotUseOrYouWillBeFired=_r;var hs=ir},74590:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return Mo}});var u=I(75271),q=I(82187),$=I.n(q),de=I(1800),Qe=I(23754),fe=I(84728),X=It=>{const{getPrefixCls:Rn,direction:zn}=(0,u.useContext)(de.E_),{prefixCls:an,className:Vn}=It,Dn=Rn("input-group",an),ri=Rn("input"),[Ni,Hr]=(0,fe.ZP)(ri),pr=$()(Dn,{[`${Dn}-lg`]:It.size==="large",[`${Dn}-sm`]:It.size==="small",[`${Dn}-compact`]:It.compact,[`${Dn}-rtl`]:zn==="rtl"},Hr,Vn),Ir=(0,u.useContext)(Qe.aM),vr=(0,u.useMemo)(()=>Object.assign(Object.assign({},Ir),{isFormItemInput:!1}),[Ir]);return Ni(u.createElement("span",{className:pr,style:It.style,onMouseEnter:It.onMouseEnter,onMouseLeave:It.onMouseLeave,onFocus:It.onFocus,onBlur:It.onBlur},u.createElement(Qe.aM.Provider,{value:vr},It.children)))},j=I(64919),he=I(3083),ft=I(30343),st=I(74855),ct=It=>{let Rn;return typeof It=="object"&&(It!=null&&It.clearIcon)?Rn=It:It&&(Rn={clearIcon:u.createElement(st.Z,null)}),Rn},xe=I(72489),ne=I(82961),Be=I(38785),Oe=I(57892),Ce=I(55669),at=I(23917);function re(It,Rn){const zn=(0,u.useRef)([]),an=()=>{zn.current.push(setTimeout(()=>{var Vn,Dn,ri,Ni;!((Vn=It.current)===null||Vn===void 0)&&Vn.input&&((Dn=It.current)===null||Dn===void 0?void 0:Dn.input.getAttribute("type"))==="password"&&(!((ri=It.current)===null||ri===void 0)&&ri.input.hasAttribute("value"))&&((Ni=It.current)===null||Ni===void 0||Ni.input.removeAttribute("value"))}))};return(0,u.useEffect)(()=>(Rn&&an(),()=>zn.current.forEach(Vn=>{Vn&&clearTimeout(Vn)})),[]),an}function we(It){return!!(It.prefix||It.suffix||It.allowClear||It.showCount)}var Ue=function(It,Rn){var zn={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Rn.indexOf(an)<0&&(zn[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vn=0,an=Object.getOwnPropertySymbols(It);Vn<an.length;Vn++)Rn.indexOf(an[Vn])<0&&Object.prototype.propertyIsEnumerable.call(It,an[Vn])&&(zn[an[Vn]]=It[an[Vn]]);return zn};function E(It,Rn){if(!It)return;It.focus(Rn);const{cursor:zn}=Rn||{};if(zn){const an=It.value.length;switch(zn){case"start":It.setSelectionRange(0,0);break;case"end":It.setSelectionRange(an,an);break;default:It.setSelectionRange(0,an)}}}var Ie=(0,u.forwardRef)((It,Rn)=>{var zn;const{prefixCls:an,bordered:Vn=!0,status:Dn,size:ri,disabled:Ni,onBlur:Hr,onFocus:pr,suffix:Ir,allowClear:vr,addonAfter:zs,addonBefore:so,className:Xr,style:Ws,styles:jo,rootClassName:Js,onChange:Qs,classNames:_i,variant:eo}=It,js=Ue(It,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:Ps,direction:Vr,input:Wr}=u.useContext(de.E_),Hi=Ps("input",an),qr=(0,u.useRef)(null),Jr=(0,Be.Z)(Hi),[gr,oo,Yi]=(0,fe.ZP)(Hi,Jr),{compactSize:to,compactItemClassnames:Ho}=(0,at.ri)(Hi,Vr),Ns=(0,Oe.Z)(Eo=>{var ma;return(ma=ri!=null?ri:to)!==null&&ma!==void 0?ma:Eo}),Zo=u.useContext(ne.Z),Go=Ni!=null?Ni:Zo,{status:ys,hasFeedback:qi,feedbackIcon:Ui}=(0,u.useContext)(Qe.aM),Ei=(0,xe.F)(ys,Dn),xo=we(It)||!!qi,Os=(0,u.useRef)(xo),Xo=re(qr,!0),Ks=Eo=>{Xo(),Hr==null||Hr(Eo)},Ea=Eo=>{Xo(),pr==null||pr(Eo)},Ao=Eo=>{Xo(),Qs==null||Qs(Eo)},bo=(qi||Ir)&&u.createElement(u.Fragment,null,Ir,qi&&Ui),Yo=ct(vr!=null?vr:Wr==null?void 0:Wr.allowClear),[Po,zo]=(0,Ce.Z)("input",eo,Vn);return gr(u.createElement(j.Z,Object.assign({ref:(0,he.sQ)(Rn,qr),prefixCls:Hi,autoComplete:Wr==null?void 0:Wr.autoComplete},js,{disabled:Go,onBlur:Ks,onFocus:Ea,style:Object.assign(Object.assign({},Wr==null?void 0:Wr.style),Ws),styles:Object.assign(Object.assign({},Wr==null?void 0:Wr.styles),jo),suffix:bo,allowClear:Yo,className:$()(Xr,Js,Yi,Jr,Ho,Wr==null?void 0:Wr.className),onChange:Ao,addonBefore:so&&u.createElement(ft.Z,{form:!0,space:!0},so),addonAfter:zs&&u.createElement(ft.Z,{form:!0,space:!0},zs),classNames:Object.assign(Object.assign(Object.assign({},_i),Wr==null?void 0:Wr.classNames),{input:$()({[`${Hi}-sm`]:Ns==="small",[`${Hi}-lg`]:Ns==="large",[`${Hi}-rtl`]:Vr==="rtl"},_i==null?void 0:_i.input,(zn=Wr==null?void 0:Wr.classNames)===null||zn===void 0?void 0:zn.input,oo),variant:$()({[`${Hi}-${Po}`]:zo},(0,xe.Z)(Hi,Ei)),affixWrapper:$()({[`${Hi}-affix-wrapper-sm`]:Ns==="small",[`${Hi}-affix-wrapper-lg`]:Ns==="large",[`${Hi}-affix-wrapper-rtl`]:Vr==="rtl"},oo),wrapper:$()({[`${Hi}-group-rtl`]:Vr==="rtl"},oo),groupWrapper:$()({[`${Hi}-group-wrapper-sm`]:Ns==="small",[`${Hi}-group-wrapper-lg`]:Ns==="large",[`${Hi}-group-wrapper-rtl`]:Vr==="rtl",[`${Hi}-group-wrapper-${Po}`]:zo},(0,xe.Z)(`${Hi}-group-wrapper`,Ei,qi),oo)})})))}),Le=I(40665),bt=I(28774),en=I(41045),lt=I(9199),Ht=I(76950),Pn=I(89335);const vi=It=>{const{componentCls:Rn,paddingXS:zn}=It;return{[Rn]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:zn,"&-rtl":{direction:"rtl"},[`${Rn}-input`]:{textAlign:"center",paddingInline:It.paddingXXS},[`&${Rn}-sm ${Rn}-input`]:{paddingInline:It.calc(It.paddingXXS).div(2).equal()},[`&${Rn}-lg ${Rn}-input`]:{paddingInline:It.paddingXS}}}};var Rt=(0,lt.I$)(["Input","OTP"],It=>{const Rn=(0,Ht.IX)(It,(0,Pn.e)(It));return[vi(Rn)]},Pn.T),ut=I(15363),Ge=function(It,Rn){var zn={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Rn.indexOf(an)<0&&(zn[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vn=0,an=Object.getOwnPropertySymbols(It);Vn<an.length;Vn++)Rn.indexOf(an[Vn])<0&&Object.prototype.propertyIsEnumerable.call(It,an[Vn])&&(zn[an[Vn]]=It[an[Vn]]);return zn},mt=u.forwardRef((It,Rn)=>{const{value:zn,onChange:an,onActiveChange:Vn,index:Dn,mask:ri}=It,Ni=Ge(It,["value","onChange","onActiveChange","index","mask"]),Hr=zn&&typeof ri=="string"?ri:zn,pr=Xr=>{an(Dn,Xr.target.value)},Ir=u.useRef(null);u.useImperativeHandle(Rn,()=>Ir.current);const vr=()=>{(0,ut.Z)(()=>{var Xr;const Ws=(Xr=Ir.current)===null||Xr===void 0?void 0:Xr.input;document.activeElement===Ws&&Ws&&Ws.select()})},zs=Xr=>{let{key:Ws}=Xr;Ws==="ArrowLeft"?Vn(Dn-1):Ws==="ArrowRight"&&Vn(Dn+1),vr()},so=Xr=>{Xr.key==="Backspace"&&!zn&&Vn(Dn-1),vr()};return u.createElement(Ie,Object.assign({},Ni,{ref:Ir,value:Hr,onInput:pr,onFocus:vr,onKeyDown:zs,onKeyUp:so,onMouseDown:vr,onMouseUp:vr,type:ri===!0?"password":"text"}))}),kt=function(It,Rn){var zn={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Rn.indexOf(an)<0&&(zn[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vn=0,an=Object.getOwnPropertySymbols(It);Vn<an.length;Vn++)Rn.indexOf(an[Vn])<0&&Object.prototype.propertyIsEnumerable.call(It,an[Vn])&&(zn[an[Vn]]=It[an[Vn]]);return zn};function qt(It){return(It||"").split("")}var _n=u.forwardRef((It,Rn)=>{const{prefixCls:zn,length:an=6,size:Vn,defaultValue:Dn,value:ri,onChange:Ni,formatter:Hr,variant:pr,disabled:Ir,status:vr,autoFocus:zs,mask:so}=It,Xr=kt(It,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]),{getPrefixCls:Ws,direction:jo}=u.useContext(de.E_),Js=Ws("otp",zn),Qs=(0,en.Z)(Xr,{aria:!0,data:!0,attr:!0}),_i=(0,Be.Z)(Js),[eo,js,Ps]=Rt(Js,_i),Vr=(0,Oe.Z)(qi=>Vn!=null?Vn:qi),Wr=u.useContext(Qe.aM),Hi=(0,xe.F)(Wr.status,vr),qr=u.useMemo(()=>Object.assign(Object.assign({},Wr),{status:Hi,hasFeedback:!1,feedbackIcon:null}),[Wr,Hi]),Jr=u.useRef(null),gr=u.useRef({});u.useImperativeHandle(Rn,()=>({focus:()=>{var qi;(qi=gr.current[0])===null||qi===void 0||qi.focus()},blur:()=>{var qi;for(let Ui=0;Ui<an;Ui+=1)(qi=gr.current[Ui])===null||qi===void 0||qi.blur()},nativeElement:Jr.current}));const oo=qi=>Hr?Hr(qi):qi,[Yi,to]=u.useState(qt(oo(Dn||"")));u.useEffect(()=>{ri!==void 0&&to(qt(ri))},[ri]);const Ho=(0,bt.zX)(qi=>{to(qi),Ni&&qi.length===an&&qi.every(Ui=>Ui)&&qi.some((Ui,Ei)=>Yi[Ei]!==Ui)&&Ni(qi.join(""))}),Ns=(0,bt.zX)((qi,Ui)=>{let Ei=(0,Le.Z)(Yi);for(let Os=0;Os<qi;Os+=1)Ei[Os]||(Ei[Os]="");Ui.length<=1?Ei[qi]=Ui:Ei=Ei.slice(0,qi).concat(qt(Ui)),Ei=Ei.slice(0,an);for(let Os=Ei.length-1;Os>=0&&!Ei[Os];Os-=1)Ei.pop();const xo=oo(Ei.map(Os=>Os||" ").join(""));return Ei=qt(xo).map((Os,Xo)=>Os===" "&&!Ei[Xo]?Ei[Xo]:Os),Ei}),Zo=(qi,Ui)=>{var Ei;const xo=Ns(qi,Ui),Os=Math.min(qi+Ui.length,an-1);Os!==qi&&((Ei=gr.current[Os])===null||Ei===void 0||Ei.focus()),Ho(xo)},Go=qi=>{var Ui;(Ui=gr.current[qi])===null||Ui===void 0||Ui.focus()},ys={variant:pr,disabled:Ir,status:Hi,mask:so};return eo(u.createElement("div",Object.assign({},Qs,{ref:Jr,className:$()(Js,{[`${Js}-sm`]:Vr==="small",[`${Js}-lg`]:Vr==="large",[`${Js}-rtl`]:jo==="rtl"},Ps,js)}),u.createElement(Qe.aM.Provider,{value:qr},Array.from({length:an}).map((qi,Ui)=>{const Ei=`otp-${Ui}`,xo=Yi[Ui]||"";return u.createElement(mt,Object.assign({ref:Os=>{gr.current[Ui]=Os},key:Ei,index:Ui,size:Vr,htmlSize:1,className:`${Js}-input`,onChange:Zo,value:xo,onActiveChange:Go,autoFocus:Ui===0&&zs},ys))}))))}),Lt=I(89856),Kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},ln=Kn,Gt=I(77276),Bt=function(Rn,zn){return u.createElement(Gt.Z,(0,Lt.Z)({},Rn,{ref:zn,icon:ln}))},Nn=u.forwardRef(Bt),Pt=Nn,rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},cn=rn,zi=function(Rn,zn){return u.createElement(Gt.Z,(0,Lt.Z)({},Rn,{ref:zn,icon:cn}))},Mi=u.forwardRef(zi),as=Mi,dn=I(2021),Rr=function(It,Rn){var zn={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Rn.indexOf(an)<0&&(zn[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vn=0,an=Object.getOwnPropertySymbols(It);Vn<an.length;Vn++)Rn.indexOf(an[Vn])<0&&Object.prototype.propertyIsEnumerable.call(It,an[Vn])&&(zn[an[Vn]]=It[an[Vn]]);return zn};const is=It=>It?u.createElement(as,null):u.createElement(Pt,null),mr={click:"onClick",hover:"onMouseOver"};var qn=u.forwardRef((It,Rn)=>{const{disabled:zn,action:an="click",visibilityToggle:Vn=!0,iconRender:Dn=is}=It,ri=typeof Vn=="object"&&Vn.visible!==void 0,[Ni,Hr]=(0,u.useState)(()=>ri?Vn.visible:!1),pr=(0,u.useRef)(null);u.useEffect(()=>{ri&&Hr(Vn.visible)},[ri,Vn]);const Ir=re(pr),vr=()=>{zn||(Ni&&Ir(),Hr(Wr=>{var Hi;const qr=!Wr;return typeof Vn=="object"&&((Hi=Vn.onVisibleChange)===null||Hi===void 0||Hi.call(Vn,qr)),qr}))},zs=Wr=>{const Hi=mr[an]||"",qr=Dn(Ni),Jr={[Hi]:vr,className:`${Wr}-icon`,key:"passwordIcon",onMouseDown:gr=>{gr.preventDefault()},onMouseUp:gr=>{gr.preventDefault()}};return u.cloneElement(u.isValidElement(qr)?qr:u.createElement("span",null,qr),Jr)},{className:so,prefixCls:Xr,inputPrefixCls:Ws,size:jo}=It,Js=Rr(It,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:Qs}=u.useContext(de.E_),_i=Qs("input",Ws),eo=Qs("input-password",Xr),js=Vn&&zs(eo),Ps=$()(eo,so,{[`${eo}-${jo}`]:!!jo}),Vr=Object.assign(Object.assign({},(0,dn.Z)(Js,["suffix","iconRender","visibilityToggle"])),{type:Ni?"text":"password",className:Ps,prefixCls:_i,suffix:js});return jo&&(Vr.size=jo),u.createElement(Ie,Object.assign({ref:(0,he.sQ)(Rn,pr)},Vr))}),Fi=I(45500),pn=I(79641),it=I(54906),Vs=function(It,Rn){var zn={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Rn.indexOf(an)<0&&(zn[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vn=0,an=Object.getOwnPropertySymbols(It);Vn<an.length;Vn++)Rn.indexOf(an[Vn])<0&&Object.prototype.propertyIsEnumerable.call(It,an[Vn])&&(zn[an[Vn]]=It[an[Vn]]);return zn},zr=u.forwardRef((It,Rn)=>{const{prefixCls:zn,inputPrefixCls:an,className:Vn,size:Dn,suffix:ri,enterButton:Ni=!1,addonAfter:Hr,loading:pr,disabled:Ir,onSearch:vr,onChange:zs,onCompositionStart:so,onCompositionEnd:Xr}=It,Ws=Vs(It,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:jo,direction:Js}=u.useContext(de.E_),Qs=u.useRef(!1),_i=jo("input-search",zn),eo=jo("input",an),{compactSize:js}=(0,at.ri)(_i,Js),Ps=(0,Oe.Z)(ys=>{var qi;return(qi=Dn!=null?Dn:js)!==null&&qi!==void 0?qi:ys}),Vr=u.useRef(null),Wr=ys=>{ys!=null&&ys.target&&ys.type==="click"&&vr&&vr(ys.target.value,ys,{source:"clear"}),zs==null||zs(ys)},Hi=ys=>{var qi;document.activeElement===((qi=Vr.current)===null||qi===void 0?void 0:qi.input)&&ys.preventDefault()},qr=ys=>{var qi,Ui;vr&&vr((Ui=(qi=Vr.current)===null||qi===void 0?void 0:qi.input)===null||Ui===void 0?void 0:Ui.value,ys,{source:"input"})},Jr=ys=>{Qs.current||pr||qr(ys)},gr=typeof Ni=="boolean"?u.createElement(Fi.Z,null):null,oo=`${_i}-button`;let Yi;const to=Ni||{},Ho=to.type&&to.type.__ANT_BUTTON===!0;Ho||to.type==="button"?Yi=(0,pn.Tm)(to,Object.assign({onMouseDown:Hi,onClick:ys=>{var qi,Ui;(Ui=(qi=to==null?void 0:to.props)===null||qi===void 0?void 0:qi.onClick)===null||Ui===void 0||Ui.call(qi,ys),qr(ys)},key:"enterButton"},Ho?{className:oo,size:Ps}:{})):Yi=u.createElement(it.ZP,{className:oo,type:Ni?"primary":void 0,size:Ps,disabled:Ir,key:"enterButton",onMouseDown:Hi,onClick:qr,loading:pr,icon:gr},Ni),Hr&&(Yi=[Yi,(0,pn.Tm)(Hr,{key:"addonAfter"})]);const Ns=$()(_i,{[`${_i}-rtl`]:Js==="rtl",[`${_i}-${Ps}`]:!!Ps,[`${_i}-with-button`]:!!Ni},Vn),Zo=ys=>{Qs.current=!0,so==null||so(ys)},Go=ys=>{Qs.current=!1,Xr==null||Xr(ys)};return u.createElement(Ie,Object.assign({ref:(0,he.sQ)(Vr,Rn),onPressEnter:Jr},Ws,{size:Ps,onCompositionStart:Zo,onCompositionEnd:Go,prefixCls:eo,addonAfter:Yi,suffix:ri,onChange:Wr,className:Ns,disabled:Ir}))}),kr=I(30985),Hn=I(88598),ce=I(97171),Qt=I(58424),gn=I(76288),Ft=I(49207),on=I(6522),Cn=I(63194),Or=I(99182),ds=I(40570),io=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,$r=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],fr={},ir;function _r(It){var Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,zn=It.getAttribute("id")||It.getAttribute("data-reactid")||It.getAttribute("name");if(Rn&&fr[zn])return fr[zn];var an=window.getComputedStyle(It),Vn=an.getPropertyValue("box-sizing")||an.getPropertyValue("-moz-box-sizing")||an.getPropertyValue("-webkit-box-sizing"),Dn=parseFloat(an.getPropertyValue("padding-bottom"))+parseFloat(an.getPropertyValue("padding-top")),ri=parseFloat(an.getPropertyValue("border-bottom-width"))+parseFloat(an.getPropertyValue("border-top-width")),Ni=$r.map(function(pr){return"".concat(pr,":").concat(an.getPropertyValue(pr))}).join(";"),Hr={sizingStyle:Ni,paddingSize:Dn,borderSize:ri,boxSizing:Vn};return Rn&&zn&&(fr[zn]=Hr),Hr}function hs(It){var Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,zn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,an=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ir||(ir=document.createElement("textarea"),ir.setAttribute("tab-index","-1"),ir.setAttribute("aria-hidden","true"),document.body.appendChild(ir)),It.getAttribute("wrap")?ir.setAttribute("wrap",It.getAttribute("wrap")):ir.removeAttribute("wrap");var Vn=_r(It,Rn),Dn=Vn.paddingSize,ri=Vn.borderSize,Ni=Vn.boxSizing,Hr=Vn.sizingStyle;ir.setAttribute("style","".concat(Hr,";").concat(io)),ir.value=It.value||It.placeholder||"";var pr=void 0,Ir=void 0,vr,zs=ir.scrollHeight;if(Ni==="border-box"?zs+=ri:Ni==="content-box"&&(zs-=Dn),zn!==null||an!==null){ir.value=" ";var so=ir.scrollHeight-Dn;zn!==null&&(pr=so*zn,Ni==="border-box"&&(pr=pr+Dn+ri),zs=Math.max(pr,zs)),an!==null&&(Ir=so*an,Ni==="border-box"&&(Ir=Ir+Dn+ri),vr=zs>Ir?"":"hidden",zs=Math.min(Ir,zs))}var Xr={height:zs,overflowY:vr,resize:"none"};return pr&&(Xr.minHeight=pr),Ir&&(Xr.maxHeight=Ir),Xr}var dt=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],vt=0,Ut=1,ti=2,Si=u.forwardRef(function(It,Rn){var zn=It,an=zn.prefixCls,Vn=zn.defaultValue,Dn=zn.value,ri=zn.autoSize,Ni=zn.onResize,Hr=zn.className,pr=zn.style,Ir=zn.disabled,vr=zn.onChange,zs=zn.onInternalAutoSize,so=(0,Qt.Z)(zn,dt),Xr=(0,on.Z)(Vn,{value:Dn,postState:function(Os){return Os!=null?Os:""}}),Ws=(0,ce.Z)(Xr,2),jo=Ws[0],Js=Ws[1],Qs=function(Os){Js(Os.target.value),vr==null||vr(Os)},_i=u.useRef();u.useImperativeHandle(Rn,function(){return{textArea:_i.current}});var eo=u.useMemo(function(){return ri&&(0,Cn.Z)(ri)==="object"?[ri.minRows,ri.maxRows]:[]},[ri]),js=(0,ce.Z)(eo,2),Ps=js[0],Vr=js[1],Wr=!!ri,Hi=function(){try{if(document.activeElement===_i.current){var Os=_i.current,Xo=Os.selectionStart,Ks=Os.selectionEnd,Ea=Os.scrollTop;_i.current.setSelectionRange(Xo,Ks),_i.current.scrollTop=Ea}}catch(Ao){}},qr=u.useState(ti),Jr=(0,ce.Z)(qr,2),gr=Jr[0],oo=Jr[1],Yi=u.useState(),to=(0,ce.Z)(Yi,2),Ho=to[0],Ns=to[1],Zo=function(){oo(vt)};(0,ds.Z)(function(){Wr&&Zo()},[Dn,Ps,Vr,Wr]),(0,ds.Z)(function(){if(gr===vt)oo(Ut);else if(gr===Ut){var xo=hs(_i.current,!1,Ps,Vr);oo(ti),Ns(xo)}else Hi()},[gr]);var Go=u.useRef(),ys=function(){ut.Z.cancel(Go.current)},qi=function(Os){gr===ti&&(Ni==null||Ni(Os),ri&&(ys(),Go.current=(0,ut.Z)(function(){Zo()})))};u.useEffect(function(){return ys},[]);var Ui=Wr?Ho:null,Ei=(0,Hn.Z)((0,Hn.Z)({},pr),Ui);return(gr===vt||gr===Ut)&&(Ei.overflowY="hidden",Ei.overflowX="hidden"),u.createElement(Or.Z,{onResize:qi,disabled:!(ri||Ni)},u.createElement("textarea",(0,Lt.Z)({},so,{ref:_i,style:Ei,className:$()(an,Hr,(0,kr.Z)({},"".concat(an,"-disabled"),Ir)),disabled:Ir,value:jo,onChange:Qs})))}),Li=Si,Ds=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Sr=u.forwardRef(function(It,Rn){var zn,an=It.defaultValue,Vn=It.value,Dn=It.onFocus,ri=It.onBlur,Ni=It.onChange,Hr=It.allowClear,pr=It.maxLength,Ir=It.onCompositionStart,vr=It.onCompositionEnd,zs=It.suffix,so=It.prefixCls,Xr=so===void 0?"rc-textarea":so,Ws=It.showCount,jo=It.count,Js=It.className,Qs=It.style,_i=It.disabled,eo=It.hidden,js=It.classNames,Ps=It.styles,Vr=It.onResize,Wr=It.onClear,Hi=It.onPressEnter,qr=It.readOnly,Jr=It.autoSize,gr=It.onKeyDown,oo=(0,Qt.Z)(It,Ds),Yi=(0,on.Z)(an,{value:Vn,defaultValue:an}),to=(0,ce.Z)(Yi,2),Ho=to[0],Ns=to[1],Zo=Ho==null?"":String(Ho),Go=u.useState(!1),ys=(0,ce.Z)(Go,2),qi=ys[0],Ui=ys[1],Ei=u.useRef(!1),xo=u.useState(null),Os=(0,ce.Z)(xo,2),Xo=Os[0],Ks=Os[1],Ea=(0,u.useRef)(null),Ao=(0,u.useRef)(null),bo=function(){var Fe;return(Fe=Ao.current)===null||Fe===void 0?void 0:Fe.textArea},Yo=function(){bo().focus()};(0,u.useImperativeHandle)(Rn,function(){var $e;return{resizableTextArea:Ao.current,focus:Yo,blur:function(){bo().blur()},nativeElement:(($e=Ea.current)===null||$e===void 0?void 0:$e.nativeElement)||bo()}}),(0,u.useEffect)(function(){Ui(function($e){return!_i&&$e})},[_i]);var Po=u.useState(null),zo=(0,ce.Z)(Po,2),Eo=zo[0],ma=zo[1];u.useEffect(function(){if(Eo){var $e;($e=bo()).setSelectionRange.apply($e,(0,Le.Z)(Eo))}},[Eo]);var uo=(0,gn.Z)(jo,Ws),Wa=(zn=uo.max)!==null&&zn!==void 0?zn:pr,bl=Number(Wa)>0,ka=uo.strategy(Zo),Al=!!Wa&&ka>Wa,ic=function(Fe,zt){var sn=zt;!Ei.current&&uo.exceedFormatter&&uo.max&&uo.strategy(zt)>uo.max&&(sn=uo.exceedFormatter(zt,{max:uo.max}),zt!==sn&&ma([bo().selectionStart||0,bo().selectionEnd||0])),Ns(sn),(0,Ft.rJ)(Fe.currentTarget,Fe,Ni,sn)},ja=function(Fe){Ei.current=!0,Ir==null||Ir(Fe)},hl=function(Fe){Ei.current=!1,ic(Fe,Fe.currentTarget.value),vr==null||vr(Fe)},na=function(Fe){ic(Fe,Fe.target.value)},Za=function(Fe){Fe.key==="Enter"&&Hi&&Hi(Fe),gr==null||gr(Fe)},$a=function(Fe){Ui(!0),Dn==null||Dn(Fe)},Pl=function(Fe){Ui(!1),ri==null||ri(Fe)},Ze=function(Fe){Ns(""),Yo(),(0,Ft.rJ)(bo(),Fe,Ni)},te=zs,H;uo.show&&(uo.showFormatter?H=uo.showFormatter({value:Zo,count:ka,maxLength:Wa}):H="".concat(ka).concat(bl?" / ".concat(Wa):""),te=u.createElement(u.Fragment,null,te,u.createElement("span",{className:$()("".concat(Xr,"-data-count"),js==null?void 0:js.count),style:Ps==null?void 0:Ps.count},H)));var le=function(Fe){var zt;Vr==null||Vr(Fe),(zt=bo())!==null&&zt!==void 0&&zt.style.height&&Ks(!0)},ie=!Jr&&!Ws&&!Hr;return u.createElement(j.Q,{ref:Ea,value:Zo,allowClear:Hr,handleReset:Ze,suffix:te,prefixCls:Xr,classNames:(0,Hn.Z)((0,Hn.Z)({},js),{},{affixWrapper:$()(js==null?void 0:js.affixWrapper,(0,kr.Z)((0,kr.Z)({},"".concat(Xr,"-show-count"),Ws),"".concat(Xr,"-textarea-allow-clear"),Hr))}),disabled:_i,focused:qi,className:$()(Js,Al&&"".concat(Xr,"-out-of-range")),style:(0,Hn.Z)((0,Hn.Z)({},Qs),Xo&&!ie?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof H=="string"?H:void 0}},hidden:eo,readOnly:qr,onClear:Wr},u.createElement(Li,(0,Lt.Z)({},oo,{autoSize:Jr,maxLength:pr,onKeyDown:Za,onChange:na,onFocus:$a,onBlur:Pl,onCompositionStart:ja,onCompositionEnd:hl,className:$()(js==null?void 0:js.textarea),style:(0,Hn.Z)((0,Hn.Z)({},Ps==null?void 0:Ps.textarea),{},{resize:Qs==null?void 0:Qs.resize}),disabled:_i,prefixCls:Xr,onResize:le,ref:Ao,readOnly:qr})))}),Ls=Sr,Us=Ls,As=function(It,Rn){var zn={};for(var an in It)Object.prototype.hasOwnProperty.call(It,an)&&Rn.indexOf(an)<0&&(zn[an]=It[an]);if(It!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Vn=0,an=Object.getOwnPropertySymbols(It);Vn<an.length;Vn++)Rn.indexOf(an[Vn])<0&&Object.prototype.propertyIsEnumerable.call(It,an[Vn])&&(zn[an[Vn]]=It[an[Vn]]);return zn},Ss=(0,u.forwardRef)((It,Rn)=>{var zn,an;const{prefixCls:Vn,bordered:Dn=!0,size:ri,disabled:Ni,status:Hr,allowClear:pr,classNames:Ir,rootClassName:vr,className:zs,style:so,styles:Xr,variant:Ws}=It,jo=As(It,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:Js,direction:Qs,textArea:_i}=u.useContext(de.E_),eo=(0,Oe.Z)(ri),js=u.useContext(ne.Z),Ps=Ni!=null?Ni:js,{status:Vr,hasFeedback:Wr,feedbackIcon:Hi}=u.useContext(Qe.aM),qr=(0,xe.F)(Vr,Hr),Jr=u.useRef(null);u.useImperativeHandle(Rn,()=>{var ys;return{resizableTextArea:(ys=Jr.current)===null||ys===void 0?void 0:ys.resizableTextArea,focus:qi=>{var Ui,Ei;E((Ei=(Ui=Jr.current)===null||Ui===void 0?void 0:Ui.resizableTextArea)===null||Ei===void 0?void 0:Ei.textArea,qi)},blur:()=>{var qi;return(qi=Jr.current)===null||qi===void 0?void 0:qi.blur()}}});const gr=Js("input",Vn),oo=(0,Be.Z)(gr),[Yi,to,Ho]=(0,fe.ZP)(gr,oo),[Ns,Zo]=(0,Ce.Z)("textArea",Ws,Dn),Go=ct(pr!=null?pr:_i==null?void 0:_i.allowClear);return Yi(u.createElement(Us,Object.assign({autoComplete:_i==null?void 0:_i.autoComplete},jo,{style:Object.assign(Object.assign({},_i==null?void 0:_i.style),so),styles:Object.assign(Object.assign({},_i==null?void 0:_i.styles),Xr),disabled:Ps,allowClear:Go,className:$()(Ho,oo,zs,vr,_i==null?void 0:_i.className),classNames:Object.assign(Object.assign(Object.assign({},Ir),_i==null?void 0:_i.classNames),{textarea:$()({[`${gr}-sm`]:eo==="small",[`${gr}-lg`]:eo==="large"},to,Ir==null?void 0:Ir.textarea,(zn=_i==null?void 0:_i.classNames)===null||zn===void 0?void 0:zn.textarea),variant:$()({[`${gr}-${Ns}`]:Zo},(0,xe.Z)(gr,qr)),affixWrapper:$()(`${gr}-textarea-affix-wrapper`,{[`${gr}-affix-wrapper-rtl`]:Qs==="rtl",[`${gr}-affix-wrapper-sm`]:eo==="small",[`${gr}-affix-wrapper-lg`]:eo==="large",[`${gr}-textarea-show-count`]:It.showCount||((an=It.count)===null||an===void 0?void 0:an.show)},to)}),prefixCls:gr,suffix:Wr&&u.createElement("span",{className:`${gr}-textarea-suffix`},Hi),ref:Jr})))});const wo=Ie;wo.Group=X,wo.Search=zr,wo.TextArea=Ss,wo.Password=qn,wo.OTP=_n;var Mo=wo},84728:function(Ci,At,I){"use strict";I.d(At,{ik:function(){return st},nz:function(){return X},s7:function(){return oe}});var u=I(40322),q=I(10500),$=I(24553),de=I(9199),Qe=I(76950),fe=I(89335),ee=I(42431);const X=re=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:re,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),j=re=>({borderColor:re.activeBorderColor,boxShadow:re.activeShadow,outline:0,backgroundColor:re.activeBg}),he=re=>{const{paddingBlockLG:we,lineHeightLG:Ue,borderRadiusLG:E,paddingInlineLG:tt}=re;return{padding:`${(0,u.bf)(we)} ${(0,u.bf)(tt)}`,fontSize:re.inputFontSizeLG,lineHeight:Ue,borderRadius:E}},ft=re=>({padding:`${(0,u.bf)(re.paddingBlockSM)} ${(0,u.bf)(re.paddingInlineSM)}`,fontSize:re.inputFontSizeSM,borderRadius:re.borderRadiusSM}),st=re=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,u.bf)(re.paddingBlock)} ${(0,u.bf)(re.paddingInline)}`,color:re.colorText,fontSize:re.inputFontSize,lineHeight:re.lineHeight,borderRadius:re.borderRadius,transition:`all ${re.motionDurationMid}`},X(re.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:re.controlHeight,lineHeight:re.lineHeight,verticalAlign:"bottom",transition:`all ${re.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},he(re)),"&-sm":Object.assign({},ft(re)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),oe=re=>{const{componentCls:we,antCls:Ue}=re;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:re.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${we}, &-lg > ${we}-group-addon`]:Object.assign({},he(re)),[`&-sm ${we}, &-sm > ${we}-group-addon`]:Object.assign({},ft(re)),[`&-lg ${Ue}-select-single ${Ue}-select-selector`]:{height:re.controlHeightLG},[`&-sm ${Ue}-select-single ${Ue}-select-selector`]:{height:re.controlHeightSM},[`> ${we}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${we}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,u.bf)(re.paddingInline)}`,color:re.colorText,fontWeight:"normal",fontSize:re.inputFontSize,textAlign:"center",borderRadius:re.borderRadius,transition:`all ${re.motionDurationSlow}`,lineHeight:1,[`${Ue}-select`]:{margin:`${(0,u.bf)(re.calc(re.paddingBlock).add(1).mul(-1).equal())} ${(0,u.bf)(re.calc(re.paddingInline).mul(-1).equal())}`,[`&${Ue}-select-single:not(${Ue}-select-customize-input):not(${Ue}-pagination-size-changer)`]:{[`${Ue}-select-selector`]:{backgroundColor:"inherit",border:`${(0,u.bf)(re.lineWidth)} ${re.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${Ue}-select-selector`]:{color:re.colorPrimary}}},[`${Ue}-cascader-picker`]:{margin:`-9px ${(0,u.bf)(re.calc(re.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${Ue}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[we]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${we}-search-with-button &`]:{zIndex:0}}},[`> ${we}:first-child, ${we}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${Ue}-select ${Ue}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${we}-affix-wrapper`]:{[`&:not(:first-child) ${we}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${we}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${we}:last-child, ${we}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${Ue}-select ${Ue}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${we}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${we}-search &`]:{borderStartStartRadius:re.borderRadius,borderEndStartRadius:re.borderRadius}},[`&:not(:first-child), ${we}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${we}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,q.dF)()),{[`${we}-group-addon, ${we}-group-wrap, > ${we}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:re.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${we}-affix-wrapper,
        & > ${we}-number-affix-wrapper,
        & > ${Ue}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:re.calc(re.lineWidth).mul(-1).equal(),borderInlineEndWidth:re.lineWidth},[we]:{float:"none"},[`& > ${Ue}-select > ${Ue}-select-selector,
      & > ${Ue}-select-auto-complete ${we},
      & > ${Ue}-cascader-picker ${we},
      & > ${we}-group-wrapper ${we}`]:{borderInlineEndWidth:re.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${Ue}-select-focused`]:{zIndex:1},[`& > ${Ue}-select > ${Ue}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${Ue}-select:first-child > ${Ue}-select-selector,
      & > ${Ue}-select-auto-complete:first-child ${we},
      & > ${Ue}-cascader-picker:first-child ${we}`]:{borderStartStartRadius:re.borderRadius,borderEndStartRadius:re.borderRadius},[`& > *:last-child,
      & > ${Ue}-select:last-child > ${Ue}-select-selector,
      & > ${Ue}-cascader-picker:last-child ${we},
      & > ${Ue}-cascader-picker-focused:last-child ${we}`]:{borderInlineEndWidth:re.lineWidth,borderStartEndRadius:re.borderRadius,borderEndEndRadius:re.borderRadius},[`& > ${Ue}-select-auto-complete ${we}`]:{verticalAlign:"top"},[`${we}-group-wrapper + ${we}-group-wrapper`]:{marginInlineStart:re.calc(re.lineWidth).mul(-1).equal(),[`${we}-affix-wrapper`]:{borderRadius:0}},[`${we}-group-wrapper:not(:last-child)`]:{[`&${we}-search > ${we}-group`]:{[`& > ${we}-group-addon > ${we}-search-button`]:{borderRadius:0},[`& > ${we}`]:{borderStartStartRadius:re.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:re.borderRadius}}}})}},ct=re=>{const{componentCls:we,controlHeightSM:Ue,lineWidth:E,calc:tt}=re,Le=tt(Ue).sub(tt(E).mul(2)).sub(16).div(2).equal();return{[we]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,q.Wf)(re)),st(re)),(0,ee.qG)(re)),(0,ee.H8)(re)),(0,ee.Mu)(re)),{'&[type="color"]':{height:re.controlHeight,[`&${we}-lg`]:{height:re.controlHeightLG},[`&${we}-sm`]:{height:Ue,paddingTop:Le,paddingBottom:Le}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},xe=re=>{const{componentCls:we}=re;return{[`${we}-clear-icon`]:{margin:0,color:re.colorTextQuaternary,fontSize:re.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${re.motionDurationSlow}`,"&:hover":{color:re.colorTextTertiary},"&:active":{color:re.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,u.bf)(re.inputAffixPadding)}`}}}},ne=re=>{const{componentCls:we,inputAffixPadding:Ue,colorTextDescription:E,motionDurationSlow:tt,colorIcon:Ie,colorIconHover:Le,iconCls:bt}=re;return{[`${we}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign({},st(re)),{display:"inline-flex",[`&:not(${we}-disabled):hover`]:{zIndex:1,[`${we}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${we}`]:{padding:0},[`> input${we}, > textarea${we}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[we]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:re.paddingXS}},"&-show-count-suffix":{color:E},"&-show-count-has-suffix":{marginInlineEnd:re.paddingXXS},"&-prefix":{marginInlineEnd:Ue},"&-suffix":{marginInlineStart:Ue}}}),xe(re)),{[`${bt}${we}-password-icon`]:{color:Ie,cursor:"pointer",transition:`all ${tt}`,"&:hover":{color:Le}}})}},Be=re=>{const{componentCls:we,borderRadiusLG:Ue,borderRadiusSM:E}=re;return{[`${we}-group`]:Object.assign(Object.assign(Object.assign({},(0,q.Wf)(re)),oe(re)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${we}-group-addon`]:{borderRadius:Ue,fontSize:re.inputFontSizeLG}},"&-sm":{[`${we}-group-addon`]:{borderRadius:E}}},(0,ee.ir)(re)),(0,ee.S5)(re)),{[`&:not(${we}-compact-first-item):not(${we}-compact-last-item)${we}-compact-item`]:{[`${we}, ${we}-group-addon`]:{borderRadius:0}},[`&:not(${we}-compact-last-item)${we}-compact-first-item`]:{[`${we}, ${we}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${we}-compact-first-item)${we}-compact-last-item`]:{[`${we}, ${we}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${we}-compact-last-item)${we}-compact-item`]:{[`${we}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}}})})}},Oe=re=>{const{componentCls:we,antCls:Ue}=re,E=`${we}-search`;return{[E]:{[we]:{"&:hover, &:focus":{borderColor:re.colorPrimaryHover,[`+ ${we}-group-addon ${E}-button:not(${Ue}-btn-primary)`]:{borderInlineStartColor:re.colorPrimaryHover}}},[`${we}-affix-wrapper`]:{borderRadius:0},[`${we}-lg`]:{lineHeight:re.calc(re.lineHeightLG).sub(2e-4).equal()},[`> ${we}-group`]:{[`> ${we}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${E}-button`]:{marginInlineEnd:-1,paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:re.borderRadius,borderEndEndRadius:re.borderRadius,borderEndStartRadius:0,boxShadow:"none"},[`${E}-button:not(${Ue}-btn-primary)`]:{color:re.colorTextDescription,"&:hover":{color:re.colorPrimaryHover},"&:active":{color:re.colorPrimaryActive},[`&${Ue}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${E}-button`]:{height:re.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${E}-button`]:{height:re.controlHeightLG},[`&-small ${E}-button`]:{height:re.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${we}-compact-item`]:{[`&:not(${we}-compact-last-item)`]:{[`${we}-group-addon`]:{[`${we}-search-button`]:{marginInlineEnd:re.calc(re.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${we}-compact-first-item)`]:{[`${we},${we}-affix-wrapper`]:{borderRadius:0}},[`> ${we}-group-addon ${we}-search-button,
        > ${we},
        ${we}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${we}-affix-wrapper-focused`]:{zIndex:2}}}}},Ce=re=>{const{componentCls:we,paddingLG:Ue}=re,E=`${we}-textarea`;return{[E]:{position:"relative","&-show-count":{[`> ${we}`]:{height:"100%"},[`${we}-data-count`]:{position:"absolute",bottom:re.calc(re.fontSize).mul(re.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:re.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${we},
        &-affix-wrapper${E}-has-feedback ${we}
      `]:{paddingInlineEnd:Ue},[`&-affix-wrapper${we}-affix-wrapper`]:{padding:0,[`> textarea${we}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent","&:focus":{boxShadow:"none !important"}},[`${we}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${we}-clear-icon`]:{position:"absolute",insetInlineEnd:re.paddingInline,insetBlockStart:re.paddingXS},[`${E}-suffix`]:{position:"absolute",top:0,insetInlineEnd:re.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${we}-affix-wrapper-sm`]:{[`${we}-suffix`]:{[`${we}-clear-icon`]:{insetInlineEnd:re.paddingInlineSM}}}}}},at=re=>{const{componentCls:we}=re;return{[`${we}-out-of-range`]:{[`&, & input, & textarea, ${we}-show-count-suffix, ${we}-data-count`]:{color:re.colorError}}}};At.ZP=(0,de.I$)("Input",re=>{const we=(0,Qe.IX)(re,(0,fe.e)(re));return[ct(we),Ce(we),ne(we),Be(we),Oe(we),at(we),(0,$.c)(we)]},fe.T,{resetFont:!1})},89335:function(Ci,At,I){"use strict";I.d(At,{T:function(){return $},e:function(){return q}});var u=I(76950);function q(de){return(0,u.IX)(de,{inputAffixPadding:de.paddingXXS})}const $=de=>{const{controlHeight:Qe,fontSize:fe,lineHeight:ee,lineWidth:X,controlHeightSM:j,controlHeightLG:he,fontSizeLG:ft,lineHeightLG:st,paddingSM:oe,controlPaddingHorizontalSM:ct,controlPaddingHorizontal:xe,colorFillAlter:ne,colorPrimaryHover:Be,colorPrimary:Oe,controlOutlineWidth:Ce,controlOutline:at,colorErrorOutline:re,colorWarningOutline:we,colorBgContainer:Ue}=de;return{paddingBlock:Math.max(Math.round((Qe-fe*ee)/2*10)/10-X,0),paddingBlockSM:Math.max(Math.round((j-fe*ee)/2*10)/10-X,0),paddingBlockLG:Math.ceil((he-ft*st)/2*10)/10-X,paddingInline:oe-X,paddingInlineSM:ct-X,paddingInlineLG:xe-X,addonBg:ne,activeBorderColor:Oe,hoverBorderColor:Be,activeShadow:`0 0 0 ${Ce}px ${at}`,errorActiveShadow:`0 0 0 ${Ce}px ${re}`,warningActiveShadow:`0 0 0 ${Ce}px ${we}`,hoverBg:Ue,activeBg:Ue,inputFontSize:fe,inputFontSizeLG:ft,inputFontSizeSM:fe}}},42431:function(Ci,At,I){"use strict";I.d(At,{H8:function(){return oe},Mu:function(){return he},S5:function(){return xe},ir:function(){return j},qG:function(){return ee}});var u=I(40322),q=I(76950);const $=ne=>({borderColor:ne.hoverBorderColor,backgroundColor:ne.hoverBg}),de=ne=>({color:ne.colorTextDisabled,backgroundColor:ne.colorBgContainerDisabled,borderColor:ne.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},$((0,q.IX)(ne,{hoverBorderColor:ne.colorBorder,hoverBg:ne.colorBgContainerDisabled})))}),Qe=(ne,Be)=>({background:ne.colorBgContainer,borderWidth:ne.lineWidth,borderStyle:ne.lineType,borderColor:Be.borderColor,"&:hover":{borderColor:Be.hoverBorderColor,backgroundColor:ne.hoverBg},"&:focus, &:focus-within":{borderColor:Be.activeBorderColor,boxShadow:Be.activeShadow,outline:0,backgroundColor:ne.activeBg}}),fe=(ne,Be)=>({[`&${ne.componentCls}-status-${Be.status}:not(${ne.componentCls}-disabled)`]:Object.assign(Object.assign({},Qe(ne,Be)),{[`${ne.componentCls}-prefix, ${ne.componentCls}-suffix`]:{color:Be.affixColor}}),[`&${ne.componentCls}-status-${Be.status}${ne.componentCls}-disabled`]:{borderColor:Be.borderColor}}),ee=(ne,Be)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Qe(ne,{borderColor:ne.colorBorder,hoverBorderColor:ne.hoverBorderColor,activeBorderColor:ne.activeBorderColor,activeShadow:ne.activeShadow})),{[`&${ne.componentCls}-disabled, &[disabled]`]:Object.assign({},de(ne))}),fe(ne,{status:"error",borderColor:ne.colorError,hoverBorderColor:ne.colorErrorBorderHover,activeBorderColor:ne.colorError,activeShadow:ne.errorActiveShadow,affixColor:ne.colorError})),fe(ne,{status:"warning",borderColor:ne.colorWarning,hoverBorderColor:ne.colorWarningBorderHover,activeBorderColor:ne.colorWarning,activeShadow:ne.warningActiveShadow,affixColor:ne.colorWarning})),Be)}),X=(ne,Be)=>({[`&${ne.componentCls}-group-wrapper-status-${Be.status}`]:{[`${ne.componentCls}-group-addon`]:{borderColor:Be.addonBorderColor,color:Be.addonColor}}}),j=ne=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${ne.componentCls}-group`]:{"&-addon":{background:ne.addonBg,border:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},X(ne,{status:"error",addonBorderColor:ne.colorError,addonColor:ne.colorErrorText})),X(ne,{status:"warning",addonBorderColor:ne.colorWarning,addonColor:ne.colorWarningText})),{[`&${ne.componentCls}-group-wrapper-disabled`]:{[`${ne.componentCls}-group-addon`]:Object.assign({},de(ne))}})}),he=(ne,Be)=>{const{componentCls:Oe}=ne;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${Oe}-disabled, &[disabled]`]:{color:ne.colorTextDisabled},[`&${Oe}-status-error`]:{"&, & input, & textarea":{color:ne.colorError}},[`&${Oe}-status-warning`]:{"&, & input, & textarea":{color:ne.colorWarning}}},Be)}},ft=(ne,Be)=>({background:Be.bg,borderWidth:ne.lineWidth,borderStyle:ne.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:Be==null?void 0:Be.inputColor},"&:hover":{background:Be.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:Be.activeBorderColor,backgroundColor:ne.activeBg}}),st=(ne,Be)=>({[`&${ne.componentCls}-status-${Be.status}:not(${ne.componentCls}-disabled)`]:Object.assign(Object.assign({},ft(ne,Be)),{[`${ne.componentCls}-prefix, ${ne.componentCls}-suffix`]:{color:Be.affixColor}})}),oe=(ne,Be)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ft(ne,{bg:ne.colorFillTertiary,hoverBg:ne.colorFillSecondary,activeBorderColor:ne.activeBorderColor})),{[`&${ne.componentCls}-disabled, &[disabled]`]:Object.assign({},de(ne))}),st(ne,{status:"error",bg:ne.colorErrorBg,hoverBg:ne.colorErrorBgHover,activeBorderColor:ne.colorError,inputColor:ne.colorErrorText,affixColor:ne.colorError})),st(ne,{status:"warning",bg:ne.colorWarningBg,hoverBg:ne.colorWarningBgHover,activeBorderColor:ne.colorWarning,inputColor:ne.colorWarningText,affixColor:ne.colorWarning})),Be)}),ct=(ne,Be)=>({[`&${ne.componentCls}-group-wrapper-status-${Be.status}`]:{[`${ne.componentCls}-group-addon`]:{background:Be.addonBg,color:Be.addonColor}}}),xe=ne=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${ne.componentCls}-group`]:{"&-addon":{background:ne.colorFillTertiary},[`${ne.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorSplit}`}}}},ct(ne,{status:"error",addonBg:ne.colorErrorBg,addonColor:ne.colorErrorText})),ct(ne,{status:"warning",addonBg:ne.colorWarningBg,addonColor:ne.colorWarningText})),{[`&${ne.componentCls}-group-wrapper-disabled`]:{[`${ne.componentCls}-group`]:{"&-addon":{background:ne.colorFillTertiary,color:ne.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorBorder}`,borderTop:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorBorder}`,borderBottom:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorBorder}`,borderTop:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorBorder}`,borderBottom:`${(0,u.bf)(ne.lineWidth)} ${ne.lineType} ${ne.colorBorder}`}}}})})},10711:function(Ci,At,I){"use strict";var u=I(75271);const q=(0,u.createContext)(void 0);At.Z=q},81001:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return ct}});var u={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},q=u,$=I(88598),de={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Qe=(0,$.Z)((0,$.Z)({},de),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),fe=Qe,X={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},he={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},fe),timePickerLocale:Object.assign({},X)},ft=he;const st="${label} is not a valid ${type}";var ct={locale:"en",Pagination:q,DatePicker:he,TimePicker:X,Calendar:ft,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:st,method:st,array:st,object:st,number:st,date:st,boolean:st,integer:st,float:st,regexp:st,email:st,url:st,hex:st},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}}},4847:function(Ci,At,I){"use strict";var u=I(75271),q=I(10711),$=I(81001);const de=(Qe,fe)=>{const ee=u.useContext(q.Z),X=u.useMemo(()=>{var he;const ft=fe||$.Z[Qe],st=(he=ee==null?void 0:ee[Qe])!==null&&he!==void 0?he:{};return Object.assign(Object.assign({},typeof ft=="function"?ft():ft),st||{})},[Qe,fe,ee]),j=u.useMemo(()=>{const he=ee==null?void 0:ee.locale;return ee!=null&&ee.exist&&!he?$.Z.locale:he},[ee]);return[X,j]};At.Z=de},45931:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return Lo}});var u=I(40665),q=I(75271),$=I(12615),de=I(1800),Qe=I(97045),fe=I(89856),ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},X=ee,j=I(77276),he=function(Pe,Tt){return q.createElement(j.Z,(0,fe.Z)({},Pe,{ref:Tt,icon:X}))},ft=q.forwardRef(he),st=ft,oe=I(74855),ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},xe=ct,ne=function(Pe,Tt){return q.createElement(j.Z,(0,fe.Z)({},Pe,{ref:Tt,icon:xe}))},Be=q.forwardRef(ne),Oe=Be,Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},at=Ce,re=function(Pe,Tt){return q.createElement(j.Z,(0,fe.Z)({},Pe,{ref:Tt,icon:at}))},we=q.forwardRef(re),Ue=we,E=I(82187),tt=I.n(E),Ie=I(22160),Le=I(49337),bt=I(4847),en=I(91556),lt=I(82290),Ht=I(54906),Pn=I(64294);function vi(Y){return!!(Y!=null&&Y.then)}var ut=Y=>{const{type:Pe,children:Tt,prefixCls:Mt,buttonProps:Kt,close:nn,autoFocus:si,emitEvent:Qn,isSilent:hn,quitOnNullishReturnValue:Vi,actionFn:oi}=Y,Gi=q.useRef(!1),Ki=q.useRef(null),[sr,Is]=(0,lt.Z)(!1),mi=function(){nn==null||nn.apply(void 0,arguments)};q.useEffect(()=>{let yr=null;return si&&(yr=setTimeout(()=>{var So;(So=Ki.current)===null||So===void 0||So.focus()})),()=>{yr&&clearTimeout(yr)}},[]);const ho=yr=>{vi(yr)&&(Is(!0),yr.then(function(){Is(!1,!0),mi.apply(void 0,arguments),Gi.current=!1},So=>{if(Is(!1,!0),Gi.current=!1,!(hn!=null&&hn()))return Promise.reject(So)}))},jr=yr=>{if(Gi.current)return;if(Gi.current=!0,!oi){mi();return}let So;if(Qn){if(So=oi(yr),Vi&&!vi(So)){Gi.current=!1,mi(yr);return}}else if(oi.length)So=oi(nn),Gi.current=!1;else if(So=oi(),!vi(So)){mi();return}ho(So)};return q.createElement(Ht.ZP,Object.assign({},(0,Pn.nx)(Pe),{onClick:jr,loading:sr,prefixCls:Mt},Kt,{ref:Ki}),Tt)};const Ge=q.createContext({}),{Provider:ot}=Ge;var kt=()=>{const{autoFocusButton:Y,cancelButtonProps:Pe,cancelTextLocale:Tt,isSilent:Mt,mergedOkCancel:Kt,rootPrefixCls:nn,close:si,onCancel:Qn,onConfirm:hn}=(0,q.useContext)(Ge);return Kt?q.createElement(ut,{isSilent:Mt,actionFn:Qn,close:function(){si==null||si.apply(void 0,arguments),hn==null||hn(!1)},autoFocus:Y==="cancel",buttonProps:Pe,prefixCls:`${nn}-btn`},Tt):null},Yn=()=>{const{autoFocusButton:Y,close:Pe,isSilent:Tt,okButtonProps:Mt,rootPrefixCls:Kt,okTextLocale:nn,okType:si,onConfirm:Qn,onOk:hn}=(0,q.useContext)(Ge);return q.createElement(ut,{isSilent:Tt,type:si||"primary",actionFn:hn,close:function(){Pe==null||Pe.apply(void 0,arguments),Qn==null||Qn(!0)},autoFocus:Y==="ok",buttonProps:Mt,prefixCls:`${Kt}-btn`},nn)},_n=I(56514),Lt=I(97171),Kn=I(39369),ln=q.createContext({}),Gt=I(88598),Bt=I(43567),Nn=I(24030),Pt=I(1260),rn=I(41045);function cn(Y,Pe,Tt){var Mt=Pe;return!Mt&&Tt&&(Mt="".concat(Y,"-").concat(Tt)),Mt}function zi(Y,Pe){var Tt=Y["page".concat(Pe?"Y":"X","Offset")],Mt="scroll".concat(Pe?"Top":"Left");if(typeof Tt!="number"){var Kt=Y.document;Tt=Kt.documentElement[Mt],typeof Tt!="number"&&(Tt=Kt.body[Mt])}return Tt}function Mi(Y){var Pe=Y.getBoundingClientRect(),Tt={left:Pe.left,top:Pe.top},Mt=Y.ownerDocument,Kt=Mt.defaultView||Mt.parentWindow;return Tt.left+=zi(Kt),Tt.top+=zi(Kt,!0),Tt}var as=I(61435),dn=I(63194),Rr=I(3083),is=q.memo(function(Y){var Pe=Y.children;return Pe},function(Y,Pe){var Tt=Pe.shouldUpdate;return!Tt}),mr={width:0,height:0,overflow:"hidden",outline:"none"},bi={outline:"none"},qn=q.forwardRef(function(Y,Pe){var Tt=Y.prefixCls,Mt=Y.className,Kt=Y.style,nn=Y.title,si=Y.ariaId,Qn=Y.footer,hn=Y.closable,Vi=Y.closeIcon,oi=Y.onClose,Gi=Y.children,Ki=Y.bodyStyle,sr=Y.bodyProps,Is=Y.modalRender,mi=Y.onMouseDown,ho=Y.onMouseUp,jr=Y.holderRef,yr=Y.visible,So=Y.forceRender,Vo=Y.width,_a=Y.height,ye=Y.classNames,qe=Y.styles,Ve=q.useContext(ln),ht=Ve.panel,Nt=(0,Rr.x1)(jr,ht),Fn=(0,q.useRef)(),ai=(0,q.useRef)(),xi=(0,q.useRef)();q.useImperativeHandle(Pe,function(){return{focus:function(){var yt;(yt=xi.current)===null||yt===void 0||yt.focus({preventScroll:!0})},changeActive:function(yt){var _t=document,$t=_t.activeElement;yt&&$t===ai.current?Fn.current.focus({preventScroll:!0}):!yt&&$t===Fn.current&&ai.current.focus({preventScroll:!0})}}});var hi={};Vo!==void 0&&(hi.width=Vo),_a!==void 0&&(hi.height=_a);var Xi=Qn?q.createElement("div",{className:tt()("".concat(Tt,"-footer"),ye==null?void 0:ye.footer),style:(0,Gt.Z)({},qe==null?void 0:qe.footer)},Qn):null,Pi=nn?q.createElement("div",{className:tt()("".concat(Tt,"-header"),ye==null?void 0:ye.header),style:(0,Gt.Z)({},qe==null?void 0:qe.header)},q.createElement("div",{className:"".concat(Tt,"-title"),id:si},nn)):null,jn=(0,q.useMemo)(function(){return(0,dn.Z)(hn)==="object"&&hn!==null?hn:hn?{closeIcon:Vi!=null?Vi:q.createElement("span",{className:"".concat(Tt,"-close-x")})}:{}},[hn,Vi,Tt]),Ji=(0,rn.Z)(jn,!0),Zt=(0,dn.Z)(hn)==="object"&&hn.disabled,Wi=hn?q.createElement("button",(0,fe.Z)({type:"button",onClick:oi,"aria-label":"Close"},Ji,{className:"".concat(Tt,"-close"),disabled:Zt}),jn.closeIcon):null,ge=q.createElement("div",{className:tt()("".concat(Tt,"-content"),ye==null?void 0:ye.content),style:qe==null?void 0:qe.content},Wi,Pi,q.createElement("div",(0,fe.Z)({className:tt()("".concat(Tt,"-body"),ye==null?void 0:ye.body),style:(0,Gt.Z)((0,Gt.Z)({},Ki),qe==null?void 0:qe.body)},sr),Gi),Xi);return q.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":nn?si:null,"aria-modal":"true",ref:Nt,style:(0,Gt.Z)((0,Gt.Z)({},Kt),hi),className:tt()(Tt,Mt),onMouseDown:mi,onMouseUp:ho},q.createElement("div",{tabIndex:0,ref:Fn,style:mr,"aria-hidden":"true"}),q.createElement("div",{ref:xi,tabIndex:-1,style:bi},q.createElement(is,{shouldUpdate:yr||So},Is?Is(ge):ge)),q.createElement("div",{tabIndex:0,ref:ai,style:mr,"aria-hidden":"true"}))}),Fi=qn,pn=q.forwardRef(function(Y,Pe){var Tt=Y.prefixCls,Mt=Y.title,Kt=Y.style,nn=Y.className,si=Y.visible,Qn=Y.forceRender,hn=Y.destroyOnClose,Vi=Y.motionName,oi=Y.ariaId,Gi=Y.onVisibleChanged,Ki=Y.mousePosition,sr=(0,q.useRef)(),Is=q.useState(),mi=(0,Lt.Z)(Is,2),ho=mi[0],jr=mi[1],yr={};ho&&(yr.transformOrigin=ho);function So(){var Vo=Mi(sr.current);jr(Ki&&(Ki.x||Ki.y)?"".concat(Ki.x-Vo.left,"px ").concat(Ki.y-Vo.top,"px"):"")}return q.createElement(as.ZP,{visible:si,onVisibleChanged:Gi,onAppearPrepare:So,onEnterPrepare:So,forceRender:Qn,motionName:Vi,removeOnLeave:hn,ref:sr},function(Vo,_a){var ye=Vo.className,qe=Vo.style;return q.createElement(Fi,(0,fe.Z)({},Y,{ref:Pe,title:Mt,ariaId:oi,prefixCls:Tt,holderRef:_a,style:(0,Gt.Z)((0,Gt.Z)((0,Gt.Z)({},qe),Kt),yr),className:tt()(nn,ye)}))})});pn.displayName="Content";var it=pn,Vs=function(Pe){var Tt=Pe.prefixCls,Mt=Pe.style,Kt=Pe.visible,nn=Pe.maskProps,si=Pe.motionName,Qn=Pe.className;return q.createElement(as.ZP,{key:"mask",visible:Kt,motionName:si,leavedClassName:"".concat(Tt,"-mask-hidden")},function(hn,Vi){var oi=hn.className,Gi=hn.style;return q.createElement("div",(0,fe.Z)({ref:Vi,style:(0,Gt.Z)((0,Gt.Z)({},Gi),Mt),className:tt()("".concat(Tt,"-mask"),oi,Qn)},nn))})},nr=Vs,zr=I(7432),kr=function(Pe){var Tt=Pe.prefixCls,Mt=Tt===void 0?"rc-dialog":Tt,Kt=Pe.zIndex,nn=Pe.visible,si=nn===void 0?!1:nn,Qn=Pe.keyboard,hn=Qn===void 0?!0:Qn,Vi=Pe.focusTriggerAfterClose,oi=Vi===void 0?!0:Vi,Gi=Pe.wrapStyle,Ki=Pe.wrapClassName,sr=Pe.wrapProps,Is=Pe.onClose,mi=Pe.afterOpenChange,ho=Pe.afterClose,jr=Pe.transitionName,yr=Pe.animation,So=Pe.closable,Vo=So===void 0?!0:So,_a=Pe.mask,ye=_a===void 0?!0:_a,qe=Pe.maskTransitionName,Ve=Pe.maskAnimation,ht=Pe.maskClosable,Nt=ht===void 0?!0:ht,Fn=Pe.maskStyle,ai=Pe.maskProps,xi=Pe.rootClassName,hi=Pe.classNames,Xi=Pe.styles,Pi=(0,q.useRef)(),jn=(0,q.useRef)(),Ji=(0,q.useRef)(),Zt=q.useState(si),Wi=(0,Lt.Z)(Zt,2),ge=Wi[0],Xe=Wi[1],yt=(0,Nn.Z)();function _t(){(0,Bt.Z)(jn.current,document.activeElement)||(Pi.current=document.activeElement)}function $t(){if(!(0,Bt.Z)(jn.current,document.activeElement)){var Qr;(Qr=Ji.current)===null||Qr===void 0||Qr.focus()}}function In(Qr){if(Qr)$t();else{if(Xe(!1),ye&&Pi.current&&oi){try{Pi.current.focus({preventScroll:!0})}catch(Ko){}Pi.current=null}ge&&(ho==null||ho())}mi==null||mi(Qr)}function Wn(Qr){Is==null||Is(Qr)}var Xn=(0,q.useRef)(!1),kn=(0,q.useRef)(),Zi=function(){clearTimeout(kn.current),Xn.current=!0},Nr=function(){kn.current=setTimeout(function(){Xn.current=!1})},Ar=null;Nt&&(Ar=function(Ko){Xn.current?Xn.current=!1:jn.current===Ko.target&&Wn(Ko)});function mo(Qr){if(hn&&Qr.keyCode===Pt.Z.ESC){Qr.stopPropagation(),Wn(Qr);return}si&&Qr.keyCode===Pt.Z.TAB&&Ji.current.changeActive(!Qr.shiftKey)}(0,q.useEffect)(function(){si&&(Xe(!0),_t())},[si]),(0,q.useEffect)(function(){return function(){clearTimeout(kn.current)}},[]);var Ri=(0,Gt.Z)((0,Gt.Z)((0,Gt.Z)({zIndex:Kt},Gi),Xi==null?void 0:Xi.wrapper),{},{display:ge?null:"none"});return q.createElement("div",(0,fe.Z)({className:tt()("".concat(Mt,"-root"),xi)},(0,rn.Z)(Pe,{data:!0})),q.createElement(nr,{prefixCls:Mt,visible:ye&&si,motionName:cn(Mt,qe,Ve),style:(0,Gt.Z)((0,Gt.Z)({zIndex:Kt},Fn),Xi==null?void 0:Xi.mask),maskProps:ai,className:hi==null?void 0:hi.mask}),q.createElement("div",(0,fe.Z)({tabIndex:-1,onKeyDown:mo,className:tt()("".concat(Mt,"-wrap"),Ki,hi==null?void 0:hi.wrapper),ref:jn,onClick:Ar,style:Ri},sr),q.createElement(it,(0,fe.Z)({},Pe,{onMouseDown:Zi,onMouseUp:Nr,ref:Ji,closable:Vo,ariaId:yt,prefixCls:Mt,visible:si&&ge,onClose:Wn,onVisibleChanged:In,motionName:cn(Mt,jr,yr)}))))},Hn=kr,ce=function(Pe){var Tt=Pe.visible,Mt=Pe.getContainer,Kt=Pe.forceRender,nn=Pe.destroyOnClose,si=nn===void 0?!1:nn,Qn=Pe.afterClose,hn=Pe.panelRef,Vi=q.useState(Tt),oi=(0,Lt.Z)(Vi,2),Gi=oi[0],Ki=oi[1],sr=q.useMemo(function(){return{panel:hn}},[hn]);return q.useEffect(function(){Tt&&Ki(!0)},[Tt]),!Kt&&si&&!Gi?null:q.createElement(ln.Provider,{value:sr},q.createElement(Kn.Z,{open:Tt||Kt||Gi,autoDestroy:!1,getContainer:Mt,autoLock:Tt||Gi},q.createElement(Hn,(0,fe.Z)({},Pe,{destroyOnClose:si,afterClose:function(){Qn==null||Qn(),Ki(!1)}}))))};ce.displayName="Dialog";var Qt=ce,gn=Qt,Ft=I(30343);function on(Y){if(Y)return{closable:Y.closable,closeIcon:Y.closeIcon}}function Cn(Y){const{closable:Pe,closeIcon:Tt}=Y||{};return q.useMemo(()=>{if(!Pe&&(Pe===!1||Tt===!1||Tt===null))return!1;if(Pe===void 0&&Tt===void 0)return null;let Mt={closeIcon:typeof Tt!="boolean"&&Tt!==null?Tt:void 0};return Pe&&typeof Pe=="object"&&(Mt=Object.assign(Object.assign({},Mt),Pe)),Mt},[Pe,Tt])}function Or(){const Y={};for(var Pe=arguments.length,Tt=new Array(Pe),Mt=0;Mt<Pe;Mt++)Tt[Mt]=arguments[Mt];return Tt.forEach(Kt=>{Kt&&Object.keys(Kt).forEach(nn=>{Kt[nn]!==void 0&&(Y[nn]=Kt[nn])})}),Y}const ds={};function io(Y,Pe){let Tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ds;const Mt=Cn(Y),Kt=Cn(Pe),nn=q.useMemo(()=>Object.assign({closeIcon:q.createElement(_n.Z,null)},Tt),[Tt]),si=q.useMemo(()=>Mt===!1?!1:Mt?Or(nn,Kt,Mt):Kt===!1?!1:Kt?Or(nn,Kt):nn.closable?nn:!1,[Mt,Kt,nn]);return q.useMemo(()=>{if(si===!1)return[!1,null];const{closeIconRender:Qn}=nn,{closeIcon:hn}=si;let Vi=hn;if(Vi!=null){Qn&&(Vi=Qn(hn));const oi=(0,rn.Z)(si,!0);Object.keys(oi).length&&(Vi=q.isValidElement(Vi)?q.cloneElement(Vi,oi):q.createElement("span",Object.assign({},oi),Vi))}return[!0,Vi]},[si,nn])}var $r=I(71254);const fr=()=>(0,$r.Z)()&&window.document.documentElement;var ir=I(48605),_r=I(38785),hs=I(2021),vt=Y=>{const{prefixCls:Pe,className:Tt,style:Mt,size:Kt,shape:nn}=Y,si=tt()({[`${Pe}-lg`]:Kt==="large",[`${Pe}-sm`]:Kt==="small"}),Qn=tt()({[`${Pe}-circle`]:nn==="circle",[`${Pe}-square`]:nn==="square",[`${Pe}-round`]:nn==="round"}),hn=q.useMemo(()=>typeof Kt=="number"?{width:Kt,height:Kt,lineHeight:`${Kt}px`}:{},[Kt]);return q.createElement("span",{className:tt()(Pe,si,Qn,Tt),style:Object.assign(Object.assign({},hn),Mt)})},Ut=I(40322),ti=I(9199),Si=I(76950);const Li=new Ut.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Ds=Y=>({height:Y,lineHeight:(0,Ut.bf)(Y)}),Sr=Y=>Object.assign({width:Y},Ds(Y)),Ls=Y=>({background:Y.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Li,animationDuration:Y.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Us=(Y,Pe)=>Object.assign({width:Pe(Y).mul(5).equal(),minWidth:Pe(Y).mul(5).equal()},Ds(Y)),As=Y=>{const{skeletonAvatarCls:Pe,gradientFromColor:Tt,controlHeight:Mt,controlHeightLG:Kt,controlHeightSM:nn}=Y;return{[Pe]:Object.assign({display:"inline-block",verticalAlign:"top",background:Tt},Sr(Mt)),[`${Pe}${Pe}-circle`]:{borderRadius:"50%"},[`${Pe}${Pe}-lg`]:Object.assign({},Sr(Kt)),[`${Pe}${Pe}-sm`]:Object.assign({},Sr(nn))}},yo=Y=>{const{controlHeight:Pe,borderRadiusSM:Tt,skeletonInputCls:Mt,controlHeightLG:Kt,controlHeightSM:nn,gradientFromColor:si,calc:Qn}=Y;return{[Mt]:Object.assign({display:"inline-block",verticalAlign:"top",background:si,borderRadius:Tt},Us(Pe,Qn)),[`${Mt}-lg`]:Object.assign({},Us(Kt,Qn)),[`${Mt}-sm`]:Object.assign({},Us(nn,Qn))}},Ss=Y=>Object.assign({width:Y},Ds(Y)),wo=Y=>{const{skeletonImageCls:Pe,imageSizeBase:Tt,gradientFromColor:Mt,borderRadiusSM:Kt,calc:nn}=Y;return{[Pe]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:Mt,borderRadius:Kt},Ss(nn(Tt).mul(2).equal())),{[`${Pe}-path`]:{fill:"#bfbfbf"},[`${Pe}-svg`]:Object.assign(Object.assign({},Ss(Tt)),{maxWidth:nn(Tt).mul(4).equal(),maxHeight:nn(Tt).mul(4).equal()}),[`${Pe}-svg${Pe}-svg-circle`]:{borderRadius:"50%"}}),[`${Pe}${Pe}-circle`]:{borderRadius:"50%"}}},Mo=(Y,Pe,Tt)=>{const{skeletonButtonCls:Mt}=Y;return{[`${Tt}${Mt}-circle`]:{width:Pe,minWidth:Pe,borderRadius:"50%"},[`${Tt}${Mt}-round`]:{borderRadius:Pe}}},It=(Y,Pe)=>Object.assign({width:Pe(Y).mul(2).equal(),minWidth:Pe(Y).mul(2).equal()},Ds(Y)),Rn=Y=>{const{borderRadiusSM:Pe,skeletonButtonCls:Tt,controlHeight:Mt,controlHeightLG:Kt,controlHeightSM:nn,gradientFromColor:si,calc:Qn}=Y;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[Tt]:Object.assign({display:"inline-block",verticalAlign:"top",background:si,borderRadius:Pe,width:Qn(Mt).mul(2).equal(),minWidth:Qn(Mt).mul(2).equal()},It(Mt,Qn))},Mo(Y,Mt,Tt)),{[`${Tt}-lg`]:Object.assign({},It(Kt,Qn))}),Mo(Y,Kt,`${Tt}-lg`)),{[`${Tt}-sm`]:Object.assign({},It(nn,Qn))}),Mo(Y,nn,`${Tt}-sm`))},zn=Y=>{const{componentCls:Pe,skeletonAvatarCls:Tt,skeletonTitleCls:Mt,skeletonParagraphCls:Kt,skeletonButtonCls:nn,skeletonInputCls:si,skeletonImageCls:Qn,controlHeight:hn,controlHeightLG:Vi,controlHeightSM:oi,gradientFromColor:Gi,padding:Ki,marginSM:sr,borderRadius:Is,titleHeight:mi,blockRadius:ho,paragraphLiHeight:jr,controlHeightXS:yr,paragraphMarginTop:So}=Y;return{[Pe]:{display:"table",width:"100%",[`${Pe}-header`]:{display:"table-cell",paddingInlineEnd:Ki,verticalAlign:"top",[Tt]:Object.assign({display:"inline-block",verticalAlign:"top",background:Gi},Sr(hn)),[`${Tt}-circle`]:{borderRadius:"50%"},[`${Tt}-lg`]:Object.assign({},Sr(Vi)),[`${Tt}-sm`]:Object.assign({},Sr(oi))},[`${Pe}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[Mt]:{width:"100%",height:mi,background:Gi,borderRadius:ho,[`+ ${Kt}`]:{marginBlockStart:oi}},[Kt]:{padding:0,"> li":{width:"100%",height:jr,listStyle:"none",background:Gi,borderRadius:ho,"+ li":{marginBlockStart:yr}}},[`${Kt}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${Pe}-content`]:{[`${Mt}, ${Kt} > li`]:{borderRadius:Is}}},[`${Pe}-with-avatar ${Pe}-content`]:{[Mt]:{marginBlockStart:sr,[`+ ${Kt}`]:{marginBlockStart:So}}},[`${Pe}${Pe}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Rn(Y)),As(Y)),yo(Y)),wo(Y)),[`${Pe}${Pe}-block`]:{width:"100%",[nn]:{width:"100%"},[si]:{width:"100%"}},[`${Pe}${Pe}-active`]:{[`
        ${Mt},
        ${Kt} > li,
        ${Tt},
        ${nn},
        ${si},
        ${Qn}
      `]:Object.assign({},Ls(Y))}}},an=Y=>{const{colorFillContent:Pe,colorFill:Tt}=Y,Mt=Pe,Kt=Tt;return{color:Mt,colorGradientEnd:Kt,gradientFromColor:Mt,gradientToColor:Kt,titleHeight:Y.controlHeight/2,blockRadius:Y.borderRadiusSM,paragraphMarginTop:Y.marginLG+Y.marginXXS,paragraphLiHeight:Y.controlHeight/2}};var Vn=(0,ti.I$)("Skeleton",Y=>{const{componentCls:Pe,calc:Tt}=Y,Mt=(0,Si.IX)(Y,{skeletonAvatarCls:`${Pe}-avatar`,skeletonTitleCls:`${Pe}-title`,skeletonParagraphCls:`${Pe}-paragraph`,skeletonButtonCls:`${Pe}-button`,skeletonInputCls:`${Pe}-input`,skeletonImageCls:`${Pe}-image`,imageSizeBase:Tt(Y.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${Y.gradientFromColor} 25%, ${Y.gradientToColor} 37%, ${Y.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[zn(Mt)]},an,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),ri=Y=>{const{prefixCls:Pe,className:Tt,rootClassName:Mt,active:Kt,shape:nn="circle",size:si="default"}=Y,{getPrefixCls:Qn}=q.useContext(de.E_),hn=Qn("skeleton",Pe),[Vi,oi,Gi]=Vn(hn),Ki=(0,hs.Z)(Y,["prefixCls","className"]),sr=tt()(hn,`${hn}-element`,{[`${hn}-active`]:Kt},Tt,Mt,oi,Gi);return Vi(q.createElement("div",{className:sr},q.createElement(vt,Object.assign({prefixCls:`${hn}-avatar`,shape:nn,size:si},Ki))))},Hr=Y=>{const{prefixCls:Pe,className:Tt,rootClassName:Mt,active:Kt,block:nn=!1,size:si="default"}=Y,{getPrefixCls:Qn}=q.useContext(de.E_),hn=Qn("skeleton",Pe),[Vi,oi,Gi]=Vn(hn),Ki=(0,hs.Z)(Y,["prefixCls"]),sr=tt()(hn,`${hn}-element`,{[`${hn}-active`]:Kt,[`${hn}-block`]:nn},Tt,Mt,oi,Gi);return Vi(q.createElement("div",{className:sr},q.createElement(vt,Object.assign({prefixCls:`${hn}-button`,size:si},Ki))))};const pr="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var vr=Y=>{const{prefixCls:Pe,className:Tt,rootClassName:Mt,style:Kt,active:nn}=Y,{getPrefixCls:si}=q.useContext(de.E_),Qn=si("skeleton",Pe),[hn,Vi,oi]=Vn(Qn),Gi=tt()(Qn,`${Qn}-element`,{[`${Qn}-active`]:nn},Tt,Mt,Vi,oi);return hn(q.createElement("div",{className:Gi},q.createElement("div",{className:tt()(`${Qn}-image`,Tt),style:Kt},q.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${Qn}-image-svg`},q.createElement("title",null,"Image placeholder"),q.createElement("path",{d:pr,className:`${Qn}-image-path`})))))},so=Y=>{const{prefixCls:Pe,className:Tt,rootClassName:Mt,active:Kt,block:nn,size:si="default"}=Y,{getPrefixCls:Qn}=q.useContext(de.E_),hn=Qn("skeleton",Pe),[Vi,oi,Gi]=Vn(hn),Ki=(0,hs.Z)(Y,["prefixCls"]),sr=tt()(hn,`${hn}-element`,{[`${hn}-active`]:Kt,[`${hn}-block`]:nn},Tt,Mt,oi,Gi);return Vi(q.createElement("div",{className:sr},q.createElement(vt,Object.assign({prefixCls:`${hn}-input`,size:si},Ki))))},Xr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},Ws=Xr,jo=function(Pe,Tt){return q.createElement(j.Z,(0,fe.Z)({},Pe,{ref:Tt,icon:Ws}))},Js=q.forwardRef(jo),Qs=Js,eo=Y=>{const{prefixCls:Pe,className:Tt,rootClassName:Mt,style:Kt,active:nn,children:si}=Y,{getPrefixCls:Qn}=q.useContext(de.E_),hn=Qn("skeleton",Pe),[Vi,oi,Gi]=Vn(hn),Ki=tt()(hn,`${hn}-element`,{[`${hn}-active`]:nn},oi,Tt,Mt,Gi),sr=si!=null?si:q.createElement(Qs,null);return Vi(q.createElement("div",{className:Ki},q.createElement("div",{className:tt()(`${hn}-image`,Tt),style:Kt},sr)))};const js=(Y,Pe)=>{const{width:Tt,rows:Mt=2}=Pe;if(Array.isArray(Tt))return Tt[Y];if(Mt-1===Y)return Tt};var Vr=Y=>{const{prefixCls:Pe,className:Tt,style:Mt,rows:Kt}=Y,nn=(0,u.Z)(Array(Kt)).map((si,Qn)=>q.createElement("li",{key:Qn,style:{width:js(Qn,Y)}}));return q.createElement("ul",{className:tt()(Pe,Tt),style:Mt},nn)},Hi=Y=>{let{prefixCls:Pe,className:Tt,width:Mt,style:Kt}=Y;return q.createElement("h3",{className:tt()(Pe,Tt),style:Object.assign({width:Mt},Kt)})};function qr(Y){return Y&&typeof Y=="object"?Y:{}}function Jr(Y,Pe){return Y&&!Pe?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function gr(Y,Pe){return!Y&&Pe?{width:"38%"}:Y&&Pe?{width:"50%"}:{}}function oo(Y,Pe){const Tt={};return(!Y||!Pe)&&(Tt.width="61%"),!Y&&Pe?Tt.rows=3:Tt.rows=2,Tt}const Yi=Y=>{const{prefixCls:Pe,loading:Tt,className:Mt,rootClassName:Kt,style:nn,children:si,avatar:Qn=!1,title:hn=!0,paragraph:Vi=!0,active:oi,round:Gi}=Y,{getPrefixCls:Ki,direction:sr,skeleton:Is}=q.useContext(de.E_),mi=Ki("skeleton",Pe),[ho,jr,yr]=Vn(mi);if(Tt||!("loading"in Y)){const So=!!Qn,Vo=!!hn,_a=!!Vi;let ye;if(So){const ht=Object.assign(Object.assign({prefixCls:`${mi}-avatar`},Jr(Vo,_a)),qr(Qn));ye=q.createElement("div",{className:`${mi}-header`},q.createElement(vt,Object.assign({},ht)))}let qe;if(Vo||_a){let ht;if(Vo){const Fn=Object.assign(Object.assign({prefixCls:`${mi}-title`},gr(So,_a)),qr(hn));ht=q.createElement(Hi,Object.assign({},Fn))}let Nt;if(_a){const Fn=Object.assign(Object.assign({prefixCls:`${mi}-paragraph`},oo(So,Vo)),qr(Vi));Nt=q.createElement(Vr,Object.assign({},Fn))}qe=q.createElement("div",{className:`${mi}-content`},ht,Nt)}const Ve=tt()(mi,{[`${mi}-with-avatar`]:So,[`${mi}-active`]:oi,[`${mi}-rtl`]:sr==="rtl",[`${mi}-round`]:Gi},Is==null?void 0:Is.className,Mt,Kt,jr,yr);return ho(q.createElement("div",{className:Ve,style:Object.assign(Object.assign({},Is==null?void 0:Is.style),nn)},ye,qe))}return si!=null?si:null};Yi.Button=Hr,Yi.Avatar=ri,Yi.Input=so,Yi.Image=vr,Yi.Node=eo;var to=Yi,Ho=to,Ns=I(28774);function Zo(){}const Go=q.createContext({add:Zo,remove:Zo});function ys(Y){const Pe=q.useContext(Go),Tt=q.useRef();return(0,Ns.zX)(Kt=>{if(Kt){const nn=Y?Kt.querySelector(Y):Kt;Pe.add(nn),Tt.current=nn}else Pe.remove(Tt.current)})}var qi=null,Ui=I(82961),xo=()=>{const{cancelButtonProps:Y,cancelTextLocale:Pe,onCancel:Tt}=(0,q.useContext)(Ge);return q.createElement(Ht.ZP,Object.assign({onClick:Tt},Y),Pe)},Xo=()=>{const{confirmLoading:Y,okButtonProps:Pe,okType:Tt,okTextLocale:Mt,onOk:Kt}=(0,q.useContext)(Ge);return q.createElement(Ht.ZP,Object.assign({},(0,Pn.nx)(Tt),{loading:Y,onClick:Kt},Pe),Mt)},Ks=I(98495);function Ea(Y,Pe){return q.createElement("span",{className:`${Y}-close-x`},Pe||q.createElement(_n.Z,{className:`${Y}-close-icon`}))}const Ao=Y=>{const{okText:Pe,okType:Tt="primary",cancelText:Mt,confirmLoading:Kt,onOk:nn,onCancel:si,okButtonProps:Qn,cancelButtonProps:hn,footer:Vi}=Y,[oi]=(0,bt.Z)("Modal",(0,Ks.A)()),Gi=Pe||(oi==null?void 0:oi.okText),Ki=Mt||(oi==null?void 0:oi.cancelText),sr={confirmLoading:Kt,okButtonProps:Qn,cancelButtonProps:hn,okTextLocale:Gi,cancelTextLocale:Ki,okType:Tt,onOk:nn,onCancel:si},Is=q.useMemo(()=>sr,(0,u.Z)(Object.values(sr)));let mi;return typeof Vi=="function"||typeof Vi=="undefined"?(mi=q.createElement(q.Fragment,null,q.createElement(xo,null),q.createElement(Xo,null)),typeof Vi=="function"&&(mi=Vi(mi,{OkBtn:Xo,CancelBtn:xo})),mi=q.createElement(ot,{value:Is},mi)):mi=Vi,q.createElement(Ui.n,{disabled:!1},mi)};var bo=I(10500),Yo=I(81187);const Po=new Ut.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),zo=new Ut.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Eo=function(Y){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:Tt}=Y,Mt=`${Tt}-fade`,Kt=Pe?"&":"";return[(0,Yo.R)(Mt,Po,zo,Y.motionDurationMid,Pe),{[`
        ${Kt}${Mt}-enter,
        ${Kt}${Mt}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${Kt}${Mt}-leave`]:{animationTimingFunction:"linear"}}]};var ma=I(67329);function uo(Y){return{position:Y,inset:0}}const Wa=Y=>{const{componentCls:Pe,antCls:Tt}=Y;return[{[`${Pe}-root`]:{[`${Pe}${Tt}-zoom-enter, ${Pe}${Tt}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:Y.motionDurationSlow,userSelect:"none"},[`${Pe}${Tt}-zoom-leave ${Pe}-content`]:{pointerEvents:"none"},[`${Pe}-mask`]:Object.assign(Object.assign({},uo("fixed")),{zIndex:Y.zIndexPopupBase,height:"100%",backgroundColor:Y.colorBgMask,pointerEvents:"none",[`${Pe}-hidden`]:{display:"none"}}),[`${Pe}-wrap`]:Object.assign(Object.assign({},uo("fixed")),{zIndex:Y.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${Pe}-root`]:Eo(Y)}]},bl=Y=>{const{componentCls:Pe}=Y;return[{[`${Pe}-root`]:{[`${Pe}-wrap-rtl`]:{direction:"rtl"},[`${Pe}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[Pe]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${Y.screenSMMax}px)`]:{[Pe]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,Ut.bf)(Y.marginXS)} auto`},[`${Pe}-centered`]:{[Pe]:{flex:1}}}}},{[Pe]:Object.assign(Object.assign({},(0,bo.Wf)(Y)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,Ut.bf)(Y.calc(Y.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:Y.paddingLG,[`${Pe}-title`]:{margin:0,color:Y.titleColor,fontWeight:Y.fontWeightStrong,fontSize:Y.titleFontSize,lineHeight:Y.titleLineHeight,wordWrap:"break-word"},[`${Pe}-content`]:{position:"relative",backgroundColor:Y.contentBg,backgroundClip:"padding-box",border:0,borderRadius:Y.borderRadiusLG,boxShadow:Y.boxShadow,pointerEvents:"auto",padding:Y.contentPadding},[`${Pe}-close`]:Object.assign({position:"absolute",top:Y.calc(Y.modalHeaderHeight).sub(Y.modalCloseBtnSize).div(2).equal(),insetInlineEnd:Y.calc(Y.modalHeaderHeight).sub(Y.modalCloseBtnSize).div(2).equal(),zIndex:Y.calc(Y.zIndexPopupBase).add(10).equal(),padding:0,color:Y.modalCloseIconColor,fontWeight:Y.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:Y.borderRadiusSM,width:Y.modalCloseBtnSize,height:Y.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${Y.motionDurationMid}, background-color ${Y.motionDurationMid}`,"&-x":{display:"flex",fontSize:Y.fontSizeLG,fontStyle:"normal",lineHeight:(0,Ut.bf)(Y.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:Y.modalCloseIconHoverColor,backgroundColor:Y.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:Y.colorBgTextActive}},(0,bo.Qy)(Y)),[`${Pe}-header`]:{color:Y.colorText,background:Y.headerBg,borderRadius:`${(0,Ut.bf)(Y.borderRadiusLG)} ${(0,Ut.bf)(Y.borderRadiusLG)} 0 0`,marginBottom:Y.headerMarginBottom,padding:Y.headerPadding,borderBottom:Y.headerBorderBottom},[`${Pe}-body`]:{fontSize:Y.fontSize,lineHeight:Y.lineHeight,wordWrap:"break-word",padding:Y.bodyPadding,[`${Pe}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,Ut.bf)(Y.margin)} auto`}},[`${Pe}-footer`]:{textAlign:"end",background:Y.footerBg,marginTop:Y.footerMarginTop,padding:Y.footerPadding,borderTop:Y.footerBorderTop,borderRadius:Y.footerBorderRadius,[`> ${Y.antCls}-btn + ${Y.antCls}-btn`]:{marginInlineStart:Y.marginXS}},[`${Pe}-open`]:{overflow:"hidden"}})},{[`${Pe}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${Pe}-content,
          ${Pe}-body,
          ${Pe}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${Pe}-confirm-body`]:{marginBottom:"auto"}}}]},ka=Y=>{const{componentCls:Pe}=Y;return{[`${Pe}-root`]:{[`${Pe}-wrap-rtl`]:{direction:"rtl",[`${Pe}-confirm-body`]:{direction:"rtl"}}}}},Al=Y=>{const Pe=Y.padding,Tt=Y.fontSizeHeading5,Mt=Y.lineHeightHeading5;return(0,Si.IX)(Y,{modalHeaderHeight:Y.calc(Y.calc(Mt).mul(Tt).equal()).add(Y.calc(Pe).mul(2).equal()).equal(),modalFooterBorderColorSplit:Y.colorSplit,modalFooterBorderStyle:Y.lineType,modalFooterBorderWidth:Y.lineWidth,modalCloseIconColor:Y.colorIcon,modalCloseIconHoverColor:Y.colorIconHover,modalCloseBtnSize:Y.controlHeight,modalConfirmIconSize:Y.fontHeight,modalTitleHeight:Y.calc(Y.titleFontSize).mul(Y.titleLineHeight).equal()})},ic=Y=>({footerBg:"transparent",headerBg:Y.colorBgElevated,titleLineHeight:Y.lineHeightHeading5,titleFontSize:Y.fontSizeHeading5,contentBg:Y.colorBgElevated,titleColor:Y.colorTextHeading,contentPadding:Y.wireframe?0:`${(0,Ut.bf)(Y.paddingMD)} ${(0,Ut.bf)(Y.paddingContentHorizontalLG)}`,headerPadding:Y.wireframe?`${(0,Ut.bf)(Y.padding)} ${(0,Ut.bf)(Y.paddingLG)}`:0,headerBorderBottom:Y.wireframe?`${(0,Ut.bf)(Y.lineWidth)} ${Y.lineType} ${Y.colorSplit}`:"none",headerMarginBottom:Y.wireframe?0:Y.marginXS,bodyPadding:Y.wireframe?Y.paddingLG:0,footerPadding:Y.wireframe?`${(0,Ut.bf)(Y.paddingXS)} ${(0,Ut.bf)(Y.padding)}`:0,footerBorderTop:Y.wireframe?`${(0,Ut.bf)(Y.lineWidth)} ${Y.lineType} ${Y.colorSplit}`:"none",footerBorderRadius:Y.wireframe?`0 0 ${(0,Ut.bf)(Y.borderRadiusLG)} ${(0,Ut.bf)(Y.borderRadiusLG)}`:0,footerMarginTop:Y.wireframe?0:Y.marginSM,confirmBodyPadding:Y.wireframe?`${(0,Ut.bf)(Y.padding*2)} ${(0,Ut.bf)(Y.padding*2)} ${(0,Ut.bf)(Y.paddingLG)}`:0,confirmIconMarginInlineEnd:Y.wireframe?Y.margin:Y.marginSM,confirmBtnsMarginTop:Y.wireframe?Y.marginLG:Y.marginSM});var ja=(0,ti.I$)("Modal",Y=>{const Pe=Al(Y);return[bl(Pe),ka(Pe),Wa(Pe),(0,ma._y)(Pe,"zoom")]},ic,{unitless:{titleLineHeight:!0}}),hl=function(Y,Pe){var Tt={};for(var Mt in Y)Object.prototype.hasOwnProperty.call(Y,Mt)&&Pe.indexOf(Mt)<0&&(Tt[Mt]=Y[Mt]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Kt=0,Mt=Object.getOwnPropertySymbols(Y);Kt<Mt.length;Kt++)Pe.indexOf(Mt[Kt])<0&&Object.prototype.propertyIsEnumerable.call(Y,Mt[Kt])&&(Tt[Mt[Kt]]=Y[Mt[Kt]]);return Tt};let na;const Za=Y=>{na={x:Y.pageX,y:Y.pageY},setTimeout(()=>{na=null},100)};fr()&&document.documentElement.addEventListener("click",Za,!0);var Pl=Y=>{var Pe;const{getPopupContainer:Tt,getPrefixCls:Mt,direction:Kt,modal:nn}=q.useContext(de.E_),si=Xe=>{const{onCancel:yt}=Y;yt==null||yt(Xe)},Qn=Xe=>{const{onOk:yt}=Y;yt==null||yt(Xe)},{prefixCls:hn,className:Vi,rootClassName:oi,open:Gi,wrapClassName:Ki,centered:sr,getContainer:Is,focusTriggerAfterClose:mi=!0,style:ho,visible:jr,width:yr=520,footer:So,classNames:Vo,styles:_a,children:ye,loading:qe}=Y,Ve=hl(Y,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),ht=Mt("modal",hn),Nt=Mt(),Fn=(0,_r.Z)(ht),[ai,xi,hi]=ja(ht,Fn),Xi=tt()(Ki,{[`${ht}-centered`]:!!sr,[`${ht}-wrap-rtl`]:Kt==="rtl"}),Pi=So!==null&&!qe?q.createElement(Ao,Object.assign({},Y,{onOk:Qn,onCancel:si})):null,[jn,Ji]=io(on(Y),on(nn),{closable:!0,closeIcon:q.createElement(_n.Z,{className:`${ht}-close-icon`}),closeIconRender:Xe=>Ea(ht,Xe)}),Zt=ys(`.${ht}-content`),[Wi,ge]=(0,Ie.Cn)("Modal",Ve.zIndex);return ai(q.createElement(Ft.Z,{form:!0,space:!0},q.createElement(ir.Z.Provider,{value:ge},q.createElement(gn,Object.assign({width:yr},Ve,{zIndex:Wi,getContainer:Is===void 0?Tt:Is,prefixCls:ht,rootClassName:tt()(xi,oi,hi,Fn),footer:Pi,visible:Gi!=null?Gi:jr,mousePosition:(Pe=Ve.mousePosition)!==null&&Pe!==void 0?Pe:na,onClose:si,closable:jn,closeIcon:Ji,focusTriggerAfterClose:mi,transitionName:(0,Le.m)(Nt,"zoom",Y.transitionName),maskTransitionName:(0,Le.m)(Nt,"fade",Y.maskTransitionName),className:tt()(xi,Vi,nn==null?void 0:nn.className),style:Object.assign(Object.assign({},nn==null?void 0:nn.style),ho),classNames:Object.assign(Object.assign(Object.assign({},nn==null?void 0:nn.classNames),Vo),{wrapper:tt()(Xi,Vo==null?void 0:Vo.wrapper)}),styles:Object.assign(Object.assign({},nn==null?void 0:nn.styles),_a),panelRef:Zt}),qe?q.createElement(Ho,{active:!0,title:!1,paragraph:{rows:4},className:`${ht}-body-skeleton`}):ye))))};const Ze=Y=>{const{componentCls:Pe,titleFontSize:Tt,titleLineHeight:Mt,modalConfirmIconSize:Kt,fontSize:nn,lineHeight:si,modalTitleHeight:Qn,fontHeight:hn,confirmBodyPadding:Vi}=Y,oi=`${Pe}-confirm`;return{[oi]:{"&-rtl":{direction:"rtl"},[`${Y.antCls}-modal-header`]:{display:"none"},[`${oi}-body-wrapper`]:Object.assign({},(0,bo.dF)()),[`&${Pe} ${Pe}-body`]:{padding:Vi},[`${oi}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${Y.iconCls}`]:{flex:"none",fontSize:Kt,marginInlineEnd:Y.confirmIconMarginInlineEnd,marginTop:Y.calc(Y.calc(hn).sub(Kt).equal()).div(2).equal()},[`&-has-title > ${Y.iconCls}`]:{marginTop:Y.calc(Y.calc(Qn).sub(Kt).equal()).div(2).equal()}},[`${oi}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:Y.marginXS},[`${Y.iconCls} + ${oi}-paragraph`]:{maxWidth:`calc(100% - ${(0,Ut.bf)(Y.calc(Y.modalConfirmIconSize).add(Y.marginSM).equal())})`},[`${oi}-title`]:{color:Y.colorTextHeading,fontWeight:Y.fontWeightStrong,fontSize:Tt,lineHeight:Mt},[`${oi}-content`]:{color:Y.colorText,fontSize:nn,lineHeight:si},[`${oi}-btns`]:{textAlign:"end",marginTop:Y.confirmBtnsMarginTop,[`${Y.antCls}-btn + ${Y.antCls}-btn`]:{marginBottom:0,marginInlineStart:Y.marginXS}}},[`${oi}-error ${oi}-body > ${Y.iconCls}`]:{color:Y.colorError},[`${oi}-warning ${oi}-body > ${Y.iconCls},
        ${oi}-confirm ${oi}-body > ${Y.iconCls}`]:{color:Y.colorWarning},[`${oi}-info ${oi}-body > ${Y.iconCls}`]:{color:Y.colorInfo},[`${oi}-success ${oi}-body > ${Y.iconCls}`]:{color:Y.colorSuccess}}};var te=(0,ti.bk)(["Modal","confirm"],Y=>{const Pe=Al(Y);return[Ze(Pe)]},ic,{order:-1e3}),H=function(Y,Pe){var Tt={};for(var Mt in Y)Object.prototype.hasOwnProperty.call(Y,Mt)&&Pe.indexOf(Mt)<0&&(Tt[Mt]=Y[Mt]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Kt=0,Mt=Object.getOwnPropertySymbols(Y);Kt<Mt.length;Kt++)Pe.indexOf(Mt[Kt])<0&&Object.prototype.propertyIsEnumerable.call(Y,Mt[Kt])&&(Tt[Mt[Kt]]=Y[Mt[Kt]]);return Tt};function le(Y){const{prefixCls:Pe,icon:Tt,okText:Mt,cancelText:Kt,confirmPrefixCls:nn,type:si,okCancel:Qn,footer:hn,locale:Vi}=Y,oi=H(Y,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let Gi=Tt;if(!Tt&&Tt!==null)switch(si){case"info":Gi=q.createElement(Ue,null);break;case"success":Gi=q.createElement(st,null);break;case"error":Gi=q.createElement(oe.Z,null);break;default:Gi=q.createElement(Oe,null)}const Ki=Qn!=null?Qn:si==="confirm",sr=Y.autoFocusButton===null?!1:Y.autoFocusButton||"ok",[Is]=(0,bt.Z)("Modal"),mi=Vi||Is,ho=Mt||(Ki?mi==null?void 0:mi.okText:mi==null?void 0:mi.justOkText),jr=Kt||(mi==null?void 0:mi.cancelText),yr=Object.assign({autoFocusButton:sr,cancelTextLocale:jr,okTextLocale:ho,mergedOkCancel:Ki},oi),So=q.useMemo(()=>yr,(0,u.Z)(Object.values(yr))),Vo=q.createElement(q.Fragment,null,q.createElement(kt,null),q.createElement(Yn,null)),_a=Y.title!==void 0&&Y.title!==null,ye=`${nn}-body`;return q.createElement("div",{className:`${nn}-body-wrapper`},q.createElement("div",{className:tt()(ye,{[`${ye}-has-title`]:_a})},Gi,q.createElement("div",{className:`${nn}-paragraph`},_a&&q.createElement("span",{className:`${nn}-title`},Y.title),q.createElement("div",{className:`${nn}-content`},Y.content))),hn===void 0||typeof hn=="function"?q.createElement(ot,{value:So},q.createElement("div",{className:`${nn}-btns`},typeof hn=="function"?hn(Vo,{OkBtn:Yn,CancelBtn:kt}):Vo)):hn,q.createElement(te,{prefixCls:Pe}))}const ie=Y=>{const{close:Pe,zIndex:Tt,afterClose:Mt,open:Kt,keyboard:nn,centered:si,getContainer:Qn,maskStyle:hn,direction:Vi,prefixCls:oi,wrapClassName:Gi,rootPrefixCls:Ki,bodyStyle:sr,closable:Is=!1,closeIcon:mi,modalRender:ho,focusTriggerAfterClose:jr,onConfirm:yr,styles:So}=Y,Vo=`${oi}-confirm`,_a=Y.width||416,ye=Y.style||{},qe=Y.mask===void 0?!0:Y.mask,Ve=Y.maskClosable===void 0?!1:Y.maskClosable,ht=tt()(Vo,`${Vo}-${Y.type}`,{[`${Vo}-rtl`]:Vi==="rtl"},Y.className),[,Nt]=(0,en.ZP)(),Fn=q.useMemo(()=>Tt!==void 0?Tt:Nt.zIndexPopupBase+Ie.u6,[Tt,Nt]);return q.createElement(Pl,{prefixCls:oi,className:ht,wrapClassName:tt()({[`${Vo}-centered`]:!!Y.centered},Gi),onCancel:()=>{Pe==null||Pe({triggerCancel:!0}),yr==null||yr(!1)},open:Kt,title:"",footer:null,transitionName:(0,Le.m)(Ki||"","zoom",Y.transitionName),maskTransitionName:(0,Le.m)(Ki||"","fade",Y.maskTransitionName),mask:qe,maskClosable:Ve,style:ye,styles:Object.assign({body:sr,mask:hn},So),width:_a,zIndex:Fn,afterClose:Mt,keyboard:nn,centered:si,getContainer:Qn,closable:Is,closeIcon:mi,modalRender:ho,focusTriggerAfterClose:jr},q.createElement(le,Object.assign({},Y,{confirmPrefixCls:Vo})))};var Fe=Y=>{const{rootPrefixCls:Pe,iconPrefixCls:Tt,direction:Mt,theme:Kt}=Y;return q.createElement(Qe.ZP,{prefixCls:Pe,iconPrefixCls:Tt,direction:Mt,theme:Kt},q.createElement(ie,Object.assign({},Y)))},sn=[];let On="";function Yt(){return On}const g=Y=>{var Pe,Tt;const{prefixCls:Mt,getContainer:Kt,direction:nn}=Y,si=(0,Ks.A)(),Qn=(0,q.useContext)(de.E_),hn=Yt()||Qn.getPrefixCls(),Vi=Mt||`${hn}-modal`;let oi=Kt;return oi===!1&&(oi=void 0),q.createElement(Fe,Object.assign({},Y,{rootPrefixCls:hn,prefixCls:Vi,iconPrefixCls:Qn.iconPrefixCls,theme:Qn.theme,direction:nn!=null?nn:Qn.direction,locale:(Tt=(Pe=Qn.locale)===null||Pe===void 0?void 0:Pe.Modal)!==null&&Tt!==void 0?Tt:si,getContainer:oi}))};function b(Y){const Pe=(0,Qe.w6)(),Tt=document.createDocumentFragment();let Mt=Object.assign(Object.assign({},Y),{close:Qn,open:!0}),Kt;function nn(){for(var Vi,oi=arguments.length,Gi=new Array(oi),Ki=0;Ki<oi;Ki++)Gi[Ki]=arguments[Ki];if(Gi.some(mi=>mi==null?void 0:mi.triggerCancel)){var Is;(Vi=Y.onCancel)===null||Vi===void 0||(Is=Vi).call.apply(Is,[Y,()=>{}].concat((0,u.Z)(Gi.slice(1))))}for(let mi=0;mi<sn.length;mi++)if(sn[mi]===Qn){sn.splice(mi,1);break}(0,$.v)(Tt)}function si(Vi){clearTimeout(Kt),Kt=setTimeout(()=>{const oi=Pe.getPrefixCls(void 0,Yt()),Gi=Pe.getIconPrefixCls(),Ki=Pe.getTheme(),sr=q.createElement(g,Object.assign({},Vi));(0,$.s)(q.createElement(Qe.ZP,{prefixCls:oi,iconPrefixCls:Gi,theme:Ki},Pe.holderRender?Pe.holderRender(sr):sr),Tt)})}function Qn(){for(var Vi=arguments.length,oi=new Array(Vi),Gi=0;Gi<Vi;Gi++)oi[Gi]=arguments[Gi];Mt=Object.assign(Object.assign({},Mt),{open:!1,afterClose:()=>{typeof Y.afterClose=="function"&&Y.afterClose(),nn.apply(this,oi)}}),Mt.visible&&delete Mt.visible,si(Mt)}function hn(Vi){typeof Vi=="function"?Mt=Vi(Mt):Mt=Object.assign(Object.assign({},Mt),Vi),si(Mt)}return si(Mt),sn.push(Qn),{destroy:Qn,update:hn}}function T(Y){return Object.assign(Object.assign({},Y),{type:"warning"})}function D(Y){return Object.assign(Object.assign({},Y),{type:"info"})}function k(Y){return Object.assign(Object.assign({},Y),{type:"success"})}function z(Y){return Object.assign(Object.assign({},Y),{type:"error"})}function J(Y){return Object.assign(Object.assign({},Y),{type:"confirm"})}function _e(Y){let{rootPrefixCls:Pe}=Y;On=Pe}var Me=I(13771),He=function(Y,Pe){var Tt={};for(var Mt in Y)Object.prototype.hasOwnProperty.call(Y,Mt)&&Pe.indexOf(Mt)<0&&(Tt[Mt]=Y[Mt]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Kt=0,Mt=Object.getOwnPropertySymbols(Y);Kt<Mt.length;Kt++)Pe.indexOf(Mt[Kt])<0&&Object.prototype.propertyIsEnumerable.call(Y,Mt[Kt])&&(Tt[Mt[Kt]]=Y[Mt[Kt]]);return Tt};const Dt=Y=>{const{prefixCls:Pe,className:Tt,closeIcon:Mt,closable:Kt,type:nn,title:si,children:Qn,footer:hn}=Y,Vi=He(Y,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:oi}=q.useContext(de.E_),Gi=oi(),Ki=Pe||oi("modal"),sr=(0,_r.Z)(Gi),[Is,mi,ho]=ja(Ki,sr),jr=`${Ki}-confirm`;let yr={};return nn?yr={closable:Kt!=null?Kt:!1,title:"",footer:"",children:q.createElement(le,Object.assign({},Y,{prefixCls:Ki,confirmPrefixCls:jr,rootPrefixCls:Gi,content:Qn}))}:yr={closable:Kt!=null?Kt:!0,title:si,footer:hn!==null&&q.createElement(Ao,Object.assign({},Y)),children:Qn},Is(q.createElement(Fi,Object.assign({prefixCls:Ki,className:tt()(mi,`${Ki}-pure-panel`,nn&&jr,nn&&`${jr}-${nn}`,Tt,ho,sr)},Vi,{closeIcon:Ea(Ki,Mt),closable:Kt},yr)))};var tn=(0,Me.i)(Dt);function Et(){const[Y,Pe]=q.useState([]),Tt=q.useCallback(Mt=>(Pe(Kt=>[].concat((0,u.Z)(Kt),[Mt])),()=>{Pe(Kt=>Kt.filter(nn=>nn!==Mt))}),[]);return[Y,Tt]}var yn=I(81001),ni=function(Y,Pe){var Tt={};for(var Mt in Y)Object.prototype.hasOwnProperty.call(Y,Mt)&&Pe.indexOf(Mt)<0&&(Tt[Mt]=Y[Mt]);if(Y!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Kt=0,Mt=Object.getOwnPropertySymbols(Y);Kt<Mt.length;Kt++)Pe.indexOf(Mt[Kt])<0&&Object.prototype.propertyIsEnumerable.call(Y,Mt[Kt])&&(Tt[Mt[Kt]]=Y[Mt[Kt]]);return Tt};const ji=(Y,Pe)=>{var Tt,{afterClose:Mt,config:Kt}=Y,nn=ni(Y,["afterClose","config"]);const[si,Qn]=q.useState(!0),[hn,Vi]=q.useState(Kt),{direction:oi,getPrefixCls:Gi}=q.useContext(de.E_),Ki=Gi("modal"),sr=Gi(),Is=()=>{var yr;Mt(),(yr=hn.afterClose)===null||yr===void 0||yr.call(hn)},mi=function(){var yr;Qn(!1);for(var So=arguments.length,Vo=new Array(So),_a=0;_a<So;_a++)Vo[_a]=arguments[_a];if(Vo.some(Ve=>Ve==null?void 0:Ve.triggerCancel)){var qe;(yr=hn.onCancel)===null||yr===void 0||(qe=yr).call.apply(qe,[hn,()=>{}].concat((0,u.Z)(Vo.slice(1))))}};q.useImperativeHandle(Pe,()=>({destroy:mi,update:yr=>{Vi(So=>Object.assign(Object.assign({},So),yr))}}));const ho=(Tt=hn.okCancel)!==null&&Tt!==void 0?Tt:hn.type==="confirm",[jr]=(0,bt.Z)("Modal",yn.Z.Modal);return q.createElement(Fe,Object.assign({prefixCls:Ki,rootPrefixCls:sr},hn,{close:mi,open:si,afterClose:Is,okText:hn.okText||(ho?jr==null?void 0:jr.okText:jr==null?void 0:jr.justOkText),direction:hn.direction||oi,cancelText:hn.cancelText||(jr==null?void 0:jr.cancelText)},nn))};var rr=q.forwardRef(ji);let Cs=0;const _s=q.memo(q.forwardRef((Y,Pe)=>{const[Tt,Mt]=Et();return q.useImperativeHandle(Pe,()=>({patchElement:Mt}),[]),q.createElement(q.Fragment,null,Tt)}));function go(){const Y=q.useRef(null),[Pe,Tt]=q.useState([]);q.useEffect(()=>{Pe.length&&((0,u.Z)(Pe).forEach(si=>{si()}),Tt([]))},[Pe]);const Mt=q.useCallback(nn=>function(Qn){var hn;Cs+=1;const Vi=q.createRef();let oi;const Gi=new Promise(ho=>{oi=ho});let Ki=!1,sr;const Is=q.createElement(rr,{key:`modal-${Cs}`,config:nn(Qn),ref:Vi,afterClose:()=>{sr==null||sr()},isSilent:()=>Ki,onConfirm:ho=>{oi(ho)}});return sr=(hn=Y.current)===null||hn===void 0?void 0:hn.patchElement(Is),sr&&sn.push(sr),{destroy:()=>{function ho(){var jr;(jr=Vi.current)===null||jr===void 0||jr.destroy()}Vi.current?ho():Tt(jr=>[].concat((0,u.Z)(jr),[ho]))},update:ho=>{function jr(){var yr;(yr=Vi.current)===null||yr===void 0||yr.update(ho)}Vi.current?jr():Tt(yr=>[].concat((0,u.Z)(yr),[jr]))},then:ho=>(Ki=!0,Gi.then(ho))}},[]);return[q.useMemo(()=>({info:Mt(D),success:Mt(k),error:Mt(z),warning:Mt(T),confirm:Mt(J)}),[]),q.createElement(_s,{key:"modal-holder",ref:Y})]}var Da=go;function Yr(Y){return b(T(Y))}const ra=Pl;ra.useModal=Da,ra.info=function(Pe){return b(D(Pe))},ra.success=function(Pe){return b(k(Pe))},ra.error=function(Pe){return b(z(Pe))},ra.warning=Yr,ra.warn=Yr,ra.confirm=function(Pe){return b(J(Pe))},ra.destroyAll=function(){for(;sn.length;){const Pe=sn.pop();Pe&&Pe()}},ra.config=_e,ra._InternalPanelDoNotUseOrYouWillBeFired=tn;var Lo=ra},98495:function(Ci,At,I){"use strict";I.d(At,{A:function(){return fe},f:function(){return Qe}});var u=I(81001);let q=Object.assign({},u.Z.Modal),$=[];const de=()=>$.reduce((ee,X)=>Object.assign(Object.assign({},ee),X),u.Z.Modal);function Qe(ee){if(ee){const X=Object.assign({},ee);return $.push(X),q=de(),()=>{$=$.filter(j=>j!==X),q=de()}}q=Object.assign({},u.Z.Modal)}function fe(){return q}},38345:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return Ce}});var u=I(75271),q=I(82187),$=I.n(q),de=I(91556);const Qe=["xxl","xl","lg","md","sm","xs"],fe=at=>({xs:`(max-width: ${at.screenXSMax}px)`,sm:`(min-width: ${at.screenSM}px)`,md:`(min-width: ${at.screenMD}px)`,lg:`(min-width: ${at.screenLG}px)`,xl:`(min-width: ${at.screenXL}px)`,xxl:`(min-width: ${at.screenXXL}px)`}),ee=at=>{const re=at,we=[].concat(Qe).reverse();return we.forEach((Ue,E)=>{const tt=Ue.toUpperCase(),Ie=`screen${tt}Min`,Le=`screen${tt}`;if(!(re[Ie]<=re[Le]))throw new Error(`${Ie}<=${Le} fails : !(${re[Ie]}<=${re[Le]})`);if(E<we.length-1){const bt=`screen${tt}Max`;if(!(re[Le]<=re[bt]))throw new Error(`${Le}<=${bt} fails : !(${re[Le]}<=${re[bt]})`);const lt=`screen${we[E+1].toUpperCase()}Min`;if(!(re[bt]<=re[lt]))throw new Error(`${bt}<=${lt} fails : !(${re[bt]}<=${re[lt]})`)}}),at};function X(){const[,at]=(0,de.ZP)(),re=fe(ee(at));return u.useMemo(()=>{const we=new Map;let Ue=-1,E={};return{matchHandlers:{},dispatch(tt){return E=tt,we.forEach(Ie=>Ie(E)),we.size>=1},subscribe(tt){return we.size||this.register(),Ue+=1,we.set(Ue,tt),tt(E),Ue},unsubscribe(tt){we.delete(tt),we.size||this.unregister()},unregister(){Object.keys(re).forEach(tt=>{const Ie=re[tt],Le=this.matchHandlers[Ie];Le==null||Le.mql.removeListener(Le==null?void 0:Le.listener)}),we.clear()},register(){Object.keys(re).forEach(tt=>{const Ie=re[tt],Le=en=>{let{matches:lt}=en;this.dispatch(Object.assign(Object.assign({},E),{[tt]:lt}))},bt=window.matchMedia(Ie);bt.addListener(Le),this.matchHandlers[Ie]={mql:bt,listener:Le},Le(bt)})},responsiveMap:re}},[at])}const j=(at,re)=>{if(re&&typeof re=="object")for(let we=0;we<Qe.length;we++){const Ue=Qe[we];if(at[Ue]&&re[Ue]!==void 0)return re[Ue]}};var he=I(1800),ft=I(18243),st=I(58146),oe=function(at,re){var we={};for(var Ue in at)Object.prototype.hasOwnProperty.call(at,Ue)&&re.indexOf(Ue)<0&&(we[Ue]=at[Ue]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,Ue=Object.getOwnPropertySymbols(at);E<Ue.length;E++)re.indexOf(Ue[E])<0&&Object.prototype.propertyIsEnumerable.call(at,Ue[E])&&(we[Ue[E]]=at[Ue[E]]);return we};const ct=null,xe=null;function ne(at,re){const[we,Ue]=u.useState(typeof at=="string"?at:""),E=()=>{if(typeof at=="string"&&Ue(at),typeof at=="object")for(let tt=0;tt<Qe.length;tt++){const Ie=Qe[tt];if(!re[Ie])continue;const Le=at[Ie];if(Le!==void 0){Ue(Le);return}}};return u.useEffect(()=>{E()},[JSON.stringify(at),re]),we}var Oe=u.forwardRef((at,re)=>{const{prefixCls:we,justify:Ue,align:E,className:tt,style:Ie,children:Le,gutter:bt=0,wrap:en}=at,lt=oe(at,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Ht,direction:Pn}=u.useContext(he.E_),[vi,Rt]=u.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[ut,Ge]=u.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),ot=ne(E,ut),mt=ne(Ue,ut),kt=u.useRef(bt),qt=X();u.useEffect(()=>{const Mi=qt.subscribe(as=>{Ge(as);const dn=kt.current||0;(!Array.isArray(dn)&&typeof dn=="object"||Array.isArray(dn)&&(typeof dn[0]=="object"||typeof dn[1]=="object"))&&Rt(as)});return()=>qt.unsubscribe(Mi)},[]);const Yn=()=>{const Mi=[void 0,void 0];return(Array.isArray(bt)?bt:[bt,void 0]).forEach((dn,Rr)=>{if(typeof dn=="object")for(let is=0;is<Qe.length;is++){const mr=Qe[is];if(vi[mr]&&dn[mr]!==void 0){Mi[Rr]=dn[mr];break}}else Mi[Rr]=dn}),Mi},_n=Ht("row",we),[Lt,Kn,ln]=(0,st.VM)(_n),Gt=Yn(),Bt=$()(_n,{[`${_n}-no-wrap`]:en===!1,[`${_n}-${mt}`]:mt,[`${_n}-${ot}`]:ot,[`${_n}-rtl`]:Pn==="rtl"},tt,Kn,ln),Nn={},Pt=Gt[0]!=null&&Gt[0]>0?Gt[0]/-2:void 0;Pt&&(Nn.marginLeft=Pt,Nn.marginRight=Pt);const[rn,cn]=Gt;Nn.rowGap=cn;const zi=u.useMemo(()=>({gutter:[rn,cn],wrap:en}),[rn,cn,en]);return Lt(u.createElement(ft.Z.Provider,{value:zi},u.createElement("div",Object.assign({},lt,{className:Bt,style:Object.assign(Object.assign({},Nn),Ie),ref:re}),Le)))}),Ce=Oe},23917:function(Ci,At,I){"use strict";I.d(At,{BR:function(){return ft},ri:function(){return he}});var u=I(75271),q=I(82187),$=I.n(q),de=I(22615),Qe=I(1800),fe=I(57892),ee=I(46662),X=function(ct,xe){var ne={};for(var Be in ct)Object.prototype.hasOwnProperty.call(ct,Be)&&xe.indexOf(Be)<0&&(ne[Be]=ct[Be]);if(ct!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Oe=0,Be=Object.getOwnPropertySymbols(ct);Oe<Be.length;Oe++)xe.indexOf(Be[Oe])<0&&Object.prototype.propertyIsEnumerable.call(ct,Be[Oe])&&(ne[Be[Oe]]=ct[Be[Oe]]);return ne};const j=u.createContext(null),he=(ct,xe)=>{const ne=u.useContext(j),Be=u.useMemo(()=>{if(!ne)return"";const{compactDirection:Oe,isFirstItem:Ce,isLastItem:at}=ne,re=Oe==="vertical"?"-vertical-":"-";return $()(`${ct}-compact${re}item`,{[`${ct}-compact${re}first-item`]:Ce,[`${ct}-compact${re}last-item`]:at,[`${ct}-compact${re}item-rtl`]:xe==="rtl"})},[ct,xe,ne]);return{compactSize:ne==null?void 0:ne.compactSize,compactDirection:ne==null?void 0:ne.compactDirection,compactItemClassnames:Be}},ft=ct=>{let{children:xe}=ct;return u.createElement(j.Provider,{value:null},xe)},st=ct=>{var{children:xe}=ct,ne=X(ct,["children"]);return u.createElement(j.Provider,{value:ne},xe)},oe=ct=>{const{getPrefixCls:xe,direction:ne}=u.useContext(Qe.E_),{size:Be,direction:Oe,block:Ce,prefixCls:at,className:re,rootClassName:we,children:Ue}=ct,E=X(ct,["size","direction","block","prefixCls","className","rootClassName","children"]),tt=(0,fe.Z)(vi=>Be!=null?Be:vi),Ie=xe("space-compact",at),[Le,bt]=(0,ee.Z)(Ie),en=$()(Ie,bt,{[`${Ie}-rtl`]:ne==="rtl",[`${Ie}-block`]:Ce,[`${Ie}-vertical`]:Oe==="vertical"},re,we),lt=u.useContext(j),Ht=(0,de.Z)(Ue),Pn=u.useMemo(()=>Ht.map((vi,Rt)=>{const ut=(vi==null?void 0:vi.key)||`${Ie}-item-${Rt}`;return u.createElement(st,{key:ut,compactSize:tt,compactDirection:Oe,isFirstItem:Rt===0&&(!lt||(lt==null?void 0:lt.isFirstItem)),isLastItem:Rt===Ht.length-1&&(!lt||(lt==null?void 0:lt.isLastItem))},vi)}),[Be,Ht,lt]);return Ht.length===0?null:Le(u.createElement("div",Object.assign({className:en},E),Pn))};At.ZP=oe},42592:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return Be}});var u=I(75271),q=I(82187),$=I.n(q),de=I(22615);function Qe(Oe){return["small","middle","large"].includes(Oe)}function fe(Oe){return Oe?typeof Oe=="number"&&!Number.isNaN(Oe):!1}var ee=I(1800),X=I(23917);const j=u.createContext({latestIndex:0}),he=j.Provider;var st=Oe=>{let{className:Ce,index:at,children:re,split:we,style:Ue}=Oe;const{latestIndex:E}=u.useContext(j);return re==null?null:u.createElement(u.Fragment,null,u.createElement("div",{className:Ce,style:Ue},re),at<E&&we&&u.createElement("span",{className:`${Ce}-split`},we))},oe=I(46662),ct=function(Oe,Ce){var at={};for(var re in Oe)Object.prototype.hasOwnProperty.call(Oe,re)&&Ce.indexOf(re)<0&&(at[re]=Oe[re]);if(Oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var we=0,re=Object.getOwnPropertySymbols(Oe);we<re.length;we++)Ce.indexOf(re[we])<0&&Object.prototype.propertyIsEnumerable.call(Oe,re[we])&&(at[re[we]]=Oe[re[we]]);return at};const ne=u.forwardRef((Oe,Ce)=>{var at,re,we;const{getPrefixCls:Ue,space:E,direction:tt}=u.useContext(ee.E_),{size:Ie=(at=E==null?void 0:E.size)!==null&&at!==void 0?at:"small",align:Le,className:bt,rootClassName:en,children:lt,direction:Ht="horizontal",prefixCls:Pn,split:vi,style:Rt,wrap:ut=!1,classNames:Ge,styles:ot}=Oe,mt=ct(Oe,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[kt,qt]=Array.isArray(Ie)?Ie:[Ie,Ie],Yn=Qe(qt),_n=Qe(kt),Lt=fe(qt),Kn=fe(kt),ln=(0,de.Z)(lt,{keepEmpty:!0}),Gt=Le===void 0&&Ht==="horizontal"?"center":Le,Bt=Ue("space",Pn),[Nn,Pt,rn]=(0,oe.Z)(Bt),cn=$()(Bt,E==null?void 0:E.className,Pt,`${Bt}-${Ht}`,{[`${Bt}-rtl`]:tt==="rtl",[`${Bt}-align-${Gt}`]:Gt,[`${Bt}-gap-row-${qt}`]:Yn,[`${Bt}-gap-col-${kt}`]:_n},bt,en,rn),zi=$()(`${Bt}-item`,(re=Ge==null?void 0:Ge.item)!==null&&re!==void 0?re:(we=E==null?void 0:E.classNames)===null||we===void 0?void 0:we.item);let Mi=0;const as=ln.map((is,mr)=>{var bi,qn;is!=null&&(Mi=mr);const Fi=(is==null?void 0:is.key)||`${zi}-${mr}`;return u.createElement(st,{className:zi,key:Fi,index:mr,split:vi,style:(bi=ot==null?void 0:ot.item)!==null&&bi!==void 0?bi:(qn=E==null?void 0:E.styles)===null||qn===void 0?void 0:qn.item},is)}),dn=u.useMemo(()=>({latestIndex:Mi}),[Mi]);if(ln.length===0)return null;const Rr={};return ut&&(Rr.flexWrap="wrap"),!_n&&Kn&&(Rr.columnGap=kt),!Yn&&Lt&&(Rr.rowGap=qt),Nn(u.createElement("div",Object.assign({ref:Ce,className:cn,style:Object.assign(Object.assign(Object.assign({},Rr),E==null?void 0:E.style),Rt)},mt),u.createElement(he,{value:dn},as)))});ne.Compact=X.ZP;var Be=ne},46662:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return X}});var u=I(9199),q=I(76950),de=j=>{const{componentCls:he}=j;return{[he]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const Qe=j=>{const{componentCls:he,antCls:ft}=j;return{[he]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${he}-item:empty`]:{display:"none"},[`${he}-item > ${ft}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},fe=j=>{const{componentCls:he}=j;return{[he]:{"&-gap-row-small":{rowGap:j.spaceGapSmallSize},"&-gap-row-middle":{rowGap:j.spaceGapMiddleSize},"&-gap-row-large":{rowGap:j.spaceGapLargeSize},"&-gap-col-small":{columnGap:j.spaceGapSmallSize},"&-gap-col-middle":{columnGap:j.spaceGapMiddleSize},"&-gap-col-large":{columnGap:j.spaceGapLargeSize}}}},ee=()=>({});var X=(0,u.I$)("Space",j=>{const he=(0,q.IX)(j,{spaceGapSmallSize:j.paddingXS,spaceGapMiddleSize:j.padding,spaceGapLargeSize:j.paddingLG});return[Qe(he),fe(he),de(he)]},()=>({}),{resetStyle:!1})},24553:function(Ci,At,I){"use strict";I.d(At,{c:function(){return $}});function u(de,Qe,fe){const{focusElCls:ee,focus:X,borderElCls:j}=fe,he=j?"> *":"",ft=["hover",X?"focus":null,"active"].filter(Boolean).map(st=>`&:${st} ${he}`).join(",");return{[`&-item:not(${Qe}-last-item)`]:{marginInlineEnd:de.calc(de.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[ft]:{zIndex:2}},ee?{[`&${ee}`]:{zIndex:2}}:{}),{[`&[disabled] ${he}`]:{zIndex:0}})}}function q(de,Qe,fe){const{borderElCls:ee}=fe,X=ee?`> ${ee}`:"";return{[`&-item:not(${Qe}-first-item):not(${Qe}-last-item) ${X}`]:{borderRadius:0},[`&-item:not(${Qe}-last-item)${Qe}-first-item`]:{[`& ${X}, &${de}-sm ${X}, &${de}-lg ${X}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${Qe}-first-item)${Qe}-last-item`]:{[`& ${X}, &${de}-sm ${X}, &${de}-lg ${X}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function $(de){let Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:fe}=de,ee=`${fe}-compact`;return{[ee]:Object.assign(Object.assign({},u(de,ee,Qe)),q(fe,ee,Qe))}}},10500:function(Ci,At,I){"use strict";I.d(At,{Lx:function(){return fe},Qy:function(){return j},Ro:function(){return de},Wf:function(){return $},dF:function(){return Qe},du:function(){return ee},vS:function(){return q}});var u=I(40322);const q={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},$=function(he){let ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:he.colorText,fontSize:he.fontSize,lineHeight:he.lineHeight,listStyle:"none",fontFamily:ft?"inherit":he.fontFamily}},de=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Qe=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),fe=he=>({a:{color:he.colorLink,textDecoration:he.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${he.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:he.colorLinkHover},"&:active":{color:he.colorLinkActive},"&:active, &:hover":{textDecoration:he.linkHoverDecoration,outline:0},"&:focus":{textDecoration:he.linkFocusDecoration,outline:0},"&[disabled]":{color:he.colorTextDisabled,cursor:"not-allowed"}}}),ee=(he,ft,st,oe)=>{const ct=`[class^="${ft}"], [class*=" ${ft}"]`,xe=st?`.${st}`:ct,ne={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let Be={};return oe!==!1&&(Be={fontFamily:he.fontFamily,fontSize:he.fontSize}),{[xe]:Object.assign(Object.assign(Object.assign({},Be),ne),{[ct]:ne})}},X=he=>({outline:`${(0,u.bf)(he.lineWidthFocus)} solid ${he.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),j=he=>({"&:focus-visible":Object.assign({},X(he))})},81187:function(Ci,At,I){"use strict";I.d(At,{R:function(){return $}});const u=de=>({animationDuration:de,animationFillMode:"both"}),q=de=>({animationDuration:de,animationFillMode:"both"}),$=function(de,Qe,fe,ee){const j=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${j}${de}-enter,
      ${j}${de}-appear
    `]:Object.assign(Object.assign({},u(ee)),{animationPlayState:"paused"}),[`${j}${de}-leave`]:Object.assign(Object.assign({},q(ee)),{animationPlayState:"paused"}),[`
      ${j}${de}-enter${de}-enter-active,
      ${j}${de}-appear${de}-appear-active
    `]:{animationName:Qe,animationPlayState:"running"},[`${j}${de}-leave${de}-leave-active`]:{animationName:fe,animationPlayState:"running",pointerEvents:"none"}}}},67329:function(Ci,At,I){"use strict";I.d(At,{_y:function(){return ne}});var u=I(40322),q=I(81187);const $=new u.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),de=new u.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Qe=new u.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),fe=new u.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),ee=new u.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),X=new u.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),j=new u.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),he=new u.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),ft=new u.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),st=new u.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),oe=new u.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),ct=new u.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),xe={zoom:{inKeyframes:$,outKeyframes:de},"zoom-big":{inKeyframes:Qe,outKeyframes:fe},"zoom-big-fast":{inKeyframes:Qe,outKeyframes:fe},"zoom-left":{inKeyframes:j,outKeyframes:he},"zoom-right":{inKeyframes:ft,outKeyframes:st},"zoom-up":{inKeyframes:ee,outKeyframes:X},"zoom-down":{inKeyframes:oe,outKeyframes:ct}},ne=(Be,Oe)=>{const{antCls:Ce}=Be,at=`${Ce}-${Oe}`,{inKeyframes:re,outKeyframes:we}=xe[Oe];return[(0,q.R)(at,re,we,Oe==="zoom-big-fast"?Be.motionDurationFast:Be.motionDurationMid),{[`
        ${at}-enter,
        ${at}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:Be.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${at}-leave`]:{animationTimingFunction:Be.motionEaseInOutCirc}}]}},23689:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return vi}});var u=I(75271),q=I(32092),$=I(82187),de=I.n($),Qe=I(89856),fe=I(30985),ee=I(97171),X=I(58424),j=I(6522),he=I(1260),ft=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],st=u.forwardRef(function(Rt,ut){var Ge,ot=Rt.prefixCls,mt=ot===void 0?"rc-switch":ot,kt=Rt.className,qt=Rt.checked,Yn=Rt.defaultChecked,_n=Rt.disabled,Lt=Rt.loadingIcon,Kn=Rt.checkedChildren,ln=Rt.unCheckedChildren,Gt=Rt.onClick,Bt=Rt.onChange,Nn=Rt.onKeyDown,Pt=(0,X.Z)(Rt,ft),rn=(0,j.Z)(!1,{value:qt,defaultValue:Yn}),cn=(0,ee.Z)(rn,2),zi=cn[0],Mi=cn[1];function as(mr,bi){var qn=zi;return _n||(qn=mr,Mi(qn),Bt==null||Bt(qn,bi)),qn}function dn(mr){mr.which===he.Z.LEFT?as(!1,mr):mr.which===he.Z.RIGHT&&as(!0,mr),Nn==null||Nn(mr)}function Rr(mr){var bi=as(!zi,mr);Gt==null||Gt(bi,mr)}var is=de()(mt,kt,(Ge={},(0,fe.Z)(Ge,"".concat(mt,"-checked"),zi),(0,fe.Z)(Ge,"".concat(mt,"-disabled"),_n),Ge));return u.createElement("button",(0,Qe.Z)({},Pt,{type:"button",role:"switch","aria-checked":zi,disabled:_n,className:is,ref:ut,onKeyDown:dn,onClick:Rr}),Lt,u.createElement("span",{className:"".concat(mt,"-inner")},u.createElement("span",{className:"".concat(mt,"-inner-checked")},Kn),u.createElement("span",{className:"".concat(mt,"-inner-unchecked")},ln)))});st.displayName="Switch";var oe=st,ct=I(2007),xe=I(1800),ne=I(82961),Be=I(57892),Oe=I(40322),Ce=I(99978),at=I(10500),re=I(9199),we=I(76950);const Ue=Rt=>{const{componentCls:ut,trackHeightSM:Ge,trackPadding:ot,trackMinWidthSM:mt,innerMinMarginSM:kt,innerMaxMarginSM:qt,handleSizeSM:Yn,calc:_n}=Rt,Lt=`${ut}-inner`,Kn=(0,Oe.bf)(_n(Yn).add(_n(ot).mul(2)).equal()),ln=(0,Oe.bf)(_n(qt).mul(2).equal());return{[ut]:{[`&${ut}-small`]:{minWidth:mt,height:Ge,lineHeight:(0,Oe.bf)(Ge),[`${ut}-inner`]:{paddingInlineStart:qt,paddingInlineEnd:kt,[`${Lt}-checked, ${Lt}-unchecked`]:{minHeight:Ge},[`${Lt}-checked`]:{marginInlineStart:`calc(-100% + ${Kn} - ${ln})`,marginInlineEnd:`calc(100% - ${Kn} + ${ln})`},[`${Lt}-unchecked`]:{marginTop:_n(Ge).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${ut}-handle`]:{width:Yn,height:Yn},[`${ut}-loading-icon`]:{top:_n(_n(Yn).sub(Rt.switchLoadingIconSize)).div(2).equal(),fontSize:Rt.switchLoadingIconSize},[`&${ut}-checked`]:{[`${ut}-inner`]:{paddingInlineStart:kt,paddingInlineEnd:qt,[`${Lt}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${Lt}-unchecked`]:{marginInlineStart:`calc(100% - ${Kn} + ${ln})`,marginInlineEnd:`calc(-100% + ${Kn} - ${ln})`}},[`${ut}-handle`]:{insetInlineStart:`calc(100% - ${(0,Oe.bf)(_n(Yn).add(ot).equal())})`}},[`&:not(${ut}-disabled):active`]:{[`&:not(${ut}-checked) ${Lt}`]:{[`${Lt}-unchecked`]:{marginInlineStart:_n(Rt.marginXXS).div(2).equal(),marginInlineEnd:_n(Rt.marginXXS).mul(-1).div(2).equal()}},[`&${ut}-checked ${Lt}`]:{[`${Lt}-checked`]:{marginInlineStart:_n(Rt.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:_n(Rt.marginXXS).div(2).equal()}}}}}}},E=Rt=>{const{componentCls:ut,handleSize:Ge,calc:ot}=Rt;return{[ut]:{[`${ut}-loading-icon${Rt.iconCls}`]:{position:"relative",top:ot(ot(Ge).sub(Rt.fontSize)).div(2).equal(),color:Rt.switchLoadingIconColor,verticalAlign:"top"},[`&${ut}-checked ${ut}-loading-icon`]:{color:Rt.switchColor}}}},tt=Rt=>{const{componentCls:ut,trackPadding:Ge,handleBg:ot,handleShadow:mt,handleSize:kt,calc:qt}=Rt,Yn=`${ut}-handle`;return{[ut]:{[Yn]:{position:"absolute",top:Ge,insetInlineStart:Ge,width:kt,height:kt,transition:`all ${Rt.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:ot,borderRadius:qt(kt).div(2).equal(),boxShadow:mt,transition:`all ${Rt.switchDuration} ease-in-out`,content:'""'}},[`&${ut}-checked ${Yn}`]:{insetInlineStart:`calc(100% - ${(0,Oe.bf)(qt(kt).add(Ge).equal())})`},[`&:not(${ut}-disabled):active`]:{[`${Yn}::before`]:{insetInlineEnd:Rt.switchHandleActiveInset,insetInlineStart:0},[`&${ut}-checked ${Yn}::before`]:{insetInlineEnd:0,insetInlineStart:Rt.switchHandleActiveInset}}}}},Ie=Rt=>{const{componentCls:ut,trackHeight:Ge,trackPadding:ot,innerMinMargin:mt,innerMaxMargin:kt,handleSize:qt,calc:Yn}=Rt,_n=`${ut}-inner`,Lt=(0,Oe.bf)(Yn(qt).add(Yn(ot).mul(2)).equal()),Kn=(0,Oe.bf)(Yn(kt).mul(2).equal());return{[ut]:{[_n]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:kt,paddingInlineEnd:mt,transition:`padding-inline-start ${Rt.switchDuration} ease-in-out, padding-inline-end ${Rt.switchDuration} ease-in-out`,[`${_n}-checked, ${_n}-unchecked`]:{display:"block",color:Rt.colorTextLightSolid,fontSize:Rt.fontSizeSM,transition:`margin-inline-start ${Rt.switchDuration} ease-in-out, margin-inline-end ${Rt.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:Ge},[`${_n}-checked`]:{marginInlineStart:`calc(-100% + ${Lt} - ${Kn})`,marginInlineEnd:`calc(100% - ${Lt} + ${Kn})`},[`${_n}-unchecked`]:{marginTop:Yn(Ge).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${ut}-checked ${_n}`]:{paddingInlineStart:mt,paddingInlineEnd:kt,[`${_n}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${_n}-unchecked`]:{marginInlineStart:`calc(100% - ${Lt} + ${Kn})`,marginInlineEnd:`calc(-100% + ${Lt} - ${Kn})`}},[`&:not(${ut}-disabled):active`]:{[`&:not(${ut}-checked) ${_n}`]:{[`${_n}-unchecked`]:{marginInlineStart:Yn(ot).mul(2).equal(),marginInlineEnd:Yn(ot).mul(-1).mul(2).equal()}},[`&${ut}-checked ${_n}`]:{[`${_n}-checked`]:{marginInlineStart:Yn(ot).mul(-1).mul(2).equal(),marginInlineEnd:Yn(ot).mul(2).equal()}}}}}},Le=Rt=>{const{componentCls:ut,trackHeight:Ge,trackMinWidth:ot}=Rt;return{[ut]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,at.Wf)(Rt)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:ot,height:Ge,lineHeight:(0,Oe.bf)(Ge),verticalAlign:"middle",background:Rt.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${Rt.motionDurationMid}`,userSelect:"none",[`&:hover:not(${ut}-disabled)`]:{background:Rt.colorTextTertiary}}),(0,at.Qy)(Rt)),{[`&${ut}-checked`]:{background:Rt.switchColor,[`&:hover:not(${ut}-disabled)`]:{background:Rt.colorPrimaryHover}},[`&${ut}-loading, &${ut}-disabled`]:{cursor:"not-allowed",opacity:Rt.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${ut}-rtl`]:{direction:"rtl"}})}},bt=Rt=>{const{fontSize:ut,lineHeight:Ge,controlHeight:ot,colorWhite:mt}=Rt,kt=ut*Ge,qt=ot/2,Yn=2,_n=kt-Yn*2,Lt=qt-Yn*2;return{trackHeight:kt,trackHeightSM:qt,trackMinWidth:_n*2+Yn*4,trackMinWidthSM:Lt*2+Yn*2,trackPadding:Yn,handleBg:mt,handleSize:_n,handleSizeSM:Lt,handleShadow:`0 2px 4px 0 ${new Ce.C("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:_n/2,innerMaxMargin:_n+Yn+Yn*2,innerMinMarginSM:Lt/2,innerMaxMarginSM:Lt+Yn+Yn*2}};var en=(0,re.I$)("Switch",Rt=>{const ut=(0,we.IX)(Rt,{switchDuration:Rt.motionDurationMid,switchColor:Rt.colorPrimary,switchDisabledOpacity:Rt.opacityLoading,switchLoadingIconSize:Rt.calc(Rt.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${Rt.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Le(ut),Ie(ut),tt(ut),E(ut),Ue(ut)]},bt),lt=function(Rt,ut){var Ge={};for(var ot in Rt)Object.prototype.hasOwnProperty.call(Rt,ot)&&ut.indexOf(ot)<0&&(Ge[ot]=Rt[ot]);if(Rt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,ot=Object.getOwnPropertySymbols(Rt);mt<ot.length;mt++)ut.indexOf(ot[mt])<0&&Object.prototype.propertyIsEnumerable.call(Rt,ot[mt])&&(Ge[ot[mt]]=Rt[ot[mt]]);return Ge};const Pn=u.forwardRef((Rt,ut)=>{const{prefixCls:Ge,size:ot,disabled:mt,loading:kt,className:qt,rootClassName:Yn,style:_n,checked:Lt,value:Kn,defaultChecked:ln,defaultValue:Gt,onChange:Bt}=Rt,Nn=lt(Rt,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[Pt,rn]=(0,j.Z)(!1,{value:Lt!=null?Lt:Kn,defaultValue:ln!=null?ln:Gt}),{getPrefixCls:cn,direction:zi,switch:Mi}=u.useContext(xe.E_),as=u.useContext(ne.Z),dn=(mt!=null?mt:as)||kt,Rr=cn("switch",Ge),is=u.createElement("div",{className:`${Rr}-handle`},kt&&u.createElement(q.Z,{className:`${Rr}-loading-icon`})),[mr,bi,qn]=en(Rr),Fi=(0,Be.Z)(ot),pn=de()(Mi==null?void 0:Mi.className,{[`${Rr}-small`]:Fi==="small",[`${Rr}-loading`]:kt,[`${Rr}-rtl`]:zi==="rtl"},qt,Yn,bi,qn),it=Object.assign(Object.assign({},Mi==null?void 0:Mi.style),_n),Vs=function(){rn(arguments.length<=0?void 0:arguments[0]),Bt==null||Bt.apply(void 0,arguments)};return mr(u.createElement(ct.Z,{component:"Switch"},u.createElement(oe,Object.assign({},Nn,{checked:Pt,onChange:Vs,prefixCls:Rr,className:pn,style:it,disabled:dn,ref:ut,loadingIcon:is}))))});Pn.__ANT_SWITCH=!0;var vi=Pn},99510:function(Ci,At,I){"use strict";I.d(At,{Mj:function(){return Ue},u_:function(){return we},uH:function(){return re}});var u=I(75271),q=I(40322),$=I(75875),de=I(18619),Qe=I(99978);function fe(E,tt){let{generateColorPalettes:Ie,generateNeutralColorPalettes:Le}=tt;const{colorSuccess:bt,colorWarning:en,colorError:lt,colorInfo:Ht,colorPrimary:Pn,colorBgBase:vi,colorTextBase:Rt}=E,ut=Ie(Pn),Ge=Ie(bt),ot=Ie(en),mt=Ie(lt),kt=Ie(Ht),qt=Le(vi,Rt),Yn=E.colorLink||E.colorInfo,_n=Ie(Yn);return Object.assign(Object.assign({},qt),{colorPrimaryBg:ut[1],colorPrimaryBgHover:ut[2],colorPrimaryBorder:ut[3],colorPrimaryBorderHover:ut[4],colorPrimaryHover:ut[5],colorPrimary:ut[6],colorPrimaryActive:ut[7],colorPrimaryTextHover:ut[8],colorPrimaryText:ut[9],colorPrimaryTextActive:ut[10],colorSuccessBg:Ge[1],colorSuccessBgHover:Ge[2],colorSuccessBorder:Ge[3],colorSuccessBorderHover:Ge[4],colorSuccessHover:Ge[4],colorSuccess:Ge[6],colorSuccessActive:Ge[7],colorSuccessTextHover:Ge[8],colorSuccessText:Ge[9],colorSuccessTextActive:Ge[10],colorErrorBg:mt[1],colorErrorBgHover:mt[2],colorErrorBgActive:mt[3],colorErrorBorder:mt[3],colorErrorBorderHover:mt[4],colorErrorHover:mt[5],colorError:mt[6],colorErrorActive:mt[7],colorErrorTextHover:mt[8],colorErrorText:mt[9],colorErrorTextActive:mt[10],colorWarningBg:ot[1],colorWarningBgHover:ot[2],colorWarningBorder:ot[3],colorWarningBorderHover:ot[4],colorWarningHover:ot[4],colorWarning:ot[6],colorWarningActive:ot[7],colorWarningTextHover:ot[8],colorWarningText:ot[9],colorWarningTextActive:ot[10],colorInfoBg:kt[1],colorInfoBgHover:kt[2],colorInfoBorder:kt[3],colorInfoBorderHover:kt[4],colorInfoHover:kt[4],colorInfo:kt[6],colorInfoActive:kt[7],colorInfoTextHover:kt[8],colorInfoText:kt[9],colorInfoTextActive:kt[10],colorLinkHover:_n[4],colorLink:_n[6],colorLinkActive:_n[7],colorBgMask:new Qe.C("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}var X=E=>{let tt=E,Ie=E,Le=E,bt=E;return E<6&&E>=5?tt=E+1:E<16&&E>=6?tt=E+2:E>=16&&(tt=16),E<7&&E>=5?Ie=4:E<8&&E>=7?Ie=5:E<14&&E>=8?Ie=6:E<16&&E>=14?Ie=7:E>=16&&(Ie=8),E<6&&E>=2?Le=1:E>=6&&(Le=2),E>4&&E<8?bt=4:E>=8&&(bt=6),{borderRadius:E,borderRadiusXS:Le,borderRadiusSM:Ie,borderRadiusLG:tt,borderRadiusOuter:bt}};function j(E){const{motionUnit:tt,motionBase:Ie,borderRadius:Le,lineWidth:bt}=E;return Object.assign({motionDurationFast:`${(Ie+tt).toFixed(1)}s`,motionDurationMid:`${(Ie+tt*2).toFixed(1)}s`,motionDurationSlow:`${(Ie+tt*3).toFixed(1)}s`,lineWidthBold:bt+1},X(Le))}var ft=E=>{const{controlHeight:tt}=E;return{controlHeightSM:tt*.75,controlHeightXS:tt*.5,controlHeightLG:tt*1.25}},st=I(55569),ct=E=>{const tt=(0,st.Z)(E),Ie=tt.map(Rt=>Rt.size),Le=tt.map(Rt=>Rt.lineHeight),bt=Ie[1],en=Ie[0],lt=Ie[2],Ht=Le[1],Pn=Le[0],vi=Le[2];return{fontSizeSM:en,fontSize:bt,fontSizeLG:lt,fontSizeXL:Ie[3],fontSizeHeading1:Ie[6],fontSizeHeading2:Ie[5],fontSizeHeading3:Ie[4],fontSizeHeading4:Ie[3],fontSizeHeading5:Ie[2],lineHeight:Ht,lineHeightLG:vi,lineHeightSM:Pn,fontHeight:Math.round(Ht*bt),fontHeightLG:Math.round(vi*lt),fontHeightSM:Math.round(Pn*en),lineHeightHeading1:Le[6],lineHeightHeading2:Le[5],lineHeightHeading3:Le[4],lineHeightHeading4:Le[3],lineHeightHeading5:Le[2]}};function xe(E){const{sizeUnit:tt,sizeStep:Ie}=E;return{sizeXXL:tt*(Ie+8),sizeXL:tt*(Ie+4),sizeLG:tt*(Ie+2),sizeMD:tt*(Ie+1),sizeMS:tt*Ie,size:tt*Ie,sizeSM:tt*(Ie-1),sizeXS:tt*(Ie-2),sizeXXS:tt*(Ie-3)}}const ne=(E,tt)=>new Qe.C(E).setAlpha(tt).toRgbString(),Be=(E,tt)=>new Qe.C(E).darken(tt).toHexString(),Oe=E=>{const tt=(0,$.R_)(E);return{1:tt[0],2:tt[1],3:tt[2],4:tt[3],5:tt[4],6:tt[5],7:tt[6],8:tt[4],9:tt[5],10:tt[6]}},Ce=(E,tt)=>{const Ie=E||"#fff",Le=tt||"#000";return{colorBgBase:Ie,colorTextBase:Le,colorText:ne(Le,.88),colorTextSecondary:ne(Le,.65),colorTextTertiary:ne(Le,.45),colorTextQuaternary:ne(Le,.25),colorFill:ne(Le,.15),colorFillSecondary:ne(Le,.06),colorFillTertiary:ne(Le,.04),colorFillQuaternary:ne(Le,.02),colorBgLayout:Be(Ie,4),colorBgContainer:Be(Ie,0),colorBgElevated:Be(Ie,0),colorBgSpotlight:ne(Le,.85),colorBgBlur:"transparent",colorBorder:Be(Ie,15),colorBorderSecondary:Be(Ie,6)}};function at(E){$.ez.pink=$.ez.magenta,$.Ti.pink=$.Ti.magenta;const tt=Object.keys(de.M).map(Ie=>{const Le=E[Ie]===$.ez[Ie]?$.Ti[Ie]:(0,$.R_)(E[Ie]);return new Array(10).fill(1).reduce((bt,en,lt)=>(bt[`${Ie}-${lt+1}`]=Le[lt],bt[`${Ie}${lt+1}`]=Le[lt],bt),{})}).reduce((Ie,Le)=>(Ie=Object.assign(Object.assign({},Ie),Le),Ie),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E),tt),fe(E,{generateColorPalettes:Oe,generateNeutralColorPalettes:Ce})),ct(E.fontSize)),xe(E)),ft(E)),j(E))}const re=(0,q.jG)(at),we={token:de.Z,override:{override:de.Z},hashed:!0},Ue=u.createContext(we)},18619:function(Ci,At,I){"use strict";I.d(At,{M:function(){return u}});const u={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},q=Object.assign(Object.assign({},u),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});At.Z=q},55569:function(Ci,At,I){"use strict";I.d(At,{D:function(){return u},Z:function(){return q}});function u($){return($+8)/$}function q($){const de=new Array(10).fill(null).map((Qe,fe)=>{const ee=fe-1,X=$*Math.pow(Math.E,ee/5),j=fe>1?Math.floor(X):Math.ceil(X);return Math.floor(j/2)*2});return de[1]=$,de.map(Qe=>({size:Qe,lineHeight:u(Qe)}))}},91556:function(Ci,At,I){"use strict";I.d(At,{ZP:function(){return Oe},NJ:function(){return ct}});var u=I(75271),q=I(40322),$="5.20.1",de=$,Qe=I(99510),fe=I(18619),ee=I(99978);function X(Ce){return Ce>=0&&Ce<=255}function j(Ce,at){const{r:re,g:we,b:Ue,a:E}=new ee.C(Ce).toRgb();if(E<1)return Ce;const{r:tt,g:Ie,b:Le}=new ee.C(at).toRgb();for(let bt=.01;bt<=1;bt+=.01){const en=Math.round((re-tt*(1-bt))/bt),lt=Math.round((we-Ie*(1-bt))/bt),Ht=Math.round((Ue-Le*(1-bt))/bt);if(X(en)&&X(lt)&&X(Ht))return new ee.C({r:en,g:lt,b:Ht,a:Math.round(bt*100)/100}).toRgbString()}return new ee.C({r:re,g:we,b:Ue,a:1}).toRgbString()}var he=j,ft=function(Ce,at){var re={};for(var we in Ce)Object.prototype.hasOwnProperty.call(Ce,we)&&at.indexOf(we)<0&&(re[we]=Ce[we]);if(Ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ue=0,we=Object.getOwnPropertySymbols(Ce);Ue<we.length;Ue++)at.indexOf(we[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Ce,we[Ue])&&(re[we[Ue]]=Ce[we[Ue]]);return re};function st(Ce){const{override:at}=Ce,re=ft(Ce,["override"]),we=Object.assign({},at);Object.keys(fe.Z).forEach(Ht=>{delete we[Ht]});const Ue=Object.assign(Object.assign({},re),we),E=480,tt=576,Ie=768,Le=992,bt=1200,en=1600;if(Ue.motion===!1){const Ht="0s";Ue.motionDurationFast=Ht,Ue.motionDurationMid=Ht,Ue.motionDurationSlow=Ht}return Object.assign(Object.assign(Object.assign({},Ue),{colorFillContent:Ue.colorFillSecondary,colorFillContentHover:Ue.colorFill,colorFillAlter:Ue.colorFillQuaternary,colorBgContainerDisabled:Ue.colorFillTertiary,colorBorderBg:Ue.colorBgContainer,colorSplit:he(Ue.colorBorderSecondary,Ue.colorBgContainer),colorTextPlaceholder:Ue.colorTextQuaternary,colorTextDisabled:Ue.colorTextQuaternary,colorTextHeading:Ue.colorText,colorTextLabel:Ue.colorTextSecondary,colorTextDescription:Ue.colorTextTertiary,colorTextLightSolid:Ue.colorWhite,colorHighlight:Ue.colorError,colorBgTextHover:Ue.colorFillSecondary,colorBgTextActive:Ue.colorFill,colorIcon:Ue.colorTextTertiary,colorIconHover:Ue.colorText,colorErrorOutline:he(Ue.colorErrorBg,Ue.colorBgContainer),colorWarningOutline:he(Ue.colorWarningBg,Ue.colorBgContainer),fontSizeIcon:Ue.fontSizeSM,lineWidthFocus:Ue.lineWidth*4,lineWidth:Ue.lineWidth,controlOutlineWidth:Ue.lineWidth*2,controlInteractiveSize:Ue.controlHeight/2,controlItemBgHover:Ue.colorFillTertiary,controlItemBgActive:Ue.colorPrimaryBg,controlItemBgActiveHover:Ue.colorPrimaryBgHover,controlItemBgActiveDisabled:Ue.colorFill,controlTmpOutline:Ue.colorFillQuaternary,controlOutline:he(Ue.colorPrimaryBg,Ue.colorBgContainer),lineType:Ue.lineType,borderRadius:Ue.borderRadius,borderRadiusXS:Ue.borderRadiusXS,borderRadiusSM:Ue.borderRadiusSM,borderRadiusLG:Ue.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:Ue.sizeXXS,paddingXS:Ue.sizeXS,paddingSM:Ue.sizeSM,padding:Ue.size,paddingMD:Ue.sizeMD,paddingLG:Ue.sizeLG,paddingXL:Ue.sizeXL,paddingContentHorizontalLG:Ue.sizeLG,paddingContentVerticalLG:Ue.sizeMS,paddingContentHorizontal:Ue.sizeMS,paddingContentVertical:Ue.sizeSM,paddingContentHorizontalSM:Ue.size,paddingContentVerticalSM:Ue.sizeXS,marginXXS:Ue.sizeXXS,marginXS:Ue.sizeXS,marginSM:Ue.sizeSM,margin:Ue.size,marginMD:Ue.sizeMD,marginLG:Ue.sizeLG,marginXL:Ue.sizeXL,marginXXL:Ue.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:E,screenXSMin:E,screenXSMax:tt-1,screenSM:tt,screenSMMin:tt,screenSMMax:Ie-1,screenMD:Ie,screenMDMin:Ie,screenMDMax:Le-1,screenLG:Le,screenLGMin:Le,screenLGMax:bt-1,screenXL:bt,screenXLMin:bt,screenXLMax:en-1,screenXXL:en,screenXXLMin:en,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ee.C("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ee.C("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ee.C("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),we)}var oe=function(Ce,at){var re={};for(var we in Ce)Object.prototype.hasOwnProperty.call(Ce,we)&&at.indexOf(we)<0&&(re[we]=Ce[we]);if(Ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ue=0,we=Object.getOwnPropertySymbols(Ce);Ue<we.length;Ue++)at.indexOf(we[Ue])<0&&Object.prototype.propertyIsEnumerable.call(Ce,we[Ue])&&(re[we[Ue]]=Ce[we[Ue]]);return re};const ct={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},xe={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},ne={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Be=(Ce,at,re)=>{const we=re.getDerivativeToken(Ce),{override:Ue}=at,E=oe(at,["override"]);let tt=Object.assign(Object.assign({},we),{override:Ue});return tt=st(tt),E&&Object.entries(E).forEach(Ie=>{let[Le,bt]=Ie;const{theme:en}=bt,lt=oe(bt,["theme"]);let Ht=lt;en&&(Ht=Be(Object.assign(Object.assign({},tt),lt),{override:lt},en)),tt[Le]=Ht}),tt};function Oe(){const{token:Ce,hashed:at,theme:re,override:we,cssVar:Ue}=u.useContext(Qe.Mj),E=`${de}-${at||""}`,tt=re||Qe.uH,[Ie,Le,bt]=(0,q.fp)(tt,[fe.Z,Ce],{salt:E,override:we,getComputedToken:Be,formatToken:st,cssVar:Ue&&{prefix:Ue.prefix,key:Ue.key,unitless:ct,ignore:xe,preserve:ne}});return[tt,bt,at?Le:"",Ie,Ue]}},9199:function(Ci,At,I){"use strict";I.d(At,{A1:function(){return X},I$:function(){return ee},bk:function(){return j}});var u=I(75271),q=I(76950),$=I(1800),de=I(10500),Qe=I(91556),fe=I(23560);const{genStyleHooks:ee,genComponentStyleHook:X,genSubStyleComponent:j}=(0,q.rb)({usePrefix:()=>{const{getPrefixCls:he,iconPrefixCls:ft}=(0,u.useContext)($.E_);return{rootPrefixCls:he(),iconPrefixCls:ft}},useToken:()=>{const[he,ft,st,oe,ct]=(0,Qe.ZP)();return{theme:he,realToken:ft,hashId:st,token:oe,cssVar:ct}},useCSP:()=>{const{csp:he,iconPrefixCls:ft}=(0,u.useContext)($.E_);return(0,fe.Z)(ft,he),he!=null?he:{}},getResetStyles:he=>[{"&":(0,de.Lx)(he)}],getCommonStyle:de.du,getCompUnitless:()=>Qe.NJ})},23560:function(Ci,At,I){"use strict";var u=I(40322),q=I(10500),$=I(91556);const de=(Qe,fe)=>{const[ee,X]=(0,$.ZP)();return(0,u.xy)({theme:ee,token:X,hashId:"",path:["ant-design-icons",Qe],nonce:()=>fe==null?void 0:fe.nonce,layer:{name:"antd"}},()=>[{[`.${Qe}`]:Object.assign(Object.assign({},(0,q.Ro)()),{[`.${Qe} .${Qe}-icon`]:{display:"block"}})}])};At.Z=de},2692:function(Ci,At){var I,u;(function(q,$){"use strict";typeof Ci.exports=="object"?Ci.exports=q.document?$(q,!0):function(de){if(!de.document)throw new Error("jQuery requires a window with a document");return $(de)}:$(q)})(typeof window!="undefined"?window:this,function(q,$){"use strict";var de=[],Qe=Object.getPrototypeOf,fe=de.slice,ee=de.flat?function(g){return de.flat.call(g)}:function(g){return de.concat.apply([],g)},X=de.push,j=de.indexOf,he={},ft=he.toString,st=he.hasOwnProperty,oe=st.toString,ct=oe.call(Object),xe={},ne=function(b){return typeof b=="function"&&typeof b.nodeType!="number"&&typeof b.item!="function"},Be=function(b){return b!=null&&b===b.window},Oe=q.document,Ce={type:!0,src:!0,nonce:!0,noModule:!0};function at(g,b,T){T=T||Oe;var D,k,z=T.createElement("script");if(z.text=g,b)for(D in Ce)k=b[D]||b.getAttribute&&b.getAttribute(D),k&&z.setAttribute(D,k);T.head.appendChild(z).parentNode.removeChild(z)}function re(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?he[ft.call(g)]||"object":typeof g}var we="3.7.1",Ue=/HTML$/i,E=function(g,b){return new E.fn.init(g,b)};E.fn=E.prototype={jquery:we,constructor:E,length:0,toArray:function(){return fe.call(this)},get:function(g){return g==null?fe.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var b=E.merge(this.constructor(),g);return b.prevObject=this,b},each:function(g){return E.each(this,g)},map:function(g){return this.pushStack(E.map(this,function(b,T){return g.call(b,T,b)}))},slice:function(){return this.pushStack(fe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(g,b){return(b+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(g,b){return b%2}))},eq:function(g){var b=this.length,T=+g+(g<0?b:0);return this.pushStack(T>=0&&T<b?[this[T]]:[])},end:function(){return this.prevObject||this.constructor()},push:X,sort:de.sort,splice:de.splice},E.extend=E.fn.extend=function(){var g,b,T,D,k,z,J=arguments[0]||{},_e=1,Me=arguments.length,He=!1;for(typeof J=="boolean"&&(He=J,J=arguments[_e]||{},_e++),typeof J!="object"&&!ne(J)&&(J={}),_e===Me&&(J=this,_e--);_e<Me;_e++)if((g=arguments[_e])!=null)for(b in g)D=g[b],!(b==="__proto__"||J===D)&&(He&&D&&(E.isPlainObject(D)||(k=Array.isArray(D)))?(T=J[b],k&&!Array.isArray(T)?z=[]:!k&&!E.isPlainObject(T)?z={}:z=T,k=!1,J[b]=E.extend(He,z,D)):D!==void 0&&(J[b]=D));return J},E.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var b,T;return!g||ft.call(g)!=="[object Object]"?!1:(b=Qe(g),b?(T=st.call(b,"constructor")&&b.constructor,typeof T=="function"&&oe.call(T)===ct):!0)},isEmptyObject:function(g){var b;for(b in g)return!1;return!0},globalEval:function(g,b,T){at(g,{nonce:b&&b.nonce},T)},each:function(g,b){var T,D=0;if(tt(g))for(T=g.length;D<T&&b.call(g[D],D,g[D])!==!1;D++);else for(D in g)if(b.call(g[D],D,g[D])===!1)break;return g},text:function(g){var b,T="",D=0,k=g.nodeType;if(!k)for(;b=g[D++];)T+=E.text(b);return k===1||k===11?g.textContent:k===9?g.documentElement.textContent:k===3||k===4?g.nodeValue:T},makeArray:function(g,b){var T=b||[];return g!=null&&(tt(Object(g))?E.merge(T,typeof g=="string"?[g]:g):X.call(T,g)),T},inArray:function(g,b,T){return b==null?-1:j.call(b,g,T)},isXMLDoc:function(g){var b=g&&g.namespaceURI,T=g&&(g.ownerDocument||g).documentElement;return!Ue.test(b||T&&T.nodeName||"HTML")},merge:function(g,b){for(var T=+b.length,D=0,k=g.length;D<T;D++)g[k++]=b[D];return g.length=k,g},grep:function(g,b,T){for(var D,k=[],z=0,J=g.length,_e=!T;z<J;z++)D=!b(g[z],z),D!==_e&&k.push(g[z]);return k},map:function(g,b,T){var D,k,z=0,J=[];if(tt(g))for(D=g.length;z<D;z++)k=b(g[z],z,T),k!=null&&J.push(k);else for(z in g)k=b(g[z],z,T),k!=null&&J.push(k);return ee(J)},guid:1,support:xe}),typeof Symbol=="function"&&(E.fn[Symbol.iterator]=de[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,b){he["[object "+b+"]"]=b.toLowerCase()});function tt(g){var b=!!g&&"length"in g&&g.length,T=re(g);return ne(g)||Be(g)?!1:T==="array"||b===0||typeof b=="number"&&b>0&&b-1 in g}function Ie(g,b){return g.nodeName&&g.nodeName.toLowerCase()===b.toLowerCase()}var Le=de.pop,bt=de.sort,en=de.splice,lt="[\\x20\\t\\r\\n\\f]",Ht=new RegExp("^"+lt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lt+"+$","g");E.contains=function(g,b){var T=b&&b.parentNode;return g===T||!!(T&&T.nodeType===1&&(g.contains?g.contains(T):g.compareDocumentPosition&&g.compareDocumentPosition(T)&16))};var Pn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function vi(g,b){return b?g==="\0"?"\uFFFD":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g}E.escapeSelector=function(g){return(g+"").replace(Pn,vi)};var Rt=Oe,ut=X;(function(){var g,b,T,D,k,z=ut,J,_e,Me,He,Dt,tn=E.expando,Et=0,yn=0,ni=ho(),ji=ho(),rr=ho(),Cs=ho(),_s=function(ge,Xe){return ge===Xe&&(k=!0),0},go="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Da="(?:\\\\[\\da-fA-F]{1,6}"+lt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yr="\\["+lt+"*("+Da+")(?:"+lt+"*([*^$|!~]?=)"+lt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Da+"))|)"+lt+"*\\]",ra=":("+Da+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yr+")*)|.*)\\)|)",Lo=new RegExp(lt+"+","g"),Y=new RegExp("^"+lt+"*,"+lt+"*"),Pe=new RegExp("^"+lt+"*([>+~]|"+lt+")"+lt+"*"),Tt=new RegExp(lt+"|>"),Mt=new RegExp(ra),Kt=new RegExp("^"+Da+"$"),nn={ID:new RegExp("^#("+Da+")"),CLASS:new RegExp("^\\.("+Da+")"),TAG:new RegExp("^("+Da+"|[*])"),ATTR:new RegExp("^"+Yr),PSEUDO:new RegExp("^"+ra),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lt+"*(even|odd|(([+-]|)(\\d*)n|)"+lt+"*(?:([+-]|)"+lt+"*(\\d+)|))"+lt+"*\\)|)","i"),bool:new RegExp("^(?:"+go+")$","i"),needsContext:new RegExp("^"+lt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lt+"*((?:-\\d)?\\d*)"+lt+"*\\)|)(?=[^-]|$)","i")},si=/^(?:input|select|textarea|button)$/i,Qn=/^h\d$/i,hn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Vi=/[+~]/,oi=new RegExp("\\\\[\\da-fA-F]{1,6}"+lt+"?|\\\\([^\\r\\n\\f])","g"),Gi=function(ge,Xe){var yt="0x"+ge.slice(1)-65536;return Xe||(yt<0?String.fromCharCode(yt+65536):String.fromCharCode(yt>>10|55296,yt&1023|56320))},Ki=function(){Ve()},sr=ai(function(ge){return ge.disabled===!0&&Ie(ge,"fieldset")},{dir:"parentNode",next:"legend"});function Is(){try{return J.activeElement}catch(ge){}}try{z.apply(de=fe.call(Rt.childNodes),Rt.childNodes),de[Rt.childNodes.length].nodeType}catch(ge){z={apply:function(Xe,yt){ut.apply(Xe,fe.call(yt))},call:function(Xe){ut.apply(Xe,fe.call(arguments,1))}}}function mi(ge,Xe,yt,_t){var $t,In,Wn,Xn,kn,Zi,Nr,Ar=Xe&&Xe.ownerDocument,mo=Xe?Xe.nodeType:9;if(yt=yt||[],typeof ge!="string"||!ge||mo!==1&&mo!==9&&mo!==11)return yt;if(!_t&&(Ve(Xe),Xe=Xe||J,Me)){if(mo!==11&&(kn=hn.exec(ge)))if($t=kn[1]){if(mo===9)if(Wn=Xe.getElementById($t)){if(Wn.id===$t)return z.call(yt,Wn),yt}else return yt;else if(Ar&&(Wn=Ar.getElementById($t))&&mi.contains(Xe,Wn)&&Wn.id===$t)return z.call(yt,Wn),yt}else{if(kn[2])return z.apply(yt,Xe.getElementsByTagName(ge)),yt;if(($t=kn[3])&&Xe.getElementsByClassName)return z.apply(yt,Xe.getElementsByClassName($t)),yt}if(!Cs[ge+" "]&&(!He||!He.test(ge))){if(Nr=ge,Ar=Xe,mo===1&&(Tt.test(ge)||Pe.test(ge))){for(Ar=Vi.test(ge)&&qe(Xe.parentNode)||Xe,(Ar!=Xe||!xe.scope)&&((Xn=Xe.getAttribute("id"))?Xn=E.escapeSelector(Xn):Xe.setAttribute("id",Xn=tn)),Zi=Nt(ge),In=Zi.length;In--;)Zi[In]=(Xn?"#"+Xn:":scope")+" "+Fn(Zi[In]);Nr=Zi.join(",")}try{return z.apply(yt,Ar.querySelectorAll(Nr)),yt}catch(Ri){Cs(ge,!0)}finally{Xn===tn&&Xe.removeAttribute("id")}}}return Wi(ge.replace(Ht,"$1"),Xe,yt,_t)}function ho(){var ge=[];function Xe(yt,_t){return ge.push(yt+" ")>b.cacheLength&&delete Xe[ge.shift()],Xe[yt+" "]=_t}return Xe}function jr(ge){return ge[tn]=!0,ge}function yr(ge){var Xe=J.createElement("fieldset");try{return!!ge(Xe)}catch(yt){return!1}finally{Xe.parentNode&&Xe.parentNode.removeChild(Xe),Xe=null}}function So(ge){return function(Xe){return Ie(Xe,"input")&&Xe.type===ge}}function Vo(ge){return function(Xe){return(Ie(Xe,"input")||Ie(Xe,"button"))&&Xe.type===ge}}function _a(ge){return function(Xe){return"form"in Xe?Xe.parentNode&&Xe.disabled===!1?"label"in Xe?"label"in Xe.parentNode?Xe.parentNode.disabled===ge:Xe.disabled===ge:Xe.isDisabled===ge||Xe.isDisabled!==!ge&&sr(Xe)===ge:Xe.disabled===ge:"label"in Xe?Xe.disabled===ge:!1}}function ye(ge){return jr(function(Xe){return Xe=+Xe,jr(function(yt,_t){for(var $t,In=ge([],yt.length,Xe),Wn=In.length;Wn--;)yt[$t=In[Wn]]&&(yt[$t]=!(_t[$t]=yt[$t]))})})}function qe(ge){return ge&&typeof ge.getElementsByTagName!="undefined"&&ge}function Ve(ge){var Xe,yt=ge?ge.ownerDocument||ge:Rt;return yt==J||yt.nodeType!==9||!yt.documentElement||(J=yt,_e=J.documentElement,Me=!E.isXMLDoc(J),Dt=_e.matches||_e.webkitMatchesSelector||_e.msMatchesSelector,_e.msMatchesSelector&&Rt!=J&&(Xe=J.defaultView)&&Xe.top!==Xe&&Xe.addEventListener("unload",Ki),xe.getById=yr(function(_t){return _e.appendChild(_t).id=E.expando,!J.getElementsByName||!J.getElementsByName(E.expando).length}),xe.disconnectedMatch=yr(function(_t){return Dt.call(_t,"*")}),xe.scope=yr(function(){return J.querySelectorAll(":scope")}),xe.cssHas=yr(function(){try{return J.querySelector(":has(*,:jqfake)"),!1}catch(_t){return!0}}),xe.getById?(b.filter.ID=function(_t){var $t=_t.replace(oi,Gi);return function(In){return In.getAttribute("id")===$t}},b.find.ID=function(_t,$t){if(typeof $t.getElementById!="undefined"&&Me){var In=$t.getElementById(_t);return In?[In]:[]}}):(b.filter.ID=function(_t){var $t=_t.replace(oi,Gi);return function(In){var Wn=typeof In.getAttributeNode!="undefined"&&In.getAttributeNode("id");return Wn&&Wn.value===$t}},b.find.ID=function(_t,$t){if(typeof $t.getElementById!="undefined"&&Me){var In,Wn,Xn,kn=$t.getElementById(_t);if(kn){if(In=kn.getAttributeNode("id"),In&&In.value===_t)return[kn];for(Xn=$t.getElementsByName(_t),Wn=0;kn=Xn[Wn++];)if(In=kn.getAttributeNode("id"),In&&In.value===_t)return[kn]}return[]}}),b.find.TAG=function(_t,$t){return typeof $t.getElementsByTagName!="undefined"?$t.getElementsByTagName(_t):$t.querySelectorAll(_t)},b.find.CLASS=function(_t,$t){if(typeof $t.getElementsByClassName!="undefined"&&Me)return $t.getElementsByClassName(_t)},He=[],yr(function(_t){var $t;_e.appendChild(_t).innerHTML="<a id='"+tn+"' href='' disabled='disabled'></a><select id='"+tn+"-\r\\' disabled='disabled'><option selected=''></option></select>",_t.querySelectorAll("[selected]").length||He.push("\\["+lt+"*(?:value|"+go+")"),_t.querySelectorAll("[id~="+tn+"-]").length||He.push("~="),_t.querySelectorAll("a#"+tn+"+*").length||He.push(".#.+[+~]"),_t.querySelectorAll(":checked").length||He.push(":checked"),$t=J.createElement("input"),$t.setAttribute("type","hidden"),_t.appendChild($t).setAttribute("name","D"),_e.appendChild(_t).disabled=!0,_t.querySelectorAll(":disabled").length!==2&&He.push(":enabled",":disabled"),$t=J.createElement("input"),$t.setAttribute("name",""),_t.appendChild($t),_t.querySelectorAll("[name='']").length||He.push("\\["+lt+"*name"+lt+"*="+lt+`*(?:''|"")`)}),xe.cssHas||He.push(":has"),He=He.length&&new RegExp(He.join("|")),_s=function(_t,$t){if(_t===$t)return k=!0,0;var In=!_t.compareDocumentPosition-!$t.compareDocumentPosition;return In||(In=(_t.ownerDocument||_t)==($t.ownerDocument||$t)?_t.compareDocumentPosition($t):1,In&1||!xe.sortDetached&&$t.compareDocumentPosition(_t)===In?_t===J||_t.ownerDocument==Rt&&mi.contains(Rt,_t)?-1:$t===J||$t.ownerDocument==Rt&&mi.contains(Rt,$t)?1:D?j.call(D,_t)-j.call(D,$t):0:In&4?-1:1)}),J}mi.matches=function(ge,Xe){return mi(ge,null,null,Xe)},mi.matchesSelector=function(ge,Xe){if(Ve(ge),Me&&!Cs[Xe+" "]&&(!He||!He.test(Xe)))try{var yt=Dt.call(ge,Xe);if(yt||xe.disconnectedMatch||ge.document&&ge.document.nodeType!==11)return yt}catch(_t){Cs(Xe,!0)}return mi(Xe,J,null,[ge]).length>0},mi.contains=function(ge,Xe){return(ge.ownerDocument||ge)!=J&&Ve(ge),E.contains(ge,Xe)},mi.attr=function(ge,Xe){(ge.ownerDocument||ge)!=J&&Ve(ge);var yt=b.attrHandle[Xe.toLowerCase()],_t=yt&&st.call(b.attrHandle,Xe.toLowerCase())?yt(ge,Xe,!Me):void 0;return _t!==void 0?_t:ge.getAttribute(Xe)},mi.error=function(ge){throw new Error("Syntax error, unrecognized expression: "+ge)},E.uniqueSort=function(ge){var Xe,yt=[],_t=0,$t=0;if(k=!xe.sortStable,D=!xe.sortStable&&fe.call(ge,0),bt.call(ge,_s),k){for(;Xe=ge[$t++];)Xe===ge[$t]&&(_t=yt.push($t));for(;_t--;)en.call(ge,yt[_t],1)}return D=null,ge},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(fe.apply(this)))},b=E.expr={cacheLength:50,createPseudo:jr,match:nn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ge){return ge[1]=ge[1].replace(oi,Gi),ge[3]=(ge[3]||ge[4]||ge[5]||"").replace(oi,Gi),ge[2]==="~="&&(ge[3]=" "+ge[3]+" "),ge.slice(0,4)},CHILD:function(ge){return ge[1]=ge[1].toLowerCase(),ge[1].slice(0,3)==="nth"?(ge[3]||mi.error(ge[0]),ge[4]=+(ge[4]?ge[5]+(ge[6]||1):2*(ge[3]==="even"||ge[3]==="odd")),ge[5]=+(ge[7]+ge[8]||ge[3]==="odd")):ge[3]&&mi.error(ge[0]),ge},PSEUDO:function(ge){var Xe,yt=!ge[6]&&ge[2];return nn.CHILD.test(ge[0])?null:(ge[3]?ge[2]=ge[4]||ge[5]||"":yt&&Mt.test(yt)&&(Xe=Nt(yt,!0))&&(Xe=yt.indexOf(")",yt.length-Xe)-yt.length)&&(ge[0]=ge[0].slice(0,Xe),ge[2]=yt.slice(0,Xe)),ge.slice(0,3))}},filter:{TAG:function(ge){var Xe=ge.replace(oi,Gi).toLowerCase();return ge==="*"?function(){return!0}:function(yt){return Ie(yt,Xe)}},CLASS:function(ge){var Xe=ni[ge+" "];return Xe||(Xe=new RegExp("(^|"+lt+")"+ge+"("+lt+"|$)"))&&ni(ge,function(yt){return Xe.test(typeof yt.className=="string"&&yt.className||typeof yt.getAttribute!="undefined"&&yt.getAttribute("class")||"")})},ATTR:function(ge,Xe,yt){return function(_t){var $t=mi.attr(_t,ge);return $t==null?Xe==="!=":Xe?($t+="",Xe==="="?$t===yt:Xe==="!="?$t!==yt:Xe==="^="?yt&&$t.indexOf(yt)===0:Xe==="*="?yt&&$t.indexOf(yt)>-1:Xe==="$="?yt&&$t.slice(-yt.length)===yt:Xe==="~="?(" "+$t.replace(Lo," ")+" ").indexOf(yt)>-1:Xe==="|="?$t===yt||$t.slice(0,yt.length+1)===yt+"-":!1):!0}},CHILD:function(ge,Xe,yt,_t,$t){var In=ge.slice(0,3)!=="nth",Wn=ge.slice(-4)!=="last",Xn=Xe==="of-type";return _t===1&&$t===0?function(kn){return!!kn.parentNode}:function(kn,Zi,Nr){var Ar,mo,Ri,Qr,Ko,da=In!==Wn?"nextSibling":"previousSibling",Fa=kn.parentNode,fl=Xn&&kn.nodeName.toLowerCase(),Qa=!Nr&&!Xn,sa=!1;if(Fa){if(In){for(;da;){for(Ri=kn;Ri=Ri[da];)if(Xn?Ie(Ri,fl):Ri.nodeType===1)return!1;Ko=da=ge==="only"&&!Ko&&"nextSibling"}return!0}if(Ko=[Wn?Fa.firstChild:Fa.lastChild],Wn&&Qa){for(mo=Fa[tn]||(Fa[tn]={}),Ar=mo[ge]||[],Qr=Ar[0]===Et&&Ar[1],sa=Qr&&Ar[2],Ri=Qr&&Fa.childNodes[Qr];Ri=++Qr&&Ri&&Ri[da]||(sa=Qr=0)||Ko.pop();)if(Ri.nodeType===1&&++sa&&Ri===kn){mo[ge]=[Et,Qr,sa];break}}else if(Qa&&(mo=kn[tn]||(kn[tn]={}),Ar=mo[ge]||[],Qr=Ar[0]===Et&&Ar[1],sa=Qr),sa===!1)for(;(Ri=++Qr&&Ri&&Ri[da]||(sa=Qr=0)||Ko.pop())&&!((Xn?Ie(Ri,fl):Ri.nodeType===1)&&++sa&&(Qa&&(mo=Ri[tn]||(Ri[tn]={}),mo[ge]=[Et,sa]),Ri===kn)););return sa-=$t,sa===_t||sa%_t===0&&sa/_t>=0}}},PSEUDO:function(ge,Xe){var yt,_t=b.pseudos[ge]||b.setFilters[ge.toLowerCase()]||mi.error("unsupported pseudo: "+ge);return _t[tn]?_t(Xe):_t.length>1?(yt=[ge,ge,"",Xe],b.setFilters.hasOwnProperty(ge.toLowerCase())?jr(function($t,In){for(var Wn,Xn=_t($t,Xe),kn=Xn.length;kn--;)Wn=j.call($t,Xn[kn]),$t[Wn]=!(In[Wn]=Xn[kn])}):function($t){return _t($t,0,yt)}):_t}},pseudos:{not:jr(function(ge){var Xe=[],yt=[],_t=Zt(ge.replace(Ht,"$1"));return _t[tn]?jr(function($t,In,Wn,Xn){for(var kn,Zi=_t($t,null,Xn,[]),Nr=$t.length;Nr--;)(kn=Zi[Nr])&&($t[Nr]=!(In[Nr]=kn))}):function($t,In,Wn){return Xe[0]=$t,_t(Xe,null,Wn,yt),Xe[0]=null,!yt.pop()}}),has:jr(function(ge){return function(Xe){return mi(ge,Xe).length>0}}),contains:jr(function(ge){return ge=ge.replace(oi,Gi),function(Xe){return(Xe.textContent||E.text(Xe)).indexOf(ge)>-1}}),lang:jr(function(ge){return Kt.test(ge||"")||mi.error("unsupported lang: "+ge),ge=ge.replace(oi,Gi).toLowerCase(),function(Xe){var yt;do if(yt=Me?Xe.lang:Xe.getAttribute("xml:lang")||Xe.getAttribute("lang"))return yt=yt.toLowerCase(),yt===ge||yt.indexOf(ge+"-")===0;while((Xe=Xe.parentNode)&&Xe.nodeType===1);return!1}}),target:function(ge){var Xe=q.location&&q.location.hash;return Xe&&Xe.slice(1)===ge.id},root:function(ge){return ge===_e},focus:function(ge){return ge===Is()&&J.hasFocus()&&!!(ge.type||ge.href||~ge.tabIndex)},enabled:_a(!1),disabled:_a(!0),checked:function(ge){return Ie(ge,"input")&&!!ge.checked||Ie(ge,"option")&&!!ge.selected},selected:function(ge){return ge.parentNode&&ge.parentNode.selectedIndex,ge.selected===!0},empty:function(ge){for(ge=ge.firstChild;ge;ge=ge.nextSibling)if(ge.nodeType<6)return!1;return!0},parent:function(ge){return!b.pseudos.empty(ge)},header:function(ge){return Qn.test(ge.nodeName)},input:function(ge){return si.test(ge.nodeName)},button:function(ge){return Ie(ge,"input")&&ge.type==="button"||Ie(ge,"button")},text:function(ge){var Xe;return Ie(ge,"input")&&ge.type==="text"&&((Xe=ge.getAttribute("type"))==null||Xe.toLowerCase()==="text")},first:ye(function(){return[0]}),last:ye(function(ge,Xe){return[Xe-1]}),eq:ye(function(ge,Xe,yt){return[yt<0?yt+Xe:yt]}),even:ye(function(ge,Xe){for(var yt=0;yt<Xe;yt+=2)ge.push(yt);return ge}),odd:ye(function(ge,Xe){for(var yt=1;yt<Xe;yt+=2)ge.push(yt);return ge}),lt:ye(function(ge,Xe,yt){var _t;for(yt<0?_t=yt+Xe:yt>Xe?_t=Xe:_t=yt;--_t>=0;)ge.push(_t);return ge}),gt:ye(function(ge,Xe,yt){for(var _t=yt<0?yt+Xe:yt;++_t<Xe;)ge.push(_t);return ge})}},b.pseudos.nth=b.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[g]=So(g);for(g in{submit:!0,reset:!0})b.pseudos[g]=Vo(g);function ht(){}ht.prototype=b.filters=b.pseudos,b.setFilters=new ht;function Nt(ge,Xe){var yt,_t,$t,In,Wn,Xn,kn,Zi=ji[ge+" "];if(Zi)return Xe?0:Zi.slice(0);for(Wn=ge,Xn=[],kn=b.preFilter;Wn;){(!yt||(_t=Y.exec(Wn)))&&(_t&&(Wn=Wn.slice(_t[0].length)||Wn),Xn.push($t=[])),yt=!1,(_t=Pe.exec(Wn))&&(yt=_t.shift(),$t.push({value:yt,type:_t[0].replace(Ht," ")}),Wn=Wn.slice(yt.length));for(In in b.filter)(_t=nn[In].exec(Wn))&&(!kn[In]||(_t=kn[In](_t)))&&(yt=_t.shift(),$t.push({value:yt,type:In,matches:_t}),Wn=Wn.slice(yt.length));if(!yt)break}return Xe?Wn.length:Wn?mi.error(ge):ji(ge,Xn).slice(0)}function Fn(ge){for(var Xe=0,yt=ge.length,_t="";Xe<yt;Xe++)_t+=ge[Xe].value;return _t}function ai(ge,Xe,yt){var _t=Xe.dir,$t=Xe.next,In=$t||_t,Wn=yt&&In==="parentNode",Xn=yn++;return Xe.first?function(kn,Zi,Nr){for(;kn=kn[_t];)if(kn.nodeType===1||Wn)return ge(kn,Zi,Nr);return!1}:function(kn,Zi,Nr){var Ar,mo,Ri=[Et,Xn];if(Nr){for(;kn=kn[_t];)if((kn.nodeType===1||Wn)&&ge(kn,Zi,Nr))return!0}else for(;kn=kn[_t];)if(kn.nodeType===1||Wn)if(mo=kn[tn]||(kn[tn]={}),$t&&Ie(kn,$t))kn=kn[_t]||kn;else{if((Ar=mo[In])&&Ar[0]===Et&&Ar[1]===Xn)return Ri[2]=Ar[2];if(mo[In]=Ri,Ri[2]=ge(kn,Zi,Nr))return!0}return!1}}function xi(ge){return ge.length>1?function(Xe,yt,_t){for(var $t=ge.length;$t--;)if(!ge[$t](Xe,yt,_t))return!1;return!0}:ge[0]}function hi(ge,Xe,yt){for(var _t=0,$t=Xe.length;_t<$t;_t++)mi(ge,Xe[_t],yt);return yt}function Xi(ge,Xe,yt,_t,$t){for(var In,Wn=[],Xn=0,kn=ge.length,Zi=Xe!=null;Xn<kn;Xn++)(In=ge[Xn])&&(!yt||yt(In,_t,$t))&&(Wn.push(In),Zi&&Xe.push(Xn));return Wn}function Pi(ge,Xe,yt,_t,$t,In){return _t&&!_t[tn]&&(_t=Pi(_t)),$t&&!$t[tn]&&($t=Pi($t,In)),jr(function(Wn,Xn,kn,Zi){var Nr,Ar,mo,Ri,Qr=[],Ko=[],da=Xn.length,Fa=Wn||hi(Xe||"*",kn.nodeType?[kn]:kn,[]),fl=ge&&(Wn||!Xe)?Xi(Fa,Qr,ge,kn,Zi):Fa;if(yt?(Ri=$t||(Wn?ge:da||_t)?[]:Xn,yt(fl,Ri,kn,Zi)):Ri=fl,_t)for(Nr=Xi(Ri,Ko),_t(Nr,[],kn,Zi),Ar=Nr.length;Ar--;)(mo=Nr[Ar])&&(Ri[Ko[Ar]]=!(fl[Ko[Ar]]=mo));if(Wn){if($t||ge){if($t){for(Nr=[],Ar=Ri.length;Ar--;)(mo=Ri[Ar])&&Nr.push(fl[Ar]=mo);$t(null,Ri=[],Nr,Zi)}for(Ar=Ri.length;Ar--;)(mo=Ri[Ar])&&(Nr=$t?j.call(Wn,mo):Qr[Ar])>-1&&(Wn[Nr]=!(Xn[Nr]=mo))}}else Ri=Xi(Ri===Xn?Ri.splice(da,Ri.length):Ri),$t?$t(null,Xn,Ri,Zi):z.apply(Xn,Ri)})}function jn(ge){for(var Xe,yt,_t,$t=ge.length,In=b.relative[ge[0].type],Wn=In||b.relative[" "],Xn=In?1:0,kn=ai(function(Ar){return Ar===Xe},Wn,!0),Zi=ai(function(Ar){return j.call(Xe,Ar)>-1},Wn,!0),Nr=[function(Ar,mo,Ri){var Qr=!In&&(Ri||mo!=T)||((Xe=mo).nodeType?kn(Ar,mo,Ri):Zi(Ar,mo,Ri));return Xe=null,Qr}];Xn<$t;Xn++)if(yt=b.relative[ge[Xn].type])Nr=[ai(xi(Nr),yt)];else{if(yt=b.filter[ge[Xn].type].apply(null,ge[Xn].matches),yt[tn]){for(_t=++Xn;_t<$t&&!b.relative[ge[_t].type];_t++);return Pi(Xn>1&&xi(Nr),Xn>1&&Fn(ge.slice(0,Xn-1).concat({value:ge[Xn-2].type===" "?"*":""})).replace(Ht,"$1"),yt,Xn<_t&&jn(ge.slice(Xn,_t)),_t<$t&&jn(ge=ge.slice(_t)),_t<$t&&Fn(ge))}Nr.push(yt)}return xi(Nr)}function Ji(ge,Xe){var yt=Xe.length>0,_t=ge.length>0,$t=function(In,Wn,Xn,kn,Zi){var Nr,Ar,mo,Ri=0,Qr="0",Ko=In&&[],da=[],Fa=T,fl=In||_t&&b.find.TAG("*",Zi),Qa=Et+=Fa==null?1:Math.random()||.1,sa=fl.length;for(Zi&&(T=Wn==J||Wn||Zi);Qr!==sa&&(Nr=fl[Qr])!=null;Qr++){if(_t&&Nr){for(Ar=0,!Wn&&Nr.ownerDocument!=J&&(Ve(Nr),Xn=!Me);mo=ge[Ar++];)if(mo(Nr,Wn||J,Xn)){z.call(kn,Nr);break}Zi&&(Et=Qa)}yt&&((Nr=!mo&&Nr)&&Ri--,In&&Ko.push(Nr))}if(Ri+=Qr,yt&&Qr!==Ri){for(Ar=0;mo=Xe[Ar++];)mo(Ko,da,Wn,Xn);if(In){if(Ri>0)for(;Qr--;)Ko[Qr]||da[Qr]||(da[Qr]=Le.call(kn));da=Xi(da)}z.apply(kn,da),Zi&&!In&&da.length>0&&Ri+Xe.length>1&&E.uniqueSort(kn)}return Zi&&(Et=Qa,T=Fa),Ko};return yt?jr($t):$t}function Zt(ge,Xe){var yt,_t=[],$t=[],In=rr[ge+" "];if(!In){for(Xe||(Xe=Nt(ge)),yt=Xe.length;yt--;)In=jn(Xe[yt]),In[tn]?_t.push(In):$t.push(In);In=rr(ge,Ji($t,_t)),In.selector=ge}return In}function Wi(ge,Xe,yt,_t){var $t,In,Wn,Xn,kn,Zi=typeof ge=="function"&&ge,Nr=!_t&&Nt(ge=Zi.selector||ge);if(yt=yt||[],Nr.length===1){if(In=Nr[0]=Nr[0].slice(0),In.length>2&&(Wn=In[0]).type==="ID"&&Xe.nodeType===9&&Me&&b.relative[In[1].type]){if(Xe=(b.find.ID(Wn.matches[0].replace(oi,Gi),Xe)||[])[0],Xe)Zi&&(Xe=Xe.parentNode);else return yt;ge=ge.slice(In.shift().value.length)}for($t=nn.needsContext.test(ge)?0:In.length;$t--&&(Wn=In[$t],!b.relative[Xn=Wn.type]);)if((kn=b.find[Xn])&&(_t=kn(Wn.matches[0].replace(oi,Gi),Vi.test(In[0].type)&&qe(Xe.parentNode)||Xe))){if(In.splice($t,1),ge=_t.length&&Fn(In),!ge)return z.apply(yt,_t),yt;break}}return(Zi||Zt(ge,Nr))(_t,Xe,!Me,yt,!Xe||Vi.test(ge)&&qe(Xe.parentNode)||Xe),yt}xe.sortStable=tn.split("").sort(_s).join("")===tn,Ve(),xe.sortDetached=yr(function(ge){return ge.compareDocumentPosition(J.createElement("fieldset"))&1}),E.find=mi,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,mi.compile=Zt,mi.select=Wi,mi.setDocument=Ve,mi.tokenize=Nt,mi.escape=E.escapeSelector,mi.getText=E.text,mi.isXML=E.isXMLDoc,mi.selectors=E.expr,mi.support=E.support,mi.uniqueSort=E.uniqueSort})();var Ge=function(g,b,T){for(var D=[],k=T!==void 0;(g=g[b])&&g.nodeType!==9;)if(g.nodeType===1){if(k&&E(g).is(T))break;D.push(g)}return D},ot=function(g,b){for(var T=[];g;g=g.nextSibling)g.nodeType===1&&g!==b&&T.push(g);return T},mt=E.expr.match.needsContext,kt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function qt(g,b,T){return ne(b)?E.grep(g,function(D,k){return!!b.call(D,k,D)!==T}):b.nodeType?E.grep(g,function(D){return D===b!==T}):typeof b!="string"?E.grep(g,function(D){return j.call(b,D)>-1!==T}):E.filter(b,g,T)}E.filter=function(g,b,T){var D=b[0];return T&&(g=":not("+g+")"),b.length===1&&D.nodeType===1?E.find.matchesSelector(D,g)?[D]:[]:E.find.matches(g,E.grep(b,function(k){return k.nodeType===1}))},E.fn.extend({find:function(g){var b,T,D=this.length,k=this;if(typeof g!="string")return this.pushStack(E(g).filter(function(){for(b=0;b<D;b++)if(E.contains(k[b],this))return!0}));for(T=this.pushStack([]),b=0;b<D;b++)E.find(g,k[b],T);return D>1?E.uniqueSort(T):T},filter:function(g){return this.pushStack(qt(this,g||[],!1))},not:function(g){return this.pushStack(qt(this,g||[],!0))},is:function(g){return!!qt(this,typeof g=="string"&&mt.test(g)?E(g):g||[],!1).length}});var Yn,_n=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Lt=E.fn.init=function(g,b,T){var D,k;if(!g)return this;if(T=T||Yn,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?D=[null,g,null]:D=_n.exec(g),D&&(D[1]||!b))if(D[1]){if(b=b instanceof E?b[0]:b,E.merge(this,E.parseHTML(D[1],b&&b.nodeType?b.ownerDocument||b:Oe,!0)),kt.test(D[1])&&E.isPlainObject(b))for(D in b)ne(this[D])?this[D](b[D]):this.attr(D,b[D]);return this}else return k=Oe.getElementById(D[2]),k&&(this[0]=k,this.length=1),this;else return!b||b.jquery?(b||T).find(g):this.constructor(b).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(ne(g))return T.ready!==void 0?T.ready(g):g(E)}return E.makeArray(g,this)};Lt.prototype=E.fn,Yn=E(Oe);var Kn=/^(?:parents|prev(?:Until|All))/,ln={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(g){var b=E(g,this),T=b.length;return this.filter(function(){for(var D=0;D<T;D++)if(E.contains(this,b[D]))return!0})},closest:function(g,b){var T,D=0,k=this.length,z=[],J=typeof g!="string"&&E(g);if(!mt.test(g)){for(;D<k;D++)for(T=this[D];T&&T!==b;T=T.parentNode)if(T.nodeType<11&&(J?J.index(T)>-1:T.nodeType===1&&E.find.matchesSelector(T,g))){z.push(T);break}}return this.pushStack(z.length>1?E.uniqueSort(z):z)},index:function(g){return g?typeof g=="string"?j.call(E(g),this[0]):j.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,b){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(g,b))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function Gt(g,b){for(;(g=g[b])&&g.nodeType!==1;);return g}E.each({parent:function(g){var b=g.parentNode;return b&&b.nodeType!==11?b:null},parents:function(g){return Ge(g,"parentNode")},parentsUntil:function(g,b,T){return Ge(g,"parentNode",T)},next:function(g){return Gt(g,"nextSibling")},prev:function(g){return Gt(g,"previousSibling")},nextAll:function(g){return Ge(g,"nextSibling")},prevAll:function(g){return Ge(g,"previousSibling")},nextUntil:function(g,b,T){return Ge(g,"nextSibling",T)},prevUntil:function(g,b,T){return Ge(g,"previousSibling",T)},siblings:function(g){return ot((g.parentNode||{}).firstChild,g)},children:function(g){return ot(g.firstChild)},contents:function(g){return g.contentDocument!=null&&Qe(g.contentDocument)?g.contentDocument:(Ie(g,"template")&&(g=g.content||g),E.merge([],g.childNodes))}},function(g,b){E.fn[g]=function(T,D){var k=E.map(this,b,T);return g.slice(-5)!=="Until"&&(D=T),D&&typeof D=="string"&&(k=E.filter(D,k)),this.length>1&&(ln[g]||E.uniqueSort(k),Kn.test(g)&&k.reverse()),this.pushStack(k)}});var Bt=/[^\x20\t\r\n\f]+/g;function Nn(g){var b={};return E.each(g.match(Bt)||[],function(T,D){b[D]=!0}),b}E.Callbacks=function(g){g=typeof g=="string"?Nn(g):E.extend({},g);var b,T,D,k,z=[],J=[],_e=-1,Me=function(){for(k=k||g.once,D=b=!0;J.length;_e=-1)for(T=J.shift();++_e<z.length;)z[_e].apply(T[0],T[1])===!1&&g.stopOnFalse&&(_e=z.length,T=!1);g.memory||(T=!1),b=!1,k&&(T?z=[]:z="")},He={add:function(){return z&&(T&&!b&&(_e=z.length-1,J.push(T)),function Dt(tn){E.each(tn,function(Et,yn){ne(yn)?(!g.unique||!He.has(yn))&&z.push(yn):yn&&yn.length&&re(yn)!=="string"&&Dt(yn)})}(arguments),T&&!b&&Me()),this},remove:function(){return E.each(arguments,function(Dt,tn){for(var Et;(Et=E.inArray(tn,z,Et))>-1;)z.splice(Et,1),Et<=_e&&_e--}),this},has:function(Dt){return Dt?E.inArray(Dt,z)>-1:z.length>0},empty:function(){return z&&(z=[]),this},disable:function(){return k=J=[],z=T="",this},disabled:function(){return!z},lock:function(){return k=J=[],!T&&!b&&(z=T=""),this},locked:function(){return!!k},fireWith:function(Dt,tn){return k||(tn=tn||[],tn=[Dt,tn.slice?tn.slice():tn],J.push(tn),b||Me()),this},fire:function(){return He.fireWith(this,arguments),this},fired:function(){return!!D}};return He};function Pt(g){return g}function rn(g){throw g}function cn(g,b,T,D){var k;try{g&&ne(k=g.promise)?k.call(g).done(b).fail(T):g&&ne(k=g.then)?k.call(g,b,T):b.apply(void 0,[g].slice(D))}catch(z){T.apply(void 0,[z])}}E.extend({Deferred:function(g){var b=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],T="pending",D={state:function(){return T},always:function(){return k.done(arguments).fail(arguments),this},catch:function(z){return D.then(null,z)},pipe:function(){var z=arguments;return E.Deferred(function(J){E.each(b,function(_e,Me){var He=ne(z[Me[4]])&&z[Me[4]];k[Me[1]](function(){var Dt=He&&He.apply(this,arguments);Dt&&ne(Dt.promise)?Dt.promise().progress(J.notify).done(J.resolve).fail(J.reject):J[Me[0]+"With"](this,He?[Dt]:arguments)})}),z=null}).promise()},then:function(z,J,_e){var Me=0;function He(Dt,tn,Et,yn){return function(){var ni=this,ji=arguments,rr=function(){var _s,go;if(!(Dt<Me)){if(_s=Et.apply(ni,ji),_s===tn.promise())throw new TypeError("Thenable self-resolution");go=_s&&(typeof _s=="object"||typeof _s=="function")&&_s.then,ne(go)?yn?go.call(_s,He(Me,tn,Pt,yn),He(Me,tn,rn,yn)):(Me++,go.call(_s,He(Me,tn,Pt,yn),He(Me,tn,rn,yn),He(Me,tn,Pt,tn.notifyWith))):(Et!==Pt&&(ni=void 0,ji=[_s]),(yn||tn.resolveWith)(ni,ji))}},Cs=yn?rr:function(){try{rr()}catch(_s){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(_s,Cs.error),Dt+1>=Me&&(Et!==rn&&(ni=void 0,ji=[_s]),tn.rejectWith(ni,ji))}};Dt?Cs():(E.Deferred.getErrorHook?Cs.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(Cs.error=E.Deferred.getStackHook()),q.setTimeout(Cs))}}return E.Deferred(function(Dt){b[0][3].add(He(0,Dt,ne(_e)?_e:Pt,Dt.notifyWith)),b[1][3].add(He(0,Dt,ne(z)?z:Pt)),b[2][3].add(He(0,Dt,ne(J)?J:rn))}).promise()},promise:function(z){return z!=null?E.extend(z,D):D}},k={};return E.each(b,function(z,J){var _e=J[2],Me=J[5];D[J[1]]=_e.add,Me&&_e.add(function(){T=Me},b[3-z][2].disable,b[3-z][3].disable,b[0][2].lock,b[0][3].lock),_e.add(J[3].fire),k[J[0]]=function(){return k[J[0]+"With"](this===k?void 0:this,arguments),this},k[J[0]+"With"]=_e.fireWith}),D.promise(k),g&&g.call(k,k),k},when:function(g){var b=arguments.length,T=b,D=Array(T),k=fe.call(arguments),z=E.Deferred(),J=function(_e){return function(Me){D[_e]=this,k[_e]=arguments.length>1?fe.call(arguments):Me,--b||z.resolveWith(D,k)}};if(b<=1&&(cn(g,z.done(J(T)).resolve,z.reject,!b),z.state()==="pending"||ne(k[T]&&k[T].then)))return z.then();for(;T--;)cn(k[T],J(T),z.reject);return z.promise()}});var zi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(g,b){q.console&&q.console.warn&&g&&zi.test(g.name)&&q.console.warn("jQuery.Deferred exception: "+g.message,g.stack,b)},E.readyException=function(g){q.setTimeout(function(){throw g})};var Mi=E.Deferred();E.fn.ready=function(g){return Mi.then(g).catch(function(b){E.readyException(b)}),this},E.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--E.readyWait:E.isReady)||(E.isReady=!0,!(g!==!0&&--E.readyWait>0)&&Mi.resolveWith(Oe,[E]))}}),E.ready.then=Mi.then;function as(){Oe.removeEventListener("DOMContentLoaded",as),q.removeEventListener("load",as),E.ready()}Oe.readyState==="complete"||Oe.readyState!=="loading"&&!Oe.documentElement.doScroll?q.setTimeout(E.ready):(Oe.addEventListener("DOMContentLoaded",as),q.addEventListener("load",as));var dn=function(g,b,T,D,k,z,J){var _e=0,Me=g.length,He=T==null;if(re(T)==="object"){k=!0;for(_e in T)dn(g,b,_e,T[_e],!0,z,J)}else if(D!==void 0&&(k=!0,ne(D)||(J=!0),He&&(J?(b.call(g,D),b=null):(He=b,b=function(Dt,tn,Et){return He.call(E(Dt),Et)})),b))for(;_e<Me;_e++)b(g[_e],T,J?D:D.call(g[_e],_e,b(g[_e],T)));return k?g:He?b.call(g):Me?b(g[0],T):z},Rr=/^-ms-/,is=/-([a-z])/g;function mr(g,b){return b.toUpperCase()}function bi(g){return g.replace(Rr,"ms-").replace(is,mr)}var qn=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function Fi(){this.expando=E.expando+Fi.uid++}Fi.uid=1,Fi.prototype={cache:function(g){var b=g[this.expando];return b||(b={},qn(g)&&(g.nodeType?g[this.expando]=b:Object.defineProperty(g,this.expando,{value:b,configurable:!0}))),b},set:function(g,b,T){var D,k=this.cache(g);if(typeof b=="string")k[bi(b)]=T;else for(D in b)k[bi(D)]=b[D];return k},get:function(g,b){return b===void 0?this.cache(g):g[this.expando]&&g[this.expando][bi(b)]},access:function(g,b,T){return b===void 0||b&&typeof b=="string"&&T===void 0?this.get(g,b):(this.set(g,b,T),T!==void 0?T:b)},remove:function(g,b){var T,D=g[this.expando];if(D!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(bi):(b=bi(b),b=b in D?[b]:b.match(Bt)||[]),T=b.length;T--;)delete D[b[T]];(b===void 0||E.isEmptyObject(D))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var b=g[this.expando];return b!==void 0&&!E.isEmptyObject(b)}};var pn=new Fi,it=new Fi,Vs=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nr=/[A-Z]/g;function zr(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:Vs.test(g)?JSON.parse(g):g}function kr(g,b,T){var D;if(T===void 0&&g.nodeType===1)if(D="data-"+b.replace(nr,"-$&").toLowerCase(),T=g.getAttribute(D),typeof T=="string"){try{T=zr(T)}catch(k){}it.set(g,b,T)}else T=void 0;return T}E.extend({hasData:function(g){return it.hasData(g)||pn.hasData(g)},data:function(g,b,T){return it.access(g,b,T)},removeData:function(g,b){it.remove(g,b)},_data:function(g,b,T){return pn.access(g,b,T)},_removeData:function(g,b){pn.remove(g,b)}}),E.fn.extend({data:function(g,b){var T,D,k,z=this[0],J=z&&z.attributes;if(g===void 0){if(this.length&&(k=it.get(z),z.nodeType===1&&!pn.get(z,"hasDataAttrs"))){for(T=J.length;T--;)J[T]&&(D=J[T].name,D.indexOf("data-")===0&&(D=bi(D.slice(5)),kr(z,D,k[D])));pn.set(z,"hasDataAttrs",!0)}return k}return typeof g=="object"?this.each(function(){it.set(this,g)}):dn(this,function(_e){var Me;if(z&&_e===void 0)return Me=it.get(z,g),Me!==void 0||(Me=kr(z,g),Me!==void 0)?Me:void 0;this.each(function(){it.set(this,g,_e)})},null,b,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){it.remove(this,g)})}}),E.extend({queue:function(g,b,T){var D;if(g)return b=(b||"fx")+"queue",D=pn.get(g,b),T&&(!D||Array.isArray(T)?D=pn.access(g,b,E.makeArray(T)):D.push(T)),D||[]},dequeue:function(g,b){b=b||"fx";var T=E.queue(g,b),D=T.length,k=T.shift(),z=E._queueHooks(g,b),J=function(){E.dequeue(g,b)};k==="inprogress"&&(k=T.shift(),D--),k&&(b==="fx"&&T.unshift("inprogress"),delete z.stop,k.call(g,J,z)),!D&&z&&z.empty.fire()},_queueHooks:function(g,b){var T=b+"queueHooks";return pn.get(g,T)||pn.access(g,T,{empty:E.Callbacks("once memory").add(function(){pn.remove(g,[b+"queue",T])})})}}),E.fn.extend({queue:function(g,b){var T=2;return typeof g!="string"&&(b=g,g="fx",T--),arguments.length<T?E.queue(this[0],g):b===void 0?this:this.each(function(){var D=E.queue(this,g,b);E._queueHooks(this,g),g==="fx"&&D[0]!=="inprogress"&&E.dequeue(this,g)})},dequeue:function(g){return this.each(function(){E.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,b){var T,D=1,k=E.Deferred(),z=this,J=this.length,_e=function(){--D||k.resolveWith(z,[z])};for(typeof g!="string"&&(b=g,g=void 0),g=g||"fx";J--;)T=pn.get(z[J],g+"queueHooks"),T&&T.empty&&(D++,T.empty.add(_e));return _e(),k.promise(b)}});var Hn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ce=new RegExp("^(?:([+-])=|)("+Hn+")([a-z%]*)$","i"),Qt=["Top","Right","Bottom","Left"],gn=Oe.documentElement,Ft=function(g){return E.contains(g.ownerDocument,g)},on={composed:!0};gn.getRootNode&&(Ft=function(g){return E.contains(g.ownerDocument,g)||g.getRootNode(on)===g.ownerDocument});var Cn=function(g,b){return g=b||g,g.style.display==="none"||g.style.display===""&&Ft(g)&&E.css(g,"display")==="none"};function Or(g,b,T,D){var k,z,J=20,_e=D?function(){return D.cur()}:function(){return E.css(g,b,"")},Me=_e(),He=T&&T[3]||(E.cssNumber[b]?"":"px"),Dt=g.nodeType&&(E.cssNumber[b]||He!=="px"&&+Me)&&ce.exec(E.css(g,b));if(Dt&&Dt[3]!==He){for(Me=Me/2,He=He||Dt[3],Dt=+Me||1;J--;)E.style(g,b,Dt+He),(1-z)*(1-(z=_e()/Me||.5))<=0&&(J=0),Dt=Dt/z;Dt=Dt*2,E.style(g,b,Dt+He),T=T||[]}return T&&(Dt=+Dt||+Me||0,k=T[1]?Dt+(T[1]+1)*T[2]:+T[2],D&&(D.unit=He,D.start=Dt,D.end=k)),k}var ds={};function io(g){var b,T=g.ownerDocument,D=g.nodeName,k=ds[D];return k||(b=T.body.appendChild(T.createElement(D)),k=E.css(b,"display"),b.parentNode.removeChild(b),k==="none"&&(k="block"),ds[D]=k,k)}function $r(g,b){for(var T,D,k=[],z=0,J=g.length;z<J;z++)D=g[z],D.style&&(T=D.style.display,b?(T==="none"&&(k[z]=pn.get(D,"display")||null,k[z]||(D.style.display="")),D.style.display===""&&Cn(D)&&(k[z]=io(D))):T!=="none"&&(k[z]="none",pn.set(D,"display",T)));for(z=0;z<J;z++)k[z]!=null&&(g[z].style.display=k[z]);return g}E.fn.extend({show:function(){return $r(this,!0)},hide:function(){return $r(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){Cn(this)?E(this).show():E(this).hide()})}});var fr=/^(?:checkbox|radio)$/i,ir=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_r=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=Oe.createDocumentFragment(),b=g.appendChild(Oe.createElement("div")),T=Oe.createElement("input");T.setAttribute("type","radio"),T.setAttribute("checked","checked"),T.setAttribute("name","t"),b.appendChild(T),xe.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",xe.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",xe.option=!!b.lastChild})();var hs={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};hs.tbody=hs.tfoot=hs.colgroup=hs.caption=hs.thead,hs.th=hs.td,xe.option||(hs.optgroup=hs.option=[1,"<select multiple='multiple'>","</select>"]);function dt(g,b){var T;return typeof g.getElementsByTagName!="undefined"?T=g.getElementsByTagName(b||"*"):typeof g.querySelectorAll!="undefined"?T=g.querySelectorAll(b||"*"):T=[],b===void 0||b&&Ie(g,b)?E.merge([g],T):T}function vt(g,b){for(var T=0,D=g.length;T<D;T++)pn.set(g[T],"globalEval",!b||pn.get(b[T],"globalEval"))}var Ut=/<|&#?\w+;/;function ti(g,b,T,D,k){for(var z,J,_e,Me,He,Dt,tn=b.createDocumentFragment(),Et=[],yn=0,ni=g.length;yn<ni;yn++)if(z=g[yn],z||z===0)if(re(z)==="object")E.merge(Et,z.nodeType?[z]:z);else if(!Ut.test(z))Et.push(b.createTextNode(z));else{for(J=J||tn.appendChild(b.createElement("div")),_e=(ir.exec(z)||["",""])[1].toLowerCase(),Me=hs[_e]||hs._default,J.innerHTML=Me[1]+E.htmlPrefilter(z)+Me[2],Dt=Me[0];Dt--;)J=J.lastChild;E.merge(Et,J.childNodes),J=tn.firstChild,J.textContent=""}for(tn.textContent="",yn=0;z=Et[yn++];){if(D&&E.inArray(z,D)>-1){k&&k.push(z);continue}if(He=Ft(z),J=dt(tn.appendChild(z),"script"),He&&vt(J),T)for(Dt=0;z=J[Dt++];)_r.test(z.type||"")&&T.push(z)}return tn}var Si=/^([^.]*)(?:\.(.+)|)/;function Li(){return!0}function Ds(){return!1}function Sr(g,b,T,D,k,z){var J,_e;if(typeof b=="object"){typeof T!="string"&&(D=D||T,T=void 0);for(_e in b)Sr(g,_e,T,D,b[_e],z);return g}if(D==null&&k==null?(k=T,D=T=void 0):k==null&&(typeof T=="string"?(k=D,D=void 0):(k=D,D=T,T=void 0)),k===!1)k=Ds;else if(!k)return g;return z===1&&(J=k,k=function(Me){return E().off(Me),J.apply(this,arguments)},k.guid=J.guid||(J.guid=E.guid++)),g.each(function(){E.event.add(this,b,k,D,T)})}E.event={global:{},add:function(g,b,T,D,k){var z,J,_e,Me,He,Dt,tn,Et,yn,ni,ji,rr=pn.get(g);if(qn(g))for(T.handler&&(z=T,T=z.handler,k=z.selector),k&&E.find.matchesSelector(gn,k),T.guid||(T.guid=E.guid++),(Me=rr.events)||(Me=rr.events=Object.create(null)),(J=rr.handle)||(J=rr.handle=function(Cs){return typeof E!="undefined"&&E.event.triggered!==Cs.type?E.event.dispatch.apply(g,arguments):void 0}),b=(b||"").match(Bt)||[""],He=b.length;He--;)_e=Si.exec(b[He])||[],yn=ji=_e[1],ni=(_e[2]||"").split(".").sort(),yn&&(tn=E.event.special[yn]||{},yn=(k?tn.delegateType:tn.bindType)||yn,tn=E.event.special[yn]||{},Dt=E.extend({type:yn,origType:ji,data:D,handler:T,guid:T.guid,selector:k,needsContext:k&&E.expr.match.needsContext.test(k),namespace:ni.join(".")},z),(Et=Me[yn])||(Et=Me[yn]=[],Et.delegateCount=0,(!tn.setup||tn.setup.call(g,D,ni,J)===!1)&&g.addEventListener&&g.addEventListener(yn,J)),tn.add&&(tn.add.call(g,Dt),Dt.handler.guid||(Dt.handler.guid=T.guid)),k?Et.splice(Et.delegateCount++,0,Dt):Et.push(Dt),E.event.global[yn]=!0)},remove:function(g,b,T,D,k){var z,J,_e,Me,He,Dt,tn,Et,yn,ni,ji,rr=pn.hasData(g)&&pn.get(g);if(!(!rr||!(Me=rr.events))){for(b=(b||"").match(Bt)||[""],He=b.length;He--;){if(_e=Si.exec(b[He])||[],yn=ji=_e[1],ni=(_e[2]||"").split(".").sort(),!yn){for(yn in Me)E.event.remove(g,yn+b[He],T,D,!0);continue}for(tn=E.event.special[yn]||{},yn=(D?tn.delegateType:tn.bindType)||yn,Et=Me[yn]||[],_e=_e[2]&&new RegExp("(^|\\.)"+ni.join("\\.(?:.*\\.|)")+"(\\.|$)"),J=z=Et.length;z--;)Dt=Et[z],(k||ji===Dt.origType)&&(!T||T.guid===Dt.guid)&&(!_e||_e.test(Dt.namespace))&&(!D||D===Dt.selector||D==="**"&&Dt.selector)&&(Et.splice(z,1),Dt.selector&&Et.delegateCount--,tn.remove&&tn.remove.call(g,Dt));J&&!Et.length&&((!tn.teardown||tn.teardown.call(g,ni,rr.handle)===!1)&&E.removeEvent(g,yn,rr.handle),delete Me[yn])}E.isEmptyObject(Me)&&pn.remove(g,"handle events")}},dispatch:function(g){var b,T,D,k,z,J,_e=new Array(arguments.length),Me=E.event.fix(g),He=(pn.get(this,"events")||Object.create(null))[Me.type]||[],Dt=E.event.special[Me.type]||{};for(_e[0]=Me,b=1;b<arguments.length;b++)_e[b]=arguments[b];if(Me.delegateTarget=this,!(Dt.preDispatch&&Dt.preDispatch.call(this,Me)===!1)){for(J=E.event.handlers.call(this,Me,He),b=0;(k=J[b++])&&!Me.isPropagationStopped();)for(Me.currentTarget=k.elem,T=0;(z=k.handlers[T++])&&!Me.isImmediatePropagationStopped();)(!Me.rnamespace||z.namespace===!1||Me.rnamespace.test(z.namespace))&&(Me.handleObj=z,Me.data=z.data,D=((E.event.special[z.origType]||{}).handle||z.handler).apply(k.elem,_e),D!==void 0&&(Me.result=D)===!1&&(Me.preventDefault(),Me.stopPropagation()));return Dt.postDispatch&&Dt.postDispatch.call(this,Me),Me.result}},handlers:function(g,b){var T,D,k,z,J,_e=[],Me=b.delegateCount,He=g.target;if(Me&&He.nodeType&&!(g.type==="click"&&g.button>=1)){for(;He!==this;He=He.parentNode||this)if(He.nodeType===1&&!(g.type==="click"&&He.disabled===!0)){for(z=[],J={},T=0;T<Me;T++)D=b[T],k=D.selector+" ",J[k]===void 0&&(J[k]=D.needsContext?E(k,this).index(He)>-1:E.find(k,this,null,[He]).length),J[k]&&z.push(D);z.length&&_e.push({elem:He,handlers:z})}}return He=this,Me<b.length&&_e.push({elem:He,handlers:b.slice(Me)}),_e},addProp:function(g,b){Object.defineProperty(E.Event.prototype,g,{enumerable:!0,configurable:!0,get:ne(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(T){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:T})}})},fix:function(g){return g[E.expando]?g:new E.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var b=this||g;return fr.test(b.type)&&b.click&&Ie(b,"input")&&Ls(b,"click",!0),!1},trigger:function(g){var b=this||g;return fr.test(b.type)&&b.click&&Ie(b,"input")&&Ls(b,"click"),!0},_default:function(g){var b=g.target;return fr.test(b.type)&&b.click&&Ie(b,"input")&&pn.get(b,"click")||Ie(b,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function Ls(g,b,T){if(!T){pn.get(g,b)===void 0&&E.event.add(g,b,Li);return}pn.set(g,b,!1),E.event.add(g,b,{namespace:!1,handler:function(D){var k,z=pn.get(this,b);if(D.isTrigger&1&&this[b]){if(z)(E.event.special[b]||{}).delegateType&&D.stopPropagation();else if(z=fe.call(arguments),pn.set(this,b,z),this[b](),k=pn.get(this,b),pn.set(this,b,!1),z!==k)return D.stopImmediatePropagation(),D.preventDefault(),k}else z&&(pn.set(this,b,E.event.trigger(z[0],z.slice(1),this)),D.stopPropagation(),D.isImmediatePropagationStopped=Li)}})}E.removeEvent=function(g,b,T){g.removeEventListener&&g.removeEventListener(b,T)},E.Event=function(g,b){if(!(this instanceof E.Event))return new E.Event(g,b);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?Li:Ds,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,b&&E.extend(this,b),this.timeStamp=g&&g.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ds,isPropagationStopped:Ds,isImmediatePropagationStopped:Ds,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=Li,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=Li,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=Li,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(g,b){function T(D){if(Oe.documentMode){var k=pn.get(this,"handle"),z=E.event.fix(D);z.type=D.type==="focusin"?"focus":"blur",z.isSimulated=!0,k(D),z.target===z.currentTarget&&k(z)}else E.event.simulate(b,D.target,E.event.fix(D))}E.event.special[g]={setup:function(){var D;if(Ls(this,g,!0),Oe.documentMode)D=pn.get(this,b),D||this.addEventListener(b,T),pn.set(this,b,(D||0)+1);else return!1},trigger:function(){return Ls(this,g),!0},teardown:function(){var D;if(Oe.documentMode)D=pn.get(this,b)-1,D?pn.set(this,b,D):(this.removeEventListener(b,T),pn.remove(this,b));else return!1},_default:function(D){return pn.get(D.target,g)},delegateType:b},E.event.special[b]={setup:function(){var D=this.ownerDocument||this.document||this,k=Oe.documentMode?this:D,z=pn.get(k,b);z||(Oe.documentMode?this.addEventListener(b,T):D.addEventListener(g,T,!0)),pn.set(k,b,(z||0)+1)},teardown:function(){var D=this.ownerDocument||this.document||this,k=Oe.documentMode?this:D,z=pn.get(k,b)-1;z?pn.set(k,b,z):(Oe.documentMode?this.removeEventListener(b,T):D.removeEventListener(g,T,!0),pn.remove(k,b))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,b){E.event.special[g]={delegateType:b,bindType:b,handle:function(T){var D,k=this,z=T.relatedTarget,J=T.handleObj;return(!z||z!==k&&!E.contains(k,z))&&(T.type=J.origType,D=J.handler.apply(this,arguments),T.type=b),D}}}),E.fn.extend({on:function(g,b,T,D){return Sr(this,g,b,T,D)},one:function(g,b,T,D){return Sr(this,g,b,T,D,1)},off:function(g,b,T){var D,k;if(g&&g.preventDefault&&g.handleObj)return D=g.handleObj,E(g.delegateTarget).off(D.namespace?D.origType+"."+D.namespace:D.origType,D.selector,D.handler),this;if(typeof g=="object"){for(k in g)this.off(k,b,g[k]);return this}return(b===!1||typeof b=="function")&&(T=b,b=void 0),T===!1&&(T=Ds),this.each(function(){E.event.remove(this,g,T,b)})}});var Us=/<script|<style|<link/i,As=/checked\s*(?:[^=]|=\s*.checked.)/i,yo=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ss(g,b){return Ie(g,"table")&&Ie(b.nodeType!==11?b:b.firstChild,"tr")&&E(g).children("tbody")[0]||g}function wo(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function Mo(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function It(g,b){var T,D,k,z,J,_e,Me;if(b.nodeType===1){if(pn.hasData(g)&&(z=pn.get(g),Me=z.events,Me)){pn.remove(b,"handle events");for(k in Me)for(T=0,D=Me[k].length;T<D;T++)E.event.add(b,k,Me[k][T])}it.hasData(g)&&(J=it.access(g),_e=E.extend({},J),it.set(b,_e))}}function Rn(g,b){var T=b.nodeName.toLowerCase();T==="input"&&fr.test(g.type)?b.checked=g.checked:(T==="input"||T==="textarea")&&(b.defaultValue=g.defaultValue)}function zn(g,b,T,D){b=ee(b);var k,z,J,_e,Me,He,Dt=0,tn=g.length,Et=tn-1,yn=b[0],ni=ne(yn);if(ni||tn>1&&typeof yn=="string"&&!xe.checkClone&&As.test(yn))return g.each(function(ji){var rr=g.eq(ji);ni&&(b[0]=yn.call(this,ji,rr.html())),zn(rr,b,T,D)});if(tn&&(k=ti(b,g[0].ownerDocument,!1,g,D),z=k.firstChild,k.childNodes.length===1&&(k=z),z||D)){for(J=E.map(dt(k,"script"),wo),_e=J.length;Dt<tn;Dt++)Me=k,Dt!==Et&&(Me=E.clone(Me,!0,!0),_e&&E.merge(J,dt(Me,"script"))),T.call(g[Dt],Me,Dt);if(_e)for(He=J[J.length-1].ownerDocument,E.map(J,Mo),Dt=0;Dt<_e;Dt++)Me=J[Dt],_r.test(Me.type||"")&&!pn.access(Me,"globalEval")&&E.contains(He,Me)&&(Me.src&&(Me.type||"").toLowerCase()!=="module"?E._evalUrl&&!Me.noModule&&E._evalUrl(Me.src,{nonce:Me.nonce||Me.getAttribute("nonce")},He):at(Me.textContent.replace(yo,""),Me,He))}return g}function an(g,b,T){for(var D,k=b?E.filter(b,g):g,z=0;(D=k[z])!=null;z++)!T&&D.nodeType===1&&E.cleanData(dt(D)),D.parentNode&&(T&&Ft(D)&&vt(dt(D,"script")),D.parentNode.removeChild(D));return g}E.extend({htmlPrefilter:function(g){return g},clone:function(g,b,T){var D,k,z,J,_e=g.cloneNode(!0),Me=Ft(g);if(!xe.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!E.isXMLDoc(g))for(J=dt(_e),z=dt(g),D=0,k=z.length;D<k;D++)Rn(z[D],J[D]);if(b)if(T)for(z=z||dt(g),J=J||dt(_e),D=0,k=z.length;D<k;D++)It(z[D],J[D]);else It(g,_e);return J=dt(_e,"script"),J.length>0&&vt(J,!Me&&dt(g,"script")),_e},cleanData:function(g){for(var b,T,D,k=E.event.special,z=0;(T=g[z])!==void 0;z++)if(qn(T)){if(b=T[pn.expando]){if(b.events)for(D in b.events)k[D]?E.event.remove(T,D):E.removeEvent(T,D,b.handle);T[pn.expando]=void 0}T[it.expando]&&(T[it.expando]=void 0)}}}),E.fn.extend({detach:function(g){return an(this,g,!0)},remove:function(g){return an(this,g)},text:function(g){return dn(this,function(b){return b===void 0?E.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,g,arguments.length)},append:function(){return zn(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Ss(this,g);b.appendChild(g)}})},prepend:function(){return zn(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Ss(this,g);b.insertBefore(g,b.firstChild)}})},before:function(){return zn(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return zn(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,b=0;(g=this[b])!=null;b++)g.nodeType===1&&(E.cleanData(dt(g,!1)),g.textContent="");return this},clone:function(g,b){return g=g==null?!1:g,b=b==null?g:b,this.map(function(){return E.clone(this,g,b)})},html:function(g){return dn(this,function(b){var T=this[0]||{},D=0,k=this.length;if(b===void 0&&T.nodeType===1)return T.innerHTML;if(typeof b=="string"&&!Us.test(b)&&!hs[(ir.exec(b)||["",""])[1].toLowerCase()]){b=E.htmlPrefilter(b);try{for(;D<k;D++)T=this[D]||{},T.nodeType===1&&(E.cleanData(dt(T,!1)),T.innerHTML=b);T=0}catch(z){}}T&&this.empty().append(b)},null,g,arguments.length)},replaceWith:function(){var g=[];return zn(this,arguments,function(b){var T=this.parentNode;E.inArray(this,g)<0&&(E.cleanData(dt(this)),T&&T.replaceChild(b,this))},g)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,b){E.fn[g]=function(T){for(var D,k=[],z=E(T),J=z.length-1,_e=0;_e<=J;_e++)D=_e===J?this:this.clone(!0),E(z[_e])[b](D),X.apply(k,D.get());return this.pushStack(k)}});var Vn=new RegExp("^("+Hn+")(?!px)[a-z%]+$","i"),Dn=/^--/,ri=function(g){var b=g.ownerDocument.defaultView;return(!b||!b.opener)&&(b=q),b.getComputedStyle(g)},Ni=function(g,b,T){var D,k,z={};for(k in b)z[k]=g.style[k],g.style[k]=b[k];D=T.call(g);for(k in b)g.style[k]=z[k];return D},Hr=new RegExp(Qt.join("|"),"i");(function(){function g(){if(He){Me.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",He.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",gn.appendChild(Me).appendChild(He);var Dt=q.getComputedStyle(He);T=Dt.top!=="1%",_e=b(Dt.marginLeft)===12,He.style.right="60%",z=b(Dt.right)===36,D=b(Dt.width)===36,He.style.position="absolute",k=b(He.offsetWidth/3)===12,gn.removeChild(Me),He=null}}function b(Dt){return Math.round(parseFloat(Dt))}var T,D,k,z,J,_e,Me=Oe.createElement("div"),He=Oe.createElement("div");He.style&&(He.style.backgroundClip="content-box",He.cloneNode(!0).style.backgroundClip="",xe.clearCloneStyle=He.style.backgroundClip==="content-box",E.extend(xe,{boxSizingReliable:function(){return g(),D},pixelBoxStyles:function(){return g(),z},pixelPosition:function(){return g(),T},reliableMarginLeft:function(){return g(),_e},scrollboxSize:function(){return g(),k},reliableTrDimensions:function(){var Dt,tn,Et,yn;return J==null&&(Dt=Oe.createElement("table"),tn=Oe.createElement("tr"),Et=Oe.createElement("div"),Dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",tn.style.cssText="box-sizing:content-box;border:1px solid",tn.style.height="1px",Et.style.height="9px",Et.style.display="block",gn.appendChild(Dt).appendChild(tn).appendChild(Et),yn=q.getComputedStyle(tn),J=parseInt(yn.height,10)+parseInt(yn.borderTopWidth,10)+parseInt(yn.borderBottomWidth,10)===tn.offsetHeight,gn.removeChild(Dt)),J}}))})();function pr(g,b,T){var D,k,z,J,_e=Dn.test(b),Me=g.style;return T=T||ri(g),T&&(J=T.getPropertyValue(b)||T[b],_e&&J&&(J=J.replace(Ht,"$1")||void 0),J===""&&!Ft(g)&&(J=E.style(g,b)),!xe.pixelBoxStyles()&&Vn.test(J)&&Hr.test(b)&&(D=Me.width,k=Me.minWidth,z=Me.maxWidth,Me.minWidth=Me.maxWidth=Me.width=J,J=T.width,Me.width=D,Me.minWidth=k,Me.maxWidth=z)),J!==void 0?J+"":J}function Ir(g,b){return{get:function(){if(g()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var vr=["Webkit","Moz","ms"],zs=Oe.createElement("div").style,so={};function Xr(g){for(var b=g[0].toUpperCase()+g.slice(1),T=vr.length;T--;)if(g=vr[T]+b,g in zs)return g}function Ws(g){var b=E.cssProps[g]||so[g];return b||(g in zs?g:so[g]=Xr(g)||g)}var jo=/^(none|table(?!-c[ea]).+)/,Js={position:"absolute",visibility:"hidden",display:"block"},Qs={letterSpacing:"0",fontWeight:"400"};function _i(g,b,T){var D=ce.exec(b);return D?Math.max(0,D[2]-(T||0))+(D[3]||"px"):b}function eo(g,b,T,D,k,z){var J=b==="width"?1:0,_e=0,Me=0,He=0;if(T===(D?"border":"content"))return 0;for(;J<4;J+=2)T==="margin"&&(He+=E.css(g,T+Qt[J],!0,k)),D?(T==="content"&&(Me-=E.css(g,"padding"+Qt[J],!0,k)),T!=="margin"&&(Me-=E.css(g,"border"+Qt[J]+"Width",!0,k))):(Me+=E.css(g,"padding"+Qt[J],!0,k),T!=="padding"?Me+=E.css(g,"border"+Qt[J]+"Width",!0,k):_e+=E.css(g,"border"+Qt[J]+"Width",!0,k));return!D&&z>=0&&(Me+=Math.max(0,Math.ceil(g["offset"+b[0].toUpperCase()+b.slice(1)]-z-Me-_e-.5))||0),Me+He}function js(g,b,T){var D=ri(g),k=!xe.boxSizingReliable()||T,z=k&&E.css(g,"boxSizing",!1,D)==="border-box",J=z,_e=pr(g,b,D),Me="offset"+b[0].toUpperCase()+b.slice(1);if(Vn.test(_e)){if(!T)return _e;_e="auto"}return(!xe.boxSizingReliable()&&z||!xe.reliableTrDimensions()&&Ie(g,"tr")||_e==="auto"||!parseFloat(_e)&&E.css(g,"display",!1,D)==="inline")&&g.getClientRects().length&&(z=E.css(g,"boxSizing",!1,D)==="border-box",J=Me in g,J&&(_e=g[Me])),_e=parseFloat(_e)||0,_e+eo(g,b,T||(z?"border":"content"),J,D,_e)+"px"}E.extend({cssHooks:{opacity:{get:function(g,b){if(b){var T=pr(g,"opacity");return T===""?"1":T}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(g,b,T,D){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var k,z,J,_e=bi(b),Me=Dn.test(b),He=g.style;if(Me||(b=Ws(_e)),J=E.cssHooks[b]||E.cssHooks[_e],T!==void 0){if(z=typeof T,z==="string"&&(k=ce.exec(T))&&k[1]&&(T=Or(g,b,k),z="number"),T==null||T!==T)return;z==="number"&&!Me&&(T+=k&&k[3]||(E.cssNumber[_e]?"":"px")),!xe.clearCloneStyle&&T===""&&b.indexOf("background")===0&&(He[b]="inherit"),(!J||!("set"in J)||(T=J.set(g,T,D))!==void 0)&&(Me?He.setProperty(b,T):He[b]=T)}else return J&&"get"in J&&(k=J.get(g,!1,D))!==void 0?k:He[b]}},css:function(g,b,T,D){var k,z,J,_e=bi(b),Me=Dn.test(b);return Me||(b=Ws(_e)),J=E.cssHooks[b]||E.cssHooks[_e],J&&"get"in J&&(k=J.get(g,!0,T)),k===void 0&&(k=pr(g,b,D)),k==="normal"&&b in Qs&&(k=Qs[b]),T===""||T?(z=parseFloat(k),T===!0||isFinite(z)?z||0:k):k}}),E.each(["height","width"],function(g,b){E.cssHooks[b]={get:function(T,D,k){if(D)return jo.test(E.css(T,"display"))&&(!T.getClientRects().length||!T.getBoundingClientRect().width)?Ni(T,Js,function(){return js(T,b,k)}):js(T,b,k)},set:function(T,D,k){var z,J=ri(T),_e=!xe.scrollboxSize()&&J.position==="absolute",Me=_e||k,He=Me&&E.css(T,"boxSizing",!1,J)==="border-box",Dt=k?eo(T,b,k,He,J):0;return He&&_e&&(Dt-=Math.ceil(T["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(J[b])-eo(T,b,"border",!1,J)-.5)),Dt&&(z=ce.exec(D))&&(z[3]||"px")!=="px"&&(T.style[b]=D,D=E.css(T,b)),_i(T,D,Dt)}}}),E.cssHooks.marginLeft=Ir(xe.reliableMarginLeft,function(g,b){if(b)return(parseFloat(pr(g,"marginLeft"))||g.getBoundingClientRect().left-Ni(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(g,b){E.cssHooks[g+b]={expand:function(T){for(var D=0,k={},z=typeof T=="string"?T.split(" "):[T];D<4;D++)k[g+Qt[D]+b]=z[D]||z[D-2]||z[0];return k}},g!=="margin"&&(E.cssHooks[g+b].set=_i)}),E.fn.extend({css:function(g,b){return dn(this,function(T,D,k){var z,J,_e={},Me=0;if(Array.isArray(D)){for(z=ri(T),J=D.length;Me<J;Me++)_e[D[Me]]=E.css(T,D[Me],!1,z);return _e}return k!==void 0?E.style(T,D,k):E.css(T,D)},g,b,arguments.length>1)}});function Ps(g,b,T,D,k){return new Ps.prototype.init(g,b,T,D,k)}E.Tween=Ps,Ps.prototype={constructor:Ps,init:function(g,b,T,D,k,z){this.elem=g,this.prop=T,this.easing=k||E.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=D,this.unit=z||(E.cssNumber[T]?"":"px")},cur:function(){var g=Ps.propHooks[this.prop];return g&&g.get?g.get(this):Ps.propHooks._default.get(this)},run:function(g){var b,T=Ps.propHooks[this.prop];return this.options.duration?this.pos=b=E.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=b=g,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),T&&T.set?T.set(this):Ps.propHooks._default.set(this),this}},Ps.prototype.init.prototype=Ps.prototype,Ps.propHooks={_default:{get:function(g){var b;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(b=E.css(g.elem,g.prop,""),!b||b==="auto"?0:b)},set:function(g){E.fx.step[g.prop]?E.fx.step[g.prop](g):g.elem.nodeType===1&&(E.cssHooks[g.prop]||g.elem.style[Ws(g.prop)]!=null)?E.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},Ps.propHooks.scrollTop=Ps.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},E.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},E.fx=Ps.prototype.init,E.fx.step={};var Vr,Wr,Hi=/^(?:toggle|show|hide)$/,qr=/queueHooks$/;function Jr(){Wr&&(Oe.hidden===!1&&q.requestAnimationFrame?q.requestAnimationFrame(Jr):q.setTimeout(Jr,E.fx.interval),E.fx.tick())}function gr(){return q.setTimeout(function(){Vr=void 0}),Vr=Date.now()}function oo(g,b){var T,D=0,k={height:g};for(b=b?1:0;D<4;D+=2-b)T=Qt[D],k["margin"+T]=k["padding"+T]=g;return b&&(k.opacity=k.width=g),k}function Yi(g,b,T){for(var D,k=(Ns.tweeners[b]||[]).concat(Ns.tweeners["*"]),z=0,J=k.length;z<J;z++)if(D=k[z].call(T,b,g))return D}function to(g,b,T){var D,k,z,J,_e,Me,He,Dt,tn="width"in b||"height"in b,Et=this,yn={},ni=g.style,ji=g.nodeType&&Cn(g),rr=pn.get(g,"fxshow");T.queue||(J=E._queueHooks(g,"fx"),J.unqueued==null&&(J.unqueued=0,_e=J.empty.fire,J.empty.fire=function(){J.unqueued||_e()}),J.unqueued++,Et.always(function(){Et.always(function(){J.unqueued--,E.queue(g,"fx").length||J.empty.fire()})}));for(D in b)if(k=b[D],Hi.test(k)){if(delete b[D],z=z||k==="toggle",k===(ji?"hide":"show"))if(k==="show"&&rr&&rr[D]!==void 0)ji=!0;else continue;yn[D]=rr&&rr[D]||E.style(g,D)}if(Me=!E.isEmptyObject(b),!(!Me&&E.isEmptyObject(yn))){tn&&g.nodeType===1&&(T.overflow=[ni.overflow,ni.overflowX,ni.overflowY],He=rr&&rr.display,He==null&&(He=pn.get(g,"display")),Dt=E.css(g,"display"),Dt==="none"&&(He?Dt=He:($r([g],!0),He=g.style.display||He,Dt=E.css(g,"display"),$r([g]))),(Dt==="inline"||Dt==="inline-block"&&He!=null)&&E.css(g,"float")==="none"&&(Me||(Et.done(function(){ni.display=He}),He==null&&(Dt=ni.display,He=Dt==="none"?"":Dt)),ni.display="inline-block")),T.overflow&&(ni.overflow="hidden",Et.always(function(){ni.overflow=T.overflow[0],ni.overflowX=T.overflow[1],ni.overflowY=T.overflow[2]})),Me=!1;for(D in yn)Me||(rr?"hidden"in rr&&(ji=rr.hidden):rr=pn.access(g,"fxshow",{display:He}),z&&(rr.hidden=!ji),ji&&$r([g],!0),Et.done(function(){ji||$r([g]),pn.remove(g,"fxshow");for(D in yn)E.style(g,D,yn[D])})),Me=Yi(ji?rr[D]:0,D,Et),D in rr||(rr[D]=Me.start,ji&&(Me.end=Me.start,Me.start=0))}}function Ho(g,b){var T,D,k,z,J;for(T in g)if(D=bi(T),k=b[D],z=g[T],Array.isArray(z)&&(k=z[1],z=g[T]=z[0]),T!==D&&(g[D]=z,delete g[T]),J=E.cssHooks[D],J&&"expand"in J){z=J.expand(z),delete g[D];for(T in z)T in g||(g[T]=z[T],b[T]=k)}else b[D]=k}function Ns(g,b,T){var D,k,z=0,J=Ns.prefilters.length,_e=E.Deferred().always(function(){delete Me.elem}),Me=function(){if(k)return!1;for(var tn=Vr||gr(),Et=Math.max(0,He.startTime+He.duration-tn),yn=Et/He.duration||0,ni=1-yn,ji=0,rr=He.tweens.length;ji<rr;ji++)He.tweens[ji].run(ni);return _e.notifyWith(g,[He,ni,Et]),ni<1&&rr?Et:(rr||_e.notifyWith(g,[He,1,0]),_e.resolveWith(g,[He]),!1)},He=_e.promise({elem:g,props:E.extend({},b),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},T),originalProperties:b,originalOptions:T,startTime:Vr||gr(),duration:T.duration,tweens:[],createTween:function(tn,Et){var yn=E.Tween(g,He.opts,tn,Et,He.opts.specialEasing[tn]||He.opts.easing);return He.tweens.push(yn),yn},stop:function(tn){var Et=0,yn=tn?He.tweens.length:0;if(k)return this;for(k=!0;Et<yn;Et++)He.tweens[Et].run(1);return tn?(_e.notifyWith(g,[He,1,0]),_e.resolveWith(g,[He,tn])):_e.rejectWith(g,[He,tn]),this}}),Dt=He.props;for(Ho(Dt,He.opts.specialEasing);z<J;z++)if(D=Ns.prefilters[z].call(He,g,Dt,He.opts),D)return ne(D.stop)&&(E._queueHooks(He.elem,He.opts.queue).stop=D.stop.bind(D)),D;return E.map(Dt,Yi,He),ne(He.opts.start)&&He.opts.start.call(g,He),He.progress(He.opts.progress).done(He.opts.done,He.opts.complete).fail(He.opts.fail).always(He.opts.always),E.fx.timer(E.extend(Me,{elem:g,anim:He,queue:He.opts.queue})),He}E.Animation=E.extend(Ns,{tweeners:{"*":[function(g,b){var T=this.createTween(g,b);return Or(T.elem,g,ce.exec(b),T),T}]},tweener:function(g,b){ne(g)?(b=g,g=["*"]):g=g.match(Bt);for(var T,D=0,k=g.length;D<k;D++)T=g[D],Ns.tweeners[T]=Ns.tweeners[T]||[],Ns.tweeners[T].unshift(b)},prefilters:[to],prefilter:function(g,b){b?Ns.prefilters.unshift(g):Ns.prefilters.push(g)}}),E.speed=function(g,b,T){var D=g&&typeof g=="object"?E.extend({},g):{complete:T||!T&&b||ne(g)&&g,duration:g,easing:T&&b||b&&!ne(b)&&b};return E.fx.off?D.duration=0:typeof D.duration!="number"&&(D.duration in E.fx.speeds?D.duration=E.fx.speeds[D.duration]:D.duration=E.fx.speeds._default),(D.queue==null||D.queue===!0)&&(D.queue="fx"),D.old=D.complete,D.complete=function(){ne(D.old)&&D.old.call(this),D.queue&&E.dequeue(this,D.queue)},D},E.fn.extend({fadeTo:function(g,b,T,D){return this.filter(Cn).css("opacity",0).show().end().animate({opacity:b},g,T,D)},animate:function(g,b,T,D){var k=E.isEmptyObject(g),z=E.speed(b,T,D),J=function(){var _e=Ns(this,E.extend({},g),z);(k||pn.get(this,"finish"))&&_e.stop(!0)};return J.finish=J,k||z.queue===!1?this.each(J):this.queue(z.queue,J)},stop:function(g,b,T){var D=function(k){var z=k.stop;delete k.stop,z(T)};return typeof g!="string"&&(T=b,b=g,g=void 0),b&&this.queue(g||"fx",[]),this.each(function(){var k=!0,z=g!=null&&g+"queueHooks",J=E.timers,_e=pn.get(this);if(z)_e[z]&&_e[z].stop&&D(_e[z]);else for(z in _e)_e[z]&&_e[z].stop&&qr.test(z)&&D(_e[z]);for(z=J.length;z--;)J[z].elem===this&&(g==null||J[z].queue===g)&&(J[z].anim.stop(T),k=!1,J.splice(z,1));(k||!T)&&E.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var b,T=pn.get(this),D=T[g+"queue"],k=T[g+"queueHooks"],z=E.timers,J=D?D.length:0;for(T.finish=!0,E.queue(this,g,[]),k&&k.stop&&k.stop.call(this,!0),b=z.length;b--;)z[b].elem===this&&z[b].queue===g&&(z[b].anim.stop(!0),z.splice(b,1));for(b=0;b<J;b++)D[b]&&D[b].finish&&D[b].finish.call(this);delete T.finish})}}),E.each(["toggle","show","hide"],function(g,b){var T=E.fn[b];E.fn[b]=function(D,k,z){return D==null||typeof D=="boolean"?T.apply(this,arguments):this.animate(oo(b,!0),D,k,z)}}),E.each({slideDown:oo("show"),slideUp:oo("hide"),slideToggle:oo("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,b){E.fn[g]=function(T,D,k){return this.animate(b,T,D,k)}}),E.timers=[],E.fx.tick=function(){var g,b=0,T=E.timers;for(Vr=Date.now();b<T.length;b++)g=T[b],!g()&&T[b]===g&&T.splice(b--,1);T.length||E.fx.stop(),Vr=void 0},E.fx.timer=function(g){E.timers.push(g),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Wr||(Wr=!0,Jr())},E.fx.stop=function(){Wr=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(g,b){return g=E.fx&&E.fx.speeds[g]||g,b=b||"fx",this.queue(b,function(T,D){var k=q.setTimeout(T,g);D.stop=function(){q.clearTimeout(k)}})},function(){var g=Oe.createElement("input"),b=Oe.createElement("select"),T=b.appendChild(Oe.createElement("option"));g.type="checkbox",xe.checkOn=g.value!=="",xe.optSelected=T.selected,g=Oe.createElement("input"),g.value="t",g.type="radio",xe.radioValue=g.value==="t"}();var Zo,Go=E.expr.attrHandle;E.fn.extend({attr:function(g,b){return dn(this,E.attr,g,b,arguments.length>1)},removeAttr:function(g){return this.each(function(){E.removeAttr(this,g)})}}),E.extend({attr:function(g,b,T){var D,k,z=g.nodeType;if(!(z===3||z===8||z===2)){if(typeof g.getAttribute=="undefined")return E.prop(g,b,T);if((z!==1||!E.isXMLDoc(g))&&(k=E.attrHooks[b.toLowerCase()]||(E.expr.match.bool.test(b)?Zo:void 0)),T!==void 0){if(T===null){E.removeAttr(g,b);return}return k&&"set"in k&&(D=k.set(g,T,b))!==void 0?D:(g.setAttribute(b,T+""),T)}return k&&"get"in k&&(D=k.get(g,b))!==null?D:(D=E.find.attr(g,b),D==null?void 0:D)}},attrHooks:{type:{set:function(g,b){if(!xe.radioValue&&b==="radio"&&Ie(g,"input")){var T=g.value;return g.setAttribute("type",b),T&&(g.value=T),b}}}},removeAttr:function(g,b){var T,D=0,k=b&&b.match(Bt);if(k&&g.nodeType===1)for(;T=k[D++];)g.removeAttribute(T)}}),Zo={set:function(g,b,T){return b===!1?E.removeAttr(g,T):g.setAttribute(T,T),T}},E.each(E.expr.match.bool.source.match(/\w+/g),function(g,b){var T=Go[b]||E.find.attr;Go[b]=function(D,k,z){var J,_e,Me=k.toLowerCase();return z||(_e=Go[Me],Go[Me]=J,J=T(D,k,z)!=null?Me:null,Go[Me]=_e),J}});var ys=/^(?:input|select|textarea|button)$/i,qi=/^(?:a|area)$/i;E.fn.extend({prop:function(g,b){return dn(this,E.prop,g,b,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[E.propFix[g]||g]})}}),E.extend({prop:function(g,b,T){var D,k,z=g.nodeType;if(!(z===3||z===8||z===2))return(z!==1||!E.isXMLDoc(g))&&(b=E.propFix[b]||b,k=E.propHooks[b]),T!==void 0?k&&"set"in k&&(D=k.set(g,T,b))!==void 0?D:g[b]=T:k&&"get"in k&&(D=k.get(g,b))!==null?D:g[b]},propHooks:{tabIndex:{get:function(g){var b=E.find.attr(g,"tabindex");return b?parseInt(b,10):ys.test(g.nodeName)||qi.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xe.optSelected||(E.propHooks.selected={get:function(g){var b=g.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(g){var b=g.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});function Ui(g){var b=g.match(Bt)||[];return b.join(" ")}function Ei(g){return g.getAttribute&&g.getAttribute("class")||""}function xo(g){return Array.isArray(g)?g:typeof g=="string"?g.match(Bt)||[]:[]}E.fn.extend({addClass:function(g){var b,T,D,k,z,J;return ne(g)?this.each(function(_e){E(this).addClass(g.call(this,_e,Ei(this)))}):(b=xo(g),b.length?this.each(function(){if(D=Ei(this),T=this.nodeType===1&&" "+Ui(D)+" ",T){for(z=0;z<b.length;z++)k=b[z],T.indexOf(" "+k+" ")<0&&(T+=k+" ");J=Ui(T),D!==J&&this.setAttribute("class",J)}}):this)},removeClass:function(g){var b,T,D,k,z,J;return ne(g)?this.each(function(_e){E(this).removeClass(g.call(this,_e,Ei(this)))}):arguments.length?(b=xo(g),b.length?this.each(function(){if(D=Ei(this),T=this.nodeType===1&&" "+Ui(D)+" ",T){for(z=0;z<b.length;z++)for(k=b[z];T.indexOf(" "+k+" ")>-1;)T=T.replace(" "+k+" "," ");J=Ui(T),D!==J&&this.setAttribute("class",J)}}):this):this.attr("class","")},toggleClass:function(g,b){var T,D,k,z,J=typeof g,_e=J==="string"||Array.isArray(g);return ne(g)?this.each(function(Me){E(this).toggleClass(g.call(this,Me,Ei(this),b),b)}):typeof b=="boolean"&&_e?b?this.addClass(g):this.removeClass(g):(T=xo(g),this.each(function(){if(_e)for(z=E(this),k=0;k<T.length;k++)D=T[k],z.hasClass(D)?z.removeClass(D):z.addClass(D);else(g===void 0||J==="boolean")&&(D=Ei(this),D&&pn.set(this,"__className__",D),this.setAttribute&&this.setAttribute("class",D||g===!1?"":pn.get(this,"__className__")||""))}))},hasClass:function(g){var b,T,D=0;for(b=" "+g+" ";T=this[D++];)if(T.nodeType===1&&(" "+Ui(Ei(T))+" ").indexOf(b)>-1)return!0;return!1}});var Os=/\r/g;E.fn.extend({val:function(g){var b,T,D,k=this[0];return arguments.length?(D=ne(g),this.each(function(z){var J;this.nodeType===1&&(D?J=g.call(this,z,E(this).val()):J=g,J==null?J="":typeof J=="number"?J+="":Array.isArray(J)&&(J=E.map(J,function(_e){return _e==null?"":_e+""})),b=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,J,"value")===void 0)&&(this.value=J))})):k?(b=E.valHooks[k.type]||E.valHooks[k.nodeName.toLowerCase()],b&&"get"in b&&(T=b.get(k,"value"))!==void 0?T:(T=k.value,typeof T=="string"?T.replace(Os,""):T==null?"":T)):void 0}}),E.extend({valHooks:{option:{get:function(g){var b=E.find.attr(g,"value");return b!=null?b:Ui(E.text(g))}},select:{get:function(g){var b,T,D,k=g.options,z=g.selectedIndex,J=g.type==="select-one",_e=J?null:[],Me=J?z+1:k.length;for(z<0?D=Me:D=J?z:0;D<Me;D++)if(T=k[D],(T.selected||D===z)&&!T.disabled&&(!T.parentNode.disabled||!Ie(T.parentNode,"optgroup"))){if(b=E(T).val(),J)return b;_e.push(b)}return _e},set:function(g,b){for(var T,D,k=g.options,z=E.makeArray(b),J=k.length;J--;)D=k[J],(D.selected=E.inArray(E.valHooks.option.get(D),z)>-1)&&(T=!0);return T||(g.selectedIndex=-1),z}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(g,b){if(Array.isArray(b))return g.checked=E.inArray(E(g).val(),b)>-1}},xe.checkOn||(E.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})});var Xo=q.location,Ks={guid:Date.now()},Ea=/\?/;E.parseXML=function(g){var b,T;if(!g||typeof g!="string")return null;try{b=new q.DOMParser().parseFromString(g,"text/xml")}catch(D){}return T=b&&b.getElementsByTagName("parsererror")[0],(!b||T)&&E.error("Invalid XML: "+(T?E.map(T.childNodes,function(D){return D.textContent}).join(`
`):g)),b};var Ao=/^(?:focusinfocus|focusoutblur)$/,bo=function(g){g.stopPropagation()};E.extend(E.event,{trigger:function(g,b,T,D){var k,z,J,_e,Me,He,Dt,tn,Et=[T||Oe],yn=st.call(g,"type")?g.type:g,ni=st.call(g,"namespace")?g.namespace.split("."):[];if(z=tn=J=T=T||Oe,!(T.nodeType===3||T.nodeType===8)&&!Ao.test(yn+E.event.triggered)&&(yn.indexOf(".")>-1&&(ni=yn.split("."),yn=ni.shift(),ni.sort()),Me=yn.indexOf(":")<0&&"on"+yn,g=g[E.expando]?g:new E.Event(yn,typeof g=="object"&&g),g.isTrigger=D?2:3,g.namespace=ni.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+ni.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=T),b=b==null?[g]:E.makeArray(b,[g]),Dt=E.event.special[yn]||{},!(!D&&Dt.trigger&&Dt.trigger.apply(T,b)===!1))){if(!D&&!Dt.noBubble&&!Be(T)){for(_e=Dt.delegateType||yn,Ao.test(_e+yn)||(z=z.parentNode);z;z=z.parentNode)Et.push(z),J=z;J===(T.ownerDocument||Oe)&&Et.push(J.defaultView||J.parentWindow||q)}for(k=0;(z=Et[k++])&&!g.isPropagationStopped();)tn=z,g.type=k>1?_e:Dt.bindType||yn,He=(pn.get(z,"events")||Object.create(null))[g.type]&&pn.get(z,"handle"),He&&He.apply(z,b),He=Me&&z[Me],He&&He.apply&&qn(z)&&(g.result=He.apply(z,b),g.result===!1&&g.preventDefault());return g.type=yn,!D&&!g.isDefaultPrevented()&&(!Dt._default||Dt._default.apply(Et.pop(),b)===!1)&&qn(T)&&Me&&ne(T[yn])&&!Be(T)&&(J=T[Me],J&&(T[Me]=null),E.event.triggered=yn,g.isPropagationStopped()&&tn.addEventListener(yn,bo),T[yn](),g.isPropagationStopped()&&tn.removeEventListener(yn,bo),E.event.triggered=void 0,J&&(T[Me]=J)),g.result}},simulate:function(g,b,T){var D=E.extend(new E.Event,T,{type:g,isSimulated:!0});E.event.trigger(D,null,b)}}),E.fn.extend({trigger:function(g,b){return this.each(function(){E.event.trigger(g,b,this)})},triggerHandler:function(g,b){var T=this[0];if(T)return E.event.trigger(g,b,T,!0)}});var Yo=/\[\]$/,Po=/\r?\n/g,zo=/^(?:submit|button|image|reset|file)$/i,Eo=/^(?:input|select|textarea|keygen)/i;function ma(g,b,T,D){var k;if(Array.isArray(b))E.each(b,function(z,J){T||Yo.test(g)?D(g,J):ma(g+"["+(typeof J=="object"&&J!=null?z:"")+"]",J,T,D)});else if(!T&&re(b)==="object")for(k in b)ma(g+"["+k+"]",b[k],T,D);else D(g,b)}E.param=function(g,b){var T,D=[],k=function(z,J){var _e=ne(J)?J():J;D[D.length]=encodeURIComponent(z)+"="+encodeURIComponent(_e==null?"":_e)};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!E.isPlainObject(g))E.each(g,function(){k(this.name,this.value)});else for(T in g)ma(T,g[T],b,k);return D.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=E.prop(this,"elements");return g?E.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!E(this).is(":disabled")&&Eo.test(this.nodeName)&&!zo.test(g)&&(this.checked||!fr.test(g))}).map(function(g,b){var T=E(this).val();return T==null?null:Array.isArray(T)?E.map(T,function(D){return{name:b.name,value:D.replace(Po,`\r
`)}}):{name:b.name,value:T.replace(Po,`\r
`)}}).get()}});var uo=/%20/g,Wa=/#.*$/,bl=/([?&])_=[^&]*/,ka=/^(.*?):[ \t]*([^\r\n]*)$/mg,Al=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ic=/^(?:GET|HEAD)$/,ja=/^\/\//,hl={},na={},Za="*/".concat("*"),$a=Oe.createElement("a");$a.href=Xo.href;function Pl(g){return function(b,T){typeof b!="string"&&(T=b,b="*");var D,k=0,z=b.toLowerCase().match(Bt)||[];if(ne(T))for(;D=z[k++];)D[0]==="+"?(D=D.slice(1)||"*",(g[D]=g[D]||[]).unshift(T)):(g[D]=g[D]||[]).push(T)}}function Ze(g,b,T,D){var k={},z=g===na;function J(_e){var Me;return k[_e]=!0,E.each(g[_e]||[],function(He,Dt){var tn=Dt(b,T,D);if(typeof tn=="string"&&!z&&!k[tn])return b.dataTypes.unshift(tn),J(tn),!1;if(z)return!(Me=tn)}),Me}return J(b.dataTypes[0])||!k["*"]&&J("*")}function te(g,b){var T,D,k=E.ajaxSettings.flatOptions||{};for(T in b)b[T]!==void 0&&((k[T]?g:D||(D={}))[T]=b[T]);return D&&E.extend(!0,g,D),g}function H(g,b,T){for(var D,k,z,J,_e=g.contents,Me=g.dataTypes;Me[0]==="*";)Me.shift(),D===void 0&&(D=g.mimeType||b.getResponseHeader("Content-Type"));if(D){for(k in _e)if(_e[k]&&_e[k].test(D)){Me.unshift(k);break}}if(Me[0]in T)z=Me[0];else{for(k in T){if(!Me[0]||g.converters[k+" "+Me[0]]){z=k;break}J||(J=k)}z=z||J}if(z)return z!==Me[0]&&Me.unshift(z),T[z]}function le(g,b,T,D){var k,z,J,_e,Me,He={},Dt=g.dataTypes.slice();if(Dt[1])for(J in g.converters)He[J.toLowerCase()]=g.converters[J];for(z=Dt.shift();z;)if(g.responseFields[z]&&(T[g.responseFields[z]]=b),!Me&&D&&g.dataFilter&&(b=g.dataFilter(b,g.dataType)),Me=z,z=Dt.shift(),z){if(z==="*")z=Me;else if(Me!=="*"&&Me!==z){if(J=He[Me+" "+z]||He["* "+z],!J){for(k in He)if(_e=k.split(" "),_e[1]===z&&(J=He[Me+" "+_e[0]]||He["* "+_e[0]],J)){J===!0?J=He[k]:He[k]!==!0&&(z=_e[0],Dt.unshift(_e[1]));break}}if(J!==!0)if(J&&g.throws)b=J(b);else try{b=J(b)}catch(tn){return{state:"parsererror",error:J?tn:"No conversion from "+Me+" to "+z}}}}return{state:"success",data:b}}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xo.href,type:"GET",isLocal:Al.test(Xo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Za,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,b){return b?te(te(g,E.ajaxSettings),b):te(E.ajaxSettings,g)},ajaxPrefilter:Pl(hl),ajaxTransport:Pl(na),ajax:function(g,b){typeof g=="object"&&(b=g,g=void 0),b=b||{};var T,D,k,z,J,_e,Me,He,Dt,tn,Et=E.ajaxSetup({},b),yn=Et.context||Et,ni=Et.context&&(yn.nodeType||yn.jquery)?E(yn):E.event,ji=E.Deferred(),rr=E.Callbacks("once memory"),Cs=Et.statusCode||{},_s={},go={},Da="canceled",Yr={readyState:0,getResponseHeader:function(Lo){var Y;if(Me){if(!z)for(z={};Y=ka.exec(k);)z[Y[1].toLowerCase()+" "]=(z[Y[1].toLowerCase()+" "]||[]).concat(Y[2]);Y=z[Lo.toLowerCase()+" "]}return Y==null?null:Y.join(", ")},getAllResponseHeaders:function(){return Me?k:null},setRequestHeader:function(Lo,Y){return Me==null&&(Lo=go[Lo.toLowerCase()]=go[Lo.toLowerCase()]||Lo,_s[Lo]=Y),this},overrideMimeType:function(Lo){return Me==null&&(Et.mimeType=Lo),this},statusCode:function(Lo){var Y;if(Lo)if(Me)Yr.always(Lo[Yr.status]);else for(Y in Lo)Cs[Y]=[Cs[Y],Lo[Y]];return this},abort:function(Lo){var Y=Lo||Da;return T&&T.abort(Y),ra(0,Y),this}};if(ji.promise(Yr),Et.url=((g||Et.url||Xo.href)+"").replace(ja,Xo.protocol+"//"),Et.type=b.method||b.type||Et.method||Et.type,Et.dataTypes=(Et.dataType||"*").toLowerCase().match(Bt)||[""],Et.crossDomain==null){_e=Oe.createElement("a");try{_e.href=Et.url,_e.href=_e.href,Et.crossDomain=$a.protocol+"//"+$a.host!=_e.protocol+"//"+_e.host}catch(Lo){Et.crossDomain=!0}}if(Et.data&&Et.processData&&typeof Et.data!="string"&&(Et.data=E.param(Et.data,Et.traditional)),Ze(hl,Et,b,Yr),Me)return Yr;He=E.event&&Et.global,He&&E.active++===0&&E.event.trigger("ajaxStart"),Et.type=Et.type.toUpperCase(),Et.hasContent=!ic.test(Et.type),D=Et.url.replace(Wa,""),Et.hasContent?Et.data&&Et.processData&&(Et.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Et.data=Et.data.replace(uo,"+")):(tn=Et.url.slice(D.length),Et.data&&(Et.processData||typeof Et.data=="string")&&(D+=(Ea.test(D)?"&":"?")+Et.data,delete Et.data),Et.cache===!1&&(D=D.replace(bl,"$1"),tn=(Ea.test(D)?"&":"?")+"_="+Ks.guid+++tn),Et.url=D+tn),Et.ifModified&&(E.lastModified[D]&&Yr.setRequestHeader("If-Modified-Since",E.lastModified[D]),E.etag[D]&&Yr.setRequestHeader("If-None-Match",E.etag[D])),(Et.data&&Et.hasContent&&Et.contentType!==!1||b.contentType)&&Yr.setRequestHeader("Content-Type",Et.contentType),Yr.setRequestHeader("Accept",Et.dataTypes[0]&&Et.accepts[Et.dataTypes[0]]?Et.accepts[Et.dataTypes[0]]+(Et.dataTypes[0]!=="*"?", "+Za+"; q=0.01":""):Et.accepts["*"]);for(Dt in Et.headers)Yr.setRequestHeader(Dt,Et.headers[Dt]);if(Et.beforeSend&&(Et.beforeSend.call(yn,Yr,Et)===!1||Me))return Yr.abort();if(Da="abort",rr.add(Et.complete),Yr.done(Et.success),Yr.fail(Et.error),T=Ze(na,Et,b,Yr),!T)ra(-1,"No Transport");else{if(Yr.readyState=1,He&&ni.trigger("ajaxSend",[Yr,Et]),Me)return Yr;Et.async&&Et.timeout>0&&(J=q.setTimeout(function(){Yr.abort("timeout")},Et.timeout));try{Me=!1,T.send(_s,ra)}catch(Lo){if(Me)throw Lo;ra(-1,Lo)}}function ra(Lo,Y,Pe,Tt){var Mt,Kt,nn,si,Qn,hn=Y;Me||(Me=!0,J&&q.clearTimeout(J),T=void 0,k=Tt||"",Yr.readyState=Lo>0?4:0,Mt=Lo>=200&&Lo<300||Lo===304,Pe&&(si=H(Et,Yr,Pe)),!Mt&&E.inArray("script",Et.dataTypes)>-1&&E.inArray("json",Et.dataTypes)<0&&(Et.converters["text script"]=function(){}),si=le(Et,si,Yr,Mt),Mt?(Et.ifModified&&(Qn=Yr.getResponseHeader("Last-Modified"),Qn&&(E.lastModified[D]=Qn),Qn=Yr.getResponseHeader("etag"),Qn&&(E.etag[D]=Qn)),Lo===204||Et.type==="HEAD"?hn="nocontent":Lo===304?hn="notmodified":(hn=si.state,Kt=si.data,nn=si.error,Mt=!nn)):(nn=hn,(Lo||!hn)&&(hn="error",Lo<0&&(Lo=0))),Yr.status=Lo,Yr.statusText=(Y||hn)+"",Mt?ji.resolveWith(yn,[Kt,hn,Yr]):ji.rejectWith(yn,[Yr,hn,nn]),Yr.statusCode(Cs),Cs=void 0,He&&ni.trigger(Mt?"ajaxSuccess":"ajaxError",[Yr,Et,Mt?Kt:nn]),rr.fireWith(yn,[Yr,hn]),He&&(ni.trigger("ajaxComplete",[Yr,Et]),--E.active||E.event.trigger("ajaxStop")))}return Yr},getJSON:function(g,b,T){return E.get(g,b,T,"json")},getScript:function(g,b){return E.get(g,void 0,b,"script")}}),E.each(["get","post"],function(g,b){E[b]=function(T,D,k,z){return ne(D)&&(z=z||k,k=D,D=void 0),E.ajax(E.extend({url:T,type:b,dataType:z,data:D,success:k},E.isPlainObject(T)&&T))}}),E.ajaxPrefilter(function(g){var b;for(b in g.headers)b.toLowerCase()==="content-type"&&(g.contentType=g.headers[b]||"")}),E._evalUrl=function(g,b,T){return E.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(D){E.globalEval(D,b,T)}})},E.fn.extend({wrapAll:function(g){var b;return this[0]&&(ne(g)&&(g=g.call(this[0])),b=E(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var T=this;T.firstElementChild;)T=T.firstElementChild;return T}).append(this)),this},wrapInner:function(g){return ne(g)?this.each(function(b){E(this).wrapInner(g.call(this,b))}):this.each(function(){var b=E(this),T=b.contents();T.length?T.wrapAll(g):b.append(g)})},wrap:function(g){var b=ne(g);return this.each(function(T){E(this).wrapAll(b?g.call(this,T):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(g){return!E.expr.pseudos.visible(g)},E.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new q.XMLHttpRequest}catch(g){}};var ie={0:200,1223:204},$e=E.ajaxSettings.xhr();xe.cors=!!$e&&"withCredentials"in $e,xe.ajax=$e=!!$e,E.ajaxTransport(function(g){var b,T;if(xe.cors||$e&&!g.crossDomain)return{send:function(D,k){var z,J=g.xhr();if(J.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(z in g.xhrFields)J[z]=g.xhrFields[z];g.mimeType&&J.overrideMimeType&&J.overrideMimeType(g.mimeType),!g.crossDomain&&!D["X-Requested-With"]&&(D["X-Requested-With"]="XMLHttpRequest");for(z in D)J.setRequestHeader(z,D[z]);b=function(_e){return function(){b&&(b=T=J.onload=J.onerror=J.onabort=J.ontimeout=J.onreadystatechange=null,_e==="abort"?J.abort():_e==="error"?typeof J.status!="number"?k(0,"error"):k(J.status,J.statusText):k(ie[J.status]||J.status,J.statusText,(J.responseType||"text")!=="text"||typeof J.responseText!="string"?{binary:J.response}:{text:J.responseText},J.getAllResponseHeaders()))}},J.onload=b(),T=J.onerror=J.ontimeout=b("error"),J.onabort!==void 0?J.onabort=T:J.onreadystatechange=function(){J.readyState===4&&q.setTimeout(function(){b&&T()})},b=b("abort");try{J.send(g.hasContent&&g.data||null)}catch(_e){if(b)throw _e}},abort:function(){b&&b()}}}),E.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return E.globalEval(g),g}}}),E.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),E.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var b,T;return{send:function(D,k){b=E("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",T=function(z){b.remove(),T=null,z&&k(z.type==="error"?404:200,z.type)}),Oe.head.appendChild(b[0])},abort:function(){T&&T()}}}});var Fe=[],zt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Fe.pop()||E.expando+"_"+Ks.guid++;return this[g]=!0,g}}),E.ajaxPrefilter("json jsonp",function(g,b,T){var D,k,z,J=g.jsonp!==!1&&(zt.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&zt.test(g.data)&&"data");if(J||g.dataTypes[0]==="jsonp")return D=g.jsonpCallback=ne(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,J?g[J]=g[J].replace(zt,"$1"+D):g.jsonp!==!1&&(g.url+=(Ea.test(g.url)?"&":"?")+g.jsonp+"="+D),g.converters["script json"]=function(){return z||E.error(D+" was not called"),z[0]},g.dataTypes[0]="json",k=q[D],q[D]=function(){z=arguments},T.always(function(){k===void 0?E(q).removeProp(D):q[D]=k,g[D]&&(g.jsonpCallback=b.jsonpCallback,Fe.push(D)),z&&ne(k)&&k(z[0]),z=k=void 0}),"script"}),xe.createHTMLDocument=function(){var g=Oe.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),E.parseHTML=function(g,b,T){if(typeof g!="string")return[];typeof b=="boolean"&&(T=b,b=!1);var D,k,z;return b||(xe.createHTMLDocument?(b=Oe.implementation.createHTMLDocument(""),D=b.createElement("base"),D.href=Oe.location.href,b.head.appendChild(D)):b=Oe),k=kt.exec(g),z=!T&&[],k?[b.createElement(k[1])]:(k=ti([g],b,z),z&&z.length&&E(z).remove(),E.merge([],k.childNodes))},E.fn.load=function(g,b,T){var D,k,z,J=this,_e=g.indexOf(" ");return _e>-1&&(D=Ui(g.slice(_e)),g=g.slice(0,_e)),ne(b)?(T=b,b=void 0):b&&typeof b=="object"&&(k="POST"),J.length>0&&E.ajax({url:g,type:k||"GET",dataType:"html",data:b}).done(function(Me){z=arguments,J.html(D?E("<div>").append(E.parseHTML(Me)).find(D):Me)}).always(T&&function(Me,He){J.each(function(){T.apply(this,z||[Me.responseText,He,Me])})}),this},E.expr.pseudos.animated=function(g){return E.grep(E.timers,function(b){return g===b.elem}).length},E.offset={setOffset:function(g,b,T){var D,k,z,J,_e,Me,He,Dt=E.css(g,"position"),tn=E(g),Et={};Dt==="static"&&(g.style.position="relative"),_e=tn.offset(),z=E.css(g,"top"),Me=E.css(g,"left"),He=(Dt==="absolute"||Dt==="fixed")&&(z+Me).indexOf("auto")>-1,He?(D=tn.position(),J=D.top,k=D.left):(J=parseFloat(z)||0,k=parseFloat(Me)||0),ne(b)&&(b=b.call(g,T,E.extend({},_e))),b.top!=null&&(Et.top=b.top-_e.top+J),b.left!=null&&(Et.left=b.left-_e.left+k),"using"in b?b.using.call(g,Et):tn.css(Et)}},E.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(k){E.offset.setOffset(this,g,k)});var b,T,D=this[0];if(D)return D.getClientRects().length?(b=D.getBoundingClientRect(),T=D.ownerDocument.defaultView,{top:b.top+T.pageYOffset,left:b.left+T.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,b,T,D=this[0],k={top:0,left:0};if(E.css(D,"position")==="fixed")b=D.getBoundingClientRect();else{for(b=this.offset(),T=D.ownerDocument,g=D.offsetParent||T.documentElement;g&&(g===T.body||g===T.documentElement)&&E.css(g,"position")==="static";)g=g.parentNode;g&&g!==D&&g.nodeType===1&&(k=E(g).offset(),k.top+=E.css(g,"borderTopWidth",!0),k.left+=E.css(g,"borderLeftWidth",!0))}return{top:b.top-k.top-E.css(D,"marginTop",!0),left:b.left-k.left-E.css(D,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&E.css(g,"position")==="static";)g=g.offsetParent;return g||gn})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,b){var T=b==="pageYOffset";E.fn[g]=function(D){return dn(this,function(k,z,J){var _e;if(Be(k)?_e=k:k.nodeType===9&&(_e=k.defaultView),J===void 0)return _e?_e[b]:k[z];_e?_e.scrollTo(T?_e.pageXOffset:J,T?J:_e.pageYOffset):k[z]=J},g,D,arguments.length)}}),E.each(["top","left"],function(g,b){E.cssHooks[b]=Ir(xe.pixelPosition,function(T,D){if(D)return D=pr(T,b),Vn.test(D)?E(T).position()[b]+"px":D})}),E.each({Height:"height",Width:"width"},function(g,b){E.each({padding:"inner"+g,content:b,"":"outer"+g},function(T,D){E.fn[D]=function(k,z){var J=arguments.length&&(T||typeof k!="boolean"),_e=T||(k===!0||z===!0?"margin":"border");return dn(this,function(Me,He,Dt){var tn;return Be(Me)?D.indexOf("outer")===0?Me["inner"+g]:Me.document.documentElement["client"+g]:Me.nodeType===9?(tn=Me.documentElement,Math.max(Me.body["scroll"+g],tn["scroll"+g],Me.body["offset"+g],tn["offset"+g],tn["client"+g])):Dt===void 0?E.css(Me,He,_e):E.style(Me,He,Dt,_e)},b,J?k:void 0,J)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,b){E.fn[b]=function(T){return this.on(b,T)}}),E.fn.extend({bind:function(g,b,T){return this.on(g,null,b,T)},unbind:function(g,b){return this.off(g,null,b)},delegate:function(g,b,T,D){return this.on(b,g,T,D)},undelegate:function(g,b,T){return arguments.length===1?this.off(g,"**"):this.off(b,g||"**",T)},hover:function(g,b){return this.on("mouseenter",g).on("mouseleave",b||g)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,b){E.fn[b]=function(T,D){return arguments.length>0?this.on(b,null,T,D):this.trigger(b)}});var sn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(g,b){var T,D,k;if(typeof b=="string"&&(T=g[b],b=g,g=T),!!ne(g))return D=fe.call(arguments,2),k=function(){return g.apply(b||this,D.concat(fe.call(arguments)))},k.guid=g.guid=g.guid||E.guid++,k},E.holdReady=function(g){g?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=Ie,E.isFunction=ne,E.isWindow=Be,E.camelCase=bi,E.type=re,E.now=Date.now,E.isNumeric=function(g){var b=E.type(g);return(b==="number"||b==="string")&&!isNaN(g-parseFloat(g))},E.trim=function(g){return g==null?"":(g+"").replace(sn,"$1")},I=[],u=function(){return E}.apply(At,I),u!==void 0&&(Ci.exports=u);var On=q.jQuery,Yt=q.$;return E.noConflict=function(g){return q.$===E&&(q.$=Yt),g&&q.jQuery===E&&(q.jQuery=On),E},typeof $=="undefined"&&(q.jQuery=q.$=E),E})},14224:function(Ci){var At=Ci.exports={},I,u;function q(){throw new Error("setTimeout has not been defined")}function $(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?I=setTimeout:I=q}catch(ct){I=q}try{typeof clearTimeout=="function"?u=clearTimeout:u=$}catch(ct){u=$}})();function de(ct){if(I===setTimeout)return setTimeout(ct,0);if((I===q||!I)&&setTimeout)return I=setTimeout,setTimeout(ct,0);try{return I(ct,0)}catch(xe){try{return I.call(null,ct,0)}catch(ne){return I.call(this,ct,0)}}}function Qe(ct){if(u===clearTimeout)return clearTimeout(ct);if((u===$||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(ct);try{return u(ct)}catch(xe){try{return u.call(null,ct)}catch(ne){return u.call(this,ct)}}}var fe=[],ee=!1,X,j=-1;function he(){!ee||!X||(ee=!1,X.length?fe=X.concat(fe):j=-1,fe.length&&ft())}function ft(){if(!ee){var ct=de(he);ee=!0;for(var xe=fe.length;xe;){for(X=fe,fe=[];++j<xe;)X&&X[j].run();j=-1,xe=fe.length}X=null,ee=!1,Qe(ct)}}At.nextTick=function(ct){var xe=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)xe[ne-1]=arguments[ne];fe.push(new st(ct,xe)),fe.length===1&&!ee&&de(ft)};function st(ct,xe){this.fun=ct,this.array=xe}st.prototype.run=function(){this.fun.apply(null,this.array)},At.title="browser",At.browser=!0,At.env={},At.argv=[],At.version="",At.versions={};function oe(){}At.on=oe,At.addListener=oe,At.once=oe,At.off=oe,At.removeListener=oe,At.removeAllListeners=oe,At.emit=oe,At.prependListener=oe,At.prependOnceListener=oe,At.listeners=function(ct){return[]},At.binding=function(ct){throw new Error("process.binding is not supported")},At.cwd=function(){return"/"},At.chdir=function(ct){throw new Error("process.chdir is not supported")},At.umask=function(){return 0}},76288:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return ee}});var u=I(58424),q=I(88598),$=I(63194),de=I(75271),Qe=["show"];function fe(X,j){if(!j.max)return!0;var he=j.strategy(X);return he<=j.max}function ee(X,j){return de.useMemo(function(){var he={};j&&(he.show=(0,$.Z)(j)==="object"&&j.formatter?j.formatter:!!j),he=(0,q.Z)((0,q.Z)({},he),X);var ft=he,st=ft.show,oe=(0,u.Z)(ft,Qe);return(0,q.Z)((0,q.Z)({},oe),{},{show:!!st,showFormatter:typeof st=="function"?st:void 0,strategy:oe.strategy||function(ct){return ct.length}})},[X,j])}},64919:function(Ci,At,I){"use strict";I.d(At,{Q:function(){return he},Z:function(){return at}});var u=I(88598),q=I(89856),$=I(30985),de=I(63194),Qe=I(82187),fe=I.n(Qe),ee=I(75271),X=I(49207),j=ee.forwardRef(function(re,we){var Ue,E,tt=re.inputElement,Ie=re.children,Le=re.prefixCls,bt=re.prefix,en=re.suffix,lt=re.addonBefore,Ht=re.addonAfter,Pn=re.className,vi=re.style,Rt=re.disabled,ut=re.readOnly,Ge=re.focused,ot=re.triggerFocus,mt=re.allowClear,kt=re.value,qt=re.handleReset,Yn=re.hidden,_n=re.classes,Lt=re.classNames,Kn=re.dataAttrs,ln=re.styles,Gt=re.components,Bt=re.onClear,Nn=Ie!=null?Ie:tt,Pt=(Gt==null?void 0:Gt.affixWrapper)||"span",rn=(Gt==null?void 0:Gt.groupWrapper)||"span",cn=(Gt==null?void 0:Gt.wrapper)||"span",zi=(Gt==null?void 0:Gt.groupAddon)||"span",Mi=(0,ee.useRef)(null),as=function(gn){var Ft;(Ft=Mi.current)!==null&&Ft!==void 0&&Ft.contains(gn.target)&&(ot==null||ot())},dn=(0,X.X3)(re),Rr=(0,ee.cloneElement)(Nn,{value:kt,className:fe()(Nn.props.className,!dn&&(Lt==null?void 0:Lt.variant))||null}),is=(0,ee.useRef)(null);if(ee.useImperativeHandle(we,function(){return{nativeElement:is.current||Mi.current}}),dn){var mr=null;if(mt){var bi=!Rt&&!ut&&kt,qn="".concat(Le,"-clear-icon"),Fi=(0,de.Z)(mt)==="object"&&mt!==null&&mt!==void 0&&mt.clearIcon?mt.clearIcon:"\u2716";mr=ee.createElement("span",{onClick:function(gn){qt==null||qt(gn),Bt==null||Bt()},onMouseDown:function(gn){return gn.preventDefault()},className:fe()(qn,(0,$.Z)((0,$.Z)({},"".concat(qn,"-hidden"),!bi),"".concat(qn,"-has-suffix"),!!en)),role:"button",tabIndex:-1},Fi)}var pn="".concat(Le,"-affix-wrapper"),it=fe()(pn,(0,$.Z)((0,$.Z)((0,$.Z)((0,$.Z)((0,$.Z)({},"".concat(Le,"-disabled"),Rt),"".concat(pn,"-disabled"),Rt),"".concat(pn,"-focused"),Ge),"".concat(pn,"-readonly"),ut),"".concat(pn,"-input-with-clear-btn"),en&&mt&&kt),_n==null?void 0:_n.affixWrapper,Lt==null?void 0:Lt.affixWrapper,Lt==null?void 0:Lt.variant),Vs=(en||mt)&&ee.createElement("span",{className:fe()("".concat(Le,"-suffix"),Lt==null?void 0:Lt.suffix),style:ln==null?void 0:ln.suffix},mr,en);Rr=ee.createElement(Pt,(0,q.Z)({className:it,style:ln==null?void 0:ln.affixWrapper,onClick:as},Kn==null?void 0:Kn.affixWrapper,{ref:Mi}),bt&&ee.createElement("span",{className:fe()("".concat(Le,"-prefix"),Lt==null?void 0:Lt.prefix),style:ln==null?void 0:ln.prefix},bt),Rr,Vs)}if((0,X.He)(re)){var nr="".concat(Le,"-group"),zr="".concat(nr,"-addon"),kr="".concat(nr,"-wrapper"),Hn=fe()("".concat(Le,"-wrapper"),nr,_n==null?void 0:_n.wrapper,Lt==null?void 0:Lt.wrapper),ce=fe()(kr,(0,$.Z)({},"".concat(kr,"-disabled"),Rt),_n==null?void 0:_n.group,Lt==null?void 0:Lt.groupWrapper);Rr=ee.createElement(rn,{className:ce,ref:is},ee.createElement(cn,{className:Hn},lt&&ee.createElement(zi,{className:zr},lt),Rr,Ht&&ee.createElement(zi,{className:zr},Ht)))}return ee.cloneElement(Rr,{className:fe()((Ue=Rr.props)===null||Ue===void 0?void 0:Ue.className,Pn)||null,style:(0,u.Z)((0,u.Z)({},(E=Rr.props)===null||E===void 0?void 0:E.style),vi),hidden:Yn})}),he=j,ft=I(40665),st=I(97171),oe=I(58424),ct=I(6522),xe=I(2021),ne=I(76288),Be=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Oe=(0,ee.forwardRef)(function(re,we){var Ue=re.autoComplete,E=re.onChange,tt=re.onFocus,Ie=re.onBlur,Le=re.onPressEnter,bt=re.onKeyDown,en=re.onKeyUp,lt=re.prefixCls,Ht=lt===void 0?"rc-input":lt,Pn=re.disabled,vi=re.htmlSize,Rt=re.className,ut=re.maxLength,Ge=re.suffix,ot=re.showCount,mt=re.count,kt=re.type,qt=kt===void 0?"text":kt,Yn=re.classes,_n=re.classNames,Lt=re.styles,Kn=re.onCompositionStart,ln=re.onCompositionEnd,Gt=(0,oe.Z)(re,Be),Bt=(0,ee.useState)(!1),Nn=(0,st.Z)(Bt,2),Pt=Nn[0],rn=Nn[1],cn=(0,ee.useRef)(!1),zi=(0,ee.useRef)(!1),Mi=(0,ee.useRef)(null),as=(0,ee.useRef)(null),dn=function(_r){Mi.current&&(0,X.nH)(Mi.current,_r)},Rr=(0,ct.Z)(re.defaultValue,{value:re.value}),is=(0,st.Z)(Rr,2),mr=is[0],bi=is[1],qn=mr==null?"":String(mr),Fi=(0,ee.useState)(null),pn=(0,st.Z)(Fi,2),it=pn[0],Vs=pn[1],nr=(0,ne.Z)(mt,ot),zr=nr.max||ut,kr=nr.strategy(qn),Hn=!!zr&&kr>zr;(0,ee.useImperativeHandle)(we,function(){var ir;return{focus:dn,blur:function(){var hs;(hs=Mi.current)===null||hs===void 0||hs.blur()},setSelectionRange:function(hs,dt,vt){var Ut;(Ut=Mi.current)===null||Ut===void 0||Ut.setSelectionRange(hs,dt,vt)},select:function(){var hs;(hs=Mi.current)===null||hs===void 0||hs.select()},input:Mi.current,nativeElement:((ir=as.current)===null||ir===void 0?void 0:ir.nativeElement)||Mi.current}}),(0,ee.useEffect)(function(){rn(function(ir){return ir&&Pn?!1:ir})},[Pn]);var ce=function(_r,hs,dt){var vt=hs;if(!cn.current&&nr.exceedFormatter&&nr.max&&nr.strategy(hs)>nr.max){if(vt=nr.exceedFormatter(hs,{max:nr.max}),hs!==vt){var Ut,ti;Vs([((Ut=Mi.current)===null||Ut===void 0?void 0:Ut.selectionStart)||0,((ti=Mi.current)===null||ti===void 0?void 0:ti.selectionEnd)||0])}}else if(dt.source==="compositionEnd")return;bi(vt),Mi.current&&(0,X.rJ)(Mi.current,_r,E,vt)};(0,ee.useEffect)(function(){if(it){var ir;(ir=Mi.current)===null||ir===void 0||ir.setSelectionRange.apply(ir,(0,ft.Z)(it))}},[it]);var Qt=function(_r){ce(_r,_r.target.value,{source:"change"})},gn=function(_r){cn.current=!1,ce(_r,_r.currentTarget.value,{source:"compositionEnd"}),ln==null||ln(_r)},Ft=function(_r){Le&&_r.key==="Enter"&&!zi.current&&(zi.current=!0,Le(_r)),bt==null||bt(_r)},on=function(_r){_r.key==="Enter"&&(zi.current=!1),en==null||en(_r)},Cn=function(_r){rn(!0),tt==null||tt(_r)},Or=function(_r){rn(!1),Ie==null||Ie(_r)},ds=function(_r){bi(""),dn(),Mi.current&&(0,X.rJ)(Mi.current,_r,E)},io=Hn&&"".concat(Ht,"-out-of-range"),$r=function(){var _r=(0,xe.Z)(re,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return ee.createElement("input",(0,q.Z)({autoComplete:Ue},_r,{onChange:Qt,onFocus:Cn,onBlur:Or,onKeyDown:Ft,onKeyUp:on,className:fe()(Ht,(0,$.Z)({},"".concat(Ht,"-disabled"),Pn),_n==null?void 0:_n.input),style:Lt==null?void 0:Lt.input,ref:Mi,size:vi,type:qt,onCompositionStart:function(dt){cn.current=!0,Kn==null||Kn(dt)},onCompositionEnd:gn}))},fr=function(){var _r=Number(zr)>0;if(Ge||nr.show){var hs=nr.showFormatter?nr.showFormatter({value:qn,count:kr,maxLength:zr}):"".concat(kr).concat(_r?" / ".concat(zr):"");return ee.createElement(ee.Fragment,null,nr.show&&ee.createElement("span",{className:fe()("".concat(Ht,"-show-count-suffix"),(0,$.Z)({},"".concat(Ht,"-show-count-has-suffix"),!!Ge),_n==null?void 0:_n.count),style:(0,u.Z)({},Lt==null?void 0:Lt.count)},hs),Ge)}return null};return ee.createElement(he,(0,q.Z)({},Gt,{prefixCls:Ht,className:fe()(Rt,io),handleReset:ds,value:qn,focused:Pt,triggerFocus:dn,suffix:fr(),disabled:Pn,classes:Yn,classNames:_n,styles:Lt}),$r())}),Ce=Oe,at=Ce},49207:function(Ci,At,I){"use strict";I.d(At,{He:function(){return u},X3:function(){return q},nH:function(){return Qe},rJ:function(){return de}});function u(fe){return!!(fe.addonBefore||fe.addonAfter)}function q(fe){return!!(fe.prefix||fe.suffix||fe.allowClear)}function $(fe,ee,X){var j=ee.cloneNode(!0),he=Object.create(fe,{target:{value:j},currentTarget:{value:j}});return j.value=X,typeof ee.selectionStart=="number"&&typeof ee.selectionEnd=="number"&&(j.selectionStart=ee.selectionStart,j.selectionEnd=ee.selectionEnd),j.setSelectionRange=function(){ee.setSelectionRange.apply(ee,arguments)},he}function de(fe,ee,X,j){if(X){var he=ee;if(ee.type==="click"){he=$(ee,fe,""),X(he);return}if(fe.type!=="file"&&j!==void 0){he=$(ee,fe,j),X(he);return}X(he)}}function Qe(fe,ee){if(fe){fe.focus(ee);var X=ee||{},j=X.cursor;if(j){var he=fe.value.length;switch(j){case"start":fe.setSelectionRange(0,0);break;case"end":fe.setSelectionRange(he,he);break;default:fe.setSelectionRange(0,he)}}}}},12615:function(Ci,At,I){"use strict";var u;I.d(At,{s:function(){return Oe},v:function(){return Ue}});var q=I(31880),$=I(29608),de=I(63194),Qe=I(88598),fe=I(30967),ee=(0,Qe.Z)({},u||(u=I.t(fe,2))),X=ee.version,j=ee.render,he=ee.unmountComponentAtNode,ft;try{var st=Number((X||"").split(".")[0]);st>=18&&(ft=ee.createRoot)}catch(tt){}function oe(tt){var Ie=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ie&&(0,de.Z)(Ie)==="object"&&(Ie.usingClientEntryPoint=tt)}var ct="__rc_react_root__";function xe(tt,Ie){oe(!0);var Le=Ie[ct]||ft(Ie);oe(!1),Le.render(tt),Ie[ct]=Le}function ne(tt,Ie){j(tt,Ie)}function Be(tt,Ie){}function Oe(tt,Ie){if(ft){xe(tt,Ie);return}ne(tt,Ie)}function Ce(tt){return at.apply(this,arguments)}function at(){return at=(0,$.Z)((0,q.Z)().mark(function tt(Ie){return(0,q.Z)().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:return bt.abrupt("return",Promise.resolve().then(function(){var en;(en=Ie[ct])===null||en===void 0||en.unmount(),delete Ie[ct]}));case 1:case"end":return bt.stop()}},tt)})),at.apply(this,arguments)}function re(tt){he(tt)}function we(tt){}function Ue(tt){return E.apply(this,arguments)}function E(){return E=(0,$.Z)((0,q.Z)().mark(function tt(Ie){return(0,q.Z)().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(ft===void 0){bt.next=2;break}return bt.abrupt("return",Ce(Ie));case 2:re(Ie);case 3:case"end":return bt.stop()}},tt)})),E.apply(this,arguments)}},335:function(Ci,At,I){var u=I(31479);function q($,de){var Qe=typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(!Qe){if(Array.isArray($)||(Qe=u($))||de&&$&&typeof $.length=="number"){Qe&&($=Qe);var fe=0,ee=function(){};return{s:ee,n:function(){return fe>=$.length?{done:!0}:{done:!1,value:$[fe++]}},e:function(st){throw st},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,j=!1,he;return{s:function(){Qe=Qe.call($)},n:function(){var st=Qe.next();return X=st.done,st},e:function(st){j=!0,he=st},f:function(){try{!X&&Qe.return!=null&&Qe.return()}finally{if(j)throw he}}}}Ci.exports=q,Ci.exports.__esModule=!0,Ci.exports.default=Ci.exports},29608:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return q}});function u($,de,Qe,fe,ee,X,j){try{var he=$[X](j),ft=he.value}catch(st){return void Qe(st)}he.done?de(ft):Promise.resolve(ft).then(fe,ee)}function q($){return function(){var de=this,Qe=arguments;return new Promise(function(fe,ee){var X=$.apply(de,Qe);function j(ft){u(X,fe,ee,j,he,"next",ft)}function he(ft){u(X,fe,ee,j,he,"throw",ft)}j(void 0)})}}},31880:function(Ci,At,I){"use strict";I.d(At,{Z:function(){return q}});var u=I(63194);function q(){"use strict";q=function(){return de};var $,de={},Qe=Object.prototype,fe=Qe.hasOwnProperty,ee=Object.defineProperty||function(ut,Ge,ot){ut[Ge]=ot.value},X=typeof Symbol=="function"?Symbol:{},j=X.iterator||"@@iterator",he=X.asyncIterator||"@@asyncIterator",ft=X.toStringTag||"@@toStringTag";function st(ut,Ge,ot){return Object.defineProperty(ut,Ge,{value:ot,enumerable:!0,configurable:!0,writable:!0}),ut[Ge]}try{st({},"")}catch(ut){st=function(ot,mt,kt){return ot[mt]=kt}}function oe(ut,Ge,ot,mt){var kt=Ge&&Ge.prototype instanceof at?Ge:at,qt=Object.create(kt.prototype),Yn=new vi(mt||[]);return ee(qt,"_invoke",{value:en(ut,ot,Yn)}),qt}function ct(ut,Ge,ot){try{return{type:"normal",arg:ut.call(Ge,ot)}}catch(mt){return{type:"throw",arg:mt}}}de.wrap=oe;var xe="suspendedStart",ne="suspendedYield",Be="executing",Oe="completed",Ce={};function at(){}function re(){}function we(){}var Ue={};st(Ue,j,function(){return this});var E=Object.getPrototypeOf,tt=E&&E(E(Rt([])));tt&&tt!==Qe&&fe.call(tt,j)&&(Ue=tt);var Ie=we.prototype=at.prototype=Object.create(Ue);function Le(ut){["next","throw","return"].forEach(function(Ge){st(ut,Ge,function(ot){return this._invoke(Ge,ot)})})}function bt(ut,Ge){function ot(kt,qt,Yn,_n){var Lt=ct(ut[kt],ut,qt);if(Lt.type!=="throw"){var Kn=Lt.arg,ln=Kn.value;return ln&&(0,u.Z)(ln)=="object"&&fe.call(ln,"__await")?Ge.resolve(ln.__await).then(function(Gt){ot("next",Gt,Yn,_n)},function(Gt){ot("throw",Gt,Yn,_n)}):Ge.resolve(ln).then(function(Gt){Kn.value=Gt,Yn(Kn)},function(Gt){return ot("throw",Gt,Yn,_n)})}_n(Lt.arg)}var mt;ee(this,"_invoke",{value:function(qt,Yn){function _n(){return new Ge(function(Lt,Kn){ot(qt,Yn,Lt,Kn)})}return mt=mt?mt.then(_n,_n):_n()}})}function en(ut,Ge,ot){var mt=xe;return function(kt,qt){if(mt===Be)throw Error("Generator is already running");if(mt===Oe){if(kt==="throw")throw qt;return{value:$,done:!0}}for(ot.method=kt,ot.arg=qt;;){var Yn=ot.delegate;if(Yn){var _n=lt(Yn,ot);if(_n){if(_n===Ce)continue;return _n}}if(ot.method==="next")ot.sent=ot._sent=ot.arg;else if(ot.method==="throw"){if(mt===xe)throw mt=Oe,ot.arg;ot.dispatchException(ot.arg)}else ot.method==="return"&&ot.abrupt("return",ot.arg);mt=Be;var Lt=ct(ut,Ge,ot);if(Lt.type==="normal"){if(mt=ot.done?Oe:ne,Lt.arg===Ce)continue;return{value:Lt.arg,done:ot.done}}Lt.type==="throw"&&(mt=Oe,ot.method="throw",ot.arg=Lt.arg)}}}function lt(ut,Ge){var ot=Ge.method,mt=ut.iterator[ot];if(mt===$)return Ge.delegate=null,ot==="throw"&&ut.iterator.return&&(Ge.method="return",Ge.arg=$,lt(ut,Ge),Ge.method==="throw")||ot!=="return"&&(Ge.method="throw",Ge.arg=new TypeError("The iterator does not provide a '"+ot+"' method")),Ce;var kt=ct(mt,ut.iterator,Ge.arg);if(kt.type==="throw")return Ge.method="throw",Ge.arg=kt.arg,Ge.delegate=null,Ce;var qt=kt.arg;return qt?qt.done?(Ge[ut.resultName]=qt.value,Ge.next=ut.nextLoc,Ge.method!=="return"&&(Ge.method="next",Ge.arg=$),Ge.delegate=null,Ce):qt:(Ge.method="throw",Ge.arg=new TypeError("iterator result is not an object"),Ge.delegate=null,Ce)}function Ht(ut){var Ge={tryLoc:ut[0]};1 in ut&&(Ge.catchLoc=ut[1]),2 in ut&&(Ge.finallyLoc=ut[2],Ge.afterLoc=ut[3]),this.tryEntries.push(Ge)}function Pn(ut){var Ge=ut.completion||{};Ge.type="normal",delete Ge.arg,ut.completion=Ge}function vi(ut){this.tryEntries=[{tryLoc:"root"}],ut.forEach(Ht,this),this.reset(!0)}function Rt(ut){if(ut||ut===""){var Ge=ut[j];if(Ge)return Ge.call(ut);if(typeof ut.next=="function")return ut;if(!isNaN(ut.length)){var ot=-1,mt=function kt(){for(;++ot<ut.length;)if(fe.call(ut,ot))return kt.value=ut[ot],kt.done=!1,kt;return kt.value=$,kt.done=!0,kt};return mt.next=mt}}throw new TypeError((0,u.Z)(ut)+" is not iterable")}return re.prototype=we,ee(Ie,"constructor",{value:we,configurable:!0}),ee(we,"constructor",{value:re,configurable:!0}),re.displayName=st(we,ft,"GeneratorFunction"),de.isGeneratorFunction=function(ut){var Ge=typeof ut=="function"&&ut.constructor;return!!Ge&&(Ge===re||(Ge.displayName||Ge.name)==="GeneratorFunction")},de.mark=function(ut){return Object.setPrototypeOf?Object.setPrototypeOf(ut,we):(ut.__proto__=we,st(ut,ft,"GeneratorFunction")),ut.prototype=Object.create(Ie),ut},de.awrap=function(ut){return{__await:ut}},Le(bt.prototype),st(bt.prototype,he,function(){return this}),de.AsyncIterator=bt,de.async=function(ut,Ge,ot,mt,kt){kt===void 0&&(kt=Promise);var qt=new bt(oe(ut,Ge,ot,mt),kt);return de.isGeneratorFunction(Ge)?qt:qt.next().then(function(Yn){return Yn.done?Yn.value:qt.next()})},Le(Ie),st(Ie,ft,"Generator"),st(Ie,j,function(){return this}),st(Ie,"toString",function(){return"[object Generator]"}),de.keys=function(ut){var Ge=Object(ut),ot=[];for(var mt in Ge)ot.push(mt);return ot.reverse(),function kt(){for(;ot.length;){var qt=ot.pop();if(qt in Ge)return kt.value=qt,kt.done=!1,kt}return kt.done=!0,kt}},de.values=Rt,vi.prototype={constructor:vi,reset:function(Ge){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(Pn),!Ge)for(var ot in this)ot.charAt(0)==="t"&&fe.call(this,ot)&&!isNaN(+ot.slice(1))&&(this[ot]=$)},stop:function(){this.done=!0;var Ge=this.tryEntries[0].completion;if(Ge.type==="throw")throw Ge.arg;return this.rval},dispatchException:function(Ge){if(this.done)throw Ge;var ot=this;function mt(Kn,ln){return Yn.type="throw",Yn.arg=Ge,ot.next=Kn,ln&&(ot.method="next",ot.arg=$),!!ln}for(var kt=this.tryEntries.length-1;kt>=0;--kt){var qt=this.tryEntries[kt],Yn=qt.completion;if(qt.tryLoc==="root")return mt("end");if(qt.tryLoc<=this.prev){var _n=fe.call(qt,"catchLoc"),Lt=fe.call(qt,"finallyLoc");if(_n&&Lt){if(this.prev<qt.catchLoc)return mt(qt.catchLoc,!0);if(this.prev<qt.finallyLoc)return mt(qt.finallyLoc)}else if(_n){if(this.prev<qt.catchLoc)return mt(qt.catchLoc,!0)}else{if(!Lt)throw Error("try statement without catch or finally");if(this.prev<qt.finallyLoc)return mt(qt.finallyLoc)}}}},abrupt:function(Ge,ot){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var kt=this.tryEntries[mt];if(kt.tryLoc<=this.prev&&fe.call(kt,"finallyLoc")&&this.prev<kt.finallyLoc){var qt=kt;break}}qt&&(Ge==="break"||Ge==="continue")&&qt.tryLoc<=ot&&ot<=qt.finallyLoc&&(qt=null);var Yn=qt?qt.completion:{};return Yn.type=Ge,Yn.arg=ot,qt?(this.method="next",this.next=qt.finallyLoc,Ce):this.complete(Yn)},complete:function(Ge,ot){if(Ge.type==="throw")throw Ge.arg;return Ge.type==="break"||Ge.type==="continue"?this.next=Ge.arg:Ge.type==="return"?(this.rval=this.arg=Ge.arg,this.method="return",this.next="end"):Ge.type==="normal"&&ot&&(this.next=ot),Ce},finish:function(Ge){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var mt=this.tryEntries[ot];if(mt.finallyLoc===Ge)return this.complete(mt.completion,mt.afterLoc),Pn(mt),Ce}},catch:function(Ge){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var mt=this.tryEntries[ot];if(mt.tryLoc===Ge){var kt=mt.completion;if(kt.type==="throw"){var qt=kt.arg;Pn(mt)}return qt}}throw Error("illegal catch attempt")},delegateYield:function(Ge,ot,mt){return this.delegate={iterator:Rt(Ge),resultName:ot,nextLoc:mt},this.method==="next"&&(this.arg=$),Ce}},de}},95321:function(Ci,At,I){"use strict";I.d(At,{Xz:function(){return Tf},ZA:function(){return tl},pJ:function(){return Lu},x1:function(){return $c}});function u(x,n,r){return(n=fe(n))in x?Object.defineProperty(x,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):x[n]=r,x}function q(x,n){var r=Object.keys(x);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(x);n&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(x,c).enumerable})),r.push.apply(r,o)}return r}function $(x){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?q(Object(r),!0).forEach(function(o){u(x,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(o){Object.defineProperty(x,o,Object.getOwnPropertyDescriptor(r,o))})}return x}function de(x,n){if(x==null)return{};var r,o,c=function(y,w){if(y==null)return{};var R={};for(var U in y)if({}.hasOwnProperty.call(y,U)){if(w.indexOf(U)>=0)continue;R[U]=y[U]}return R}(x,n);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(x);for(o=0;o<f.length;o++)r=f[o],n.indexOf(r)>=0||{}.propertyIsEnumerable.call(x,r)&&(c[r]=x[r])}return c}function Qe(x,n){return n||(n=x.slice(0)),Object.freeze(Object.defineProperties(x,{raw:{value:Object.freeze(n)}}))}function fe(x){var n=function(r,o){if(typeof r!="object"||!r)return r;var c=r[Symbol.toPrimitive];if(c!==void 0){var f=c.call(r,o||"default");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}(x,"string");return typeof n=="symbol"?n:n+""}class ee{constructor(){u(this,"browserShadowBlurConstant",1),u(this,"DPI",96),u(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),u(this,"perfLimitSizeTotal",2097152),u(this,"maxCacheSideLimit",4096),u(this,"minCacheSideLimit",256),u(this,"disableStyleCopyPaste",!1),u(this,"enableGLFiltering",!0),u(this,"textureSize",4096),u(this,"forceGLPutImageData",!1),u(this,"cachesBoundsOfCurve",!0),u(this,"fontPaths",{}),u(this,"NUM_FRACTION_DIGITS",4)}}const X=new class extends ee{constructor(x){super(),this.configure(x)}configure(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,x)}addFonts(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=$($({},this.fontPaths),x)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(x=>{delete this.fontPaths[x]})}clearFonts(){this.fontPaths={}}restoreDefaults(x){const n=new ee,r=(x==null?void 0:x.reduce((o,c)=>(o[c]=n[c],o),{}))||n;this.configure(r)}},j=function(x){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return console[x]("fabric",...r)};class he extends Error{constructor(n,r){super("fabric: ".concat(n),r)}}class ft extends he{constructor(n){super("".concat(n," 'options.signal' is in 'aborted' state"))}}class st{}class oe extends st{testPrecision(n,r){const o="precision ".concat(r,` float;
void main(){}`),c=n.createShader(n.FRAGMENT_SHADER);return!!c&&(n.shaderSource(c,o),n.compileShader(c),!!n.getShaderParameter(c,n.COMPILE_STATUS))}queryWebGL(n){const r=n.getContext("webgl");r&&(this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(o=>this.testPrecision(r,o)),r.getExtension("WEBGL_lose_context").loseContext(),j("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(n){return!!this.maxTextureSize&&this.maxTextureSize>=n}}const ct={};let xe;const ne=x=>{xe=x},Be=()=>xe||(xe={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new oe,dispose(){},copyPasteData:ct}),Oe=()=>Be().document,Ce=()=>Be().window,at=()=>{var x;return Math.max((x=X.devicePixelRatio)!==null&&x!==void 0?x:Ce().devicePixelRatio,1)},re=new class{constructor(){u(this,"charWidthsCache",{}),u(this,"boundsOfCurveCache",{})}getFontCache(x){let{fontFamily:n,fontStyle:r,fontWeight:o}=x;n=n.toLowerCase(),this.charWidthsCache[n]||(this.charWidthsCache[n]={});const c=this.charWidthsCache[n],f="".concat(r.toLowerCase(),"_").concat((o+"").toLowerCase());return c[f]||(c[f]={}),c[f]}clearFontCache(x){(x=(x||"").toLowerCase())?this.charWidthsCache[x]&&delete this.charWidthsCache[x]:this.charWidthsCache={}}limitDimsByArea(x){const{perfLimitSizeTotal:n}=X,r=Math.sqrt(n*x);return[Math.floor(r),Math.floor(n/r)]}},we="6.0.2";function Ue(){}const E=Math.PI/2,tt=2*Math.PI,Ie=Math.PI/180,Le=Object.freeze([1,0,0,1,0,0]),bt=16,en=.4477152502,lt="center",Ht="left",Pn="top",vi="bottom",Rt="right",ut="none",Ge=/\r?\n/,ot="moving",mt="scaling",kt="rotating",qt="rotate",Yn="skewing",_n="resizing",Lt="modifyPoly",Kn="changed",ln="scale",Gt="scaleX",Bt="scaleY",Nn="skewX",Pt="skewY",rn="fill",cn="stroke",zi="modified",Mi="json",as="svg",dn=new class{constructor(){this[Mi]=new Map,this[as]=new Map}getClass(x){const n=this[Mi].get(x);if(!n)throw new he("No class registered for ".concat(x));return n}setClass(x,n){n?this[Mi].set(n,x):(this[Mi].set(x.type,x),this[Mi].set(x.type.toLowerCase(),x))}getSVGClass(x){return this[as].get(x)}setSVGClass(x,n){this[as].set(n!=null?n:x.type.toLowerCase(),x)}},Rr=new class extends Array{remove(x){const n=this.indexOf(x);n>-1&&this.splice(n,1)}cancelAll(){const x=this.splice(0);return x.forEach(n=>n.abort()),x}cancelByCanvas(x){if(!x)return[];const n=this.filter(r=>{var o;return r.target===x||typeof r.target=="object"&&((o=r.target)===null||o===void 0?void 0:o.canvas)===x});return n.forEach(r=>r.abort()),n}cancelByTarget(x){if(!x)return[];const n=this.filter(r=>r.target===x);return n.forEach(r=>r.abort()),n}};class is{constructor(){u(this,"__eventListeners",{})}on(n,r){if(this.__eventListeners||(this.__eventListeners={}),typeof n=="object")return Object.entries(n).forEach(o=>{let[c,f]=o;this.on(c,f)}),()=>this.off(n);if(r){const o=n;return this.__eventListeners[o]||(this.__eventListeners[o]=[]),this.__eventListeners[o].push(r),()=>this.off(o,r)}return()=>!1}once(n,r){if(typeof n=="object"){const o=[];return Object.entries(n).forEach(c=>{let[f,y]=c;o.push(this.once(f,y))}),()=>o.forEach(c=>c())}if(r){const o=this.on(n,function(){for(var c=arguments.length,f=new Array(c),y=0;y<c;y++)f[y]=arguments[y];r.call(this,...f),o()});return o}return()=>!1}_removeEventListener(n,r){if(this.__eventListeners[n])if(r){const o=this.__eventListeners[n],c=o.indexOf(r);c>-1&&o.splice(c,1)}else this.__eventListeners[n]=[]}off(n,r){if(this.__eventListeners)if(n===void 0)for(const o in this.__eventListeners)this._removeEventListener(o);else typeof n=="object"?Object.entries(n).forEach(o=>{let[c,f]=o;this._removeEventListener(c,f)}):this._removeEventListener(n,r)}fire(n,r){var o;if(!this.__eventListeners)return;const c=(o=this.__eventListeners[n])===null||o===void 0?void 0:o.concat();if(c)for(let f=0;f<c.length;f++)c[f].call(this,r||{})}}const mr=(x,n)=>Math.floor(Math.random()*(n-x+1))+x,bi=(x,n)=>isNaN(x)&&typeof n=="number"?n:x,qn=(x,n)=>{const r=x.indexOf(n);return r!==-1&&x.splice(r,1),x},Fi=x=>{if(x===0)return 1;switch(Math.abs(x)/E){case 1:case 3:return 0;case 2:return-1}return Math.cos(x)},pn=x=>{if(x===0)return 0;const n=x/E,r=Math.sign(x);switch(n){case 1:return r;case 2:return 0;case 3:return-r}return Math.sin(x)};class it{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof n=="object"?(this.x=n.x,this.y=n.y):(this.x=n,this.y=r)}add(n){return new it(this.x+n.x,this.y+n.y)}addEquals(n){return this.x+=n.x,this.y+=n.y,this}scalarAdd(n){return new it(this.x+n,this.y+n)}scalarAddEquals(n){return this.x+=n,this.y+=n,this}subtract(n){return new it(this.x-n.x,this.y-n.y)}subtractEquals(n){return this.x-=n.x,this.y-=n.y,this}scalarSubtract(n){return new it(this.x-n,this.y-n)}scalarSubtractEquals(n){return this.x-=n,this.y-=n,this}multiply(n){return new it(this.x*n.x,this.y*n.y)}scalarMultiply(n){return new it(this.x*n,this.y*n)}scalarMultiplyEquals(n){return this.x*=n,this.y*=n,this}divide(n){return new it(this.x/n.x,this.y/n.y)}scalarDivide(n){return new it(this.x/n,this.y/n)}scalarDivideEquals(n){return this.x/=n,this.y/=n,this}eq(n){return this.x===n.x&&this.y===n.y}lt(n){return this.x<n.x&&this.y<n.y}lte(n){return this.x<=n.x&&this.y<=n.y}gt(n){return this.x>n.x&&this.y>n.y}gte(n){return this.x>=n.x&&this.y>=n.y}lerp(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return r=Math.max(Math.min(1,r),0),new it(this.x+(n.x-this.x)*r,this.y+(n.y-this.y)*r)}distanceFrom(n){const r=this.x-n.x,o=this.y-n.y;return Math.sqrt(r*r+o*o)}midPointFrom(n){return this.lerp(n)}min(n){return new it(Math.min(this.x,n.x),Math.min(this.y,n.y))}max(n){return new it(Math.max(this.x,n.x),Math.max(this.y,n.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(n,r){return this.x=n,this.y=r,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setFromPoint(n){return this.x=n.x,this.y=n.y,this}swap(n){const r=this.x,o=this.y;this.x=n.x,this.y=n.y,n.x=r,n.y=o}clone(){return new it(this.x,this.y)}rotate(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vs;const o=pn(n),c=Fi(n),f=this.subtract(r);return new it(f.x*c-f.y*o,f.x*o+f.y*c).add(r)}transform(n){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new it(n[0]*this.x+n[2]*this.y+(r?0:n[4]),n[1]*this.x+n[3]*this.y+(r?0:n[5]))}}const Vs=new it(0,0),nr=x=>!!x&&Array.isArray(x._objects);function zr(x){class n extends x{constructor(){super(...arguments),u(this,"_objects",[])}_onObjectAdded(o){}_onObjectRemoved(o){}_onStackOrderChanged(o){}add(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];const y=this._objects.push(...c);return c.forEach(w=>this._onObjectAdded(w)),y}insertAt(o){for(var c=arguments.length,f=new Array(c>1?c-1:0),y=1;y<c;y++)f[y-1]=arguments[y];return this._objects.splice(o,0,...f),f.forEach(w=>this._onObjectAdded(w)),this._objects.length}remove(){const o=this._objects,c=[];for(var f=arguments.length,y=new Array(f),w=0;w<f;w++)y[w]=arguments[w];return y.forEach(R=>{const U=o.indexOf(R);U!==-1&&(o.splice(U,1),c.push(R),this._onObjectRemoved(R))}),c}forEachObject(o){this.getObjects().forEach((c,f,y)=>o(c,f,y))}getObjects(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];return c.length===0?[...this._objects]:this._objects.filter(y=>y.isType(...c))}item(o){return this._objects[o]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(o,c){return!!this._objects.includes(o)||!!c&&this._objects.some(f=>f instanceof n&&f.contains(o,!0))}complexity(){return this._objects.reduce((o,c)=>o+=c.complexity?c.complexity():0,0)}sendObjectToBack(o){return!(!o||o===this._objects[0])&&(qn(this._objects,o),this._objects.unshift(o),this._onStackOrderChanged(o),!0)}bringObjectToFront(o){return!(!o||o===this._objects[this._objects.length-1])&&(qn(this._objects,o),this._objects.push(o),this._onStackOrderChanged(o),!0)}sendObjectBackwards(o,c){if(!o)return!1;const f=this._objects.indexOf(o);if(f!==0){const y=this.findNewLowerIndex(o,f,c);return qn(this._objects,o),this._objects.splice(y,0,o),this._onStackOrderChanged(o),!0}return!1}bringObjectForward(o,c){if(!o)return!1;const f=this._objects.indexOf(o);if(f!==this._objects.length-1){const y=this.findNewUpperIndex(o,f,c);return qn(this._objects,o),this._objects.splice(y,0,o),this._onStackOrderChanged(o),!0}return!1}moveObjectTo(o,c){return o!==this._objects[c]&&(qn(this._objects,o),this._objects.splice(c,0,o),this._onStackOrderChanged(o),!0)}findNewLowerIndex(o,c,f){let y;if(f){y=c;for(let w=c-1;w>=0;--w)if(o.isOverlapping(this._objects[w])){y=w;break}}else y=c-1;return y}findNewUpperIndex(o,c,f){let y;if(f){y=c;for(let w=c+1;w<this._objects.length;++w)if(o.isOverlapping(this._objects[w])){y=w;break}}else y=c+1;return y}collectObjects(o){let{left:c,top:f,width:y,height:w}=o,{includeIntersecting:R=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const U=[],V=new it(c,f),be=V.add(new it(y,w));for(let De=this._objects.length-1;De>=0;De--){const nt=this._objects[De];nt.selectable&&nt.visible&&(R&&nt.intersectsWithRect(V,be)||nt.isContainedWithinRect(V,be)||R&&nt.containsPoint(V)||R&&nt.containsPoint(be))&&U.push(nt)}return U}}return n}class kr extends is{_setOptions(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const r in n)this.set(r,n[r])}_setObject(n){for(const r in n)this._set(r,n[r])}set(n,r){return typeof n=="object"?this._setObject(n):this._set(n,r),this}_set(n,r){this[n]=r}toggle(n){const r=this.get(n);return typeof r=="boolean"&&this.set(n,!r),this}get(n){return this[n]}}function Hn(x){return Ce().requestAnimationFrame(x)}function ce(x){return Ce().cancelAnimationFrame(x)}let Qt=0;const gn=()=>Qt++,Ft=()=>{const x=Oe().createElement("canvas");if(!x||x.getContext===void 0)throw new he("Failed to create `canvas` element");return x},on=()=>Oe().createElement("img"),Cn=(x,n,r)=>x.toDataURL("image/".concat(n),r),Or=x=>x*Ie,ds=x=>x/Ie,io=x=>x.every((n,r)=>n===Le[r]),$r=(x,n,r)=>new it(x).transform(n,r),fr=x=>{const n=1/(x[0]*x[3]-x[1]*x[2]),r=[n*x[3],-n*x[1],-n*x[2],n*x[0],0,0],{x:o,y:c}=new it(x[4],x[5]).transform(r,!0);return r[4]=-o,r[5]=-c,r},ir=(x,n,r)=>[x[0]*n[0]+x[2]*n[1],x[1]*n[0]+x[3]*n[1],x[0]*n[2]+x[2]*n[3],x[1]*n[2]+x[3]*n[3],r?0:x[0]*n[4]+x[2]*n[5]+x[4],r?0:x[1]*n[4]+x[3]*n[5]+x[5]],_r=(x,n)=>x.reduceRight((r,o)=>o&&r?ir(o,r,n):o||r,void 0)||Le.concat(),hs=x=>{let[n,r]=x;return Math.atan2(r,n)},dt=x=>{const n=hs(x),r=Math.pow(x[0],2)+Math.pow(x[1],2),o=Math.sqrt(r),c=(x[0]*x[3]-x[2]*x[1])/o,f=Math.atan2(x[0]*x[2]+x[1]*x[3],r);return{angle:ds(n),scaleX:o,scaleY:c,skewX:ds(f),skewY:0,translateX:x[4]||0,translateY:x[5]||0}},vt=function(x){return[1,0,0,1,x,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Ut(){let{angle:x=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:n=0,y:r=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=Or(x),c=Fi(o),f=pn(o);return[c,f,-f,c,n?n-(c*n-f*r):0,r?r-(f*n+c*r):0]}const ti=function(x){return[x,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,0,0]},Si=x=>Math.tan(Or(x)),Li=x=>[1,0,Si(x),1,0,0],Ds=x=>[1,Si(x),0,1,0,0],Sr=x=>{let{scaleX:n=1,scaleY:r=1,flipX:o=!1,flipY:c=!1,skewX:f=0,skewY:y=0}=x,w=ti(o?-n:n,c?-r:r);return f&&(w=ir(w,Li(f),!0)),y&&(w=ir(w,Ds(y),!0)),w},Ls=x=>{const{translateX:n=0,translateY:r=0,angle:o=0}=x;let c=vt(n,r);o&&(c=ir(c,Ut({angle:o})));const f=Sr(x);return io(f)||(c=ir(c,f)),c},Us=function(x){let{signal:n,crossOrigin:r=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(o,c){if(n&&n.aborted)return c(new ft("loadImage"));const f=on();let y;n&&(y=function(R){f.src="",c(R)},n.addEventListener("abort",y,{once:!0}));const w=function(){f.onload=f.onerror=null,y&&(n==null||n.removeEventListener("abort",y)),o(f)};x?(f.onload=w,f.onerror=function(){y&&(n==null||n.removeEventListener("abort",y)),c(new he("Error loading ".concat(f.src)))},r&&(f.crossOrigin=r),f.src=x):w()})},As=function(x){let{signal:n,reviver:r=Ue}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((o,c)=>{const f=[];n&&n.addEventListener("abort",c,{once:!0}),Promise.all(x.map(y=>dn.getClass(y.type).fromObject(y,{signal:n}).then(w=>(r(y,w),f.push(w),w)))).then(o).catch(y=>{f.forEach(w=>{w.dispose&&w.dispose()}),c(y)}).finally(()=>{n&&n.removeEventListener("abort",c)})})},yo=function(x){let{signal:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,o)=>{const c=[];n&&n.addEventListener("abort",o,{once:!0});const f=Object.values(x).map(w=>w&&(w.type?As([w],{signal:n}).then(R=>{let[U]=R;return c.push(U),U}):w.source?dn.getClass("pattern").fromObject(w,{signal:n}).then(R=>(c.push(R),R)):w)),y=Object.keys(x);Promise.all(f).then(w=>w.reduce((R,U,V)=>(R[y[V]]=U,R),{})).then(r).catch(w=>{c.forEach(R=>{R.dispose&&R.dispose()}),o(w)}).finally(()=>{n&&n.removeEventListener("abort",o)})})},Ss=function(x){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((n,r)=>(r in x&&(n[r]=x[r]),n),{})},wo=(x,n)=>Object.keys(x).reduce((r,o)=>(n(x[o],o,x)&&(r[o]=x[o]),r),{}),Mo={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},It=(x,n,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?x+6*(n-x)*r:r<.5?n:r<2/3?x+(n-x)*(2/3-r)*6:x),Rn=(x,n,r,o)=>{x/=255,n/=255,r/=255;const c=Math.max(x,n,r),f=Math.min(x,n,r);let y,w;const R=(c+f)/2;if(c===f)y=w=0;else{const U=c-f;switch(w=R>.5?U/(2-c-f):U/(c+f),c){case x:y=(n-r)/U+(n<r?6:0);break;case n:y=(r-x)/U+2;break;case r:y=(x-n)/U+4}y/=6}return[Math.round(360*y),Math.round(100*w),Math.round(100*R),o]},zn=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(x)/(x.endsWith("%")?100:1)},an=x=>Math.min(Math.round(x),255).toString(16).toUpperCase().padStart(2,"0"),Vn=x=>{let[n,r,o,c=1]=x;const f=Math.round(.3*n+.59*r+.11*o);return[f,f,f,c]};class Dn{constructor(n){if(u(this,"isUnrecognised",!1),n)if(n instanceof Dn)this.setSource([...n._source]);else if(Array.isArray(n)){const[r,o,c,f=1]=n;this.setSource([r,o,c,f])}else this.setSource(this._tryParsingColor(n));else this.setSource([0,0,0,1])}_tryParsingColor(n){return n in Mo&&(n=Mo[n]),n==="transparent"?[255,255,255,0]:Dn.sourceFromHex(n)||Dn.sourceFromRgb(n)||Dn.sourceFromHsl(n)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(n){this._source=n}toRgb(){const[n,r,o]=this.getSource();return"rgb(".concat(n,",").concat(r,",").concat(o,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[n,r,o]=Rn(...this.getSource());return"hsl(".concat(n,",").concat(r,"%,").concat(o,"%)")}toHsla(){const[n,r,o,c]=Rn(...this.getSource());return"hsla(".concat(n,",").concat(r,"%,").concat(o,"%,").concat(c,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[n,r,o,c]=this.getSource();return"".concat(an(n)).concat(an(r)).concat(an(o)).concat(an(Math.round(255*c)))}getAlpha(){return this.getSource()[3]}setAlpha(n){return this._source[3]=n,this}toGrayscale(){return this.setSource(Vn(this.getSource())),this}toBlackWhite(n){const[r,,,o]=Vn(this.getSource()),c=r<(n||127)?0:255;return this.setSource([c,c,c,o]),this}overlayWith(n){n instanceof Dn||(n=new Dn(n));const r=this.getSource(),o=n.getSource(),[c,f,y]=r.map((w,R)=>Math.round(.5*w+.5*o[R]));return this.setSource([c,f,y,r[3]]),this}static fromRgb(n){return Dn.fromRgba(n)}static fromRgba(n){return new Dn(Dn.sourceFromRgb(n))}static sourceFromRgb(n){const r=n.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(r){const[o,c,f]=r.slice(1,4).map(y=>{const w=parseFloat(y);return y.endsWith("%")?Math.round(2.55*w):w});return[o,c,f,zn(r[4])]}}static fromHsl(n){return Dn.fromHsla(n)}static fromHsla(n){return new Dn(Dn.sourceFromHsl(n))}static sourceFromHsl(n){const r=n.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!r)return;const o=(Dn.parseAngletoDegrees(r[1])%360+360)%360/360,c=parseFloat(r[2])/100,f=parseFloat(r[3])/100;let y,w,R;if(c===0)y=w=R=f;else{const U=f<=.5?f*(c+1):f+c-f*c,V=2*f-U;y=It(V,U,o+1/3),w=It(V,U,o),R=It(V,U,o-1/3)}return[Math.round(255*y),Math.round(255*w),Math.round(255*R),zn(r[4])]}static fromHex(n){return new Dn(Dn.sourceFromHex(n))}static sourceFromHex(n){if(n.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const r=n.slice(n.indexOf("#")+1);let o;o=r.length<=4?r.split("").map(R=>R+R):r.match(/.{2}/g);const[c,f,y,w=255]=o.map(R=>parseInt(R,16));return[c,f,y,w/255]}}static parseAngletoDegrees(n){const r=n.toLowerCase(),o=parseFloat(r);return r.includes("rad")?ds(o):r.includes("turn")?360*o:o}}const ri=(x,n)=>parseFloat(Number(x).toFixed(n)),Ni=function(x){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;const r=/\D{0,2}$/.exec(x),o=parseFloat(x),c=X.DPI;switch(r==null?void 0:r[0]){case"mm":return o*c/25.4;case"cm":return o*c/2.54;case"in":return o*c;case"pt":return o*c/72;case"pc":return o*c/72*12;case"em":return o*n;default:return o}},Hr=x=>{const[n,r]=x.trim().split(" "),[o,c]=(f=n)&&f!==ut?[f.slice(1,4),f.slice(5,8)]:f===ut?[f,f]:["Mid","Mid"];var f;return{meetOrSlice:r||"meet",alignX:o,alignY:c}},pr=x=>"matrix("+x.map(n=>ri(n,X.NUM_FRACTION_DIGITS)).join(" ")+")",Ir=function(x,n){let r,o,c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(n)if(n.toLive)r="url(#SVGID_".concat(n.id,")");else{const f=new Dn(n),y=f.getAlpha();r=f.toRgb(),y!==1&&(o=y.toString())}else r="none";return c?"".concat(x,": ").concat(r,"; ").concat(o?"".concat(x,"-opacity: ").concat(o,"; "):""):"".concat(x,'="').concat(r,'" ').concat(o?"".concat(x,'-opacity="').concat(o,'" '):"")},vr=x=>!!x&&x.toLive!==void 0,zs=x=>!!x&&typeof x.toObject=="function",so=x=>!!x&&x.offsetX!==void 0&&"source"in x,Xr=x=>!!x&&typeof x._renderText=="function",Ws=x=>!!x&&"multiSelectionStacking"in x;function jo(x){const n=x&&Js(x);let r=0,o=0;if(!x||!n)return{left:r,top:o};const c=n.documentElement,f=n.body||{scrollLeft:0,scrollTop:0};for(;x&&(x.parentNode||x.host)&&((x=x.parentNode||x.host)===n?(r=f.scrollLeft||c.scrollLeft||0,o=f.scrollTop||c.scrollTop||0):(r+=x.scrollLeft||0,o+=x.scrollTop||0),x.nodeType!==1||x.style.position!=="fixed"););return{left:r,top:o}}const Js=x=>x.ownerDocument||null,Qs=x=>{var n;return((n=x.ownerDocument)===null||n===void 0?void 0:n.defaultView)||null};function _i(x,n){const r=x.style;r&&(typeof n=="string"?x.style.cssText+=";"+n:Object.entries(n).forEach(o=>{let[c,f]=o;return r.setProperty(c,f)}))}const eo=function(x,n,r){let{width:o,height:c}=r,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;x.width=o,x.height=c,f>1&&(x.setAttribute("width",(o*f).toString()),x.setAttribute("height",(c*f).toString()),n.scale(f,f))},js=(x,n)=>{let{width:r,height:o}=n;r&&(x.style.width=typeof r=="number"?"".concat(r,"px"):r),o&&(x.style.height=typeof o=="number"?"".concat(o,"px"):o)};function Ps(x){return x.onselectstart!==void 0&&(x.onselectstart=()=>!1),x.style.userSelect=ut,x}class Vr{constructor(n){u(this,"_originalCanvasStyle",void 0),u(this,"lower",void 0);const r=this.createLowerCanvas(n);this.lower={el:r,ctx:r.getContext("2d")}}createLowerCanvas(n){const r=(o=n)&&o.getContext!==void 0?n:n&&Oe().getElementById(n)||Ft();var o;if(r.hasAttribute("data-fabric"))throw new he("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=r.style.cssText,r.setAttribute("data-fabric","main"),r.classList.add("lower-canvas"),r}cleanupDOM(n){let{width:r,height:o}=n;const{el:c}=this.lower;c.classList.remove("lower-canvas"),c.removeAttribute("data-fabric"),c.setAttribute("width","".concat(r)),c.setAttribute("height","".concat(o)),c.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(n,r){const{el:o,ctx:c}=this.lower;eo(o,c,n,r)}setCSSDimensions(n){js(this.lower.el,n)}calcOffset(){return function(n){var r;let o={left:0,top:0};const c=n&&Js(n),f={left:0,top:0},y={borderLeftWidth:Ht,borderTopWidth:Pn,paddingLeft:Ht,paddingTop:Pn};if(!c)return f;const w=((r=Qs(n))===null||r===void 0?void 0:r.getComputedStyle(n,null))||{};for(const V in y)f[y[V]]+=parseInt(w[V],10)||0;const R=c.documentElement;n.getBoundingClientRect!==void 0&&(o=n.getBoundingClientRect());const U=jo(n);return{left:o.left+U.left-(R.clientLeft||0)+f.left,top:o.top+U.top-(R.clientTop||0)+f.top}}(this.lower.el)}dispose(){Be().dispose(this.lower.el),delete this.lower}}const Wr={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...Le]};class Hi extends zr(kr){get lowerCanvasEl(){var n;return(n=this.elements.lower)===null||n===void 0?void 0:n.el}get contextContainer(){var n;return(n=this.elements.lower)===null||n===void 0?void 0:n.ctx}static getDefaults(){return Hi.ownDefaults}constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(r),this.initElements(n),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(n){this.elements=new Vr(n)}add(){const n=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),n}insertAt(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];const f=super.insertAt(n,...o);return o.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),f}remove(){const n=super.remove(...arguments);return n.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),n}_onObjectAdded(n){n.canvas&&n.canvas!==this&&(j("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),n.canvas.remove(n)),n._set("canvas",this),n.setCoords(),this.fire("object:added",{target:n}),n.fire("added",{target:this})}_onObjectRemoved(n){n._set("canvas",void 0),this.fire("object:removed",{target:n}),n.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?at():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(n,r){return this.setDimensions({width:n},r)}setHeight(n,r){return this.setDimensions({height:n},r)}_setDimensionsImpl(n){let{cssOnly:r=!1,backstoreOnly:o=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!r){const c=$({width:this.width,height:this.height},n);this.elements.setDimensions(c,this.getRetinaScaling()),this.hasLostContext=!0,this.width=c.width,this.height=c.height}o||this.elements.setCSSDimensions(n),this.calcOffset()}setDimensions(n,r){this._setDimensionsImpl(n,r),r&&r.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(n){this.viewportTransform=n,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(n,r){const o=n,c=[...this.viewportTransform],f=$r(n,fr(c));c[0]=r,c[3]=r;const y=$r(f,c);c[4]+=o.x-y.x,c[5]+=o.y-y.y,this.setViewportTransform(c)}setZoom(n){this.zoomToPoint(new it(0,0),n)}absolutePan(n){const r=[...this.viewportTransform];return r[4]=-n.x,r[5]=-n.y,this.setViewportTransform(r)}relativePan(n){return this.absolutePan(new it(-n.x-this.viewportTransform[4],-n.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(n){n.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Hn(()=>this.renderAndReset()))}calcViewportBoundaries(){const n=this.width,r=this.height,o=fr(this.viewportTransform),c=$r({x:0,y:0},o),f=$r({x:n,y:r},o),y=c.min(f),w=c.max(f);return this.vptCoords={tl:y,tr:new it(w.x,y.y),bl:new it(y.x,w.y),br:w}}cancelRequestedRender(){this.nextRenderHandle&&(ce(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(n){}renderCanvas(n,r){if(this.destroyed)return;const o=this.viewportTransform,c=this.clipPath;this.calcViewportBoundaries(),this.clearContext(n),n.imageSmoothingEnabled=this.imageSmoothingEnabled,n.patternQuality="best",this.fire("before:render",{ctx:n}),this._renderBackground(n),n.save(),n.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this._renderObjects(n,r),n.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(n),c&&(c._set("canvas",this),c.shouldCache(),c._transformDone=!0,c.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(n,c)),this._renderOverlay(n),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(n),this.fire("after:render",{ctx:n}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(n,r){const o=this.viewportTransform;n.save(),n.transform(...o),n.globalCompositeOperation="destination-in",r.transform(n),n.scale(1/r.zoomX,1/r.zoomY),n.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),n.restore()}_renderObjects(n,r){for(let o=0,c=r.length;o<c;++o)r[o]&&r[o].render(n)}_renderBackgroundOrOverlay(n,r){const o=this["".concat(r,"Color")],c=this["".concat(r,"Image")],f=this.viewportTransform,y=this["".concat(r,"Vpt")];if(!o&&!c)return;const w=vr(o);if(o){if(n.save(),n.beginPath(),n.moveTo(0,0),n.lineTo(this.width,0),n.lineTo(this.width,this.height),n.lineTo(0,this.height),n.closePath(),n.fillStyle=w?o.toLive(n):o,y&&n.transform(...f),w){n.transform(1,0,0,1,o.offsetX||0,o.offsetY||0);const R=o.gradientTransform||o.patternTransform;R&&n.transform(...R)}n.fill(),n.restore()}if(c){n.save();const{skipOffscreen:R}=this;this.skipOffscreen=y,y&&n.transform(...f),c.render(n),this.skipOffscreen=R,n.restore()}}_renderBackground(n){this._renderBackgroundOrOverlay(n,"background")}_renderOverlay(n){this._renderBackgroundOrOverlay(n,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new it(this.width/2,this.height/2)}centerObjectH(n){return this._centerObject(n,new it(this.getCenterPoint().x,n.getCenterPoint().y))}centerObjectV(n){return this._centerObject(n,new it(n.getCenterPoint().x,this.getCenterPoint().y))}centerObject(n){return this._centerObject(n,this.getCenterPoint())}viewportCenterObject(n){return this._centerObject(n,this.getVpCenter())}viewportCenterObjectH(n){return this._centerObject(n,new it(this.getVpCenter().x,n.getCenterPoint().y))}viewportCenterObjectV(n){return this._centerObject(n,new it(n.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return $r(this.getCenterPoint(),fr(this.viewportTransform))}_centerObject(n,r){n.setXY(r,lt,lt),n.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(n){return this.toDatalessObject(n)}toObject(n){return this._toObjectMethod("toObject",n)}toJSON(){return this.toObject()}toDatalessObject(n){return this._toObjectMethod("toDatalessObject",n)}_toObjectMethod(n,r){const o=this.clipPath,c=o&&!o.excludeFromExport?this._toObject(o,n,r):null;return $($($({version:we},Ss(this,r)),{},{objects:this._objects.filter(f=>!f.excludeFromExport).map(f=>this._toObject(f,n,r))},this.__serializeBgOverlay(n,r)),c?{clipPath:c}:null)}_toObject(n,r,o){let c;this.includeDefaultValues||(c=n.includeDefaultValues,n.includeDefaultValues=!1);const f=n[r](o);return this.includeDefaultValues||(n.includeDefaultValues=!!c),f}__serializeBgOverlay(n,r){const o={},c=this.backgroundImage,f=this.overlayImage,y=this.backgroundColor,w=this.overlayColor;return vr(y)?y.excludeFromExport||(o.background=y.toObject(r)):y&&(o.background=y),vr(w)?w.excludeFromExport||(o.overlay=w.toObject(r)):w&&(o.overlay=w),c&&!c.excludeFromExport&&(o.backgroundImage=this._toObject(c,n,r)),f&&!f.excludeFromExport&&(o.overlayImage=this._toObject(f,n,r)),o}toSVG(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;n.reviver=r;const o=[];return this._setSVGPreamble(o,n),this._setSVGHeader(o,n),this.clipPath&&o.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(o,"background"),this._setSVGBgOverlayImage(o,"backgroundImage",r),this._setSVGObjects(o,r),this.clipPath&&o.push(`</g>
`),this._setSVGBgOverlayColor(o,"overlay"),this._setSVGBgOverlayImage(o,"overlayImage",r),o.push("</svg>"),o.join("")}_setSVGPreamble(n,r){r.suppressPreamble||n.push('<?xml version="1.0" encoding="',r.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(n,r){const o=r.width||"".concat(this.width),c=r.height||"".concat(this.height),f=X.NUM_FRACTION_DIGITS,y=r.viewBox;let w;if(y)w='viewBox="'.concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height,'" ');else if(this.svgViewportTransformation){const R=this.viewportTransform;w='viewBox="'.concat(ri(-R[4]/R[0],f)," ").concat(ri(-R[5]/R[3],f)," ").concat(ri(this.width/R[0],f)," ").concat(ri(this.height/R[3],f),'" ')}else w='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');n.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',c,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",we,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(r),`</defs>
`)}createSVGClipPathMarkup(n){const r=this.clipPath;return r?(r.clipPathId="CLIPPATH_".concat(gn()),'<clipPath id="'.concat(r.clipPathId,`" >
`).concat(r.toClipPathSVG(n.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(n=>{const r=this["".concat(n,"Color")];if(vr(r)){const o=this["".concat(n,"Vpt")],c=this.viewportTransform,f={isType:()=>!1,width:this.width/(o?c[0]:1),height:this.height/(o?c[3]:1)};return r.toSVG(f,{additionalTransform:o?pr(c):""})}}).join("")}createSVGFontFacesMarkup(){const n=[],r={},o=X.fontPaths;this._objects.forEach(function f(y){n.push(y),nr(y)&&y._objects.forEach(f)}),n.forEach(f=>{if(!Xr(f))return;const{styles:y,fontFamily:w}=f;!r[w]&&o[w]&&(r[w]=!0,y&&Object.values(y).forEach(R=>{Object.values(R).forEach(U=>{let{fontFamily:V=""}=U;!r[V]&&o[V]&&(r[V]=!0)})}))});const c=Object.keys(r).map(f=>`		@font-face {
			font-family: '`.concat(f,`';
			src: url('`).concat(o[f],`');
		}
`)).join("");return c?`	<style type="text/css"><![CDATA[
`.concat(c,`]]></style>
`):""}_setSVGObjects(n,r){this.forEachObject(o=>{o.excludeFromExport||this._setSVGObject(n,o,r)})}_setSVGObject(n,r,o){n.push(r.toSVG(o))}_setSVGBgOverlayImage(n,r,o){const c=this[r];c&&!c.excludeFromExport&&c.toSVG&&n.push(c.toSVG(o))}_setSVGBgOverlayColor(n,r){const o=this["".concat(r,"Color")];if(o)if(vr(o)){const c=o.repeat||"",f=this.width,y=this.height,w=this["".concat(r,"Vpt")]?pr(fr(this.viewportTransform)):"";n.push('<rect transform="'.concat(w," translate(").concat(f/2,",").concat(y/2,')" x="').concat(o.offsetX-f/2,'" y="').concat(o.offsetY-y/2,'" width="').concat(c!=="repeat-y"&&c!=="no-repeat"||!so(o)?f:o.source.width,'" height="').concat(c!=="repeat-x"&&c!=="no-repeat"||!so(o)?y:o.source.height,'" fill="url(#SVGID_').concat(o.id,`)"></rect>
`))}else n.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',o,'"',`></rect>
`)}loadFromJSON(n,r){let{signal:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n)return Promise.reject(new he("`json` is undefined"));const c=typeof n=="string"?JSON.parse(n):n,{objects:f=[],backgroundImage:y,background:w,overlayImage:R,overlay:U,clipPath:V}=c,be=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([As(f,{reviver:r,signal:o}),yo({backgroundImage:y,backgroundColor:w,overlayImage:R,overlayColor:U,clipPath:V},{signal:o})]).then(De=>{let[nt,wt]=De;return this.clear(),this.add(...nt),this.set(c),this.set(wt),this.renderOnAddRemove=be,this})}clone(n){const r=this.toObject(n);return this.cloneWithoutData().loadFromJSON(r)}cloneWithoutData(){const n=Ft();return n.width=this.width,n.height=this.height,new this.constructor(n)}toDataURL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:r="png",quality:o=1,multiplier:c=1,enableRetinaScaling:f=!1}=n,y=c*(f?this.getRetinaScaling():1);return Cn(this.toCanvasElement(y,n),r,o)}toCanvasElement(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:r,height:o,left:c,top:f,filter:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=(r||this.width)*n,R=(o||this.height)*n,U=this.getZoom(),V=this.width,be=this.height,De=this.skipControlsDrawing,nt=U*n,wt=this.viewportTransform,Xt=[nt,0,0,nt,(wt[4]-(c||0))*n,(wt[5]-(f||0))*n],fn=this.enableRetinaScaling,bn=Ft(),Oi=y?this._objects.filter(Fr=>y(Fr)):this._objects;return bn.width=w,bn.height=R,this.enableRetinaScaling=!1,this.viewportTransform=Xt,this.width=w,this.height=R,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(bn.getContext("2d"),Oi),this.viewportTransform=wt,this.width=V,this.height=be,this.calcViewportBoundaries(),this.enableRetinaScaling=fn,this.skipControlsDrawing=De,bn}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),Rr.cancelByCanvas(this),this.disposed=!0,new Promise((n,r)=>{const o=()=>{this.destroy(),n(!0)};o.kill=r,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?n(!1):this.nextRenderHandle?this.__cleanupTask=o:o()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(n=>n.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}u(Hi,"ownDefaults",Wr);const qr=["touchstart","touchmove","touchend"],Jr=x=>{const n=jo(x.target),r=function(o){const c=o.changedTouches;return c&&c[0]?c[0]:o}(x);return new it(r.clientX+n.left,r.clientY+n.top)},gr=x=>qr.includes(x.type)||x.pointerType==="touch",oo=x=>{x.preventDefault(),x.stopPropagation()},Yi=x=>{if(x.length===0)return{left:0,top:0,width:0,height:0};const{min:n,max:r}=x.reduce((c,f)=>{let{min:y,max:w}=c;return{min:y.min(f),max:w.max(f)}},{min:new it(x[0]),max:new it(x[0])}),o=r.subtract(n);return{left:n.x,top:n.y,width:o.x,height:o.y}},to=["translateX","translateY","scaleX","scaleY"],Ho=(x,n)=>Ns(x,ir(n,x.calcOwnMatrix())),Ns=(x,n)=>{const r=dt(n),{translateX:o,translateY:c,scaleX:f,scaleY:y}=r,w=de(r,to),R=new it(o,c);x.flipX=!1,x.flipY=!1,Object.assign(x,w),x.set({scaleX:f,scaleY:y}),x.setPositionByOrigin(R,lt,lt)},Zo=x=>{x.scaleX=1,x.scaleY=1,x.skewX=0,x.skewY=0,x.flipX=!1,x.flipY=!1,x.rotate(0)},Go=x=>({scaleX:x.scaleX,scaleY:x.scaleY,skewX:x.skewX,skewY:x.skewY,angle:x.angle,left:x.left,flipX:x.flipX,flipY:x.flipY,top:x.top}),ys=(x,n,r)=>{const o=x/2,c=n/2,f=[new it(-o,-c),new it(o,-c),new it(-o,c),new it(o,c)].map(w=>w.transform(r)),y=Yi(f);return new it(y.width,y.height)},qi=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Le;return ir(fr(arguments.length>1&&arguments[1]!==void 0?arguments[1]:Le),x)},Ui=function(x){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Le,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Le;return x.transform(qi(n,r))},Ei=function(x){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Le,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Le;return x.transform(qi(n,r),!0)},xo=(x,n,r)=>{const o=qi(n,r);return Ns(x,ir(o,x.calcOwnMatrix())),o},Os=(x,n)=>{var r;const{transform:{target:o}}=n;(r=o.canvas)===null||r===void 0||r.fire("object:".concat(x),$($({},n),{},{target:o})),o.fire(x,n)},Xo={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Ks=x=>typeof x=="string"?Xo[x]:x-.5,Ea="not-allowed";function Ao(x){return Ks(x.originX)===Ks(lt)&&Ks(x.originY)===Ks(lt)}function bo(x){return .5-Ks(x)}const Yo=(x,n)=>x[n],Po=(x,n,r,o)=>({e:x,transform:n,pointer:new it(r,o)});function zo(x,n){const r=x.getTotalAngle()+ds(Math.atan2(n.y,n.x))+360;return Math.round(r%360/45)}function Eo(x,n,r,o,c){var f;let{target:y,corner:w}=x;const R=y.controls[w],U=((f=y.canvas)===null||f===void 0?void 0:f.getZoom())||1,V=y.padding/U,be=function(De,nt,wt,Xt){const fn=De.getRelativeCenterPoint(),bn=wt!==void 0&&Xt!==void 0?De.translateToGivenOrigin(fn,lt,lt,wt,Xt):new it(De.left,De.top);return(De.angle?nt.rotate(-Or(De.angle),fn):nt).subtract(bn)}(y,new it(o,c),n,r);return be.x>=V&&(be.x-=V),be.x<=-V&&(be.x+=V),be.y>=V&&(be.y-=V),be.y<=V&&(be.y+=V),be.x-=R.offsetX,be.y-=R.offsetY,be}const ma=(x,n,r,o)=>{const{target:c,offsetX:f,offsetY:y}=n,w=r-f,R=o-y,U=!Yo(c,"lockMovementX")&&c.left!==w,V=!Yo(c,"lockMovementY")&&c.top!==R;return U&&c.set(Ht,w),V&&c.set(Pn,R),(U||V)&&Os(ot,Po(x,n,r,o)),U||V};class uo{getSvgStyles(n){const r=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):ut,f=this.strokeDashOffset?this.strokeDashOffset:"0",y=this.strokeLineCap?this.strokeLineCap:"butt",w=this.strokeLineJoin?this.strokeLineJoin:"miter",R=this.strokeMiterLimit?this.strokeMiterLimit:"4",U=this.opacity!==void 0?this.opacity:"1",V=this.visible?"":" visibility: hidden;",be=n?"":this.getSvgFilter(),De=Ir(rn,this.fill);return[Ir(cn,this.stroke),"stroke-width: ",o,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",y,"; ","stroke-dashoffset: ",f,"; ","stroke-linejoin: ",w,"; ","stroke-miterlimit: ",R,"; ",De,"fill-rule: ",r,"; ","opacity: ",U,";",be,V].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const o=n?this.calcTransformMatrix():this.calcOwnMatrix(),c='transform="'.concat(pr(o));return"".concat(c).concat(r,'" ')}_toSVG(n){return[""]}toSVG(n){return this._createBaseSVGMarkup(this._toSVG(n),{reviver:n})}toClipPathSVG(n){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(n),{reviver:n})}_createBaseClipPathSVGMarkup(n){let{reviver:r,additionalTransform:o=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=[this.getSvgTransform(!0,o),this.getSvgCommons()].join(""),f=n.indexOf("COMMON_PARTS");return n[f]=c,r?r(n.join("")):n.join("")}_createBaseSVGMarkup(n){let{noStyle:r,reviver:o,withShadow:c,additionalTransform:f}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const y=r?"":'style="'.concat(this.getSvgStyles(),'" '),w=c?'style="'.concat(this.getSvgFilter(),'" '):"",R=this.clipPath,U=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",V=R&&R.absolutePositioned,be=this.stroke,De=this.fill,nt=this.shadow,wt=[],Xt=n.indexOf("COMMON_PARTS");let fn;R&&(R.clipPathId="CLIPPATH_".concat(gn()),fn='<clipPath id="'.concat(R.clipPathId,`" >
`).concat(R.toClipPathSVG(o),`</clipPath>
`)),V&&wt.push("<g ",w,this.getSvgCommons(),` >
`),wt.push("<g ",this.getSvgTransform(!1),V?"":w+this.getSvgCommons(),` >
`);const bn=[y,U,r?"":this.addPaintOrder()," ",f?'transform="'.concat(f,'" '):""].join("");return n[Xt]=bn,vr(De)&&wt.push(De.toSVG(this)),vr(be)&&wt.push(be.toSVG(this)),nt&&wt.push(nt.toSVG(this)),R&&wt.push(fn),wt.push(n.join("")),wt.push(`</g>
`),V&&wt.push(`</g>
`),o?o(wt.join("")):wt.join("")}addPaintOrder(){return this.paintFirst!==rn?' paint-order="'.concat(this.paintFirst,'" '):""}}const Wa=(x,n,r,o)=>(x<Math.abs(n)?(x=n,o=r/4):o=n===0&&x===0?r/tt*Math.asin(1):r/tt*Math.asin(n/x),{a:x,c:n,p:r,s:o}),bl=(x,n,r,o,c)=>x*Math.pow(2,10*(o-=1))*Math.sin((o*c-n)*tt/r),ka=(x,n,r,o)=>-r*Math.cos(x/o*E)+r+n,Al=(x,n,r,o)=>(x/=o)<1/2.75?r*(7.5625*x*x)+n:x<2/2.75?r*(7.5625*(x-=1.5/2.75)*x+.75)+n:x<2.5/2.75?r*(7.5625*(x-=2.25/2.75)*x+.9375)+n:r*(7.5625*(x-=2.625/2.75)*x+.984375)+n,ic=(x,n,r,o)=>r-Al(o-x,0,r,o)+n;var ja=Object.freeze({__proto__:null,defaultEasing:ka,easeInBack:function(x,n,r,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return r*(x/=o)*x*((c+1)*x-c)+n},easeInBounce:ic,easeInCirc:(x,n,r,o)=>-r*(Math.sqrt(1-(x/=o)*x)-1)+n,easeInCubic:(x,n,r,o)=>r*Uo(x/o,3)+n,easeInElastic:(x,n,r,o)=>{const c=r;let f=0;if(x===0)return n;if((x/=o)===1)return n+r;f||(f=.3*o);const{a:y,s:w,p:R}=Wa(c,r,f,1.70158);return-bl(y,w,R,x,o)+n},easeInExpo:(x,n,r,o)=>x===0?n:r*Uo(2,10*(x/o-1))+n,easeInOutBack:function(x,n,r,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(x/=o/2)<1?r/2*(x*x*((1+(c*=1.525))*x-c))+n:r/2*((x-=2)*x*((1+(c*=1.525))*x+c)+2)+n},easeInOutBounce:(x,n,r,o)=>x<o/2?.5*ic(2*x,0,r,o)+n:.5*Al(2*x-o,0,r,o)+.5*r+n,easeInOutCirc:(x,n,r,o)=>(x/=o/2)<1?-r/2*(Math.sqrt(1-Uo(x,2))-1)+n:r/2*(Math.sqrt(1-(x-=2)*x)+1)+n,easeInOutCubic:(x,n,r,o)=>(x/=o/2)<1?r/2*Uo(x,3)+n:r/2*(Uo(x-2,3)+2)+n,easeInOutElastic:(x,n,r,o)=>{const c=r;let f=0;if(x===0)return n;if((x/=o/2)===2)return n+r;f||(f=o*(.3*1.5));const{a:y,s:w,p:R,c:U}=Wa(c,r,f,1.70158);return x<1?-.5*bl(y,w,R,x,o)+n:y*Math.pow(2,-10*(x-=1))*Math.sin((x*o-w)*tt/R)*.5+U+n},easeInOutExpo:(x,n,r,o)=>x===0?n:x===o?n+r:(x/=o/2)<1?r/2*Uo(2,10*(x-1))+n:r/2*-(Uo(2,-10*--x)+2)+n,easeInOutQuad:(x,n,r,o)=>(x/=o/2)<1?r/2*Uo(x,2)+n:-r/2*(--x*(x-2)-1)+n,easeInOutQuart:(x,n,r,o)=>(x/=o/2)<1?r/2*Uo(x,4)+n:-r/2*((x-=2)*Uo(x,3)-2)+n,easeInOutQuint:(x,n,r,o)=>(x/=o/2)<1?r/2*Uo(x,5)+n:r/2*(Uo(x-2,5)+2)+n,easeInOutSine:(x,n,r,o)=>-r/2*(Math.cos(Math.PI*x/o)-1)+n,easeInQuad:(x,n,r,o)=>r*(x/=o)*x+n,easeInQuart:(x,n,r,o)=>r*(x/=o)*Uo(x,3)+n,easeInQuint:(x,n,r,o)=>r*Uo(x/o,5)+n,easeInSine:(x,n,r,o)=>-r*Math.cos(x/o*E)+r+n,easeOutBack:function(x,n,r,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return r*((x=x/o-1)*x*((c+1)*x+c)+1)+n},easeOutBounce:Al,easeOutCirc:(x,n,r,o)=>r*Math.sqrt(1-(x=x/o-1)*x)+n,easeOutCubic:(x,n,r,o)=>r*(Uo(x/o-1,3)+1)+n,easeOutElastic:(x,n,r,o)=>{const c=r;let f=0;if(x===0)return n;if((x/=o)===1)return n+r;f||(f=.3*o);const{a:y,s:w,p:R,c:U}=Wa(c,r,f,1.70158);return y*Uo(2,-10*x)*Math.sin((x*o-w)*tt/R)+U+n},easeOutExpo:(x,n,r,o)=>x===o?n+r:r*-(Uo(2,-10*x/o)+1)+n,easeOutQuad:(x,n,r,o)=>-r*(x/=o)*(x-2)+n,easeOutQuart:(x,n,r,o)=>-r*((x=x/o-1)*Uo(x,3)-1)+n,easeOutQuint:(x,n,r,o)=>r*(Uo(x/o-1,5)+1)+n,easeOutSine:(x,n,r,o)=>r*Math.sin(x/o*E)+n});const hl=()=>!1;class na{constructor(n){let{startValue:r,byValue:o,duration:c=500,delay:f=0,easing:y=ka,onStart:w=Ue,onChange:R=Ue,onComplete:U=Ue,abort:V=hl,target:be}=n;u(this,"_state","pending"),u(this,"durationProgress",0),u(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=c,this.delay=f,this.easing=y,this._onStart=w,this._onChange=R,this._onComplete=U,this._abort=V,this.target=be,this.startValue=r,this.byValue=o,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const n=r=>{this._state==="pending"&&(this.startTime=r||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>Hn(n),this.delay):Hn(n)}tick(n){const r=(n||+new Date)-this.startTime,o=Math.min(r,this.duration);this.durationProgress=o/this.duration;const{value:c,valueProgress:f}=this.calculate(o);this.value=Object.freeze(c),this.valueProgress=f,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):r>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Hn(this.tick)))}register(){Rr.push(this)}unregister(){Rr.remove(this)}abort(){this._state="aborted",this.unregister()}}const Za=["startValue","endValue"];class $a extends na{constructor(n){let{startValue:r=0,endValue:o=100}=n;super($($({},de(n,Za)),{},{startValue:r,byValue:o-r}))}calculate(n){const r=this.easing(n,this.startValue,this.byValue,this.duration);return{value:r,valueProgress:Math.abs((r-this.startValue)/this.byValue)}}}const Pl=["startValue","endValue"];class Ze extends na{constructor(n){let{startValue:r=[0],endValue:o=[100]}=n;super($($({},de(n,Pl)),{},{startValue:r,byValue:o.map((c,f)=>c-r[f])}))}calculate(n){const r=this.startValue.map((o,c)=>this.easing(n,o,this.byValue[c],this.duration,c));return{value:r,valueProgress:Math.abs((r[0]-this.startValue[0])/this.byValue[0])}}}const te=(x,n,r)=>Math.max(x,Math.min(n,r)),H=["startValue","endValue","easing","onChange","onComplete","abort"],le=(x,n,r,o)=>n+r*(1-Math.cos(x/o*E)),ie=x=>x&&((n,r,o)=>x(new Dn(n).toRgba(),r,o));class $e extends na{constructor(n){let{startValue:r,endValue:o,easing:c=le,onChange:f,onComplete:y,abort:w}=n,R=de(n,H);const U=new Dn(r).getSource(),V=new Dn(o).getSource();super($($({},R),{},{startValue:U,byValue:V.map((be,De)=>be-U[De]),easing:c,onChange:ie(f),onComplete:ie(y),abort:ie(w)}))}calculate(n){const[r,o,c,f]=this.startValue.map((w,R)=>this.easing(n,w,this.byValue[R],this.duration,R)),y=[...[r,o,c].map(Math.round),te(0,f,1)];return{value:y,valueProgress:y.map((w,R)=>this.byValue[R]!==0?Math.abs((w-this.startValue[R])/this.byValue[R]):0).find(w=>w!==0)||0}}}function Fe(x){const n=(r=>Array.isArray(r.startValue)||Array.isArray(r.endValue))(x)?new Ze(x):new $a(x);return n.start(),n}function zt(x){const n=new $e(x);return n.start(),n}const sn=new it(1,0),On=new it,Yt=(x,n)=>x.rotate(n),g=(x,n)=>new it(n).subtract(x),b=x=>x.distanceFrom(On),T=(x,n)=>Math.atan2(J(x,n),_e(x,n)),D=x=>T(sn,x),k=x=>x.eq(On)?x:x.scalarDivide(b(x)),z=function(x){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return k(new it(-x.y,x.x).scalarMultiply(n?1:-1))},J=(x,n)=>x.x*n.y-x.y*n.x,_e=(x,n)=>x.x*n.x+x.y*n.y,Me=(x,n,r)=>{if(x.eq(n)||x.eq(r))return!0;const o=J(n,r),c=J(n,x),f=J(r,x);return o>=0?c>=0&&f<=0:!(c<=0&&f>=0)};class He{constructor(n){this.status=n,this.points=[]}includes(n){return this.points.some(r=>r.eq(n))}append(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return this.points=this.points.concat(r.filter(c=>!this.includes(c))),this}static isPointContained(n,r,o){let c=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(r.eq(o))return n.eq(r);if(r.x===o.x)return n.x===r.x&&(c||n.y>=Math.min(r.y,o.y)&&n.y<=Math.max(r.y,o.y));if(r.y===o.y)return n.y===r.y&&(c||n.x>=Math.min(r.x,o.x)&&n.x<=Math.max(r.x,o.x));{const f=g(r,o),y=g(r,n).divide(f);return c?Math.abs(y.x)===Math.abs(y.y):y.x===y.y&&y.x>=0&&y.x<=1}}static isPointInPolygon(n,r){const o=new it(n).setX(Math.min(n.x-1,...r.map(f=>f.x)));let c=0;for(let f=0;f<r.length;f++){const y=this.intersectSegmentSegment(r[f],r[(f+1)%r.length],n,o);if(y.includes(n))return!0;c+=+(y.status==="Intersection")}return c%2==1}static intersectLineLine(n,r,o,c){let f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],y=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const w=r.x-n.x,R=r.y-n.y,U=c.x-o.x,V=c.y-o.y,be=n.x-o.x,De=n.y-o.y,nt=U*De-V*be,wt=w*De-R*be,Xt=V*w-U*R;if(Xt!==0){const fn=nt/Xt,bn=wt/Xt;return(f||0<=fn&&fn<=1)&&(y||0<=bn&&bn<=1)?new He("Intersection").append(new it(n.x+fn*w,n.y+fn*R)):new He}if(nt===0||wt===0){const fn=f||y||He.isPointContained(n,o,c)||He.isPointContained(r,o,c)||He.isPointContained(o,n,r)||He.isPointContained(c,n,r);return new He(fn?"Coincident":void 0)}return new He("Parallel")}static intersectSegmentLine(n,r,o,c){return He.intersectLineLine(n,r,o,c,!1,!0)}static intersectSegmentSegment(n,r,o,c){return He.intersectLineLine(n,r,o,c,!1,!1)}static intersectLinePolygon(n,r,o){let c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const f=new He,y=o.length;for(let w,R,U,V=0;V<y;V++){if(w=o[V],R=o[(V+1)%y],U=He.intersectLineLine(n,r,w,R,c,!1),U.status==="Coincident")return U;f.append(...U.points)}return f.points.length>0&&(f.status="Intersection"),f}static intersectSegmentPolygon(n,r,o){return He.intersectLinePolygon(n,r,o,!1)}static intersectPolygonPolygon(n,r){const o=new He,c=n.length,f=[];for(let y=0;y<c;y++){const w=n[y],R=n[(y+1)%c],U=He.intersectSegmentPolygon(w,R,r);U.status==="Coincident"?(f.push(U),o.append(w,R)):o.append(...U.points)}return f.length>0&&f.length===n.length?new He("Coincident"):(o.points.length>0&&(o.status="Intersection"),o)}static intersectPolygonRectangle(n,r,o){const c=r.min(o),f=r.max(o),y=new it(f.x,c.y),w=new it(c.x,f.y);return He.intersectPolygonPolygon(n,[c,y,f,w])}}class Dt extends kr{_getTransformedDimensions(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=$({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},n),o=r.strokeWidth;let c=o,f=0;this.strokeUniform&&(c=0,f=o);const y=r.width+c,w=r.height+c;let R;return R=r.skewX===0&&r.skewY===0?new it(y*r.scaleX,w*r.scaleY):ys(y,w,Sr(r)),R.scalarAdd(f)}translateToGivenOrigin(n,r,o,c,f){let y=n.x,w=n.y;const R=Ks(c)-Ks(r),U=Ks(f)-Ks(o);if(R||U){const V=this._getTransformedDimensions();y+=R*V.x,w+=U*V.y}return new it(y,w)}translateToCenterPoint(n,r,o){const c=this.translateToGivenOrigin(n,r,o,lt,lt);return this.angle?c.rotate(Or(this.angle),n):c}translateToOriginPoint(n,r,o){const c=this.translateToGivenOrigin(n,lt,lt,r,o);return this.angle?c.rotate(Or(this.angle),n):c}getCenterPoint(){const n=this.getRelativeCenterPoint();return this.group?$r(n,this.group.calcTransformMatrix()):n}getRelativeCenterPoint(){return this.translateToCenterPoint(new it(this.left,this.top),this.originX,this.originY)}getPointByOrigin(n,r){return this.translateToOriginPoint(this.getRelativeCenterPoint(),n,r)}setPositionByOrigin(n,r,o){const c=this.translateToCenterPoint(n,r,o),f=this.translateToOriginPoint(c,this.originX,this.originY);this.set({left:f.x,top:f.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ht,Pn)}}class tn extends Dt{getX(){return this.getXY().x}setX(n){this.setXY(this.getXY().setX(n))}getY(){return this.getXY().y}setY(n){this.setXY(this.getXY().setY(n))}getRelativeX(){return this.left}setRelativeX(n){this.left=n}getRelativeY(){return this.top}setRelativeY(n){this.top=n}getXY(){const n=this.getRelativeXY();return this.group?$r(n,this.group.calcTransformMatrix()):n}setXY(n,r,o){this.group&&(n=$r(n,fr(this.group.calcTransformMatrix()))),this.setRelativeXY(n,r,o)}getRelativeXY(){return new it(this.left,this.top)}setRelativeXY(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(n,r,o)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:n,tr:r,br:o,bl:c}=this.aCoords||(this.aCoords=this.calcACoords()),f=[n,r,o,c];if(this.group){const y=this.group.calcTransformMatrix();return f.map(w=>$r(w,y))}return f}intersectsWithRect(n,r){return He.intersectPolygonRectangle(this.getCoords(),n,r).status==="Intersection"}intersectsWithObject(n){const r=He.intersectPolygonPolygon(this.getCoords(),n.getCoords());return r.status==="Intersection"||r.status==="Coincident"||n.isContainedWithinObject(this)||this.isContainedWithinObject(n)}isContainedWithinObject(n){return this.getCoords().every(r=>n.containsPoint(r))}isContainedWithinRect(n,r){const{left:o,top:c,width:f,height:y}=this.getBoundingRect();return o>=n.x&&o+f<=r.x&&c>=n.y&&c+y<=r.y}isOverlapping(n){return this.intersectsWithObject(n)||this.isContainedWithinObject(n)||n.isContainedWithinObject(this)}containsPoint(n){return He.isPointInPolygon(n,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:n,br:r}=this.canvas.vptCoords;return!!this.getCoords().some(o=>o.x<=r.x&&o.x>=n.x&&o.y<=r.y&&o.y>=n.y)||!!this.intersectsWithRect(n,r)||this.containsPoint(n.midPointFrom(r))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:n,br:r}=this.canvas.vptCoords;return this.intersectsWithRect(n,r)?!0:this.getCoords().every(o=>(o.x>=r.x||o.x<=n.x)&&(o.y>=r.y||o.y<=n.y))&&this.containsPoint(n.midPointFrom(r))}getBoundingRect(){return Yi(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(n){this._set(Gt,n),this._set(Bt,n),this.setCoords()}scaleToWidth(n){const r=this.getBoundingRect().width/this.getScaledWidth();return this.scale(n/this.width/r)}scaleToHeight(n){const r=this.getBoundingRect().height/this.getScaledHeight();return this.scale(n/this.height/r)}getCanvasRetinaScaling(){var n;return((n=this.canvas)===null||n===void 0?void 0:n.getRetinaScaling())||1}getTotalAngle(){return this.group?ds(hs(this.calcTransformMatrix())):this.angle}getViewportTransform(){var n;return((n=this.canvas)===null||n===void 0?void 0:n.viewportTransform)||Le.concat()}calcACoords(){const n=Ut({angle:this.angle}),{x:r,y:o}=this.getRelativeCenterPoint(),c=vt(r,o),f=ir(c,n),y=this._getTransformedDimensions(),w=y.x/2,R=y.y/2;return{tl:$r({x:-w,y:-R},f),tr:$r({x:w,y:-R},f),bl:$r({x:-w,y:R},f),br:$r({x:w,y:R},f)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=[];return!n&&this.group&&(r=this.group.transformMatrixKey(n)),r.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Ks(this.originX),Ks(this.originY)),r}calcTransformMatrix(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this.calcOwnMatrix();if(n||!this.group)return r;const o=this.transformMatrixKey(n),c=this.matrixCache;return c&&c.key.every((f,y)=>f===o[y])?c.value:(this.group&&(r=ir(this.group.calcTransformMatrix(!1),r)),this.matrixCache={key:o,value:r},r)}calcOwnMatrix(){const n=this.transformMatrixKey(!0),r=this.ownMatrixCache;if(r&&r.key===n)return r.value;const o=this.getRelativeCenterPoint(),c={angle:this.angle,translateX:o.x,translateY:o.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},f=Ls(c);return this.ownMatrixCache={key:n,value:f},f}_getNonTransformedDimensions(){return new it(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(n){return this._getTransformedDimensions(n).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}}class Et extends tn{isDescendantOf(n){const{parent:r,group:o}=this;return r===n||o===n||this.canvas===n||!!r&&r.isDescendantOf(n)||!!o&&o!==r&&o.isDescendantOf(n)}getAncestors(){const n=[];let r=this;do r=r instanceof Et?r.parent:void 0,r&&n.push(r);while(r);return n}findCommonAncestors(n){if(this===n)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const r=this.getAncestors(),o=n.getAncestors();if(r.length===0&&o.length>0&&this===o[o.length-1])return{fork:[],otherFork:[n,...o.slice(0,o.length-1)],common:[this]};for(let c,f=0;f<r.length;f++){if(c=r[f],c===n)return{fork:[this,...r.slice(0,f)],otherFork:[],common:r.slice(f)};for(let y=0;y<o.length;y++){if(this===o[y])return{fork:[],otherFork:[n,...o.slice(0,y)],common:[this,...r]};if(c===o[y])return{fork:[this,...r.slice(0,f)],otherFork:[n,...o.slice(0,y)],common:r.slice(f)}}}return{fork:[this,...r],otherFork:[n,...o],common:[]}}hasCommonAncestors(n){const r=this.findCommonAncestors(n);return r&&!!r.common.length}isInFrontOf(n){if(this===n)return;const r=this.findCommonAncestors(n);if(r.fork.includes(n))return!0;if(r.otherFork.includes(this))return!1;const o=r.common[0]||this.canvas;if(!o)return;const c=r.fork.pop(),f=r.otherFork.pop(),y=o._objects.indexOf(c),w=o._objects.indexOf(f);return y>-1&&y>w}}class yn extends Et{animate(n,r){return Object.entries(n).reduce((o,c)=>{let[f,y]=c;return o[f]=this._animate(f,y,r),o},{})}_animate(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const c=n.split("."),f=this.constructor.colorProperties.includes(c[c.length-1]),{abort:y,startValue:w,onChange:R,onComplete:U}=o,V=$($({},o),{},{target:this,startValue:w!=null?w:c.reduce((be,De)=>be[De],this),endValue:r,abort:y==null?void 0:y.bind(this),onChange:(be,De,nt)=>{c.reduce((wt,Xt,fn)=>(fn===c.length-1&&(wt[Xt]=be),wt[Xt]),this),R&&R(be,De,nt)},onComplete:(be,De,nt)=>{this.setCoords(),U&&U(be,De,nt)}});return f?zt(V):Fe(V)}}function ni(x){return new RegExp("^("+x.join("|")+")\\b","i")}var ji,rr;u(yn,"colorProperties",[rn,cn,"backgroundColor"]);const Cs=String.raw(ji||(ji=Qe(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),_s="http://www.w3.org/2000/svg";String.raw(rr||(rr=Qe(["(?:s+,?s*|,s*|$)"],["(?:\\s+,?\\s*|,\\s*|$)"])));const go=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Cs+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Cs+"))?\\s+(.*)"),Da={cx:Ht,x:Ht,r:"radius",cy:Pn,y:Pn,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Yr="font-size",ra="clip-path",Lo=ni(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),Y=ni(["symbol","image","marker","pattern","view","svg"]),Pe=ni(["symbol","g","a","svg","clipPath","defs"]),Tt=new RegExp("^\\s*("+Cs+"+)\\s*,?\\s*("+Cs+"+)\\s*,?\\s*("+Cs+"+)\\s*,?\\s*("+Cs+"+)\\s*$"),Mt="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Kt=new RegExp("(?:\\s|^)"+Mt+Mt+"("+Cs+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class nn{constructor(n){const r=typeof n=="string"?nn.parseShadow(n):n;Object.assign(this,nn.ownDefaults);for(const o in r)this[o]=r[o];this.id=gn()}static parseShadow(n){const r=n.trim(),[,o=0,c=0,f=0]=(Kt.exec(r)||[]).map(y=>parseFloat(y)||0);return{color:(r.replace(Kt,"")||"rgb(0,0,0)").trim(),offsetX:o,offsetY:c,blur:f}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(n){const r=Yt(new it(this.offsetX,this.offsetY),Or(-n.angle)),o=new Dn(this.color);let c=40,f=40;return n.width&&n.height&&(c=100*ri((Math.abs(r.x)+this.blur)/n.width,X.NUM_FRACTION_DIGITS)+20,f=100*ri((Math.abs(r.y)+this.blur)/n.height,X.NUM_FRACTION_DIGITS)+20),n.flipX&&(r.x*=-1),n.flipY&&(r.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(f,'%" height="').concat(100+2*f,'%" x="-').concat(c,'%" width="').concat(100+2*c,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(ri(this.blur?this.blur/2:0,X.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(ri(r.x,X.NUM_FRACTION_DIGITS),'" dy="').concat(ri(r.y,X.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(o.toRgb(),'" flood-opacity="').concat(o.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const n={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},r=nn.ownDefaults;return this.includeDefaultValues?n:wo(n,(o,c)=>o!==r[c])}static fromObject(n){return Tl(this,null,function*(){return new this(n)})}}u(nn,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),u(nn,"type","shadow"),dn.setClass(nn,"shadow");const si=x=>JSON.parse(JSON.stringify(x)),Qn=[Pn,Ht,Gt,Bt,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Nn,Pt],hn=[rn,cn,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],Vi={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ht,originY:Pn,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:rn,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},oi=["type"],Gi=["extraParam"];let Ki=class Jm extends yn{static getDefaults(){return Jm.ownDefaults}get type(){const n=this.constructor.type;return n==="FabricObject"?"object":n.toLowerCase()}set type(n){j("warn","Setting type has no effect",n)}constructor(n){super(),u(this,"_cacheContext",null),Object.assign(this,Jm.ownDefaults),this.setOptions(n)}_createCacheCanvas(){this._cacheCanvas=Ft(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(n){const r=n.width,o=n.height,c=X.maxCacheSideLimit,f=X.minCacheSideLimit;if(r<=c&&o<=c&&r*o<=X.perfLimitSizeTotal)return r<f&&(n.width=f),o<f&&(n.height=f),n;const y=r/o,[w,R]=re.limitDimsByArea(y),U=te(f,w,c),V=te(f,R,c);return r>U&&(n.zoomX/=r/U,n.width=U,n.capped=!0),o>V&&(n.zoomY/=o/V,n.height=V,n.capped=!0),n}_getCacheCanvasDimensions(){const n=this.getTotalObjectScaling(),r=this._getTransformedDimensions({skewX:0,skewY:0}),o=r.x*n.x/this.scaleX,c=r.y*n.y/this.scaleY;return{width:o+2,height:c+2,zoomX:n.x,zoomY:n.y,x:o,y:c}}_updateCacheCanvas(){const n=this._cacheCanvas,r=this._cacheContext,o=this._limitCacheSize(this._getCacheCanvasDimensions()),c=X.minCacheSideLimit,f=o.width,y=o.height,w=o.zoomX,R=o.zoomY,U=f!==n.width||y!==n.height,V=this.zoomX!==w||this.zoomY!==R;if(!n||!r)return!1;let be,De,nt=U||V,wt=0,Xt=0,fn=!1;if(U){const bn=this._cacheCanvas.width,Oi=this._cacheCanvas.height,Fr=f>bn||y>Oi;fn=Fr||(f<.9*bn||y<.9*Oi)&&bn>c&&Oi>c,Fr&&!o.capped&&(f>c||y>c)&&(wt=.1*f,Xt=.1*y)}return Xr(this)&&this.path&&(nt=!0,fn=!0,wt+=this.getHeightOfLine(0)*this.zoomX,Xt+=this.getHeightOfLine(0)*this.zoomY),!!nt&&(fn?(n.width=Math.ceil(f+wt),n.height=Math.ceil(y+Xt)):(r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height)),be=o.x/2,De=o.y/2,this.cacheTranslationX=Math.round(n.width/2-be)+be,this.cacheTranslationY=Math.round(n.height/2-De)+De,r.translate(this.cacheTranslationX,this.cacheTranslationY),r.scale(w,R),this.zoomX=w,this.zoomY=R,!0)}setOptions(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(n)}transform(n){const r=this.group&&!this.group._transformDone||this.group&&this.canvas&&n===this.canvas.contextTop,o=this.calcTransformMatrix(!r);n.transform(o[0],o[1],o[2],o[3],o[4],o[5])}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=X.NUM_FRACTION_DIGITS,o=this.clipPath&&!this.clipPath.excludeFromExport?$($({},this.clipPath.toObject(n)),{},{inverted:this.clipPath.inverted,absolutePositioned:this.clipPath.absolutePositioned}):null,c=$($({},Ss(this,n)),{},{type:this.constructor.type,version:we,originX:this.originX,originY:this.originY,left:ri(this.left,r),top:ri(this.top,r),width:ri(this.width,r),height:ri(this.height,r),fill:zs(this.fill)?this.fill.toObject():this.fill,stroke:zs(this.stroke)?this.stroke.toObject():this.stroke,strokeWidth:ri(this.strokeWidth,r),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:ri(this.strokeMiterLimit,r),scaleX:ri(this.scaleX,r),scaleY:ri(this.scaleY,r),angle:ri(this.angle,r),flipX:this.flipX,flipY:this.flipY,opacity:ri(this.opacity,r),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:ri(this.skewX,r),skewY:ri(this.skewY,r)},o?{clipPath:o}:null);return this.includeDefaultValues?c:this._removeDefaultValues(c)}toDatalessObject(n){return this.toObject(n)}_removeDefaultValues(n){const r=this.constructor.getDefaults(),o=Object.keys(r).length>0?r:Object.getPrototypeOf(this);return wo(n,(c,f)=>{if(f===Ht||f===Pn||f==="type")return!0;const y=o[f];return c!==y&&!(Array.isArray(c)&&Array.isArray(y)&&c.length===0&&y.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}getObjectScaling(){if(!this.group)return new it(Math.abs(this.scaleX),Math.abs(this.scaleY));const n=dt(this.calcTransformMatrix());return new it(Math.abs(n.scaleX),Math.abs(n.scaleY))}getTotalObjectScaling(){const n=this.getObjectScaling();if(this.canvas){const r=this.canvas.getZoom(),o=this.getCanvasRetinaScaling();return n.scalarMultiply(r*o)}return n}getObjectOpacity(){let n=this.opacity;return this.group&&(n*=this.group.getObjectOpacity()),n}_constrainScale(n){return Math.abs(n)<this.minScaleLimit?n<0?-this.minScaleLimit:this.minScaleLimit:n===0?1e-4:n}_set(n,r){n!==Gt&&n!==Bt||(r=this._constrainScale(r)),n===Gt&&r<0?(this.flipX=!this.flipX,r*=-1):n==="scaleY"&&r<0?(this.flipY=!this.flipY,r*=-1):n!=="shadow"||!r||r instanceof nn||(r=new nn(r));const o=this[n]!==r;return this[n]=r,o&&this.constructor.cacheProperties.includes(n)&&(this.dirty=!0),this.parent&&(this.dirty||o&&this.constructor.stateProperties.includes(n))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(n){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(n.save(),this._setupCompositeOperation(n),this.drawSelectionBackground(n),this.transform(n),this._setOpacity(n),this._setShadow(n),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(n)):(this._removeCacheCanvas(),this.drawObject(n),this.dirty=!1),n.restore())}drawSelectionBackground(n){}renderCache(n){n=n||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&(this.drawObject(this._cacheContext,n.forClipping),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===cn&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(n,r){if(n.save(),r.inverted?n.globalCompositeOperation="destination-out":n.globalCompositeOperation="destination-in",r.absolutePositioned){const o=fr(this.calcTransformMatrix());n.transform(o[0],o[1],o[2],o[3],o[4],o[5])}r.transform(n),n.scale(1/r.zoomX,1/r.zoomY),n.drawImage(r._cacheCanvas,-r.cacheTranslationX,-r.cacheTranslationY),n.restore()}drawObject(n,r){const o=this.fill,c=this.stroke;r?(this.fill="black",this.stroke="",this._setClippingProperties(n)):this._renderBackground(n),this._render(n),this._drawClipPath(n,this.clipPath),this.fill=o,this.stroke=c}_drawClipPath(n,r){r&&(r._set("canvas",this.canvas),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCache(n,r))}drawCacheOnCanvas(n){n.scale(1/this.zoomX,1/this.zoomY),n.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const r=this._cacheCanvas,o=this._cacheContext;return!(!r||!o||n||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(r&&o&&!n&&(o.save(),o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,r.width,r.height),o.restore()),!0)}_renderBackground(n){if(!this.backgroundColor)return;const r=this._getNonTransformedDimensions();n.fillStyle=this.backgroundColor,n.fillRect(-r.x/2,-r.y/2,r.x,r.y),this._removeShadow(n)}_setOpacity(n){this.group&&!this.group._transformDone?n.globalAlpha=this.getObjectOpacity():n.globalAlpha*=this.opacity}_setStrokeStyles(n,r){const o=r.stroke;o&&(n.lineWidth=r.strokeWidth,n.lineCap=r.strokeLineCap,n.lineDashOffset=r.strokeDashOffset,n.lineJoin=r.strokeLineJoin,n.miterLimit=r.strokeMiterLimit,vr(o)?o.gradientUnits==="percentage"||o.gradientTransform||o.patternTransform?this._applyPatternForTransformedGradient(n,o):(n.strokeStyle=o.toLive(n),this._applyPatternGradientTransform(n,o)):n.strokeStyle=r.stroke)}_setFillStyles(n,r){let{fill:o}=r;o&&(vr(o)?(n.fillStyle=o.toLive(n),this._applyPatternGradientTransform(n,o)):n.fillStyle=o)}_setClippingProperties(n){n.globalAlpha=1,n.strokeStyle="transparent",n.fillStyle="#000000"}_setLineDash(n,r){r&&r.length!==0&&(1&r.length&&r.push(...r),n.setLineDash(r))}_setShadow(n){if(!this.shadow)return;const r=this.shadow,o=this.canvas,c=this.getCanvasRetinaScaling(),[f,,,y]=(o==null?void 0:o.viewportTransform)||Le,w=f*c,R=y*c,U=r.nonScaling?new it(1,1):this.getObjectScaling();n.shadowColor=r.color,n.shadowBlur=r.blur*X.browserShadowBlurConstant*(w+R)*(U.x+U.y)/4,n.shadowOffsetX=r.offsetX*w*U.x,n.shadowOffsetY=r.offsetY*R*U.y}_removeShadow(n){this.shadow&&(n.shadowColor="",n.shadowBlur=n.shadowOffsetX=n.shadowOffsetY=0)}_applyPatternGradientTransform(n,r){if(!vr(r))return{offsetX:0,offsetY:0};const o=r.gradientTransform||r.patternTransform,c=-this.width/2+r.offsetX||0,f=-this.height/2+r.offsetY||0;return r.gradientUnits==="percentage"?n.transform(this.width,0,0,this.height,c,f):n.transform(1,0,0,1,c,f),o&&n.transform(o[0],o[1],o[2],o[3],o[4],o[5]),{offsetX:c,offsetY:f}}_renderPaintInOrder(n){this.paintFirst===cn?(this._renderStroke(n),this._renderFill(n)):(this._renderFill(n),this._renderStroke(n))}_render(n){}_renderFill(n){this.fill&&(n.save(),this._setFillStyles(n,this),this.fillRule==="evenodd"?n.fill("evenodd"):n.fill(),n.restore())}_renderStroke(n){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(n),n.save(),this.strokeUniform){const r=this.getObjectScaling();n.scale(1/r.x,1/r.y)}this._setLineDash(n,this.strokeDashArray),this._setStrokeStyles(n,this),n.stroke(),n.restore()}}_applyPatternForTransformedGradient(n,r){var o;const c=this._limitCacheSize(this._getCacheCanvasDimensions()),f=Ft(),y=this.getCanvasRetinaScaling(),w=c.x/this.scaleX/y,R=c.y/this.scaleY/y;f.width=Math.ceil(w),f.height=Math.ceil(R);const U=f.getContext("2d");U&&(U.beginPath(),U.moveTo(0,0),U.lineTo(w,0),U.lineTo(w,R),U.lineTo(0,R),U.closePath(),U.translate(w/2,R/2),U.scale(c.zoomX/this.scaleX/y,c.zoomY/this.scaleY/y),this._applyPatternGradientTransform(U,r),U.fillStyle=r.toLive(n),U.fill(),n.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),n.scale(y*this.scaleX/c.zoomX,y*this.scaleY/c.zoomY),n.strokeStyle=(o=U.createPattern(f,"no-repeat"))!==null&&o!==void 0?o:"")}_findCenterFromElement(){return new it(this.left+this.width/2,this.top+this.height/2)}clone(n){const r=this.toObject(n);return this.constructor.fromObject(r)}cloneAsImage(n){const r=this.toCanvasElement(n);return new(dn.getClass("image"))(r)}toCanvasElement(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=Go(this),o=this.group,c=this.shadow,f=Math.abs,y=n.enableRetinaScaling?at():1,w=(n.multiplier||1)*y,R=n.canvasProvider||(Oi=>new Hi(Oi,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,n.withoutTransform&&Zo(this),n.withoutShadow&&(this.shadow=null),n.viewportTransform&&xo(this,this.getViewportTransform()),this.setCoords();const U=Ft(),V=this.getBoundingRect(),be=this.shadow,De=new it;if(be){const Oi=be.blur,Fr=be.nonScaling?new it(1,1):this.getObjectScaling();De.x=2*Math.round(f(be.offsetX)+Oi)*f(Fr.x),De.y=2*Math.round(f(be.offsetY)+Oi)*f(Fr.y)}const nt=V.width+De.x,wt=V.height+De.y;U.width=Math.ceil(nt),U.height=Math.ceil(wt);const Xt=R(U);n.format==="jpeg"&&(Xt.backgroundColor="#fff"),this.setPositionByOrigin(new it(Xt.width/2,Xt.height/2),lt,lt);const fn=this.canvas;Xt._objects=[this],this.set("canvas",Xt),this.setCoords();const bn=Xt.toCanvasElement(w||1,n);return this.set("canvas",fn),this.shadow=c,o&&(this.group=o),this.set(r),this.setCoords(),Xt._objects=[],Xt.destroy(),bn}toDataURL(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Cn(this.toCanvasElement(n),n.format||"png",n.quality||1)}isType(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.includes(this.constructor.type)||r.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(n){const{centeredRotation:r,originX:o,originY:c}=this;if(r){const{x:f,y}=this.getRelativeCenterPoint();this.originX=lt,this.originY=lt,this.left=f,this.top=y}if(this.set("angle",n),r){const{x:f,y}=this.translateToOriginPoint(this.getRelativeCenterPoint(),o,c);this.left=f,this.top=y,this.originX=o,this.originY=c}}setOnGroup(){}_setupCompositeOperation(n){this.globalCompositeOperation&&(n.globalCompositeOperation=this.globalCompositeOperation)}dispose(){Rr.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Be().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}static _fromObject(n){let r=de(n,oi),o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:c}=o,f=de(o,Gi);return yo(si(r),f).then(y=>{const w=$($({},f),y);if(c){const{[c]:R}=w;return new this(R,de(w,[c].map(fe)))}return new this(w)})}static fromObject(n,r){return this._fromObject(n,r)}};u(Ki,"stateProperties",Qn),u(Ki,"cacheProperties",hn),u(Ki,"ownDefaults",Vi),u(Ki,"type","FabricObject"),dn.setClass(Ki),dn.setClass(Ki,"object");const sr=(x,n)=>(r,o,c,f)=>{const y=n(r,o,c,f);return y&&Os(x,Po(r,o,c,f)),y};function Is(x){return(n,r,o,c)=>{const{target:f,originX:y,originY:w}=r,R=f.getRelativeCenterPoint(),U=f.translateToOriginPoint(R,y,w),V=x(n,r,o,c);return f.setPositionByOrigin(U,r.originX,r.originY),V}}const mi=sr(_n,Is((x,n,r,o)=>{const c=Eo(n,n.originX,n.originY,r,o);if(Ks(n.originX)===Ks(lt)||Ks(n.originX)===Ks(Rt)&&c.x<0||Ks(n.originX)===Ks(Ht)&&c.x>0){const{target:f}=n,y=f.strokeWidth/(f.strokeUniform?f.scaleX:1),w=Ao(n)?2:1,R=f.width,U=Math.ceil(Math.abs(c.x*w/f.scaleX)-y);return f.set("width",Math.max(U,0)),R!==f.width}return!1}));function ho(x,n,r,o,c){o=o||{};const f=this.sizeX||o.cornerSize||c.cornerSize,y=this.sizeY||o.cornerSize||c.cornerSize,w=o.transparentCorners!==void 0?o.transparentCorners:c.transparentCorners,R=w?cn:rn,U=!w&&(o.cornerStrokeColor||c.cornerStrokeColor);let V,be=n,De=r;x.save(),x.fillStyle=o.cornerColor||c.cornerColor||"",x.strokeStyle=o.cornerStrokeColor||c.cornerStrokeColor||"",f>y?(V=f,x.scale(1,y/f),De=r*f/y):y>f?(V=y,x.scale(f/y,1),be=n*y/f):V=f,x.lineWidth=1,x.beginPath(),x.arc(be,De,V/2,0,tt,!1),x[R](),U&&x.stroke(),x.restore()}function jr(x,n,r,o,c){o=o||{};const f=this.sizeX||o.cornerSize||c.cornerSize,y=this.sizeY||o.cornerSize||c.cornerSize,w=o.transparentCorners!==void 0?o.transparentCorners:c.transparentCorners,R=w?cn:rn,U=!w&&(o.cornerStrokeColor||c.cornerStrokeColor),V=f/2,be=y/2;x.save(),x.fillStyle=o.cornerColor||c.cornerColor||"",x.strokeStyle=o.cornerStrokeColor||c.cornerStrokeColor||"",x.lineWidth=1,x.translate(n,r);const De=c.getTotalAngle();x.rotate(Or(De)),x["".concat(R,"Rect")](-V,-be,f,y),U&&x.strokeRect(-V,-be,f,y),x.restore()}class yr{constructor(n){u(this,"visible",!0),u(this,"actionName",ln),u(this,"angle",0),u(this,"x",0),u(this,"y",0),u(this,"offsetX",0),u(this,"offsetY",0),u(this,"sizeX",0),u(this,"sizeY",0),u(this,"touchSizeX",0),u(this,"touchSizeY",0),u(this,"cursorStyle","crosshair"),u(this,"withConnection",!1),Object.assign(this,n)}shouldActivate(n,r,o,c){var f;let{tl:y,tr:w,br:R,bl:U}=c;return((f=r.canvas)===null||f===void 0?void 0:f.getActiveObject())===r&&r.isControlVisible(n)&&He.isPointInPolygon(o,[y,w,R,U])}getActionHandler(n,r,o){return this.actionHandler}getMouseDownHandler(n,r,o){return this.mouseDownHandler}getMouseUpHandler(n,r,o){return this.mouseUpHandler}cursorStyleHandler(n,r,o){return r.cursorStyle}getActionName(n,r,o){return r.actionName}getVisibility(n,r){var o,c;return(o=(c=n._controlsVisibility)===null||c===void 0?void 0:c[r])!==null&&o!==void 0?o:this.visible}setVisibility(n,r,o){this.visible=n}positionHandler(n,r,o,c){return new it(this.x*n.x+this.offsetX,this.y*n.y+this.offsetY).transform(r)}calcCornerCoords(n,r,o,c,f,y){const w=_r([vt(o,c),Ut({angle:n}),ti((f?this.touchSizeX:this.sizeX)||r,(f?this.touchSizeY:this.sizeY)||r)]);return{tl:new it(-.5,-.5).transform(w),tr:new it(.5,-.5).transform(w),br:new it(.5,.5).transform(w),bl:new it(-.5,.5).transform(w)}}render(n,r,o,c,f){((c=c||{}).cornerStyle||f.cornerStyle)==="circle"?ho.call(this,n,r,o,c,f):jr.call(this,n,r,o,c,f)}}const So=(x,n,r)=>r.lockRotation?Ea:n.cursorStyle,Vo=sr(kt,Is((x,n,r,o)=>{let{target:c,ex:f,ey:y,theta:w,originX:R,originY:U}=n;const V=c.translateToOriginPoint(c.getRelativeCenterPoint(),R,U);if(Yo(c,"lockRotation"))return!1;const be=Math.atan2(y-V.y,f-V.x),De=Math.atan2(o-V.y,r-V.x);let nt=ds(De-be+w);if(c.snapAngle&&c.snapAngle>0){const Xt=c.snapAngle,fn=c.snapThreshold||Xt,bn=Math.ceil(nt/Xt)*Xt,Oi=Math.floor(nt/Xt)*Xt;Math.abs(nt-Oi)<fn?nt=Oi:Math.abs(nt-bn)<fn&&(nt=bn)}nt<0&&(nt=360+nt),nt%=360;const wt=c.angle!==nt;return c.angle=nt,wt}));function _a(x,n){const r=n.canvas,o=x[r.uniScaleKey];return r.uniformScaling&&!o||!r.uniformScaling&&o}function ye(x,n,r){const o=Yo(x,"lockScalingX"),c=Yo(x,"lockScalingY");if(o&&c||!n&&(o||c)&&r||o&&n==="x"||c&&n==="y")return!0;const{width:f,height:y,strokeWidth:w}=x;return f===0&&w===0&&n!=="y"||y===0&&w===0&&n!=="x"}const qe=["e","se","s","sw","w","nw","n","ne","e"],Ve=(x,n,r)=>{const o=_a(x,r);if(ye(r,n.x!==0&&n.y===0?"x":n.x===0&&n.y!==0?"y":"",o))return Ea;const c=zo(r,n);return"".concat(qe[c],"-resize")};function ht(x,n,r,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const f=n.target,y=c.by,w=_a(x,f);let R,U,V,be,De,nt;if(ye(f,y,w))return!1;if(n.gestureScale)U=n.scaleX*n.gestureScale,V=n.scaleY*n.gestureScale;else{if(R=Eo(n,n.originX,n.originY,r,o),De=y!=="y"?Math.sign(R.x||n.signX||1):1,nt=y!=="x"?Math.sign(R.y||n.signY||1):1,n.signX||(n.signX=De),n.signY||(n.signY=nt),Yo(f,"lockScalingFlip")&&(n.signX!==De||n.signY!==nt))return!1;if(be=f._getTransformedDimensions(),w&&!y){const fn=Math.abs(R.x)+Math.abs(R.y),{original:bn}=n,Oi=fn/(Math.abs(be.x*bn.scaleX/f.scaleX)+Math.abs(be.y*bn.scaleY/f.scaleY));U=bn.scaleX*Oi,V=bn.scaleY*Oi}else U=Math.abs(R.x*f.scaleX/be.x),V=Math.abs(R.y*f.scaleY/be.y);Ao(n)&&(U*=2,V*=2),n.signX!==De&&y!=="y"&&(n.originX=bo(n.originX),U*=-1,n.signX=De),n.signY!==nt&&y!=="x"&&(n.originY=bo(n.originY),V*=-1,n.signY=nt)}const wt=f.scaleX,Xt=f.scaleY;return y?(y==="x"&&f.set(Gt,U),y==="y"&&f.set(Bt,V)):(!Yo(f,"lockScalingX")&&f.set(Gt,U),!Yo(f,"lockScalingY")&&f.set(Bt,V)),wt!==f.scaleX||Xt!==f.scaleY}const Nt=sr(mt,Is((x,n,r,o)=>ht(x,n,r,o))),Fn=sr(mt,Is((x,n,r,o)=>ht(x,n,r,o,{by:"x"}))),ai=sr(mt,Is((x,n,r,o)=>ht(x,n,r,o,{by:"y"}))),xi=["target","ex","ey","skewingSide"],hi={x:{counterAxis:"y",scale:Gt,skew:Nn,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Bt,skew:Pt,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Xi=["ns","nesw","ew","nwse"],Pi=(x,n,r)=>{if(n.x!==0&&Yo(r,"lockSkewingY")||n.y!==0&&Yo(r,"lockSkewingX"))return Ea;const o=zo(r,n)%4;return"".concat(Xi[o],"-resize")};function jn(x,n,r,o,c){const{target:f}=r,{counterAxis:y,origin:w,lockSkewing:R,skew:U,flip:V}=hi[x];if(Yo(f,R))return!1;const{origin:be,flip:De}=hi[y],nt=Ks(r[be])*(f[De]?-1:1),wt=-Math.sign(nt)*(f[V]?-1:1),Xt=.5*-((f[U]===0&&Eo(r,lt,lt,o,c)[x]>0||f[U]>0?1:-1)*wt)+.5;return sr(Yn,Is((bn,Oi,Fr,xs)=>function(Mr,Ro,ha){let{target:ks,ex:wa,ey:La,skewingSide:vl}=Ro,il=de(Ro,xi);const{skew:oa}=hi[Mr],ol=ha.subtract(new it(wa,La)).divide(new it(ks.scaleX,ks.scaleY))[Mr],fu=ks[oa],jc=il[oa],$u=Math.tan(Or(jc)),Eu=Mr==="y"?ks._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:ks._getTransformedDimensions({scaleX:1,scaleY:1}).y,Id=2*ol*vl/Math.max(Eu,1)+$u,sd=ds(Math.atan(Id));ks.set(oa,sd);const Dd=fu!==ks[oa];if(Dd&&Mr==="y"){const{skewX:Yf,scaleX:Ld}=ks,Hu=ks._getTransformedDimensions({skewY:fu}),mh=ks._getTransformedDimensions(),od=Yf!==0?Hu.x/mh.x:1;od!==1&&ks.set(Gt,od*Ld)}return Dd}(x,Oi,new it(Fr,xs))))(n,$($({},r),{},{[w]:Xt,skewingSide:wt}),o,c)}const Ji=(x,n,r,o)=>jn("x",x,n,r,o),Zt=(x,n,r,o)=>jn("y",x,n,r,o);function Wi(x,n){return x[n.canvas.altActionKey]}const ge=(x,n,r)=>{const o=Wi(x,r);return n.x===0?o?Nn:Bt:n.y===0?o?Pt:Gt:""},Xe=(x,n,r)=>Wi(x,r)?Pi(0,n,r):Ve(x,n,r),yt=(x,n,r,o)=>Wi(x,n.target)?Zt(x,n,r,o):Fn(x,n,r,o),_t=(x,n,r,o)=>Wi(x,n.target)?Ji(x,n,r,o):ai(x,n,r,o),$t=()=>({ml:new yr({x:-.5,y:0,cursorStyleHandler:Xe,actionHandler:yt,getActionName:ge}),mr:new yr({x:.5,y:0,cursorStyleHandler:Xe,actionHandler:yt,getActionName:ge}),mb:new yr({x:0,y:.5,cursorStyleHandler:Xe,actionHandler:_t,getActionName:ge}),mt:new yr({x:0,y:-.5,cursorStyleHandler:Xe,actionHandler:_t,getActionName:ge}),tl:new yr({x:-.5,y:-.5,cursorStyleHandler:Ve,actionHandler:Nt}),tr:new yr({x:.5,y:-.5,cursorStyleHandler:Ve,actionHandler:Nt}),bl:new yr({x:-.5,y:.5,cursorStyleHandler:Ve,actionHandler:Nt}),br:new yr({x:.5,y:.5,cursorStyleHandler:Ve,actionHandler:Nt}),mtr:new yr({x:0,y:-.5,actionHandler:Vo,cursorStyleHandler:So,offsetY:-40,withConnection:!0,actionName:qt})}),In=()=>({mr:new yr({x:.5,y:0,actionHandler:mi,cursorStyleHandler:Xe,actionName:_n}),ml:new yr({x:-.5,y:0,actionHandler:mi,cursorStyleHandler:Xe,actionName:_n})}),Wn=()=>$($({},$t()),In());class Xn extends Ki{static getDefaults(){return $($({},super.getDefaults()),Xn.ownDefaults)}constructor(n){super(),Object.assign(this,this.constructor.createControls(),Xn.ownDefaults),this.setOptions(n)}static createControls(){return{controls:$t()}}_updateCacheCanvas(){const n=this.canvas;if(this.noScaleCache&&n&&n._currentTransform){const r=n._currentTransform,o=r.target,c=r.action;if(this===o&&c&&c.startsWith(ln))return!1}return super._updateCacheCanvas()}getActiveControl(){const n=this.__corner;return n?{key:n,control:this.controls[n],coord:this.oCoords[n]}:void 0}findControl(n){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const o=Object.entries(this.oCoords);for(let c=o.length-1;c>=0;c--){const[f,y]=o[c],w=this.controls[f];if(w.shouldActivate(f,this,n,r?y.touchCorner:y.corner))return this.__corner=f,{key:f,control:w,coord:this.oCoords[f]}}}calcOCoords(){const n=this.getViewportTransform(),r=this.getCenterPoint(),o=vt(r.x,r.y),c=Ut({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),f=ir(o,c),y=ir(n,f),w=ir(y,[1/n[0],0,0,1/n[3],0,0]),R=this.group?dt(this.calcTransformMatrix()):void 0;R&&(R.scaleX=Math.abs(R.scaleX),R.scaleY=Math.abs(R.scaleY));const U=this._calculateCurrentDimensions(R),V={};return this.forEachControl((be,De)=>{const nt=be.positionHandler(U,w,this,be);V[De]=Object.assign(nt,this._calcCornerCoords(be,nt))}),V}_calcCornerCoords(n,r){const o=this.getTotalAngle();return{corner:n.calcCornerCoords(o,this.cornerSize,r.x,r.y,!1,this),touchCorner:n.calcCornerCoords(o,this.touchCornerSize,r.x,r.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(n){for(const r in this.controls)n(this.controls[r],r,this)}drawSelectionBackground(n){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;n.save();const r=this.getRelativeCenterPoint(),o=this._calculateCurrentDimensions(),c=this.getViewportTransform();n.translate(r.x,r.y),n.scale(1/c[0],1/c[3]),n.rotate(Or(this.angle)),n.fillStyle=this.selectionBackgroundColor,n.fillRect(-o.x/2,-o.y/2,o.x,o.y),n.restore()}strokeBorders(n,r){n.strokeRect(-r.x/2,-r.y/2,r.x,r.y)}_drawBorders(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const c=$({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},o);n.save(),n.strokeStyle=c.borderColor,this._setLineDash(n,c.borderDashArray),this.strokeBorders(n,r),c.hasControls&&this.drawControlsConnectingLines(n,r),n.restore()}_renderControls(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:o,hasControls:c}=this,f=$({hasBorders:o,hasControls:c},r),y=this.getViewportTransform(),w=f.hasBorders,R=f.hasControls,U=ir(y,this.calcTransformMatrix()),V=dt(U);n.save(),n.translate(V.translateX,V.translateY),n.lineWidth=1*this.borderScaleFactor,this.group===this.parent&&(n.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(V.angle-=180),n.rotate(Or(this.group?V.angle:this.angle)),w&&this.drawBorders(n,V,r),R&&this.drawControls(n,r),n.restore()}drawBorders(n,r,o){let c;if(o&&o.forActiveSelection||this.group){const f=ys(this.width,this.height,Sr(r)),y=this.isStrokeAccountedForInDimensions()?Vs:(this.strokeUniform?new it().scalarAdd(this.canvas?this.canvas.getZoom():1):new it(r.scaleX,r.scaleY)).scalarMultiply(this.strokeWidth);c=f.add(y).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else c=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(n,c,o)}drawControlsConnectingLines(n,r){let o=!1;n.beginPath(),this.forEachControl((c,f)=>{c.withConnection&&c.getVisibility(this,f)&&(o=!0,n.moveTo(c.x*r.x,c.y*r.y),n.lineTo(c.x*r.x+c.offsetX,c.y*r.y+c.offsetY))}),o&&n.stroke()}drawControls(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.save();const o=this.getCanvasRetinaScaling(),{cornerStrokeColor:c,cornerDashArray:f,cornerColor:y}=this,w=$({cornerStrokeColor:c,cornerDashArray:f,cornerColor:y},r);n.setTransform(o,0,0,o,0,0),n.strokeStyle=n.fillStyle=w.cornerColor,this.transparentCorners||(n.strokeStyle=w.cornerStrokeColor),this._setLineDash(n,w.cornerDashArray),this.forEachControl((R,U)=>{if(R.getVisibility(this,U)){const V=this.oCoords[U];R.render(n,V.x,V.y,w,this)}}),n.restore()}isControlVisible(n){return this.controls[n]&&this.controls[n].getVisibility(this,n)}setControlVisible(n,r){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[n]=r}setControlsVisibility(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(n).forEach(r=>{let[o,c]=r;return this.setControlVisible(o,c)})}clearContextTop(n){if(!this.canvas)return;const r=this.canvas.contextTop;if(!r)return;const o=this.canvas.viewportTransform;r.save(),r.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this.transform(r);const c=this.width+4,f=this.height+4;return r.clearRect(-c/2,-f/2,c,f),n||r.restore(),r}onDeselect(n){return!1}onSelect(n){return!1}shouldStartDragging(n){return!1}onDragStart(n){return!1}canDrop(n){return!1}renderDragSourceEffect(n){}renderDropTargetEffect(n){}}function kn(x,n){return n.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(o=>{o!=="constructor"&&Object.defineProperty(x.prototype,o,Object.getOwnPropertyDescriptor(r.prototype,o)||Object.create(null))})}),x}u(Xn,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Zi extends Xn{}kn(Zi,[uo]),dn.setClass(Zi),dn.setClass(Zi,"object");const Nr=(x,n,r,o)=>{const c=2*(o=Math.round(o))+1,{data:f}=x.getImageData(n-o,r-o,c,c);for(let y=3;y<f.length;y+=4)if(f[y]>0)return!1;return!0};class Ar{constructor(n){this.options=n,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new it(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new it(1/this.options.scaleX,1/this.options.scaleY):new it(1,1)}createSideVector(n,r){const o=g(n,r);return this.options.strokeUniform?o.multiply(this.scale):o}projectOrthogonally(n,r,o){return this.applySkew(n.add(this.calcOrthogonalProjection(n,r,o)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(n){const r=new it(n);return r.y+=r.x*Math.tan(Or(this.options.skewY)),r.x+=r.y*Math.tan(Or(this.options.skewX)),r}scaleUnitVector(n,r){return n.multiply(this.strokeUniformScalar).scalarMultiply(r)}}const mo=new it;class Ri extends Ar{static getOrthogonalRotationFactor(n,r){const o=r?T(n,r):D(n);return Math.abs(o)<E?-1:1}constructor(n,r,o,c){super(c),u(this,"AB",void 0),u(this,"AC",void 0),u(this,"alpha",void 0),u(this,"bisector",void 0),this.A=new it(n),this.B=new it(r),this.C=new it(o),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=T(this.AB,this.AC),this.bisector=k(Yt(this.AB.eq(mo)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const c=this.createSideVector(n,r),f=z(c),y=Ri.getOrthogonalRotationFactor(f,this.bisector);return this.scaleUnitVector(f,o*y)}projectBevel(){const n=[];return(this.alpha%tt==0?[this.B]:[this.B,this.C]).forEach(r=>{n.push(this.projectOrthogonally(this.A,r)),n.push(this.projectOrthogonally(this.A,r,-this.strokeProjectionMagnitude))}),n}projectMiter(){const n=[],r=Math.abs(this.alpha),o=1/Math.sin(r/2),c=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*o),f=this.options.strokeUniform?b(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return b(c)/this.strokeProjectionMagnitude<=f&&n.push(this.applySkew(this.A.add(c))),n.push(...this.projectBevel()),n}projectRoundNoSkew(n,r){const o=[],c=new it(Ri.getOrthogonalRotationFactor(this.bisector),Ri.getOrthogonalRotationFactor(new it(this.bisector.y,this.bisector.x)));return[new it(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(c),new it(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(c)].forEach(f=>{Me(f,n,r)&&o.push(this.A.add(f))}),o}projectRoundWithSkew(n,r){const o=[],{skewX:c,skewY:f,scaleX:y,scaleY:w,strokeUniform:R}=this.options,U=new it(Math.tan(Or(c)),Math.tan(Or(f))),V=this.strokeProjectionMagnitude,be=R?V/w/Math.sqrt(1/Uo(w,2)+1/Uo(y,2)*Uo(U.y,2)):V/Math.sqrt(1+Uo(U.y,2)),De=new it(Math.sqrt(Math.max(Uo(V,2)-Uo(be,2),0)),be),nt=R?V/Math.sqrt(1+Uo(U.x,2)*Uo(1/w,2)/Uo(1/y+1/y*U.x*U.y,2)):V/Math.sqrt(1+Uo(U.x,2)/Uo(1+U.x*U.y,2)),wt=new it(nt,Math.sqrt(Math.max(Uo(V,2)-Uo(nt,2),0)));return[wt,wt.scalarMultiply(-1),De,De.scalarMultiply(-1)].map(Xt=>this.applySkew(R?Xt.multiply(this.strokeUniformScalar):Xt)).forEach(Xt=>{Me(Xt,n,r)&&o.push(this.applySkew(this.A).add(Xt))}),o}projectRound(){const n=[];n.push(...this.projectBevel());const r=this.alpha%tt==0,o=this.applySkew(this.A),c=n[r?0:2].subtract(o),f=n[r?1:0].subtract(o),y=r?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),w=J(c,y)>0,R=w?c:f,U=w?f:c;return this.isSkewed()?n.push(...this.projectRoundWithSkew(R,U)):n.push(...this.projectRoundNoSkew(R,U)),n}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(n=>({originPoint:this.A,projectedPoint:n,angle:this.alpha,bisector:this.bisector}))}}class Qr extends Ar{constructor(n,r,o){super(o),this.A=new it(n),this.T=new it(r)}calcOrthogonalProjection(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const c=this.createSideVector(n,r);return this.scaleUnitVector(z(c),o)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const n=[];if(!this.isSkewed()&&this.A.eq(this.T)){const r=new it(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);n.push(this.applySkew(this.A.add(r)),this.applySkew(this.A.subtract(r)))}else n.push(...new Ri(this.A,this.T,this.T,this.options).projectRound());return n}projectSquare(){const n=[];if(this.A.eq(this.T)){const r=new it(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);n.push(this.A.add(r),this.A.subtract(r))}else{const r=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),o=this.scaleUnitVector(k(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),c=this.A.add(o);n.push(c.add(r),c.subtract(r))}return n.map(r=>this.applySkew(r))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(n=>({originPoint:this.A,projectedPoint:n}))}}const Ko=function(x,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const o=[];if(x.length===0)return o;const c=x.reduce((f,y)=>(f[f.length-1].eq(y)||f.push(new it(y)),f),[new it(x[0])]);if(c.length===1)r=!0;else if(!r){const f=c[0],y=((w,R)=>{for(let U=w.length-1;U>=0;U--)if(R(w[U],U,w))return U;return-1})(c,w=>!w.eq(f));c.splice(y+1)}return c.forEach((f,y,w)=>{let R,U;y===0?(U=w[1],R=r?f:w[w.length-1]):y===w.length-1?(R=w[y-1],U=r?f:w[0]):(R=w[y-1],U=w[y+1]),r&&w.length===1?o.push(...new Qr(f,f,n).project()):!r||y!==0&&y!==w.length-1?o.push(...new Ri(f,R,U,n).project()):o.push(...new Qr(f,y===0?U:R,n).project())}),o},da=x=>x.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Fa=x=>{const n=[];for(let r,o=0;o<x.length;o++)(r=fl(x,o))!==!1&&n.push(r);return n},fl=(x,n)=>{const r=x.charCodeAt(n);if(isNaN(r))return"";if(r<55296||r>57343)return x.charAt(n);if(55296<=r&&r<=56319){if(x.length<=n+1)throw"High surrogate without following low surrogate";const c=x.charCodeAt(n+1);if(56320>c||c>57343)throw"High surrogate without following low surrogate";return x.charAt(n)+x.charAt(n+1)}if(n===0)throw"Low surrogate without preceding high surrogate";const o=x.charCodeAt(n-1);if(55296>o||o>56319)throw"Low surrogate without preceding high surrogate";return!1};var Qa=Object.freeze({__proto__:null,capitalize:function(x){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(x.charAt(0).toUpperCase()).concat(n?x.slice(1):x.slice(1).toLowerCase())},escapeXml:da,graphemeSplit:Fa});const sa=function(x,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return x.fill!==n.fill||x.stroke!==n.stroke||x.strokeWidth!==n.strokeWidth||x.fontSize!==n.fontSize||x.fontFamily!==n.fontFamily||x.fontWeight!==n.fontWeight||x.fontStyle!==n.fontStyle||x.textBackgroundColor!==n.textBackgroundColor||x.deltaY!==n.deltaY||r&&(x.overline!==n.overline||x.underline!==n.underline||x.linethrough!==n.linethrough)},rc=(x,n)=>{const r=n.split(`
`),o=[];let c=-1,f={};x=si(x);for(let y=0;y<r.length;y++){const w=Fa(r[y]);if(x[y])for(let R=0;R<w.length;R++){c++;const U=x[y][R];U&&Object.keys(U).length>0&&(sa(f,U,!0)?o.push({start:c,end:c+1,style:U}):o[o.length-1].end++),f=U||{}}else c+=w.length,f={}}return o},el=(x,n)=>{if(!Array.isArray(x))return si(x);const r=n.split(Ge),o={};let c=-1,f=0;for(let y=0;y<r.length;y++){const w=Fa(r[y]);for(let R=0;R<w.length;R++)c++,x[f]&&x[f].start<=c&&c<x[f].end&&(o[y]=o[y]||{},o[y][R]=$({},x[f].style),c===x[f].end-1&&f++)}return o},ao=["display","transform",rn,"fill-opacity","fill-rule","opacity",cn,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function nu(x,n){const r=x.nodeName,o=x.getAttribute("class"),c=x.getAttribute("id"),f="(?![a-zA-Z\\-]+)";let y;if(y=new RegExp("^"+r,"i"),n=n.replace(y,""),c&&n.length&&(y=new RegExp("#"+c+f,"i"),n=n.replace(y,"")),o&&n.length){const w=o.split(" ");for(let R=w.length;R--;)y=new RegExp("\\."+w[R]+f,"i"),n=n.replace(y,"")}return n.length===0}function Sl(x,n){let r=!0;const o=nu(x,n.pop());return o&&n.length&&(r=function(c,f){let y,w=!0;for(;c.parentElement&&c.parentElement.nodeType===1&&f.length;)w&&(y=f.pop()),w=nu(c=c.parentElement,y);return f.length===0}(x,n)),o&&r&&n.length===0}const Eh=x=>{var n;return(n=Da[x])!==null&&n!==void 0?n:x},dc=new RegExp("(".concat(Cs,")"),"gi"),Th=x=>x.replace(dc," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var yf,Kl,je,$d,Ah,ql,Yc;const Ga="(".concat(Cs,")"),Hd=String.raw(yf||(yf=Qe(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ga),Xu=String.raw(Kl||(Kl=Qe(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ga),Yu=String.raw(je||(je=Qe(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ga,Ga,Ga),Pu=String.raw($d||($d=Qe(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ga,Ga),vu=String.raw(Ah||(Ah=Qe(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ga,Ga),iu=String.raw(ql||(ql=Qe(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ga,Ga,Ga,Ga,Ga,Ga),ru="(?:".concat(iu,"|").concat(vu,"|").concat(Yu,"|").concat(Pu,"|").concat(Hd,"|").concat(Xu,")"),Ku="(?:".concat(ru,"*)"),Vd=String.raw(Yc||(Yc=Qe(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Ku),Wd=new RegExp(Vd),Ru=new RegExp(ru),Ph=new RegExp(ru,"g");function dd(x){const n=[];if(!(x=Th(x).replace(/\s*([()])\s*/gi,"$1"))||x&&!Wd.test(x))return[...Le];for(const r of x.matchAll(Ph)){const o=Ru.exec(r[0]);if(!o)continue;let c=Le;const f=o.filter(wt=>!!wt),[,y,...w]=f,[R,U,V,be,De,nt]=w.map(wt=>parseFloat(wt));switch(y){case"translate":c=vt(R,U);break;case qt:c=Ut({angle:R},{x:U,y:V});break;case ln:c=ti(R,U);break;case Nn:c=Li(R);break;case Pt:c=Ds(R);break;case"matrix":c=[R,U,V,be,De,nt]}n.push(c)}return _r(n)}function hd(x,n,r,o){const c=Array.isArray(n);let f,y=n;if(x!==rn&&x!==cn||n!==ut){if(x==="strokeUniform")return n==="non-scaling-stroke";if(x==="strokeDashArray")y=n===ut?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(x==="transformMatrix")y=r&&r.transformMatrix?ir(r.transformMatrix,dd(n)):dd(n);else if(x==="visible")y=n!==ut&&n!=="hidden",r&&r.visible===!1&&(y=!1);else if(x==="opacity")y=parseFloat(n),r&&r.opacity!==void 0&&(y*=r.opacity);else if(x==="textAnchor")y=n==="start"?Ht:n==="end"?Rt:lt;else if(x==="charSpacing")f=Ni(n,o)/o*1e3;else if(x==="paintFirst"){const w=n.indexOf(rn),R=n.indexOf(cn);y=rn,(w>-1&&R>-1&&R<w||w===-1&&R>-1)&&(y=cn)}else{if(x==="href"||x==="xlink:href"||x==="font")return n;if(x==="imageSmoothing")return n==="optimizeQuality";f=c?n.map(Ni):Ni(n,o)}}else y="";return!c&&isNaN(f)?y:f}function Rh(x,n){const r=x.match(go);if(!r)return;const o=r[1],c=r[3],f=r[4],y=r[5],w=r[6];o&&(n.fontStyle=o),c&&(n.fontWeight=isNaN(parseFloat(c))?c:parseFloat(c)),f&&(n.fontSize=Ni(f)),w&&(n.fontFamily=w),y&&(n.lineHeight=y==="normal"?1:y)}function Jl(x){const n={},r=x.getAttribute("style");return r&&(typeof r=="string"?function(o,c){o.replace(/;\s*$/,"").split(";").forEach(f=>{const[y,w]=f.split(":");c[y.trim().toLowerCase()]=w.trim()})}(r,n):function(o,c){Object.entries(o).forEach(f=>{let[y,w]=f;w!==void 0&&(c[y.toLowerCase()]=w)})}(r,n)),n}const su={stroke:"strokeOpacity",fill:"fillOpacity"};function Mc(x,n,r){if(!x)return{};let o,c={},f=bt;x.parentNode&&Pe.test(x.parentNode.nodeName)&&(c=Mc(x.parentElement,n,r),c.fontSize&&(o=f=Ni(c.fontSize)));const y=$($($({},n.reduce((U,V)=>{const be=x.getAttribute(V);return be&&(U[V]=be),U},{})),function(U){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be={};for(const De in V)Sl(U,De.split(" "))&&(be=$($({},be),V[De]));return be}(x,r)),Jl(x));y[ra]&&x.setAttribute(ra,y[ra]),y[Yr]&&(o=Ni(y[Yr],f),y[Yr]="".concat(o));const w={};for(const U in y){const V=Eh(U),be=hd(V,y[U],c,o);w[V]=be}w&&w.font&&Rh(w.font,w);const R=$($({},c),w);return Pe.test(x.nodeName)?R:function(U){const V=Zi.getDefaults();return Object.entries(su).forEach(be=>{let[De,nt]=be;if(U[nt]===void 0||U[De]==="")return;if(U[De]===void 0){if(!V[De])return;U[De]=V[De]}if(U[De].indexOf("url(")===0)return;const wt=new Dn(U[De]);U[De]=wt.setAlpha(ri(wt.getAlpha()*U[nt],2)).toRgba()}),U}(R)}const jd=["left","top","width","height","visible"],ou=["rx","ry"];class gc extends Zi{static getDefaults(){return $($({},super.getDefaults()),gc.ownDefaults)}constructor(n){super(),Object.assign(this,gc.ownDefaults),this.setOptions(n),this._initRxRy()}_initRxRy(){const{rx:n,ry:r}=this;n&&!r?this.ry=n:r&&!n&&(this.rx=r)}_render(n){const{width:r,height:o}=this,c=-r/2,f=-o/2,y=this.rx?Math.min(this.rx,r/2):0,w=this.ry?Math.min(this.ry,o/2):0,R=y!==0||w!==0;n.beginPath(),n.moveTo(c+y,f),n.lineTo(c+r-y,f),R&&n.bezierCurveTo(c+r-en*y,f,c+r,f+en*w,c+r,f+w),n.lineTo(c+r,f+o-w),R&&n.bezierCurveTo(c+r,f+o-en*w,c+r-en*y,f+o,c+r-y,f+o),n.lineTo(c+y,f+o),R&&n.bezierCurveTo(c+en*y,f+o,c,f+o-en*w,c,f+o-w),n.lineTo(c,f+w),R&&n.bezierCurveTo(c,f+en*w,c+en*y,f,c+y,f),n.closePath(),this._renderPaintInOrder(n)}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...ou,...n])}_toSVG(){const{width:n,height:r,rx:o,ry:c}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-n/2,'" y="').concat(-r/2,'" rx="').concat(o,'" ry="').concat(c,'" width="').concat(n,'" height="').concat(r,`" />
`)]}static fromElement(n,r,o){return Tl(this,null,function*(){const c=Mc(n,this.ATTRIBUTE_NAMES,o),{left:f=0,top:y=0,width:w=0,height:R=0,visible:U=!0}=c,V=de(c,jd);return new this($($($({},r),V),{},{left:f,top:y,width:w,height:R,visible:!!(U&&w&&R)}))})}}u(gc,"type","Rect"),u(gc,"cacheProperties",[...hn,...ou]),u(gc,"ownDefaults",{rx:0,ry:0}),u(gc,"ATTRIBUTE_NAMES",[...ao,"x","y","rx","ry","width","height"]),dn.setClass(gc),dn.setSVGClass(gc);const Ec="initialization",yu="added",Ou="removed",qs="imperative",xu=(x,n)=>{const{strokeUniform:r,strokeWidth:o,width:c,height:f,group:y}=n,w=y&&y!==x?qi(y.calcTransformMatrix(),x.calcTransformMatrix()):null,R=w?n.getRelativeCenterPoint().transform(w):n.getRelativeCenterPoint(),U=!n.isStrokeAccountedForInDimensions(),V=r&&U?Ei(new it(o,o),void 0,x.calcTransformMatrix()):Vs,be=!r&&U?o:0,De=ys(c+be,f+be,_r([w,n.calcOwnMatrix()],!0)).add(V).scalarDivide(2);return[R.subtract(De),R.add(De)]};class hc{calcLayoutResult(n,r){if(this.shouldPerformLayout(n))return this.calcBoundingBox(r,n)}shouldPerformLayout(n){let{type:r,prevStrategy:o,strategy:c}=n;return r===Ec||r===qs||!!o&&c!==o}shouldLayoutClipPath(n){let{type:r,target:{clipPath:o}}=n;return r!==Ec&&o&&!o.absolutePositioned}getInitialSize(n,r){return r.size}calcBoundingBox(n,r){const{type:o,target:c}=r;if(o===qs&&r.overrides)return r.overrides;if(n.length===0)return;const{left:f,top:y,width:w,height:R}=Yi(n.map(be=>xu(c,be)).reduce((be,De)=>be.concat(De),[])),U=new it(w,R),V=new it(f,y).add(U.scalarDivide(2));if(o===Ec){const be=this.getInitialSize(r,{size:U,center:V});return{center:V,relativeCorrection:new it(0,0),size:be}}return{center:V.transform(c.calcOwnMatrix()),size:U}}}u(hc,"type","strategy");class Oh extends hc{shouldPerformLayout(n){return!0}}u(Oh,"type","fit-content"),dn.setClass(Oh);const fp=["strategy"],Kc=["target","strategy","bubbles","prevStrategy"],fd="layoutManager";class Hl{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Oh;u(this,"strategy",void 0),this.strategy=n,this._subscriptions=new Map}performLayout(n){const r=$($({bubbles:!0,strategy:this.strategy},n),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(r);const o=this.getLayoutResult(r);o&&this.commitLayout(r,o),this.onAfterLayout(r,o),this._prevLayoutStrategy=r.strategy}attachHandlers(n,r){const{target:o}=r;return[zi,ot,_n,kt,mt,Yn,Kn,Lt].map(c=>n.on(c,f=>this.performLayout(c===zi?{type:"object_modified",trigger:c,e:f,target:o}:{type:"object_modifying",trigger:c,e:f,target:o})))}subscribe(n,r){this.unsubscribe(n,r);const o=this.attachHandlers(n,r);this._subscriptions.set(n,o)}unsubscribe(n,r){(this._subscriptions.get(n)||[]).forEach(o=>o()),this._subscriptions.delete(n)}unsubscribeTargets(n){n.targets.forEach(r=>this.unsubscribe(r,n))}subscribeTargets(n){n.targets.forEach(r=>this.subscribe(r,n))}onBeforeLayout(n){const{target:r,type:o}=n,{canvas:c}=r;if(o===Ec||o===yu?this.subscribeTargets(n):o===Ou&&this.unsubscribeTargets(n),r.fire("layout:before",{context:n}),c&&c.fire("object:layout:before",{target:r,context:n}),o===qs&&n.deep){const f=de(n,fp);r.forEachObject(y=>y.layoutManager&&y.layoutManager.performLayout($($({},f),{},{bubbles:!1,target:y})))}}getLayoutResult(n){const{target:r,strategy:o,type:c}=n,f=o.calcLayoutResult(n,r.getObjects());if(!f)return;const y=c===Ec?new it:r.getRelativeCenterPoint(),{center:w,correction:R=new it,relativeCorrection:U=new it}=f,V=y.subtract(w).add(R).transform(c===Ec?Le:fr(r.calcOwnMatrix()),!0).add(U);return{result:f,prevCenter:y,nextCenter:w,offset:V}}commitLayout(n,r){const{target:o}=n,{result:{size:c},nextCenter:f}=r;var y,w;o.set({width:c.x,height:c.y}),this.layoutObjects(n,r),n.type===Ec?o.set({left:(y=n.x)!==null&&y!==void 0?y:f.x+c.x*Ks(o.originX),top:(w=n.y)!==null&&w!==void 0?w:f.y+c.y*Ks(o.originY)}):(o.setPositionByOrigin(f,lt,lt),o.setCoords(),o.set("dirty",!0))}layoutObjects(n,r){const{target:o}=n;o.forEachObject(c=>{c.group===o&&this.layoutObject(n,r,c)}),n.strategy.shouldLayoutClipPath(n)&&this.layoutObject(n,r,o.clipPath)}layoutObject(n,r,o){let{offset:c}=r;o.set({left:o.left+c.x,top:o.top+c.y})}onAfterLayout(n,r){const{target:o,strategy:c,bubbles:f,prevStrategy:y}=n,w=de(n,Kc),{canvas:R}=o;o.fire("layout:after",{context:n,result:r}),R&&R.fire("object:layout:after",{context:n,result:r,target:o});const U=o.parent;f&&U!=null&&U.layoutManager&&((w.path||(w.path=[])).push(o),U.layoutManager.performLayout($($({},w),{},{target:U}))),o.set("dirty",!0)}dispose(){const{_subscriptions:n}=this;n.forEach(r=>r.forEach(o=>o())),n.clear()}toObject(){return{type:fd,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}dn.setClass(Hl,fd);const xf=["type","objects","layoutManager"];class Ih extends Hl{performLayout(){}}class tl extends zr(Zi){static getDefaults(){return $($({},super.getDefaults()),tl.ownDefaults)}constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),u(this,"_activeObjects",[]),u(this,"__objectSelectionTracker",void 0),u(this,"__objectSelectionDisposer",void 0),Object.assign(this,tl.ownDefaults),this.setOptions(r),this.groupInit(n,r)}groupInit(n,r){var o;this._objects=[...n],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(c=>{this.enterGroup(c,!1)}),this.layoutManager=(o=r.layoutManager)!==null&&o!==void 0?o:new Hl,this.layoutManager.performLayout({type:Ec,target:this,targets:[...n],x:r.left,y:r.top})}canEnterGroup(n){return n===this||this.isDescendantOf(n)?(j("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(n)===-1||(j("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(n){return n.filter((r,o,c)=>this.canEnterGroup(r)&&c.indexOf(r)===o)}add(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const c=this._filterObjectsBeforeEnteringGroup(r),f=super.add(...c);return this._onAfterObjectsChange(yu,c),f}insertAt(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];const f=this._filterObjectsBeforeEnteringGroup(o),y=super.insertAt(n,...f);return this._onAfterObjectsChange(yu,f),y}remove(){const n=super.remove(...arguments);return this._onAfterObjectsChange(Ou,n),n}_onObjectAdded(n){this.enterGroup(n,!0),this.fire("object:added",{target:n}),n.fire("added",{target:this})}_onObjectRemoved(n,r){this.exitGroup(n,r),this.fire("object:removed",{target:n}),n.fire("removed",{target:this})}_onAfterObjectsChange(n,r){this.layoutManager.performLayout({type:n,targets:r,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(n,r){const o=this[n];return super._set(n,r),n==="canvas"&&o!==r&&(this._objects||[]).forEach(c=>{c._set(n,r)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(n,r){let{target:o}=r;const c=this._activeObjects;if(n)c.push(o),this._set("dirty",!0);else if(c.length>0){const f=c.indexOf(o);f>-1&&(c.splice(f,1),this._set("dirty",!0))}}_watchObject(n,r){n&&this._watchObject(!1,r),n?(r.on("selected",this.__objectSelectionTracker),r.on("deselected",this.__objectSelectionDisposer)):(r.off("selected",this.__objectSelectionTracker),r.off("deselected",this.__objectSelectionDisposer))}enterGroup(n,r){n.group&&n.group.remove(n),n._set("parent",this),this._enterGroup(n,r)}_enterGroup(n,r){r&&Ns(n,ir(fr(this.calcTransformMatrix()),n.calcTransformMatrix())),this._shouldSetNestedCoords()&&n.setCoords(),n._set("group",this),n._set("canvas",this.canvas),this._watchObject(!0,n);const o=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();o&&(o===n||n.isDescendantOf(o))&&this._activeObjects.push(n)}exitGroup(n,r){this._exitGroup(n,r),n._set("parent",void 0),n._set("canvas",void 0)}_exitGroup(n,r){n._set("group",void 0),r||(Ns(n,ir(this.calcTransformMatrix(),n.calcTransformMatrix())),n.setCoords()),this._watchObject(!1,n);const o=this._activeObjects.length>0?this._activeObjects.indexOf(n):-1;o>-1&&this._activeObjects.splice(o,1)}shouldCache(){const n=Zi.prototype.shouldCache.call(this);if(n){for(let r=0;r<this._objects.length;r++)if(this._objects[r].willDrawShadow())return this.ownCaching=!1,!1}return n}willDrawShadow(){if(super.willDrawShadow())return!0;for(let n=0;n<this._objects.length;n++)if(this._objects[n].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(n){this._renderBackground(n);for(let o=0;o<this._objects.length;o++){var r;(r=this.canvas)!==null&&r!==void 0&&r.preserveObjectStacking&&this._objects[o].group!==this?(n.save(),n.transform(...fr(this.calcTransformMatrix())),this._objects[o].render(n),n.restore()):this._objects[o].group===this&&this._objects[o].render(n)}this._drawClipPath(n,this.clipPath)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(n=>n.setCoords())}triggerLayout(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout($({target:this,type:qs},n))}render(n){this._transformDone=!0,super.render(n),this._transformDone=!1}__serializeObjects(n,r){const o=this.includeDefaultValues;return this._objects.filter(function(c){return!c.excludeFromExport}).map(function(c){const f=c.includeDefaultValues;c.includeDefaultValues=o;const y=c[n||"toObject"](r);return c.includeDefaultValues=f,y})}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.layoutManager.toObject();return $($($({},super.toObject(["subTargetCheck","interactive",...n])),r.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:r}:{}),{},{objects:this.__serializeObjects("toObject",n)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(n=>{this._watchObject(!1,n),n.dispose()}),super.dispose()}_createSVGBgRect(n){if(!this.backgroundColor)return"";const r=gc.prototype._toSVG.call(this),o=r.indexOf("COMMON_PARTS");r[o]='for="group" ';const c=r.join("");return n?n(c):c}_toSVG(n){const r=["<g ","COMMON_PARTS",` >
`],o=this._createSVGBgRect(n);o&&r.push("		",o);for(let c=0;c<this._objects.length;c++)r.push("		",this._objects[c].toSVG(n));return r.push(`</g>
`),r}getSvgStyles(){const n=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",r=this.visible?"":" visibility: hidden;";return[n,this.getSvgFilter(),r].join("")}toClipPathSVG(n){const r=[],o=this._createSVGBgRect(n);o&&r.push("	",o);for(let c=0;c<this._objects.length;c++)r.push("	",this._objects[c].toClipPathSVG(n));return this._createBaseClipPathSVGMarkup(r,{reviver:n})}static fromObject(n,r){let{type:o,objects:c=[],layoutManager:f}=n,y=de(n,xf);return Promise.all([As(c,r),yo(y,r)]).then(w=>{let[R,U]=w;const V=new this(R,$($($({},y),U),{},{layoutManager:new Ih}));if(f){const be=dn.getClass(f.type),De=dn.getClass(f.strategy);V.layoutManager=new be(new De)}else V.layoutManager=new Hl;return V.layoutManager.subscribeTargets({type:Ec,target:V,targets:V.getObjects()}),V.setCoords(),V})}}u(tl,"type","Group"),u(tl,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),dn.setClass(tl);const Zd=(x,n)=>Math.min(n.width/x.width,n.height/x.height),Dh=(x,n)=>Math.max(n.width/x.width,n.height/x.height);var bf;const Ta="(".concat(Cs,")"),bu="(M) (?:".concat(Ta," ").concat(Ta," ?)+"),Gd="(L) (?:".concat(Ta," ").concat(Ta," ?)+"),pd="(H) (?:".concat(Ta," ?)+"),pp="(V) (?:".concat(Ta," ?)+"),gp=String.raw(bf||(bf=Qe(["(Z)s*"],["(Z)\\s*"]))),Xd="(C) (?:".concat(Ta," ").concat(Ta," ").concat(Ta," ").concat(Ta," ").concat(Ta," ").concat(Ta," ?)+"),Sf="(S) (?:".concat(Ta," ").concat(Ta," ").concat(Ta," ").concat(Ta," ?)+"),Cf="(Q) (?:".concat(Ta," ").concat(Ta," ").concat(Ta," ").concat(Ta," ?)+"),gd="(T) (?:".concat(Ta," ").concat(Ta," ?)+"),qu="(A) (?:".concat(Ta," ").concat(Ta," ").concat(Ta," ([01]) ?([01]) ").concat(Ta," ").concat(Ta," ?)+"),Ju="(?:(?:".concat(bu,")")+"|(?:".concat(Gd,")")+"|(?:".concat(pd,")")+"|(?:".concat(pp,")")+"|(?:".concat(gp,")")+"|(?:".concat(Xd,")")+"|(?:".concat(Sf,")")+"|(?:".concat(Cf,")")+"|(?:".concat(gd,")")+"|(?:".concat(qu,"))"),Lh={m:"l",M:"L"},sl=(x,n,r,o,c,f,y,w,R,U,V)=>{const be=Fi(x),De=pn(x),nt=Fi(n),wt=pn(n),Xt=r*c*nt-o*f*wt+y,fn=o*c*nt+r*f*wt+w;return["C",U+R*(-r*c*De-o*f*be),V+R*(-o*c*De+r*f*be),Xt+R*(r*c*wt+o*f*nt),fn+R*(o*c*wt-r*f*nt),Xt,fn]},Tc=(x,n,r,o)=>{const c=Math.atan2(n,x),f=Math.atan2(o,r);return f>=c?f-c:2*Math.PI-(c-f)};function Bc(x,n,r,o,c,f,y,w){let R;if(X.cachesBoundsOfCurve&&(R=[...arguments].join(),re.boundsOfCurveCache[R]))return re.boundsOfCurveCache[R];const U=Math.sqrt,V=Math.abs,be=[],De=[[0,0],[0,0]];let nt=6*x-12*r+6*c,wt=-3*x+9*r-9*c+3*y,Xt=3*r-3*x;for(let xs=0;xs<2;++xs){if(xs>0&&(nt=6*n-12*o+6*f,wt=-3*n+9*o-9*f+3*w,Xt=3*o-3*n),V(wt)<1e-12){if(V(nt)<1e-12)continue;const wa=-Xt/nt;0<wa&&wa<1&&be.push(wa);continue}const Mr=nt*nt-4*Xt*wt;if(Mr<0)continue;const Ro=U(Mr),ha=(-nt+Ro)/(2*wt);0<ha&&ha<1&&be.push(ha);const ks=(-nt-Ro)/(2*wt);0<ks&&ks<1&&be.push(ks)}let fn=be.length;const bn=fn,Oi=Su(x,n,r,o,c,f,y,w);for(;fn--;){const{x:xs,y:Mr}=Oi(be[fn]);De[0][fn]=xs,De[1][fn]=Mr}De[0][bn]=x,De[1][bn]=n,De[0][bn+1]=y,De[1][bn+1]=w;const Fr=[new it(Math.min(...De[0]),Math.min(...De[1])),new it(Math.max(...De[0]),Math.max(...De[1]))];return X.cachesBoundsOfCurve&&(re.boundsOfCurveCache[R]=Fr),Fr}const Nh=(x,n,r)=>{let[o,c,f,y,w,R,U,V]=r;const be=((De,nt,wt,Xt,fn,bn,Oi)=>{if(wt===0||Xt===0)return[];let Fr=0,xs=0,Mr=0;const Ro=Math.PI,ha=Oi*Ie,ks=pn(ha),wa=Fi(ha),La=.5*(-wa*De-ks*nt),vl=.5*(-wa*nt+ks*De),il=Uo(wt,2),oa=Uo(Xt,2),ol=Uo(vl,2),fu=Uo(La,2),jc=il*oa-il*ol-oa*fu;let $u=Math.abs(wt),Eu=Math.abs(Xt);if(jc<0){const Vu=Math.sqrt(1-jc/(il*oa));$u*=Vu,Eu*=Vu}else Mr=(fn===bn?-1:1)*Math.sqrt(jc/(il*ol+oa*fu));const Id=Mr*$u*vl/Eu,sd=-Mr*Eu*La/$u,Dd=wa*Id-ks*sd+.5*De,Yf=ks*Id+wa*sd+.5*nt;let Ld=Tc(1,0,(La-Id)/$u,(vl-sd)/Eu),Hu=Tc((La-Id)/$u,(vl-sd)/Eu,(-La-Id)/$u,(-vl-sd)/Eu);bn===0&&Hu>0?Hu-=2*Ro:bn===1&&Hu<0&&(Hu+=2*Ro);const mh=Math.ceil(Math.abs(Hu/Ro*2)),od=new Array(mh),vh=Hu/mh,pg=8/3*Math.sin(vh/4)*Math.sin(vh/4)/Math.sin(vh/2);let yh=Ld+vh;for(let Vu=0;Vu<mh;Vu++)od[Vu]=sl(Ld,yh,wa,ks,$u,Eu,Dd,Yf,pg,Fr,xs),Fr=od[Vu][5],xs=od[Vu][6],Ld=yh,yh+=vh;return od})(U-x,V-n,c,f,w,R,y);for(let De=0,nt=be.length;De<nt;De++)be[De][1]+=x,be[De][2]+=n,be[De][3]+=x,be[De][4]+=n,be[De][5]+=x,be[De][6]+=n;return be},qc=x=>{let n=0,r=0,o=0,c=0;const f=[];let y,w=0,R=0;for(const U of x){const V=[...U];let be;switch(V[0]){case"l":V[1]+=n,V[2]+=r;case"L":n=V[1],r=V[2],be=["L",n,r];break;case"h":V[1]+=n;case"H":n=V[1],be=["L",n,r];break;case"v":V[1]+=r;case"V":r=V[1],be=["L",n,r];break;case"m":V[1]+=n,V[2]+=r;case"M":n=V[1],r=V[2],o=V[1],c=V[2],be=["M",n,r];break;case"c":V[1]+=n,V[2]+=r,V[3]+=n,V[4]+=r,V[5]+=n,V[6]+=r;case"C":w=V[3],R=V[4],n=V[5],r=V[6],be=["C",V[1],V[2],w,R,n,r];break;case"s":V[1]+=n,V[2]+=r,V[3]+=n,V[4]+=r;case"S":y==="C"?(w=2*n-w,R=2*r-R):(w=n,R=r),n=V[3],r=V[4],be=["C",w,R,V[1],V[2],n,r],w=be[3],R=be[4];break;case"q":V[1]+=n,V[2]+=r,V[3]+=n,V[4]+=r;case"Q":w=V[1],R=V[2],n=V[3],r=V[4],be=["Q",w,R,n,r];break;case"t":V[1]+=n,V[2]+=r;case"T":y==="Q"?(w=2*n-w,R=2*r-R):(w=n,R=r),n=V[1],r=V[2],be=["Q",w,R,n,r];break;case"a":V[6]+=n,V[7]+=r;case"A":Nh(n,r,V).forEach(De=>f.push(De)),n=V[6],r=V[7];break;case"z":case"Z":n=o,r=c,be=["Z"]}be?(f.push(be),y=be[0]):y=""}return f},Jc=(x,n,r,o)=>Math.sqrt(Uo(r-x,2)+Uo(o-n,2)),Su=(x,n,r,o,c,f,y,w)=>R=>{const U=Uo(R,3),V=(nt=>3*Uo(nt,2)*(1-nt))(R),be=(nt=>3*nt*Uo(1-nt,2))(R),De=(nt=>Uo(1-nt,3))(R);return new it(y*U+c*V+r*be+x*De,w*U+f*V+o*be+n*De)},md=x=>Uo(x,2),Cu=x=>2*x*(1-x),Fh=x=>Uo(1-x,2),Bh=(x,n,r,o,c,f,y,w)=>R=>{const U=md(R),V=Cu(R),be=Fh(R),De=3*(be*(r-x)+V*(c-r)+U*(y-c)),nt=3*(be*(o-n)+V*(f-o)+U*(w-f));return Math.atan2(nt,De)},Ac=(x,n,r,o,c,f)=>y=>{const w=md(y),R=Cu(y),U=Fh(y);return new it(c*w+r*R+x*U,f*w+o*R+n*U)},_f=(x,n,r,o,c,f)=>y=>{const w=1-y,R=2*(w*(r-x)+y*(c-r)),U=2*(w*(o-n)+y*(f-o));return Math.atan2(U,R)},au=(x,n,r)=>{let o=new it(n,r),c=0;for(let f=1;f<=100;f+=1){const y=x(f/100);c+=Jc(o.x,o.y,y.x,y.y),o=y}return c},Yd=(x,n)=>{let r,o=0,c=0,f={x:x.x,y:x.y},y=$({},f),w=.01,R=0;const U=x.iterator,V=x.angleFinder;for(;c<n&&w>1e-4;)y=U(o),R=o,r=Jc(f.x,f.y,y.x,y.y),r+c>n?(o-=w,w/=2):(f=y,o+=w,c+=r);return $($({},y),{},{angle:V(R)})},Qu=x=>{let n,r,o=0,c=0,f=0,y=0,w=0;const R=[];for(const U of x){const V={x:c,y:f,command:U[0],length:0};switch(U[0]){case"M":r=V,r.x=y=c=U[1],r.y=w=f=U[2];break;case"L":r=V,r.length=Jc(c,f,U[1],U[2]),c=U[1],f=U[2];break;case"C":n=Su(c,f,U[1],U[2],U[3],U[4],U[5],U[6]),r=V,r.iterator=n,r.angleFinder=Bh(c,f,U[1],U[2],U[3],U[4],U[5],U[6]),r.length=au(n,c,f),c=U[5],f=U[6];break;case"Q":n=Ac(c,f,U[1],U[2],U[3],U[4]),r=V,r.iterator=n,r.angleFinder=_f(c,f,U[1],U[2],U[3],U[4]),r.length=au(n,c,f),c=U[3],f=U[4];break;case"Z":r=V,r.destX=y,r.destY=w,r.length=Jc(c,f,y,w),c=y,f=w}o+=r.length,R.push(r)}return R.push({length:o,x:c,y:f}),R},wr=function(x,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qu(x),o=0;for(;n-r[o].length>0&&o<r.length-2;)n-=r[o].length,o++;const c=r[o],f=n/c.length,y=x[o];switch(c.command){case"M":return{x:c.x,y:c.y,angle:0};case"Z":return $($({},new it(c.x,c.y).lerp(new it(c.destX,c.destY),f)),{},{angle:Math.atan2(c.destY-c.y,c.destX-c.x)});case"L":return $($({},new it(c.x,c.y).lerp(new it(y[1],y[2]),f)),{},{angle:Math.atan2(y[2]-c.y,y[1]-c.x)});case"C":case"Q":return Yd(c,n)}},Vl=new RegExp(Ju,"gi"),wf=new RegExp(Ju,"i"),_u=x=>{x=Th(x);const n=[];for(let[r]of x.matchAll(Vl)){const o=[];let c;do{if(c=wf.exec(r),!c)break;const f=c.filter(w=>w);f.shift();const y=f.map(w=>{const R=Number.parseFloat(w);return Number.isNaN(R)?w:R});if(o.push(y),f.length<=1)break;f.shift(),r=r.replace(new RegExp("".concat(f.join(" ?")," ?$")),"")}while(c);o.reverse().forEach((f,y)=>{const w=Lh[f[0]];y>0&&(w=="l"||w=="L")&&(f[0]=w),n.push(f)})}return n},lu=function(x){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=new it(x[0]),o=new it(x[1]),c=1,f=0;const y=[],w=x.length,R=w>2;let U;for(R&&(c=x[2].x<o.x?-1:x[2].x===o.x?0:1,f=x[2].y<o.y?-1:x[2].y===o.y?0:1),y.push(["M",r.x-c*n,r.y-f*n]),U=1;U<w;U++){if(!r.eq(o)){const V=r.midPointFrom(o);y.push(["Q",r.x,r.y,V.x,V.y])}r=x[U],U+1<x.length&&(o=x[U+1])}return R&&(c=r.x>x[U-2].x?1:r.x===x[U-2].x?0:-1,f=r.y>x[U-2].y?1:r.y===x[U-2].y?0:-1),y.push(["L",r.x+c*n,r.y+f*n]),y},Uc=(x,n)=>x.map(r=>r.map((o,c)=>c===0||n===void 0?o:ri(o,n)).join(" ")).join(" ");function Mf(x){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=n.onComplete||Ue,o=new(Ce()).XMLHttpRequest,c=n.signal,f=function(){o.abort()},y=function(){c&&c.removeEventListener("abort",f),o.onerror=o.ontimeout=Ue};if(c&&c.aborted)throw new ft("request");return c&&c.addEventListener("abort",f,{once:!0}),o.onreadystatechange=function(){o.readyState===4&&(y(),r(o),o.onreadystatechange=Ue)},o.onerror=o.ontimeout=y,o.open("get",x,!0),o.send(),o}const Wl=(x,n)=>{let r=x._findCenterFromElement();x.transformMatrix&&((o=>{if(o.transformMatrix){const{scaleX:c,scaleY:f,angle:y,skewX:w}=dt(o.transformMatrix);o.flipX=!1,o.flipY=!1,o.set(Gt,c),o.set(Bt,f),o.angle=y,o.skewX=w,o.skewY=0}})(x),r=r.transform(x.transformMatrix)),delete x.transformMatrix,n&&(x.scaleX*=n.scaleX,x.scaleY*=n.scaleY,x.cropX=n.cropX,x.cropY=n.cropY,r.x+=n.offsetLeft,r.y+=n.offsetTop,x.width=n.width,x.height=n.height),x.setPositionByOrigin(r,lt,lt)};var Kd=Object.freeze({__proto__:null,addTransformToObject:Ho,animate:Fe,animateColor:zt,applyTransformToObject:Ns,calcAngleBetweenVectors:T,calcDimensionsMatrix:Sr,calcPlaneChangeMatrix:qi,calcVectorRotation:D,cancelAnimFrame:ce,capValue:te,composeMatrix:Ls,copyCanvasElement:x=>{var n;const r=Ft();return r.width=x.width,r.height=x.height,(n=r.getContext("2d"))===null||n===void 0||n.drawImage(x,0,0),r},cos:Fi,createCanvasElement:Ft,createImage:on,createRotateMatrix:Ut,createScaleMatrix:ti,createSkewXMatrix:Li,createSkewYMatrix:Ds,createTranslateMatrix:vt,createVector:g,crossProduct:J,degreesToRadians:Or,dotProduct:_e,ease:ja,enlivenObjectEnlivables:yo,enlivenObjects:As,findScaleToCover:Dh,findScaleToFit:Zd,getBoundsOfCurve:Bc,getOrthonormalVector:z,getPathSegmentsInfo:Qu,getPointOnPath:wr,getPointer:Jr,getRandomInt:mr,getRegularPolygonPath:(x,n)=>{const r=2*Math.PI/x;let o=-E;x%2==0&&(o+=r/2);const c=new Array(x+1);for(let f=0;f<x;f++){const y=f*r+o,{x:w,y:R}=new it(Fi(y),pn(y)).scalarMultiply(n);c[f]=[f===0?"M":"L",w,R]}return c[x]=["Z"],c},getSmoothPathFromPoints:lu,getSvgAttributes:x=>{const n=["instantiated_by_use","style","id","class"];switch(x){case"linearGradient":return n.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return n.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return n.concat(["offset","stop-color","stop-opacity"])}return n},getUnitVector:k,groupSVGElements:(x,n)=>x&&x.length===1?x[0]:new tl(x,n),hasStyleChanged:sa,invertTransform:fr,isBetweenVectors:Me,isIdentityMatrix:io,isTouchEvent:gr,isTransparent:Nr,joinPath:Uc,loadImage:Us,magnitude:b,makeBoundingBoxFromPoints:Yi,makePathSimpler:qc,matrixToSVG:pr,mergeClipPaths:(x,n)=>{var r;let o=x,c=n;o.inverted&&!c.inverted&&(o=n,c=x),xo(c,(r=c.group)===null||r===void 0?void 0:r.calcTransformMatrix(),o.calcTransformMatrix());const f=o.inverted&&c.inverted;return f&&(o.inverted=c.inverted=!1),new tl([o],{clipPath:c,inverted:f})},multiplyTransformMatrices:ir,multiplyTransformMatrixArray:_r,parsePath:_u,parsePreserveAspectRatioAttribute:Hr,parseUnit:Ni,pick:Ss,projectStrokeOnPoints:Ko,qrDecompose:dt,radiansToDegrees:ds,removeFromArray:qn,removeTransformFromObject:(x,n)=>{const r=fr(n),o=ir(r,x.calcOwnMatrix());Ns(x,o)},removeTransformMatrixForSvgParsing:Wl,request:Mf,requestAnimFrame:Hn,resetObjectTransform:Zo,rotatePoint:(x,n,r)=>x.rotate(r,n),rotateVector:Yt,saveObjectTransform:Go,sendObjectToPlane:xo,sendPointToPlane:Ui,sendVectorToPlane:Ei,setStyle:_i,sin:pn,sizeAfterTransform:ys,string:Qa,stylesFromArray:el,stylesToArray:rc,toDataURL:Cn,toFixed:ri,transformPath:(x,n,r)=>(r&&(n=ir(n,[1,0,0,1,-r.x,-r.y])),x.map(o=>{const c=[...o];for(let f=1;f<o.length-1;f+=2){const{x:y,y:w}=$r({x:o[f],y:o[f+1]},n);c[f]=y,c[f+1]=w}return c})),transformPoint:$r});class rg extends Vr{constructor(n){let{allowTouchScrolling:r=!1,containerClass:o=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(n),u(this,"upper",void 0),u(this,"container",void 0);const{el:c}=this.lower,f=this.createUpperCanvas();this.upper={el:f,ctx:f.getContext("2d")},this.applyCanvasStyle(c,{allowTouchScrolling:r}),this.applyCanvasStyle(f,{allowTouchScrolling:r});const y=this.createContainerElement();y.classList.add(o),c.parentNode&&c.parentNode.replaceChild(y,c),y.append(c,f),this.container=y}createUpperCanvas(){const{el:n}=this.lower,r=Ft();return r.className=n.className,r.classList.remove("lower-canvas"),r.classList.add("upper-canvas"),r.setAttribute("data-fabric","top"),r.style.cssText=n.style.cssText,r.setAttribute("draggable","true"),r}createContainerElement(){const n=Oe().createElement("div");return n.setAttribute("data-fabric","wrapper"),_i(n,{position:"relative"}),Ps(n),n}applyCanvasStyle(n,r){let{allowTouchScrolling:o}=r;_i(n,{position:"absolute",left:"0",top:"0"}),function(c,f){const y=f?"manipulation":ut;_i(c,{"touch-action":y,"-ms-touch-action":y})}(n,o),Ps(n)}setDimensions(n,r){super.setDimensions(n,r);const{el:o,ctx:c}=this.upper;eo(o,c,n,r)}setCSSDimensions(n){super.setCSSDimensions(n),js(this.upper.el,n),js(this.container,n)}cleanupDOM(n){const r=this.container,{el:o}=this.lower,{el:c}=this.upper;super.cleanupDOM(n),r.removeChild(c),r.removeChild(o),r.parentNode&&r.parentNode.replaceChild(o,r)}dispose(){super.dispose(),Be().dispose(this.upper.el),delete this.upper,delete this.container}}class nl extends Hi{constructor(){super(...arguments),u(this,"targets",[]),u(this,"_hoveredTargets",[]),u(this,"_objectsToRender",void 0),u(this,"_currentTransform",null),u(this,"_groupSelector",null),u(this,"contextTopDirty",!1)}static getDefaults(){return $($({},super.getDefaults()),nl.ownDefaults)}get upperCanvasEl(){var n;return(n=this.elements.upper)===null||n===void 0?void 0:n.el}get contextTop(){var n;return(n=this.elements.upper)===null||n===void 0?void 0:n.ctx}get wrapperEl(){return this.elements.container}initElements(n){this.elements=new rg(n,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(n){this._objectsToRender=void 0,super._onObjectAdded(n)}_onObjectRemoved(n){this._objectsToRender=void 0,n===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[n]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[n]}),n.fire("deselected",{target:n})),n===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(n)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const n=this._activeObject;return!this.preserveObjectStacking&&n?this._objects.filter(r=>!r.group&&r!==n).concat(n):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(n){n.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(n),this.contextTopDirty=!0),n.restore()}renderTop(){const n=this.contextTop;this.clearContext(n),this.renderTopLayer(n),this.fire("after:render",{ctx:n})}setTargetFindTolerance(n){n=Math.round(n),this.targetFindTolerance=n;const r=this.getRetinaScaling(),o=Math.ceil((2*n+1)*r);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=o,this.pixelFindContext.scale(r,r)}isTargetTransparent(n,r,o){const c=this.targetFindTolerance,f=this.pixelFindContext;this.clearContext(f),f.save(),f.translate(-r+c,-o+c),f.transform(...this.viewportTransform);const y=n.selectionBackgroundColor;n.selectionBackgroundColor="",n.render(f),n.selectionBackgroundColor=y,f.restore();const w=Math.round(c*this.getRetinaScaling());return Nr(f,w,w,w)}_isSelectionKeyPressed(n){const r=this.selectionKey;return!!r&&(Array.isArray(r)?!!r.find(o=>!!o&&n[o]===!0):n[r])}_shouldClearSelection(n,r){const o=this.getActiveObjects(),c=this._activeObject;return!!(!r||r&&c&&o.length>1&&o.indexOf(r)===-1&&c!==r&&!this._isSelectionKeyPressed(n)||r&&!r.evented||r&&!r.selectable&&c&&c!==r)}_shouldCenterTransform(n,r,o){if(!n)return;let c;return r===ln||r===Gt||r===Bt||r===_n?c=this.centeredScaling||n.centeredScaling:r===qt&&(c=this.centeredRotation||n.centeredRotation),c?!o:o}_getOriginFromCorner(n,r){const o={x:n.originX,y:n.originY};return r&&(["ml","tl","bl"].includes(r)?o.x=Rt:["mr","tr","br"].includes(r)&&(o.x=Ht),["tl","mt","tr"].includes(r)?o.y=vi:["bl","mb","br"].includes(r)&&(o.y=Pn)),o}_setupCurrentTransform(n,r,o){var c;const f=r.group?Ui(this.getScenePoint(n),void 0,r.group.calcTransformMatrix()):this.getScenePoint(n),{key:y="",control:w}=r.getActiveControl()||{},R=o&&w?(c=w.getActionHandler(n,r,w))===null||c===void 0?void 0:c.bind(w):ma,U=((nt,wt,Xt,fn)=>{if(!wt||!nt)return"drag";const bn=fn.controls[wt];return bn.getActionName(Xt,bn,fn)})(o,y,n,r),V=n[this.centeredKey],be=this._shouldCenterTransform(r,U,V)?{x:lt,y:lt}:this._getOriginFromCorner(r,y),De={target:r,action:U,actionHandler:R,actionPerformed:!1,corner:y,scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,offsetX:f.x-r.left,offsetY:f.y-r.top,originX:be.x,originY:be.y,ex:f.x,ey:f.y,lastX:f.x,lastY:f.y,theta:Or(r.angle),width:r.width,height:r.height,shiftKey:n.shiftKey,altKey:V,original:$($({},Go(r)),{},{originX:be.x,originY:be.y})};this._currentTransform=De,this.fire("before:transform",{e:n,transform:De})}setCursor(n){this.upperCanvasEl.style.cursor=n}_drawSelection(n){const{x:r,y:o,deltaX:c,deltaY:f}=this._groupSelector,y=new it(r,o).transform(this.viewportTransform),w=new it(r+c,o+f).transform(this.viewportTransform),R=this.selectionLineWidth/2;let U=Math.min(y.x,w.x),V=Math.min(y.y,w.y),be=Math.max(y.x,w.x),De=Math.max(y.y,w.y);this.selectionColor&&(n.fillStyle=this.selectionColor,n.fillRect(U,V,be-U,De-V)),this.selectionLineWidth&&this.selectionBorderColor&&(n.lineWidth=this.selectionLineWidth,n.strokeStyle=this.selectionBorderColor,U+=R,V+=R,be-=R,De-=R,Zi.prototype._setLineDash.call(this,n,this.selectionDashArray),n.strokeRect(U,V,be-U,De-V))}findTarget(n){if(this.skipTargetFind)return;const r=this.getViewportPoint(n),o=this._activeObject,c=this.getActiveObjects();if(this.targets=[],o&&c.length>=1){if(o.findControl(r,gr(n))||c.length>1&&this.searchPossibleTargets([o],r))return o;if(o===this.searchPossibleTargets([o],r)){if(this.preserveObjectStacking){const f=this.targets;this.targets=[];const y=this.searchPossibleTargets(this._objects,r);return n[this.altSelectionKey]&&y&&y!==o?(this.targets=f,o):y}return o}}return this.searchPossibleTargets(this._objects,r)}_pointIsInObjectSelectionArea(n,r){let o=n.getCoords();const c=this.getZoom(),f=n.padding/c;if(f){const[y,w,R,U]=o,V=Math.atan2(w.y-y.y,w.x-y.x),be=Fi(V)*f,De=pn(V)*f,nt=be+De,wt=be-De;o=[new it(y.x-wt,y.y-nt),new it(w.x+nt,w.y-wt),new it(R.x+wt,R.y+nt),new it(U.x-nt,U.y+wt)]}return He.isPointInPolygon(r,o)}_checkTarget(n,r){return!!(n&&n.visible&&n.evented&&this._pointIsInObjectSelectionArea(n,Ui(r,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!n.perPixelTargetFind||n.isEditing||!this.isTargetTransparent(n,r.x,r.y)))}_searchPossibleTargets(n,r){let o=n.length;for(;o--;){const c=n[o];if(this._checkTarget(c,r)){if(nr(c)&&c.subTargetCheck){const f=this._searchPossibleTargets(c._objects,r);f&&this.targets.push(f)}return c}}}searchPossibleTargets(n,r){const o=this._searchPossibleTargets(n,r);if(o&&nr(o)&&o.interactive&&this.targets[0]){const c=this.targets;for(let f=c.length-1;f>0;f--){const y=c[f];if(!nr(y)||!y.interactive)return y}return c[0]}return o}getViewportPoint(n){return this._pointer?this._pointer:this.getPointer(n,!0)}getScenePoint(n){return this._absolutePointer?this._absolutePointer:this.getPointer(n)}getPointer(n){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const o=this.upperCanvasEl,c=o.getBoundingClientRect();let f=Jr(n),y=c.width||0,w=c.height||0;y&&w||(Pn in c&&vi in c&&(w=Math.abs(c.top-c.bottom)),Rt in c&&Ht in c&&(y=Math.abs(c.right-c.left))),this.calcOffset(),f.x=f.x-this._offset.left,f.y=f.y-this._offset.top,r||(f=Ui(f,void 0,this.viewportTransform));const R=this.getRetinaScaling();R!==1&&(f.x/=R,f.y/=R);const U=y===0||w===0?new it(1,1):new it(o.width/y,o.height/w);return f.multiply(U)}_setDimensionsImpl(n,r){this._resetTransformEventData(),super._setDimensionsImpl(n,r),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Ft(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const n=this._activeObject;return Ws(n)?n.getObjects():n?[n]:[]}_fireSelectionEvents(n,r){let o=!1,c=!1;const f=this.getActiveObjects(),y=[],w=[];n.forEach(R=>{f.includes(R)||(o=!0,R.fire("deselected",{e:r,target:R}),w.push(R))}),f.forEach(R=>{n.includes(R)||(o=!0,R.fire("selected",{e:r,target:R}),y.push(R))}),n.length>0&&f.length>0?(c=!0,o&&this.fire("selection:updated",{e:r,selected:y,deselected:w})):f.length>0?(c=!0,this.fire("selection:created",{e:r,selected:y})):n.length>0&&(c=!0,this.fire("selection:cleared",{e:r,deselected:w})),c&&(this._objectsToRender=void 0)}setActiveObject(n,r){const o=this.getActiveObjects(),c=this._setActiveObject(n,r);return this._fireSelectionEvents(o,r),c}_setActiveObject(n,r){const o=this._activeObject;return o!==n&&!(!this._discardActiveObject(r,n)&&this._activeObject)&&!n.onSelect({e:r})&&(this._activeObject=n,Ws(n)&&o!==n&&n.set("canvas",this),n.setCoords(),!0)}_discardActiveObject(n,r){const o=this._activeObject;return!!o&&!o.onDeselect({e:n,object:r})&&(this._currentTransform&&this._currentTransform.target===o&&this.endCurrentTransform(n),this._activeObject=void 0,!0)}discardActiveObject(n){const r=this.getActiveObjects(),o=this.getActiveObject();r.length&&this.fire("before:selection:cleared",{e:n,deselected:[o]});const c=this._discardActiveObject(n);return this._fireSelectionEvents(r,n),c}endCurrentTransform(n){const r=this._currentTransform;this._finalizeCurrentTransform(n),r&&r.target&&(r.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(n){const r=this._currentTransform,o=r.target,c={e:n,target:o,transform:r,action:r.action};o._scaling&&(o._scaling=!1),o.setCoords(),r.actionPerformed&&(this.fire("object:modified",c),o.fire(zi,c))}setViewportTransform(n){super.setViewportTransform(n);const r=this._activeObject;r&&r.setCoords()}destroy(){const n=this._activeObject;Ws(n)&&(n.removeAll(),n.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(n){const r=this._activeObject;r&&r._renderControls(n)}_toObject(n,r,o){const c=this._realizeGroupTransformOnObject(n),f=super._toObject(n,r,o);return n.set(c),f}_realizeGroupTransformOnObject(n){const{group:r}=n;if(r&&Ws(r)&&this._activeObject===r){const o=Ss(n,["angle","flipX","flipY",Ht,Gt,Bt,Nn,Pt,Pn]);return Ho(n,r.calcOwnMatrix()),o}return{}}_setSVGObject(n,r,o){const c=this._realizeGroupTransformOnObject(r);super._setSVGObject(n,r,o),r.set(c)}}u(nl,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class qd{constructor(n){u(this,"targets",[]),u(this,"__disposer",void 0);const r=()=>{const{hiddenTextarea:c}=n.getActiveObject()||{};c&&c.focus()},o=n.upperCanvasEl;o.addEventListener("click",r),this.__disposer=()=>o.removeEventListener("click",r)}exitTextEditing(){this.target=void 0,this.targets.forEach(n=>{n.isEditing&&n.exitEditing()})}add(n){this.targets.push(n)}remove(n){this.unregister(n),qn(this.targets,n)}register(n){this.target=n}unregister(n){n===this.target&&(this.target=void 0)}onMouseMove(n){var r;!((r=this.target)===null||r===void 0)&&r.isEditing&&this.target.updateSelectionOnMouseMove(n)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const pl=["target","oldTarget","fireCanvas","e"],Pc={passive:!1},vd=(x,n)=>{const r=x.getViewportPoint(n),o=x.getScenePoint(n);return{viewportPoint:r,scenePoint:o,pointer:r,absolutePointer:o}},Iu=function(x){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return x.addEventListener(...r)},zc=function(x){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return x.removeEventListener(...r)},Ef={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Tf extends nl{constructor(n){super(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),u(this,"_isClick",void 0),u(this,"textEditingManager",new qd(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(r=>{this[r]=this[r].bind(this)}),this.addOrRemove(Iu,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(n,r){const o=this.upperCanvasEl,c=this._getEventPrefix();n(Qs(o),"resize",this._onResize),n(o,c+"down",this._onMouseDown),n(o,"".concat(c,"move"),this._onMouseMove,Pc),n(o,"".concat(c,"out"),this._onMouseOut),n(o,"".concat(c,"enter"),this._onMouseEnter),n(o,"wheel",this._onMouseWheel),n(o,"contextmenu",this._onContextMenu),n(o,"dblclick",this._onDoubleClick),n(o,"dragstart",this._onDragStart),n(o,"dragend",this._onDragEnd),n(o,"dragover",this._onDragOver),n(o,"dragenter",this._onDragEnter),n(o,"dragleave",this._onDragLeave),n(o,"drop",this._onDrop),this.enablePointerEvents||n(o,"touchstart",this._onTouchStart,Pc)}removeListeners(){this.addOrRemove(zc,"remove");const n=this._getEventPrefix(),r=Js(this.upperCanvasEl);zc(r,"".concat(n,"up"),this._onMouseUp),zc(r,"touchend",this._onTouchEnd,Pc),zc(r,"".concat(n,"move"),this._onMouseMove,Pc),zc(r,"touchmove",this._onMouseMove,Pc)}_onMouseWheel(n){this.__onMouseWheel(n)}_onMouseOut(n){const r=this._hoveredTarget,o=$({e:n},vd(this,n));this.fire("mouse:out",$($({},o),{},{target:r})),this._hoveredTarget=void 0,r&&r.fire("mouseout",$({},o)),this._hoveredTargets.forEach(c=>{this.fire("mouse:out",$($({},o),{},{target:c})),c&&c.fire("mouseout",$({},o))}),this._hoveredTargets=[]}_onMouseEnter(n){this._currentTransform||this.findTarget(n)||(this.fire("mouse:over",$({e:n},vd(this,n))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(n){this._isClick=!1;const r=this.getActiveObject();if(r&&r.onDragStart(n)){this._dragSource=r;const o={e:n,target:r};return this.fire("dragstart",o),r.fire("dragstart",o),void Iu(this.upperCanvasEl,"drag",this._onDragProgress)}oo(n)}_renderDragEffects(n,r,o){let c=!1;const f=this._dropTarget;f&&f!==r&&f!==o&&(f.clearContextTop(),c=!0),r==null||r.clearContextTop(),o!==r&&(o==null||o.clearContextTop());const y=this.contextTop;y.save(),y.transform(...this.viewportTransform),r&&(y.save(),r.transform(y),r.renderDragSourceEffect(n),y.restore(),c=!0),o&&(y.save(),o.transform(y),o.renderDropTargetEffect(n),y.restore(),c=!0),y.restore(),c&&(this.contextTopDirty=!0)}_onDragEnd(n){const r=!!n.dataTransfer&&n.dataTransfer.dropEffect!==ut,o=r?this._activeObject:void 0,c={e:n,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:r,dropTarget:o};zc(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",c),this._dragSource&&this._dragSource.fire("dragend",c),delete this._dragSource,this._onMouseUp(n)}_onDragProgress(n){const r={e:n,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",r),this._dragSource&&this._dragSource.fire("drag",r)}findDragTargets(n){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(n)),targets:[...this.targets]}}_onDragOver(n){const r="dragover",{target:o,targets:c}=this.findDragTargets(n),f=this._dragSource,y={e:n,target:o,subTargets:c,dragSource:f,canDrop:!1,dropTarget:void 0};let w;this.fire(r,y),this._fireEnterLeaveEvents(o,y),o&&(o.canDrop(n)&&(w=o),o.fire(r,y));for(let R=0;R<c.length;R++){const U=c[R];U.canDrop(n)&&(w=U),U.fire(r,y)}this._renderDragEffects(n,f,w),this._dropTarget=w}_onDragEnter(n){const{target:r,targets:o}=this.findDragTargets(n),c={e:n,target:r,subTargets:o,dragSource:this._dragSource};this.fire("dragenter",c),this._fireEnterLeaveEvents(r,c)}_onDragLeave(n){const r={e:n,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",r),this._fireEnterLeaveEvents(void 0,r),this._renderDragEffects(n,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(n){const{target:r,targets:o}=this.findDragTargets(n),c=this._basicEventHandler("drop:before",$({e:n,target:r,subTargets:o,dragSource:this._dragSource},vd(this,n)));c.didDrop=!1,c.dropTarget=void 0,this._basicEventHandler("drop",c),this.fire("drop:after",c)}_onContextMenu(n){const r=this.findTarget(n),o=this.targets||[],c=this._basicEventHandler("contextmenu:before",{e:n,target:r,subTargets:o});return this.stopContextMenu&&oo(n),this._basicEventHandler("contextmenu",c),!1}_onDoubleClick(n){this._cacheTransformEventData(n),this._handleEvent(n,"dblclick"),this._resetTransformEventData()}getPointerId(n){const r=n.changedTouches;return r?r[0]&&r[0].identifier:this.enablePointerEvents?n.pointerId:-1}_isMainEvent(n){return n.isPrimary===!0||n.isPrimary!==!1&&(n.type==="touchend"&&n.touches.length===0||!n.changedTouches||n.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(n){n.preventDefault(),this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(n)),this.__onMouseDown(n),this._resetTransformEventData();const r=this.upperCanvasEl,o=this._getEventPrefix(),c=Js(r);Iu(c,"touchend",this._onTouchEnd,Pc),Iu(c,"touchmove",this._onMouseMove,Pc),zc(r,"".concat(o,"down"),this._onMouseDown)}_onMouseDown(n){this.__onMouseDown(n),this._resetTransformEventData();const r=this.upperCanvasEl,o=this._getEventPrefix();zc(r,"".concat(o,"move"),this._onMouseMove,Pc);const c=Js(r);Iu(c,"".concat(o,"up"),this._onMouseUp),Iu(c,"".concat(o,"move"),this._onMouseMove,Pc)}_onTouchEnd(n){if(n.touches.length>0)return;this.__onMouseUp(n),this._resetTransformEventData(),delete this.mainTouchId;const r=this._getEventPrefix(),o=Js(this.upperCanvasEl);zc(o,"touchend",this._onTouchEnd,Pc),zc(o,"touchmove",this._onMouseMove,Pc),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Iu(this.upperCanvasEl,"".concat(r,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(n){this.__onMouseUp(n),this._resetTransformEventData();const r=this.upperCanvasEl,o=this._getEventPrefix();if(this._isMainEvent(n)){const c=Js(this.upperCanvasEl);zc(c,"".concat(o,"up"),this._onMouseUp),zc(c,"".concat(o,"move"),this._onMouseMove,Pc),Iu(r,"".concat(o,"move"),this._onMouseMove,Pc)}}_onMouseMove(n){const r=this.getActiveObject();!this.allowTouchScrolling&&(!r||!r.shouldStartDragging(n))&&n.preventDefault&&n.preventDefault(),this.__onMouseMove(n)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(n){const r=this.getActiveObject();return!!r!=!!n||r&&n&&r!==n}__onMouseUp(n){var r;this._cacheTransformEventData(n),this._handleEvent(n,"up:before");const o=this._currentTransform,c=this._isClick,f=this._target,{button:y}=n;if(y)return(this.fireMiddleClick&&y===1||this.fireRightClick&&y===2)&&this._handleEvent(n,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(n);if(!this._isMainEvent(n))return;let w,R,U=!1;if(o&&(this._finalizeCurrentTransform(n),U=o.actionPerformed),!c){const V=f===this._activeObject;this.handleSelection(n),U||(U=this._shouldRender(f)||!V&&f===this._activeObject)}if(f){const V=f.findControl(this.getViewportPoint(n),gr(n)),{key:be,control:De}=V||{};if(R=be,f.selectable&&f!==this._activeObject&&f.activeOn==="up")this.setActiveObject(f,n),U=!0;else if(De){const nt=De.getMouseUpHandler(n,f,De);nt&&(w=this.getScenePoint(n),nt.call(De,n,o,w.x,w.y))}f.isMoving=!1}if(o&&(o.target!==f||o.corner!==R)){const V=o.target&&o.target.controls[o.corner],be=V&&V.getMouseUpHandler(n,o.target,V);w=w||this.getScenePoint(n),be&&be.call(V,n,o,w.x,w.y)}this._setCursorFromEvent(n,f),this._handleEvent(n,"up"),this._groupSelector=null,this._currentTransform=null,f&&(f.__corner=void 0),U?this.requestRenderAll():c||(r=this._activeObject)!==null&&r!==void 0&&r.isEditing||this.renderTop()}_basicEventHandler(n,r){const{target:o,subTargets:c=[]}=r;this.fire(n,r),o&&o.fire(n,r);for(let f=0;f<c.length;f++)c[f]!==o&&c[f].fire(n,r);return r}_handleEvent(n,r){const o=this._target,c=this.targets||[],f=$($({e:n,target:o,subTargets:c},vd(this,n)),{},{transform:this._currentTransform},r==="up:before"||r==="up"?{isClick:this._isClick,currentTarget:this.findTarget(n),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(r),f),o&&o.fire("mouse".concat(r),f);for(let y=0;y<c.length;y++)c[y]!==o&&c[y].fire("mouse".concat(r),f)}_onMouseDownInDrawingMode(n){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(n),this.requestRenderAll());const r=this.getScenePoint(n);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(r,{e:n,pointer:r}),this._handleEvent(n,"down")}_onMouseMoveInDrawingMode(n){if(this._isCurrentlyDrawing){const r=this.getScenePoint(n);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(r,{e:n,pointer:r})}this.setCursor(this.freeDrawingCursor),this._handleEvent(n,"move")}_onMouseUpInDrawingMode(n){const r=this.getScenePoint(n);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:n,pointer:r}):this._isCurrentlyDrawing=!1,this._handleEvent(n,"up")}__onMouseDown(n){this._isClick=!0,this._cacheTransformEventData(n),this._handleEvent(n,"down:before");let r=this._target;const{button:o}=n;if(o)return(this.fireMiddleClick&&o===1||this.fireRightClick&&o===2)&&this._handleEvent(n,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(n);if(!this._isMainEvent(n)||this._currentTransform)return;let c=this._shouldRender(r),f=!1;if(this.handleMultiSelection(n,r)?(r=this._activeObject,f=!0,c=!0):this._shouldClearSelection(n,r)&&this.discardActiveObject(n),this.selection&&(!r||!r.selectable&&!r.isEditing&&r!==this._activeObject)){const y=this.getScenePoint(n);this._groupSelector={x:y.x,y:y.y,deltaY:0,deltaX:0}}if(r){const y=r===this._activeObject;r.selectable&&r.activeOn==="down"&&this.setActiveObject(r,n);const w=r.findControl(this.getViewportPoint(n),gr(n));if(r===this._activeObject&&(w||!f)){this._setupCurrentTransform(n,r,y);const R=w?w.control:void 0,U=this.getScenePoint(n),V=R&&R.getMouseDownHandler(n,r,R);V&&V.call(R,n,this._currentTransform,U.x,U.y)}}c&&(this._objectsToRender=void 0),this._handleEvent(n,"down"),c&&this.requestRenderAll()}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(n){this._resetTransformEventData(),this._pointer=this.getViewportPoint(n),this._absolutePointer=Ui(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(n)}__onMouseMove(n){if(this._isClick=!1,this._cacheTransformEventData(n),this._handleEvent(n,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(n);if(!this._isMainEvent(n))return;const r=this._groupSelector;if(r){const o=this.getScenePoint(n);r.deltaX=o.x-r.x,r.deltaY=o.y-r.y,this.renderTop()}else if(this._currentTransform)this._transformObject(n);else{const o=this.findTarget(n);this._setCursorFromEvent(n,o),this._fireOverOutEvents(n,o)}this.textEditingManager.onMouseMove(n),this._handleEvent(n,"move"),this._resetTransformEventData()}_fireOverOutEvents(n,r){const o=this._hoveredTarget,c=this._hoveredTargets,f=this.targets,y=Math.max(c.length,f.length);this.fireSyntheticInOutEvents("mouse",{e:n,target:r,oldTarget:o,fireCanvas:!0});for(let w=0;w<y;w++)this.fireSyntheticInOutEvents("mouse",{e:n,target:f[w],oldTarget:c[w]});this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(n,r){const o=this._draggedoverTarget,c=this._hoveredTargets,f=this.targets,y=Math.max(c.length,f.length);this.fireSyntheticInOutEvents("drag",$($({},r),{},{target:n,oldTarget:o,fireCanvas:!0}));for(let w=0;w<y;w++)this.fireSyntheticInOutEvents("drag",$($({},r),{},{target:f[w],oldTarget:c[w]}));this._draggedoverTarget=n}fireSyntheticInOutEvents(n,r){let{target:o,oldTarget:c,fireCanvas:f,e:y}=r,w=de(r,pl);const{targetIn:R,targetOut:U,canvasIn:V,canvasOut:be}=Ef[n],De=c!==o;if(c&&De){const nt=$($({},w),{},{e:y,target:c,nextTarget:o},vd(this,y));f&&this.fire(be,nt),c.fire(U,nt)}if(o&&De){const nt=$($({},w),{},{e:y,target:o,previousTarget:c},vd(this,y));f&&this.fire(V,nt),o.fire(R,nt)}}__onMouseWheel(n){this._cacheTransformEventData(n),this._handleEvent(n,"wheel"),this._resetTransformEventData()}_transformObject(n){const r=this.getScenePoint(n),o=this._currentTransform,c=o.target,f=c.group?Ui(r,void 0,c.group.calcTransformMatrix()):r;o.shiftKey=n.shiftKey,o.altKey=!!this.centeredKey&&n[this.centeredKey],this._performTransformAction(n,o,f),o.actionPerformed&&this.requestRenderAll()}_performTransformAction(n,r,o){const{action:c,actionHandler:f,target:y}=r,w=!!f&&f(n,r,o.x,o.y);w&&y.setCoords(),c==="drag"&&w&&(r.target.isMoving=!0,this.setCursor(r.target.moveCursor||this.moveCursor)),r.actionPerformed=r.actionPerformed||w}_setCursorFromEvent(n,r){if(!r)return void this.setCursor(this.defaultCursor);let o=r.hoverCursor||this.hoverCursor;const c=Ws(this._activeObject)?this._activeObject:null,f=(!c||r.group!==c)&&r.findControl(this.getViewportPoint(n));if(f){const y=f.control;this.setCursor(y.cursorStyleHandler(n,y,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(y=>{o=y.hoverCursor||o}),this.setCursor(o)}handleMultiSelection(n,r){const o=this._activeObject,c=Ws(o);if(o&&this._isSelectionKeyPressed(n)&&this.selection&&r&&r.selectable&&(o!==r||c)&&(c||!r.isDescendantOf(o)&&!o.isDescendantOf(r))&&!r.onSelect({e:n})&&!o.getActiveControl()){if(c){const f=o.getObjects();if(r===o){const y=this.getViewportPoint(n);if(!(r=this.searchPossibleTargets(f,y)||this.searchPossibleTargets(this._objects,y))||!r.selectable)return!1}r.group===o?(o.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],o.size()===1&&this._setActiveObject(o.item(0),n)):(o.multiSelectAdd(r),this._hoveredTarget=o,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(f,n)}else{o.exitEditing&&o.exitEditing();const f=new(dn.getClass("ActiveSelection"))([],{canvas:this});f.multiSelectAdd(o,r),this._hoveredTarget=f,this._setActiveObject(f,n),this._fireSelectionEvents([o],n)}return!0}return!1}handleSelection(n){if(!this.selection||!this._groupSelector)return!1;const{x:r,y:o,deltaX:c,deltaY:f}=this._groupSelector,y=new it(r,o),w=y.add(new it(c,f)),R=y.min(w),U=y.max(w).subtract(R),V=this.collectObjects({left:R.x,top:R.y,width:U.x,height:U.y},{includeIntersecting:!this.selectionFullyContained}),be=y.eq(w)?V[0]?[V[0]]:[]:V.length>1?V.filter(De=>!De.onSelect({e:n})).reverse():V;if(be.length===1)this.setActiveObject(be[0],n);else if(be.length>1){const De=dn.getClass("ActiveSelection");this.setActiveObject(new De(be,{canvas:this}),n)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const Uh={x1:0,y1:0,x2:0,y2:0},mp=$($({},Uh),{},{r1:0,r2:0}),fs=/^(\d+\.\d+)%|(\d+)%$/;function vp(x){return x&&fs.test(x)}function mc(x,n){const r=typeof x=="number"?x:typeof x=="string"?parseFloat(x)/(vp(x)?100:1):NaN;return te(0,bi(r,n),1)}const zh=/\s*;\s*/,ed=/\s*:\s*/;function vc(x,n){let r,o;const c=x.getAttribute("style");if(c){const y=c.split(zh);y[y.length-1]===""&&y.pop();for(let w=y.length;w--;){const[R,U]=y[w].split(ed).map(V=>V.trim());R==="stop-color"?r=U:R==="stop-opacity"&&(o=U)}}const f=new Dn(r||x.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:mc(x.getAttribute("offset"),0),color:f.toRgb(),opacity:bi(parseFloat(o||x.getAttribute("stop-opacity")||""),1)*f.getAlpha()*n}}function yd(x,n){const r=[],o=x.getElementsByTagName("stop"),c=mc(n,1);for(let f=o.length;f--;)r.push(vc(o[f],c));return r}function al(x){return x.nodeName==="linearGradient"||x.nodeName==="LINEARGRADIENT"?"linear":"radial"}function qo(x){return x.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Rc(x,n){return x.getAttribute(n)}function cu(x,n){return function(r,o){let c,{width:f,height:y,gradientUnits:w}=o;return Object.keys(r).reduce((R,U)=>{const V=r[U];return V==="Infinity"?c=1:V==="-Infinity"?c=0:(c=typeof V=="string"?parseFloat(V):V,typeof V=="string"&&vp(V)&&(c*=.01,w==="pixels"&&(U!=="x1"&&U!=="x2"&&U!=="r2"||(c*=f),U!=="y1"&&U!=="y2"||(c*=y)))),R[U]=c,R},{})}(al(x)==="linear"?function(r){return{x1:Rc(r,"x1")||0,y1:Rc(r,"y1")||0,x2:Rc(r,"x2")||"100%",y2:Rc(r,"y2")||0}}(x):function(r){return{x1:Rc(r,"fx")||Rc(r,"cx")||"50%",y1:Rc(r,"fy")||Rc(r,"cy")||"50%",r1:0,x2:Rc(r,"cx")||"50%",y2:Rc(r,"cy")||"50%",r2:Rc(r,"r")||"50%"}}(x),$($({},n),{},{gradientUnits:qo(x)}))}class wu{constructor(n){let{type:r="linear",gradientUnits:o="pixels",coords:c={},colorStops:f=[],offsetX:y=0,offsetY:w=0,gradientTransform:R,id:U}=n;this.id=U?"".concat(U,"_").concat(gn()):gn(),this.type=r,this.gradientUnits=o,this.gradientTransform=R,this.offsetX=y,this.offsetY=w,this.coords=$($({},this.type==="radial"?mp:Uh),c),this.colorStops=f.slice()}addColorStop(n){for(const r in n){const o=new Dn(n[r]);this.colorStops.push({offset:parseFloat(r),color:o.toRgb(),opacity:o.getAlpha()})}return this}toObject(n){return $($({},Ss(this,n)),{},{type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(n){let{additionalTransform:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=[],c=this.gradientTransform?this.gradientTransform.concat():Le.concat(),f=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",y=this.colorStops.map(be=>$({},be)).sort((be,De)=>be.offset-De.offset);let w=-this.offsetX,R=-this.offsetY;var U;f==="objectBoundingBox"?(w/=n.width,R/=n.height):(w+=n.width/2,R+=n.height/2),(U=n)&&typeof U._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(w-=n.pathOffset.x,R-=n.pathOffset.y),c[4]-=w,c[5]-=R;const V=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(f,'"'),'gradientTransform="'.concat(r?r+" ":"").concat(pr(c),'"'),""].join(" ");if(this.type==="linear"){const{x1:be,y1:De,x2:nt,y2:wt}=this.coords;o.push("<linearGradient ",V,' x1="',be,'" y1="',De,'" x2="',nt,'" y2="',wt,`">
`)}else if(this.type==="radial"){const{x1:be,y1:De,x2:nt,y2:wt,r1:Xt,r2:fn}=this.coords,bn=Xt>fn;o.push("<radialGradient ",V,' cx="',bn?be:nt,'" cy="',bn?De:wt,'" r="',bn?Xt:fn,'" fx="',bn?nt:be,'" fy="',bn?wt:De,`">
`),bn&&(y.reverse(),y.forEach(Fr=>{Fr.offset=1-Fr.offset}));const Oi=Math.min(Xt,fn);if(Oi>0){const Fr=Oi/Math.max(Xt,fn);y.forEach(xs=>{xs.offset+=Fr*(1-xs.offset)})}}return y.forEach(be=>{let{color:De,offset:nt,opacity:wt}=be;o.push("<stop ",'offset="',100*nt+"%",'" style="stop-color:',De,wt!==void 0?";stop-opacity: "+wt:";",`"/>
`)}),o.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),o.join("")}toLive(n){const r=this.coords,o=this.type==="linear"?n.createLinearGradient(r.x1,r.y1,r.x2,r.y2):n.createRadialGradient(r.x1,r.y1,r.r1,r.x2,r.y2,r.r2);return this.colorStops.forEach(c=>{let{color:f,opacity:y,offset:w}=c;o.addColorStop(w,y!==void 0?new Dn(f).setAlpha(y).toRgba():f)}),o}static fromObject(n){return Tl(this,null,function*(){return new this(n)})}static fromElement(n,r,o){const c=qo(n),f=r._findCenterFromElement();return new this($({id:n.getAttribute("id")||void 0,type:al(n),coords:cu(n,{width:o.viewBoxWidth||o.width,height:o.viewBoxHeight||o.height}),colorStops:yd(n,o.opacity),gradientUnits:c,gradientTransform:dd(n.getAttribute("gradientTransform")||"")},c==="pixels"?{offsetX:r.width/2-f.x,offsetY:r.height/2-f.y}:{offsetX:0,offsetY:0}))}}u(wu,"type","Gradient"),dn.setClass(wu,"gradient"),dn.setClass(wu,"linear"),dn.setClass(wu,"radial");const Af=["type","source"];class Qc{get type(){return"pattern"}set type(n){j("warn","Setting type has no effect",n)}constructor(n){u(this,"repeat","repeat"),u(this,"offsetX",0),u(this,"offsetY",0),u(this,"crossOrigin",""),u(this,"patternTransform",null),this.id=gn(),Object.assign(this,n)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(n){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?n.createPattern(this.source,this.repeat):null}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:r,crossOrigin:o}=this;return $($({},Ss(this,n)),{},{type:"pattern",source:this.sourceToString(),repeat:r,crossOrigin:o,offsetX:ri(this.offsetX,X.NUM_FRACTION_DIGITS),offsetY:ri(this.offsetY,X.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(n){let{width:r,height:o}=n;const{source:c,repeat:f,id:y}=this,w=bi(this.offsetX/r,0),R=bi(this.offsetY/o,0),U=f==="repeat-y"||f==="no-repeat"?1+Math.abs(w||0):bi(c.width/r,0),V=f==="repeat-x"||f==="no-repeat"?1+Math.abs(R||0):bi(c.height/o,0);return['<pattern id="SVGID_'.concat(y,'" x="').concat(w,'" y="').concat(R,'" width="').concat(U,'" height="').concat(V,'">'),'<image x="0" y="0" width="'.concat(c.width,'" height="').concat(c.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static fromObject(n,r){return Tl(this,null,function*(){let{type:o,source:c}=n,f=de(n,Af);const y=yield Us(c,$($({},r),{},{crossOrigin:f.crossOrigin}));return new this($($({},f),{},{source:y}))})}}u(Qc,"type","Pattern"),dn.setClass(Qc),dn.setClass(Qc,"pattern");class Du{constructor(n){u(this,"color","rgb(0, 0, 0)"),u(this,"width",1),u(this,"shadow",null),u(this,"strokeLineCap","round"),u(this,"strokeLineJoin","round"),u(this,"strokeMiterLimit",10),u(this,"strokeDashArray",null),u(this,"limitedToCanvasSize",!1),this.canvas=n}_setBrushStyles(n){n.strokeStyle=this.color,n.lineWidth=this.width,n.lineCap=this.strokeLineCap,n.miterLimit=this.strokeMiterLimit,n.lineJoin=this.strokeLineJoin,n.setLineDash(this.strokeDashArray||[])}_saveAndTransform(n){const r=this.canvas.viewportTransform;n.save(),n.transform(r[0],r[1],r[2],r[3],r[4],r[5])}needsFullRender(){return new Dn(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const n=this.canvas,r=this.shadow,o=n.contextTop,c=n.getZoom()*n.getRetinaScaling();o.shadowColor=r.color,o.shadowBlur=r.blur*c,o.shadowOffsetX=r.offsetX*c,o.shadowOffsetY=r.offsetY*c}_resetShadow(){const n=this.canvas.contextTop;n.shadowColor="",n.shadowBlur=n.shadowOffsetX=n.shadowOffsetY=0}_isOutSideCanvas(n){return n.x<0||n.x>this.canvas.getWidth()||n.y<0||n.y>this.canvas.getHeight()}}const td=["path","left","top"],Jd=["d"];class Oc extends Zi{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:o,left:c,top:f}=r,y=de(r,td);super(),Object.assign(this,Oc.ownDefaults),this.setOptions(y),this._setPath(n||[],!0),typeof c=="number"&&this.set(Ht,c),typeof f=="number"&&this.set(Pn,f)}_setPath(n,r){this.path=qc(Array.isArray(n)?n:_u(n)),this.setBoundingBox(r)}_findCenterFromElement(){const n=this._calcBoundsFromPath();return new it(n.left+n.width/2,n.top+n.height/2)}_renderPathCommands(n){const r=-this.pathOffset.x,o=-this.pathOffset.y;n.beginPath();for(const c of this.path)switch(c[0]){case"L":n.lineTo(c[1]+r,c[2]+o);break;case"M":n.moveTo(c[1]+r,c[2]+o);break;case"C":n.bezierCurveTo(c[1]+r,c[2]+o,c[3]+r,c[4]+o,c[5]+r,c[6]+o);break;case"Q":n.quadraticCurveTo(c[1]+r,c[2]+o,c[3]+r,c[4]+o);break;case"Z":n.closePath()}}_render(n){this._renderPathCommands(n),this._renderPaintInOrder(n)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $($({},super.toObject(n)),{},{path:this.path.map(r=>r.slice())})}toDatalessObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=this.toObject(n);return this.sourcePath&&(delete r.path,r.sourcePath=this.sourcePath),r}_toSVG(){const n=Uc(this.path,X.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(n,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const n=X.NUM_FRACTION_DIGITS;return" translate(".concat(ri(-this.pathOffset.x,n),", ").concat(ri(-this.pathOffset.y,n),")")}toClipPathSVG(n){const r=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:n,additionalTransform:r})}toSVG(n){const r=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:n,additionalTransform:r})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(n){const{width:r,height:o,pathOffset:c}=this._calcDimensions();this.set({width:r,height:o,pathOffset:c}),n&&this.setPositionByOrigin(c,lt,lt)}_calcBoundsFromPath(){const n=[];let r=0,o=0,c=0,f=0;for(const y of this.path)switch(y[0]){case"L":c=y[1],f=y[2],n.push(new it(r,o),new it(c,f));break;case"M":c=y[1],f=y[2],r=c,o=f;break;case"C":n.push(...Bc(c,f,y[1],y[2],y[3],y[4],y[5],y[6])),c=y[5],f=y[6];break;case"Q":n.push(...Bc(c,f,y[1],y[2],y[1],y[2],y[3],y[4])),c=y[3],f=y[4];break;case"Z":c=r,f=o}return Yi(n)}_calcDimensions(){const n=this._calcBoundsFromPath();return $($({},n),{},{pathOffset:new it(n.left+n.width/2,n.top+n.height/2)})}static fromObject(n){return this._fromObject(n,{extraParam:"path"})}static fromElement(n,r,o){return Tl(this,null,function*(){const c=Mc(n,this.ATTRIBUTE_NAMES,o),{d:f}=c;return new this(f,$($($({},de(c,Jd)),r),{},{left:void 0,top:void 0}))})}}u(Oc,"type","Path"),u(Oc,"cacheProperties",[...hn,"path","fillRule"]),u(Oc,"ATTRIBUTE_NAMES",[...ao,"d"]),dn.setClass(Oc),dn.setSVGClass(Oc);class Lu extends Du{constructor(n){super(n),u(this,"decimate",.4),u(this,"drawStraightLine",!1),u(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(n,r,o){const c=r.midPointFrom(o);return n.quadraticCurveTo(r.x,r.y,c.x,c.y),c}onMouseDown(n,r){let{e:o}=r;this.canvas._isMainEvent(o)&&(this.drawStraightLine=!!this.straightLineKey&&o[this.straightLineKey],this._prepareForDrawing(n),this._addPoint(n),this._render())}onMouseMove(n,r){let{e:o}=r;if(this.canvas._isMainEvent(o)&&(this.drawStraightLine=!!this.straightLineKey&&o[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(n))&&this._addPoint(n)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const c=this._points,f=c.length,y=this.canvas.contextTop;this._saveAndTransform(y),this.oldEnd&&(y.beginPath(),y.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=Lu.drawSegment(y,c[f-2],c[f-1]),y.stroke(),y.restore()}}onMouseUp(n){let{e:r}=n;return!this.canvas._isMainEvent(r)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(n){this._reset(),this._addPoint(n),this.canvas.contextTop.moveTo(n.x,n.y)}_addPoint(n){return!(this._points.length>1&&n.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(n),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,r=this._points[0],o=this._points[1];if(this._saveAndTransform(n),n.beginPath(),this._points.length===2&&r.x===o.x&&r.y===o.y){const c=this.width/1e3;r.x-=c,o.x+=c}n.moveTo(r.x,r.y);for(let c=1;c<this._points.length;c++)Lu.drawSegment(n,r,o),r=this._points[c],o=this._points[c+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()}convertPointsToSVGPath(n){const r=this.width/1e3;return lu(n,r)}createPath(n){const r=new Oc(n,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new nn(this.shadow)),r}decimatePoints(n,r){if(n.length<=2)return n;let o,c=n[0];const f=this.canvas.getZoom(),y=Math.pow(r/f,2),w=n.length-1,R=[c];for(let U=1;U<w-1;U++)o=Math.pow(c.x-n[U].x,2)+Math.pow(c.y-n[U].y,2),o>=y&&(c=n[U],R.push(c));return R.push(n[w]),R}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const n=this.convertPointsToSVGPath(this._points);if(function(o){return Uc(o)==="M 0 0 Q 0 0 0 0 L 0 0"}(n))return void this.canvas.requestRenderAll();const r=this.createPath(n);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.requestRenderAll(),r.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:r})}}const Qd=["left","top","radius"],eh=["radius","startAngle","endAngle","counterClockwise"];class kc extends Zi{static getDefaults(){return $($({},super.getDefaults()),kc.ownDefaults)}constructor(n){super(),Object.assign(this,kc.ownDefaults),this.setOptions(n)}_set(n,r){return super._set(n,r),n==="radius"&&this.setRadius(r),this}_render(n){n.beginPath(),n.arc(0,0,this.radius,Or(this.startAngle),Or(this.endAngle),this.counterClockwise),this._renderPaintInOrder(n)}getRadiusX(){return this.get("radius")*this.get(Gt)}getRadiusY(){return this.get("radius")*this.get(Bt)}setRadius(n){this.radius=n,this.set({width:2*n,height:2*n})}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...eh,...n])}_toSVG(){const n=(this.endAngle-this.startAngle)%360;if(n===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:r}=this,o=Or(this.startAngle),c=Or(this.endAngle),f=Fi(o)*r,y=pn(o)*r,w=Fi(c)*r,R=pn(c)*r,U=n>180?1:0,V=this.counterClockwise?0:1;return['<path d="M '.concat(f," ").concat(y," A ").concat(r," ").concat(r," 0 ").concat(U," ").concat(V," ").concat(w," ").concat(R,'" '),"COMMON_PARTS",` />
`]}}static fromElement(n,r,o){return Tl(this,null,function*(){const c=Mc(n,this.ATTRIBUTE_NAMES,o),{left:f=0,top:y=0,radius:w=0}=c;return new this($($({},de(c,Qd)),{},{radius:w,left:f-w,top:y-w}))})}static fromObject(n){return super._fromObject(n)}}u(kc,"type","Circle"),u(kc,"cacheProperties",[...hn,...eh]),u(kc,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),u(kc,"ATTRIBUTE_NAMES",["cx","cy","r",...ao]),dn.setClass(kc),dn.setSVGClass(kc);class yp extends null{constructor(n){super(n),u(this,"width",10),this.points=[]}drawDot(n){const r=this.addPoint(n),o=this.canvas.contextTop;this._saveAndTransform(o),this.dot(o,r),o.restore()}dot(n,r){n.fillStyle=r.fill,n.beginPath(),n.arc(r.x,r.y,r.radius,0,2*Math.PI,!1),n.closePath(),n.fill()}onMouseDown(n){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(n)}_render(){const n=this.canvas.contextTop,r=this.points;this._saveAndTransform(n);for(let o=0;o<r.length;o++)this.dot(n,r[o]);n.restore()}onMouseMove(n){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(n)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(n),this._render()):this.drawDot(n))}onMouseUp(){const n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const r=[];for(let c=0;c<this.points.length;c++){const f=this.points[c],y=new kc({radius:f.radius,left:f.x,top:f.y,originX:lt,originY:lt,fill:f.fill});this.shadow&&(y.shadow=new nn(this.shadow)),r.push(y)}const o=new tl(r,{canvas:this.canvas});this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()}addPoint(n){let{x:r,y:o}=n;const c={x:r,y:o,radius:mr(Math.max(0,this.width-20),this.width+20)/2,fill:new Dn(this.color).setAlpha(mr(0,100)/100).toRgba()};return this.points.push(c),c}}class xp extends null{constructor(n){super(n),u(this,"width",10),u(this,"density",20),u(this,"dotWidth",1),u(this,"dotWidthVariance",1),u(this,"randomOpacity",!1),u(this,"optimizeOverlapping",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(n){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(n),this.renderChunck(this.sprayChunk)}onMouseMove(n){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(n)||(this.addSprayChunk(n),this.renderChunck(this.sprayChunk))}onMouseUp(){const n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const r=[];for(let c=0;c<this.sprayChunks.length;c++){const f=this.sprayChunks[c];for(let y=0;y<f.length;y++){const w=f[y],R=new gc({width:w.width,height:w.width,left:w.x+1,top:w.y+1,originX:lt,originY:lt,fill:this.color});r.push(R)}}const o=new tl(this.optimizeOverlapping?function(c){const f={},y=[];for(let w,R=0;R<c.length;R++)w="".concat(c[R].left).concat(c[R].top),f[w]||(f[w]=!0,y.push(c[R]));return y}(r):r,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&o.set("shadow",new nn(this.shadow)),this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()}renderChunck(n){const r=this.canvas.contextTop;r.fillStyle=this.color,this._saveAndTransform(r);for(let o=0;o<n.length;o++){const c=n[o];r.globalAlpha=c.opacity,r.fillRect(c.x,c.y,c.width,c.width)}r.restore()}_render(){const n=this.canvas.contextTop;n.fillStyle=this.color,this._saveAndTransform(n);for(let r=0;r<this.sprayChunks.length;r++)this.renderChunck(this.sprayChunks[r]);n.restore()}addSprayChunk(n){this.sprayChunk=[];const r=this.width/2;for(let o=0;o<this.density;o++)this.sprayChunk.push({x:mr(n.x-r,n.x+r),y:mr(n.y-r,n.y+r),width:this.dotWidthVariance?mr(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?mr(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}class kh extends null{constructor(n){super(n)}getPatternSrc(){const n=Ft(),r=n.getContext("2d");return n.width=n.height=25,r&&(r.fillStyle=this.color,r.beginPath(),r.arc(10,10,10,0,2*Math.PI,!1),r.closePath(),r.fill()),n}getPattern(n){return n.createPattern(this.source||this.getPatternSrc(),"repeat")}_setBrushStyles(n){super._setBrushStyles(n);const r=this.getPattern(n);r&&(n.strokeStyle=r)}createPath(n){const r=super.createPath(n),o=r._getLeftTopCoords().scalarAdd(r.strokeWidth/2);return r.stroke=new Qc({source:this.source||this.getPatternSrc(),offsetX:-o.x,offsetY:-o.y}),r}}const th=["x1","y1","x2","y2"],Ql=["x1","y1","x2","y2"],$h=["x1","x2","y1","y2"];class $c extends Zi{constructor(){let[n,r,o,c]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,$c.ownDefaults),this.setOptions(f),this.x1=n,this.x2=o,this.y1=r,this.y2=c,this._setWidthHeight();const{left:y,top:w}=f;typeof y=="number"&&this.set(Ht,y),typeof w=="number"&&this.set(Pn,w)}_setWidthHeight(){const{x1:n,y1:r,x2:o,y2:c}=this;this.width=Math.abs(o-n),this.height=Math.abs(c-r);const{left:f,top:y,width:w,height:R}=Yi([{x:n,y:r},{x:o,y:c}]),U=new it(f+w/2,y+R/2);this.setPositionByOrigin(U,lt,lt)}_set(n,r){return super._set(n,r),$h.includes(n)&&this._setWidthHeight(),this}_render(n){n.beginPath();const r=this.calcLinePoints();n.moveTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineWidth=this.strokeWidth;const o=n.strokeStyle;var c;vr(this.stroke)?n.strokeStyle=this.stroke.toLive(n):n.strokeStyle=(c=this.stroke)!==null&&c!==void 0?c:n.fillStyle,this.stroke&&this._renderStroke(n),n.strokeStyle=o}_findCenterFromElement(){return new it((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $($({},super.toObject(n)),this.calcLinePoints())}_getNonTransformedDimensions(){const n=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(n.y-=this.strokeWidth),this.height===0&&(n.x-=this.strokeWidth)),n}calcLinePoints(){const{x1:n,x2:r,y1:o,y2:c,width:f,height:y}=this,w=n<=r?-1:1,R=o<=c?-1:1;return{x1:w*f/2,x2:w*-f/2,y1:R*y/2,y2:R*-y/2}}_toSVG(){const{x1:n,x2:r,y1:o,y2:c}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(n,'" y1="').concat(o,'" x2="').concat(r,'" y2="').concat(c,`" />
`)]}static fromElement(n,r,o){return Tl(this,null,function*(){const c=Mc(n,this.ATTRIBUTE_NAMES,o),{x1:f=0,y1:y=0,x2:w=0,y2:R=0}=c;return new this([f,y,w,R],de(c,th))})}static fromObject(n){let{x1:r,y1:o,x2:c,y2:f}=n,y=de(n,Ql);return this._fromObject($($({},y),{},{points:[r,o,c,f]}),{extraParam:"points"})}}u($c,"type","Line"),u($c,"cacheProperties",[...hn,...$h]),u($c,"ATTRIBUTE_NAMES",ao.concat($h)),dn.setClass($c),dn.setSVGClass($c);class yc extends Zi{static getDefaults(){return $($({},super.getDefaults()),yc.ownDefaults)}constructor(n){super(),Object.assign(this,yc.ownDefaults),this.setOptions(n)}_render(n){const r=this.width/2,o=this.height/2;n.beginPath(),n.moveTo(-r,o),n.lineTo(0,-o),n.lineTo(r,o),n.closePath(),this._renderPaintInOrder(n)}_toSVG(){const n=this.width/2,r=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-n," ").concat(r,",0 ").concat(-r,",").concat(n," ").concat(r),'" />']}}u(yc,"type","Triangle"),u(yc,"ownDefaults",{width:100,height:100}),dn.setClass(yc),dn.setSVGClass(yc);const Nu=["rx","ry"];class rl extends Zi{static getDefaults(){return $($({},super.getDefaults()),rl.ownDefaults)}constructor(n){super(),Object.assign(this,rl.ownDefaults),this.setOptions(n)}_set(n,r){switch(super._set(n,r),n){case"rx":this.rx=r,this.set("width",2*r);break;case"ry":this.ry=r,this.set("height",2*r)}return this}getRx(){return this.get("rx")*this.get(Gt)}getRy(){return this.get("ry")*this.get(Bt)}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...Nu,...n])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(n){n.beginPath(),n.save(),n.transform(1,0,0,this.ry/this.rx,0,0),n.arc(0,0,this.rx,0,tt,!1),n.restore(),this._renderPaintInOrder(n)}static fromElement(n,r,o){return Tl(this,null,function*(){const c=Mc(n,this.ATTRIBUTE_NAMES,o);return c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,new this(c)})}}function bp(x){if(!x)return[];const n=x.replace(/,/g," ").trim().split(/\s+/),r=[];for(let o=0;o<n.length;o+=2)r.push({x:parseFloat(n[o]),y:parseFloat(n[o+1])});return r}u(rl,"type","Ellipse"),u(rl,"cacheProperties",[...hn,...Nu]),u(rl,"ownDefaults",{rx:0,ry:0}),u(rl,"ATTRIBUTE_NAMES",[...ao,"cx","cy","rx","ry"]),dn.setClass(rl),dn.setSVGClass(rl);const Pf=["left","top"],Hh={exactBoundingBox:!1};class Hc extends Zi{static getDefaults(){return $($({},super.getDefaults()),Hc.ownDefaults)}constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),u(this,"strokeDiff",void 0),Object.assign(this,Hc.ownDefaults),this.setOptions(r),this.points=n;const{left:o,top:c}=r;this.initialized=!0,this.setBoundingBox(!0),typeof o=="number"&&this.set(Ht,o),typeof c=="number"&&this.set(Pn,c)}isOpen(){return!0}_projectStrokeOnPoints(n){return Ko(this.points,n,this.isOpen())}_calcDimensions(n){n=$({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},n||{});const r=this.exactBoundingBox?this._projectStrokeOnPoints(n).map(U=>U.projectedPoint):this.points;if(r.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new it,strokeOffset:new it,strokeDiff:new it};const o=Yi(r),c=Sr($($({},n),{},{scaleX:1,scaleY:1})),f=Yi(this.points.map(U=>$r(U,c,!0))),y=new it(this.scaleX,this.scaleY);let w=o.left+o.width/2,R=o.top+o.height/2;return this.exactBoundingBox&&(w-=R*Math.tan(Or(this.skewX)),R-=w*Math.tan(Or(this.skewY))),$($({},o),{},{pathOffset:new it(w,R),strokeOffset:new it(f.left,f.top).subtract(new it(o.left,o.top)).multiply(y),strokeDiff:new it(o.width,o.height).subtract(new it(f.width,f.height)).multiply(y)})}_findCenterFromElement(){const n=Yi(this.points);return new it(n.left+n.width/2,n.top+n.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(n){const{left:r,top:o,width:c,height:f,pathOffset:y,strokeOffset:w,strokeDiff:R}=this._calcDimensions();this.set({width:c,height:f,pathOffset:y,strokeOffset:w,strokeDiff:R}),n&&this.setPositionByOrigin(new it(r+c/2,o+f/2),lt,lt)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new it(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let y;if(Object.keys(n).some(w=>this.strokeUniform||this.constructor.layoutProperties.includes(w))){var r,o;const{width:w,height:R}=this._calcDimensions(n);y=new it((r=n.width)!==null&&r!==void 0?r:w,(o=n.height)!==null&&o!==void 0?o:R)}else{var c,f;y=new it((c=n.width)!==null&&c!==void 0?c:this.width,(f=n.height)!==null&&f!==void 0?f:this.height)}return y.multiply(new it(n.scaleX||this.scaleX,n.scaleY||this.scaleY))}return super._getTransformedDimensions(n)}_set(n,r){const o=this.initialized&&this[n]!==r,c=super._set(n,r);return this.exactBoundingBox&&o&&((n===Gt||n===Bt)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(n))&&this.setDimensions(),c}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $($({},super.toObject(n)),{},{points:si(this.points)})}_toSVG(){const n=[],r=this.pathOffset.x,o=this.pathOffset.y,c=X.NUM_FRACTION_DIGITS;for(let f=0,y=this.points.length;f<y;f++)n.push(ri(this.points[f].x-r,c),",",ri(this.points[f].y-o,c)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(n.join(""),`" />
`)]}_render(n){const r=this.points.length,o=this.pathOffset.x,c=this.pathOffset.y;if(r&&!isNaN(this.points[r-1].y)){n.beginPath(),n.moveTo(this.points[0].x-o,this.points[0].y-c);for(let f=0;f<r;f++){const y=this.points[f];n.lineTo(y.x-o,y.y-c)}!this.isOpen()&&n.closePath(),this._renderPaintInOrder(n)}}complexity(){return this.points.length}static fromElement(n,r,o){return Tl(this,null,function*(){return new this(bp(n.getAttribute("points")),$($({},de(Mc(n,this.ATTRIBUTE_NAMES,o),Pf)),r))})}static fromObject(n){return this._fromObject(n,{extraParam:"points"})}}u(Hc,"ownDefaults",Hh),u(Hc,"type","Polyline"),u(Hc,"layoutProperties",[Nn,Pt,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),u(Hc,"cacheProperties",[...hn,"points"]),u(Hc,"ATTRIBUTE_NAMES",[...ao]),dn.setClass(Hc),dn.setSVGClass(Hc);class nh extends Hc{isOpen(){return!1}}u(nh,"ownDefaults",Hh),u(nh,"type","Polygon"),dn.setClass(nh),dn.setSVGClass(nh);const Vc=["fontSize","fontWeight","fontFamily","fontStyle"],ih=["underline","overline","linethrough"],uu=[...Vc,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],Vh=[...uu,...ih,"textBackgroundColor","direction"],Wh=[...Vc,...ih,cn,"strokeWidth",rn,"deltaY","textBackgroundColor"],jl={_reNewline:Ge,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ht,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ht,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},gl="justify",du="justify-left",xd="justify-right",sc="justify-center";class Rf extends Zi{isEmptyStyles(n){if(!this.styles||n!==void 0&&!this.styles[n])return!0;const r=n===void 0?this.styles:{line:this.styles[n]};for(const o in r)for(const c in r[o])for(const f in r[o][c])return!1;return!0}styleHas(n,r){if(!this.styles||r!==void 0&&!this.styles[r])return!1;const o=r===void 0?this.styles:{0:this.styles[r]};for(const c in o)for(const f in o[c])if(o[c][f][n]!==void 0)return!0;return!1}cleanStyle(n){if(!this.styles)return!1;const r=this.styles;let o,c,f=0,y=!0,w=0;for(const R in r){o=0;for(const U in r[R]){const V=r[R][U]||{};f++,V[n]!==void 0?(c?V[n]!==c&&(y=!1):c=V[n],V[n]===this[n]&&delete V[n]):y=!1,Object.keys(V).length!==0?o++:delete r[R][U]}o===0&&delete r[R]}for(let R=0;R<this._textLines.length;R++)w+=this._textLines[R].length;y&&f===w&&(this[n]=c,this.removeStyle(n))}removeStyle(n){if(!this.styles)return;const r=this.styles;let o,c,f;for(c in r){for(f in o=r[c],o)delete o[f][n],Object.keys(o[f]).length===0&&delete o[f];Object.keys(o).length===0&&delete r[c]}}_extendStyles(n,r){const{lineIndex:o,charIndex:c}=this.get2DCursorLocation(n);this._getLineStyle(o)||this._setLineStyle(o);const f=wo($($({},this._getStyleDeclaration(o,c)),r),y=>y!==void 0);this._setStyleDeclaration(o,c,f)}getSelectionStyles(n,r,o){const c=[];for(let f=n;f<(r||n);f++)c.push(this.getStyleAtPosition(f,o));return c}getStyleAtPosition(n,r){const{lineIndex:o,charIndex:c}=this.get2DCursorLocation(n);return r?this.getCompleteStyleDeclaration(o,c):this._getStyleDeclaration(o,c)}setSelectionStyles(n,r,o){for(let c=r;c<(o||r);c++)this._extendStyles(c,n);this._forceClearCache=!0}_getStyleDeclaration(n,r){var o;const c=this.styles&&this.styles[n];return c&&(o=c[r])!==null&&o!==void 0?o:{}}getCompleteStyleDeclaration(n,r){return $($({},Ss(this,this.constructor._styleProperties)),this._getStyleDeclaration(n,r))}_setStyleDeclaration(n,r,o){this.styles[n][r]=o}_deleteStyleDeclaration(n,r){delete this.styles[n][r]}_getLineStyle(n){return!!this.styles[n]}_setLineStyle(n){this.styles[n]={}}_deleteLineStyle(n){delete this.styles[n]}}u(Rf,"_styleProperties",Wh);const Of=/  +/g,Fu=/"/g;function If(x,n,r,o,c){return"		".concat(function(f,y){let{left:w,top:R,width:U,height:V}=y,be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X.NUM_FRACTION_DIGITS;const De=Ir(rn,f,!1),[nt,wt,Xt,fn]=[w,R,U,V].map(bn=>ri(bn,be));return"<rect ".concat(De,' x="').concat(nt,'" y="').concat(wt,'" width="').concat(Xt,'" height="').concat(fn,'"></rect>')}(x,{left:n,top:r,width:o,height:c}),`
`)}const Bu=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let hu;class Rl extends Rf{static getDefaults(){return $($({},super.getDefaults()),Rl.ownDefaults)}constructor(n,r){super(),u(this,"__charBounds",[]),Object.assign(this,Rl.ownDefaults),this.setOptions(r),this.styles||(this.styles={}),this.text=n,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const n=this.path;n&&(n.segmentsInfo=Qu(n.path))}_splitText(){const n=this._splitTextIntoLines(this.text);return this.textLines=n.lines,this._textLines=n.graphemeLines,this._unwrappedTextLines=n._unwrappedLines,this._text=n.graphemeText,n}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(gl)&&this.enlargeSpaces()}enlargeSpaces(){let n,r,o,c,f,y,w;for(let R=0,U=this._textLines.length;R<U;R++)if((this.textAlign===gl||R!==U-1&&!this.isEndOfWrapping(R))&&(c=0,f=this._textLines[R],r=this.getLineWidth(R),r<this.width&&(w=this.textLines[R].match(this._reSpacesAndTabs)))){o=w.length,n=(this.width-r)/o;for(let V=0;V<=f.length;V++)y=this.__charBounds[R][V],this._reSpaceAndTab.test(f[V])?(y.width+=n,y.kernedWidth+=n,y.left+=c,c+=n):y.left+=c}}isEndOfWrapping(n){return n===this._textLines.length-1}missingNewlineOffset(n){return 1}get2DCursorLocation(n,r){const o=r?this._unwrappedTextLines:this._textLines;let c;for(c=0;c<o.length;c++){if(n<=o[c].length)return{lineIndex:c,charIndex:n};n-=o[c].length+this.missingNewlineOffset(c,r)}return{lineIndex:c-1,charIndex:o[c-1].length<n?o[c-1].length:n}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const n=super._getCacheCanvasDimensions(),r=this.fontSize;return n.width+=r*n.zoomX,n.height+=r*n.zoomY,n}_render(n){const r=this.path;r&&!r.isNotVisible()&&r._render(n),this._setTextStyles(n),this._renderTextLinesBackground(n),this._renderTextDecoration(n,"underline"),this._renderText(n),this._renderTextDecoration(n,"overline"),this._renderTextDecoration(n,"linethrough")}_renderText(n){this.paintFirst===cn?(this._renderTextStroke(n),this._renderTextFill(n)):(this._renderTextFill(n),this._renderTextStroke(n))}_setTextStyles(n,r,o){if(n.textBaseline="alphabetic",this.path)switch(this.pathAlign){case lt:n.textBaseline="middle";break;case"ascender":n.textBaseline=Pn;break;case"descender":n.textBaseline=vi}n.font=this._getFontDeclaration(r,o)}calcTextWidth(){let n=this.getLineWidth(0);for(let r=1,o=this._textLines.length;r<o;r++){const c=this.getLineWidth(r);c>n&&(n=c)}return n}_renderTextLine(n,r,o,c,f,y){this._renderChars(n,r,o,c,f,y)}_renderTextLinesBackground(n){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const r=n.fillStyle,o=this._getLeftOffset();let c=this._getTopOffset();for(let f=0,y=this._textLines.length;f<y;f++){const w=this.getHeightOfLine(f);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",f)){c+=w;continue}const R=this._textLines[f].length,U=this._getLineLeftOffset(f);let V,be,De=0,nt=0,wt=this.getValueOfPropertyAt(f,0,"textBackgroundColor");for(let Xt=0;Xt<R;Xt++){const fn=this.__charBounds[f][Xt];be=this.getValueOfPropertyAt(f,Xt,"textBackgroundColor"),this.path?(n.save(),n.translate(fn.renderLeft,fn.renderTop),n.rotate(fn.angle),n.fillStyle=be,be&&n.fillRect(-fn.width/2,-w/this.lineHeight*(1-this._fontSizeFraction),fn.width,w/this.lineHeight),n.restore()):be!==wt?(V=o+U+nt,this.direction==="rtl"&&(V=this.width-V-De),n.fillStyle=wt,wt&&n.fillRect(V,c,De,w/this.lineHeight),nt=fn.left,De=fn.width,wt=be):De+=fn.kernedWidth}be&&!this.path&&(V=o+U+nt,this.direction==="rtl"&&(V=this.width-V-De),n.fillStyle=be,n.fillRect(V,c,De,w/this.lineHeight)),c+=w}n.fillStyle=r,this._removeShadow(n)}_measureChar(n,r,o,c){const f=re.getFontCache(r),y=this._getFontDeclaration(r),w=o+n,R=o&&y===this._getFontDeclaration(c),U=r.fontSize/this.CACHE_FONT_SIZE;let V,be,De,nt;if(o&&f[o]!==void 0&&(De=f[o]),f[n]!==void 0&&(nt=V=f[n]),R&&f[w]!==void 0&&(be=f[w],nt=be-De),V===void 0||De===void 0||be===void 0){const wt=function(){if(!hu){const Xt=Ft();Xt.width=Xt.height=0,hu=Xt.getContext("2d")}return hu}();this._setTextStyles(wt,r,!0),V===void 0&&(nt=V=wt.measureText(n).width,f[n]=V),De===void 0&&R&&o&&(De=wt.measureText(o).width,f[o]=De),R&&be===void 0&&(be=wt.measureText(w).width,f[w]=be,nt=be-De)}return{width:V*U,kernedWidth:nt*U}}getHeightOfChar(n,r){return this.getValueOfPropertyAt(n,r,"fontSize")}measureLine(n){const r=this._measureLine(n);return this.charSpacing!==0&&(r.width-=this._getWidthOfCharSpacing()),r.width<0&&(r.width=0),r}_measureLine(n){let r,o,c=0;const f=this.pathSide===Rt,y=this.path,w=this._textLines[n],R=w.length,U=new Array(R);this.__charBounds[n]=U;for(let V=0;V<R;V++){const be=w[V];o=this._getGraphemeBox(be,n,V,r),U[V]=o,c+=o.kernedWidth,r=be}if(U[R]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},y&&y.segmentsInfo){let V=0;const be=y.segmentsInfo[y.segmentsInfo.length-1].length;switch(this.textAlign){case Ht:V=f?be-c:0;break;case lt:V=(be-c)/2;break;case Rt:V=f?0:be-c}V+=this.pathStartOffset*(f?-1:1);for(let De=f?R-1:0;f?De>=0:De<R;f?De--:De++)o=U[De],V>be?V%=be:V<0&&(V+=be),this._setGraphemeOnPath(V,o),V+=o.kernedWidth}return{width:c,numOfSpaces:0}}_setGraphemeOnPath(n,r){const o=n+r.kernedWidth/2,c=this.path,f=wr(c.path,o,c.segmentsInfo);r.renderLeft=f.x-c.pathOffset.x,r.renderTop=f.y-c.pathOffset.y,r.angle=f.angle+(this.pathSide===Rt?Math.PI:0)}_getGraphemeBox(n,r,o,c,f){const y=this.getCompleteStyleDeclaration(r,o),w=c?this.getCompleteStyleDeclaration(r,o-1):{},R=this._measureChar(n,y,c,w);let U,V=R.kernedWidth,be=R.width;this.charSpacing!==0&&(U=this._getWidthOfCharSpacing(),be+=U,V+=U);const De={width:be,left:0,height:y.fontSize,kernedWidth:V,deltaY:y.deltaY};if(o>0&&!f){const nt=this.__charBounds[r][o-1];De.left=nt.left+nt.width+R.kernedWidth-R.width}return De}getHeightOfLine(n){if(this.__lineHeights[n])return this.__lineHeights[n];let r=this.getHeightOfChar(n,0);for(let o=1,c=this._textLines[n].length;o<c;o++)r=Math.max(this.getHeightOfChar(n,o),r);return this.__lineHeights[n]=r*this.lineHeight*this._fontSizeMult}calcTextHeight(){let n,r=0;for(let o=0,c=this._textLines.length;o<c;o++)n=this.getHeightOfLine(o),r+=o===c-1?n/this.lineHeight:n;return r}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(n,r){n.save();let o=0;const c=this._getLeftOffset(),f=this._getTopOffset();for(let y=0,w=this._textLines.length;y<w;y++){const R=this.getHeightOfLine(y),U=R/this.lineHeight,V=this._getLineLeftOffset(y);this._renderTextLine(r,n,this._textLines[y],c+V,f+o+U,y),o+=R}n.restore()}_renderTextFill(n){(this.fill||this.styleHas(rn))&&this._renderTextCommon(n,"fillText")}_renderTextStroke(n){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(n),n.save(),this._setLineDash(n,this.strokeDashArray),n.beginPath(),this._renderTextCommon(n,"strokeText"),n.closePath(),n.restore())}_renderChars(n,r,o,c,f,y){const w=this.getHeightOfLine(y),R=this.textAlign.includes(gl),U=this.path,V=!R&&this.charSpacing===0&&this.isEmptyStyles(y)&&!U,be=this.direction==="ltr",De=this.direction==="ltr"?1:-1,nt=r.direction;let wt,Xt,fn,bn,Oi,Fr="",xs=0;if(r.save(),nt!==this.direction&&(r.canvas.setAttribute("dir",be?"ltr":"rtl"),r.direction=be?"ltr":"rtl",r.textAlign=be?Ht:Rt),f-=w*this._fontSizeFraction/this.lineHeight,V)return this._renderChar(n,r,y,0,o.join(""),c,f),void r.restore();for(let Mr=0,Ro=o.length-1;Mr<=Ro;Mr++)bn=Mr===Ro||this.charSpacing||U,Fr+=o[Mr],fn=this.__charBounds[y][Mr],xs===0?(c+=De*(fn.kernedWidth-fn.width),xs+=fn.width):xs+=fn.kernedWidth,R&&!bn&&this._reSpaceAndTab.test(o[Mr])&&(bn=!0),bn||(wt=wt||this.getCompleteStyleDeclaration(y,Mr),Xt=this.getCompleteStyleDeclaration(y,Mr+1),bn=sa(wt,Xt,!1)),bn&&(U?(r.save(),r.translate(fn.renderLeft,fn.renderTop),r.rotate(fn.angle),this._renderChar(n,r,y,Mr,Fr,-xs/2,0),r.restore()):(Oi=c,this._renderChar(n,r,y,Mr,Fr,Oi,f)),Fr="",wt=Xt,c+=De*xs,xs=0);r.restore()}_applyPatternGradientTransformText(n){const r=Ft(),o=this.width+this.strokeWidth,c=this.height+this.strokeWidth,f=r.getContext("2d");return r.width=o,r.height=c,f.beginPath(),f.moveTo(0,0),f.lineTo(o,0),f.lineTo(o,c),f.lineTo(0,c),f.closePath(),f.translate(o/2,c/2),f.fillStyle=n.toLive(f),this._applyPatternGradientTransform(f,n),f.fill(),f.createPattern(r,"no-repeat")}handleFiller(n,r,o){let c,f;return vr(o)?o.gradientUnits==="percentage"||o.gradientTransform||o.patternTransform?(c=-this.width/2,f=-this.height/2,n.translate(c,f),n[r]=this._applyPatternGradientTransformText(o),{offsetX:c,offsetY:f}):(n[r]=o.toLive(n),this._applyPatternGradientTransform(n,o)):(n[r]=o,{offsetX:0,offsetY:0})}_setStrokeStyles(n,r){let{stroke:o,strokeWidth:c}=r;return n.lineWidth=c,n.lineCap=this.strokeLineCap,n.lineDashOffset=this.strokeDashOffset,n.lineJoin=this.strokeLineJoin,n.miterLimit=this.strokeMiterLimit,this.handleFiller(n,"strokeStyle",o)}_setFillStyles(n,r){let{fill:o}=r;return this.handleFiller(n,"fillStyle",o)}_renderChar(n,r,o,c,f,y,w){const R=this._getStyleDeclaration(o,c),U=this.getCompleteStyleDeclaration(o,c),V=n==="fillText"&&U.fill,be=n==="strokeText"&&U.stroke&&U.strokeWidth;if(be||V){if(r.save(),r.font=this._getFontDeclaration(U),R.textBackgroundColor&&this._removeShadow(r),R.deltaY&&(w+=R.deltaY),V){const De=this._setFillStyles(r,U);r.fillText(f,y-De.offsetX,w-De.offsetY)}if(be){const De=this._setStrokeStyles(r,U);r.strokeText(f,y-De.offsetX,w-De.offsetY)}r.restore()}}setSuperscript(n,r){this._setScript(n,r,this.superscript)}setSubscript(n,r){this._setScript(n,r,this.subscript)}_setScript(n,r,o){const c=this.get2DCursorLocation(n,!0),f=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),y=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),w={fontSize:f*o.size,deltaY:y+f*o.baseline};this.setSelectionStyles(w,n,r)}_getLineLeftOffset(n){const r=this.getLineWidth(n),o=this.width-r,c=this.textAlign,f=this.direction,y=this.isEndOfWrapping(n);let w=0;return c===gl||c===sc&&!y||c===xd&&!y||c===du&&!y?0:(c===lt&&(w=o/2),c===Rt&&(w=o),c===sc&&(w=o/2),c===xd&&(w=o),f==="rtl"&&(c===Rt||c===gl||c===xd?w=0:c===Ht||c===du?w=-o:c!==lt&&c!==sc||(w=-o/2)),w)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(n){if(this.__lineWidths[n]!==void 0)return this.__lineWidths[n];const{width:r}=this.measureLine(n);return this.__lineWidths[n]=r,r}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(n,r,o){var c;return(c=this._getStyleDeclaration(n,r)[o])!==null&&c!==void 0?c:this[o]}_renderTextDecoration(n,r){if(!this[r]&&!this.styleHas(r))return;let o=this._getTopOffset();const c=this._getLeftOffset(),f=this.path,y=this._getWidthOfCharSpacing(),w=this.offsets[r];for(let R=0,U=this._textLines.length;R<U;R++){const V=this.getHeightOfLine(R);if(!this[r]&&!this.styleHas(r,R)){o+=V;continue}const be=this._textLines[R],De=V/this.lineHeight,nt=this._getLineLeftOffset(R);let wt,Xt,fn=0,bn=0,Oi=this.getValueOfPropertyAt(R,0,r),Fr=this.getValueOfPropertyAt(R,0,rn);const xs=o+De*(1-this._fontSizeFraction);let Mr=this.getHeightOfChar(R,0),Ro=this.getValueOfPropertyAt(R,0,"deltaY");for(let ks=0,wa=be.length;ks<wa;ks++){const La=this.__charBounds[R][ks];wt=this.getValueOfPropertyAt(R,ks,r),Xt=this.getValueOfPropertyAt(R,ks,rn);const vl=this.getHeightOfChar(R,ks),il=this.getValueOfPropertyAt(R,ks,"deltaY");if(f&&wt&&Xt)n.save(),n.fillStyle=Fr,n.translate(La.renderLeft,La.renderTop),n.rotate(La.angle),n.fillRect(-La.kernedWidth/2,w*vl+il,La.kernedWidth,this.fontSize/15),n.restore();else if((wt!==Oi||Xt!==Fr||vl!==Mr||il!==Ro)&&bn>0){let oa=c+nt+fn;this.direction==="rtl"&&(oa=this.width-oa-bn),Oi&&Fr&&(n.fillStyle=Fr,n.fillRect(oa,xs+w*Mr+Ro,bn,this.fontSize/15)),fn=La.left,bn=La.width,Oi=wt,Fr=Xt,Mr=vl,Ro=il}else bn+=La.kernedWidth}let ha=c+nt+fn;this.direction==="rtl"&&(ha=this.width-ha-bn),n.fillStyle=Xt,wt&&Xt&&n.fillRect(ha,xs+w*Mr+Ro,bn-y,this.fontSize/15),o+=V}this._removeShadow(n)}_getFontDeclaration(){let{fontFamily:n=this.fontFamily,fontStyle:r=this.fontStyle,fontWeight:o=this.fontWeight,fontSize:c=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;const y=n.includes("'")||n.includes('"')||n.includes(",")||Rl.genericFonts.includes(n.toLowerCase())?n:'"'.concat(n,'"');return[r,o,"".concat(f?this.CACHE_FONT_SIZE:c,"px"),y].join(" ")}render(n){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(n)))}graphemeSplit(n){return Fa(n)}_splitTextIntoLines(n){const r=n.split(this._reNewline),o=new Array(r.length),c=[`
`];let f=[];for(let y=0;y<r.length;y++)o[y]=this.graphemeSplit(r[y]),f=f.concat(o[y],c);return f.pop(),{_unwrappedLines:o,lines:r,graphemeText:f,graphemeLines:o}}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $($({},super.toObject([...Vh,...n])),{},{styles:rc(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(n,r){const{textLayoutProperties:o}=this.constructor;super.set(n,r);let c=!1,f=!1;if(typeof n=="object")for(const y in n)y==="path"&&this.setPathInfo(),c=c||o.includes(y),f=f||y==="path";else c=o.includes(n),f=n==="path";return f&&this.setPathInfo(),c&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static fromElement(n,r,o){return Tl(this,null,function*(){const c=Mc(n,Rl.ATTRIBUTE_NAMES,o),f=$($({},r),c),{textAnchor:y=Ht,textDecoration:w="",dx:R=0,dy:U=0,top:V=0,left:be=0,fontSize:De=bt,strokeWidth:nt=1}=f,wt=de(f,Bu),Xt=new this((n.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),$({left:be+R,top:V+U,underline:w.includes("underline"),overline:w.includes("overline"),linethrough:w.includes("line-through"),strokeWidth:0,fontSize:De},wt)),fn=Xt.getScaledHeight()/Xt.height,bn=((Xt.height+Xt.strokeWidth)*Xt.lineHeight-Xt.height)*fn,Oi=Xt.getScaledHeight()+bn;let Fr=0;return y===lt&&(Fr=Xt.getScaledWidth()/2),y===Rt&&(Fr=Xt.getScaledWidth()),Xt.set({left:Xt.left-Fr,top:Xt.top-(Oi-Xt.fontSize*(.07+Xt._fontSizeFraction))/Xt.lineHeight,strokeWidth:nt}),Xt})}static fromObject(n){return this._fromObject($($({},n),{},{styles:el(n.styles||{},n.text)}),{extraParam:"text"})}}u(Rl,"textLayoutProperties",uu),u(Rl,"cacheProperties",[...hn,...Vh]),u(Rl,"ownDefaults",jl),u(Rl,"type","Text"),u(Rl,"genericFonts",["sans-serif","serif","cursive","fantasy","monospace"]),u(Rl,"ATTRIBUTE_NAMES",ao.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),kn(Rl,[class extends uo{_toSVG(){const x=this._getSVGLeftTopOffsets(),n=this._getSVGTextAndBg(x.textTop,x.textLeft);return this._wrapSVGTextAndBg(n)}toSVG(x){return this._createBaseSVGMarkup(this._toSVG(),{reviver:x,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(x){let{textBgRects:n,textSpans:r}=x;const o=this.getSvgTextDecoration(this);return[n.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(Fu,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",o?'text-decoration="'.concat(o,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",r.join(""),`</text>
`]}_getSVGTextAndBg(x,n){const r=[],o=[];let c,f=x;this.backgroundColor&&o.push(...If(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let y=0,w=this._textLines.length;y<w;y++)c=this._getLineLeftOffset(y),this.direction==="rtl"&&(c+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",y))&&this._setSVGTextLineBg(o,y,n+c,f),this._setSVGTextLineText(r,y,n+c,f),f+=this.getHeightOfLine(y);return{textSpans:r,textBgRects:o}}_createTextCharSpan(x,n,r,o){const c=this.getSvgSpanStyles(n,x!==x.trim()||!!x.match(Of)),f=c?'style="'.concat(c,'"'):"",y=n.deltaY,w=y?' dy="'.concat(ri(y,X.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(ri(r,X.NUM_FRACTION_DIGITS),'" y="').concat(ri(o,X.NUM_FRACTION_DIGITS),'" ').concat(w).concat(f,">").concat(da(x),"</tspan>")}_setSVGTextLineText(x,n,r,o){const c=this.getHeightOfLine(n),f=this.textAlign.includes(gl),y=this._textLines[n];let w,R,U,V,be,De="",nt=0;o+=c*(1-this._fontSizeFraction)/this.lineHeight;for(let wt=0,Xt=y.length-1;wt<=Xt;wt++)be=wt===Xt||this.charSpacing,De+=y[wt],U=this.__charBounds[n][wt],nt===0?(r+=U.kernedWidth-U.width,nt+=U.width):nt+=U.kernedWidth,f&&!be&&this._reSpaceAndTab.test(y[wt])&&(be=!0),be||(w=w||this.getCompleteStyleDeclaration(n,wt),R=this.getCompleteStyleDeclaration(n,wt+1),be=sa(w,R,!0)),be&&(V=this._getStyleDeclaration(n,wt),x.push(this._createTextCharSpan(De,V,r,o)),De="",w=R,this.direction==="rtl"?r-=nt:r+=nt,nt=0)}_setSVGTextLineBg(x,n,r,o){const c=this._textLines[n],f=this.getHeightOfLine(n)/this.lineHeight;let y,w=0,R=0,U=this.getValueOfPropertyAt(n,0,"textBackgroundColor");for(let V=0;V<c.length;V++){const{left:be,width:De,kernedWidth:nt}=this.__charBounds[n][V];y=this.getValueOfPropertyAt(n,V,"textBackgroundColor"),y!==U?(U&&x.push(...If(U,r+R,o,w,f)),R=be,w=De,U=y):w+=nt}y&&x.push(...If(U,r+R,o,w,f))}_getSVGLineTopOffset(x){let n,r=0;for(n=0;n<x;n++)r+=this.getHeightOfLine(n);const o=this.getHeightOfLine(n);return{lineTop:r,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(x){return"".concat(super.getSvgStyles(x)," white-space: pre;")}getSvgSpanStyles(x,n){const{fontFamily:r,strokeWidth:o,stroke:c,fill:f,fontSize:y,fontStyle:w,fontWeight:R,deltaY:U}=x,V=this.getSvgTextDecoration(x);return[c?Ir(cn,c):"",o?"stroke-width: ".concat(o,"; "):"",r?"font-family: ".concat(r.includes("'")||r.includes('"')?r:"'".concat(r,"'"),"; "):"",y?"font-size: ".concat(y,"px; "):"",w?"font-style: ".concat(w,"; "):"",R?"font-weight: ".concat(R,"; "):"",V&&"text-decoration: ".concat(V,"; "),f?Ir(rn,f):"",U?"baseline-shift: ".concat(-U,"; "):"",n?"white-space: pre; ":""].join("")}getSvgTextDecoration(x){return["overline","underline","line-through"].filter(n=>x[n.replace("-","")]).join(" ")}}]),dn.setClass(Rl),dn.setSVGClass(Rl);class rh{constructor(n){u(this,"target",void 0),u(this,"__mouseDownInPlace",!1),u(this,"__dragStartFired",!1),u(this,"__isDraggingOver",!1),u(this,"__dragStartSelection",void 0),u(this,"__dragImageDisposer",void 0),u(this,"_dispose",void 0),this.target=n;const r=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{r.forEach(o=>o()),this._dispose=void 0}}isPointerOverSelection(n){const r=this.target,o=r.getSelectionStartFromPointer(n);return r.isEditing&&o>=r.selectionStart&&o<=r.selectionEnd&&r.selectionStart<r.selectionEnd}start(n){return this.__mouseDownInPlace=this.isPointerOverSelection(n)}isActive(){return this.__mouseDownInPlace}end(n){const r=this.isActive();return r&&!this.__dragStartFired&&(this.target.setCursorByClick(n),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,r}getDragStartSelection(){return this.__dragStartSelection}setDragImage(n,r){var o;let{selectionStart:c,selectionEnd:f}=r;const y=this.target,w=y.canvas,R=new it(y.flipX?-1:1,y.flipY?-1:1),U=y._getCursorBoundaries(c),V=new it(U.left+U.leftOffset,U.top+U.topOffset).multiply(R).transform(y.calcTransformMatrix()),be=w.getScenePoint(n).subtract(V),De=y.getCanvasRetinaScaling(),nt=y.getBoundingRect(),wt=V.subtract(new it(nt.left,nt.top)),Xt=w.viewportTransform,fn=wt.add(be).transform(Xt,!0),bn=y.backgroundColor,Oi=si(y.styles);y.backgroundColor="";const Fr={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};y.setSelectionStyles(Fr,0,c),y.setSelectionStyles(Fr,f,y.text.length),y.dirty=!0;const xs=y.toCanvasElement({enableRetinaScaling:w.enableRetinaScaling,viewportTransform:!0});y.backgroundColor=bn,y.styles=Oi,y.dirty=!0,_i(xs,{position:"fixed",left:"".concat(-xs.width,"px"),border:ut,width:"".concat(xs.width/De,"px"),height:"".concat(xs.height/De,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{xs.remove()},Js(n.target||this.target.hiddenTextarea).body.appendChild(xs),(o=n.dataTransfer)===null||o===void 0||o.setDragImage(xs,fn.x,fn.y)}onDragStart(n){this.__dragStartFired=!0;const r=this.target,o=this.isActive();if(o&&n.dataTransfer){const c=this.__dragStartSelection={selectionStart:r.selectionStart,selectionEnd:r.selectionEnd},f=r._text.slice(c.selectionStart,c.selectionEnd).join(""),y=$({text:r.text,value:f},c);n.dataTransfer.setData("text/plain",f),n.dataTransfer.setData("application/fabric",JSON.stringify({value:f,styles:r.getSelectionStyles(c.selectionStart,c.selectionEnd,!0)})),n.dataTransfer.effectAllowed="copyMove",this.setDragImage(n,y)}return r.abortCursorAnimation(),o}canDrop(n){if(this.target.editable&&!this.target.getActiveControl()&&!n.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const r=this.target.getSelectionStartFromPointer(n),o=this.__dragStartSelection;return r<o.selectionStart||r>o.selectionEnd}return!0}return!1}targetCanDrop(n){return this.target.canDrop(n)}dragEnterHandler(n){let{e:r}=n;const o=this.targetCanDrop(r);!this.__isDraggingOver&&o&&(this.__isDraggingOver=!0)}dragOverHandler(n){const{e:r}=n,o=this.targetCanDrop(r);!this.__isDraggingOver&&o?this.__isDraggingOver=!0:this.__isDraggingOver&&!o&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(r.preventDefault(),n.canDrop=!0,n.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(n){var r;const{e:o}=n,c=o.defaultPrevented;this.__isDraggingOver=!1,o.preventDefault();let f=(r=o.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain");if(f&&!c){const y=this.target,w=y.canvas;let R=y.getSelectionStartFromPointer(o);const{styles:U}=o.dataTransfer.types.includes("application/fabric")?JSON.parse(o.dataTransfer.getData("application/fabric")):{},V=f[Math.max(0,f.length-1)],be=0;if(this.__dragStartSelection){const De=this.__dragStartSelection.selectionStart,nt=this.__dragStartSelection.selectionEnd;R>De&&R<=nt?R=De:R>nt&&(R-=nt-De),y.removeChars(De,nt),delete this.__dragStartSelection}y._reNewline.test(V)&&(y._reNewline.test(y._text[R])||R===y._text.length)&&(f=f.trimEnd()),n.didDrop=!0,n.dropTarget=y,y.insertChars(f,U,R),w.setActiveObject(y),y.enterEditing(o),y.selectionStart=Math.min(R+be,y._text.length),y.selectionEnd=Math.min(y.selectionStart+f.length,y._text.length),y.hiddenTextarea.value=y.text,y._updateTextarea(),y.hiddenTextarea.focus(),y.fire(Kn,{index:R+be,action:"drop"}),w.fire("text:changed",{target:y}),w.contextTopDirty=!0,w.requestRenderAll()}}dragEndHandler(n){let{e:r}=n;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var o;const c=this.target,f=this.target.canvas,{selectionStart:y,selectionEnd:w}=this.__dragStartSelection,R=((o=r.dataTransfer)===null||o===void 0?void 0:o.dropEffect)||ut;R===ut?(c.selectionStart=y,c.selectionEnd=w,c._updateTextarea(),c.hiddenTextarea.focus()):(c.clearContextTop(),R==="move"&&(c.removeChars(y,w),c.selectionStart=c.selectionEnd=y,c.hiddenTextarea&&(c.hiddenTextarea.value=c.text),c._updateTextarea(),c.fire(Kn,{index:y,action:"dragend"}),f.fire("text:changed",{target:c}),f.requestRenderAll()),c.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Df=/[ \n\.,;!\?\-]/;class Sp extends Rl{constructor(){super(...arguments),u(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(n){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(n)}_animateCursor(n){let{toValue:r,duration:o,delay:c,onComplete:f}=n;return Fe({startValue:this._currentCursorOpacity,endValue:r,duration:o,delay:c,onComplete:f,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:y=>{this._currentCursorOpacity=y,this.renderCursorOrSelection()}})}_tick(n){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(n||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var n;(n=this._currentTickCompleteState)===null||n===void 0||n.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(n){this.abortCursorAnimation(),this._tick(n?0:this.cursorDelay)}abortCursorAnimation(){let n=!1;[this._currentTickState,this._currentTickCompleteState].forEach(r=>{r&&!r.isDone()&&(n=!0,r.abort())}),this._currentCursorOpacity=1,n&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(n=>!n||n.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(n){let r=0,o=n-1;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)r++,o--;for(;/\S/.test(this._text[o])&&o>-1;)r++,o--;return n-r}findWordBoundaryRight(n){let r=0,o=n;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)r++,o++;for(;/\S/.test(this._text[o])&&o<this._text.length;)r++,o++;return n+r}findLineBoundaryLeft(n){let r=0,o=n-1;for(;!/\n/.test(this._text[o])&&o>-1;)r++,o--;return n-r}findLineBoundaryRight(n){let r=0,o=n;for(;!/\n/.test(this._text[o])&&o<this._text.length;)r++,o++;return n+r}searchWordBoundary(n,r){const o=this._text;let c=n>0&&this._reSpace.test(o[n])&&(r===-1||!Ge.test(o[n-1]))?n-1:n,f=o[c];for(;c>0&&c<o.length&&!Df.test(f);)c+=r,f=o[c];return r===-1&&Df.test(f)&&c++,c}selectWord(n){n=n||this.selectionStart;const r=this.searchWordBoundary(n,-1),o=Math.max(r,this.searchWordBoundary(n,1));this.selectionStart=r,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(n){n=n||this.selectionStart;const r=this.findLineBoundaryLeft(n),o=this.findLineBoundaryRight(n);return this.selectionStart=r,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(n){!this.isEditing&&this.editable&&(this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered",n?{e:n}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:n}),this.canvas.requestRenderAll()))}updateSelectionOnMouseMove(n){if(this.getActiveControl())return;const r=this.hiddenTextarea;Js(r).activeElement!==r&&r.focus();const o=this.getSelectionStartFromPointer(n),c=this.selectionStart,f=this.selectionEnd;(o===this.__selectionStartOnMouseDown&&c!==f||c!==o&&f!==o)&&(o>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=o):(this.selectionStart=o,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===c&&this.selectionEnd===f||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(n,r,o){const c=o.slice(0,n),f=this.graphemeSplit(c).length;if(n===r)return{selectionStart:f,selectionEnd:f};const y=o.slice(n,r);return{selectionStart:f,selectionEnd:f+this.graphemeSplit(y).length}}fromGraphemeToStringSelection(n,r,o){const c=o.slice(0,n).join("").length;return n===r?{selectionStart:c,selectionEnd:c}:{selectionStart:c,selectionEnd:c+o.slice(n,r).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const n=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=n.selectionStart,this.hiddenTextarea.selectionEnd=n.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const n=this.hiddenTextarea;this.text=n.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const r=this.fromStringToGraphemeSelection(n.selectionStart,n.selectionEnd,n.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const n=this._calcTextareaPosition();this.hiddenTextarea.style.left=n.left,this.hiddenTextarea.style.top=n.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const n=this.inCompositionMode?this.compositionStart:this.selectionStart,r=this._getCursorBoundaries(n),o=this.get2DCursorLocation(n),c=o.lineIndex,f=o.charIndex,y=this.getValueOfPropertyAt(c,f,"fontSize")*this.lineHeight,w=r.leftOffset,R=this.getCanvasRetinaScaling(),U=this.canvas.upperCanvasEl,V=U.width/R,be=U.height/R,De=V-y,nt=be-y,wt=new it(r.left+w,r.top+r.topOffset+y).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new it(U.clientWidth/V,U.clientHeight/be));return wt.x<0&&(wt.x=0),wt.x>De&&(wt.x=De),wt.y<0&&(wt.y=0),wt.y>nt&&(wt.y=nt),wt.x+=this.canvas._offset.left,wt.y+=this.canvas._offset.top,{left:"".concat(wt.x,"px"),top:"".concat(wt.y,"px"),fontSize:"".concat(y,"px"),charHeight:y}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const n=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,n&&(n.blur&&n.blur(),n.parentNode&&n.parentNode.removeChild(n)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditing(){const n=this._textBeforeEdit!==this.text;return this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),n&&this.fire(zi),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),n&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const n in this.styles)this._textLines[n]||delete this.styles[n]}removeStyleFromTo(n,r){const{lineIndex:o,charIndex:c}=this.get2DCursorLocation(n,!0),{lineIndex:f,charIndex:y}=this.get2DCursorLocation(r,!0);if(o!==f){if(this.styles[o])for(let w=c;w<this._unwrappedTextLines[o].length;w++)delete this.styles[o][w];if(this.styles[f])for(let w=y;w<this._unwrappedTextLines[f].length;w++){const R=this.styles[f][w];R&&(this.styles[o]||(this.styles[o]={}),this.styles[o][c+w-y]=R)}for(let w=o+1;w<=f;w++)delete this.styles[w];this.shiftLineStyles(f,o-f)}else if(this.styles[o]){const w=this.styles[o],R=y-c;for(let U=c;U<y;U++)delete w[U];for(const U in this.styles[o]){const V=parseInt(U,10);V>=y&&(w[V-R]=w[U],delete w[U])}}}shiftLineStyles(n,r){const o=Object.assign({},this.styles);for(const c in this.styles){const f=parseInt(c,10);f>n&&(this.styles[f+r]=o[f],o[f-r]||delete this.styles[f])}}insertNewlineStyleObject(n,r,o,c){const f={},y=this._unwrappedTextLines[n].length,w=y===r;let R=!1;o||(o=1),this.shiftLineStyles(n,o);const U=this.styles[n]?this.styles[n][r===0?r:r-1]:void 0;for(const be in this.styles[n]){const De=parseInt(be,10);De>=r&&(R=!0,f[De-r]=this.styles[n][be],w&&r===0||delete this.styles[n][be])}let V=!1;for(R&&!w&&(this.styles[n+o]=f,V=!0),(V||y>r)&&o--;o>0;)c&&c[o-1]?this.styles[n+o]={0:$({},c[o-1])}:U?this.styles[n+o]={0:$({},U)}:delete this.styles[n+o],o--;this._forceClearCache=!0}insertCharStyleObject(n,r,o,c){this.styles||(this.styles={});const f=this.styles[n],y=f?$({},f):{};o||(o=1);for(const R in y){const U=parseInt(R,10);U>=r&&(f[U+o]=y[U],y[U-o]||delete f[U])}if(this._forceClearCache=!0,c){for(;o--;)Object.keys(c[o]).length&&(this.styles[n]||(this.styles[n]={}),this.styles[n][r+o]=$({},c[o]));return}if(!f)return;const w=f[r?r-1:1];for(;w&&o--;)this.styles[n][r+o]=$({},w)}insertNewStyleBlock(n,r,o){const c=this.get2DCursorLocation(r,!0),f=[0];let y,w=0;for(let R=0;R<n.length;R++)n[R]===`
`?(w++,f[w]=0):f[w]++;for(f[0]>0&&(this.insertCharStyleObject(c.lineIndex,c.charIndex,f[0],o),o=o&&o.slice(f[0]+1)),w&&this.insertNewlineStyleObject(c.lineIndex,c.charIndex+f[0],w),y=1;y<w;y++)f[y]>0?this.insertCharStyleObject(c.lineIndex+y,0,f[y],o):o&&this.styles[c.lineIndex+y]&&o[0]&&(this.styles[c.lineIndex+y][0]=o[0]),o=o&&o.slice(f[y]+1);f[y]>0&&this.insertCharStyleObject(c.lineIndex+y,0,f[y],o)}removeChars(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n+1;this.removeStyleFromTo(n,r),this._text.splice(n,r-n),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(n,r,o){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;c>o&&this.removeStyleFromTo(o,c);const f=this.graphemeSplit(n);this.insertNewStyleBlock(f,o,r),this._text=[...this._text.slice(0,o),...f,...this._text.slice(c)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(n,r,o){o<=n?(r===n?this._selectionDirection=Ht:this._selectionDirection===Rt&&(this._selectionDirection=Ht,this.selectionEnd=n),this.selectionStart=o):o>n&&o<r?this._selectionDirection===Rt?this.selectionEnd=o:this.selectionStart=o:(r===n?this._selectionDirection=Rt:this._selectionDirection===Ht&&(this._selectionDirection=Rt,this.selectionStart=r),this.selectionEnd=o)}}class sh extends Sp{initHiddenTextarea(){const n=this.canvas&&Js(this.canvas.getElement())||Oe(),r=n.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(y=>{let[w,R]=y;return r.setAttribute(w,R)});const{top:o,left:c,fontSize:f}=this._calcTextareaPosition();r.style.cssText="position: absolute; top: ".concat(o,"; left: ").concat(c,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(f,";"),(this.hiddenTextareaContainer||n.body).appendChild(r),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(y=>{let[w,R]=y;return r.addEventListener(w,this[R].bind(this))}),this.hiddenTextarea=r}blur(){this.abortCursorAnimation()}onKeyDown(n){if(!this.isEditing)return;const r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(n.keyCode in r)this[r[n.keyCode]](n);else{if(!(n.keyCode in this.ctrlKeysMapDown)||!n.ctrlKey&&!n.metaKey)return;this[this.ctrlKeysMapDown[n.keyCode]](n)}n.stopImmediatePropagation(),n.preventDefault(),n.keyCode>=33&&n.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(n){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:n.keyCode in this.ctrlKeysMapUp&&(n.ctrlKey||n.metaKey)&&(this[this.ctrlKeysMapUp[n.keyCode]](n),n.stopImmediatePropagation(),n.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(n){const r=this.fromPaste;if(this.fromPaste=!1,n&&n.stopPropagation(),!this.isEditing)return;const o=()=>{this.updateFromTextArea(),this.fire(Kn),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void o();const c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,y=c.length,w=this.selectionStart,R=this.selectionEnd,U=w!==R;let V,be,De,nt,wt=y-f;const Xt=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),fn=w>Xt.selectionStart;U?(be=this._text.slice(w,R),wt+=R-w):y<f&&(be=fn?this._text.slice(R+wt,R):this._text.slice(w,w-wt));const bn=c.slice(Xt.selectionEnd-wt,Xt.selectionEnd);if(be&&be.length&&(bn.length&&(V=this.getSelectionStyles(w,w+1,!1),V=bn.map(()=>V[0])),U?(De=w,nt=R):fn?(De=R-be.length,nt=R):(De=R,nt=R+be.length),this.removeStyleFromTo(De,nt)),bn.length){const{copyPasteData:Oi}=Be();r&&bn.join("")===Oi.copiedText&&!X.disableStyleCopyPaste&&(V=Oi.copiedTextStyle),this.insertNewStyleBlock(bn,w,V)}o()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(n){let{target:r}=n;const{selectionStart:o,selectionEnd:c}=r;this.compositionStart=o,this.compositionEnd=c,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:n}=Be();n.copiedText=this.getSelectedText(),X.disableStyleCopyPaste?n.copiedTextStyle=void 0:n.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(n,r){let o,c=this._getLineLeftOffset(n);return r>0&&(o=this.__charBounds[n][r-1],c+=o.left+o.width),c}getDownCursorOffset(n,r){const o=this._getSelectionForOffset(n,r),c=this.get2DCursorLocation(o),f=c.lineIndex;if(f===this._textLines.length-1||n.metaKey||n.keyCode===34)return this._text.length-o;const y=c.charIndex,w=this._getWidthBeforeCursor(f,y),R=this._getIndexOnLine(f+1,w);return this._textLines[f].slice(y).length+R+1+this.missingNewlineOffset(f)}_getSelectionForOffset(n,r){return n.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart}getUpCursorOffset(n,r){const o=this._getSelectionForOffset(n,r),c=this.get2DCursorLocation(o),f=c.lineIndex;if(f===0||n.metaKey||n.keyCode===33)return-o;const y=c.charIndex,w=this._getWidthBeforeCursor(f,y),R=this._getIndexOnLine(f-1,w),U=this._textLines[f].slice(0,y),V=this.missingNewlineOffset(f-1);return-this._textLines[f-1].length+R-U.length+(1-V)}_getIndexOnLine(n,r){const o=this._textLines[n];let c,f,y=this._getLineLeftOffset(n),w=0;for(let R=0,U=o.length;R<U;R++)if(c=this.__charBounds[n][R].width,y+=c,y>r){f=!0;const V=y-c,be=y,De=Math.abs(V-r);w=Math.abs(be-r)<De?R:R-1;break}return f||(w=o.length-1),w}moveCursorDown(n){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",n)}moveCursorUp(n){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",n)}_moveCursorUpOrDown(n,r){const o=this["get".concat(n,"CursorOffset")](r,this._selectionDirection===Rt);if(r.shiftKey?this.moveCursorWithShift(o):this.moveCursorWithoutShift(o),o!==0){const c=this.text.length;this.selectionStart=te(0,this.selectionStart,c),this.selectionEnd=te(0,this.selectionEnd,c),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(n){const r=this._selectionDirection===Ht?this.selectionStart+n:this.selectionEnd+n;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),n!==0}moveCursorWithoutShift(n){return n<0?(this.selectionStart+=n,this.selectionEnd=this.selectionStart):(this.selectionEnd+=n,this.selectionStart=this.selectionEnd),n!==0}moveCursorLeft(n){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",n)}_move(n,r,o){let c;if(n.altKey)c=this["findWordBoundary".concat(o)](this[r]);else{if(!n.metaKey&&n.keyCode!==35&&n.keyCode!==36)return this[r]+=o==="Left"?-1:1,!0;c=this["findLineBoundary".concat(o)](this[r])}return c!==void 0&&this[r]!==c&&(this[r]=c,!0)}_moveLeft(n,r){return this._move(n,r,"Left")}_moveRight(n,r){return this._move(n,r,"Right")}moveCursorLeftWithoutShift(n){let r=!0;return this._selectionDirection=Ht,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(n,"selectionStart")),this.selectionEnd=this.selectionStart,r}moveCursorLeftWithShift(n){return this._selectionDirection===Rt&&this.selectionStart!==this.selectionEnd?this._moveLeft(n,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ht,this._moveLeft(n,"selectionStart")):void 0}moveCursorRight(n){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",n)}_moveCursorLeftOrRight(n,r){const o="moveCursor".concat(n).concat(r.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[o](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(n){return this._selectionDirection===Ht&&this.selectionStart!==this.selectionEnd?this._moveRight(n,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Rt,this._moveRight(n,"selectionEnd")):void 0}moveCursorRightWithoutShift(n){let r=!0;return this._selectionDirection=Rt,this.selectionStart===this.selectionEnd?(r=this._moveRight(n,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r}}const jh=x=>!!x.button;class sg extends sh{constructor(){super(...arguments),u(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new rh(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(n){return this.draggableTextDelegate.onDragStart(n)}canDrop(n){return this.draggableTextDelegate.canDrop(n)}onMouseDown(n){if(!this.canvas)return;this.__newClickTime=+new Date;const r=n.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",n),oo(n.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(n){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===n.x&&this.__lastPointer.y===n.y}doubleClickHandler(n){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(n.e))}tripleClickHandler(n){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(n.e))}_mouseDownHandler(n){let{e:r}=n;this.canvas&&this.editable&&!jh(r)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(r)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(r)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(n){let{e:r}=n;this.canvas&&this.editable&&!jh(r)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(n){let{e:r,transform:o}=n;const c=this.draggableTextDelegate.end(r);if(this.canvas){this.canvas.textEditingManager.unregister(this);const f=this.canvas._activeObject;if(f&&f!==this)return}!this.editable||this.group&&!this.group.interactive||o&&o.actionPerformed||jh(r)||c||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(r),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(n){const r=this.getSelectionStartFromPointer(n),o=this.selectionStart,c=this.selectionEnd;n.shiftKey?this.setSelectionStartEndWithShift(o,c,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(n){const r=this.canvas.getScenePoint(n).transform(fr(this.calcTransformMatrix())).add(new it(-this._getLeftOffset(),-this._getTopOffset()));let o=0,c=0,f=0;for(let U=0;U<this._textLines.length&&o<=r.y;U++)o+=this.getHeightOfLine(U),f=U,U>0&&(c+=this._textLines[U-1].length+this.missingNewlineOffset(U-1));let y=Math.abs(this._getLineLeftOffset(f));const w=this._textLines[f].length,R=this.__charBounds[f];for(let U=0;U<w;U++){const V=y+R[U].kernedWidth;if(r.x<=V){Math.abs(r.x-V)<=Math.abs(r.x-y)&&c++;break}y=V,c++}return Math.min(this.flipX?w-c:c,this._text.length)}}const oh="moveCursorUp",ah="moveCursorDown",Zh="moveCursorLeft",lh="moveCursorRight",ch="exitEditing",Gh=$({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:ch,27:ch,33:oh,34:ah,35:lh,36:Zh,37:Zh,38:oh,39:lh,40:ah},keysMapRtl:{9:ch,27:ch,33:oh,34:ah,35:Zh,36:lh,37:lh,38:oh,39:Zh,40:ah},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class Wc extends sg{static getDefaults(){return $($({},super.getDefaults()),Wc.ownDefaults)}get type(){const n=super.type;return n==="itext"?"i-text":n}constructor(n,r){super(n,$($({},Wc.ownDefaults),r)),this.initBehavior()}_set(n,r){return this.isEditing&&this._savedProps&&n in this._savedProps?(this._savedProps[n]=r,this):(n==="canvas"&&(this.canvas instanceof Tf&&this.canvas.textEditingManager.remove(this),r instanceof Tf&&r.textEditingManager.add(this)),super._set(n,r))}setSelectionStart(n){n=Math.max(n,0),this._updateAndFire("selectionStart",n)}setSelectionEnd(n){n=Math.min(n,this.text.length),this._updateAndFire("selectionEnd",n)}_updateAndFire(n,r){this[n]!==r&&(this._fireSelectionChanged(),this[n]=r),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,o=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(n,r,o)}setSelectionStyles(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(n,r,o)}get2DCursorLocation(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(n,r)}render(n){super.render(n),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(n){const r=this.isEditing;this.isEditing=!1;const o=super.toCanvasElement(n);return this.isEditing=r,o}renderCursorOrSelection(){if(!this.isEditing)return;const n=this.clearContextTop(!0);if(!n)return;const r=this._getCursorBoundaries();this.selectionStart===this.selectionEnd?this.renderCursor(n,r):this.renderSelection(n,r),this.canvas.contextTopDirty=!0,n.restore()}_getCursorBoundaries(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,r=arguments.length>1?arguments[1]:void 0;const o=this._getLeftOffset(),c=this._getTopOffset(),f=this._getCursorBoundariesOffsets(n,r);return{left:o,top:c,leftOffset:f.left,topOffset:f.top}}_getCursorBoundariesOffsets(n,r){return r?this.__getCursorBoundariesOffsets(n):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(n)}__getCursorBoundariesOffsets(n){let r=0,o=0;const{charIndex:c,lineIndex:f}=this.get2DCursorLocation(n);for(let U=0;U<f;U++)r+=this.getHeightOfLine(U);const y=this._getLineLeftOffset(f),w=this.__charBounds[f][c];w&&(o=w.left),this.charSpacing!==0&&c===this._textLines[f].length&&(o-=this._getWidthOfCharSpacing());const R={top:r,left:y+(o>0?o:0)};return this.direction==="rtl"&&(this.textAlign===Rt||this.textAlign===gl||this.textAlign===xd?R.left*=-1:this.textAlign===Ht||this.textAlign===du?R.left=y-(o>0?o:0):this.textAlign!==lt&&this.textAlign!==sc||(R.left=y-(o>0?o:0))),R}renderCursorAt(n){const r=this._getCursorBoundaries(n,!0);this._renderCursor(this.canvas.contextTop,r,n)}renderCursor(n,r){this._renderCursor(n,r,this.selectionStart)}_renderCursor(n,r,o){const c=this.get2DCursorLocation(o),f=c.lineIndex,y=c.charIndex>0?c.charIndex-1:0,w=this.getValueOfPropertyAt(f,y,"fontSize"),R=this.getObjectScaling().x*this.canvas.getZoom(),U=this.cursorWidth/R,V=this.getValueOfPropertyAt(f,y,"deltaY"),be=r.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(f)/this.lineHeight-w*(1-this._fontSizeFraction);this.inCompositionMode&&this.renderSelection(n,r),n.fillStyle=this.cursorColor||this.getValueOfPropertyAt(f,y,rn),n.globalAlpha=this._currentCursorOpacity,n.fillRect(r.left+r.leftOffset-U/2,be+r.top+V,U,w)}renderSelection(n,r){const o={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(n,o,r)}renderDragSourceEffect(){const n=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,n,this._getCursorBoundaries(n.selectionStart,!0))}renderDropTargetEffect(n){const r=this.getSelectionStartFromPointer(n);this.renderCursorAt(r)}_renderSelection(n,r,o){const c=r.selectionStart,f=r.selectionEnd,y=this.textAlign.includes(gl),w=this.get2DCursorLocation(c),R=this.get2DCursorLocation(f),U=w.lineIndex,V=R.lineIndex,be=w.charIndex<0?0:w.charIndex,De=R.charIndex<0?0:R.charIndex;for(let nt=U;nt<=V;nt++){const wt=this._getLineLeftOffset(nt)||0;let Xt=this.getHeightOfLine(nt),fn=0,bn=0,Oi=0;if(nt===U&&(bn=this.__charBounds[U][be].left),nt>=U&&nt<V)Oi=y&&!this.isEndOfWrapping(nt)?this.width:this.getLineWidth(nt)||5;else if(nt===V)if(De===0)Oi=this.__charBounds[V][De].left;else{const ha=this._getWidthOfCharSpacing();Oi=this.__charBounds[V][De-1].left+this.__charBounds[V][De-1].width-ha}fn=Xt,(this.lineHeight<1||nt===V&&this.lineHeight>1)&&(Xt/=this.lineHeight);let Fr=o.left+wt+bn,xs=Xt,Mr=0;const Ro=Oi-bn;this.inCompositionMode?(n.fillStyle=this.compositionColor||"black",xs=1,Mr=Xt):n.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Rt||this.textAlign===gl||this.textAlign===xd?Fr=this.width-Fr-Ro:this.textAlign===Ht||this.textAlign===du?Fr=o.left+wt-Oi:this.textAlign!==lt&&this.textAlign!==sc||(Fr=o.left+wt-Oi)),n.fillRect(Fr,o.top+o.topOffset+Mr,Ro,xs),o.topOffset+=fn}}getCurrentCharFontSize(){const n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,"fontSize")}getCurrentCharColor(){const n=this._getCurrentCharIndex();return this.getValueOfPropertyAt(n.l,n.c,rn)}_getCurrentCharIndex(){const n=this.get2DCursorLocation(this.selectionStart,!0),r=n.charIndex>0?n.charIndex-1:0;return{l:n.lineIndex,c:r}}dispose(){this._exitEditing(),this.draggableTextDelegate.dispose(),super.dispose()}}u(Wc,"ownDefaults",Gh),u(Wc,"type","IText"),dn.setClass(Wc),dn.setClass(Wc,"i-text");class Ic extends Wc{static getDefaults(){return $($({},super.getDefaults()),Ic.ownDefaults)}constructor(n,r){super(n,$($({},Ic.ownDefaults),r))}static createControls(){return{controls:Wn()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(gl)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(n){let r=0,o=0,c=0;const f={};for(let y=0;y<n.graphemeLines.length;y++)n.graphemeText[c]===`
`&&y>0?(o=0,c++,r++):!this.splitByGrapheme&&this._reSpaceAndTab.test(n.graphemeText[c])&&y>0&&(o++,c++),f[y]={line:r,offset:o},c+=n.graphemeLines[y].length,o+=n.graphemeLines[y].length;return f}styleHas(n,r){if(this._styleMap&&!this.isWrapping){const o=this._styleMap[r];o&&(r=o.line)}return super.styleHas(n,r)}isEmptyStyles(n){if(!this.styles)return!0;let r,o=0,c=n+1,f=!1;const y=this._styleMap[n],w=this._styleMap[n+1];y&&(n=y.line,o=y.offset),w&&(c=w.line,f=c===n,r=w.offset);const R=n===void 0?this.styles:{line:this.styles[n]};for(const U in R)for(const V in R[U]){const be=parseInt(V,10);if(be>=o&&(!f||be<r))for(const De in R[U][V])return!1}return!0}_getStyleDeclaration(n,r){if(this._styleMap&&!this.isWrapping){const o=this._styleMap[n];if(!o)return{};n=o.line,r=o.offset+r}return super._getStyleDeclaration(n,r)}_setStyleDeclaration(n,r,o){const c=this._styleMap[n];super._setStyleDeclaration(c.line,c.offset+r,o)}_deleteStyleDeclaration(n,r){const o=this._styleMap[n];super._deleteStyleDeclaration(o.line,o.offset+r)}_getLineStyle(n){const r=this._styleMap[n];return!!this.styles[r.line]}_setLineStyle(n){const r=this._styleMap[n];super._setLineStyle(r.line)}_wrapText(n,r){this.isWrapping=!0;const o=this.getGraphemeDataForRender(n),c=[];for(let f=0;f<o.wordsData.length;f++)c.push(...this._wrapLine(f,r,o));return this.isWrapping=!1,c}getGraphemeDataForRender(n){const r=this.splitByGrapheme,o=r?"":" ";let c=0;return{wordsData:n.map((f,y)=>{let w=0;const R=r?this.graphemeSplit(f):this.wordSplit(f);return R.length===0?[{word:[],width:0}]:R.map(U=>{const V=r?[U]:this.graphemeSplit(U),be=this._measureWord(V,y,w);return c=Math.max(be,c),w+=V.length+o.length,{word:V,width:be}})}),largestWordWidth:c}}_measureWord(n,r){let o,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=0;for(let y=0,w=n.length;y<w;y++)f+=this._getGraphemeBox(n[y],r,y+c,o,!0).kernedWidth,o=n[y];return f}wordSplit(n){return n.split(this._wordJoiners)}_wrapLine(n,r,o){let{largestWordWidth:c,wordsData:f}=o,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const w=this._getWidthOfCharSpacing(),R=this.splitByGrapheme,U=[],V=R?"":" ";let be=0,De=[],nt=0,wt=0,Xt=!0;r-=y;const fn=Math.max(r,c,this.dynamicMinWidth),bn=f[n];let Oi;for(nt=0,Oi=0;Oi<bn.length;Oi++){const{word:Fr,width:xs}=bn[Oi];nt+=Fr.length,be+=wt+xs-w,be>fn&&!Xt?(U.push(De),De=[],be=xs,Xt=!0):be+=w,Xt||R||De.push(V),De=De.concat(Fr),wt=R?0:this._measureWord([V],n,nt),nt++,Xt=!1}return Oi&&U.push(De),c+y>this.dynamicMinWidth&&(this.dynamicMinWidth=c-w+y),U}isEndOfWrapping(n){return!this._styleMap[n+1]||this._styleMap[n+1].line!==this._styleMap[n].line}missingNewlineOffset(n,r){return this.splitByGrapheme&&!r?this.isEndOfWrapping(n)?1:0:1}_splitTextIntoLines(n){const r=super._splitTextIntoLines(n),o=this._wrapText(r.lines,this.width),c=new Array(o.length);for(let f=0;f<o.length;f++)c[f]=o[f].join("");return r.lines=c,r.graphemeLines=o,r}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const n=new Map;for(const r in this._styleMap){const o=parseInt(r,10);if(this._textLines[o]){const c=this._styleMap[r].line;n.set("".concat(c),!0)}}for(const r in this.styles)n.has(r)||delete this.styles[r]}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...n])}}u(Ic,"type","Textbox"),u(Ic,"textLayoutProperties",[...Wc.textLayoutProperties,"width"]),u(Ic,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),dn.setClass(Ic);class Lf extends hc{shouldPerformLayout(n){return!!n.target.clipPath&&super.shouldPerformLayout(n)}shouldLayoutClipPath(){return!1}calcLayoutResult(n,r){const{target:o}=n,{clipPath:c,group:f}=o;if(!c||!this.shouldPerformLayout(n))return;const{width:y,height:w}=Yi(xu(o,c)),R=new it(y,w);if(c.absolutePositioned)return{center:Ui(c.getRelativeCenterPoint(),void 0,f?f.calcTransformMatrix():void 0),size:R};{const U=c.getRelativeCenterPoint().transform(o.calcOwnMatrix(),!0);if(this.shouldPerformLayout(n)){const{center:V=new it,correction:be=new it}=this.calcBoundingBox(r,n)||{};return{center:V.add(U),correction:be.subtract(U),size:R}}return{center:o.getRelativeCenterPoint().add(U),size:R}}}}u(Lf,"type","clip-path"),dn.setClass(Lf);class Mu extends hc{getInitialSize(n,r){let{target:o}=n,{size:c}=r;return new it(o.width||c.x,o.height||c.y)}}u(Mu,"type","fixed"),dn.setClass(Mu);class Nf extends Hl{subscribeTargets(n){const r=n.target;n.targets.reduce((o,c)=>(c.parent&&o.add(c.parent),o),new Set).forEach(o=>{o.layoutManager.subscribeTargets({target:o,targets:[r]})})}unsubscribeTargets(n){const r=n.target,o=r.getObjects();n.targets.reduce((c,f)=>(f.parent&&c.add(f.parent),c),new Set).forEach(c=>{!o.some(f=>f.parent===c)&&c.layoutManager.unsubscribeTargets({target:c,targets:[r]})})}}class Uu extends tl{static getDefaults(){return $($({},super.getDefaults()),Uu.ownDefaults)}constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Uu.ownDefaults),this.setOptions(r);const{left:o,top:c,layoutManager:f}=r;this.groupInit(n,{left:o,top:c,layoutManager:f!=null?f:new Nf})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.multiSelectionStacking==="selection-order"?this.add(...r):r.forEach(c=>{const f=this._objects.findIndex(w=>w.isInFrontOf(c)),y=f===-1?this.size():f;this.insertAt(y,c)})}canEnterGroup(n){return this.getObjects().some(r=>r.isDescendantOf(n)||n.isDescendantOf(r))?(j("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(n)}enterGroup(n,r){n.parent&&n.parent===n.group?n.parent._exitGroup(n):n.group&&n.parent!==n.group&&n.group.remove(n),this._enterGroup(n,r)}exitGroup(n,r){this._exitGroup(n,r),n.parent&&n.parent._enterGroup(n,!0)}_onAfterObjectsChange(n,r){super._onAfterObjectsChange(n,r);const o=new Set;r.forEach(c=>{const{parent:f}=c;f&&o.add(f)}),n===Ou?o.forEach(c=>{c._onAfterObjectsChange(yu,r)}):o.forEach(c=>{c._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(n,r,o){n.save(),n.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const c=$($({hasControls:!1},o),{},{forActiveSelection:!0});for(let f=0;f<this._objects.length;f++)this._objects[f]._renderControls(n,c);super._renderControls(n,r),n.restore()}}u(Uu,"type","ActiveSelection"),u(Uu,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),dn.setClass(Uu),dn.setClass(Uu,"activeSelection");class Cp{constructor(){u(this,"resources",{})}applyFilters(n,r,o,c,f){const y=f.getContext("2d");if(!y)return;y.drawImage(r,0,0,o,c);const w={sourceWidth:o,sourceHeight:c,imageData:y.getImageData(0,0,o,c),originalEl:r,originalImageData:y.getImageData(0,0,o,c),canvasEl:f,ctx:y,filterBackend:this};n.forEach(U=>{U.applyTo(w)});const{imageData:R}=w;return R.width===o&&R.height===c||(f.width=R.width,f.height=R.height),y.putImageData(R,0,0),w}}class bd{constructor(){let{tileSize:n=X.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};u(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),u(this,"resources",{}),this.tileSize=n,this.setupGLContext(n,n),this.captureGPUInfo()}setupGLContext(n,r){this.dispose(),this.createWebGLCanvas(n,r)}createWebGLCanvas(n,r){const o=Ft();o.width=n,o.height=r;const c=o.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});c&&(c.clearColor(0,0,0,0),this.canvas=o,this.gl=c)}applyFilters(n,r,o,c,f,y){const w=this.gl,R=f.getContext("2d");if(!w||!R)return;let U;y&&(U=this.getCachedTexture(y,r));const V={originalWidth:r.width||r.originalWidth||0,originalHeight:r.height||r.originalHeight||0,sourceWidth:o,sourceHeight:c,destinationWidth:o,destinationHeight:c,context:w,sourceTexture:this.createTexture(w,o,c,U?void 0:r),targetTexture:this.createTexture(w,o,c),originalTexture:U||this.createTexture(w,o,c,U?void 0:r),passes:n.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:f},be=w.createFramebuffer();return w.bindFramebuffer(w.FRAMEBUFFER,be),n.forEach(De=>{De&&De.applyTo(V)}),function(De){const nt=De.targetCanvas,wt=nt.width,Xt=nt.height,fn=De.destinationWidth,bn=De.destinationHeight;wt===fn&&Xt===bn||(nt.width=fn,nt.height=bn)}(V),this.copyGLTo2D(w,V),w.bindTexture(w.TEXTURE_2D,null),w.deleteTexture(V.sourceTexture),w.deleteTexture(V.targetTexture),w.deleteFramebuffer(be),R.setTransform(1,0,0,1,0,0),V}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(n,r,o,c,f){const{NEAREST:y,TEXTURE_2D:w,RGBA:R,UNSIGNED_BYTE:U,CLAMP_TO_EDGE:V,TEXTURE_MAG_FILTER:be,TEXTURE_MIN_FILTER:De,TEXTURE_WRAP_S:nt,TEXTURE_WRAP_T:wt}=n,Xt=n.createTexture();return n.bindTexture(w,Xt),n.texParameteri(w,be,f||y),n.texParameteri(w,De,f||y),n.texParameteri(w,nt,V),n.texParameteri(w,wt,V),c?n.texImage2D(w,0,R,R,U,c):n.texImage2D(w,0,R,r,o,0,R,U,null),Xt}getCachedTexture(n,r,o){const{textureCache:c}=this;if(c[n])return c[n];{const f=this.createTexture(this.gl,r.width,r.height,r,o);return f&&(c[n]=f),f}}evictCachesForKey(n){this.textureCache[n]&&(this.gl.deleteTexture(this.textureCache[n]),delete this.textureCache[n])}copyGLTo2D(n,r){const o=n.canvas,c=r.targetCanvas,f=c.getContext("2d");if(!f)return;f.translate(0,c.height),f.scale(1,-1);const y=o.height-c.height;f.drawImage(o,0,y,c.width,c.height,0,0,c.width,c.height)}copyGLTo2DPutImageData(n,r){const o=r.targetCanvas.getContext("2d"),c=r.destinationWidth,f=r.destinationHeight,y=c*f*4;if(!o)return;const w=new Uint8Array(this.imageBuffer,0,y),R=new Uint8ClampedArray(this.imageBuffer,0,y);n.readPixels(0,0,c,f,n.RGBA,n.UNSIGNED_BYTE,w);const U=new ImageData(R,c,f);o.putImageData(U,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const n=this.gl,r={renderer:"",vendor:""};if(!n)return r;const o=n.getExtension("WEBGL_debug_renderer_info");if(o){const c=n.getParameter(o.UNMASKED_RENDERER_WEBGL),f=n.getParameter(o.UNMASKED_VENDOR_WEBGL);c&&(r.renderer=c.toLowerCase()),f&&(r.vendor=f.toLowerCase())}return this.gpuInfo=r,r}}let uh;function _p(){const{WebGLProbe:x}=Be();return x.queryWebGL(Ft()),X.enableGLFiltering&&x.isSupported(X.textureSize)?new bd({tileSize:X.textureSize}):new Cp}function Xh(){return!uh&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(uh=_p()),uh}function og(x){uh=x}const wp=["filters","resizeFilter","src","crossOrigin","type"],Ff=["cropX","cropY"];class xc extends Zi{static getDefaults(){return $($({},super.getDefaults()),xc.ownDefaults)}constructor(n,r){super(),u(this,"_lastScaleX",1),u(this,"_lastScaleY",1),u(this,"_filterScalingX",1),u(this,"_filterScalingY",1),this.filters=[],Object.assign(this,xc.ownDefaults),this.setOptions(r),this.cacheKey="texture".concat(gn()),this.setElement(typeof n=="string"?(this.canvas&&Js(this.canvas.getElement())||Oe()).getElementById(n):n,r)}getElement(){return this._element}setElement(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=n,this._originalElement=n,this._setWidthHeight(r),n.classList.add(xc.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(n){const r=Xh(!1);r instanceof bd&&r.evictCachesForKey(n)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(n=>{const r=this[n];r&&Be().dispose(r),this[n]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const n=this.getElement();return n?{width:n.naturalWidth||n.width,height:n.naturalHeight||n.height}:{width:0,height:0}}_stroke(n){if(!this.stroke||this.strokeWidth===0)return;const r=this.width/2,o=this.height/2;n.beginPath(),n.moveTo(-r,-o),n.lineTo(r,-o),n.lineTo(r,o),n.lineTo(-r,o),n.lineTo(-r,-o),n.closePath()}toObject(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const r=[];return this.filters.forEach(o=>{o&&r.push(o.toObject())}),$($({},super.toObject([...Ff,...n])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:r},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const n=[],r=this._element,o=-this.width/2,c=-this.height/2;let f=[],y=[],w="",R="";if(!r)return[];if(this.hasCrop()){const U=gn();f.push('<clipPath id="imageCrop_'+U+`">
`,'	<rect x="'+o+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),w=' clip-path="url(#imageCrop_'+U+')" '}if(this.imageSmoothing||(R=' image-rendering="optimizeSpeed"'),n.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(o-this.cropX,'" y="').concat(c-this.cropY,'" width="').concat(r.width||r.naturalWidth,'" height="').concat(r.height||r.naturalHeight,'"').concat(R).concat(w,`></image>
`)),this.stroke||this.strokeDashArray){const U=this.fill;this.fill=null,y=['	<rect x="'.concat(o,'" y="').concat(c,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=U}return f=this.paintFirst!==rn?f.concat(y,n):f.concat(n,y),f}getSrc(n){const r=n?this._element:this._originalElement;return r?r.toDataURL?r.toDataURL():this.srcFromAttribute?r.getAttribute("src")||"":r.src:this.src||""}getSvgSrc(n){return this.getSrc(n)}setSrc(n){let{crossOrigin:r,signal:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Us(n,{crossOrigin:r,signal:o}).then(c=>{r!==void 0&&this.set({crossOrigin:r}),this.setElement(c)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const n=this.resizeFilter,r=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),c=o.x,f=o.y,y=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!n||c>r&&f>r)return this._element=y,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,void(this._lastScaleY=f);const w=Ft(),R=y.width,U=y.height;w.width=R,w.height=U,this._element=w,this._lastScaleX=n.scaleX=c,this._lastScaleY=n.scaleY=f,Xh().applyFilters([n],y,R,U,this._element),this._filterScalingX=w.width/this._originalElement.width,this._filterScalingY=w.height/this._originalElement.height}applyFilters(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(n=n.filter(f=>f&&!f.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),n.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const r=this._originalElement,o=r.naturalWidth||r.width,c=r.naturalHeight||r.height;if(this._element===this._originalElement){const f=Ft();f.width=o,f.height=c,this._element=f,this._filteredEl=f}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,c),this._lastScaleX=1,this._lastScaleY=1);Xh().applyFilters(n,this._originalElement,o,c,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(n){n.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(n),this._renderPaintInOrder(n)}drawCacheOnCanvas(n){n.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(n)}shouldCache(){return this.needsItsOwnCache()}_renderFill(n){const r=this._element;if(!r)return;const o=this._filterScalingX,c=this._filterScalingY,f=this.width,y=this.height,w=Math.max(this.cropX,0),R=Math.max(this.cropY,0),U=r.naturalWidth||r.width,V=r.naturalHeight||r.height,be=w*o,De=R*c,nt=Math.min(f*o,U-be),wt=Math.min(y*c,V-De),Xt=-f/2,fn=-y/2,bn=Math.min(f,U/o-w),Oi=Math.min(y,V/c-R);r&&n.drawImage(r,be,De,nt,wt,Xt,fn,bn,Oi)}_needsResize(){const n=this.getTotalObjectScaling();return n.x!==this._lastScaleX||n.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:n,height:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o=this.getOriginalSize();this.width=n||o.width,this.height=r||o.height}parsePreserveAspectRatioAttribute(){const n=Hr(this.preserveAspectRatio||""),r=this.width,o=this.height,c={width:r,height:o};let f,y=this._element.width,w=this._element.height,R=1,U=1,V=0,be=0,De=0,nt=0;return!n||n.alignX===ut&&n.alignY===ut?(R=r/y,U=o/w):(n.meetOrSlice==="meet"&&(R=U=Zd(this._element,c),f=(r-y*R)/2,n.alignX==="Min"&&(V=-f),n.alignX==="Max"&&(V=f),f=(o-w*U)/2,n.alignY==="Min"&&(be=-f),n.alignY==="Max"&&(be=f)),n.meetOrSlice==="slice"&&(R=U=Dh(this._element,c),f=y-r/R,n.alignX==="Mid"&&(De=f/2),n.alignX==="Max"&&(De=f),f=w-o/U,n.alignY==="Mid"&&(nt=f/2),n.alignY==="Max"&&(nt=f),y=r/R,w=o/U)),{width:y,height:w,scaleX:R,scaleY:U,offsetLeft:V,offsetTop:be,cropX:De,cropY:nt}}static fromObject(n,r){let{filters:o,resizeFilter:c,src:f,crossOrigin:y,type:w}=n,R=de(n,wp);return Promise.all([Us(f,$($({},r),{},{crossOrigin:y})),o&&As(o,r),c&&As([c],r),yo(R,r)]).then(U=>{let[V,be=[],[De]=[],nt={}]=U;return new this(V,$($({},R),{},{src:f,filters:be,resizeFilter:De},nt))})}static fromURL(n){let{crossOrigin:r=null,signal:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;return Us(n,{crossOrigin:r,signal:o}).then(f=>new this(f,c))}static fromElement(r){return Tl(this,arguments,function*(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;const f=Mc(n,this.ATTRIBUTE_NAMES,c);return this.fromURL(f["xlink:href"],o,f).catch(y=>(j("log","Unable to parse Image",y),null))})}}function Yh(x){if(!Y.test(x.nodeName))return{};const n=x.getAttribute("viewBox");let r,o,c=1,f=1,y=0,w=0;const R=x.getAttribute("width"),U=x.getAttribute("height"),V=x.getAttribute("x")||0,be=x.getAttribute("y")||0,De=!(n&&Tt.test(n)),nt=!R||!U||R==="100%"||U==="100%";let wt="",Xt=0,fn=0;if(De&&(V||be)&&x.parentNode&&x.parentNode.nodeName!=="#document"&&(wt=" translate("+Ni(V||"0")+" "+Ni(be||"0")+") ",r=(x.getAttribute("transform")||"")+wt,x.setAttribute("transform",r),x.removeAttribute("x"),x.removeAttribute("y")),De&&nt)return{width:0,height:0};const bn={width:0,height:0};if(De)return bn.width=Ni(R),bn.height=Ni(U),bn;const Oi=n.match(Tt);y=-parseFloat(Oi[1]),w=-parseFloat(Oi[2]);const Fr=parseFloat(Oi[3]),xs=parseFloat(Oi[4]);bn.minX=y,bn.minY=w,bn.viewBoxWidth=Fr,bn.viewBoxHeight=xs,nt?(bn.width=Fr,bn.height=xs):(bn.width=Ni(R),bn.height=Ni(U),c=bn.width/Fr,f=bn.height/xs);const Mr=Hr(x.getAttribute("preserveAspectRatio")||"");if(Mr.alignX!==ut&&(Mr.meetOrSlice==="meet"&&(f=c=c>f?f:c),Mr.meetOrSlice==="slice"&&(f=c=c>f?c:f),Xt=bn.width-Fr*c,fn=bn.height-xs*c,Mr.alignX==="Mid"&&(Xt/=2),Mr.alignY==="Mid"&&(fn/=2),Mr.alignX==="Min"&&(Xt=0),Mr.alignY==="Min"&&(fn=0)),c===1&&f===1&&y===0&&w===0&&V===0&&be===0)return bn;if((V||be)&&x.parentNode.nodeName!=="#document"&&(wt=" translate("+Ni(V||"0")+" "+Ni(be||"0")+") "),r=wt+" matrix("+c+" 0 0 "+f+" "+(y*c+Xt)+" "+(w*f+fn)+") ",x.nodeName==="svg"){for(o=x.ownerDocument.createElementNS(_s,"g");x.firstChild;)o.appendChild(x.firstChild);x.appendChild(o)}else o=x,o.removeAttribute("x"),o.removeAttribute("y"),r=o.getAttribute("transform")+r;return o.setAttribute("transform",r),bn}u(xc,"type","Image"),u(xc,"cacheProperties",[...hn,...Ff]),u(xc,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),u(xc,"CSS_CANVAS","canvas-img"),u(xc,"ATTRIBUTE_NAMES",[...ao,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),dn.setClass(xc),dn.setSVGClass(xc);const dh=x=>x.tagName.replace("svg:",""),Mp=ni(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function Bf(x,n){let r,o,c,f,y=[];for(c=0,f=n.length;c<f;c++)r=n[c],o=x.getElementsByTagNameNS("http://www.w3.org/2000/svg",r),y=y.concat(Array.from(o));return y}const Ep=null,hh="xlink:href";function Uf(x,n){var r;const o=((r=n.getAttribute(hh))===null||r===void 0?void 0:r.slice(1))||"",c=x.getElementById(o);if(c&&c.getAttribute(hh)&&Uf(x,c),c&&(Ep.forEach(f=>{const y=c.getAttribute(f);!n.hasAttribute(f)&&y&&n.setAttribute(f,y)}),!n.children.length)){const f=c.cloneNode(!0);for(;f.firstChild;)n.appendChild(f.firstChild)}n.removeAttribute(hh)}const Tp=null;function Ap(x){const n=x.getElementsByTagName("style");let r,o;const c={};for(r=0,o=n.length;r<o;r++){const f=(n[r].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");f.trim()!==""&&f.split("}").filter((y,w,R)=>R.length>1&&y.trim()).forEach(y=>{if((y.match(/{/g)||[]).length>1&&y.trim().startsWith("@"))return;const w=y.split("{"),R={},U=w[1].trim().split(";").filter(function(V){return V.trim()});for(r=0,o=U.length;r<o;r++){const V=U[r].split(":"),be=V[0].trim(),De=V[1].trim();R[be]=De}(y=w[0].trim()).split(",").forEach(V=>{(V=V.replace(/^svg/i,"").trim())!==""&&(c[V]=$($({},c[V]||{}),R))})})}return c}const Kh=x=>dn.getSVGClass(dh(x).toLowerCase());class Pp{constructor(n,r,o,c,f){this.elements=n,this.options=r,this.reviver=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c,this.clipPaths=f,this.gradientDefs=function(y){const w=Bf(y,Tp),R={};let U=w.length;for(;U--;){const V=w[U];V.getAttribute("xlink:href")&&Uf(y,V);const be=V.getAttribute("id");be&&(R[be]=V)}return R}(c),this.cssRules=Ap(c)}parse(){return Promise.all(this.elements.map(n=>this.createObject(n)))}createObject(n){return Tl(this,null,function*(){const r=Kh(n);if(r){const o=yield r.fromElement(n,this.options,this.cssRules);return this.resolveGradient(o,n,rn),this.resolveGradient(o,n,cn),o instanceof xc&&o._originalElement?Wl(o,o.parsePreserveAspectRatioAttribute()):Wl(o),yield this.resolveClipPath(o,n),this.reviver&&this.reviver(n,o),o}return null})}extractPropertyDefinition(n,r,o){const c=n[r],f=this.regexUrl;if(!f.test(c))return;f.lastIndex=0;const y=f.exec(c)[1];return f.lastIndex=0,o[y]}resolveGradient(n,r,o){const c=this.extractPropertyDefinition(n,o,this.gradientDefs);if(c){const f=r.getAttribute(o+"-opacity"),y=wu.fromElement(c,n,$($({},this.options),{},{opacity:f}));n.set(o,y)}}resolveClipPath(n,r){return Tl(this,null,function*(){const o=this.extractPropertyDefinition(n,"clipPath",this.clipPaths);if(o){const c=fr(n.calcTransformMatrix()),f=o[0].parentElement;let y=r;for(;y.parentElement&&y.getAttribute("clip-path")!==n.clipPath;)y=y.parentElement;y.parentElement.appendChild(f);const w=dd("".concat(y.getAttribute("transform")||""," ").concat(f.getAttribute("originalTransform")||""));f.setAttribute("transform","matrix(".concat(w.join(","),")"));const R=yield Promise.all(o.map(bn=>Kh(bn).fromElement(bn,this.options,this.cssRules).then(Oi=>(Wl(Oi),Oi.fillRule=Oi.clipRule,delete Oi.clipRule,Oi)))),U=R.length===1?R[0]:new tl(R),V=ir(c,U.calcTransformMatrix());U.clipPath&&(yield this.resolveClipPath(U,y));const{scaleX:be,scaleY:De,angle:nt,skewX:wt,translateX:Xt,translateY:fn}=dt(V);U.set({flipX:!1,flipY:!1}),U.set({scaleX:be,scaleY:De,angle:nt,skewX:wt,skewY:0}),U.setPositionByOrigin(new it(Xt,fn),lt,lt),n.clipPath=U}else delete n.clipPath})}}const zf=x=>Lo.test(dh(x)),qh=()=>({objects:[],elements:[],options:{},allElements:[]});function kf(r,o){return Tl(this,arguments,function*(x,n){let{crossOrigin:c,signal:f}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(f&&f.aborted)return j("log",new ft("parseSVGDocument")),qh();const y=x.documentElement;(function(De){const nt=Bf(De,["use","svg:use"]);let wt=0;for(;nt.length&&wt<nt.length;){const Xt=nt[wt],fn=Xt.getAttribute("xlink:href")||Xt.getAttribute("href");if(fn===null)return;const bn=fn.slice(1),Oi=Xt.getAttribute("x")||0,Fr=Xt.getAttribute("y")||0,xs=De.getElementById(bn);if(xs===null)return;let Mr=xs.cloneNode(!0),Ro=(Mr.getAttribute("transform")||"")+" translate("+Oi+", "+Fr+")";const ha=nt.length,ks=_s;if(Yh(Mr),/^svg$/i.test(Mr.nodeName)){const wa=Mr.ownerDocument.createElementNS(ks,"g");for(let La=0,vl=Mr.attributes,il=vl.length;La<il;La++){const oa=vl.item(La);oa&&wa.setAttributeNS(ks,oa.nodeName,oa.nodeValue)}for(;Mr.firstChild;)wa.appendChild(Mr.firstChild);Mr=wa}for(let wa=0,La=Xt.attributes,vl=La.length;wa<vl;wa++){const il=La.item(wa);if(!il)continue;const{nodeName:oa,nodeValue:ol}=il;oa!=="x"&&oa!=="y"&&oa!=="xlink:href"&&oa!=="href"&&(oa==="transform"?Ro=ol+" "+Ro:Mr.setAttribute(oa,ol))}Mr.setAttribute("transform",Ro),Mr.setAttribute("instantiated_by_use","1"),Mr.removeAttribute("id"),Xt.parentNode.replaceChild(Mr,Xt),nt.length===ha&&wt++}})(x);const w=Array.from(y.getElementsByTagName("*")),R=$($({},Yh(y)),{},{crossOrigin:c,signal:f}),U=w.filter(De=>(Yh(De),zf(De)&&!function(nt){let wt=nt;for(;wt&&(wt=wt.parentElement);)if(wt&&wt.nodeName&&Mp.test(dh(wt))&&!wt.getAttribute("instantiated_by_use"))return!0;return!1}(De)));if(!U||U&&!U.length)return $($({},qh()),{},{options:R,allElements:w});const V={};return w.filter(De=>dh(De)==="clipPath").forEach(De=>{De.setAttribute("originalTransform",De.getAttribute("transform")||"");const nt=De.getAttribute("id");V[nt]=Array.from(De.getElementsByTagName("*")).filter(wt=>zf(wt))}),{objects:yield new Pp(U,R,n,x,V).parse(),elements:U,options:R,allElements:w}})}function ag(x,n,r){return kf(new(Ce()).DOMParser().parseFromString(x.trim(),"text/xml"),n,r)}function lg(x,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((o,c)=>{Mf(x.replace(/^\n\s*/,"").trim(),{onComplete:f=>{const y=f.responseXML;y&&o(y),c()},signal:r.signal})}).then(o=>kf(o,n,r)).catch(()=>qh())}const $f=Lt,Rp=x=>function(n,r,o){const{points:c,pathOffset:f}=o;return new it(c[x]).subtract(f).transform(ir(o.getViewportTransform(),o.calcTransformMatrix()))},Jh=(x,n,r,o)=>{const{target:c,pointIndex:f}=n,y=c,w=Ui(new it(r,o),void 0,y.calcOwnMatrix());return y.points[f]=w.add(y.pathOffset),y.setDimensions(),!0},Hf=(x,n)=>function(r,o,c,f){const y=o.target,w=new it(y.points[(x>0?x:y.points.length)-1]),R=w.subtract(y.pathOffset).transform(y.calcOwnMatrix()),U=n(r,$($({},o),{},{pointIndex:x}),c,f),V=w.subtract(y.pathOffset).transform(y.calcOwnMatrix()).subtract(R);return y.left-=V.x,y.top-=V.y,U},Qh=x=>sr($f,Hf(x,Jh));var cg=Object.freeze({__proto__:null,changeWidth:mi,createObjectDefaultControls:$t,createPolyActionHandler:Qh,createPolyControls:function(x){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={};for(let o=0;o<(typeof x=="number"?x:x.points.length);o++)r["p".concat(o)]=new yr($({actionName:$f,positionHandler:Rp(o),actionHandler:Qh(o)},n));return r},createPolyPositionHandler:Rp,createResizeControls:In,createTextboxDefaultControls:Wn,dragHandler:ma,factoryPolyActionHandler:Hf,getLocalPoint:Eo,polyActionHandler:Jh,renderCircleControl:ho,renderSquareControl:jr,rotationStyleHandler:So,rotationWithSnapping:Vo,scaleCursorStyleHandler:Ve,scaleOrSkewActionName:ge,scaleSkewCursorStyleHandler:Xe,scalingEqually:Nt,scalingX:Fn,scalingXOrSkewingY:yt,scalingY:ai,scalingYOrSkewingX:_t,skewCursorStyleHandler:Pi,skewHandlerX:Ji,skewHandlerY:Zt,wrapWithFireEvent:sr,wrapWithFixedAnchor:Is});const fh=x=>x.webgl!==void 0,ug=(x,n)=>{const r=Ft(),o=Ft().getContext("webgl"),c={imageBuffer:new ArrayBuffer(x*n*4)},f={destinationWidth:x,destinationHeight:n,targetCanvas:r};let y;r.width=x,r.height=n,y=Ce().performance.now(),bd.prototype.copyGLTo2D.call(c,o,f);const w=Ce().performance.now()-y;return y=Ce().performance.now(),bd.prototype.copyGLTo2DPutImageData.call(c,o,f),w>Ce().performance.now()-y},ef="precision highp float",dg=`
    `.concat(ef,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),Vf=["type"],tf=["type"],Op=new RegExp(ef,"g");class ml{get type(){return this.constructor.type}constructor(){let n=de(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Vf);Object.assign(this,this.constructor.defaults,n)}getFragmentSource(){return dg}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:c="highp"}}=Be();c!=="highp"&&(r=r.replace(Op,ef.replace("highp",c)));const f=n.createShader(n.VERTEX_SHADER),y=n.createShader(n.FRAGMENT_SHADER),w=n.createProgram();if(!f||!y||!w)throw new he("Vertex, fragment shader or program creation error");if(n.shaderSource(f,o),n.compileShader(f),!n.getShaderParameter(f,n.COMPILE_STATUS))throw new he("Vertex shader compile error for ".concat(this.type,": ").concat(n.getShaderInfoLog(f)));if(n.shaderSource(y,r),n.compileShader(y),!n.getShaderParameter(y,n.COMPILE_STATUS))throw new he("Fragment shader compile error for ".concat(this.type,": ").concat(n.getShaderInfoLog(y)));if(n.attachShader(w,f),n.attachShader(w,y),n.linkProgram(w),!n.getProgramParameter(w,n.LINK_STATUS))throw new he('Shader link error for "'.concat(this.type,'" ').concat(n.getProgramInfoLog(w)));const R=this.getUniformLocations(n,w)||{};return R.uStepW=n.getUniformLocation(w,"uStepW"),R.uStepH=n.getUniformLocation(w,"uStepH"),{program:w,attributeLocations:this.getAttributeLocations(n,w),uniformLocations:R}}getAttributeLocations(n,r){return{aPosition:n.getAttribLocation(r,"aPosition")}}getUniformLocations(n,r){const o=this.constructor.uniformLocations,c={};for(let f=0;f<o.length;f++)c[o[f]]=n.getUniformLocation(r,o[f]);return c}sendAttributeData(n,r,o){const c=r.aPosition,f=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,f),n.enableVertexAttribArray(c),n.vertexAttribPointer(c,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,o,n.STATIC_DRAW)}_setupFrameBuffer(n){const r=n.context;if(n.passes>1){const o=n.destinationWidth,c=n.destinationHeight;n.sourceWidth===o&&n.sourceHeight===c||(r.deleteTexture(n.targetTexture),n.targetTexture=n.filterBackend.createTexture(r,o,c)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n.targetTexture,0)}else r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish()}_swapTextures(n){n.passes--,n.pass++;const r=n.targetTexture;n.targetTexture=n.sourceTexture,n.sourceTexture=r}isNeutralState(n){return!1}applyTo(n){fh(n)?(this._setupFrameBuffer(n),this.applyToWebGL(n),this._swapTextures(n)):this.applyTo2d(n)}applyTo2d(n){}getCacheKey(){return this.type}retrieveShader(n){const r=this.getCacheKey();return n.programCache[r]||(n.programCache[r]=this.createProgram(n.context)),n.programCache[r]}applyToWebGL(n){const r=n.context,o=this.retrieveShader(n);n.pass===0&&n.originalTexture?r.bindTexture(r.TEXTURE_2D,n.originalTexture):r.bindTexture(r.TEXTURE_2D,n.sourceTexture),r.useProgram(o.program),this.sendAttributeData(r,o.attributeLocations,n.aPosition),r.uniform1f(o.uniformLocations.uStepW,1/n.sourceWidth),r.uniform1f(o.uniformLocations.uStepH,1/n.sourceHeight),this.sendUniformData(r,o.uniformLocations),r.viewport(0,0,n.destinationWidth,n.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(n,r,o){n.activeTexture(o),n.bindTexture(n.TEXTURE_2D,r),n.activeTexture(n.TEXTURE0)}unbindAdditionalTexture(n,r){n.activeTexture(r),n.bindTexture(n.TEXTURE_2D,null),n.activeTexture(n.TEXTURE0)}sendUniformData(n,r){}createHelpLayer(n){if(!n.helpLayer){const r=Ft();r.width=n.sourceWidth,r.height=n.sourceHeight,n.helpLayer=r}}toObject(){const n=Object.keys(this.constructor.defaults);return $({type:this.type},n.reduce((r,o)=>(r[o]=this[o],r),{}))}toJSON(){return this.toObject()}static fromObject(n,r){return Tl(this,null,function*(){return new this(de(n,tf))})}}u(ml,"type","BaseFilter"),u(ml,"uniformLocations",[]);const hg={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Sd extends ml{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(hg[this.mode],`
        }
      }
      `)}applyTo2d(n){let{imageData:{data:r}}=n;const o=new Dn(this.color).getSource(),c=o[0]*this.alpha,f=o[1]*this.alpha,y=o[2]*this.alpha,w=1-this.alpha;for(let R=0;R<r.length;R+=4){const U=r[R],V=r[R+1],be=r[R+2];switch(this.mode){case"multiply":r[R]=U*c/255,r[R+1]=V*f/255,r[R+2]=be*y/255;break;case"screen":r[R]=255-(255-U)*(255-c)/255,r[R+1]=255-(255-V)*(255-f)/255,r[R+2]=255-(255-be)*(255-y)/255;break;case"add":r[R]=U+c,r[R+1]=V+f,r[R+2]=be+y;break;case"difference":r[R]=Math.abs(U-c),r[R+1]=Math.abs(V-f),r[R+2]=Math.abs(be-y);break;case"subtract":r[R]=U-c,r[R+1]=V-f,r[R+2]=be-y;break;case"darken":r[R]=Math.min(U,c),r[R+1]=Math.min(V,f),r[R+2]=Math.min(be,y);break;case"lighten":r[R]=Math.max(U,c),r[R+1]=Math.max(V,f),r[R+2]=Math.max(be,y);break;case"overlay":r[R]=c<128?2*U*c/255:255-2*(255-U)*(255-c)/255,r[R+1]=f<128?2*V*f/255:255-2*(255-V)*(255-f)/255,r[R+2]=y<128?2*be*y/255:255-2*(255-be)*(255-y)/255;break;case"exclusion":r[R]=c+U-2*c*U/255,r[R+1]=f+V-2*f*V/255,r[R+2]=y+be-2*y*be/255;break;case"tint":r[R]=c+U*w,r[R+1]=f+V*w,r[R+2]=y+be*w}}}sendUniformData(n,r){const o=new Dn(this.color).getSource();o[0]=this.alpha*o[0]/255,o[1]=this.alpha*o[1]/255,o[2]=this.alpha*o[2]/255,o[3]=this.alpha,n.uniform4fv(r.uColor,o)}}u(Sd,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),u(Sd,"type","BlendColor"),u(Sd,"uniformLocations",["uColor"]),dn.setClass(Sd);const Ip={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},Wf=["type","image"];class ph extends ml{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Ip[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(n){const r=n.context,o=this.createTexture(n.filterBackend,this.image);this.bindAdditionalTexture(r,o,r.TEXTURE1),super.applyToWebGL(n),this.unbindAdditionalTexture(r,r.TEXTURE1)}createTexture(n,r){return n.getCachedTexture(r.cacheKey,r.getElement())}calculateMatrix(){const n=this.image,{width:r,height:o}=n.getElement();return[1/n.scaleX,0,0,0,1/n.scaleY,0,-n.left/r,-n.top/o,1]}applyTo2d(n){let{imageData:{data:r,width:o,height:c},filterBackend:{resources:f}}=n;const y=this.image;f.blendImage||(f.blendImage=Ft());const w=f.blendImage,R=w.getContext("2d");w.width!==o||w.height!==c?(w.width=o,w.height=c):R.clearRect(0,0,o,c),R.setTransform(y.scaleX,0,0,y.scaleY,y.left,y.top),R.drawImage(y.getElement(),0,0,o,c);const U=R.getImageData(0,0,o,c).data;for(let V=0;V<r.length;V+=4){const be=r[V],De=r[V+1],nt=r[V+2],wt=r[V+3],Xt=U[V],fn=U[V+1],bn=U[V+2],Oi=U[V+3];switch(this.mode){case"multiply":r[V]=be*Xt/255,r[V+1]=De*fn/255,r[V+2]=nt*bn/255,r[V+3]=wt*Oi/255;break;case"mask":r[V+3]=Oi}}}sendUniformData(n,r){const o=this.calculateMatrix();n.uniform1i(r.uImage,1),n.uniformMatrix3fv(r.uTransformMatrix,!1,o)}toObject(){return $($({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static fromObject(n,r){return Tl(this,null,function*(){let{type:o,image:c}=n,f=de(n,Wf);return xc.fromObject(c,r).then(y=>new this($($({},f),{},{image:y})))})}}u(ph,"type","BlendImage"),u(ph,"defaults",{mode:"multiply",alpha:1}),u(ph,"uniformLocations",["uTransformMatrix","uImage"]),dn.setClass(ph);class Cd extends ml{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(n){fh(n)?(this.aspectRatio=n.sourceWidth/n.sourceHeight,n.passes++,this._setupFrameBuffer(n),this.horizontal=!0,this.applyToWebGL(n),this._swapTextures(n),this._setupFrameBuffer(n),this.horizontal=!1,this.applyToWebGL(n),this._swapTextures(n)):this.applyTo2d(n)}applyTo2d(n){n.imageData=this.simpleBlur(n)}simpleBlur(n){let{ctx:r,imageData:o,filterBackend:{resources:c}}=n;const{width:f,height:y}=o;c.blurLayer1||(c.blurLayer1=Ft(),c.blurLayer2=Ft());const w=c.blurLayer1,R=c.blurLayer2;w.width===f&&w.height===y||(R.width=w.width=f,R.height=w.height=y);const U=w.getContext("2d"),V=R.getContext("2d"),be=15,De=.06*this.blur*.5;let nt,wt,Xt,fn;for(U.putImageData(o,0,0),V.clearRect(0,0,f,y),fn=-15;fn<=be;fn++)nt=(Math.random()-.5)/4,wt=fn/be,Xt=De*wt*f+nt,V.globalAlpha=1-Math.abs(wt),V.drawImage(w,Xt,nt),U.drawImage(R,0,0),V.globalAlpha=1,V.clearRect(0,0,R.width,R.height);for(fn=-15;fn<=be;fn++)nt=(Math.random()-.5)/4,wt=fn/be,Xt=De*wt*y+nt,V.globalAlpha=1-Math.abs(wt),V.drawImage(w,nt,Xt),U.drawImage(R,0,0),V.globalAlpha=1,V.clearRect(0,0,R.width,R.height);r.drawImage(w,0,0);const bn=r.getImageData(0,0,w.width,w.height);return U.globalAlpha=1,U.clearRect(0,0,w.width,w.height),bn}sendUniformData(n,r){const o=this.chooseRightDelta();n.uniform2fv(r.uDelta,o)}isNeutralState(){return this.blur===0}chooseRightDelta(){let n=1;const r=[0,0];this.horizontal?this.aspectRatio>1&&(n=1/this.aspectRatio):this.aspectRatio<1&&(n=this.aspectRatio);const o=n*this.blur*.12;return this.horizontal?r[0]=o:r[1]=o,r}}u(Cd,"type","Blur"),u(Cd,"defaults",{blur:0}),u(Cd,"uniformLocations",["uDelta"]),dn.setClass(Cd);class nd extends ml{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(n){let{imageData:{data:r}}=n;const o=Math.round(255*this.brightness);for(let c=0;c<r.length;c+=4)r[c]=r[c]+o,r[c+1]=r[c+1]+o,r[c+2]=r[c+2]+o}isNeutralState(){return this.brightness===0}sendUniformData(n,r){n.uniform1f(r.uBrightness,this.brightness)}}u(nd,"type","Brightness"),u(nd,"defaults",{brightness:0}),u(nd,"uniformLocations",["uBrightness"]),dn.setClass(nd);class zu extends ml{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(n){const r=n.imageData.data,o=this.matrix,c=this.colorsOnly;for(let f=0;f<r.length;f+=4){const y=r[f],w=r[f+1],R=r[f+2];if(c)r[f]=y*o[0]+w*o[1]+R*o[2]+255*o[4],r[f+1]=y*o[5]+w*o[6]+R*o[7]+255*o[9],r[f+2]=y*o[10]+w*o[11]+R*o[12]+255*o[14];else{const U=r[f+3];r[f]=y*o[0]+w*o[1]+R*o[2]+U*o[3]+255*o[4],r[f+1]=y*o[5]+w*o[6]+R*o[7]+U*o[8]+255*o[9],r[f+2]=y*o[10]+w*o[11]+R*o[12]+U*o[13]+255*o[14],r[f+3]=y*o[15]+w*o[16]+R*o[17]+U*o[18]+255*o[19]}}}sendUniformData(n,r){const o=this.matrix,c=[o[0],o[1],o[2],o[3],o[5],o[6],o[7],o[8],o[10],o[11],o[12],o[13],o[15],o[16],o[17],o[18]],f=[o[4],o[9],o[14],o[19]];n.uniformMatrix4fv(r.uColorMatrix,!1,c),n.uniform4fv(r.uConstants,f)}toObject(){return $($({},super.toObject()),{},{matrix:[...this.matrix]})}}function ku(x,n){var r;const o=(u(r=class extends zu{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",x),u(r,"defaults",{colorsOnly:!1,matrix:n}),r);return dn.setClass(o,x),o}u(zu,"type","ColorMatrix"),u(zu,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),u(zu,"uniformLocations",["uColorMatrix","uConstants"]),dn.setClass(zu);const Dp=ku("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),Lp=ku("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),fg=ku("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),jf=ku("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),Np=ku("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),Fp=ku("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),Bp=ku("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class nf extends ml{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(n),this.subFilters=n.subFilters||[]}applyTo(n){fh(n)&&(n.passes+=this.subFilters.length-1),this.subFilters.forEach(r=>{r.applyTo(n)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(n=>n.toObject())}}isNeutralState(){return!this.subFilters.some(n=>!n.isNeutralState())}static fromObject(n,r){return Promise.all((n.subFilters||[]).map(o=>dn.getClass(o.type).fromObject(o,r))).then(o=>new this({subFilters:o}))}}u(nf,"type","Composed"),dn.setClass(nf);class _d extends ml{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(n){let{imageData:{data:r}}=n;const o=Math.floor(255*this.contrast),c=259*(o+255)/(255*(259-o));for(let f=0;f<r.length;f+=4)r[f]=c*(r[f]-128)+128,r[f+1]=c*(r[f+1]-128)+128,r[f+2]=c*(r[f+2]-128)+128}sendUniformData(n,r){n.uniform1f(r.uContrast,this.contrast)}}u(_d,"type","Contrast"),u(_d,"defaults",{contrast:0}),u(_d,"uniformLocations",["uContrast"]),dn.setClass(_d);const Zf={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class wd extends ml{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return Zf[this.getCacheKey()]}applyTo2d(n){const r=n.imageData,o=r.data,c=this.matrix,f=Math.round(Math.sqrt(c.length)),y=Math.floor(f/2),w=r.width,R=r.height,U=n.ctx.createImageData(w,R),V=U.data,be=this.opaque?1:0;let De,nt,wt,Xt,fn,bn,Oi,Fr,xs,Mr,Ro,ha,ks;for(Ro=0;Ro<R;Ro++)for(Mr=0;Mr<w;Mr++){for(fn=4*(Ro*w+Mr),De=0,nt=0,wt=0,Xt=0,ks=0;ks<f;ks++)for(ha=0;ha<f;ha++)Oi=Ro+ks-y,bn=Mr+ha-y,Oi<0||Oi>=R||bn<0||bn>=w||(Fr=4*(Oi*w+bn),xs=c[ks*f+ha],De+=o[Fr]*xs,nt+=o[Fr+1]*xs,wt+=o[Fr+2]*xs,be||(Xt+=o[Fr+3]*xs));V[fn]=De,V[fn+1]=nt,V[fn+2]=wt,V[fn+3]=be?o[fn+3]:Xt}n.imageData=U}sendUniformData(n,r){n.uniform1fv(r.uMatrix,this.matrix)}toObject(){return $($({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}u(wd,"type","Convolute"),u(wd,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),u(wd,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),dn.setClass(wd);const Gf="Gamma";class Md extends ml{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(n),this.gamma=n.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(n){let{imageData:{data:r}}=n;const o=this.gamma,c=1/o[0],f=1/o[1],y=1/o[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const w=this.rgbValues;for(let R=0;R<256;R++)w.r[R]=255*Math.pow(R/255,c),w.g[R]=255*Math.pow(R/255,f),w.b[R]=255*Math.pow(R/255,y);for(let R=0;R<r.length;R+=4)r[R]=w.r[r[R]],r[R+1]=w.g[r[R+1]],r[R+2]=w.b[r[R+2]]}sendUniformData(n,r){n.uniform3fv(r.uGamma,this.gamma)}isNeutralState(){const{gamma:n}=this;return n[0]===1&&n[1]===1&&n[2]===1}toObject(){return{type:Gf,gamma:this.gamma.concat()}}}u(Md,"type",Gf),u(Md,"defaults",{gamma:[1,1,1]}),u(Md,"uniformLocations",["uGamma"]),dn.setClass(Md);const Xf={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Ed extends ml{applyTo2d(n){let{imageData:{data:r}}=n;for(let o,c=0;c<r.length;c+=4){switch(this.mode){case"average":o=(r[c]+r[c+1]+r[c+2])/3;break;case"lightness":o=(Math.min(r[c],r[c+1],r[c+2])+Math.max(r[c],r[c+1],r[c+2]))/2;break;case"luminosity":o=.21*r[c]+.72*r[c+1]+.07*r[c+2]}r[c]=o,r[c+1]=o,r[c+2]=o}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Xf[this.mode]}sendUniformData(n,r){n.uniform1i(r.uMode,1)}isNeutralState(){return!1}}u(Ed,"type","Grayscale"),u(Ed,"defaults",{mode:"average"}),u(Ed,"uniformLocations",["uMode"]),dn.setClass(Ed);class gh extends zu{calculateMatrix(){const n=this.rotation*Math.PI,r=Fi(n),o=pn(n),c=1/3,f=Math.sqrt(c)*o,y=1-r;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=r+y/3,this.matrix[1]=c*y-f,this.matrix[2]=c*y+f,this.matrix[5]=c*y+f,this.matrix[6]=r+c*y,this.matrix[7]=c*y-f,this.matrix[10]=c*y-f,this.matrix[11]=c*y+f,this.matrix[12]=r+c*y}isNeutralState(){return this.rotation===0}applyTo(n){this.calculateMatrix(),super.applyTo(n)}toObject(){return{type:this.type,rotation:this.rotation}}}u(gh,"type","HueRotation"),u(gh,"defaults",{rotation:0}),dn.setClass(gh);class Td extends ml{applyTo2d(n){let{imageData:{data:r}}=n;for(let o=0;o<r.length;o+=4)r[o]=255-r[o],r[o+1]=255-r[o+1],r[o+2]=255-r[o+2],this.alpha&&(r[o+3]=255-r[o+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(n,r){n.uniform1i(r.uInvert,Number(this.invert)),n.uniform1i(r.uAlpha,Number(this.alpha))}}u(Td,"type","Invert"),u(Td,"defaults",{alpha:!1,invert:!0}),u(Td,"uniformLocations",["uInvert","uAlpha"]),dn.setClass(Td);class Ad extends ml{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(n){let{imageData:{data:r}}=n;const o=this.noise;for(let c=0;c<r.length;c+=4){const f=(.5-Math.random())*o;r[c]+=f,r[c+1]+=f,r[c+2]+=f}}sendUniformData(n,r){n.uniform1f(r.uNoise,this.noise/255),n.uniform1f(r.uSeed,Math.random())}isNeutralState(){return this.noise===0}}u(Ad,"type","Noise"),u(Ad,"defaults",{noise:0}),u(Ad,"uniformLocations",["uNoise","uSeed"]),dn.setClass(Ad);class Pd extends ml{applyTo2d(n){let{imageData:{data:r,width:o,height:c}}=n;for(let f=0;f<c;f+=this.blocksize)for(let y=0;y<o;y+=this.blocksize){const w=4*f*o+4*y,R=r[w],U=r[w+1],V=r[w+2],be=r[w+3];for(let De=f;De<Math.min(f+this.blocksize,c);De++)for(let nt=y;nt<Math.min(y+this.blocksize,o);nt++){const wt=4*De*o+4*nt;r[wt]=R,r[wt+1]=U,r[wt+2]=V,r[wt+3]=be}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepW;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(n,r){n.uniform1f(r.uBlocksize,this.blocksize)}}u(Pd,"type","Pixelate"),u(Pd,"defaults",{blocksize:4}),u(Pd,"uniformLocations",["uBlocksize"]),dn.setClass(Pd);class Rd extends ml{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(n){let{imageData:{data:r}}=n;const o=255*this.distance,c=new Dn(this.color).getSource(),f=[c[0]-o,c[1]-o,c[2]-o],y=[c[0]+o,c[1]+o,c[2]+o];for(let w=0;w<r.length;w+=4){const R=r[w],U=r[w+1],V=r[w+2];R>f[0]&&U>f[1]&&V>f[2]&&R<y[0]&&U<y[1]&&V<y[2]&&(r[w+3]=0)}}sendUniformData(n,r){const o=new Dn(this.color).getSource(),c=this.distance,f=[0+o[0]/255-c,0+o[1]/255-c,0+o[2]/255-c,1],y=[o[0]/255+c,o[1]/255+c,o[2]/255+c,1];n.uniform4fv(r.uLow,f),n.uniform4fv(r.uHigh,y)}}u(Rd,"type","RemoveColor"),u(Rd,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),u(Rd,"uniformLocations",["uLow","uHigh"]),dn.setClass(Rd);class Od extends ml{sendUniformData(n,r){n.uniform2fv(r.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),n.uniform1fv(r.uTaps,this.taps)}getFilterWindow(){const n=this.tempScale;return Math.ceil(this.lanczosLobes/n)}getCacheKey(){const n=this.getFilterWindow();return"".concat(this.type,"_").concat(n)}getFragmentSource(){const n=this.getFilterWindow();return this.generateShader(n)}getTaps(){const n=this.lanczosCreate(this.lanczosLobes),r=this.tempScale,o=this.getFilterWindow(),c=new Array(o);for(let f=1;f<=o;f++)c[f-1]=n(f*r);return c}generateShader(n){const r=new Array(n);for(let o=1;o<=n;o++)r[o-1]="".concat(o,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(n,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(r.map((o,c)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(o,") * uTaps[").concat(c,"] + texture2D(uTexture, vTexCoord - ").concat(o,") * uTaps[").concat(c,`];
              sum += 2.0 * uTaps[`).concat(c,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(n){n.passes++,this.width=n.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=n.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),n.destinationWidth=this.dW,super.applyTo(n),n.sourceWidth=n.destinationWidth,this.height=n.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),n.destinationHeight=this.dH,super.applyTo(n),n.sourceHeight=n.destinationHeight}applyTo(n){fh(n)?this.applyToForWebgl(n):this.applyTo2d(n)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(n){return r=>{if(r>=n||r<=-n)return 0;if(r<11920929e-14&&r>-11920929e-14)return 1;const o=(r*=Math.PI)/n;return Math.sin(r)/r*Math.sin(o)/o}}applyTo2d(n){const r=n.imageData,o=this.scaleX,c=this.scaleY;this.rcpScaleX=1/o,this.rcpScaleY=1/c;const f=r.width,y=r.height,w=Math.round(f*o),R=Math.round(y*c);let U;U=this.resizeType==="sliceHack"?this.sliceByTwo(n,f,y,w,R):this.resizeType==="hermite"?this.hermiteFastResize(n,f,y,w,R):this.resizeType==="bilinear"?this.bilinearFiltering(n,f,y,w,R):this.resizeType==="lanczos"?this.lanczosResize(n,f,y,w,R):new ImageData(w,R),n.imageData=U}sliceByTwo(n,r,o,c,f){const y=n.imageData,w=.5;let R=!1,U=!1,V=r*w,be=o*w;const De=n.filterBackend.resources;let nt=0,wt=0;const Xt=r;let fn=0;De.sliceByTwo||(De.sliceByTwo=Ft());const bn=De.sliceByTwo;(bn.width<1.5*r||bn.height<o)&&(bn.width=1.5*r,bn.height=o);const Oi=bn.getContext("2d");for(Oi.clearRect(0,0,1.5*r,o),Oi.putImageData(y,0,0),c=Math.floor(c),f=Math.floor(f);!R||!U;)r=V,o=be,c<Math.floor(V*w)?V=Math.floor(V*w):(V=c,R=!0),f<Math.floor(be*w)?be=Math.floor(be*w):(be=f,U=!0),Oi.drawImage(bn,nt,wt,r,o,Xt,fn,V,be),nt=Xt,wt=fn,fn+=be;return Oi.getImageData(nt,wt,c,f)}lanczosResize(n,r,o,c,f){const y=n.imageData.data,w=n.ctx.createImageData(c,f),R=w.data,U=this.lanczosCreate(this.lanczosLobes),V=this.rcpScaleX,be=this.rcpScaleY,De=2/this.rcpScaleX,nt=2/this.rcpScaleY,wt=Math.ceil(V*this.lanczosLobes/2),Xt=Math.ceil(be*this.lanczosLobes/2),fn={},bn={x:0,y:0},Oi={x:0,y:0};return function Fr(xs){let Mr,Ro,ha,ks,wa,La,vl,il,oa,ol,fu;for(bn.x=(xs+.5)*V,Oi.x=Math.floor(bn.x),Mr=0;Mr<f;Mr++){for(bn.y=(Mr+.5)*be,Oi.y=Math.floor(bn.y),wa=0,La=0,vl=0,il=0,oa=0,Ro=Oi.x-wt;Ro<=Oi.x+wt;Ro++)if(!(Ro<0||Ro>=r)){ol=Math.floor(1e3*Math.abs(Ro-bn.x)),fn[ol]||(fn[ol]={});for(let jc=Oi.y-Xt;jc<=Oi.y+Xt;jc++)jc<0||jc>=o||(fu=Math.floor(1e3*Math.abs(jc-bn.y)),fn[ol][fu]||(fn[ol][fu]=U(Math.sqrt(Math.pow(ol*De,2)+Math.pow(fu*nt,2))/1e3)),ha=fn[ol][fu],ha>0&&(ks=4*(jc*r+Ro),wa+=ha,La+=ha*y[ks],vl+=ha*y[ks+1],il+=ha*y[ks+2],oa+=ha*y[ks+3]))}ks=4*(Mr*c+xs),R[ks]=La/wa,R[ks+1]=vl/wa,R[ks+2]=il/wa,R[ks+3]=oa/wa}return++xs<c?Fr(xs):w}(0)}bilinearFiltering(n,r,o,c,f){let y,w,R,U,V,be,De,nt,wt,Xt,fn,bn,Oi,Fr=0;const xs=this.rcpScaleX,Mr=this.rcpScaleY,Ro=4*(r-1),ha=n.imageData.data,ks=n.ctx.createImageData(c,f),wa=ks.data;for(De=0;De<f;De++)for(nt=0;nt<c;nt++)for(V=Math.floor(xs*nt),be=Math.floor(Mr*De),wt=xs*nt-V,Xt=Mr*De-be,Oi=4*(be*r+V),fn=0;fn<4;fn++)y=ha[Oi+fn],w=ha[Oi+4+fn],R=ha[Oi+Ro+fn],U=ha[Oi+Ro+4+fn],bn=y*(1-wt)*(1-Xt)+w*wt*(1-Xt)+R*Xt*(1-wt)+U*wt*Xt,wa[Fr++]=bn;return ks}hermiteFastResize(n,r,o,c,f){const y=this.rcpScaleX,w=this.rcpScaleY,R=Math.ceil(y/2),U=Math.ceil(w/2),V=n.imageData.data,be=n.ctx.createImageData(c,f),De=be.data;for(let nt=0;nt<f;nt++)for(let wt=0;wt<c;wt++){const Xt=4*(wt+nt*c);let fn=0,bn=0,Oi=0,Fr=0,xs=0,Mr=0,Ro=0;const ha=(nt+.5)*w;for(let ks=Math.floor(nt*w);ks<(nt+1)*w;ks++){const wa=Math.abs(ha-(ks+.5))/U,La=(wt+.5)*y,vl=wa*wa;for(let il=Math.floor(wt*y);il<(wt+1)*y;il++){let oa=Math.abs(La-(il+.5))/R;const ol=Math.sqrt(vl+oa*oa);ol>1&&ol<-1||(fn=2*ol*ol*ol-3*ol*ol+1,fn>0&&(oa=4*(il+ks*r),Ro+=fn*V[oa+3],Oi+=fn,V[oa+3]<255&&(fn=fn*V[oa+3]/250),Fr+=fn*V[oa],xs+=fn*V[oa+1],Mr+=fn*V[oa+2],bn+=fn))}}De[Xt]=Fr/bn,De[Xt+1]=xs/bn,De[Xt+2]=Mr/bn,De[Xt+3]=Ro/Oi}return be}}u(Od,"type","Resize"),u(Od,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),u(Od,"uniformLocations",["uDelta","uTaps"]),dn.setClass(Od);class id extends ml{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(n){let{imageData:{data:r}}=n;const o=-this.saturation;for(let c=0;c<r.length;c+=4){const f=Math.max(r[c],r[c+1],r[c+2]);r[c]+=f!==r[c]?(f-r[c])*o:0,r[c+1]+=f!==r[c+1]?(f-r[c+1])*o:0,r[c+2]+=f!==r[c+2]?(f-r[c+2])*o:0}}sendUniformData(n,r){n.uniform1f(r.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}u(id,"type","Saturation"),u(id,"defaults",{saturation:0}),u(id,"uniformLocations",["uSaturation"]),dn.setClass(id);class rd extends ml{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(n){let{imageData:{data:r}}=n;const o=-this.vibrance;for(let c=0;c<r.length;c+=4){const f=Math.max(r[c],r[c+1],r[c+2]),y=(r[c]+r[c+1]+r[c+2])/3,w=2*Math.abs(f-y)/255*o;r[c]+=f!==r[c]?(f-r[c])*w:0,r[c+1]+=f!==r[c+1]?(f-r[c+1])*w:0,r[c+2]+=f!==r[c+2]?(f-r[c+2])*w:0}}sendUniformData(n,r){n.uniform1f(r.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}u(rd,"type","Vibrance"),u(rd,"defaults",{vibrance:0}),u(rd,"uniformLocations",["uVibrance"]),dn.setClass(rd);var im=Object.freeze({__proto__:null,BaseFilter:ml,BlackWhite:Bp,BlendColor:Sd,BlendImage:ph,Blur:Cd,Brightness:nd,Brownie:Dp,ColorMatrix:zu,Composed:nf,Contrast:_d,Convolute:wd,Gamma:Md,Grayscale:Ed,HueRotation:gh,Invert:Td,Kodachrome:fg,Noise:Ad,Pixelate:Pd,Polaroid:Np,RemoveColor:Rd,Resize:Od,Saturation:id,Sepia:Fp,Technicolor:jf,Vibrance:rd,Vintage:Lp})},84279:function(Ci,At,I){"use strict";I.d(At,{$TI:function(){return zx},CP7:function(){return X0},FM8:function(){return Zt},Ilk:function(){return wr},Kj0:function(){return Ql},L5s:function(){return Jv},Ltg:function(){return ao},M8C:function(){return Ji},Pa4:function(){return je},RsA:function(){return q},Tme:function(){return sl},Uk6:function(){return kv},Vj0:function(){return ue},YT8:function(){return Ev},ZzF:function(){return ql},Zzh:function(){return kx},_fP:function(){return Kl},a$l:function(){return fs},aLr:function(){return Jl},cPb:function(){return jl},jyz:function(){return Vc},kB5:function(){return af},pBf:function(){return Qn},rBU:function(){return G},rDY:function(){return Hh},tGC:function(){return Hx},xsS:function(){return tv},yGw:function(){return qs},yj7:function(){return Pv}});const u="167",q={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},$={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},de=0,Qe=1,fe=2,ee=3,X=0,j=1,he=2,ft=3,st=0,oe=1,ct=2,xe=0,ne=1,Be=2,Oe=3,Ce=4,at=5,re=100,we=101,Ue=102,E=103,tt=104,Ie=200,Le=201,bt=202,en=203,lt=204,Ht=205,Pn=206,vi=207,Rt=208,ut=209,Ge=210,ot=211,mt=212,kt=213,qt=214,Yn=0,_n=1,Lt=2,Kn=3,ln=4,Gt=5,Bt=6,Nn=7,Pt=0,rn=1,cn=2,zi=0,Mi=1,as=2,dn=3,Rr=4,is=5,mr=6,bi=7,qn="attached",Fi="detached",pn=300,it=301,Vs=302,nr=303,zr=304,kr=306,Hn=1e3,ce=1001,Qt=1002,gn=1003,Ft=1004,on=1004,Cn=1005,Or=1005,ds=1006,io=1007,$r=1007,fr=1008,ir=1008,_r=1009,hs=1010,dt=1011,vt=1012,Ut=1013,ti=1014,Si=1015,Li=1016,Ds=1017,Sr=1018,Ls=1020,Us=35902,As=1021,yo=1022,Ss=1023,wo=1024,Mo=1025,It=1026,Rn=1027,zn=1028,an=1029,Vn=1030,Dn=1031,ri=1032,Ni=1033,Hr=33776,pr=33777,Ir=33778,vr=33779,zs=35840,so=35841,Xr=35842,Ws=35843,jo=36196,Js=37492,Qs=37496,_i=37808,eo=37809,js=37810,Ps=37811,Vr=37812,Wr=37813,Hi=37814,qr=37815,Jr=37816,gr=37817,oo=37818,Yi=37819,to=37820,Ho=37821,Ns=36492,Zo=36494,Go=36495,ys=36283,qi=36284,Ui=36285,Ei=36286,xo=2200,Os=2201,Xo=2202,Ks=2300,Ea=2301,Ao=2302,bo=2400,Yo=2401,Po=2402,zo=2500,Eo=2501,ma=0,uo=1,Wa=2,bl=3200,ka=3201,Al=3202,ic=3203,ja=0,hl=1,na="",Za="srgb",$a="srgb-linear",Pl="display-p3",Ze="display-p3-linear",te="linear",H="srgb",le="rec709",ie="p3",$e=0,Fe=7680,zt=7681,sn=7682,On=7683,Yt=34055,g=34056,b=5386,T=512,D=513,k=514,z=515,J=516,_e=517,Me=518,He=519,Dt=512,tn=513,Et=514,yn=515,ni=516,ji=517,rr=518,Cs=519,_s=35044,go=35048,Da=35040,Yr=35045,ra=35049,Lo=35041,Y=35046,Pe=35050,Tt=35042,Mt="100",Kt="300 es",nn=2e3,si=2001;class Qn{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const a=s.indexOf(t);a!==-1&&s.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const s=i.slice(0);for(let a=0,d=s.length;a<d;a++)s[a].call(this,e);e.target=null}}}const hn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Vi=1234567;const oi=Math.PI/180,Gi=180/Math.PI;function Ki(){const l=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(hn[l&255]+hn[l>>8&255]+hn[l>>16&255]+hn[l>>24&255]+"-"+hn[e&255]+hn[e>>8&255]+"-"+hn[e>>16&15|64]+hn[e>>24&255]+"-"+hn[t&63|128]+hn[t>>8&255]+"-"+hn[t>>16&255]+hn[t>>24&255]+hn[i&255]+hn[i>>8&255]+hn[i>>16&255]+hn[i>>24&255]).toLowerCase()}function sr(l,e,t){return Math.max(e,Math.min(t,l))}function Is(l,e){return(l%e+e)%e}function mi(l,e,t,i,s){return i+(l-e)*(s-i)/(t-e)}function ho(l,e,t){return l!==e?(t-l)/(e-l):0}function jr(l,e,t){return(1-t)*l+t*e}function yr(l,e,t,i){return jr(l,e,1-Math.exp(-t*i))}function So(l,e=1){return e-Math.abs(Is(l,e*2)-e)}function Vo(l,e,t){return l<=e?0:l>=t?1:(l=(l-e)/(t-e),l*l*(3-2*l))}function _a(l,e,t){return l<=e?0:l>=t?1:(l=(l-e)/(t-e),l*l*l*(l*(l*6-15)+10))}function ye(l,e){return l+Math.floor(Math.random()*(e-l+1))}function qe(l,e){return l+Math.random()*(e-l)}function Ve(l){return l*(.5-Math.random())}function ht(l){l!==void 0&&(Vi=l);let e=Vi+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Nt(l){return l*oi}function Fn(l){return l*Gi}function ai(l){return(l&l-1)===0&&l!==0}function xi(l){return Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))}function hi(l){return Math.pow(2,Math.floor(Math.log(l)/Math.LN2))}function Xi(l,e,t,i,s){const a=Math.cos,d=Math.sin,p=a(t/2),v=d(t/2),S=a((e+i)/2),M=d((e+i)/2),A=a((e-i)/2),P=d((e-i)/2),O=a((i-e)/2),F=d((i-e)/2);switch(s){case"XYX":l.set(p*M,v*A,v*P,p*S);break;case"YZY":l.set(v*P,p*M,v*A,p*S);break;case"ZXZ":l.set(v*A,v*P,p*M,p*S);break;case"XZX":l.set(p*M,v*F,v*O,p*S);break;case"YXY":l.set(v*O,p*M,v*F,p*S);break;case"ZYZ":l.set(v*F,v*O,p*M,p*S);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Pi(l,e){switch(e.constructor){case Float32Array:return l;case Uint32Array:return l/4294967295;case Uint16Array:return l/65535;case Uint8Array:return l/255;case Int32Array:return Math.max(l/2147483647,-1);case Int16Array:return Math.max(l/32767,-1);case Int8Array:return Math.max(l/127,-1);default:throw new Error("Invalid component type.")}}function jn(l,e){switch(e.constructor){case Float32Array:return l;case Uint32Array:return Math.round(l*4294967295);case Uint16Array:return Math.round(l*65535);case Uint8Array:return Math.round(l*255);case Int32Array:return Math.round(l*2147483647);case Int16Array:return Math.round(l*32767);case Int8Array:return Math.round(l*127);default:throw new Error("Invalid component type.")}}const Ji={DEG2RAD:oi,RAD2DEG:Gi,generateUUID:Ki,clamp:sr,euclideanModulo:Is,mapLinear:mi,inverseLerp:ho,lerp:jr,damp:yr,pingpong:So,smoothstep:Vo,smootherstep:_a,randInt:ye,randFloat:qe,randFloatSpread:Ve,seededRandom:ht,degToRad:Nt,radToDeg:Fn,isPowerOfTwo:ai,ceilPowerOfTwo:xi,floorPowerOfTwo:hi,setQuaternionFromProperEuler:Xi,normalize:jn,denormalize:Pi};class Zt{constructor(e=0,t=0){Zt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6],this.y=s[1]*t+s[4]*i+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(sr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),s=Math.sin(t),a=this.x-e.x,d=this.y-e.y;return this.x=a*i-d*s+e.x,this.y=a*s+d*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wi{constructor(e,t,i,s,a,d,p,v,S){Wi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,s,a,d,p,v,S)}set(e,t,i,s,a,d,p,v,S){const M=this.elements;return M[0]=e,M[1]=s,M[2]=p,M[3]=t,M[4]=a,M[5]=v,M[6]=i,M[7]=d,M[8]=S,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,a=this.elements,d=i[0],p=i[3],v=i[6],S=i[1],M=i[4],A=i[7],P=i[2],O=i[5],F=i[8],W=s[0],B=s[3],N=s[6],se=s[1],Q=s[4],ae=s[7],St=s[2],Ne=s[5],Je=s[8];return a[0]=d*W+p*se+v*St,a[3]=d*B+p*Q+v*Ne,a[6]=d*N+p*ae+v*Je,a[1]=S*W+M*se+A*St,a[4]=S*B+M*Q+A*Ne,a[7]=S*N+M*ae+A*Je,a[2]=P*W+O*se+F*St,a[5]=P*B+O*Q+F*Ne,a[8]=P*N+O*ae+F*Je,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],d=e[4],p=e[5],v=e[6],S=e[7],M=e[8];return t*d*M-t*p*S-i*a*M+i*p*v+s*a*S-s*d*v}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],d=e[4],p=e[5],v=e[6],S=e[7],M=e[8],A=M*d-p*S,P=p*v-M*a,O=S*a-d*v,F=t*A+i*P+s*O;if(F===0)return this.set(0,0,0,0,0,0,0,0,0);const W=1/F;return e[0]=A*W,e[1]=(s*S-M*i)*W,e[2]=(p*i-s*d)*W,e[3]=P*W,e[4]=(M*t-s*v)*W,e[5]=(s*a-p*t)*W,e[6]=O*W,e[7]=(i*v-S*t)*W,e[8]=(d*t-i*a)*W,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,s,a,d,p){const v=Math.cos(a),S=Math.sin(a);return this.set(i*v,i*S,-i*(v*d+S*p)+d+e,-s*S,s*v,-s*(-S*d+v*p)+p+t,0,0,1),this}scale(e,t){return this.premultiply(ge.makeScale(e,t)),this}rotate(e){return this.premultiply(ge.makeRotation(-e)),this}translate(e,t){return this.premultiply(ge.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<9;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ge=new Wi;function Xe(l){for(let e=l.length-1;e>=0;--e)if(l[e]>=65535)return!0;return!1}const yt={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _t(l,e){return new yt[l](e)}function $t(l){return document.createElementNS("http://www.w3.org/1999/xhtml",l)}function In(){const l=$t("canvas");return l.style.display="block",l}const Wn={};function Xn(l){l in Wn||(Wn[l]=!0,console.warn(l))}function kn(l,e,t){return new Promise(function(i,s){function a(){switch(l.clientWaitSync(e,l.SYNC_FLUSH_COMMANDS_BIT,0)){case l.WAIT_FAILED:s();break;case l.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}const Zi=new Wi().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Nr=new Wi().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ar={[$a]:{transfer:te,primaries:le,luminanceCoefficients:[.2126,.7152,.0722],toReference:l=>l,fromReference:l=>l},[Za]:{transfer:H,primaries:le,luminanceCoefficients:[.2126,.7152,.0722],toReference:l=>l.convertSRGBToLinear(),fromReference:l=>l.convertLinearToSRGB()},[Ze]:{transfer:te,primaries:ie,luminanceCoefficients:[.2289,.6917,.0793],toReference:l=>l.applyMatrix3(Nr),fromReference:l=>l.applyMatrix3(Zi)},[Pl]:{transfer:H,primaries:ie,luminanceCoefficients:[.2289,.6917,.0793],toReference:l=>l.convertSRGBToLinear().applyMatrix3(Nr),fromReference:l=>l.applyMatrix3(Zi).convertLinearToSRGB()}},mo=new Set([$a,Ze]),Ri={enabled:!0,_workingColorSpace:$a,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(l){if(!mo.has(l))throw new Error(`Unsupported working color space, "${l}".`);this._workingColorSpace=l},convert:function(l,e,t){if(this.enabled===!1||e===t||!e||!t)return l;const i=Ar[e].toReference,s=Ar[t].fromReference;return s(i(l))},fromWorkingColorSpace:function(l,e){return this.convert(l,this._workingColorSpace,e)},toWorkingColorSpace:function(l,e){return this.convert(l,e,this._workingColorSpace)},getPrimaries:function(l){return Ar[l].primaries},getTransfer:function(l){return l===na?te:Ar[l].transfer},getLuminanceCoefficients:function(l,e=this._workingColorSpace){return l.fromArray(Ar[e].luminanceCoefficients)}};function Qr(l){return l<.04045?l*.0773993808:Math.pow(l*.9478672986+.0521327014,2.4)}function Ko(l){return l<.0031308?l*12.92:1.055*Math.pow(l,.41666)-.055}let da;class Fa{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{da===void 0&&(da=$t("canvas")),da.width=e.width,da.height=e.height;const i=da.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=da}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=$t("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height),a=s.data;for(let d=0;d<a.length;d++)a[d]=Qr(a[d]/255)*255;return i.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Qr(t[i]/255)*255):t[i]=Qr(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let fl=0;class Qa{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:fl++}),this.uuid=Ki(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let d=0,p=s.length;d<p;d++)s[d].isDataTexture?a.push(sa(s[d].image)):a.push(sa(s[d]))}else a=sa(s);i.url=a}return t||(e.images[this.uuid]=i),i}}function sa(l){return typeof HTMLImageElement!="undefined"&&l instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&l instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&l instanceof ImageBitmap?Fa.getDataURL(l):l.data?{data:Array.from(l.data),width:l.width,height:l.height,type:l.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let rc=0;class el extends Qn{constructor(e=el.DEFAULT_IMAGE,t=el.DEFAULT_MAPPING,i=ce,s=ce,a=ds,d=fr,p=Ss,v=_r,S=el.DEFAULT_ANISOTROPY,M=na){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:rc++}),this.uuid=Ki(),this.name="",this.source=new Qa(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=a,this.minFilter=d,this.anisotropy=S,this.format=p,this.internalFormat=null,this.type=v,this.offset=new Zt(0,0),this.repeat=new Zt(1,1),this.center=new Zt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=M,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pn)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hn:e.x=e.x-Math.floor(e.x);break;case ce:e.x=e.x<0?0:1;break;case Qt:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Hn:e.y=e.y-Math.floor(e.y);break;case ce:e.y=e.y<0?0:1;break;case Qt:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}el.DEFAULT_IMAGE=null,el.DEFAULT_MAPPING=pn,el.DEFAULT_ANISOTROPY=1;class ao{constructor(e=0,t=0,i=0,s=1){ao.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,s){return this.x=e,this.y=t,this.z=i,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,a=this.w,d=e.elements;return this.x=d[0]*t+d[4]*i+d[8]*s+d[12]*a,this.y=d[1]*t+d[5]*i+d[9]*s+d[13]*a,this.z=d[2]*t+d[6]*i+d[10]*s+d[14]*a,this.w=d[3]*t+d[7]*i+d[11]*s+d[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,s,a;const v=e.elements,S=v[0],M=v[4],A=v[8],P=v[1],O=v[5],F=v[9],W=v[2],B=v[6],N=v[10];if(Math.abs(M-P)<.01&&Math.abs(A-W)<.01&&Math.abs(F-B)<.01){if(Math.abs(M+P)<.1&&Math.abs(A+W)<.1&&Math.abs(F+B)<.1&&Math.abs(S+O+N-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const Q=(S+1)/2,ae=(O+1)/2,St=(N+1)/2,Ne=(M+P)/4,Je=(A+W)/4,xt=(F+B)/4;return Q>ae&&Q>St?Q<.01?(i=0,s=.707106781,a=.707106781):(i=Math.sqrt(Q),s=Ne/i,a=Je/i):ae>St?ae<.01?(i=.707106781,s=0,a=.707106781):(s=Math.sqrt(ae),i=Ne/s,a=xt/s):St<.01?(i=.707106781,s=.707106781,a=0):(a=Math.sqrt(St),i=Je/a,s=xt/a),this.set(i,s,a,t),this}let se=Math.sqrt((B-F)*(B-F)+(A-W)*(A-W)+(P-M)*(P-M));return Math.abs(se)<.001&&(se=1),this.x=(B-F)/se,this.y=(A-W)/se,this.z=(P-M)/se,this.w=Math.acos((S+O+N-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nu extends Qn{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ao(0,0,e,t),this.scissorTest=!1,this.viewport=new ao(0,0,e,t);const s={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ds,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const a=new el(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const d=i.count;for(let p=0;p<d;p++)this.textures[p]=a.clone(),this.textures[p].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,s=e.textures.length;i<s;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Qa(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sl extends nu{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Eh extends el{constructor(e=null,t=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=gn,this.minFilter=gn,this.wrapR=ce,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class dc extends null{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Eh(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Th extends el{constructor(e=null,t=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:s},this.magFilter=gn,this.minFilter=gn,this.wrapR=ce,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class yf extends null{constructor(e=1,t=1,i=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new Th(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Kl{constructor(e=0,t=0,i=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=s}static slerpFlat(e,t,i,s,a,d,p){let v=i[s+0],S=i[s+1],M=i[s+2],A=i[s+3];const P=a[d+0],O=a[d+1],F=a[d+2],W=a[d+3];if(p===0){e[t+0]=v,e[t+1]=S,e[t+2]=M,e[t+3]=A;return}if(p===1){e[t+0]=P,e[t+1]=O,e[t+2]=F,e[t+3]=W;return}if(A!==W||v!==P||S!==O||M!==F){let B=1-p;const N=v*P+S*O+M*F+A*W,se=N>=0?1:-1,Q=1-N*N;if(Q>Number.EPSILON){const St=Math.sqrt(Q),Ne=Math.atan2(St,N*se);B=Math.sin(B*Ne)/St,p=Math.sin(p*Ne)/St}const ae=p*se;if(v=v*B+P*ae,S=S*B+O*ae,M=M*B+F*ae,A=A*B+W*ae,B===1-p){const St=1/Math.sqrt(v*v+S*S+M*M+A*A);v*=St,S*=St,M*=St,A*=St}}e[t]=v,e[t+1]=S,e[t+2]=M,e[t+3]=A}static multiplyQuaternionsFlat(e,t,i,s,a,d){const p=i[s],v=i[s+1],S=i[s+2],M=i[s+3],A=a[d],P=a[d+1],O=a[d+2],F=a[d+3];return e[t]=p*F+M*A+v*O-S*P,e[t+1]=v*F+M*P+S*A-p*O,e[t+2]=S*F+M*O+p*P-v*A,e[t+3]=M*F-p*A-v*P-S*O,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,s){return this._x=e,this._y=t,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,s=e._y,a=e._z,d=e._order,p=Math.cos,v=Math.sin,S=p(i/2),M=p(s/2),A=p(a/2),P=v(i/2),O=v(s/2),F=v(a/2);switch(d){case"XYZ":this._x=P*M*A+S*O*F,this._y=S*O*A-P*M*F,this._z=S*M*F+P*O*A,this._w=S*M*A-P*O*F;break;case"YXZ":this._x=P*M*A+S*O*F,this._y=S*O*A-P*M*F,this._z=S*M*F-P*O*A,this._w=S*M*A+P*O*F;break;case"ZXY":this._x=P*M*A-S*O*F,this._y=S*O*A+P*M*F,this._z=S*M*F+P*O*A,this._w=S*M*A-P*O*F;break;case"ZYX":this._x=P*M*A-S*O*F,this._y=S*O*A+P*M*F,this._z=S*M*F-P*O*A,this._w=S*M*A+P*O*F;break;case"YZX":this._x=P*M*A+S*O*F,this._y=S*O*A+P*M*F,this._z=S*M*F-P*O*A,this._w=S*M*A-P*O*F;break;case"XZY":this._x=P*M*A-S*O*F,this._y=S*O*A-P*M*F,this._z=S*M*F+P*O*A,this._w=S*M*A+P*O*F;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+d)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,s=Math.sin(i);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],s=t[4],a=t[8],d=t[1],p=t[5],v=t[9],S=t[2],M=t[6],A=t[10],P=i+p+A;if(P>0){const O=.5/Math.sqrt(P+1);this._w=.25/O,this._x=(M-v)*O,this._y=(a-S)*O,this._z=(d-s)*O}else if(i>p&&i>A){const O=2*Math.sqrt(1+i-p-A);this._w=(M-v)/O,this._x=.25*O,this._y=(s+d)/O,this._z=(a+S)/O}else if(p>A){const O=2*Math.sqrt(1+p-i-A);this._w=(a-S)/O,this._x=(s+d)/O,this._y=.25*O,this._z=(v+M)/O}else{const O=2*Math.sqrt(1+A-i-p);this._w=(d-s)/O,this._x=(a+S)/O,this._y=(v+M)/O,this._z=.25*O}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(sr(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const s=Math.min(1,t/i);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,s=e._y,a=e._z,d=e._w,p=t._x,v=t._y,S=t._z,M=t._w;return this._x=i*M+d*p+s*S-a*v,this._y=s*M+d*v+a*p-i*S,this._z=a*M+d*S+i*v-s*p,this._w=d*M-i*p-s*v-a*S,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,s=this._y,a=this._z,d=this._w;let p=d*e._w+i*e._x+s*e._y+a*e._z;if(p<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,p=-p):this.copy(e),p>=1)return this._w=d,this._x=i,this._y=s,this._z=a,this;const v=1-p*p;if(v<=Number.EPSILON){const O=1-t;return this._w=O*d+t*this._w,this._x=O*i+t*this._x,this._y=O*s+t*this._y,this._z=O*a+t*this._z,this.normalize(),this}const S=Math.sqrt(v),M=Math.atan2(S,p),A=Math.sin((1-t)*M)/S,P=Math.sin(t*M)/S;return this._w=d*A+this._w*P,this._x=i*A+this._x*P,this._y=s*A+this._y*P,this._z=a*A+this._z*P,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(s*Math.sin(e),s*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class je{constructor(e=0,t=0,i=0){je.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ah.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ah.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*s,this.y=a[1]*t+a[4]*i+a[7]*s,this.z=a[2]*t+a[5]*i+a[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,s=this.z,a=e.elements,d=1/(a[3]*t+a[7]*i+a[11]*s+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*s+a[12])*d,this.y=(a[1]*t+a[5]*i+a[9]*s+a[13])*d,this.z=(a[2]*t+a[6]*i+a[10]*s+a[14])*d,this}applyQuaternion(e){const t=this.x,i=this.y,s=this.z,a=e.x,d=e.y,p=e.z,v=e.w,S=2*(d*s-p*i),M=2*(p*t-a*s),A=2*(a*i-d*t);return this.x=t+v*S+d*A-p*M,this.y=i+v*M+p*S-a*A,this.z=s+v*A+a*M-d*S,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,s=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*s,this.y=a[1]*t+a[5]*i+a[9]*s,this.z=a[2]*t+a[6]*i+a[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,s=e.y,a=e.z,d=t.x,p=t.y,v=t.z;return this.x=s*v-a*p,this.y=a*d-i*v,this.z=i*p-s*d,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return $d.copy(this).projectOnVector(e),this.sub($d)}reflect(e){return this.sub($d.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(sr(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,s=this.z-e.z;return t*t+i*i+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const s=Math.sin(t)*e;return this.x=s*Math.sin(i),this.y=Math.cos(t)*e,this.z=s*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const $d=new je,Ah=new Kl;class ql{constructor(e=new je(1/0,1/0,1/0),t=new je(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ga.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ga.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ga.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let d=0,p=a.count;d<p;d++)e.isMesh===!0?e.getVertexPosition(d,Ga):Ga.fromBufferAttribute(a,d),Ga.applyMatrix4(e.matrixWorld),this.expandByPoint(Ga);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Hd.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Hd.copy(i.boundingBox)),Hd.applyMatrix4(e.matrixWorld),this.union(Hd)}const s=e.children;for(let a=0,d=s.length;a<d;a++)this.expandByObject(s[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ga),Ga.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ku),Vd.subVectors(this.max,Ku),Xu.subVectors(e.a,Ku),Yu.subVectors(e.b,Ku),Pu.subVectors(e.c,Ku),vu.subVectors(Yu,Xu),iu.subVectors(Pu,Yu),ru.subVectors(Xu,Pu);let t=[0,-vu.z,vu.y,0,-iu.z,iu.y,0,-ru.z,ru.y,vu.z,0,-vu.x,iu.z,0,-iu.x,ru.z,0,-ru.x,-vu.y,vu.x,0,-iu.y,iu.x,0,-ru.y,ru.x,0];return!Ph(t,Xu,Yu,Pu,Vd)||(t=[1,0,0,0,1,0,0,0,1],!Ph(t,Xu,Yu,Pu,Vd))?!1:(Wd.crossVectors(vu,iu),t=[Wd.x,Wd.y,Wd.z],Ph(t,Xu,Yu,Pu,Vd))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ga).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ga).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Yc=[new je,new je,new je,new je,new je,new je,new je,new je],Ga=new je,Hd=new ql,Xu=new je,Yu=new je,Pu=new je,vu=new je,iu=new je,ru=new je,Ku=new je,Vd=new je,Wd=new je,Ru=new je;function Ph(l,e,t,i,s){for(let a=0,d=l.length-3;a<=d;a+=3){Ru.fromArray(l,a);const p=s.x*Math.abs(Ru.x)+s.y*Math.abs(Ru.y)+s.z*Math.abs(Ru.z),v=e.dot(Ru),S=t.dot(Ru),M=i.dot(Ru);if(Math.max(-Math.max(v,S,M),Math.min(v,S,M))>p)return!1}return!0}const dd=new ql,hd=new je,Rh=new je;class Jl{constructor(e=new je,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):dd.setFromPoints(e).getCenter(i);let s=0;for(let a=0,d=e.length;a<d;a++)s=Math.max(s,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hd.subVectors(e,this.center);const t=hd.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),s=(i-this.radius)*.5;this.center.addScaledVector(hd,s/i),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Rh.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hd.copy(e.center).add(Rh)),this.expandByPoint(hd.copy(e.center).sub(Rh))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const su=new je,Mc=new je,jd=new je,ou=new je,gc=new je,Ec=new je,yu=new je;class Ou{constructor(e=new je,t=new je(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,su)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=su.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(su.copy(this.origin).addScaledVector(this.direction,t),su.distanceToSquared(e))}distanceSqToSegment(e,t,i,s){Mc.copy(e).add(t).multiplyScalar(.5),jd.copy(t).sub(e).normalize(),ou.copy(this.origin).sub(Mc);const a=e.distanceTo(t)*.5,d=-this.direction.dot(jd),p=ou.dot(this.direction),v=-ou.dot(jd),S=ou.lengthSq(),M=Math.abs(1-d*d);let A,P,O,F;if(M>0)if(A=d*v-p,P=d*p-v,F=a*M,A>=0)if(P>=-F)if(P<=F){const W=1/M;A*=W,P*=W,O=A*(A+d*P+2*p)+P*(d*A+P+2*v)+S}else P=a,A=Math.max(0,-(d*P+p)),O=-A*A+P*(P+2*v)+S;else P=-a,A=Math.max(0,-(d*P+p)),O=-A*A+P*(P+2*v)+S;else P<=-F?(A=Math.max(0,-(-d*a+p)),P=A>0?-a:Math.min(Math.max(-a,-v),a),O=-A*A+P*(P+2*v)+S):P<=F?(A=0,P=Math.min(Math.max(-a,-v),a),O=P*(P+2*v)+S):(A=Math.max(0,-(d*a+p)),P=A>0?a:Math.min(Math.max(-a,-v),a),O=-A*A+P*(P+2*v)+S);else P=d>0?-a:a,A=Math.max(0,-(d*P+p)),O=-A*A+P*(P+2*v)+S;return i&&i.copy(this.origin).addScaledVector(this.direction,A),s&&s.copy(Mc).addScaledVector(jd,P),O}intersectSphere(e,t){su.subVectors(e.center,this.origin);const i=su.dot(this.direction),s=su.dot(su)-i*i,a=e.radius*e.radius;if(s>a)return null;const d=Math.sqrt(a-s),p=i-d,v=i+d;return v<0?null:p<0?this.at(v,t):this.at(p,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,s,a,d,p,v;const S=1/this.direction.x,M=1/this.direction.y,A=1/this.direction.z,P=this.origin;return S>=0?(i=(e.min.x-P.x)*S,s=(e.max.x-P.x)*S):(i=(e.max.x-P.x)*S,s=(e.min.x-P.x)*S),M>=0?(a=(e.min.y-P.y)*M,d=(e.max.y-P.y)*M):(a=(e.max.y-P.y)*M,d=(e.min.y-P.y)*M),i>d||a>s||((a>i||isNaN(i))&&(i=a),(d<s||isNaN(s))&&(s=d),A>=0?(p=(e.min.z-P.z)*A,v=(e.max.z-P.z)*A):(p=(e.max.z-P.z)*A,v=(e.min.z-P.z)*A),i>v||p>s)||((p>i||i!==i)&&(i=p),(v<s||s!==s)&&(s=v),s<0)?null:this.at(i>=0?i:s,t)}intersectsBox(e){return this.intersectBox(e,su)!==null}intersectTriangle(e,t,i,s,a){gc.subVectors(t,e),Ec.subVectors(i,e),yu.crossVectors(gc,Ec);let d=this.direction.dot(yu),p;if(d>0){if(s)return null;p=1}else if(d<0)p=-1,d=-d;else return null;ou.subVectors(this.origin,e);const v=p*this.direction.dot(Ec.crossVectors(ou,Ec));if(v<0)return null;const S=p*this.direction.dot(gc.cross(ou));if(S<0||v+S>d)return null;const M=-p*ou.dot(yu);return M<0?null:this.at(M/d,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class qs{constructor(e,t,i,s,a,d,p,v,S,M,A,P,O,F,W,B){qs.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,s,a,d,p,v,S,M,A,P,O,F,W,B)}set(e,t,i,s,a,d,p,v,S,M,A,P,O,F,W,B){const N=this.elements;return N[0]=e,N[4]=t,N[8]=i,N[12]=s,N[1]=a,N[5]=d,N[9]=p,N[13]=v,N[2]=S,N[6]=M,N[10]=A,N[14]=P,N[3]=O,N[7]=F,N[11]=W,N[15]=B,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qs().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,s=1/xu.setFromMatrixColumn(e,0).length(),a=1/xu.setFromMatrixColumn(e,1).length(),d=1/xu.setFromMatrixColumn(e,2).length();return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*d,t[9]=i[9]*d,t[10]=i[10]*d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,s=e.y,a=e.z,d=Math.cos(i),p=Math.sin(i),v=Math.cos(s),S=Math.sin(s),M=Math.cos(a),A=Math.sin(a);if(e.order==="XYZ"){const P=d*M,O=d*A,F=p*M,W=p*A;t[0]=v*M,t[4]=-v*A,t[8]=S,t[1]=O+F*S,t[5]=P-W*S,t[9]=-p*v,t[2]=W-P*S,t[6]=F+O*S,t[10]=d*v}else if(e.order==="YXZ"){const P=v*M,O=v*A,F=S*M,W=S*A;t[0]=P+W*p,t[4]=F*p-O,t[8]=d*S,t[1]=d*A,t[5]=d*M,t[9]=-p,t[2]=O*p-F,t[6]=W+P*p,t[10]=d*v}else if(e.order==="ZXY"){const P=v*M,O=v*A,F=S*M,W=S*A;t[0]=P-W*p,t[4]=-d*A,t[8]=F+O*p,t[1]=O+F*p,t[5]=d*M,t[9]=W-P*p,t[2]=-d*S,t[6]=p,t[10]=d*v}else if(e.order==="ZYX"){const P=d*M,O=d*A,F=p*M,W=p*A;t[0]=v*M,t[4]=F*S-O,t[8]=P*S+W,t[1]=v*A,t[5]=W*S+P,t[9]=O*S-F,t[2]=-S,t[6]=p*v,t[10]=d*v}else if(e.order==="YZX"){const P=d*v,O=d*S,F=p*v,W=p*S;t[0]=v*M,t[4]=W-P*A,t[8]=F*A+O,t[1]=A,t[5]=d*M,t[9]=-p*M,t[2]=-S*M,t[6]=O*A+F,t[10]=P-W*A}else if(e.order==="XZY"){const P=d*v,O=d*S,F=p*v,W=p*S;t[0]=v*M,t[4]=-A,t[8]=S*M,t[1]=P*A+W,t[5]=d*M,t[9]=O*A-F,t[2]=F*A-O,t[6]=p*M,t[10]=W*A+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Oh,e,fp)}lookAt(e,t,i){const s=this.elements;return Hl.subVectors(e,t),Hl.lengthSq()===0&&(Hl.z=1),Hl.normalize(),Kc.crossVectors(i,Hl),Kc.lengthSq()===0&&(Math.abs(i.z)===1?Hl.x+=1e-4:Hl.z+=1e-4,Hl.normalize(),Kc.crossVectors(i,Hl)),Kc.normalize(),fd.crossVectors(Hl,Kc),s[0]=Kc.x,s[4]=fd.x,s[8]=Hl.x,s[1]=Kc.y,s[5]=fd.y,s[9]=Hl.y,s[2]=Kc.z,s[6]=fd.z,s[10]=Hl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,s=t.elements,a=this.elements,d=i[0],p=i[4],v=i[8],S=i[12],M=i[1],A=i[5],P=i[9],O=i[13],F=i[2],W=i[6],B=i[10],N=i[14],se=i[3],Q=i[7],ae=i[11],St=i[15],Ne=s[0],Je=s[4],xt=s[8],Te=s[12],pe=s[1],Ct=s[5],Tn=s[9],mn=s[13],Ln=s[2],fi=s[6],Un=s[10],ki=s[14],Zn=s[3],Gr=s[7],us=s[11],ms=s[15];return a[0]=d*Ne+p*pe+v*Ln+S*Zn,a[4]=d*Je+p*Ct+v*fi+S*Gr,a[8]=d*xt+p*Tn+v*Un+S*us,a[12]=d*Te+p*mn+v*ki+S*ms,a[1]=M*Ne+A*pe+P*Ln+O*Zn,a[5]=M*Je+A*Ct+P*fi+O*Gr,a[9]=M*xt+A*Tn+P*Un+O*us,a[13]=M*Te+A*mn+P*ki+O*ms,a[2]=F*Ne+W*pe+B*Ln+N*Zn,a[6]=F*Je+W*Ct+B*fi+N*Gr,a[10]=F*xt+W*Tn+B*Un+N*us,a[14]=F*Te+W*mn+B*ki+N*ms,a[3]=se*Ne+Q*pe+ae*Ln+St*Zn,a[7]=se*Je+Q*Ct+ae*fi+St*Gr,a[11]=se*xt+Q*Tn+ae*Un+St*us,a[15]=se*Te+Q*mn+ae*ki+St*ms,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],s=e[8],a=e[12],d=e[1],p=e[5],v=e[9],S=e[13],M=e[2],A=e[6],P=e[10],O=e[14],F=e[3],W=e[7],B=e[11],N=e[15];return F*(+a*v*A-s*S*A-a*p*P+i*S*P+s*p*O-i*v*O)+W*(+t*v*O-t*S*P+a*d*P-s*d*O+s*S*M-a*v*M)+B*(+t*S*A-t*p*O-a*d*A+i*d*O+a*p*M-i*S*M)+N*(-s*p*M-t*v*A+t*p*P+s*d*A-i*d*P+i*v*M)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],s=e[2],a=e[3],d=e[4],p=e[5],v=e[6],S=e[7],M=e[8],A=e[9],P=e[10],O=e[11],F=e[12],W=e[13],B=e[14],N=e[15],se=A*B*S-W*P*S+W*v*O-p*B*O-A*v*N+p*P*N,Q=F*P*S-M*B*S-F*v*O+d*B*O+M*v*N-d*P*N,ae=M*W*S-F*A*S+F*p*O-d*W*O-M*p*N+d*A*N,St=F*A*v-M*W*v-F*p*P+d*W*P+M*p*B-d*A*B,Ne=t*se+i*Q+s*ae+a*St;if(Ne===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Je=1/Ne;return e[0]=se*Je,e[1]=(W*P*a-A*B*a-W*s*O+i*B*O+A*s*N-i*P*N)*Je,e[2]=(p*B*a-W*v*a+W*s*S-i*B*S-p*s*N+i*v*N)*Je,e[3]=(A*v*a-p*P*a-A*s*S+i*P*S+p*s*O-i*v*O)*Je,e[4]=Q*Je,e[5]=(M*B*a-F*P*a+F*s*O-t*B*O-M*s*N+t*P*N)*Je,e[6]=(F*v*a-d*B*a-F*s*S+t*B*S+d*s*N-t*v*N)*Je,e[7]=(d*P*a-M*v*a+M*s*S-t*P*S-d*s*O+t*v*O)*Je,e[8]=ae*Je,e[9]=(F*A*a-M*W*a-F*i*O+t*W*O+M*i*N-t*A*N)*Je,e[10]=(d*W*a-F*p*a+F*i*S-t*W*S-d*i*N+t*p*N)*Je,e[11]=(M*p*a-d*A*a-M*i*S+t*A*S+d*i*O-t*p*O)*Je,e[12]=St*Je,e[13]=(M*W*s-F*A*s+F*i*P-t*W*P-M*i*B+t*A*B)*Je,e[14]=(F*p*s-d*W*s-F*i*v+t*W*v+d*i*B-t*p*B)*Je,e[15]=(d*A*s-M*p*s+M*i*v-t*A*v-d*i*P+t*p*P)*Je,this}scale(e){const t=this.elements,i=e.x,s=e.y,a=e.z;return t[0]*=i,t[4]*=s,t[8]*=a,t[1]*=i,t[5]*=s,t[9]*=a,t[2]*=i,t[6]*=s,t[10]*=a,t[3]*=i,t[7]*=s,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,s))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),s=Math.sin(t),a=1-i,d=e.x,p=e.y,v=e.z,S=a*d,M=a*p;return this.set(S*d+i,S*p-s*v,S*v+s*p,0,S*p+s*v,M*p+i,M*v-s*d,0,S*v-s*p,M*v+s*d,a*v*v+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,s,a,d){return this.set(1,i,a,0,e,1,d,0,t,s,1,0,0,0,0,1),this}compose(e,t,i){const s=this.elements,a=t._x,d=t._y,p=t._z,v=t._w,S=a+a,M=d+d,A=p+p,P=a*S,O=a*M,F=a*A,W=d*M,B=d*A,N=p*A,se=v*S,Q=v*M,ae=v*A,St=i.x,Ne=i.y,Je=i.z;return s[0]=(1-(W+N))*St,s[1]=(O+ae)*St,s[2]=(F-Q)*St,s[3]=0,s[4]=(O-ae)*Ne,s[5]=(1-(P+N))*Ne,s[6]=(B+se)*Ne,s[7]=0,s[8]=(F+Q)*Je,s[9]=(B-se)*Je,s[10]=(1-(P+W))*Je,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,i){const s=this.elements;let a=xu.set(s[0],s[1],s[2]).length();const d=xu.set(s[4],s[5],s[6]).length(),p=xu.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),e.x=s[12],e.y=s[13],e.z=s[14],hc.copy(this);const S=1/a,M=1/d,A=1/p;return hc.elements[0]*=S,hc.elements[1]*=S,hc.elements[2]*=S,hc.elements[4]*=M,hc.elements[5]*=M,hc.elements[6]*=M,hc.elements[8]*=A,hc.elements[9]*=A,hc.elements[10]*=A,t.setFromRotationMatrix(hc),i.x=a,i.y=d,i.z=p,this}makePerspective(e,t,i,s,a,d,p=nn){const v=this.elements,S=2*a/(t-e),M=2*a/(i-s),A=(t+e)/(t-e),P=(i+s)/(i-s);let O,F;if(p===nn)O=-(d+a)/(d-a),F=-2*d*a/(d-a);else if(p===si)O=-d/(d-a),F=-d*a/(d-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+p);return v[0]=S,v[4]=0,v[8]=A,v[12]=0,v[1]=0,v[5]=M,v[9]=P,v[13]=0,v[2]=0,v[6]=0,v[10]=O,v[14]=F,v[3]=0,v[7]=0,v[11]=-1,v[15]=0,this}makeOrthographic(e,t,i,s,a,d,p=nn){const v=this.elements,S=1/(t-e),M=1/(i-s),A=1/(d-a),P=(t+e)*S,O=(i+s)*M;let F,W;if(p===nn)F=(d+a)*A,W=-2*A;else if(p===si)F=a*A,W=-1*A;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+p);return v[0]=2*S,v[4]=0,v[8]=0,v[12]=-P,v[1]=0,v[5]=2*M,v[9]=0,v[13]=-O,v[2]=0,v[6]=0,v[10]=W,v[14]=-F,v[3]=0,v[7]=0,v[11]=0,v[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let s=0;s<16;s++)if(t[s]!==i[s])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const xu=new je,hc=new qs,Oh=new je(0,0,0),fp=new je(1,1,1),Kc=new je,fd=new je,Hl=new je,xf=new qs,Ih=new Kl;class tl{constructor(e=0,t=0,i=0,s=tl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,s=this._order){return this._x=e,this._y=t,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const s=e.elements,a=s[0],d=s[4],p=s[8],v=s[1],S=s[5],M=s[9],A=s[2],P=s[6],O=s[10];switch(t){case"XYZ":this._y=Math.asin(sr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-M,O),this._z=Math.atan2(-d,a)):(this._x=Math.atan2(P,S),this._z=0);break;case"YXZ":this._x=Math.asin(-sr(M,-1,1)),Math.abs(M)<.9999999?(this._y=Math.atan2(p,O),this._z=Math.atan2(v,S)):(this._y=Math.atan2(-A,a),this._z=0);break;case"ZXY":this._x=Math.asin(sr(P,-1,1)),Math.abs(P)<.9999999?(this._y=Math.atan2(-A,O),this._z=Math.atan2(-d,S)):(this._y=0,this._z=Math.atan2(v,a));break;case"ZYX":this._y=Math.asin(-sr(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(P,O),this._z=Math.atan2(v,a)):(this._x=0,this._z=Math.atan2(-d,S));break;case"YZX":this._z=Math.asin(sr(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-M,S),this._y=Math.atan2(-A,a)):(this._x=0,this._y=Math.atan2(p,O));break;case"XZY":this._z=Math.asin(-sr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(P,S),this._y=Math.atan2(p,a)):(this._x=Math.atan2(-M,O),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return xf.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xf,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Ih.setFromEuler(this),this.setFromQuaternion(Ih,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}tl.DEFAULT_ORDER="XYZ";class Zd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Dh=0;const bf=new je,Ta=new Kl,bu=new qs,Gd=new je,pd=new je,pp=new je,gp=new Kl,Xd=new je(1,0,0),Sf=new je(0,1,0),Cf=new je(0,0,1),gd={type:"added"},qu={type:"removed"},Ju={type:"childadded",child:null},Lh={type:"childremoved",child:null};class sl extends Qn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Dh++}),this.uuid=Ki(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sl.DEFAULT_UP.clone();const e=new je,t=new tl,i=new Kl,s=new je(1,1,1);function a(){i.setFromEuler(t,!1)}function d(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(d),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new qs},normalMatrix:{value:new Wi}}),this.matrix=new qs,this.matrixWorld=new qs,this.matrixAutoUpdate=sl.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=sl.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Zd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ta.setFromAxisAngle(e,t),this.quaternion.multiply(Ta),this}rotateOnWorldAxis(e,t){return Ta.setFromAxisAngle(e,t),this.quaternion.premultiply(Ta),this}rotateX(e){return this.rotateOnAxis(Xd,e)}rotateY(e){return this.rotateOnAxis(Sf,e)}rotateZ(e){return this.rotateOnAxis(Cf,e)}translateOnAxis(e,t){return bf.copy(e).applyQuaternion(this.quaternion),this.position.add(bf.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Xd,e)}translateY(e){return this.translateOnAxis(Sf,e)}translateZ(e){return this.translateOnAxis(Cf,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bu.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Gd.copy(e):Gd.set(e,t,i);const s=this.parent;this.updateWorldMatrix(!0,!1),pd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bu.lookAt(pd,Gd,this.up):bu.lookAt(Gd,pd,this.up),this.quaternion.setFromRotationMatrix(bu),s&&(bu.extractRotation(s.matrixWorld),Ta.setFromRotationMatrix(bu),this.quaternion.premultiply(Ta.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(gd),Ju.child=e,this.dispatchEvent(Ju),Ju.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(qu),Lh.child=e,this.dispatchEvent(Lh),Lh.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),bu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bu.multiply(e.parent.matrixWorld)),e.applyMatrix4(bu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(gd),Ju.child=e,this.dispatchEvent(Ju),Ju.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,s=this.children.length;i<s;i++){const d=this.children[i].getObjectByProperty(e,t);if(d!==void 0)return d}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const s=this.children;for(let a=0,d=s.length;a<d;a++)s[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pd,e,pp),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pd,gp,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,s=t.length;i<s;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let a=0,d=s.length;a<d;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(p=>({boxInitialized:p.boxInitialized,boxMin:p.box.min.toArray(),boxMax:p.box.max.toArray(),sphereInitialized:p.sphereInitialized,sphereRadius:p.sphere.radius,sphereCenter:p.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function a(p,v){return p[v.uuid]===void 0&&(p[v.uuid]=v.toJSON(e)),v.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0){const v=p.shapes;if(Array.isArray(v))for(let S=0,M=v.length;S<M;S++){const A=v[S];a(e.shapes,A)}else a(e.shapes,v)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const p=[];for(let v=0,S=this.material.length;v<S;v++)p.push(a(e.materials,this.material[v]));s.material=p}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let p=0;p<this.children.length;p++)s.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let p=0;p<this.animations.length;p++){const v=this.animations[p];s.animations.push(a(e.animations,v))}}if(t){const p=d(e.geometries),v=d(e.materials),S=d(e.textures),M=d(e.images),A=d(e.shapes),P=d(e.skeletons),O=d(e.animations),F=d(e.nodes);p.length>0&&(i.geometries=p),v.length>0&&(i.materials=v),S.length>0&&(i.textures=S),M.length>0&&(i.images=M),A.length>0&&(i.shapes=A),P.length>0&&(i.skeletons=P),O.length>0&&(i.animations=O),F.length>0&&(i.nodes=F)}return i.object=s,i;function d(p){const v=[];for(const S in p){const M=p[S];delete M.metadata,v.push(M)}return v}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const s=e.children[i];this.add(s.clone())}return this}}sl.DEFAULT_UP=new je(0,1,0),sl.DEFAULT_MATRIX_AUTO_UPDATE=!0,sl.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Tc=new je,Bc=new je,Nh=new je,qc=new je,Jc=new je,Su=new je,md=new je,Cu=new je,Fh=new je,Bh=new je;class Ac{constructor(e=new je,t=new je,i=new je){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,s){s.subVectors(i,t),Tc.subVectors(e,t),s.cross(Tc);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(e,t,i,s,a){Tc.subVectors(s,t),Bc.subVectors(i,t),Nh.subVectors(e,t);const d=Tc.dot(Tc),p=Tc.dot(Bc),v=Tc.dot(Nh),S=Bc.dot(Bc),M=Bc.dot(Nh),A=d*S-p*p;if(A===0)return a.set(0,0,0),null;const P=1/A,O=(S*v-p*M)*P,F=(d*M-p*v)*P;return a.set(1-O-F,F,O)}static containsPoint(e,t,i,s){return this.getBarycoord(e,t,i,s,qc)===null?!1:qc.x>=0&&qc.y>=0&&qc.x+qc.y<=1}static getInterpolation(e,t,i,s,a,d,p,v){return this.getBarycoord(e,t,i,s,qc)===null?(v.x=0,v.y=0,"z"in v&&(v.z=0),"w"in v&&(v.w=0),null):(v.setScalar(0),v.addScaledVector(a,qc.x),v.addScaledVector(d,qc.y),v.addScaledVector(p,qc.z),v)}static isFrontFacing(e,t,i,s){return Tc.subVectors(i,t),Bc.subVectors(e,t),Tc.cross(Bc).dot(s)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,s){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,i,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Tc.subVectors(this.c,this.b),Bc.subVectors(this.a,this.b),Tc.cross(Bc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ac.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ac.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,s,a){return Ac.getInterpolation(e,this.a,this.b,this.c,t,i,s,a)}containsPoint(e){return Ac.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ac.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,s=this.b,a=this.c;let d,p;Jc.subVectors(s,i),Su.subVectors(a,i),Cu.subVectors(e,i);const v=Jc.dot(Cu),S=Su.dot(Cu);if(v<=0&&S<=0)return t.copy(i);Fh.subVectors(e,s);const M=Jc.dot(Fh),A=Su.dot(Fh);if(M>=0&&A<=M)return t.copy(s);const P=v*A-M*S;if(P<=0&&v>=0&&M<=0)return d=v/(v-M),t.copy(i).addScaledVector(Jc,d);Bh.subVectors(e,a);const O=Jc.dot(Bh),F=Su.dot(Bh);if(F>=0&&O<=F)return t.copy(a);const W=O*S-v*F;if(W<=0&&S>=0&&F<=0)return p=S/(S-F),t.copy(i).addScaledVector(Su,p);const B=M*F-O*A;if(B<=0&&A-M>=0&&O-F>=0)return md.subVectors(a,s),p=(A-M)/(A-M+(O-F)),t.copy(s).addScaledVector(md,p);const N=1/(B+W+P);return d=W*N,p=P*N,t.copy(i).addScaledVector(Jc,d).addScaledVector(Su,p)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const _f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},au={h:0,s:0,l:0},Yd={h:0,s:0,l:0};function Qu(l,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?l+(e-l)*6*t:t<1/2?e:t<2/3?l+(e-l)*6*(2/3-t):l}class wr{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Za){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ri.toWorkingColorSpace(this,t),this}setRGB(e,t,i,s=Ri.workingColorSpace){return this.r=e,this.g=t,this.b=i,Ri.toWorkingColorSpace(this,s),this}setHSL(e,t,i,s=Ri.workingColorSpace){if(e=Is(e,1),t=sr(t,0,1),i=sr(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,d=2*i-a;this.r=Qu(d,a,e+1/3),this.g=Qu(d,a,e),this.b=Qu(d,a,e-1/3)}return Ri.toWorkingColorSpace(this,s),this}setStyle(e,t=Za){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const d=s[1],p=s[2];switch(d){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],d=a.length;if(d===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(d===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Za){const i=_f[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Qr(e.r),this.g=Qr(e.g),this.b=Qr(e.b),this}copyLinearToSRGB(e){return this.r=Ko(e.r),this.g=Ko(e.g),this.b=Ko(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Za){return Ri.fromWorkingColorSpace(Vl.copy(this),e),Math.round(sr(Vl.r*255,0,255))*65536+Math.round(sr(Vl.g*255,0,255))*256+Math.round(sr(Vl.b*255,0,255))}getHexString(e=Za){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ri.workingColorSpace){Ri.fromWorkingColorSpace(Vl.copy(this),t);const i=Vl.r,s=Vl.g,a=Vl.b,d=Math.max(i,s,a),p=Math.min(i,s,a);let v,S;const M=(p+d)/2;if(p===d)v=0,S=0;else{const A=d-p;switch(S=M<=.5?A/(d+p):A/(2-d-p),d){case i:v=(s-a)/A+(s<a?6:0);break;case s:v=(a-i)/A+2;break;case a:v=(i-s)/A+4;break}v/=6}return e.h=v,e.s=S,e.l=M,e}getRGB(e,t=Ri.workingColorSpace){return Ri.fromWorkingColorSpace(Vl.copy(this),t),e.r=Vl.r,e.g=Vl.g,e.b=Vl.b,e}getStyle(e=Za){Ri.fromWorkingColorSpace(Vl.copy(this),e);const t=Vl.r,i=Vl.g,s=Vl.b;return e!==Za?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(e,t,i){return this.getHSL(au),this.setHSL(au.h+e,au.s+t,au.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(au),e.getHSL(Yd);const i=jr(au.h,Yd.h,t),s=jr(au.s,Yd.s,t),a=jr(au.l,Yd.l,t);return this.setHSL(i,s,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,s=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*s,this.g=a[1]*t+a[4]*i+a[7]*s,this.b=a[2]*t+a[5]*i+a[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vl=new wr;wr.NAMES=_f;let wf=0;class _u extends Qn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wf++}),this.uuid=Ki(),this.name="",this.type="Material",this.blending=ne,this.side=st,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=lt,this.blendDst=Ht,this.blendEquation=re,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new wr(0,0,0),this.blendAlpha=0,this.depthFunc=Kn,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=He,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fe,this.stencilZFail=Fe,this.stencilZPass=Fe,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==ne&&(i.blending=this.blending),this.side!==st&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==lt&&(i.blendSrc=this.blendSrc),this.blendDst!==Ht&&(i.blendDst=this.blendDst),this.blendEquation!==re&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Kn&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==He&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Fe&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Fe&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Fe&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(a){const d=[];for(const p in a){const v=a[p];delete v.metadata,d.push(v)}return d}if(t){const a=s(e.textures),d=s(e.images);a.length>0&&(i.textures=a),d.length>0&&(i.images=d)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const s=t.length;i=new Array(s);for(let a=0;a!==s;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class lu extends _u{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new wr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=Pt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Uc=Mf();function Mf(){const l=new ArrayBuffer(4),e=new Float32Array(l),t=new Uint32Array(l),i=new Uint32Array(512),s=new Uint32Array(512);for(let v=0;v<256;++v){const S=v-127;S<-27?(i[v]=0,i[v|256]=32768,s[v]=24,s[v|256]=24):S<-14?(i[v]=1024>>-S-14,i[v|256]=1024>>-S-14|32768,s[v]=-S-1,s[v|256]=-S-1):S<=15?(i[v]=S+15<<10,i[v|256]=S+15<<10|32768,s[v]=13,s[v|256]=13):S<128?(i[v]=31744,i[v|256]=64512,s[v]=24,s[v|256]=24):(i[v]=31744,i[v|256]=64512,s[v]=13,s[v|256]=13)}const a=new Uint32Array(2048),d=new Uint32Array(64),p=new Uint32Array(64);for(let v=1;v<1024;++v){let S=v<<13,M=0;for(;!(S&8388608);)S<<=1,M-=8388608;S&=-8388609,M+=947912704,a[v]=S|M}for(let v=1024;v<2048;++v)a[v]=939524096+(v-1024<<13);for(let v=1;v<31;++v)d[v]=v<<23;d[31]=1199570944,d[32]=2147483648;for(let v=33;v<63;++v)d[v]=2147483648+(v-32<<23);d[63]=3347054592;for(let v=1;v<64;++v)v!==32&&(p[v]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:s,mantissaTable:a,exponentTable:d,offsetTable:p}}function Wl(l){Math.abs(l)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),l=sr(l,-65504,65504),Uc.floatView[0]=l;const e=Uc.uint32View[0],t=e>>23&511;return Uc.baseTable[t]+((e&8388607)>>Uc.shiftTable[t])}function Kd(l){const e=l>>10;return Uc.uint32View[0]=Uc.mantissaTable[Uc.offsetTable[e]+(l&1023)]+Uc.exponentTable[e],Uc.floatView[0]}const rg={toHalfFloat:Wl,fromHalfFloat:Kd},nl=new je,qd=new Zt;class pl{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=_s,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Si,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Xn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[e+s]=t.array[i+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)qd.fromBufferAttribute(this,t),qd.applyMatrix3(e),this.setXY(t,qd.x,qd.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)nl.fromBufferAttribute(this,t),nl.applyMatrix3(e),this.setXYZ(t,nl.x,nl.y,nl.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)nl.fromBufferAttribute(this,t),nl.applyMatrix4(e),this.setXYZ(t,nl.x,nl.y,nl.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)nl.fromBufferAttribute(this,t),nl.applyNormalMatrix(e),this.setXYZ(t,nl.x,nl.y,nl.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)nl.fromBufferAttribute(this,t),nl.transformDirection(e),this.setXYZ(t,nl.x,nl.y,nl.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Pi(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=jn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Pi(t,this.array)),t}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Pi(t,this.array)),t}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Pi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Pi(t,this.array)),t}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this}setXYZW(e,t,i,s,a){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array),s=jn(s,this.array),a=jn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=s,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==_s&&(e.usage=this.usage),e}}class Pc extends null{constructor(e,t,i){super(new Int8Array(e),t,i)}}class vd extends null{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Iu extends null{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class zc extends null{constructor(e,t,i){super(new Int16Array(e),t,i)}}class Ef extends pl{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Tf extends null{constructor(e,t,i){super(new Int32Array(e),t,i)}}class Uh extends pl{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class mp extends null{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Kd(this.array[e*this.itemSize]);return this.normalized&&(t=Pi(t,this.array)),t}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize]=Wl(t),this}getY(e){let t=Kd(this.array[e*this.itemSize+1]);return this.normalized&&(t=Pi(t,this.array)),t}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+1]=Wl(t),this}getZ(e){let t=Kd(this.array[e*this.itemSize+2]);return this.normalized&&(t=Pi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+2]=Wl(t),this}getW(e){let t=Kd(this.array[e*this.itemSize+3]);return this.normalized&&(t=Pi(t,this.array)),t}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+3]=Wl(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array)),this.array[e+0]=Wl(t),this.array[e+1]=Wl(i),this}setXYZ(e,t,i,s){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.array[e+0]=Wl(t),this.array[e+1]=Wl(i),this.array[e+2]=Wl(s),this}setXYZW(e,t,i,s,a){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array),s=jn(s,this.array),a=jn(a,this.array)),this.array[e+0]=Wl(t),this.array[e+1]=Wl(i),this.array[e+2]=Wl(s),this.array[e+3]=Wl(a),this}}class fs extends pl{constructor(e,t,i){super(new Float32Array(e),t,i)}}let vp=0;const mc=new qs,zh=new sl,ed=new je,vc=new ql,yd=new ql,al=new je;class qo extends Qn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:vp++}),this.uuid=Ki(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Xe(e)?Uh:Ef)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Wi().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return mc.makeRotationFromQuaternion(e),this.applyMatrix4(mc),this}rotateX(e){return mc.makeRotationX(e),this.applyMatrix4(mc),this}rotateY(e){return mc.makeRotationY(e),this.applyMatrix4(mc),this}rotateZ(e){return mc.makeRotationZ(e),this.applyMatrix4(mc),this}translate(e,t,i){return mc.makeTranslation(e,t,i),this.applyMatrix4(mc),this}scale(e,t,i){return mc.makeScale(e,t,i),this.applyMatrix4(mc),this}lookAt(e){return zh.lookAt(e),zh.updateMatrix(),this.applyMatrix4(zh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ed).negate(),this.translate(ed.x,ed.y,ed.z),this}setFromPoints(e){const t=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new fs(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ql);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new je(-1/0,-1/0,-1/0),new je(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,s=t.length;i<s;i++){const a=t[i];vc.setFromBufferAttribute(a),this.morphTargetsRelative?(al.addVectors(this.boundingBox.min,vc.min),this.boundingBox.expandByPoint(al),al.addVectors(this.boundingBox.max,vc.max),this.boundingBox.expandByPoint(al)):(this.boundingBox.expandByPoint(vc.min),this.boundingBox.expandByPoint(vc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new je,1/0);return}if(e){const i=this.boundingSphere.center;if(vc.setFromBufferAttribute(e),t)for(let a=0,d=t.length;a<d;a++){const p=t[a];yd.setFromBufferAttribute(p),this.morphTargetsRelative?(al.addVectors(vc.min,yd.min),vc.expandByPoint(al),al.addVectors(vc.max,yd.max),vc.expandByPoint(al)):(vc.expandByPoint(yd.min),vc.expandByPoint(yd.max))}vc.getCenter(i);let s=0;for(let a=0,d=e.count;a<d;a++)al.fromBufferAttribute(e,a),s=Math.max(s,i.distanceToSquared(al));if(t)for(let a=0,d=t.length;a<d;a++){const p=t[a],v=this.morphTargetsRelative;for(let S=0,M=p.count;S<M;S++)al.fromBufferAttribute(p,S),v&&(ed.fromBufferAttribute(e,S),al.add(ed)),s=Math.max(s,i.distanceToSquared(al))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,s=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new pl(new Float32Array(4*i.count),4));const d=this.getAttribute("tangent"),p=[],v=[];for(let xt=0;xt<i.count;xt++)p[xt]=new je,v[xt]=new je;const S=new je,M=new je,A=new je,P=new Zt,O=new Zt,F=new Zt,W=new je,B=new je;function N(xt,Te,pe){S.fromBufferAttribute(i,xt),M.fromBufferAttribute(i,Te),A.fromBufferAttribute(i,pe),P.fromBufferAttribute(a,xt),O.fromBufferAttribute(a,Te),F.fromBufferAttribute(a,pe),M.sub(S),A.sub(S),O.sub(P),F.sub(P);const Ct=1/(O.x*F.y-F.x*O.y);isFinite(Ct)&&(W.copy(M).multiplyScalar(F.y).addScaledVector(A,-O.y).multiplyScalar(Ct),B.copy(A).multiplyScalar(O.x).addScaledVector(M,-F.x).multiplyScalar(Ct),p[xt].add(W),p[Te].add(W),p[pe].add(W),v[xt].add(B),v[Te].add(B),v[pe].add(B))}let se=this.groups;se.length===0&&(se=[{start:0,count:e.count}]);for(let xt=0,Te=se.length;xt<Te;++xt){const pe=se[xt],Ct=pe.start,Tn=pe.count;for(let mn=Ct,Ln=Ct+Tn;mn<Ln;mn+=3)N(e.getX(mn+0),e.getX(mn+1),e.getX(mn+2))}const Q=new je,ae=new je,St=new je,Ne=new je;function Je(xt){St.fromBufferAttribute(s,xt),Ne.copy(St);const Te=p[xt];Q.copy(Te),Q.sub(St.multiplyScalar(St.dot(Te))).normalize(),ae.crossVectors(Ne,Te);const Ct=ae.dot(v[xt])<0?-1:1;d.setXYZW(xt,Q.x,Q.y,Q.z,Ct)}for(let xt=0,Te=se.length;xt<Te;++xt){const pe=se[xt],Ct=pe.start,Tn=pe.count;for(let mn=Ct,Ln=Ct+Tn;mn<Ln;mn+=3)Je(e.getX(mn+0)),Je(e.getX(mn+1)),Je(e.getX(mn+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new pl(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let P=0,O=i.count;P<O;P++)i.setXYZ(P,0,0,0);const s=new je,a=new je,d=new je,p=new je,v=new je,S=new je,M=new je,A=new je;if(e)for(let P=0,O=e.count;P<O;P+=3){const F=e.getX(P+0),W=e.getX(P+1),B=e.getX(P+2);s.fromBufferAttribute(t,F),a.fromBufferAttribute(t,W),d.fromBufferAttribute(t,B),M.subVectors(d,a),A.subVectors(s,a),M.cross(A),p.fromBufferAttribute(i,F),v.fromBufferAttribute(i,W),S.fromBufferAttribute(i,B),p.add(M),v.add(M),S.add(M),i.setXYZ(F,p.x,p.y,p.z),i.setXYZ(W,v.x,v.y,v.z),i.setXYZ(B,S.x,S.y,S.z)}else for(let P=0,O=t.count;P<O;P+=3)s.fromBufferAttribute(t,P+0),a.fromBufferAttribute(t,P+1),d.fromBufferAttribute(t,P+2),M.subVectors(d,a),A.subVectors(s,a),M.cross(A),i.setXYZ(P+0,M.x,M.y,M.z),i.setXYZ(P+1,M.x,M.y,M.z),i.setXYZ(P+2,M.x,M.y,M.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)al.fromBufferAttribute(e,t),al.normalize(),e.setXYZ(t,al.x,al.y,al.z)}toNonIndexed(){function e(p,v){const S=p.array,M=p.itemSize,A=p.normalized,P=new S.constructor(v.length*M);let O=0,F=0;for(let W=0,B=v.length;W<B;W++){p.isInterleavedBufferAttribute?O=v[W]*p.data.stride+p.offset:O=v[W]*M;for(let N=0;N<M;N++)P[F++]=S[O++]}return new pl(P,M,A)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new qo,i=this.index.array,s=this.attributes;for(const p in s){const v=s[p],S=e(v,i);t.setAttribute(p,S)}const a=this.morphAttributes;for(const p in a){const v=[],S=a[p];for(let M=0,A=S.length;M<A;M++){const P=S[M],O=e(P,i);v.push(O)}t.morphAttributes[p]=v}t.morphTargetsRelative=this.morphTargetsRelative;const d=this.groups;for(let p=0,v=d.length;p<v;p++){const S=d[p];t.addGroup(S.start,S.count,S.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const v=this.parameters;for(const S in v)v[S]!==void 0&&(e[S]=v[S]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const v in i){const S=i[v];e.data.attributes[v]=S.toJSON(e.data)}const s={};let a=!1;for(const v in this.morphAttributes){const S=this.morphAttributes[v],M=[];for(let A=0,P=S.length;A<P;A++){const O=S[A];M.push(O.toJSON(e.data))}M.length>0&&(s[v]=M,a=!0)}a&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));const p=this.boundingSphere;return p!==null&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const s=e.attributes;for(const S in s){const M=s[S];this.setAttribute(S,M.clone(t))}const a=e.morphAttributes;for(const S in a){const M=[],A=a[S];for(let P=0,O=A.length;P<O;P++)M.push(A[P].clone(t));this.morphAttributes[S]=M}this.morphTargetsRelative=e.morphTargetsRelative;const d=e.groups;for(let S=0,M=d.length;S<M;S++){const A=d[S];this.addGroup(A.start,A.count,A.materialIndex)}const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const v=e.boundingSphere;return v!==null&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Rc=new qs,cu=new Ou,wu=new Jl,Af=new je,Qc=new je,Du=new je,td=new je,Jd=new je,Oc=new je,Lu=new Zt,Qd=new Zt,eh=new Zt,kc=new je,yp=new je,xp=new je,kh=new je,th=new je;class Ql extends sl{constructor(e=new qo,t=new lu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,d=s.length;a<d;a++){const p=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=a}}}}getVertexPosition(e,t){const i=this.geometry,s=i.attributes.position,a=i.morphAttributes.position,d=i.morphTargetsRelative;t.fromBufferAttribute(s,e);const p=this.morphTargetInfluences;if(a&&p){Oc.set(0,0,0);for(let v=0,S=a.length;v<S;v++){const M=p[v],A=a[v];M!==0&&(Jd.fromBufferAttribute(A,e),d?Oc.addScaledVector(Jd,M):Oc.addScaledVector(Jd.sub(t),M))}t.add(Oc)}return t}raycast(e,t){const i=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),wu.copy(i.boundingSphere),wu.applyMatrix4(a),cu.copy(e.ray).recast(e.near),!(wu.containsPoint(cu.origin)===!1&&(cu.intersectSphere(wu,Af)===null||cu.origin.distanceToSquared(Af)>Uo(e.far-e.near,2)))&&(Rc.copy(a).invert(),cu.copy(e.ray).applyMatrix4(Rc),!(i.boundingBox!==null&&cu.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,cu)))}_computeIntersections(e,t,i){let s;const a=this.geometry,d=this.material,p=a.index,v=a.attributes.position,S=a.attributes.uv,M=a.attributes.uv1,A=a.attributes.normal,P=a.groups,O=a.drawRange;if(p!==null)if(Array.isArray(d))for(let F=0,W=P.length;F<W;F++){const B=P[F],N=d[B.materialIndex],se=Math.max(B.start,O.start),Q=Math.min(p.count,Math.min(B.start+B.count,O.start+O.count));for(let ae=se,St=Q;ae<St;ae+=3){const Ne=p.getX(ae),Je=p.getX(ae+1),xt=p.getX(ae+2);s=$c(this,N,e,i,S,M,A,Ne,Je,xt),s&&(s.faceIndex=Math.floor(ae/3),s.face.materialIndex=B.materialIndex,t.push(s))}}else{const F=Math.max(0,O.start),W=Math.min(p.count,O.start+O.count);for(let B=F,N=W;B<N;B+=3){const se=p.getX(B),Q=p.getX(B+1),ae=p.getX(B+2);s=$c(this,d,e,i,S,M,A,se,Q,ae),s&&(s.faceIndex=Math.floor(B/3),t.push(s))}}else if(v!==void 0)if(Array.isArray(d))for(let F=0,W=P.length;F<W;F++){const B=P[F],N=d[B.materialIndex],se=Math.max(B.start,O.start),Q=Math.min(v.count,Math.min(B.start+B.count,O.start+O.count));for(let ae=se,St=Q;ae<St;ae+=3){const Ne=ae,Je=ae+1,xt=ae+2;s=$c(this,N,e,i,S,M,A,Ne,Je,xt),s&&(s.faceIndex=Math.floor(ae/3),s.face.materialIndex=B.materialIndex,t.push(s))}}else{const F=Math.max(0,O.start),W=Math.min(v.count,O.start+O.count);for(let B=F,N=W;B<N;B+=3){const se=B,Q=B+1,ae=B+2;s=$c(this,d,e,i,S,M,A,se,Q,ae),s&&(s.faceIndex=Math.floor(B/3),t.push(s))}}}}function $h(l,e,t,i,s,a,d,p){let v;if(e.side===oe?v=i.intersectTriangle(d,a,s,!0,p):v=i.intersectTriangle(s,a,d,e.side===st,p),v===null)return null;th.copy(p),th.applyMatrix4(l.matrixWorld);const S=t.ray.origin.distanceTo(th);return S<t.near||S>t.far?null:{distance:S,point:th.clone(),object:l}}function $c(l,e,t,i,s,a,d,p,v,S){l.getVertexPosition(p,Qc),l.getVertexPosition(v,Du),l.getVertexPosition(S,td);const M=$h(l,e,t,i,Qc,Du,td,kh);if(M){s&&(Lu.fromBufferAttribute(s,p),Qd.fromBufferAttribute(s,v),eh.fromBufferAttribute(s,S),M.uv=Ac.getInterpolation(kh,Qc,Du,td,Lu,Qd,eh,new Zt)),a&&(Lu.fromBufferAttribute(a,p),Qd.fromBufferAttribute(a,v),eh.fromBufferAttribute(a,S),M.uv1=Ac.getInterpolation(kh,Qc,Du,td,Lu,Qd,eh,new Zt)),d&&(kc.fromBufferAttribute(d,p),yp.fromBufferAttribute(d,v),xp.fromBufferAttribute(d,S),M.normal=Ac.getInterpolation(kh,Qc,Du,td,kc,yp,xp,new je),M.normal.dot(i.direction)>0&&M.normal.multiplyScalar(-1));const A={a:p,b:v,c:S,normal:new je,materialIndex:0};Ac.getNormal(Qc,Du,td,A.normal),M.face=A}return M}class yc extends qo{constructor(e=1,t=1,i=1,s=1,a=1,d=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:s,heightSegments:a,depthSegments:d};const p=this;s=Math.floor(s),a=Math.floor(a),d=Math.floor(d);const v=[],S=[],M=[],A=[];let P=0,O=0;F("z","y","x",-1,-1,i,t,e,d,a,0),F("z","y","x",1,-1,i,t,-e,d,a,1),F("x","z","y",1,1,e,i,t,s,d,2),F("x","z","y",1,-1,e,i,-t,s,d,3),F("x","y","z",1,-1,e,t,i,s,a,4),F("x","y","z",-1,-1,e,t,-i,s,a,5),this.setIndex(v),this.setAttribute("position",new fs(S,3)),this.setAttribute("normal",new fs(M,3)),this.setAttribute("uv",new fs(A,2));function F(W,B,N,se,Q,ae,St,Ne,Je,xt,Te){const pe=ae/Je,Ct=St/xt,Tn=ae/2,mn=St/2,Ln=Ne/2,fi=Je+1,Un=xt+1;let ki=0,Zn=0;const Gr=new je;for(let us=0;us<Un;us++){const ms=us*Ct-mn;for(let ga=0;ga<fi;ga++){const Va=ga*pe-Tn;Gr[W]=Va*se,Gr[B]=ms*Q,Gr[N]=Ln,S.push(Gr.x,Gr.y,Gr.z),Gr[W]=0,Gr[B]=0,Gr[N]=Ne>0?1:-1,M.push(Gr.x,Gr.y,Gr.z),A.push(ga/Je),A.push(1-us/xt),ki+=1}}for(let us=0;us<xt;us++)for(let ms=0;ms<Je;ms++){const ga=P+ms+fi*us,Va=P+ms+fi*(us+1),ii=P+(ms+1)+fi*(us+1),er=P+(ms+1)+fi*us;v.push(ga,Va,er),v.push(Va,ii,er),Zn+=6}p.addGroup(O,Zn,Te),O+=Zn,P+=ki}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nu(l){const e={};for(const t in l){e[t]={};for(const i in l[t]){const s=l[t][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=s.clone():Array.isArray(s)?e[t][i]=s.slice():e[t][i]=s}}return e}function rl(l){const e={};for(let t=0;t<l.length;t++){const i=Nu(l[t]);for(const s in i)e[s]=i[s]}return e}function bp(l){const e=[];for(let t=0;t<l.length;t++)e.push(l[t].clone());return e}function Pf(l){const e=l.getRenderTarget();return e===null?l.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ri.workingColorSpace}const Hh={clone:Nu,merge:rl};var Hc=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nh=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vc extends _u{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Hc,this.fragmentShader=nh,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nu(e.uniforms),this.uniformsGroups=bp(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const d=this.uniforms[s].value;d&&d.isTexture?t.uniforms[s]={type:"t",value:d.toJSON(e).uuid}:d&&d.isColor?t.uniforms[s]={type:"c",value:d.getHex()}:d&&d.isVector2?t.uniforms[s]={type:"v2",value:d.toArray()}:d&&d.isVector3?t.uniforms[s]={type:"v3",value:d.toArray()}:d&&d.isVector4?t.uniforms[s]={type:"v4",value:d.toArray()}:d&&d.isMatrix3?t.uniforms[s]={type:"m3",value:d.toArray()}:d&&d.isMatrix4?t.uniforms[s]={type:"m4",value:d.toArray()}:t.uniforms[s]={value:d}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class ih extends sl{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new qs,this.projectionMatrix=new qs,this.projectionMatrixInverse=new qs,this.coordinateSystem=nn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const uu=new je,Vh=new Zt,Wh=new Zt;class jl extends ih{constructor(e=50,t=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Gi*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(oi*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gi*2*Math.atan(Math.tan(oi*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){uu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(uu.x,uu.y).multiplyScalar(-e/uu.z),uu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(uu.x,uu.y).multiplyScalar(-e/uu.z)}getViewSize(e,t){return this.getViewBounds(e,Vh,Wh),t.subVectors(Wh,Vh)}setViewOffset(e,t,i,s,a,d){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(oi*.5*this.fov)/this.zoom,i=2*t,s=this.aspect*i,a=-.5*s;const d=this.view;if(this.view!==null&&this.view.enabled){const v=d.fullWidth,S=d.fullHeight;a+=d.offsetX*s/v,t-=d.offsetY*i/S,s*=d.width/v,i*=d.height/S}const p=this.filmOffset;p!==0&&(a+=e*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const gl=-90,du=1;class xd extends sl{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new jl(gl,du,e,t);s.layers=this.layers,this.add(s);const a=new jl(gl,du,e,t);a.layers=this.layers,this.add(a);const d=new jl(gl,du,e,t);d.layers=this.layers,this.add(d);const p=new jl(gl,du,e,t);p.layers=this.layers,this.add(p);const v=new jl(gl,du,e,t);v.layers=this.layers,this.add(v);const S=new jl(gl,du,e,t);S.layers=this.layers,this.add(S)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,s,a,d,p,v]=t;for(const S of t)this.remove(S);if(e===nn)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),d.up.set(0,0,1),d.lookAt(0,-1,0),p.up.set(0,1,0),p.lookAt(0,0,1),v.up.set(0,1,0),v.lookAt(0,0,-1);else if(e===si)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),d.up.set(0,0,-1),d.lookAt(0,-1,0),p.up.set(0,-1,0),p.lookAt(0,0,1),v.up.set(0,-1,0),v.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const S of t)this.add(S),S.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,d,p,v,S,M]=this.children,A=e.getRenderTarget(),P=e.getActiveCubeFace(),O=e.getActiveMipmapLevel(),F=e.xr.enabled;e.xr.enabled=!1;const W=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,s),e.render(t,a),e.setRenderTarget(i,1,s),e.render(t,d),e.setRenderTarget(i,2,s),e.render(t,p),e.setRenderTarget(i,3,s),e.render(t,v),e.setRenderTarget(i,4,s),e.render(t,S),i.texture.generateMipmaps=W,e.setRenderTarget(i,5,s),e.render(t,M),e.setRenderTarget(A,P,O),e.xr.enabled=F,i.texture.needsPMREMUpdate=!0}}class sc extends el{constructor(e,t,i,s,a,d,p,v,S,M){e=e!==void 0?e:[],t=t!==void 0?t:it,super(e,t,i,s,a,d,p,v,S,M),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Rf extends Sl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},s=[i,i,i,i,i,i];this.texture=new sc(s,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ds}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new yc(5,5,5),a=new Vc({name:"CubemapFromEquirect",uniforms:Nu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:oe,blending:xe});a.uniforms.tEquirect.value=t;const d=new Ql(s,a),p=t.minFilter;return t.minFilter===fr&&(t.minFilter=ds),new xd(1,10,this).update(e,d),t.minFilter=p,d.geometry.dispose(),d.material.dispose(),this}clear(e,t,i,s){const a=e.getRenderTarget();for(let d=0;d<6;d++)e.setRenderTarget(this,d),e.clear(t,i,s);e.setRenderTarget(a)}}const Of=new je,Fu=new je,If=new Wi;class Bu{constructor(e=new je(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,s){return this.normal.set(e,t,i),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const s=Of.subVectors(i,t).cross(Fu.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Of),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||If.getNormalMatrix(e),s=this.coplanarPoint(Of).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const hu=new Jl,Rl=new je;class rh{constructor(e=new Bu,t=new Bu,i=new Bu,s=new Bu,a=new Bu,d=new Bu){this.planes=[e,t,i,s,a,d]}set(e,t,i,s,a,d){const p=this.planes;return p[0].copy(e),p[1].copy(t),p[2].copy(i),p[3].copy(s),p[4].copy(a),p[5].copy(d),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=nn){const i=this.planes,s=e.elements,a=s[0],d=s[1],p=s[2],v=s[3],S=s[4],M=s[5],A=s[6],P=s[7],O=s[8],F=s[9],W=s[10],B=s[11],N=s[12],se=s[13],Q=s[14],ae=s[15];if(i[0].setComponents(v-a,P-S,B-O,ae-N).normalize(),i[1].setComponents(v+a,P+S,B+O,ae+N).normalize(),i[2].setComponents(v+d,P+M,B+F,ae+se).normalize(),i[3].setComponents(v-d,P-M,B-F,ae-se).normalize(),i[4].setComponents(v-p,P-A,B-W,ae-Q).normalize(),t===nn)i[5].setComponents(v+p,P+A,B+W,ae+Q).normalize();else if(t===si)i[5].setComponents(p,A,W,Q).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),hu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),hu.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(hu)}intersectsSprite(e){return hu.center.set(0,0,0),hu.radius=.7071067811865476,hu.applyMatrix4(e.matrixWorld),this.intersectsSphere(hu)}intersectsSphere(e){const t=this.planes,i=e.center,s=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const s=t[i];if(Rl.x=s.normal.x>0?e.max.x:e.min.x,Rl.y=s.normal.y>0?e.max.y:e.min.y,Rl.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Rl)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Df(){let l=null,e=!1,t=null,i=null;function s(a,d){t(a,d),i=l.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(i=l.requestAnimationFrame(s),e=!0)},stop:function(){l.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){l=a}}}function Sp(l){const e=new WeakMap;function t(p,v){const S=p.array,M=p.usage,A=S.byteLength,P=l.createBuffer();l.bindBuffer(v,P),l.bufferData(v,S,M),p.onUploadCallback();let O;if(S instanceof Float32Array)O=l.FLOAT;else if(S instanceof Uint16Array)p.isFloat16BufferAttribute?O=l.HALF_FLOAT:O=l.UNSIGNED_SHORT;else if(S instanceof Int16Array)O=l.SHORT;else if(S instanceof Uint32Array)O=l.UNSIGNED_INT;else if(S instanceof Int32Array)O=l.INT;else if(S instanceof Int8Array)O=l.BYTE;else if(S instanceof Uint8Array)O=l.UNSIGNED_BYTE;else if(S instanceof Uint8ClampedArray)O=l.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+S);return{buffer:P,type:O,bytesPerElement:S.BYTES_PER_ELEMENT,version:p.version,size:A}}function i(p,v,S){const M=v.array,A=v._updateRange,P=v.updateRanges;if(l.bindBuffer(S,p),A.count===-1&&P.length===0&&l.bufferSubData(S,0,M),P.length!==0){for(let O=0,F=P.length;O<F;O++){const W=P[O];l.bufferSubData(S,W.start*M.BYTES_PER_ELEMENT,M,W.start,W.count)}v.clearUpdateRanges()}A.count!==-1&&(l.bufferSubData(S,A.offset*M.BYTES_PER_ELEMENT,M,A.offset,A.count),A.count=-1),v.onUploadCallback()}function s(p){return p.isInterleavedBufferAttribute&&(p=p.data),e.get(p)}function a(p){p.isInterleavedBufferAttribute&&(p=p.data);const v=e.get(p);v&&(l.deleteBuffer(v.buffer),e.delete(p))}function d(p,v){if(p.isInterleavedBufferAttribute&&(p=p.data),p.isGLBufferAttribute){const M=e.get(p);(!M||M.version<p.version)&&e.set(p,{buffer:p.buffer,type:p.type,bytesPerElement:p.elementSize,version:p.version});return}const S=e.get(p);if(S===void 0)e.set(p,t(p,v));else if(S.version<p.version){if(S.size!==p.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(S.buffer,p,v),S.version=p.version}}return{get:s,remove:a,update:d}}class sh extends qo{constructor(e=1,t=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:s};const a=e/2,d=t/2,p=Math.floor(i),v=Math.floor(s),S=p+1,M=v+1,A=e/p,P=t/v,O=[],F=[],W=[],B=[];for(let N=0;N<M;N++){const se=N*P-d;for(let Q=0;Q<S;Q++){const ae=Q*A-a;F.push(ae,-se,0),W.push(0,0,1),B.push(Q/p),B.push(1-N/v)}}for(let N=0;N<v;N++)for(let se=0;se<p;se++){const Q=se+S*N,ae=se+S*(N+1),St=se+1+S*(N+1),Ne=se+1+S*N;O.push(Q,ae,Ne),O.push(ae,St,Ne)}this.setIndex(O),this.setAttribute("position",new fs(F,3)),this.setAttribute("normal",new fs(W,3)),this.setAttribute("uv",new fs(B,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sh(e.width,e.height,e.widthSegments,e.heightSegments)}}var jh=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,sg=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,oh=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ah=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zh=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,lh=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ch=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Gh=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Wc=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Ic=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Lf=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Mu=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Nf=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Uu=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Cp=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bd=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,uh=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_p=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Xh=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,og=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wp=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ff=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,xc=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Yh=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,dh=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Mp=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Bf=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ep=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hh=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Uf=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Tp="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ap=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Kh=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Pp=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zf=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,qh=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kf=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ag=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,lg=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$f=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Rp=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Jh=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Hf=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Qh=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,cg=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fh=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ug=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,ef=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,dg=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Vf=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,tf=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Op=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ml=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,hg=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Sd=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Ip=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Wf=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ph=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Cd=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nd=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,zu=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ku=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Dp=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Lp=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fg=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jf=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Np=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Fp=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Bp=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,nf=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,_d=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Zf=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,wd=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Gf=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Md=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Xf=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ed=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,gh=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Td=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ad=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Pd=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Rd=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Od=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,id=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,rd=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,im=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,x=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,n=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,r=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,o=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,c=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,f=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,y=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,w=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,R=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,U=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,V=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,be=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,De=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,nt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Xt=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,fn=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,bn=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Oi=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Fr=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,xs=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const K={alphahash_fragment:jh,alphahash_pars_fragment:sg,alphamap_fragment:oh,alphamap_pars_fragment:ah,alphatest_fragment:Zh,alphatest_pars_fragment:lh,aomap_fragment:ch,aomap_pars_fragment:Gh,batching_pars_vertex:Wc,batching_vertex:Ic,begin_vertex:Lf,beginnormal_vertex:Mu,bsdfs:Nf,iridescence_fragment:Uu,bumpmap_pars_fragment:Cp,clipping_planes_fragment:bd,clipping_planes_pars_fragment:uh,clipping_planes_pars_vertex:_p,clipping_planes_vertex:Xh,color_fragment:og,color_pars_fragment:wp,color_pars_vertex:Ff,color_vertex:xc,common:Yh,cube_uv_reflection_fragment:dh,defaultnormal_vertex:Mp,displacementmap_pars_vertex:Bf,displacementmap_vertex:Ep,emissivemap_fragment:hh,emissivemap_pars_fragment:Uf,colorspace_fragment:Tp,colorspace_pars_fragment:Ap,envmap_fragment:Kh,envmap_common_pars_fragment:Pp,envmap_pars_fragment:zf,envmap_pars_vertex:qh,envmap_physical_pars_fragment:ug,envmap_vertex:kf,fog_vertex:ag,fog_pars_vertex:lg,fog_fragment:$f,fog_pars_fragment:Rp,gradientmap_pars_fragment:Jh,lightmap_pars_fragment:Hf,lights_lambert_fragment:Qh,lights_lambert_pars_fragment:cg,lights_pars_begin:fh,lights_toon_fragment:ef,lights_toon_pars_fragment:dg,lights_phong_fragment:Vf,lights_phong_pars_fragment:tf,lights_physical_fragment:Op,lights_physical_pars_fragment:ml,lights_fragment_begin:hg,lights_fragment_maps:Sd,lights_fragment_end:Ip,logdepthbuf_fragment:Wf,logdepthbuf_pars_fragment:ph,logdepthbuf_pars_vertex:Cd,logdepthbuf_vertex:nd,map_fragment:zu,map_pars_fragment:ku,map_particle_fragment:Dp,map_particle_pars_fragment:Lp,metalnessmap_fragment:fg,metalnessmap_pars_fragment:jf,morphinstance_vertex:Np,morphcolor_vertex:Fp,morphnormal_vertex:Bp,morphtarget_pars_vertex:nf,morphtarget_vertex:_d,normal_fragment_begin:Zf,normal_fragment_maps:wd,normal_pars_fragment:Gf,normal_pars_vertex:Md,normal_vertex:Xf,normalmap_pars_fragment:Ed,clearcoat_normal_fragment_begin:gh,clearcoat_normal_fragment_maps:Td,clearcoat_pars_fragment:Ad,iridescence_pars_fragment:Pd,opaque_fragment:Rd,packing:Od,premultiplied_alpha_fragment:id,project_vertex:rd,dithering_fragment:im,dithering_pars_fragment:x,roughnessmap_fragment:n,roughnessmap_pars_fragment:r,shadowmap_pars_fragment:o,shadowmap_pars_vertex:c,shadowmap_vertex:f,shadowmask_pars_fragment:y,skinbase_vertex:w,skinning_pars_vertex:R,skinning_vertex:U,skinnormal_vertex:V,specularmap_fragment:be,specularmap_pars_fragment:De,tonemapping_fragment:nt,tonemapping_pars_fragment:wt,transmission_fragment:Xt,transmission_pars_fragment:fn,uv_pars_fragment:bn,uv_pars_vertex:Oi,uv_vertex:Fr,worldpos_vertex:xs,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},G={common:{diffuse:{value:new wr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Wi},alphaMap:{value:null},alphaMapTransform:{value:new Wi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Wi}},envmap:{envMap:{value:null},envMapRotation:{value:new Wi},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Wi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Wi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Wi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Wi},normalScale:{value:new Zt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Wi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Wi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Wi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Wi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Wi},alphaTest:{value:0},uvTransform:{value:new Wi}},sprite:{diffuse:{value:new wr(16777215)},opacity:{value:1},center:{value:new Zt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Wi},alphaMap:{value:null},alphaMapTransform:{value:new Wi},alphaTest:{value:0}}},ue={basic:{uniforms:rl([G.common,G.specularmap,G.envmap,G.aomap,G.lightmap,G.fog]),vertexShader:K.meshbasic_vert,fragmentShader:K.meshbasic_frag},lambert:{uniforms:rl([G.common,G.specularmap,G.envmap,G.aomap,G.lightmap,G.emissivemap,G.bumpmap,G.normalmap,G.displacementmap,G.fog,G.lights,{emissive:{value:new wr(0)}}]),vertexShader:K.meshlambert_vert,fragmentShader:K.meshlambert_frag},phong:{uniforms:rl([G.common,G.specularmap,G.envmap,G.aomap,G.lightmap,G.emissivemap,G.bumpmap,G.normalmap,G.displacementmap,G.fog,G.lights,{emissive:{value:new wr(0)},specular:{value:new wr(1118481)},shininess:{value:30}}]),vertexShader:K.meshphong_vert,fragmentShader:K.meshphong_frag},standard:{uniforms:rl([G.common,G.envmap,G.aomap,G.lightmap,G.emissivemap,G.bumpmap,G.normalmap,G.displacementmap,G.roughnessmap,G.metalnessmap,G.fog,G.lights,{emissive:{value:new wr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:K.meshphysical_vert,fragmentShader:K.meshphysical_frag},toon:{uniforms:rl([G.common,G.aomap,G.lightmap,G.emissivemap,G.bumpmap,G.normalmap,G.displacementmap,G.gradientmap,G.fog,G.lights,{emissive:{value:new wr(0)}}]),vertexShader:K.meshtoon_vert,fragmentShader:K.meshtoon_frag},matcap:{uniforms:rl([G.common,G.bumpmap,G.normalmap,G.displacementmap,G.fog,{matcap:{value:null}}]),vertexShader:K.meshmatcap_vert,fragmentShader:K.meshmatcap_frag},points:{uniforms:rl([G.points,G.fog]),vertexShader:K.points_vert,fragmentShader:K.points_frag},dashed:{uniforms:rl([G.common,G.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:K.linedashed_vert,fragmentShader:K.linedashed_frag},depth:{uniforms:rl([G.common,G.displacementmap]),vertexShader:K.depth_vert,fragmentShader:K.depth_frag},normal:{uniforms:rl([G.common,G.bumpmap,G.normalmap,G.displacementmap,{opacity:{value:1}}]),vertexShader:K.meshnormal_vert,fragmentShader:K.meshnormal_frag},sprite:{uniforms:rl([G.sprite,G.fog]),vertexShader:K.sprite_vert,fragmentShader:K.sprite_frag},background:{uniforms:{uvTransform:{value:new Wi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:K.background_vert,fragmentShader:K.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Wi}},vertexShader:K.backgroundCube_vert,fragmentShader:K.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:K.cube_vert,fragmentShader:K.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:K.equirect_vert,fragmentShader:K.equirect_frag},distanceRGBA:{uniforms:rl([G.common,G.displacementmap,{referencePosition:{value:new je},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:K.distanceRGBA_vert,fragmentShader:K.distanceRGBA_frag},shadow:{uniforms:rl([G.lights,G.fog,{color:{value:new wr(0)},opacity:{value:1}}]),vertexShader:K.shadow_vert,fragmentShader:K.shadow_frag}};ue.physical={uniforms:rl([ue.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Wi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Wi},clearcoatNormalScale:{value:new Zt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Wi},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Wi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Wi},sheen:{value:0},sheenColor:{value:new wr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Wi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Wi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Wi},transmissionSamplerSize:{value:new Zt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Wi},attenuationDistance:{value:0},attenuationColor:{value:new wr(0)},specularColor:{value:new wr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Wi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Wi},anisotropyVector:{value:new Zt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Wi}}]),vertexShader:K.meshphysical_vert,fragmentShader:K.meshphysical_frag};const me={r:0,b:0,g:0},Ee=new tl,Se=new qs;function We(l,e,t,i,s,a,d){const p=new wr(0);let v=a===!0?0:1,S,M,A=null,P=0,O=null;function F(se){let Q=se.isScene===!0?se.background:null;return Q&&Q.isTexture&&(Q=(se.backgroundBlurriness>0?t:e).get(Q)),Q}function W(se){let Q=!1;const ae=F(se);ae===null?N(p,v):ae&&ae.isColor&&(N(ae,1),Q=!0);const St=l.xr.getEnvironmentBlendMode();St==="additive"?i.buffers.color.setClear(0,0,0,1,d):St==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,d),(l.autoClear||Q)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),l.clear(l.autoClearColor,l.autoClearDepth,l.autoClearStencil))}function B(se,Q){const ae=F(Q);ae&&(ae.isCubeTexture||ae.mapping===kr)?(M===void 0&&(M=new Ql(new yc(1,1,1),new Vc({name:"BackgroundCubeMaterial",uniforms:Nu(ue.backgroundCube.uniforms),vertexShader:ue.backgroundCube.vertexShader,fragmentShader:ue.backgroundCube.fragmentShader,side:oe,depthTest:!1,depthWrite:!1,fog:!1})),M.geometry.deleteAttribute("normal"),M.geometry.deleteAttribute("uv"),M.onBeforeRender=function(St,Ne,Je){this.matrixWorld.copyPosition(Je.matrixWorld)},Object.defineProperty(M.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(M)),Ee.copy(Q.backgroundRotation),Ee.x*=-1,Ee.y*=-1,Ee.z*=-1,ae.isCubeTexture&&ae.isRenderTargetTexture===!1&&(Ee.y*=-1,Ee.z*=-1),M.material.uniforms.envMap.value=ae,M.material.uniforms.flipEnvMap.value=ae.isCubeTexture&&ae.isRenderTargetTexture===!1?-1:1,M.material.uniforms.backgroundBlurriness.value=Q.backgroundBlurriness,M.material.uniforms.backgroundIntensity.value=Q.backgroundIntensity,M.material.uniforms.backgroundRotation.value.setFromMatrix4(Se.makeRotationFromEuler(Ee)),M.material.toneMapped=Ri.getTransfer(ae.colorSpace)!==H,(A!==ae||P!==ae.version||O!==l.toneMapping)&&(M.material.needsUpdate=!0,A=ae,P=ae.version,O=l.toneMapping),M.layers.enableAll(),se.unshift(M,M.geometry,M.material,0,0,null)):ae&&ae.isTexture&&(S===void 0&&(S=new Ql(new sh(2,2),new Vc({name:"BackgroundMaterial",uniforms:Nu(ue.background.uniforms),vertexShader:ue.background.vertexShader,fragmentShader:ue.background.fragmentShader,side:st,depthTest:!1,depthWrite:!1,fog:!1})),S.geometry.deleteAttribute("normal"),Object.defineProperty(S.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(S)),S.material.uniforms.t2D.value=ae,S.material.uniforms.backgroundIntensity.value=Q.backgroundIntensity,S.material.toneMapped=Ri.getTransfer(ae.colorSpace)!==H,ae.matrixAutoUpdate===!0&&ae.updateMatrix(),S.material.uniforms.uvTransform.value.copy(ae.matrix),(A!==ae||P!==ae.version||O!==l.toneMapping)&&(S.material.needsUpdate=!0,A=ae,P=ae.version,O=l.toneMapping),S.layers.enableAll(),se.unshift(S,S.geometry,S.material,0,0,null))}function N(se,Q){se.getRGB(me,Pf(l)),i.buffers.color.setClear(me.r,me.g,me.b,Q,d)}return{getClearColor:function(){return p},setClearColor:function(se,Q=1){p.set(se),v=Q,N(p,v)},getClearAlpha:function(){return v},setClearAlpha:function(se){v=se,N(p,v)},render:W,addToRenderList:B}}function Ae(l,e){const t=l.getParameter(l.MAX_VERTEX_ATTRIBS),i={},s=P(null);let a=s,d=!1;function p(pe,Ct,Tn,mn,Ln){let fi=!1;const Un=A(mn,Tn,Ct);a!==Un&&(a=Un,S(a.object)),fi=O(pe,mn,Tn,Ln),fi&&F(pe,mn,Tn,Ln),Ln!==null&&e.update(Ln,l.ELEMENT_ARRAY_BUFFER),(fi||d)&&(d=!1,ae(pe,Ct,Tn,mn),Ln!==null&&l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,e.get(Ln).buffer))}function v(){return l.createVertexArray()}function S(pe){return l.bindVertexArray(pe)}function M(pe){return l.deleteVertexArray(pe)}function A(pe,Ct,Tn){const mn=Tn.wireframe===!0;let Ln=i[pe.id];Ln===void 0&&(Ln={},i[pe.id]=Ln);let fi=Ln[Ct.id];fi===void 0&&(fi={},Ln[Ct.id]=fi);let Un=fi[mn];return Un===void 0&&(Un=P(v()),fi[mn]=Un),Un}function P(pe){const Ct=[],Tn=[],mn=[];for(let Ln=0;Ln<t;Ln++)Ct[Ln]=0,Tn[Ln]=0,mn[Ln]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ct,enabledAttributes:Tn,attributeDivisors:mn,object:pe,attributes:{},index:null}}function O(pe,Ct,Tn,mn){const Ln=a.attributes,fi=Ct.attributes;let Un=0;const ki=Tn.getAttributes();for(const Zn in ki)if(ki[Zn].location>=0){const us=Ln[Zn];let ms=fi[Zn];if(ms===void 0&&(Zn==="instanceMatrix"&&pe.instanceMatrix&&(ms=pe.instanceMatrix),Zn==="instanceColor"&&pe.instanceColor&&(ms=pe.instanceColor)),us===void 0||us.attribute!==ms||ms&&us.data!==ms.data)return!0;Un++}return a.attributesNum!==Un||a.index!==mn}function F(pe,Ct,Tn,mn){const Ln={},fi=Ct.attributes;let Un=0;const ki=Tn.getAttributes();for(const Zn in ki)if(ki[Zn].location>=0){let us=fi[Zn];us===void 0&&(Zn==="instanceMatrix"&&pe.instanceMatrix&&(us=pe.instanceMatrix),Zn==="instanceColor"&&pe.instanceColor&&(us=pe.instanceColor));const ms={};ms.attribute=us,us&&us.data&&(ms.data=us.data),Ln[Zn]=ms,Un++}a.attributes=Ln,a.attributesNum=Un,a.index=mn}function W(){const pe=a.newAttributes;for(let Ct=0,Tn=pe.length;Ct<Tn;Ct++)pe[Ct]=0}function B(pe){N(pe,0)}function N(pe,Ct){const Tn=a.newAttributes,mn=a.enabledAttributes,Ln=a.attributeDivisors;Tn[pe]=1,mn[pe]===0&&(l.enableVertexAttribArray(pe),mn[pe]=1),Ln[pe]!==Ct&&(l.vertexAttribDivisor(pe,Ct),Ln[pe]=Ct)}function se(){const pe=a.newAttributes,Ct=a.enabledAttributes;for(let Tn=0,mn=Ct.length;Tn<mn;Tn++)Ct[Tn]!==pe[Tn]&&(l.disableVertexAttribArray(Tn),Ct[Tn]=0)}function Q(pe,Ct,Tn,mn,Ln,fi,Un){Un===!0?l.vertexAttribIPointer(pe,Ct,Tn,Ln,fi):l.vertexAttribPointer(pe,Ct,Tn,mn,Ln,fi)}function ae(pe,Ct,Tn,mn){W();const Ln=mn.attributes,fi=Tn.getAttributes(),Un=Ct.defaultAttributeValues;for(const ki in fi){const Zn=fi[ki];if(Zn.location>=0){let Gr=Ln[ki];if(Gr===void 0&&(ki==="instanceMatrix"&&pe.instanceMatrix&&(Gr=pe.instanceMatrix),ki==="instanceColor"&&pe.instanceColor&&(Gr=pe.instanceColor)),Gr!==void 0){const us=Gr.normalized,ms=Gr.itemSize,ga=e.get(Gr);if(ga===void 0)continue;const Va=ga.buffer,ii=ga.type,er=ga.bytesPerElement,Es=ii===l.INT||ii===l.UNSIGNED_INT||Gr.gpuType===Ut;if(Gr.isInterleavedBufferAttribute){const Pr=Gr.data,No=Pr.stride,ua=Gr.offset;if(Pr.isInstancedInterleavedBuffer){for(let Fo=0;Fo<Zn.locationSize;Fo++)N(Zn.location+Fo,Pr.meshPerAttribute);pe.isInstancedMesh!==!0&&mn._maxInstanceCount===void 0&&(mn._maxInstanceCount=Pr.meshPerAttribute*Pr.count)}else for(let Fo=0;Fo<Zn.locationSize;Fo++)B(Zn.location+Fo);l.bindBuffer(l.ARRAY_BUFFER,Va);for(let Fo=0;Fo<Zn.locationSize;Fo++)Q(Zn.location+Fo,ms/Zn.locationSize,ii,us,No*er,(ua+ms/Zn.locationSize*Fo)*er,Es)}else{if(Gr.isInstancedBufferAttribute){for(let Pr=0;Pr<Zn.locationSize;Pr++)N(Zn.location+Pr,Gr.meshPerAttribute);pe.isInstancedMesh!==!0&&mn._maxInstanceCount===void 0&&(mn._maxInstanceCount=Gr.meshPerAttribute*Gr.count)}else for(let Pr=0;Pr<Zn.locationSize;Pr++)B(Zn.location+Pr);l.bindBuffer(l.ARRAY_BUFFER,Va);for(let Pr=0;Pr<Zn.locationSize;Pr++)Q(Zn.location+Pr,ms/Zn.locationSize,ii,us,ms*er,ms/Zn.locationSize*Pr*er,Es)}}else if(Un!==void 0){const us=Un[ki];if(us!==void 0)switch(us.length){case 2:l.vertexAttrib2fv(Zn.location,us);break;case 3:l.vertexAttrib3fv(Zn.location,us);break;case 4:l.vertexAttrib4fv(Zn.location,us);break;default:l.vertexAttrib1fv(Zn.location,us)}}}}se()}function St(){xt();for(const pe in i){const Ct=i[pe];for(const Tn in Ct){const mn=Ct[Tn];for(const Ln in mn)M(mn[Ln].object),delete mn[Ln];delete Ct[Tn]}delete i[pe]}}function Ne(pe){if(i[pe.id]===void 0)return;const Ct=i[pe.id];for(const Tn in Ct){const mn=Ct[Tn];for(const Ln in mn)M(mn[Ln].object),delete mn[Ln];delete Ct[Tn]}delete i[pe.id]}function Je(pe){for(const Ct in i){const Tn=i[Ct];if(Tn[pe.id]===void 0)continue;const mn=Tn[pe.id];for(const Ln in mn)M(mn[Ln].object),delete mn[Ln];delete Tn[pe.id]}}function xt(){Te(),d=!0,a!==s&&(a=s,S(a.object))}function Te(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:p,reset:xt,resetDefaultState:Te,dispose:St,releaseStatesOfGeometry:Ne,releaseStatesOfProgram:Je,initAttributes:W,enableAttribute:B,disableUnusedAttributes:se}}function et(l,e,t){let i;function s(S){i=S}function a(S,M){l.drawArrays(i,S,M),t.update(M,i,1)}function d(S,M,A){A!==0&&(l.drawArraysInstanced(i,S,M,A),t.update(M,i,A))}function p(S,M,A){if(A===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,S,0,M,0,A);let O=0;for(let F=0;F<A;F++)O+=M[F];t.update(O,i,1)}function v(S,M,A,P){if(A===0)return;const O=e.get("WEBGL_multi_draw");if(O===null)for(let F=0;F<S.length;F++)d(S[F],M[F],P[F]);else{O.multiDrawArraysInstancedWEBGL(i,S,0,M,0,P,0,A);let F=0;for(let W=0;W<A;W++)F+=M[W];for(let W=0;W<P.length;W++)t.update(F,i,P[W])}}this.setMode=s,this.render=a,this.renderInstances=d,this.renderMultiDraw=p,this.renderMultiDrawInstances=v}function ze(l,e,t,i){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");s=l.getParameter(Ne.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function d(Ne){return!(Ne!==Ss&&i.convert(Ne)!==l.getParameter(l.IMPLEMENTATION_COLOR_READ_FORMAT))}function p(Ne){const Je=Ne===Li&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(Ne!==_r&&i.convert(Ne)!==l.getParameter(l.IMPLEMENTATION_COLOR_READ_TYPE)&&Ne!==Si&&!Je)}function v(Ne){if(Ne==="highp"){if(l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.HIGH_FLOAT).precision>0&&l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT).precision>0)return"highp";Ne="mediump"}return Ne==="mediump"&&l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.MEDIUM_FLOAT).precision>0&&l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let S=t.precision!==void 0?t.precision:"highp";const M=v(S);M!==S&&(console.warn("THREE.WebGLRenderer:",S,"not supported, using",M,"instead."),S=M);const A=t.logarithmicDepthBuffer===!0,P=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS),O=l.getParameter(l.MAX_VERTEX_TEXTURE_IMAGE_UNITS),F=l.getParameter(l.MAX_TEXTURE_SIZE),W=l.getParameter(l.MAX_CUBE_MAP_TEXTURE_SIZE),B=l.getParameter(l.MAX_VERTEX_ATTRIBS),N=l.getParameter(l.MAX_VERTEX_UNIFORM_VECTORS),se=l.getParameter(l.MAX_VARYING_VECTORS),Q=l.getParameter(l.MAX_FRAGMENT_UNIFORM_VECTORS),ae=O>0,St=l.getParameter(l.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:v,textureFormatReadable:d,textureTypeReadable:p,precision:S,logarithmicDepthBuffer:A,maxTextures:P,maxVertexTextures:O,maxTextureSize:F,maxCubemapSize:W,maxAttributes:B,maxVertexUniforms:N,maxVaryings:se,maxFragmentUniforms:Q,vertexTextures:ae,maxSamples:St}}function Ke(l){const e=this;let t=null,i=0,s=!1,a=!1;const d=new Bu,p=new Wi,v={value:null,needsUpdate:!1};this.uniform=v,this.numPlanes=0,this.numIntersection=0,this.init=function(A,P){const O=A.length!==0||P||i!==0||s;return s=P,i=A.length,O},this.beginShadows=function(){a=!0,M(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(A,P){t=M(A,P,0)},this.setState=function(A,P,O){const F=A.clippingPlanes,W=A.clipIntersection,B=A.clipShadows,N=l.get(A);if(!s||F===null||F.length===0||a&&!B)a?M(null):S();else{const se=a?0:i,Q=se*4;let ae=N.clippingState||null;v.value=ae,ae=M(F,P,Q,O);for(let St=0;St!==Q;++St)ae[St]=t[St];N.clippingState=ae,this.numIntersection=W?this.numPlanes:0,this.numPlanes+=se}};function S(){v.value!==t&&(v.value=t,v.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function M(A,P,O,F){const W=A!==null?A.length:0;let B=null;if(W!==0){if(B=v.value,F!==!0||B===null){const N=O+W*4,se=P.matrixWorldInverse;p.getNormalMatrix(se),(B===null||B.length<N)&&(B=new Float32Array(N));for(let Q=0,ae=O;Q!==W;++Q,ae+=4)d.copy(A[Q]).applyMatrix4(se,p),d.normal.toArray(B,ae),B[ae+3]=d.constant}v.value=B,v.needsUpdate=!0}return e.numPlanes=W,e.numIntersection=0,B}}function pt(l){let e=new WeakMap;function t(d,p){return p===nr?d.mapping=it:p===zr&&(d.mapping=Vs),d}function i(d){if(d&&d.isTexture){const p=d.mapping;if(p===nr||p===zr)if(e.has(d)){const v=e.get(d).texture;return t(v,d.mapping)}else{const v=d.image;if(v&&v.height>0){const S=new Rf(v.height);return S.fromEquirectangularTexture(l,d),e.set(d,S),d.addEventListener("dispose",s),t(S.texture,d.mapping)}else return null}}return d}function s(d){const p=d.target;p.removeEventListener("dispose",s);const v=e.get(p);v!==void 0&&(e.delete(p),v.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}class Ye extends ih{constructor(e=-1,t=1,i=1,s=-1,a=.1,d=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=s,this.near=a,this.far=d,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,s,a,d){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=s,this.view.width=a,this.view.height=d,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=i-e,d=i+e,p=s+t,v=s-t;if(this.view!==null&&this.view.enabled){const S=(this.right-this.left)/this.view.fullWidth/this.zoom,M=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=S*this.view.offsetX,d=a+S*this.view.width,p-=M*this.view.offsetY,v=p-M*this.view.height}this.projectionMatrix.makeOrthographic(a,d,p,v,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ot=4,gt=[.125,.215,.35,.446,.526,.582],Wt=20,un=new Ye,Mn=new wr;let An=null,Jn=0,En=0,$n=!1;const wn=(1+Math.sqrt(5))/2,ui=1/wn,Gn=[new je(-wn,ui,0),new je(wn,ui,0),new je(-ui,0,wn),new je(ui,0,wn),new je(0,wn,-ui),new je(0,wn,ui),new je(-1,1,-1),new je(1,1,-1),new je(-1,1,1),new je(1,1,1)];class li{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,s=100){An=this._renderer.getRenderTarget(),Jn=this._renderer.getActiveCubeFace(),En=this._renderer.getActiveMipmapLevel(),$n=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,i,s,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=rs(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Qi(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(An,Jn,En),this._renderer.xr.enabled=$n,e.scissorTest=!1,Bn(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===it||e.mapping===Vs?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),An=this._renderer.getRenderTarget(),Jn=this._renderer.getActiveCubeFace(),En=this._renderer.getActiveMipmapLevel(),$n=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ds,minFilter:ds,generateMipmaps:!1,type:Li,format:Ss,colorSpace:$a,depthBuffer:!1},s=gi(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gi(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ci(a)),this._blurMaterial=Ti(a,e,t)}return s}_compileMaterial(e){const t=new Ql(this._lodPlanes[0],e);this._renderer.compile(t,un)}_sceneToCubeUV(e,t,i,s){const p=new jl(90,1,t,i),v=[1,-1,1,1,1,1],S=[1,1,1,-1,-1,-1],M=this._renderer,A=M.autoClear,P=M.toneMapping;M.getClearColor(Mn),M.toneMapping=zi,M.autoClear=!1;const O=new lu({name:"PMREM.Background",side:oe,depthWrite:!1,depthTest:!1}),F=new Ql(new yc,O);let W=!1;const B=e.background;B?B.isColor&&(O.color.copy(B),e.background=null,W=!0):(O.color.copy(Mn),W=!0);for(let N=0;N<6;N++){const se=N%3;se===0?(p.up.set(0,v[N],0),p.lookAt(S[N],0,0)):se===1?(p.up.set(0,0,v[N]),p.lookAt(0,S[N],0)):(p.up.set(0,v[N],0),p.lookAt(0,0,S[N]));const Q=this._cubeSize;Bn(s,se*Q,N>2?Q:0,Q,Q),M.setRenderTarget(s),W&&M.render(F,p),M.render(e,p)}F.geometry.dispose(),F.material.dispose(),M.toneMapping=P,M.autoClear=A,e.background=B}_textureToCubeUV(e,t){const i=this._renderer,s=e.mapping===it||e.mapping===Vs;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=rs()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Qi());const a=s?this._cubemapMaterial:this._equirectMaterial,d=new Ql(this._lodPlanes[0],a),p=a.uniforms;p.envMap.value=e;const v=this._cubeSize;Bn(t,0,0,3*v,2*v),i.setRenderTarget(t),i.render(d,un)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const s=this._lodPlanes.length;for(let a=1;a<s;a++){const d=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),p=Gn[(s-a-1)%Gn.length];this._blur(e,a-1,a,d,p)}t.autoClear=i}_blur(e,t,i,s,a){const d=this._pingPongRenderTarget;this._halfBlur(e,d,t,i,s,"latitudinal",a),this._halfBlur(d,e,i,i,s,"longitudinal",a)}_halfBlur(e,t,i,s,a,d,p){const v=this._renderer,S=this._blurMaterial;d!=="latitudinal"&&d!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const M=3,A=new Ql(this._lodPlanes[s],S),P=S.uniforms,O=this._sizeLods[i]-1,F=isFinite(a)?Math.PI/(2*O):2*Math.PI/(2*Wt-1),W=a/F,B=isFinite(a)?1+Math.floor(M*W):Wt;B>Wt&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${B} samples when the maximum is set to ${Wt}`);const N=[];let se=0;for(let Je=0;Je<Wt;++Je){const xt=Je/W,Te=Math.exp(-xt*xt/2);N.push(Te),Je===0?se+=Te:Je<B&&(se+=2*Te)}for(let Je=0;Je<N.length;Je++)N[Je]=N[Je]/se;P.envMap.value=e.texture,P.samples.value=B,P.weights.value=N,P.latitudinal.value=d==="latitudinal",p&&(P.poleAxis.value=p);const{_lodMax:Q}=this;P.dTheta.value=F,P.mipInt.value=Q-i;const ae=this._sizeLods[s],St=3*ae*(s>Q-Ot?s-Q+Ot:0),Ne=4*(this._cubeSize-ae);Bn(t,St,Ne,3*ae,2*ae),v.setRenderTarget(t),v.render(A,un)}}function ci(l){const e=[],t=[],i=[];let s=l;const a=l-Ot+1+gt.length;for(let d=0;d<a;d++){const p=Math.pow(2,s);t.push(p);let v=1/p;d>l-Ot?v=gt[d-l+Ot-1]:d===0&&(v=0),i.push(v);const S=1/(p-2),M=-S,A=1+S,P=[M,M,A,M,A,A,M,M,A,A,M,A],O=6,F=6,W=3,B=2,N=1,se=new Float32Array(W*F*O),Q=new Float32Array(B*F*O),ae=new Float32Array(N*F*O);for(let Ne=0;Ne<O;Ne++){const Je=Ne%3*2/3-1,xt=Ne>2?0:-1,Te=[Je,xt,0,Je+2/3,xt,0,Je+2/3,xt+1,0,Je,xt,0,Je+2/3,xt+1,0,Je,xt+1,0];se.set(Te,W*F*Ne),Q.set(P,B*F*Ne);const pe=[Ne,Ne,Ne,Ne,Ne,Ne];ae.set(pe,N*F*Ne)}const St=new qo;St.setAttribute("position",new pl(se,W)),St.setAttribute("uv",new pl(Q,B)),St.setAttribute("faceIndex",new pl(ae,N)),e.push(St),s>Ot&&s--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function gi(l,e,t){const i=new Sl(l,e,t);return i.texture.mapping=kr,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Bn(l,e,t,i,s){l.viewport.set(e,t,i,s),l.scissor.set(e,t,i,s)}function Ti(l,e,t){const i=new Float32Array(Wt),s=new je(0,1,0);return new Vc({name:"SphericalGaussianBlur",defines:{n:Wt,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${l}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:lo(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:xe,depthTest:!1,depthWrite:!1})}function Qi(){return new Vc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lo(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:xe,depthTest:!1,depthWrite:!1})}function rs(){return new Vc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lo(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:xe,depthTest:!1,depthWrite:!1})}function lo(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Zs(l){let e=new WeakMap,t=null;function i(p){if(p&&p.isTexture){const v=p.mapping,S=v===nr||v===zr,M=v===it||v===Vs;if(S||M){let A=e.get(p);const P=A!==void 0?A.texture.pmremVersion:0;if(p.isRenderTargetTexture&&p.pmremVersion!==P)return t===null&&(t=new li(l)),A=S?t.fromEquirectangular(p,A):t.fromCubemap(p,A),A.texture.pmremVersion=p.pmremVersion,e.set(p,A),A.texture;if(A!==void 0)return A.texture;{const O=p.image;return S&&O&&O.height>0||M&&O&&s(O)?(t===null&&(t=new li(l)),A=S?t.fromEquirectangular(p):t.fromCubemap(p),A.texture.pmremVersion=p.pmremVersion,e.set(p,A),p.addEventListener("dispose",a),A.texture):null}}}return p}function s(p){let v=0;const S=6;for(let M=0;M<S;M++)p[M]!==void 0&&v++;return v===S}function a(p){const v=p.target;v.removeEventListener("dispose",a);const S=e.get(v);S!==void 0&&(e.delete(v),S.dispose())}function d(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:d}}function es(l){const e={};function t(i){if(e[i]!==void 0)return e[i];let s;switch(i){case"WEBGL_depth_texture":s=l.getExtension("WEBGL_depth_texture")||l.getExtension("MOZ_WEBGL_depth_texture")||l.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=l.getExtension("WEBGL_compressed_texture_s3tc")||l.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||l.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=l.getExtension("WEBGL_compressed_texture_pvrtc")||l.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=l.getExtension(i)}return e[i]=s,s}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const s=t(i);return s===null&&Xn("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function lr(l,e,t,i){const s={},a=new WeakMap;function d(A){const P=A.target;P.index!==null&&e.remove(P.index);for(const F in P.attributes)e.remove(P.attributes[F]);for(const F in P.morphAttributes){const W=P.morphAttributes[F];for(let B=0,N=W.length;B<N;B++)e.remove(W[B])}P.removeEventListener("dispose",d),delete s[P.id];const O=a.get(P);O&&(e.remove(O),a.delete(P)),i.releaseStatesOfGeometry(P),P.isInstancedBufferGeometry===!0&&delete P._maxInstanceCount,t.memory.geometries--}function p(A,P){return s[P.id]===!0||(P.addEventListener("dispose",d),s[P.id]=!0,t.memory.geometries++),P}function v(A){const P=A.attributes;for(const F in P)e.update(P[F],l.ARRAY_BUFFER);const O=A.morphAttributes;for(const F in O){const W=O[F];for(let B=0,N=W.length;B<N;B++)e.update(W[B],l.ARRAY_BUFFER)}}function S(A){const P=[],O=A.index,F=A.attributes.position;let W=0;if(O!==null){const se=O.array;W=O.version;for(let Q=0,ae=se.length;Q<ae;Q+=3){const St=se[Q+0],Ne=se[Q+1],Je=se[Q+2];P.push(St,Ne,Ne,Je,Je,St)}}else if(F!==void 0){const se=F.array;W=F.version;for(let Q=0,ae=se.length/3-1;Q<ae;Q+=3){const St=Q+0,Ne=Q+1,Je=Q+2;P.push(St,Ne,Ne,Je,Je,St)}}else return;const B=new(Xe(P)?Uh:Ef)(P,1);B.version=W;const N=a.get(A);N&&e.remove(N),a.set(A,B)}function M(A){const P=a.get(A);if(P){const O=A.index;O!==null&&P.version<O.version&&S(A)}else S(A);return a.get(A)}return{get:p,update:v,getWireframeAttribute:M}}function ws(l,e,t){let i;function s(P){i=P}let a,d;function p(P){a=P.type,d=P.bytesPerElement}function v(P,O){l.drawElements(i,O,a,P*d),t.update(O,i,1)}function S(P,O,F){F!==0&&(l.drawElementsInstanced(i,O,a,P*d,F),t.update(O,i,F))}function M(P,O,F){if(F===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,O,0,a,P,0,F);let B=0;for(let N=0;N<F;N++)B+=O[N];t.update(B,i,1)}function A(P,O,F,W){if(F===0)return;const B=e.get("WEBGL_multi_draw");if(B===null)for(let N=0;N<P.length;N++)S(P[N]/d,O[N],W[N]);else{B.multiDrawElementsInstancedWEBGL(i,O,0,a,P,0,W,0,F);let N=0;for(let se=0;se<F;se++)N+=O[se];for(let se=0;se<W.length;se++)t.update(N,i,W[se])}}this.setMode=s,this.setIndex=p,this.render=v,this.renderInstances=S,this.renderMultiDraw=M,this.renderMultiDrawInstances=A}function Er(l){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,d,p){switch(t.calls++,d){case l.TRIANGLES:t.triangles+=p*(a/3);break;case l.LINES:t.lines+=p*(a/2);break;case l.LINE_STRIP:t.lines+=p*(a-1);break;case l.LINE_LOOP:t.lines+=p*a;break;case l.POINTS:t.points+=p*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",d);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:i}}function Zr(l,e,t){const i=new WeakMap,s=new ao;function a(d,p,v){const S=d.morphTargetInfluences,M=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,A=M!==void 0?M.length:0;let P=i.get(p);if(P===void 0||P.count!==A){let Te=function(){Je.dispose(),i.delete(p),p.removeEventListener("dispose",Te)};P!==void 0&&P.texture.dispose();const O=p.morphAttributes.position!==void 0,F=p.morphAttributes.normal!==void 0,W=p.morphAttributes.color!==void 0,B=p.morphAttributes.position||[],N=p.morphAttributes.normal||[],se=p.morphAttributes.color||[];let Q=0;O===!0&&(Q=1),F===!0&&(Q=2),W===!0&&(Q=3);let ae=p.attributes.position.count*Q,St=1;ae>e.maxTextureSize&&(St=Math.ceil(ae/e.maxTextureSize),ae=e.maxTextureSize);const Ne=new Float32Array(ae*St*4*A),Je=new Eh(Ne,ae,St,A);Je.type=Si,Je.needsUpdate=!0;const xt=Q*4;for(let pe=0;pe<A;pe++){const Ct=B[pe],Tn=N[pe],mn=se[pe],Ln=ae*St*4*pe;for(let fi=0;fi<Ct.count;fi++){const Un=fi*xt;O===!0&&(s.fromBufferAttribute(Ct,fi),Ne[Ln+Un+0]=s.x,Ne[Ln+Un+1]=s.y,Ne[Ln+Un+2]=s.z,Ne[Ln+Un+3]=0),F===!0&&(s.fromBufferAttribute(Tn,fi),Ne[Ln+Un+4]=s.x,Ne[Ln+Un+5]=s.y,Ne[Ln+Un+6]=s.z,Ne[Ln+Un+7]=0),W===!0&&(s.fromBufferAttribute(mn,fi),Ne[Ln+Un+8]=s.x,Ne[Ln+Un+9]=s.y,Ne[Ln+Un+10]=s.z,Ne[Ln+Un+11]=mn.itemSize===4?s.w:1)}}P={count:A,texture:Je,size:new Zt(ae,St)},i.set(p,P),p.addEventListener("dispose",Te)}if(d.isInstancedMesh===!0&&d.morphTexture!==null)v.getUniforms().setValue(l,"morphTexture",d.morphTexture,t);else{let O=0;for(let W=0;W<S.length;W++)O+=S[W];const F=p.morphTargetsRelative?1:1-O;v.getUniforms().setValue(l,"morphTargetBaseInfluence",F),v.getUniforms().setValue(l,"morphTargetInfluences",S)}v.getUniforms().setValue(l,"morphTargetsTexture",P.texture,t),v.getUniforms().setValue(l,"morphTargetsTextureSize",P.size)}return{update:a}}function bs(l,e,t,i){let s=new WeakMap;function a(v){const S=i.render.frame,M=v.geometry,A=e.get(v,M);if(s.get(A)!==S&&(e.update(A),s.set(A,S)),v.isInstancedMesh&&(v.hasEventListener("dispose",p)===!1&&v.addEventListener("dispose",p),s.get(v)!==S&&(t.update(v.instanceMatrix,l.ARRAY_BUFFER),v.instanceColor!==null&&t.update(v.instanceColor,l.ARRAY_BUFFER),s.set(v,S))),v.isSkinnedMesh){const P=v.skeleton;s.get(P)!==S&&(P.update(),s.set(P,S))}return A}function d(){s=new WeakMap}function p(v){const S=v.target;S.removeEventListener("dispose",p),t.remove(S.instanceMatrix),S.instanceColor!==null&&t.remove(S.instanceColor)}return{update:a,dispose:d}}class Ii extends el{constructor(e,t,i,s,a,d,p,v,S,M=It){if(M!==It&&M!==Rn)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&M===It&&(i=ti),i===void 0&&M===Rn&&(i=Ls),super(null,s,a,d,p,v,M,i,S),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=p!==void 0?p:gn,this.minFilter=v!==void 0?v:gn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const ei=new el,Cr=new Ii(1,1),ts=new Eh,Bi=new Th,Br=new sc,ls=[],dr=[],ps=new Float32Array(16),Ur=new Float32Array(9),Jo=new Float32Array(4);function Gs(l,e,t){const i=l[0];if(i<=0||i>0)return l;const s=e*t;let a=ls[s];if(a===void 0&&(a=new Float32Array(s),ls[s]=a),e!==0){i.toArray(a,0);for(let d=1,p=0;d!==e;++d)p+=t,l[d].toArray(a,p)}return a}function Fs(l,e){if(l.length!==e.length)return!1;for(let t=0,i=l.length;t<i;t++)if(l[t]!==e[t])return!1;return!0}function br(l,e){for(let t=0,i=e.length;t<i;t++)l[t]=e[t]}function Xs(l,e){let t=dr[e];t===void 0&&(t=new Int32Array(e),dr[e]=t);for(let i=0;i!==e;++i)t[i]=l.allocateTextureUnit();return t}function fo(l,e){const t=this.cache;t[0]!==e&&(l.uniform1f(this.addr,e),t[0]=e)}function $s(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(l.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fs(t,e))return;l.uniform2fv(this.addr,e),br(t,e)}}function ro(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(l.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(l.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fs(t,e))return;l.uniform3fv(this.addr,e),br(t,e)}}function Wo(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(l.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fs(t,e))return;l.uniform4fv(this.addr,e),br(t,e)}}function Co(l,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fs(t,e))return;l.uniformMatrix2fv(this.addr,!1,e),br(t,e)}else{if(Fs(t,i))return;Jo.set(i),l.uniformMatrix2fv(this.addr,!1,Jo),br(t,i)}}function fa(l,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fs(t,e))return;l.uniformMatrix3fv(this.addr,!1,e),br(t,e)}else{if(Fs(t,i))return;Ur.set(i),l.uniformMatrix3fv(this.addr,!1,Ur),br(t,i)}}function Ba(l,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fs(t,e))return;l.uniformMatrix4fv(this.addr,!1,e),br(t,e)}else{if(Fs(t,i))return;ps.set(i),l.uniformMatrix4fv(this.addr,!1,ps),br(t,i)}}function Ha(l,e){const t=this.cache;t[0]!==e&&(l.uniform1i(this.addr,e),t[0]=e)}function Pa(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(l.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fs(t,e))return;l.uniform2iv(this.addr,e),br(t,e)}}function Xa(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(l.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fs(t,e))return;l.uniform3iv(this.addr,e),br(t,e)}}function Ra(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(l.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fs(t,e))return;l.uniform4iv(this.addr,e),br(t,e)}}function aa(l,e){const t=this.cache;t[0]!==e&&(l.uniform1ui(this.addr,e),t[0]=e)}function va(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(l.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fs(t,e))return;l.uniform2uiv(this.addr,e),br(t,e)}}function pa(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(l.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fs(t,e))return;l.uniform3uiv(this.addr,e),br(t,e)}}function oc(l,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(l.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fs(t,e))return;l.uniform4uiv(this.addr,e),br(t,e)}}function la(l,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(l.uniform1i(this.addr,s),i[0]=s);let a;this.type===l.SAMPLER_2D_SHADOW?(Cr.compareFunction=yn,a=Cr):a=ei,t.setTexture2D(e||a,s)}function Ol(l,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(l.uniform1i(this.addr,s),i[0]=s),t.setTexture3D(e||Bi,s)}function bc(l,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(l.uniform1i(this.addr,s),i[0]=s),t.setTextureCube(e||Br,s)}function Il(l,e,t){const i=this.cache,s=t.allocateTextureUnit();i[0]!==s&&(l.uniform1i(this.addr,s),i[0]=s),t.setTexture2DArray(e||ts,s)}function Oa(l){switch(l){case 5126:return fo;case 35664:return $s;case 35665:return ro;case 35666:return Wo;case 35674:return Co;case 35675:return fa;case 35676:return Ba;case 5124:case 35670:return Ha;case 35667:case 35671:return Pa;case 35668:case 35672:return Xa;case 35669:case 35673:return Ra;case 5125:return aa;case 36294:return va;case 36295:return pa;case 36296:return oc;case 35678:case 36198:case 36298:case 36306:case 35682:return la;case 35679:case 36299:case 36307:return Ol;case 35680:case 36300:case 36308:case 36293:return bc;case 36289:case 36303:case 36311:case 36292:return Il}}function ya(l,e){l.uniform1fv(this.addr,e)}function xa(l,e){const t=Gs(e,this.size,2);l.uniform2fv(this.addr,t)}function ac(l,e){const t=Gs(e,this.size,3);l.uniform3fv(this.addr,t)}function Ma(l,e){const t=Gs(e,this.size,4);l.uniform4fv(this.addr,t)}function ec(l,e){const t=Gs(e,this.size,4);l.uniformMatrix2fv(this.addr,!1,t)}function Cl(l,e){const t=Gs(e,this.size,9);l.uniformMatrix3fv(this.addr,!1,t)}function cs(l,e){const t=Gs(e,this.size,16);l.uniformMatrix4fv(this.addr,!1,t)}function Ys(l,e){l.uniform1iv(this.addr,e)}function ss(l,e){l.uniform2iv(this.addr,e)}function _o(l,e){l.uniform3iv(this.addr,e)}function ea(l,e){l.uniform4iv(this.addr,e)}function ia(l,e){l.uniform1uiv(this.addr,e)}function yl(l,e){l.uniform2uiv(this.addr,e)}function ll(l,e){l.uniform3uiv(this.addr,e)}function _l(l,e){l.uniform4uiv(this.addr,e)}function Aa(l,e,t){const i=this.cache,s=e.length,a=Xs(t,s);Fs(i,a)||(l.uniform1iv(this.addr,a),br(i,a));for(let d=0;d!==s;++d)t.setTexture2D(e[d]||ei,a[d])}function wl(l,e,t){const i=this.cache,s=e.length,a=Xs(t,s);Fs(i,a)||(l.uniform1iv(this.addr,a),br(i,a));for(let d=0;d!==s;++d)t.setTexture3D(e[d]||Bi,a[d])}function Zl(l,e,t){const i=this.cache,s=e.length,a=Xs(t,s);Fs(i,a)||(l.uniform1iv(this.addr,a),br(i,a));for(let d=0;d!==s;++d)t.setTextureCube(e[d]||Br,a[d])}function Zc(l,e,t){const i=this.cache,s=e.length,a=Xs(t,s);Fs(i,a)||(l.uniform1iv(this.addr,a),br(i,a));for(let d=0;d!==s;++d)t.setTexture2DArray(e[d]||ts,a[d])}function Dl(l){switch(l){case 5126:return ya;case 35664:return xa;case 35665:return ac;case 35666:return Ma;case 35674:return ec;case 35675:return Cl;case 35676:return cs;case 5124:case 35670:return Ys;case 35667:case 35671:return ss;case 35668:case 35672:return _o;case 35669:case 35673:return ea;case 5125:return ia;case 36294:return yl;case 36295:return ll;case 36296:return _l;case 35678:case 36198:case 36298:case 36306:case 35682:return Aa;case 35679:case 36299:case 36307:return wl;case 35680:case 36300:case 36308:case 36293:return Zl;case 36289:case 36303:case 36311:case 36292:return Zc}}class fc{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Oa(t.type)}}class Kr{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Dl(t.type)}}class gs{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const s=this.seq;for(let a=0,d=s.length;a!==d;++a){const p=s[a];p.setValue(e,t[p.id],i)}}}const cr=/(\w+)(\])?(\[|\.)?/g;function hr(l,e){l.seq.push(e),l.map[e.id]=e}function ko(l,e,t){const i=l.name,s=i.length;for(cr.lastIndex=0;;){const a=cr.exec(i),d=cr.lastIndex;let p=a[1];const v=a[2]==="]",S=a[3];if(v&&(p=p|0),S===void 0||S==="["&&d+2===s){hr(t,S===void 0?new fc(p,l,e):new Kr(p,l,e));break}else{let A=t.map[p];A===void 0&&(A=new gs(p),hr(t,A)),t=A}}}class Sa{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;++s){const a=e.getActiveUniform(t,s),d=e.getUniformLocation(t,a.name);ko(a,d,this)}}setValue(e,t,i,s){const a=this.map[t];a!==void 0&&a.setValue(e,i,s)}setOptional(e,t,i){const s=t[i];s!==void 0&&this.setValue(e,i,s)}static upload(e,t,i,s){for(let a=0,d=t.length;a!==d;++a){const p=t[a],v=i[p.id];v.needsUpdate!==!1&&p.setValue(e,v.value,s)}}static seqWithValue(e,t){const i=[];for(let s=0,a=e.length;s!==a;++s){const d=e[s];d.id in t&&i.push(d)}return i}}function Ca(l,e,t){const i=l.createShader(e);return l.shaderSource(i,t),l.compileShader(i),i}const lc=37297;let cc=0;function cl(l,e){const t=l.split(`
`),i=[],s=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let d=s;d<a;d++){const p=d+1;i.push(`${p===e?">":" "} ${p}: ${t[d]}`)}return i.join(`
`)}function Ll(l){const e=Ri.getPrimaries(Ri.workingColorSpace),t=Ri.getPrimaries(l);let i;switch(e===t?i="":e===ie&&t===le?i="LinearDisplayP3ToLinearSRGB":e===le&&t===ie&&(i="LinearSRGBToLinearDisplayP3"),l){case $a:case Ze:return[i,"LinearTransferOETF"];case Za:case Pl:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",l),[i,"LinearTransferOETF"]}}function Sc(l,e,t){const i=l.getShaderParameter(e,l.COMPILE_STATUS),s=l.getShaderInfoLog(e).trim();if(i&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const d=parseInt(a[1]);return t.toUpperCase()+`

`+s+`

`+cl(l.getShaderSource(e),d)}else return s}function Nl(l,e){const t=Ll(e);return`vec4 ${l}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function Fl(l,e){let t;switch(e){case Mi:t="Linear";break;case as:t="Reinhard";break;case dn:t="OptimizedCineon";break;case Rr:t="ACESFilmic";break;case mr:t="AgX";break;case bi:t="Neutral";break;case is:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+l+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const pc=new je;function Wu(){Ri.getLuminanceCoefficients(pc);const l=pc.x.toFixed(4),e=pc.y.toFixed(4),t=pc.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${l}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Tu(l){return[l.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",l.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Gc).join(`
`)}function ju(l){const e=[];for(const t in l){const i=l[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function Nd(l,e){const t={},i=l.getProgramParameter(e,l.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const a=l.getActiveAttrib(e,s),d=a.name;let p=1;a.type===l.FLOAT_MAT2&&(p=2),a.type===l.FLOAT_MAT3&&(p=3),a.type===l.FLOAT_MAT4&&(p=4),t[d]={type:a.type,location:l.getAttribLocation(e,d),locationSize:p}}return t}function Gc(l){return l!==""}function Dc(l,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return l.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ca(l,e){return l.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Oo=/^[ \t]*#include +<([\w\d./]+)>/gm;function Bl(l){return l.replace(Oo,ul)}const Gl=new Map;function ul(l,e){let t=K[e];if(t===void 0){const i=Gl.get(e);if(i!==void 0)t=K[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Bl(t)}const Ul=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Lc(l){return l.replace(Ul,Cc)}function Cc(l,e,t,i){let s="";for(let a=parseInt(e);a<parseInt(t);a++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function eu(l){let e=`precision ${l.precision} float;
	precision ${l.precision} int;
	precision ${l.precision} sampler2D;
	precision ${l.precision} samplerCube;
	precision ${l.precision} sampler3D;
	precision ${l.precision} sampler2DArray;
	precision ${l.precision} sampler2DShadow;
	precision ${l.precision} samplerCubeShadow;
	precision ${l.precision} sampler2DArrayShadow;
	precision ${l.precision} isampler2D;
	precision ${l.precision} isampler3D;
	precision ${l.precision} isamplerCube;
	precision ${l.precision} isampler2DArray;
	precision ${l.precision} usampler2D;
	precision ${l.precision} usampler3D;
	precision ${l.precision} usamplerCube;
	precision ${l.precision} usampler2DArray;
	`;return l.precision==="highp"?e+=`
#define HIGH_PRECISION`:l.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:l.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function tu(l){let e="SHADOWMAP_TYPE_BASIC";return l.shadowMapType===j?e="SHADOWMAP_TYPE_PCF":l.shadowMapType===he?e="SHADOWMAP_TYPE_PCF_SOFT":l.shadowMapType===ft&&(e="SHADOWMAP_TYPE_VSM"),e}function Nc(l){let e="ENVMAP_TYPE_CUBE";if(l.envMap)switch(l.envMapMode){case it:case Vs:e="ENVMAP_TYPE_CUBE";break;case kr:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ad(l){let e="ENVMAP_MODE_REFLECTION";if(l.envMap)switch(l.envMapMode){case Vs:e="ENVMAP_MODE_REFRACTION";break}return e}function uc(l){let e="ENVMAP_BLENDING_NONE";if(l.envMap)switch(l.combine){case Pt:e="ENVMAP_BLENDING_MULTIPLY";break;case rn:e="ENVMAP_BLENDING_MIX";break;case cn:e="ENVMAP_BLENDING_ADD";break}return e}function Kf(l){const e=l.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function Zu(l,e,t,i){const s=l.getContext(),a=t.defines;let d=t.vertexShader,p=t.fragmentShader;const v=tu(t),S=Nc(t),M=ad(t),A=uc(t),P=Kf(t),O=Tu(t),F=ju(a),W=s.createProgram();let B,N,se=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(B=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,F].filter(Gc).join(`
`),B.length>0&&(B+=`
`),N=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,F].filter(Gc).join(`
`),N.length>0&&(N+=`
`)):(B=[eu(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,F,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+M:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+v:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Gc).join(`
`),N=[eu(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,F,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+S:"",t.envMap?"#define "+M:"",t.envMap?"#define "+A:"",P?"#define CUBEUV_TEXEL_WIDTH "+P.texelWidth:"",P?"#define CUBEUV_TEXEL_HEIGHT "+P.texelHeight:"",P?"#define CUBEUV_MAX_MIP "+P.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+v:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==zi?"#define TONE_MAPPING":"",t.toneMapping!==zi?K.tonemapping_pars_fragment:"",t.toneMapping!==zi?Fl("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",K.colorspace_pars_fragment,Nl("linearToOutputTexel",t.outputColorSpace),Wu(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Gc).join(`
`)),d=Bl(d),d=Dc(d,t),d=ca(d,t),p=Bl(p),p=Dc(p,t),p=ca(p,t),d=Lc(d),p=Lc(p),t.isRawShaderMaterial!==!0&&(se=`#version 300 es
`,B=[O,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+B,N=["#define varying in",t.glslVersion===Kt?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Kt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+N);const Q=se+B+d,ae=se+N+p,St=Ca(s,s.VERTEX_SHADER,Q),Ne=Ca(s,s.FRAGMENT_SHADER,ae);s.attachShader(W,St),s.attachShader(W,Ne),t.index0AttributeName!==void 0?s.bindAttribLocation(W,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(W,0,"position"),s.linkProgram(W);function Je(Ct){if(l.debug.checkShaderErrors){const Tn=s.getProgramInfoLog(W).trim(),mn=s.getShaderInfoLog(St).trim(),Ln=s.getShaderInfoLog(Ne).trim();let fi=!0,Un=!0;if(s.getProgramParameter(W,s.LINK_STATUS)===!1)if(fi=!1,typeof l.debug.onShaderError=="function")l.debug.onShaderError(s,W,St,Ne);else{const ki=Sc(s,St,"vertex"),Zn=Sc(s,Ne,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(W,s.VALIDATE_STATUS)+`

Material Name: `+Ct.name+`
Material Type: `+Ct.type+`

Program Info Log: `+Tn+`
`+ki+`
`+Zn)}else Tn!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Tn):(mn===""||Ln==="")&&(Un=!1);Un&&(Ct.diagnostics={runnable:fi,programLog:Tn,vertexShader:{log:mn,prefix:B},fragmentShader:{log:Ln,prefix:N}})}s.deleteShader(St),s.deleteShader(Ne),xt=new Sa(s,W),Te=Nd(s,W)}let xt;this.getUniforms=function(){return xt===void 0&&Je(this),xt};let Te;this.getAttributes=function(){return Te===void 0&&Je(this),Te};let pe=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return pe===!1&&(pe=s.getProgramParameter(W,lc)),pe},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(W),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=cc++,this.cacheKey=e,this.usedTimes=1,this.program=W,this.vertexShader=St,this.fragmentShader=Ne,this}let Fd=0;class xh{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,s=this._getShaderStage(t),a=this._getShaderStage(i),d=this._getShaderCacheForMaterial(e);return d.has(s)===!1&&(d.add(s),s.usedTimes++),d.has(a)===!1&&(d.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new bh(e),t.set(e,i)),i}}class bh{constructor(e){this.id=Fd++,this.code=e,this.usedTimes=0}}function rf(l,e,t,i,s,a,d){const p=new Zd,v=new xh,S=new Set,M=[],A=s.logarithmicDepthBuffer,P=s.vertexTextures;let O=s.precision;const F={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function W(Te){return S.add(Te),Te===0?"uv":`uv${Te}`}function B(Te,pe,Ct,Tn,mn){const Ln=Tn.fog,fi=mn.geometry,Un=Te.isMeshStandardMaterial?Tn.environment:null,ki=(Te.isMeshStandardMaterial?t:e).get(Te.envMap||Un),Zn=ki&&ki.mapping===kr?ki.image.height:null,Gr=F[Te.type];Te.precision!==null&&(O=s.getMaxPrecision(Te.precision),O!==Te.precision&&console.warn("THREE.WebGLProgram.getParameters:",Te.precision,"not supported, using",O,"instead."));const us=fi.morphAttributes.position||fi.morphAttributes.normal||fi.morphAttributes.color,ms=us!==void 0?us.length:0;let ga=0;fi.morphAttributes.position!==void 0&&(ga=1),fi.morphAttributes.normal!==void 0&&(ga=2),fi.morphAttributes.color!==void 0&&(ga=3);let Va,ii,er,Es;if(Gr){const Ya=ue[Gr];Va=Ya.vertexShader,ii=Ya.fragmentShader}else Va=Te.vertexShader,ii=Te.fragmentShader,v.update(Te),er=v.getVertexShaderID(Te),Es=v.getFragmentShaderID(Te);const Pr=l.getRenderTarget(),No=mn.isInstancedMesh===!0,ua=mn.isBatchedMesh===!0,Fo=!!Te.map,za=!!Te.matcap,ke=!!ki,or=!!Te.aoMap,$i=!!Te.lightMap,Dr=!!Te.bumpMap,di=!!Te.normalMap,po=!!Te.displacementMap,Lr=!!Te.emissiveMap,Ts=!!Te.metalnessMap,rt=!!Te.roughnessMap,ve=Te.anisotropy>0,xn=Te.clearcoat>0,Di=Te.dispersion>0,Ai=Te.iridescence>0,wi=Te.sheen>0,co=Te.transmission>0,Tr=ve&&!!Te.anisotropyMap,vs=xn&&!!Te.clearcoatMap,ta=xn&&!!Te.clearcoatNormalMap,tr=xn&&!!Te.clearcoatRoughnessMap,os=Ai&&!!Te.iridescenceMap,Ia=Ai&&!!Te.iridescenceThicknessMap,$o=wi&&!!Te.sheenColorMap,Rs=wi&&!!Te.sheenRoughnessMap,Qo=!!Te.specularMap,ba=!!Te.specularColorMap,El=!!Te.specularIntensityMap,Vt=co&&!!Te.transmissionMap,ar=co&&!!Te.thicknessMap,pi=!!Te.gradientMap,yi=!!Te.alphaMap,xr=Te.alphaTest>0,Io=!!Te.alphaHash,Na=!!Te.extensions;let tc=zi;Te.toneMapped&&(Pr===null||Pr.isXRRenderTarget===!0)&&(tc=l.toneMapping);const _c={shaderID:Gr,shaderType:Te.type,shaderName:Te.name,vertexShader:Va,fragmentShader:ii,defines:Te.defines,customVertexShaderID:er,customFragmentShaderID:Es,isRawShaderMaterial:Te.isRawShaderMaterial===!0,glslVersion:Te.glslVersion,precision:O,batching:ua,batchingColor:ua&&mn._colorsTexture!==null,instancing:No,instancingColor:No&&mn.instanceColor!==null,instancingMorph:No&&mn.morphTexture!==null,supportsVertexTextures:P,outputColorSpace:Pr===null?l.outputColorSpace:Pr.isXRRenderTarget===!0?Pr.texture.colorSpace:$a,alphaToCoverage:!!Te.alphaToCoverage,map:Fo,matcap:za,envMap:ke,envMapMode:ke&&ki.mapping,envMapCubeUVHeight:Zn,aoMap:or,lightMap:$i,bumpMap:Dr,normalMap:di,displacementMap:P&&po,emissiveMap:Lr,normalMapObjectSpace:di&&Te.normalMapType===hl,normalMapTangentSpace:di&&Te.normalMapType===ja,metalnessMap:Ts,roughnessMap:rt,anisotropy:ve,anisotropyMap:Tr,clearcoat:xn,clearcoatMap:vs,clearcoatNormalMap:ta,clearcoatRoughnessMap:tr,dispersion:Di,iridescence:Ai,iridescenceMap:os,iridescenceThicknessMap:Ia,sheen:wi,sheenColorMap:$o,sheenRoughnessMap:Rs,specularMap:Qo,specularColorMap:ba,specularIntensityMap:El,transmission:co,transmissionMap:Vt,thicknessMap:ar,gradientMap:pi,opaque:Te.transparent===!1&&Te.blending===ne&&Te.alphaToCoverage===!1,alphaMap:yi,alphaTest:xr,alphaHash:Io,combine:Te.combine,mapUv:Fo&&W(Te.map.channel),aoMapUv:or&&W(Te.aoMap.channel),lightMapUv:$i&&W(Te.lightMap.channel),bumpMapUv:Dr&&W(Te.bumpMap.channel),normalMapUv:di&&W(Te.normalMap.channel),displacementMapUv:po&&W(Te.displacementMap.channel),emissiveMapUv:Lr&&W(Te.emissiveMap.channel),metalnessMapUv:Ts&&W(Te.metalnessMap.channel),roughnessMapUv:rt&&W(Te.roughnessMap.channel),anisotropyMapUv:Tr&&W(Te.anisotropyMap.channel),clearcoatMapUv:vs&&W(Te.clearcoatMap.channel),clearcoatNormalMapUv:ta&&W(Te.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:tr&&W(Te.clearcoatRoughnessMap.channel),iridescenceMapUv:os&&W(Te.iridescenceMap.channel),iridescenceThicknessMapUv:Ia&&W(Te.iridescenceThicknessMap.channel),sheenColorMapUv:$o&&W(Te.sheenColorMap.channel),sheenRoughnessMapUv:Rs&&W(Te.sheenRoughnessMap.channel),specularMapUv:Qo&&W(Te.specularMap.channel),specularColorMapUv:ba&&W(Te.specularColorMap.channel),specularIntensityMapUv:El&&W(Te.specularIntensityMap.channel),transmissionMapUv:Vt&&W(Te.transmissionMap.channel),thicknessMapUv:ar&&W(Te.thicknessMap.channel),alphaMapUv:yi&&W(Te.alphaMap.channel),vertexTangents:!!fi.attributes.tangent&&(di||ve),vertexColors:Te.vertexColors,vertexAlphas:Te.vertexColors===!0&&!!fi.attributes.color&&fi.attributes.color.itemSize===4,pointsUvs:mn.isPoints===!0&&!!fi.attributes.uv&&(Fo||yi),fog:!!Ln,useFog:Te.fog===!0,fogExp2:!!Ln&&Ln.isFogExp2,flatShading:Te.flatShading===!0,sizeAttenuation:Te.sizeAttenuation===!0,logarithmicDepthBuffer:A,skinning:mn.isSkinnedMesh===!0,morphTargets:fi.morphAttributes.position!==void 0,morphNormals:fi.morphAttributes.normal!==void 0,morphColors:fi.morphAttributes.color!==void 0,morphTargetsCount:ms,morphTextureStride:ga,numDirLights:pe.directional.length,numPointLights:pe.point.length,numSpotLights:pe.spot.length,numSpotLightMaps:pe.spotLightMap.length,numRectAreaLights:pe.rectArea.length,numHemiLights:pe.hemi.length,numDirLightShadows:pe.directionalShadowMap.length,numPointLightShadows:pe.pointShadowMap.length,numSpotLightShadows:pe.spotShadowMap.length,numSpotLightShadowsWithMaps:pe.numSpotLightShadowsWithMaps,numLightProbes:pe.numLightProbes,numClippingPlanes:d.numPlanes,numClipIntersection:d.numIntersection,dithering:Te.dithering,shadowMapEnabled:l.shadowMap.enabled&&Ct.length>0,shadowMapType:l.shadowMap.type,toneMapping:tc,decodeVideoTexture:Fo&&Te.map.isVideoTexture===!0&&Ri.getTransfer(Te.map.colorSpace)===H,premultipliedAlpha:Te.premultipliedAlpha,doubleSided:Te.side===ct,flipSided:Te.side===oe,useDepthPacking:Te.depthPacking>=0,depthPacking:Te.depthPacking||0,index0AttributeName:Te.index0AttributeName,extensionClipCullDistance:Na&&Te.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Na&&Te.extensions.multiDraw===!0||ua)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:Te.customProgramCacheKey()};return _c.vertexUv1s=S.has(1),_c.vertexUv2s=S.has(2),_c.vertexUv3s=S.has(3),S.clear(),_c}function N(Te){const pe=[];if(Te.shaderID?pe.push(Te.shaderID):(pe.push(Te.customVertexShaderID),pe.push(Te.customFragmentShaderID)),Te.defines!==void 0)for(const Ct in Te.defines)pe.push(Ct),pe.push(Te.defines[Ct]);return Te.isRawShaderMaterial===!1&&(se(pe,Te),Q(pe,Te),pe.push(l.outputColorSpace)),pe.push(Te.customProgramCacheKey),pe.join()}function se(Te,pe){Te.push(pe.precision),Te.push(pe.outputColorSpace),Te.push(pe.envMapMode),Te.push(pe.envMapCubeUVHeight),Te.push(pe.mapUv),Te.push(pe.alphaMapUv),Te.push(pe.lightMapUv),Te.push(pe.aoMapUv),Te.push(pe.bumpMapUv),Te.push(pe.normalMapUv),Te.push(pe.displacementMapUv),Te.push(pe.emissiveMapUv),Te.push(pe.metalnessMapUv),Te.push(pe.roughnessMapUv),Te.push(pe.anisotropyMapUv),Te.push(pe.clearcoatMapUv),Te.push(pe.clearcoatNormalMapUv),Te.push(pe.clearcoatRoughnessMapUv),Te.push(pe.iridescenceMapUv),Te.push(pe.iridescenceThicknessMapUv),Te.push(pe.sheenColorMapUv),Te.push(pe.sheenRoughnessMapUv),Te.push(pe.specularMapUv),Te.push(pe.specularColorMapUv),Te.push(pe.specularIntensityMapUv),Te.push(pe.transmissionMapUv),Te.push(pe.thicknessMapUv),Te.push(pe.combine),Te.push(pe.fogExp2),Te.push(pe.sizeAttenuation),Te.push(pe.morphTargetsCount),Te.push(pe.morphAttributeCount),Te.push(pe.numDirLights),Te.push(pe.numPointLights),Te.push(pe.numSpotLights),Te.push(pe.numSpotLightMaps),Te.push(pe.numHemiLights),Te.push(pe.numRectAreaLights),Te.push(pe.numDirLightShadows),Te.push(pe.numPointLightShadows),Te.push(pe.numSpotLightShadows),Te.push(pe.numSpotLightShadowsWithMaps),Te.push(pe.numLightProbes),Te.push(pe.shadowMapType),Te.push(pe.toneMapping),Te.push(pe.numClippingPlanes),Te.push(pe.numClipIntersection),Te.push(pe.depthPacking)}function Q(Te,pe){p.disableAll(),pe.supportsVertexTextures&&p.enable(0),pe.instancing&&p.enable(1),pe.instancingColor&&p.enable(2),pe.instancingMorph&&p.enable(3),pe.matcap&&p.enable(4),pe.envMap&&p.enable(5),pe.normalMapObjectSpace&&p.enable(6),pe.normalMapTangentSpace&&p.enable(7),pe.clearcoat&&p.enable(8),pe.iridescence&&p.enable(9),pe.alphaTest&&p.enable(10),pe.vertexColors&&p.enable(11),pe.vertexAlphas&&p.enable(12),pe.vertexUv1s&&p.enable(13),pe.vertexUv2s&&p.enable(14),pe.vertexUv3s&&p.enable(15),pe.vertexTangents&&p.enable(16),pe.anisotropy&&p.enable(17),pe.alphaHash&&p.enable(18),pe.batching&&p.enable(19),pe.dispersion&&p.enable(20),pe.batchingColor&&p.enable(21),Te.push(p.mask),p.disableAll(),pe.fog&&p.enable(0),pe.useFog&&p.enable(1),pe.flatShading&&p.enable(2),pe.logarithmicDepthBuffer&&p.enable(3),pe.skinning&&p.enable(4),pe.morphTargets&&p.enable(5),pe.morphNormals&&p.enable(6),pe.morphColors&&p.enable(7),pe.premultipliedAlpha&&p.enable(8),pe.shadowMapEnabled&&p.enable(9),pe.doubleSided&&p.enable(10),pe.flipSided&&p.enable(11),pe.useDepthPacking&&p.enable(12),pe.dithering&&p.enable(13),pe.transmission&&p.enable(14),pe.sheen&&p.enable(15),pe.opaque&&p.enable(16),pe.pointsUvs&&p.enable(17),pe.decodeVideoTexture&&p.enable(18),pe.alphaToCoverage&&p.enable(19),Te.push(p.mask)}function ae(Te){const pe=F[Te.type];let Ct;if(pe){const Tn=ue[pe];Ct=Hh.clone(Tn.uniforms)}else Ct=Te.uniforms;return Ct}function St(Te,pe){let Ct;for(let Tn=0,mn=M.length;Tn<mn;Tn++){const Ln=M[Tn];if(Ln.cacheKey===pe){Ct=Ln,++Ct.usedTimes;break}}return Ct===void 0&&(Ct=new Zu(l,pe,Te,a),M.push(Ct)),Ct}function Ne(Te){if(--Te.usedTimes===0){const pe=M.indexOf(Te);M[pe]=M[M.length-1],M.pop(),Te.destroy()}}function Je(Te){v.remove(Te)}function xt(){v.dispose()}return{getParameters:B,getProgramCacheKey:N,getUniforms:ae,acquireProgram:St,releaseProgram:Ne,releaseShaderCache:Je,programs:M,dispose:xt}}function sf(){let l=new WeakMap;function e(a){let d=l.get(a);return d===void 0&&(d={},l.set(a,d)),d}function t(a){l.delete(a)}function i(a,d,p){l.get(a)[d]=p}function s(){l=new WeakMap}return{get:e,remove:t,update:i,dispose:s}}function qf(l,e){return l.groupOrder!==e.groupOrder?l.groupOrder-e.groupOrder:l.renderOrder!==e.renderOrder?l.renderOrder-e.renderOrder:l.material.id!==e.material.id?l.material.id-e.material.id:l.z!==e.z?l.z-e.z:l.id-e.id}function Jf(l,e){return l.groupOrder!==e.groupOrder?l.groupOrder-e.groupOrder:l.renderOrder!==e.renderOrder?l.renderOrder-e.renderOrder:l.z!==e.z?e.z-l.z:l.id-e.id}function Qf(){const l=[];let e=0;const t=[],i=[],s=[];function a(){e=0,t.length=0,i.length=0,s.length=0}function d(A,P,O,F,W,B){let N=l[e];return N===void 0?(N={id:A.id,object:A,geometry:P,material:O,groupOrder:F,renderOrder:A.renderOrder,z:W,group:B},l[e]=N):(N.id=A.id,N.object=A,N.geometry=P,N.material=O,N.groupOrder=F,N.renderOrder=A.renderOrder,N.z=W,N.group=B),e++,N}function p(A,P,O,F,W,B){const N=d(A,P,O,F,W,B);O.transmission>0?i.push(N):O.transparent===!0?s.push(N):t.push(N)}function v(A,P,O,F,W,B){const N=d(A,P,O,F,W,B);O.transmission>0?i.unshift(N):O.transparent===!0?s.unshift(N):t.unshift(N)}function S(A,P){t.length>1&&t.sort(A||qf),i.length>1&&i.sort(P||Jf),s.length>1&&s.sort(P||Jf)}function M(){for(let A=e,P=l.length;A<P;A++){const O=l[A];if(O.id===null)break;O.id=null,O.object=null,O.geometry=null,O.material=null,O.group=null}}return{opaque:t,transmissive:i,transparent:s,init:a,push:p,unshift:v,finish:M,sort:S}}function Up(){let l=new WeakMap;function e(i,s){const a=l.get(i);let d;return a===void 0?(d=new Qf,l.set(i,[d])):s>=a.length?(d=new Qf,a.push(d)):d=a[s],d}function t(){l=new WeakMap}return{get:e,dispose:t}}function zp(){const l={};return{get:function(e){if(l[e.id]!==void 0)return l[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new je,color:new wr};break;case"SpotLight":t={position:new je,direction:new je,color:new wr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new je,color:new wr,distance:0,decay:0};break;case"HemisphereLight":t={direction:new je,skyColor:new wr,groundColor:new wr};break;case"RectAreaLight":t={color:new wr,position:new je,halfWidth:new je,halfHeight:new je};break}return l[e.id]=t,t}}}function Ms(){const l={};return{get:function(e){if(l[e.id]!==void 0)return l[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Zt,shadowCameraNear:1,shadowCameraFar:1e3};break}return l[e.id]=t,t}}}let To=0;function xl(l,e){return(e.castShadow?2:0)-(l.castShadow?2:0)+(e.map?1:0)-(l.map?1:0)}function Xl(l){const e=new zp,t=Ms(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let S=0;S<9;S++)i.probe.push(new je);const s=new je,a=new qs,d=new qs;function p(S){let M=0,A=0,P=0;for(let Te=0;Te<9;Te++)i.probe[Te].set(0,0,0);let O=0,F=0,W=0,B=0,N=0,se=0,Q=0,ae=0,St=0,Ne=0,Je=0;S.sort(xl);for(let Te=0,pe=S.length;Te<pe;Te++){const Ct=S[Te],Tn=Ct.color,mn=Ct.intensity,Ln=Ct.distance,fi=Ct.shadow&&Ct.shadow.map?Ct.shadow.map.texture:null;if(Ct.isAmbientLight)M+=Tn.r*mn,A+=Tn.g*mn,P+=Tn.b*mn;else if(Ct.isLightProbe){for(let Un=0;Un<9;Un++)i.probe[Un].addScaledVector(Ct.sh.coefficients[Un],mn);Je++}else if(Ct.isDirectionalLight){const Un=e.get(Ct);if(Un.color.copy(Ct.color).multiplyScalar(Ct.intensity),Ct.castShadow){const ki=Ct.shadow,Zn=t.get(Ct);Zn.shadowIntensity=ki.intensity,Zn.shadowBias=ki.bias,Zn.shadowNormalBias=ki.normalBias,Zn.shadowRadius=ki.radius,Zn.shadowMapSize=ki.mapSize,i.directionalShadow[O]=Zn,i.directionalShadowMap[O]=fi,i.directionalShadowMatrix[O]=Ct.shadow.matrix,se++}i.directional[O]=Un,O++}else if(Ct.isSpotLight){const Un=e.get(Ct);Un.position.setFromMatrixPosition(Ct.matrixWorld),Un.color.copy(Tn).multiplyScalar(mn),Un.distance=Ln,Un.coneCos=Math.cos(Ct.angle),Un.penumbraCos=Math.cos(Ct.angle*(1-Ct.penumbra)),Un.decay=Ct.decay,i.spot[W]=Un;const ki=Ct.shadow;if(Ct.map&&(i.spotLightMap[St]=Ct.map,St++,ki.updateMatrices(Ct),Ct.castShadow&&Ne++),i.spotLightMatrix[W]=ki.matrix,Ct.castShadow){const Zn=t.get(Ct);Zn.shadowIntensity=ki.intensity,Zn.shadowBias=ki.bias,Zn.shadowNormalBias=ki.normalBias,Zn.shadowRadius=ki.radius,Zn.shadowMapSize=ki.mapSize,i.spotShadow[W]=Zn,i.spotShadowMap[W]=fi,ae++}W++}else if(Ct.isRectAreaLight){const Un=e.get(Ct);Un.color.copy(Tn).multiplyScalar(mn),Un.halfWidth.set(Ct.width*.5,0,0),Un.halfHeight.set(0,Ct.height*.5,0),i.rectArea[B]=Un,B++}else if(Ct.isPointLight){const Un=e.get(Ct);if(Un.color.copy(Ct.color).multiplyScalar(Ct.intensity),Un.distance=Ct.distance,Un.decay=Ct.decay,Ct.castShadow){const ki=Ct.shadow,Zn=t.get(Ct);Zn.shadowIntensity=ki.intensity,Zn.shadowBias=ki.bias,Zn.shadowNormalBias=ki.normalBias,Zn.shadowRadius=ki.radius,Zn.shadowMapSize=ki.mapSize,Zn.shadowCameraNear=ki.camera.near,Zn.shadowCameraFar=ki.camera.far,i.pointShadow[F]=Zn,i.pointShadowMap[F]=fi,i.pointShadowMatrix[F]=Ct.shadow.matrix,Q++}i.point[F]=Un,F++}else if(Ct.isHemisphereLight){const Un=e.get(Ct);Un.skyColor.copy(Ct.color).multiplyScalar(mn),Un.groundColor.copy(Ct.groundColor).multiplyScalar(mn),i.hemi[N]=Un,N++}}B>0&&(l.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=G.LTC_FLOAT_1,i.rectAreaLTC2=G.LTC_FLOAT_2):(i.rectAreaLTC1=G.LTC_HALF_1,i.rectAreaLTC2=G.LTC_HALF_2)),i.ambient[0]=M,i.ambient[1]=A,i.ambient[2]=P;const xt=i.hash;(xt.directionalLength!==O||xt.pointLength!==F||xt.spotLength!==W||xt.rectAreaLength!==B||xt.hemiLength!==N||xt.numDirectionalShadows!==se||xt.numPointShadows!==Q||xt.numSpotShadows!==ae||xt.numSpotMaps!==St||xt.numLightProbes!==Je)&&(i.directional.length=O,i.spot.length=W,i.rectArea.length=B,i.point.length=F,i.hemi.length=N,i.directionalShadow.length=se,i.directionalShadowMap.length=se,i.pointShadow.length=Q,i.pointShadowMap.length=Q,i.spotShadow.length=ae,i.spotShadowMap.length=ae,i.directionalShadowMatrix.length=se,i.pointShadowMatrix.length=Q,i.spotLightMatrix.length=ae+St-Ne,i.spotLightMap.length=St,i.numSpotLightShadowsWithMaps=Ne,i.numLightProbes=Je,xt.directionalLength=O,xt.pointLength=F,xt.spotLength=W,xt.rectAreaLength=B,xt.hemiLength=N,xt.numDirectionalShadows=se,xt.numPointShadows=Q,xt.numSpotShadows=ae,xt.numSpotMaps=St,xt.numLightProbes=Je,i.version=To++)}function v(S,M){let A=0,P=0,O=0,F=0,W=0;const B=M.matrixWorldInverse;for(let N=0,se=S.length;N<se;N++){const Q=S[N];if(Q.isDirectionalLight){const ae=i.directional[A];ae.direction.setFromMatrixPosition(Q.matrixWorld),s.setFromMatrixPosition(Q.target.matrixWorld),ae.direction.sub(s),ae.direction.transformDirection(B),A++}else if(Q.isSpotLight){const ae=i.spot[O];ae.position.setFromMatrixPosition(Q.matrixWorld),ae.position.applyMatrix4(B),ae.direction.setFromMatrixPosition(Q.matrixWorld),s.setFromMatrixPosition(Q.target.matrixWorld),ae.direction.sub(s),ae.direction.transformDirection(B),O++}else if(Q.isRectAreaLight){const ae=i.rectArea[F];ae.position.setFromMatrixPosition(Q.matrixWorld),ae.position.applyMatrix4(B),d.identity(),a.copy(Q.matrixWorld),a.premultiply(B),d.extractRotation(a),ae.halfWidth.set(Q.width*.5,0,0),ae.halfHeight.set(0,Q.height*.5,0),ae.halfWidth.applyMatrix4(d),ae.halfHeight.applyMatrix4(d),F++}else if(Q.isPointLight){const ae=i.point[P];ae.position.setFromMatrixPosition(Q.matrixWorld),ae.position.applyMatrix4(B),P++}else if(Q.isHemisphereLight){const ae=i.hemi[W];ae.direction.setFromMatrixPosition(Q.matrixWorld),ae.direction.transformDirection(B),W++}}}return{setup:p,setupView:v,state:i}}function dl(l){const e=new Xl(l),t=[],i=[];function s(M){S.camera=M,t.length=0,i.length=0}function a(M){t.push(M)}function d(M){i.push(M)}function p(){e.setup(t)}function v(M){e.setupView(t,M)}const S={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:S,setupLights:p,setupLightsView:v,pushLight:a,pushShadow:d}}function ep(l){let e=new WeakMap;function t(s,a=0){const d=e.get(s);let p;return d===void 0?(p=new dl(l),e.set(s,[p])):a>=d.length?(p=new dl(l),d.push(p)):p=d[a],p}function i(){e=new WeakMap}return{get:t,dispose:i}}class tp extends _u{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=bl,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class kp extends _u{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const np=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,R0=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function O0(l,e,t){let i=new rh;const s=new Zt,a=new Zt,d=new ao,p=new tp({depthPacking:ka}),v=new kp,S={},M=t.maxTextureSize,A={[st]:oe,[oe]:st,[ct]:ct},P=new Vc({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Zt},radius:{value:4}},vertexShader:np,fragmentShader:R0}),O=P.clone();O.defines.HORIZONTAL_PASS=1;const F=new qo;F.setAttribute("position",new pl(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const W=new Ql(F,P),B=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=j;let N=this.type;this.render=function(Ne,Je,xt){if(B.enabled===!1||B.autoUpdate===!1&&B.needsUpdate===!1||Ne.length===0)return;const Te=l.getRenderTarget(),pe=l.getActiveCubeFace(),Ct=l.getActiveMipmapLevel(),Tn=l.state;Tn.setBlending(xe),Tn.buffers.color.setClear(1,1,1,1),Tn.buffers.depth.setTest(!0),Tn.setScissorTest(!1);const mn=N!==ft&&this.type===ft,Ln=N===ft&&this.type!==ft;for(let fi=0,Un=Ne.length;fi<Un;fi++){const ki=Ne[fi],Zn=ki.shadow;if(Zn===void 0){console.warn("THREE.WebGLShadowMap:",ki,"has no shadow.");continue}if(Zn.autoUpdate===!1&&Zn.needsUpdate===!1)continue;s.copy(Zn.mapSize);const Gr=Zn.getFrameExtents();if(s.multiply(Gr),a.copy(Zn.mapSize),(s.x>M||s.y>M)&&(s.x>M&&(a.x=Math.floor(M/Gr.x),s.x=a.x*Gr.x,Zn.mapSize.x=a.x),s.y>M&&(a.y=Math.floor(M/Gr.y),s.y=a.y*Gr.y,Zn.mapSize.y=a.y)),Zn.map===null||mn===!0||Ln===!0){const ms=this.type!==ft?{minFilter:gn,magFilter:gn}:{};Zn.map!==null&&Zn.map.dispose(),Zn.map=new Sl(s.x,s.y,ms),Zn.map.texture.name=ki.name+".shadowMap",Zn.camera.updateProjectionMatrix()}l.setRenderTarget(Zn.map),l.clear();const us=Zn.getViewportCount();for(let ms=0;ms<us;ms++){const ga=Zn.getViewport(ms);d.set(a.x*ga.x,a.y*ga.y,a.x*ga.z,a.y*ga.w),Tn.viewport(d),Zn.updateMatrices(ki,ms),i=Zn.getFrustum(),ae(Je,xt,Zn.camera,ki,this.type)}Zn.isPointLightShadow!==!0&&this.type===ft&&se(Zn,xt),Zn.needsUpdate=!1}N=this.type,B.needsUpdate=!1,l.setRenderTarget(Te,pe,Ct)};function se(Ne,Je){const xt=e.update(W);P.defines.VSM_SAMPLES!==Ne.blurSamples&&(P.defines.VSM_SAMPLES=Ne.blurSamples,O.defines.VSM_SAMPLES=Ne.blurSamples,P.needsUpdate=!0,O.needsUpdate=!0),Ne.mapPass===null&&(Ne.mapPass=new Sl(s.x,s.y)),P.uniforms.shadow_pass.value=Ne.map.texture,P.uniforms.resolution.value=Ne.mapSize,P.uniforms.radius.value=Ne.radius,l.setRenderTarget(Ne.mapPass),l.clear(),l.renderBufferDirect(Je,null,xt,P,W,null),O.uniforms.shadow_pass.value=Ne.mapPass.texture,O.uniforms.resolution.value=Ne.mapSize,O.uniforms.radius.value=Ne.radius,l.setRenderTarget(Ne.map),l.clear(),l.renderBufferDirect(Je,null,xt,O,W,null)}function Q(Ne,Je,xt,Te){let pe=null;const Ct=xt.isPointLight===!0?Ne.customDistanceMaterial:Ne.customDepthMaterial;if(Ct!==void 0)pe=Ct;else if(pe=xt.isPointLight===!0?v:p,l.localClippingEnabled&&Je.clipShadows===!0&&Array.isArray(Je.clippingPlanes)&&Je.clippingPlanes.length!==0||Je.displacementMap&&Je.displacementScale!==0||Je.alphaMap&&Je.alphaTest>0||Je.map&&Je.alphaTest>0){const Tn=pe.uuid,mn=Je.uuid;let Ln=S[Tn];Ln===void 0&&(Ln={},S[Tn]=Ln);let fi=Ln[mn];fi===void 0&&(fi=pe.clone(),Ln[mn]=fi,Je.addEventListener("dispose",St)),pe=fi}if(pe.visible=Je.visible,pe.wireframe=Je.wireframe,Te===ft?pe.side=Je.shadowSide!==null?Je.shadowSide:Je.side:pe.side=Je.shadowSide!==null?Je.shadowSide:A[Je.side],pe.alphaMap=Je.alphaMap,pe.alphaTest=Je.alphaTest,pe.map=Je.map,pe.clipShadows=Je.clipShadows,pe.clippingPlanes=Je.clippingPlanes,pe.clipIntersection=Je.clipIntersection,pe.displacementMap=Je.displacementMap,pe.displacementScale=Je.displacementScale,pe.displacementBias=Je.displacementBias,pe.wireframeLinewidth=Je.wireframeLinewidth,pe.linewidth=Je.linewidth,xt.isPointLight===!0&&pe.isMeshDistanceMaterial===!0){const Tn=l.properties.get(pe);Tn.light=xt}return pe}function ae(Ne,Je,xt,Te,pe){if(Ne.visible===!1)return;if(Ne.layers.test(Je.layers)&&(Ne.isMesh||Ne.isLine||Ne.isPoints)&&(Ne.castShadow||Ne.receiveShadow&&pe===ft)&&(!Ne.frustumCulled||i.intersectsObject(Ne))){Ne.modelViewMatrix.multiplyMatrices(xt.matrixWorldInverse,Ne.matrixWorld);const mn=e.update(Ne),Ln=Ne.material;if(Array.isArray(Ln)){const fi=mn.groups;for(let Un=0,ki=fi.length;Un<ki;Un++){const Zn=fi[Un],Gr=Ln[Zn.materialIndex];if(Gr&&Gr.visible){const us=Q(Ne,Gr,Te,pe);Ne.onBeforeShadow(l,Ne,Je,xt,mn,us,Zn),l.renderBufferDirect(xt,null,mn,us,Ne,Zn),Ne.onAfterShadow(l,Ne,Je,xt,mn,us,Zn)}}}else if(Ln.visible){const fi=Q(Ne,Ln,Te,pe);Ne.onBeforeShadow(l,Ne,Je,xt,mn,fi,null),l.renderBufferDirect(xt,null,mn,fi,Ne,null),Ne.onAfterShadow(l,Ne,Je,xt,mn,fi,null)}}const Tn=Ne.children;for(let mn=0,Ln=Tn.length;mn<Ln;mn++)ae(Tn[mn],Je,xt,Te,pe)}function St(Ne){Ne.target.removeEventListener("dispose",St);for(const xt in S){const Te=S[xt],pe=Ne.target.uuid;pe in Te&&(Te[pe].dispose(),delete Te[pe])}}}function I0(l){function e(){let Vt=!1;const ar=new ao;let pi=null;const yi=new ao(0,0,0,0);return{setMask:function(xr){pi!==xr&&!Vt&&(l.colorMask(xr,xr,xr,xr),pi=xr)},setLocked:function(xr){Vt=xr},setClear:function(xr,Io,Na,tc,_c){_c===!0&&(xr*=tc,Io*=tc,Na*=tc),ar.set(xr,Io,Na,tc),yi.equals(ar)===!1&&(l.clearColor(xr,Io,Na,tc),yi.copy(ar))},reset:function(){Vt=!1,pi=null,yi.set(-1,0,0,0)}}}function t(){let Vt=!1,ar=null,pi=null,yi=null;return{setTest:function(xr){xr?Es(l.DEPTH_TEST):Pr(l.DEPTH_TEST)},setMask:function(xr){ar!==xr&&!Vt&&(l.depthMask(xr),ar=xr)},setFunc:function(xr){if(pi!==xr){switch(xr){case Yn:l.depthFunc(l.NEVER);break;case _n:l.depthFunc(l.ALWAYS);break;case Lt:l.depthFunc(l.LESS);break;case Kn:l.depthFunc(l.LEQUAL);break;case ln:l.depthFunc(l.EQUAL);break;case Gt:l.depthFunc(l.GEQUAL);break;case Bt:l.depthFunc(l.GREATER);break;case Nn:l.depthFunc(l.NOTEQUAL);break;default:l.depthFunc(l.LEQUAL)}pi=xr}},setLocked:function(xr){Vt=xr},setClear:function(xr){yi!==xr&&(l.clearDepth(xr),yi=xr)},reset:function(){Vt=!1,ar=null,pi=null,yi=null}}}function i(){let Vt=!1,ar=null,pi=null,yi=null,xr=null,Io=null,Na=null,tc=null,_c=null;return{setTest:function(Ya){Vt||(Ya?Es(l.STENCIL_TEST):Pr(l.STENCIL_TEST))},setMask:function(Ya){ar!==Ya&&!Vt&&(l.stencilMask(Ya),ar=Ya)},setFunc:function(Ya,kd,ud){(pi!==Ya||yi!==kd||xr!==ud)&&(l.stencilFunc(Ya,kd,ud),pi=Ya,yi=kd,xr=ud)},setOp:function(Ya,kd,ud){(Io!==Ya||Na!==kd||tc!==ud)&&(l.stencilOp(Ya,kd,ud),Io=Ya,Na=kd,tc=ud)},setLocked:function(Ya){Vt=Ya},setClear:function(Ya){_c!==Ya&&(l.clearStencil(Ya),_c=Ya)},reset:function(){Vt=!1,ar=null,pi=null,yi=null,xr=null,Io=null,Na=null,tc=null,_c=null}}}const s=new e,a=new t,d=new i,p=new WeakMap,v=new WeakMap;let S={},M={},A=new WeakMap,P=[],O=null,F=!1,W=null,B=null,N=null,se=null,Q=null,ae=null,St=null,Ne=new wr(0,0,0),Je=0,xt=!1,Te=null,pe=null,Ct=null,Tn=null,mn=null;const Ln=l.getParameter(l.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let fi=!1,Un=0;const ki=l.getParameter(l.VERSION);ki.indexOf("WebGL")!==-1?(Un=parseFloat(/^WebGL (\d)/.exec(ki)[1]),fi=Un>=1):ki.indexOf("OpenGL ES")!==-1&&(Un=parseFloat(/^OpenGL ES (\d)/.exec(ki)[1]),fi=Un>=2);let Zn=null,Gr={};const us=l.getParameter(l.SCISSOR_BOX),ms=l.getParameter(l.VIEWPORT),ga=new ao().fromArray(us),Va=new ao().fromArray(ms);function ii(Vt,ar,pi,yi){const xr=new Uint8Array(4),Io=l.createTexture();l.bindTexture(Vt,Io),l.texParameteri(Vt,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(Vt,l.TEXTURE_MAG_FILTER,l.NEAREST);for(let Na=0;Na<pi;Na++)Vt===l.TEXTURE_3D||Vt===l.TEXTURE_2D_ARRAY?l.texImage3D(ar,0,l.RGBA,1,1,yi,0,l.RGBA,l.UNSIGNED_BYTE,xr):l.texImage2D(ar+Na,0,l.RGBA,1,1,0,l.RGBA,l.UNSIGNED_BYTE,xr);return Io}const er={};er[l.TEXTURE_2D]=ii(l.TEXTURE_2D,l.TEXTURE_2D,1),er[l.TEXTURE_CUBE_MAP]=ii(l.TEXTURE_CUBE_MAP,l.TEXTURE_CUBE_MAP_POSITIVE_X,6),er[l.TEXTURE_2D_ARRAY]=ii(l.TEXTURE_2D_ARRAY,l.TEXTURE_2D_ARRAY,1,1),er[l.TEXTURE_3D]=ii(l.TEXTURE_3D,l.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),d.setClear(0),Es(l.DEPTH_TEST),a.setFunc(Kn),Dr(!1),di(Qe),Es(l.CULL_FACE),or(xe);function Es(Vt){S[Vt]!==!0&&(l.enable(Vt),S[Vt]=!0)}function Pr(Vt){S[Vt]!==!1&&(l.disable(Vt),S[Vt]=!1)}function No(Vt,ar){return M[Vt]!==ar?(l.bindFramebuffer(Vt,ar),M[Vt]=ar,Vt===l.DRAW_FRAMEBUFFER&&(M[l.FRAMEBUFFER]=ar),Vt===l.FRAMEBUFFER&&(M[l.DRAW_FRAMEBUFFER]=ar),!0):!1}function ua(Vt,ar){let pi=P,yi=!1;if(Vt){pi=A.get(ar),pi===void 0&&(pi=[],A.set(ar,pi));const xr=Vt.textures;if(pi.length!==xr.length||pi[0]!==l.COLOR_ATTACHMENT0){for(let Io=0,Na=xr.length;Io<Na;Io++)pi[Io]=l.COLOR_ATTACHMENT0+Io;pi.length=xr.length,yi=!0}}else pi[0]!==l.BACK&&(pi[0]=l.BACK,yi=!0);yi&&l.drawBuffers(pi)}function Fo(Vt){return O!==Vt?(l.useProgram(Vt),O=Vt,!0):!1}const za={[re]:l.FUNC_ADD,[we]:l.FUNC_SUBTRACT,[Ue]:l.FUNC_REVERSE_SUBTRACT};za[E]=l.MIN,za[tt]=l.MAX;const ke={[Ie]:l.ZERO,[Le]:l.ONE,[bt]:l.SRC_COLOR,[lt]:l.SRC_ALPHA,[Ge]:l.SRC_ALPHA_SATURATE,[Rt]:l.DST_COLOR,[Pn]:l.DST_ALPHA,[en]:l.ONE_MINUS_SRC_COLOR,[Ht]:l.ONE_MINUS_SRC_ALPHA,[ut]:l.ONE_MINUS_DST_COLOR,[vi]:l.ONE_MINUS_DST_ALPHA,[ot]:l.CONSTANT_COLOR,[mt]:l.ONE_MINUS_CONSTANT_COLOR,[kt]:l.CONSTANT_ALPHA,[qt]:l.ONE_MINUS_CONSTANT_ALPHA};function or(Vt,ar,pi,yi,xr,Io,Na,tc,_c,Ya){if(Vt===xe){F===!0&&(Pr(l.BLEND),F=!1);return}if(F===!1&&(Es(l.BLEND),F=!0),Vt!==at){if(Vt!==W||Ya!==xt){if((B!==re||Q!==re)&&(l.blendEquation(l.FUNC_ADD),B=re,Q=re),Ya)switch(Vt){case ne:l.blendFuncSeparate(l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case Be:l.blendFunc(l.ONE,l.ONE);break;case Oe:l.blendFuncSeparate(l.ZERO,l.ONE_MINUS_SRC_COLOR,l.ZERO,l.ONE);break;case Ce:l.blendFuncSeparate(l.ZERO,l.SRC_COLOR,l.ZERO,l.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Vt);break}else switch(Vt){case ne:l.blendFuncSeparate(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA);break;case Be:l.blendFunc(l.SRC_ALPHA,l.ONE);break;case Oe:l.blendFuncSeparate(l.ZERO,l.ONE_MINUS_SRC_COLOR,l.ZERO,l.ONE);break;case Ce:l.blendFunc(l.ZERO,l.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Vt);break}N=null,se=null,ae=null,St=null,Ne.set(0,0,0),Je=0,W=Vt,xt=Ya}return}xr=xr||ar,Io=Io||pi,Na=Na||yi,(ar!==B||xr!==Q)&&(l.blendEquationSeparate(za[ar],za[xr]),B=ar,Q=xr),(pi!==N||yi!==se||Io!==ae||Na!==St)&&(l.blendFuncSeparate(ke[pi],ke[yi],ke[Io],ke[Na]),N=pi,se=yi,ae=Io,St=Na),(tc.equals(Ne)===!1||_c!==Je)&&(l.blendColor(tc.r,tc.g,tc.b,_c),Ne.copy(tc),Je=_c),W=Vt,xt=!1}function $i(Vt,ar){Vt.side===ct?Pr(l.CULL_FACE):Es(l.CULL_FACE);let pi=Vt.side===oe;ar&&(pi=!pi),Dr(pi),Vt.blending===ne&&Vt.transparent===!1?or(xe):or(Vt.blending,Vt.blendEquation,Vt.blendSrc,Vt.blendDst,Vt.blendEquationAlpha,Vt.blendSrcAlpha,Vt.blendDstAlpha,Vt.blendColor,Vt.blendAlpha,Vt.premultipliedAlpha),a.setFunc(Vt.depthFunc),a.setTest(Vt.depthTest),a.setMask(Vt.depthWrite),s.setMask(Vt.colorWrite);const yi=Vt.stencilWrite;d.setTest(yi),yi&&(d.setMask(Vt.stencilWriteMask),d.setFunc(Vt.stencilFunc,Vt.stencilRef,Vt.stencilFuncMask),d.setOp(Vt.stencilFail,Vt.stencilZFail,Vt.stencilZPass)),Lr(Vt.polygonOffset,Vt.polygonOffsetFactor,Vt.polygonOffsetUnits),Vt.alphaToCoverage===!0?Es(l.SAMPLE_ALPHA_TO_COVERAGE):Pr(l.SAMPLE_ALPHA_TO_COVERAGE)}function Dr(Vt){Te!==Vt&&(Vt?l.frontFace(l.CW):l.frontFace(l.CCW),Te=Vt)}function di(Vt){Vt!==de?(Es(l.CULL_FACE),Vt!==pe&&(Vt===Qe?l.cullFace(l.BACK):Vt===fe?l.cullFace(l.FRONT):l.cullFace(l.FRONT_AND_BACK))):Pr(l.CULL_FACE),pe=Vt}function po(Vt){Vt!==Ct&&(fi&&l.lineWidth(Vt),Ct=Vt)}function Lr(Vt,ar,pi){Vt?(Es(l.POLYGON_OFFSET_FILL),(Tn!==ar||mn!==pi)&&(l.polygonOffset(ar,pi),Tn=ar,mn=pi)):Pr(l.POLYGON_OFFSET_FILL)}function Ts(Vt){Vt?Es(l.SCISSOR_TEST):Pr(l.SCISSOR_TEST)}function rt(Vt){Vt===void 0&&(Vt=l.TEXTURE0+Ln-1),Zn!==Vt&&(l.activeTexture(Vt),Zn=Vt)}function ve(Vt,ar,pi){pi===void 0&&(Zn===null?pi=l.TEXTURE0+Ln-1:pi=Zn);let yi=Gr[pi];yi===void 0&&(yi={type:void 0,texture:void 0},Gr[pi]=yi),(yi.type!==Vt||yi.texture!==ar)&&(Zn!==pi&&(l.activeTexture(pi),Zn=pi),l.bindTexture(Vt,ar||er[Vt]),yi.type=Vt,yi.texture=ar)}function xn(){const Vt=Gr[Zn];Vt!==void 0&&Vt.type!==void 0&&(l.bindTexture(Vt.type,null),Vt.type=void 0,Vt.texture=void 0)}function Di(){try{l.compressedTexImage2D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function Ai(){try{l.compressedTexImage3D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function wi(){try{l.texSubImage2D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function co(){try{l.texSubImage3D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function Tr(){try{l.compressedTexSubImage2D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function vs(){try{l.compressedTexSubImage3D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function ta(){try{l.texStorage2D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function tr(){try{l.texStorage3D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function os(){try{l.texImage2D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function Ia(){try{l.texImage3D.apply(l,arguments)}catch(Vt){console.error("THREE.WebGLState:",Vt)}}function $o(Vt){ga.equals(Vt)===!1&&(l.scissor(Vt.x,Vt.y,Vt.z,Vt.w),ga.copy(Vt))}function Rs(Vt){Va.equals(Vt)===!1&&(l.viewport(Vt.x,Vt.y,Vt.z,Vt.w),Va.copy(Vt))}function Qo(Vt,ar){let pi=v.get(ar);pi===void 0&&(pi=new WeakMap,v.set(ar,pi));let yi=pi.get(Vt);yi===void 0&&(yi=l.getUniformBlockIndex(ar,Vt.name),pi.set(Vt,yi))}function ba(Vt,ar){const yi=v.get(ar).get(Vt);p.get(ar)!==yi&&(l.uniformBlockBinding(ar,yi,Vt.__bindingPointIndex),p.set(ar,yi))}function El(){l.disable(l.BLEND),l.disable(l.CULL_FACE),l.disable(l.DEPTH_TEST),l.disable(l.POLYGON_OFFSET_FILL),l.disable(l.SCISSOR_TEST),l.disable(l.STENCIL_TEST),l.disable(l.SAMPLE_ALPHA_TO_COVERAGE),l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ONE,l.ZERO),l.blendFuncSeparate(l.ONE,l.ZERO,l.ONE,l.ZERO),l.blendColor(0,0,0,0),l.colorMask(!0,!0,!0,!0),l.clearColor(0,0,0,0),l.depthMask(!0),l.depthFunc(l.LESS),l.clearDepth(1),l.stencilMask(4294967295),l.stencilFunc(l.ALWAYS,0,4294967295),l.stencilOp(l.KEEP,l.KEEP,l.KEEP),l.clearStencil(0),l.cullFace(l.BACK),l.frontFace(l.CCW),l.polygonOffset(0,0),l.activeTexture(l.TEXTURE0),l.bindFramebuffer(l.FRAMEBUFFER,null),l.bindFramebuffer(l.DRAW_FRAMEBUFFER,null),l.bindFramebuffer(l.READ_FRAMEBUFFER,null),l.useProgram(null),l.lineWidth(1),l.scissor(0,0,l.canvas.width,l.canvas.height),l.viewport(0,0,l.canvas.width,l.canvas.height),S={},Zn=null,Gr={},M={},A=new WeakMap,P=[],O=null,F=!1,W=null,B=null,N=null,se=null,Q=null,ae=null,St=null,Ne=new wr(0,0,0),Je=0,xt=!1,Te=null,pe=null,Ct=null,Tn=null,mn=null,ga.set(0,0,l.canvas.width,l.canvas.height),Va.set(0,0,l.canvas.width,l.canvas.height),s.reset(),a.reset(),d.reset()}return{buffers:{color:s,depth:a,stencil:d},enable:Es,disable:Pr,bindFramebuffer:No,drawBuffers:ua,useProgram:Fo,setBlending:or,setMaterial:$i,setFlipSided:Dr,setCullFace:di,setLineWidth:po,setPolygonOffset:Lr,setScissorTest:Ts,activeTexture:rt,bindTexture:ve,unbindTexture:xn,compressedTexImage2D:Di,compressedTexImage3D:Ai,texImage2D:os,texImage3D:Ia,updateUBOMapping:Qo,uniformBlockBinding:ba,texStorage2D:ta,texStorage3D:tr,texSubImage2D:wi,texSubImage3D:co,compressedTexSubImage2D:Tr,compressedTexSubImage3D:vs,scissor:$o,viewport:Rs,reset:El}}function D0(l,e){const t=l.image&&l.image.width?l.image.width/l.image.height:1;return t>e?(l.repeat.x=1,l.repeat.y=t/e,l.offset.x=0,l.offset.y=(1-l.repeat.y)/2):(l.repeat.x=e/t,l.repeat.y=1,l.offset.x=(1-l.repeat.x)/2,l.offset.y=0),l}function L0(l,e){const t=l.image&&l.image.width?l.image.width/l.image.height:1;return t>e?(l.repeat.x=e/t,l.repeat.y=1,l.offset.x=(1-l.repeat.x)/2,l.offset.y=0):(l.repeat.x=1,l.repeat.y=t/e,l.offset.x=0,l.offset.y=(1-l.repeat.y)/2),l}function N0(l){return l.repeat.x=1,l.repeat.y=1,l.offset.x=0,l.offset.y=0,l}function rm(l,e,t,i){const s=F0(i);switch(t){case As:return l*e;case wo:return l*e;case Mo:return l*e*2;case zn:return l*e/s.components*s.byteLength;case an:return l*e/s.components*s.byteLength;case Vn:return l*e*2/s.components*s.byteLength;case Dn:return l*e*2/s.components*s.byteLength;case yo:return l*e*3/s.components*s.byteLength;case Ss:return l*e*4/s.components*s.byteLength;case Ni:return l*e*4/s.components*s.byteLength;case Hr:case pr:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*8;case Ir:case vr:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*16;case so:case Ws:return Math.max(l,16)*Math.max(e,8)/4;case zs:case Xr:return Math.max(l,8)*Math.max(e,8)/2;case jo:case Js:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*8;case Qs:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*16;case _i:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*16;case eo:return Math.floor((l+4)/5)*Math.floor((e+3)/4)*16;case js:return Math.floor((l+4)/5)*Math.floor((e+4)/5)*16;case Ps:return Math.floor((l+5)/6)*Math.floor((e+4)/5)*16;case Vr:return Math.floor((l+5)/6)*Math.floor((e+5)/6)*16;case Wr:return Math.floor((l+7)/8)*Math.floor((e+4)/5)*16;case Hi:return Math.floor((l+7)/8)*Math.floor((e+5)/6)*16;case qr:return Math.floor((l+7)/8)*Math.floor((e+7)/8)*16;case Jr:return Math.floor((l+9)/10)*Math.floor((e+4)/5)*16;case gr:return Math.floor((l+9)/10)*Math.floor((e+5)/6)*16;case oo:return Math.floor((l+9)/10)*Math.floor((e+7)/8)*16;case Yi:return Math.floor((l+9)/10)*Math.floor((e+9)/10)*16;case to:return Math.floor((l+11)/12)*Math.floor((e+9)/10)*16;case Ho:return Math.floor((l+11)/12)*Math.floor((e+11)/12)*16;case Ns:case Zo:case Go:return Math.ceil(l/4)*Math.ceil(e/4)*16;case ys:case qi:return Math.ceil(l/4)*Math.ceil(e/4)*8;case Ui:case Ei:return Math.ceil(l/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function F0(l){switch(l){case _r:case hs:return{byteLength:1,components:1};case vt:case dt:case Li:return{byteLength:2,components:1};case Ds:case Sr:return{byteLength:2,components:4};case ti:case Ut:case Si:return{byteLength:4,components:1};case Us:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${l}.`)}const Jx={contain:D0,cover:L0,fill:N0,getByteLength:rm};function B0(l,e,t,i,s,a,d){const p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),S=new Zt,M=new WeakMap;let A;const P=new WeakMap;let O=!1;try{O=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(rt){}function F(rt,ve){return O?new OffscreenCanvas(rt,ve):$t("canvas")}function W(rt,ve,xn){let Di=1;const Ai=Ts(rt);if((Ai.width>xn||Ai.height>xn)&&(Di=xn/Math.max(Ai.width,Ai.height)),Di<1)if(typeof HTMLImageElement!="undefined"&&rt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&rt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&rt instanceof ImageBitmap||typeof VideoFrame!="undefined"&&rt instanceof VideoFrame){const wi=Math.floor(Di*Ai.width),co=Math.floor(Di*Ai.height);A===void 0&&(A=F(wi,co));const Tr=ve?F(wi,co):A;return Tr.width=wi,Tr.height=co,Tr.getContext("2d").drawImage(rt,0,0,wi,co),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ai.width+"x"+Ai.height+") to ("+wi+"x"+co+")."),Tr}else return"data"in rt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ai.width+"x"+Ai.height+")."),rt;return rt}function B(rt){return rt.generateMipmaps&&rt.minFilter!==gn&&rt.minFilter!==ds}function N(rt){l.generateMipmap(rt)}function se(rt,ve,xn,Di,Ai=!1){if(rt!==null){if(l[rt]!==void 0)return l[rt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+rt+"'")}let wi=ve;if(ve===l.RED&&(xn===l.FLOAT&&(wi=l.R32F),xn===l.HALF_FLOAT&&(wi=l.R16F),xn===l.UNSIGNED_BYTE&&(wi=l.R8)),ve===l.RED_INTEGER&&(xn===l.UNSIGNED_BYTE&&(wi=l.R8UI),xn===l.UNSIGNED_SHORT&&(wi=l.R16UI),xn===l.UNSIGNED_INT&&(wi=l.R32UI),xn===l.BYTE&&(wi=l.R8I),xn===l.SHORT&&(wi=l.R16I),xn===l.INT&&(wi=l.R32I)),ve===l.RG&&(xn===l.FLOAT&&(wi=l.RG32F),xn===l.HALF_FLOAT&&(wi=l.RG16F),xn===l.UNSIGNED_BYTE&&(wi=l.RG8)),ve===l.RG_INTEGER&&(xn===l.UNSIGNED_BYTE&&(wi=l.RG8UI),xn===l.UNSIGNED_SHORT&&(wi=l.RG16UI),xn===l.UNSIGNED_INT&&(wi=l.RG32UI),xn===l.BYTE&&(wi=l.RG8I),xn===l.SHORT&&(wi=l.RG16I),xn===l.INT&&(wi=l.RG32I)),ve===l.RGB&&xn===l.UNSIGNED_INT_5_9_9_9_REV&&(wi=l.RGB9_E5),ve===l.RGBA){const co=Ai?te:Ri.getTransfer(Di);xn===l.FLOAT&&(wi=l.RGBA32F),xn===l.HALF_FLOAT&&(wi=l.RGBA16F),xn===l.UNSIGNED_BYTE&&(wi=co===H?l.SRGB8_ALPHA8:l.RGBA8),xn===l.UNSIGNED_SHORT_4_4_4_4&&(wi=l.RGBA4),xn===l.UNSIGNED_SHORT_5_5_5_1&&(wi=l.RGB5_A1)}return(wi===l.R16F||wi===l.R32F||wi===l.RG16F||wi===l.RG32F||wi===l.RGBA16F||wi===l.RGBA32F)&&e.get("EXT_color_buffer_float"),wi}function Q(rt,ve){let xn;return rt?ve===null||ve===ti||ve===Ls?xn=l.DEPTH24_STENCIL8:ve===Si?xn=l.DEPTH32F_STENCIL8:ve===vt&&(xn=l.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ve===null||ve===ti||ve===Ls?xn=l.DEPTH_COMPONENT24:ve===Si?xn=l.DEPTH_COMPONENT32F:ve===vt&&(xn=l.DEPTH_COMPONENT16),xn}function ae(rt,ve){return B(rt)===!0||rt.isFramebufferTexture&&rt.minFilter!==gn&&rt.minFilter!==ds?Math.log2(Math.max(ve.width,ve.height))+1:rt.mipmaps!==void 0&&rt.mipmaps.length>0?rt.mipmaps.length:rt.isCompressedTexture&&Array.isArray(rt.image)?ve.mipmaps.length:1}function St(rt){const ve=rt.target;ve.removeEventListener("dispose",St),Je(ve),ve.isVideoTexture&&M.delete(ve)}function Ne(rt){const ve=rt.target;ve.removeEventListener("dispose",Ne),Te(ve)}function Je(rt){const ve=i.get(rt);if(ve.__webglInit===void 0)return;const xn=rt.source,Di=P.get(xn);if(Di){const Ai=Di[ve.__cacheKey];Ai.usedTimes--,Ai.usedTimes===0&&xt(rt),Object.keys(Di).length===0&&P.delete(xn)}i.remove(rt)}function xt(rt){const ve=i.get(rt);l.deleteTexture(ve.__webglTexture);const xn=rt.source,Di=P.get(xn);delete Di[ve.__cacheKey],d.memory.textures--}function Te(rt){const ve=i.get(rt);if(rt.depthTexture&&rt.depthTexture.dispose(),rt.isWebGLCubeRenderTarget)for(let Di=0;Di<6;Di++){if(Array.isArray(ve.__webglFramebuffer[Di]))for(let Ai=0;Ai<ve.__webglFramebuffer[Di].length;Ai++)l.deleteFramebuffer(ve.__webglFramebuffer[Di][Ai]);else l.deleteFramebuffer(ve.__webglFramebuffer[Di]);ve.__webglDepthbuffer&&l.deleteRenderbuffer(ve.__webglDepthbuffer[Di])}else{if(Array.isArray(ve.__webglFramebuffer))for(let Di=0;Di<ve.__webglFramebuffer.length;Di++)l.deleteFramebuffer(ve.__webglFramebuffer[Di]);else l.deleteFramebuffer(ve.__webglFramebuffer);if(ve.__webglDepthbuffer&&l.deleteRenderbuffer(ve.__webglDepthbuffer),ve.__webglMultisampledFramebuffer&&l.deleteFramebuffer(ve.__webglMultisampledFramebuffer),ve.__webglColorRenderbuffer)for(let Di=0;Di<ve.__webglColorRenderbuffer.length;Di++)ve.__webglColorRenderbuffer[Di]&&l.deleteRenderbuffer(ve.__webglColorRenderbuffer[Di]);ve.__webglDepthRenderbuffer&&l.deleteRenderbuffer(ve.__webglDepthRenderbuffer)}const xn=rt.textures;for(let Di=0,Ai=xn.length;Di<Ai;Di++){const wi=i.get(xn[Di]);wi.__webglTexture&&(l.deleteTexture(wi.__webglTexture),d.memory.textures--),i.remove(xn[Di])}i.remove(rt)}let pe=0;function Ct(){pe=0}function Tn(){const rt=pe;return rt>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+rt+" texture units while this GPU supports only "+s.maxTextures),pe+=1,rt}function mn(rt){const ve=[];return ve.push(rt.wrapS),ve.push(rt.wrapT),ve.push(rt.wrapR||0),ve.push(rt.magFilter),ve.push(rt.minFilter),ve.push(rt.anisotropy),ve.push(rt.internalFormat),ve.push(rt.format),ve.push(rt.type),ve.push(rt.generateMipmaps),ve.push(rt.premultiplyAlpha),ve.push(rt.flipY),ve.push(rt.unpackAlignment),ve.push(rt.colorSpace),ve.join()}function Ln(rt,ve){const xn=i.get(rt);if(rt.isVideoTexture&&po(rt),rt.isRenderTargetTexture===!1&&rt.version>0&&xn.__version!==rt.version){const Di=rt.image;if(Di===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Di.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Va(xn,rt,ve);return}}t.bindTexture(l.TEXTURE_2D,xn.__webglTexture,l.TEXTURE0+ve)}function fi(rt,ve){const xn=i.get(rt);if(rt.version>0&&xn.__version!==rt.version){Va(xn,rt,ve);return}t.bindTexture(l.TEXTURE_2D_ARRAY,xn.__webglTexture,l.TEXTURE0+ve)}function Un(rt,ve){const xn=i.get(rt);if(rt.version>0&&xn.__version!==rt.version){Va(xn,rt,ve);return}t.bindTexture(l.TEXTURE_3D,xn.__webglTexture,l.TEXTURE0+ve)}function ki(rt,ve){const xn=i.get(rt);if(rt.version>0&&xn.__version!==rt.version){ii(xn,rt,ve);return}t.bindTexture(l.TEXTURE_CUBE_MAP,xn.__webglTexture,l.TEXTURE0+ve)}const Zn={[Hn]:l.REPEAT,[ce]:l.CLAMP_TO_EDGE,[Qt]:l.MIRRORED_REPEAT},Gr={[gn]:l.NEAREST,[Ft]:l.NEAREST_MIPMAP_NEAREST,[Cn]:l.NEAREST_MIPMAP_LINEAR,[ds]:l.LINEAR,[io]:l.LINEAR_MIPMAP_NEAREST,[fr]:l.LINEAR_MIPMAP_LINEAR},us={[Dt]:l.NEVER,[Cs]:l.ALWAYS,[tn]:l.LESS,[yn]:l.LEQUAL,[Et]:l.EQUAL,[rr]:l.GEQUAL,[ni]:l.GREATER,[ji]:l.NOTEQUAL};function ms(rt,ve){if(ve.type===Si&&e.has("OES_texture_float_linear")===!1&&(ve.magFilter===ds||ve.magFilter===io||ve.magFilter===Cn||ve.magFilter===fr||ve.minFilter===ds||ve.minFilter===io||ve.minFilter===Cn||ve.minFilter===fr)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),l.texParameteri(rt,l.TEXTURE_WRAP_S,Zn[ve.wrapS]),l.texParameteri(rt,l.TEXTURE_WRAP_T,Zn[ve.wrapT]),(rt===l.TEXTURE_3D||rt===l.TEXTURE_2D_ARRAY)&&l.texParameteri(rt,l.TEXTURE_WRAP_R,Zn[ve.wrapR]),l.texParameteri(rt,l.TEXTURE_MAG_FILTER,Gr[ve.magFilter]),l.texParameteri(rt,l.TEXTURE_MIN_FILTER,Gr[ve.minFilter]),ve.compareFunction&&(l.texParameteri(rt,l.TEXTURE_COMPARE_MODE,l.COMPARE_REF_TO_TEXTURE),l.texParameteri(rt,l.TEXTURE_COMPARE_FUNC,us[ve.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ve.magFilter===gn||ve.minFilter!==Cn&&ve.minFilter!==fr||ve.type===Si&&e.has("OES_texture_float_linear")===!1)return;if(ve.anisotropy>1||i.get(ve).__currentAnisotropy){const xn=e.get("EXT_texture_filter_anisotropic");l.texParameterf(rt,xn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ve.anisotropy,s.getMaxAnisotropy())),i.get(ve).__currentAnisotropy=ve.anisotropy}}}function ga(rt,ve){let xn=!1;rt.__webglInit===void 0&&(rt.__webglInit=!0,ve.addEventListener("dispose",St));const Di=ve.source;let Ai=P.get(Di);Ai===void 0&&(Ai={},P.set(Di,Ai));const wi=mn(ve);if(wi!==rt.__cacheKey){Ai[wi]===void 0&&(Ai[wi]={texture:l.createTexture(),usedTimes:0},d.memory.textures++,xn=!0),Ai[wi].usedTimes++;const co=Ai[rt.__cacheKey];co!==void 0&&(Ai[rt.__cacheKey].usedTimes--,co.usedTimes===0&&xt(ve)),rt.__cacheKey=wi,rt.__webglTexture=Ai[wi].texture}return xn}function Va(rt,ve,xn){let Di=l.TEXTURE_2D;(ve.isDataArrayTexture||ve.isCompressedArrayTexture)&&(Di=l.TEXTURE_2D_ARRAY),ve.isData3DTexture&&(Di=l.TEXTURE_3D);const Ai=ga(rt,ve),wi=ve.source;t.bindTexture(Di,rt.__webglTexture,l.TEXTURE0+xn);const co=i.get(wi);if(wi.version!==co.__version||Ai===!0){t.activeTexture(l.TEXTURE0+xn);const Tr=Ri.getPrimaries(Ri.workingColorSpace),vs=ve.colorSpace===na?null:Ri.getPrimaries(ve.colorSpace),ta=ve.colorSpace===na||Tr===vs?l.NONE:l.BROWSER_DEFAULT_WEBGL;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,ve.flipY),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),l.pixelStorei(l.UNPACK_ALIGNMENT,ve.unpackAlignment),l.pixelStorei(l.UNPACK_COLORSPACE_CONVERSION_WEBGL,ta);let tr=W(ve.image,!1,s.maxTextureSize);tr=Lr(ve,tr);const os=a.convert(ve.format,ve.colorSpace),Ia=a.convert(ve.type);let $o=se(ve.internalFormat,os,Ia,ve.colorSpace,ve.isVideoTexture);ms(Di,ve);let Rs;const Qo=ve.mipmaps,ba=ve.isVideoTexture!==!0,El=co.__version===void 0||Ai===!0,Vt=wi.dataReady,ar=ae(ve,tr);if(ve.isDepthTexture)$o=Q(ve.format===Rn,ve.type),El&&(ba?t.texStorage2D(l.TEXTURE_2D,1,$o,tr.width,tr.height):t.texImage2D(l.TEXTURE_2D,0,$o,tr.width,tr.height,0,os,Ia,null));else if(ve.isDataTexture)if(Qo.length>0){ba&&El&&t.texStorage2D(l.TEXTURE_2D,ar,$o,Qo[0].width,Qo[0].height);for(let pi=0,yi=Qo.length;pi<yi;pi++)Rs=Qo[pi],ba?Vt&&t.texSubImage2D(l.TEXTURE_2D,pi,0,0,Rs.width,Rs.height,os,Ia,Rs.data):t.texImage2D(l.TEXTURE_2D,pi,$o,Rs.width,Rs.height,0,os,Ia,Rs.data);ve.generateMipmaps=!1}else ba?(El&&t.texStorage2D(l.TEXTURE_2D,ar,$o,tr.width,tr.height),Vt&&t.texSubImage2D(l.TEXTURE_2D,0,0,0,tr.width,tr.height,os,Ia,tr.data)):t.texImage2D(l.TEXTURE_2D,0,$o,tr.width,tr.height,0,os,Ia,tr.data);else if(ve.isCompressedTexture)if(ve.isCompressedArrayTexture){ba&&El&&t.texStorage3D(l.TEXTURE_2D_ARRAY,ar,$o,Qo[0].width,Qo[0].height,tr.depth);for(let pi=0,yi=Qo.length;pi<yi;pi++)if(Rs=Qo[pi],ve.format!==Ss)if(os!==null)if(ba){if(Vt)if(ve.layerUpdates.size>0){const xr=rm(Rs.width,Rs.height,ve.format,ve.type);for(const Io of ve.layerUpdates){const Na=Rs.data.subarray(Io*xr/Rs.data.BYTES_PER_ELEMENT,(Io+1)*xr/Rs.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(l.TEXTURE_2D_ARRAY,pi,0,0,Io,Rs.width,Rs.height,1,os,Na,0,0)}ve.clearLayerUpdates()}else t.compressedTexSubImage3D(l.TEXTURE_2D_ARRAY,pi,0,0,0,Rs.width,Rs.height,tr.depth,os,Rs.data,0,0)}else t.compressedTexImage3D(l.TEXTURE_2D_ARRAY,pi,$o,Rs.width,Rs.height,tr.depth,0,Rs.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ba?Vt&&t.texSubImage3D(l.TEXTURE_2D_ARRAY,pi,0,0,0,Rs.width,Rs.height,tr.depth,os,Ia,Rs.data):t.texImage3D(l.TEXTURE_2D_ARRAY,pi,$o,Rs.width,Rs.height,tr.depth,0,os,Ia,Rs.data)}else{ba&&El&&t.texStorage2D(l.TEXTURE_2D,ar,$o,Qo[0].width,Qo[0].height);for(let pi=0,yi=Qo.length;pi<yi;pi++)Rs=Qo[pi],ve.format!==Ss?os!==null?ba?Vt&&t.compressedTexSubImage2D(l.TEXTURE_2D,pi,0,0,Rs.width,Rs.height,os,Rs.data):t.compressedTexImage2D(l.TEXTURE_2D,pi,$o,Rs.width,Rs.height,0,Rs.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ba?Vt&&t.texSubImage2D(l.TEXTURE_2D,pi,0,0,Rs.width,Rs.height,os,Ia,Rs.data):t.texImage2D(l.TEXTURE_2D,pi,$o,Rs.width,Rs.height,0,os,Ia,Rs.data)}else if(ve.isDataArrayTexture)if(ba){if(El&&t.texStorage3D(l.TEXTURE_2D_ARRAY,ar,$o,tr.width,tr.height,tr.depth),Vt)if(ve.layerUpdates.size>0){const pi=rm(tr.width,tr.height,ve.format,ve.type);for(const yi of ve.layerUpdates){const xr=tr.data.subarray(yi*pi/tr.data.BYTES_PER_ELEMENT,(yi+1)*pi/tr.data.BYTES_PER_ELEMENT);t.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,yi,tr.width,tr.height,1,os,Ia,xr)}ve.clearLayerUpdates()}else t.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,0,tr.width,tr.height,tr.depth,os,Ia,tr.data)}else t.texImage3D(l.TEXTURE_2D_ARRAY,0,$o,tr.width,tr.height,tr.depth,0,os,Ia,tr.data);else if(ve.isData3DTexture)ba?(El&&t.texStorage3D(l.TEXTURE_3D,ar,$o,tr.width,tr.height,tr.depth),Vt&&t.texSubImage3D(l.TEXTURE_3D,0,0,0,0,tr.width,tr.height,tr.depth,os,Ia,tr.data)):t.texImage3D(l.TEXTURE_3D,0,$o,tr.width,tr.height,tr.depth,0,os,Ia,tr.data);else if(ve.isFramebufferTexture){if(El)if(ba)t.texStorage2D(l.TEXTURE_2D,ar,$o,tr.width,tr.height);else{let pi=tr.width,yi=tr.height;for(let xr=0;xr<ar;xr++)t.texImage2D(l.TEXTURE_2D,xr,$o,pi,yi,0,os,Ia,null),pi>>=1,yi>>=1}}else if(Qo.length>0){if(ba&&El){const pi=Ts(Qo[0]);t.texStorage2D(l.TEXTURE_2D,ar,$o,pi.width,pi.height)}for(let pi=0,yi=Qo.length;pi<yi;pi++)Rs=Qo[pi],ba?Vt&&t.texSubImage2D(l.TEXTURE_2D,pi,0,0,os,Ia,Rs):t.texImage2D(l.TEXTURE_2D,pi,$o,os,Ia,Rs);ve.generateMipmaps=!1}else if(ba){if(El){const pi=Ts(tr);t.texStorage2D(l.TEXTURE_2D,ar,$o,pi.width,pi.height)}Vt&&t.texSubImage2D(l.TEXTURE_2D,0,0,0,os,Ia,tr)}else t.texImage2D(l.TEXTURE_2D,0,$o,os,Ia,tr);B(ve)&&N(Di),co.__version=wi.version,ve.onUpdate&&ve.onUpdate(ve)}rt.__version=ve.version}function ii(rt,ve,xn){if(ve.image.length!==6)return;const Di=ga(rt,ve),Ai=ve.source;t.bindTexture(l.TEXTURE_CUBE_MAP,rt.__webglTexture,l.TEXTURE0+xn);const wi=i.get(Ai);if(Ai.version!==wi.__version||Di===!0){t.activeTexture(l.TEXTURE0+xn);const co=Ri.getPrimaries(Ri.workingColorSpace),Tr=ve.colorSpace===na?null:Ri.getPrimaries(ve.colorSpace),vs=ve.colorSpace===na||co===Tr?l.NONE:l.BROWSER_DEFAULT_WEBGL;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,ve.flipY),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),l.pixelStorei(l.UNPACK_ALIGNMENT,ve.unpackAlignment),l.pixelStorei(l.UNPACK_COLORSPACE_CONVERSION_WEBGL,vs);const ta=ve.isCompressedTexture||ve.image[0].isCompressedTexture,tr=ve.image[0]&&ve.image[0].isDataTexture,os=[];for(let yi=0;yi<6;yi++)!ta&&!tr?os[yi]=W(ve.image[yi],!0,s.maxCubemapSize):os[yi]=tr?ve.image[yi].image:ve.image[yi],os[yi]=Lr(ve,os[yi]);const Ia=os[0],$o=a.convert(ve.format,ve.colorSpace),Rs=a.convert(ve.type),Qo=se(ve.internalFormat,$o,Rs,ve.colorSpace),ba=ve.isVideoTexture!==!0,El=wi.__version===void 0||Di===!0,Vt=Ai.dataReady;let ar=ae(ve,Ia);ms(l.TEXTURE_CUBE_MAP,ve);let pi;if(ta){ba&&El&&t.texStorage2D(l.TEXTURE_CUBE_MAP,ar,Qo,Ia.width,Ia.height);for(let yi=0;yi<6;yi++){pi=os[yi].mipmaps;for(let xr=0;xr<pi.length;xr++){const Io=pi[xr];ve.format!==Ss?$o!==null?ba?Vt&&t.compressedTexSubImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr,0,0,Io.width,Io.height,$o,Io.data):t.compressedTexImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr,Qo,Io.width,Io.height,0,Io.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ba?Vt&&t.texSubImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr,0,0,Io.width,Io.height,$o,Rs,Io.data):t.texImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr,Qo,Io.width,Io.height,0,$o,Rs,Io.data)}}}else{if(pi=ve.mipmaps,ba&&El){pi.length>0&&ar++;const yi=Ts(os[0]);t.texStorage2D(l.TEXTURE_CUBE_MAP,ar,Qo,yi.width,yi.height)}for(let yi=0;yi<6;yi++)if(tr){ba?Vt&&t.texSubImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,0,0,0,os[yi].width,os[yi].height,$o,Rs,os[yi].data):t.texImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,0,Qo,os[yi].width,os[yi].height,0,$o,Rs,os[yi].data);for(let xr=0;xr<pi.length;xr++){const Na=pi[xr].image[yi].image;ba?Vt&&t.texSubImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr+1,0,0,Na.width,Na.height,$o,Rs,Na.data):t.texImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr+1,Qo,Na.width,Na.height,0,$o,Rs,Na.data)}}else{ba?Vt&&t.texSubImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,0,0,0,$o,Rs,os[yi]):t.texImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,0,Qo,$o,Rs,os[yi]);for(let xr=0;xr<pi.length;xr++){const Io=pi[xr];ba?Vt&&t.texSubImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr+1,0,0,$o,Rs,Io.image[yi]):t.texImage2D(l.TEXTURE_CUBE_MAP_POSITIVE_X+yi,xr+1,Qo,$o,Rs,Io.image[yi])}}}B(ve)&&N(l.TEXTURE_CUBE_MAP),wi.__version=Ai.version,ve.onUpdate&&ve.onUpdate(ve)}rt.__version=ve.version}function er(rt,ve,xn,Di,Ai,wi){const co=a.convert(xn.format,xn.colorSpace),Tr=a.convert(xn.type),vs=se(xn.internalFormat,co,Tr,xn.colorSpace);if(!i.get(ve).__hasExternalTextures){const tr=Math.max(1,ve.width>>wi),os=Math.max(1,ve.height>>wi);Ai===l.TEXTURE_3D||Ai===l.TEXTURE_2D_ARRAY?t.texImage3D(Ai,wi,vs,tr,os,ve.depth,0,co,Tr,null):t.texImage2D(Ai,wi,vs,tr,os,0,co,Tr,null)}t.bindFramebuffer(l.FRAMEBUFFER,rt),di(ve)?p.framebufferTexture2DMultisampleEXT(l.FRAMEBUFFER,Di,Ai,i.get(xn).__webglTexture,0,Dr(ve)):(Ai===l.TEXTURE_2D||Ai>=l.TEXTURE_CUBE_MAP_POSITIVE_X&&Ai<=l.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&l.framebufferTexture2D(l.FRAMEBUFFER,Di,Ai,i.get(xn).__webglTexture,wi),t.bindFramebuffer(l.FRAMEBUFFER,null)}function Es(rt,ve,xn){if(l.bindRenderbuffer(l.RENDERBUFFER,rt),ve.depthBuffer){const Di=ve.depthTexture,Ai=Di&&Di.isDepthTexture?Di.type:null,wi=Q(ve.stencilBuffer,Ai),co=ve.stencilBuffer?l.DEPTH_STENCIL_ATTACHMENT:l.DEPTH_ATTACHMENT,Tr=Dr(ve);di(ve)?p.renderbufferStorageMultisampleEXT(l.RENDERBUFFER,Tr,wi,ve.width,ve.height):xn?l.renderbufferStorageMultisample(l.RENDERBUFFER,Tr,wi,ve.width,ve.height):l.renderbufferStorage(l.RENDERBUFFER,wi,ve.width,ve.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,co,l.RENDERBUFFER,rt)}else{const Di=ve.textures;for(let Ai=0;Ai<Di.length;Ai++){const wi=Di[Ai],co=a.convert(wi.format,wi.colorSpace),Tr=a.convert(wi.type),vs=se(wi.internalFormat,co,Tr,wi.colorSpace),ta=Dr(ve);xn&&di(ve)===!1?l.renderbufferStorageMultisample(l.RENDERBUFFER,ta,vs,ve.width,ve.height):di(ve)?p.renderbufferStorageMultisampleEXT(l.RENDERBUFFER,ta,vs,ve.width,ve.height):l.renderbufferStorage(l.RENDERBUFFER,vs,ve.width,ve.height)}}l.bindRenderbuffer(l.RENDERBUFFER,null)}function Pr(rt,ve){if(ve&&ve.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(l.FRAMEBUFFER,rt),!(ve.depthTexture&&ve.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(ve.depthTexture).__webglTexture||ve.depthTexture.image.width!==ve.width||ve.depthTexture.image.height!==ve.height)&&(ve.depthTexture.image.width=ve.width,ve.depthTexture.image.height=ve.height,ve.depthTexture.needsUpdate=!0),Ln(ve.depthTexture,0);const Di=i.get(ve.depthTexture).__webglTexture,Ai=Dr(ve);if(ve.depthTexture.format===It)di(ve)?p.framebufferTexture2DMultisampleEXT(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.TEXTURE_2D,Di,0,Ai):l.framebufferTexture2D(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.TEXTURE_2D,Di,0);else if(ve.depthTexture.format===Rn)di(ve)?p.framebufferTexture2DMultisampleEXT(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.TEXTURE_2D,Di,0,Ai):l.framebufferTexture2D(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.TEXTURE_2D,Di,0);else throw new Error("Unknown depthTexture format")}function No(rt){const ve=i.get(rt),xn=rt.isWebGLCubeRenderTarget===!0;if(rt.depthTexture&&!ve.__autoAllocateDepthBuffer){if(xn)throw new Error("target.depthTexture not supported in Cube render targets");Pr(ve.__webglFramebuffer,rt)}else if(xn){ve.__webglDepthbuffer=[];for(let Di=0;Di<6;Di++)t.bindFramebuffer(l.FRAMEBUFFER,ve.__webglFramebuffer[Di]),ve.__webglDepthbuffer[Di]=l.createRenderbuffer(),Es(ve.__webglDepthbuffer[Di],rt,!1)}else t.bindFramebuffer(l.FRAMEBUFFER,ve.__webglFramebuffer),ve.__webglDepthbuffer=l.createRenderbuffer(),Es(ve.__webglDepthbuffer,rt,!1);t.bindFramebuffer(l.FRAMEBUFFER,null)}function ua(rt,ve,xn){const Di=i.get(rt);ve!==void 0&&er(Di.__webglFramebuffer,rt,rt.texture,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,0),xn!==void 0&&No(rt)}function Fo(rt){const ve=rt.texture,xn=i.get(rt),Di=i.get(ve);rt.addEventListener("dispose",Ne);const Ai=rt.textures,wi=rt.isWebGLCubeRenderTarget===!0,co=Ai.length>1;if(co||(Di.__webglTexture===void 0&&(Di.__webglTexture=l.createTexture()),Di.__version=ve.version,d.memory.textures++),wi){xn.__webglFramebuffer=[];for(let Tr=0;Tr<6;Tr++)if(ve.mipmaps&&ve.mipmaps.length>0){xn.__webglFramebuffer[Tr]=[];for(let vs=0;vs<ve.mipmaps.length;vs++)xn.__webglFramebuffer[Tr][vs]=l.createFramebuffer()}else xn.__webglFramebuffer[Tr]=l.createFramebuffer()}else{if(ve.mipmaps&&ve.mipmaps.length>0){xn.__webglFramebuffer=[];for(let Tr=0;Tr<ve.mipmaps.length;Tr++)xn.__webglFramebuffer[Tr]=l.createFramebuffer()}else xn.__webglFramebuffer=l.createFramebuffer();if(co)for(let Tr=0,vs=Ai.length;Tr<vs;Tr++){const ta=i.get(Ai[Tr]);ta.__webglTexture===void 0&&(ta.__webglTexture=l.createTexture(),d.memory.textures++)}if(rt.samples>0&&di(rt)===!1){xn.__webglMultisampledFramebuffer=l.createFramebuffer(),xn.__webglColorRenderbuffer=[],t.bindFramebuffer(l.FRAMEBUFFER,xn.__webglMultisampledFramebuffer);for(let Tr=0;Tr<Ai.length;Tr++){const vs=Ai[Tr];xn.__webglColorRenderbuffer[Tr]=l.createRenderbuffer(),l.bindRenderbuffer(l.RENDERBUFFER,xn.__webglColorRenderbuffer[Tr]);const ta=a.convert(vs.format,vs.colorSpace),tr=a.convert(vs.type),os=se(vs.internalFormat,ta,tr,vs.colorSpace,rt.isXRRenderTarget===!0),Ia=Dr(rt);l.renderbufferStorageMultisample(l.RENDERBUFFER,Ia,os,rt.width,rt.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0+Tr,l.RENDERBUFFER,xn.__webglColorRenderbuffer[Tr])}l.bindRenderbuffer(l.RENDERBUFFER,null),rt.depthBuffer&&(xn.__webglDepthRenderbuffer=l.createRenderbuffer(),Es(xn.__webglDepthRenderbuffer,rt,!0)),t.bindFramebuffer(l.FRAMEBUFFER,null)}}if(wi){t.bindTexture(l.TEXTURE_CUBE_MAP,Di.__webglTexture),ms(l.TEXTURE_CUBE_MAP,ve);for(let Tr=0;Tr<6;Tr++)if(ve.mipmaps&&ve.mipmaps.length>0)for(let vs=0;vs<ve.mipmaps.length;vs++)er(xn.__webglFramebuffer[Tr][vs],rt,ve,l.COLOR_ATTACHMENT0,l.TEXTURE_CUBE_MAP_POSITIVE_X+Tr,vs);else er(xn.__webglFramebuffer[Tr],rt,ve,l.COLOR_ATTACHMENT0,l.TEXTURE_CUBE_MAP_POSITIVE_X+Tr,0);B(ve)&&N(l.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(co){for(let Tr=0,vs=Ai.length;Tr<vs;Tr++){const ta=Ai[Tr],tr=i.get(ta);t.bindTexture(l.TEXTURE_2D,tr.__webglTexture),ms(l.TEXTURE_2D,ta),er(xn.__webglFramebuffer,rt,ta,l.COLOR_ATTACHMENT0+Tr,l.TEXTURE_2D,0),B(ta)&&N(l.TEXTURE_2D)}t.unbindTexture()}else{let Tr=l.TEXTURE_2D;if((rt.isWebGL3DRenderTarget||rt.isWebGLArrayRenderTarget)&&(Tr=rt.isWebGL3DRenderTarget?l.TEXTURE_3D:l.TEXTURE_2D_ARRAY),t.bindTexture(Tr,Di.__webglTexture),ms(Tr,ve),ve.mipmaps&&ve.mipmaps.length>0)for(let vs=0;vs<ve.mipmaps.length;vs++)er(xn.__webglFramebuffer[vs],rt,ve,l.COLOR_ATTACHMENT0,Tr,vs);else er(xn.__webglFramebuffer,rt,ve,l.COLOR_ATTACHMENT0,Tr,0);B(ve)&&N(Tr),t.unbindTexture()}rt.depthBuffer&&No(rt)}function za(rt){const ve=rt.textures;for(let xn=0,Di=ve.length;xn<Di;xn++){const Ai=ve[xn];if(B(Ai)){const wi=rt.isWebGLCubeRenderTarget?l.TEXTURE_CUBE_MAP:l.TEXTURE_2D,co=i.get(Ai).__webglTexture;t.bindTexture(wi,co),N(wi),t.unbindTexture()}}}const ke=[],or=[];function $i(rt){if(rt.samples>0){if(di(rt)===!1){const ve=rt.textures,xn=rt.width,Di=rt.height;let Ai=l.COLOR_BUFFER_BIT;const wi=rt.stencilBuffer?l.DEPTH_STENCIL_ATTACHMENT:l.DEPTH_ATTACHMENT,co=i.get(rt),Tr=ve.length>1;if(Tr)for(let vs=0;vs<ve.length;vs++)t.bindFramebuffer(l.FRAMEBUFFER,co.__webglMultisampledFramebuffer),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0+vs,l.RENDERBUFFER,null),t.bindFramebuffer(l.FRAMEBUFFER,co.__webglFramebuffer),l.framebufferTexture2D(l.DRAW_FRAMEBUFFER,l.COLOR_ATTACHMENT0+vs,l.TEXTURE_2D,null,0);t.bindFramebuffer(l.READ_FRAMEBUFFER,co.__webglMultisampledFramebuffer),t.bindFramebuffer(l.DRAW_FRAMEBUFFER,co.__webglFramebuffer);for(let vs=0;vs<ve.length;vs++){if(rt.resolveDepthBuffer&&(rt.depthBuffer&&(Ai|=l.DEPTH_BUFFER_BIT),rt.stencilBuffer&&rt.resolveStencilBuffer&&(Ai|=l.STENCIL_BUFFER_BIT)),Tr){l.framebufferRenderbuffer(l.READ_FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.RENDERBUFFER,co.__webglColorRenderbuffer[vs]);const ta=i.get(ve[vs]).__webglTexture;l.framebufferTexture2D(l.DRAW_FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,ta,0)}l.blitFramebuffer(0,0,xn,Di,0,0,xn,Di,Ai,l.NEAREST),v===!0&&(ke.length=0,or.length=0,ke.push(l.COLOR_ATTACHMENT0+vs),rt.depthBuffer&&rt.resolveDepthBuffer===!1&&(ke.push(wi),or.push(wi),l.invalidateFramebuffer(l.DRAW_FRAMEBUFFER,or)),l.invalidateFramebuffer(l.READ_FRAMEBUFFER,ke))}if(t.bindFramebuffer(l.READ_FRAMEBUFFER,null),t.bindFramebuffer(l.DRAW_FRAMEBUFFER,null),Tr)for(let vs=0;vs<ve.length;vs++){t.bindFramebuffer(l.FRAMEBUFFER,co.__webglMultisampledFramebuffer),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0+vs,l.RENDERBUFFER,co.__webglColorRenderbuffer[vs]);const ta=i.get(ve[vs]).__webglTexture;t.bindFramebuffer(l.FRAMEBUFFER,co.__webglFramebuffer),l.framebufferTexture2D(l.DRAW_FRAMEBUFFER,l.COLOR_ATTACHMENT0+vs,l.TEXTURE_2D,ta,0)}t.bindFramebuffer(l.DRAW_FRAMEBUFFER,co.__webglMultisampledFramebuffer)}else if(rt.depthBuffer&&rt.resolveDepthBuffer===!1&&v){const ve=rt.stencilBuffer?l.DEPTH_STENCIL_ATTACHMENT:l.DEPTH_ATTACHMENT;l.invalidateFramebuffer(l.DRAW_FRAMEBUFFER,[ve])}}}function Dr(rt){return Math.min(s.maxSamples,rt.samples)}function di(rt){const ve=i.get(rt);return rt.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ve.__useRenderToTexture!==!1}function po(rt){const ve=d.render.frame;M.get(rt)!==ve&&(M.set(rt,ve),rt.update())}function Lr(rt,ve){const xn=rt.colorSpace,Di=rt.format,Ai=rt.type;return rt.isCompressedTexture===!0||rt.isVideoTexture===!0||xn!==$a&&xn!==na&&(Ri.getTransfer(xn)===H?(Di!==Ss||Ai!==_r)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",xn)),ve}function Ts(rt){return typeof HTMLImageElement!="undefined"&&rt instanceof HTMLImageElement?(S.width=rt.naturalWidth||rt.width,S.height=rt.naturalHeight||rt.height):typeof VideoFrame!="undefined"&&rt instanceof VideoFrame?(S.width=rt.displayWidth,S.height=rt.displayHeight):(S.width=rt.width,S.height=rt.height),S}this.allocateTextureUnit=Tn,this.resetTextureUnits=Ct,this.setTexture2D=Ln,this.setTexture2DArray=fi,this.setTexture3D=Un,this.setTextureCube=ki,this.rebindTextures=ua,this.setupRenderTarget=Fo,this.updateRenderTargetMipmap=za,this.updateMultisampleRenderTarget=$i,this.setupDepthRenderbuffer=No,this.setupFrameBufferTexture=er,this.useMultisampledRTT=di}function U0(l,e){function t(i,s=na){let a;const d=Ri.getTransfer(s);if(i===_r)return l.UNSIGNED_BYTE;if(i===Ds)return l.UNSIGNED_SHORT_4_4_4_4;if(i===Sr)return l.UNSIGNED_SHORT_5_5_5_1;if(i===Us)return l.UNSIGNED_INT_5_9_9_9_REV;if(i===hs)return l.BYTE;if(i===dt)return l.SHORT;if(i===vt)return l.UNSIGNED_SHORT;if(i===Ut)return l.INT;if(i===ti)return l.UNSIGNED_INT;if(i===Si)return l.FLOAT;if(i===Li)return l.HALF_FLOAT;if(i===As)return l.ALPHA;if(i===yo)return l.RGB;if(i===Ss)return l.RGBA;if(i===wo)return l.LUMINANCE;if(i===Mo)return l.LUMINANCE_ALPHA;if(i===It)return l.DEPTH_COMPONENT;if(i===Rn)return l.DEPTH_STENCIL;if(i===zn)return l.RED;if(i===an)return l.RED_INTEGER;if(i===Vn)return l.RG;if(i===Dn)return l.RG_INTEGER;if(i===Ni)return l.RGBA_INTEGER;if(i===Hr||i===pr||i===Ir||i===vr)if(d===H)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Hr)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===pr)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ir)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===vr)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Hr)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===pr)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ir)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===vr)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===zs||i===so||i===Xr||i===Ws)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===zs)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===so)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Xr)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Ws)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===jo||i===Js||i===Qs)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===jo||i===Js)return d===H?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===Qs)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===_i||i===eo||i===js||i===Ps||i===Vr||i===Wr||i===Hi||i===qr||i===Jr||i===gr||i===oo||i===Yi||i===to||i===Ho)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===_i)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===eo)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===js)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Ps)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Vr)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Wr)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Hi)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===qr)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Jr)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===gr)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===oo)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Yi)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===to)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Ho)return d===H?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ns||i===Zo||i===Go)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===Ns)return d===H?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Zo)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Go)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===ys||i===qi||i===Ui||i===Ei)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===Ns)return a.COMPRESSED_RED_RGTC1_EXT;if(i===qi)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Ui)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Ei)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Ls?l.UNSIGNED_INT_24_8:l[i]!==void 0?l[i]:null}return{convert:t}}class z0 extends jl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class $p extends sl{constructor(){super(),this.isGroup=!0,this.type="Group"}}const k0={type:"move"};class sm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $p,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $p,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new je,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new je),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $p,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new je,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new je),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let s=null,a=null,d=null;const p=this._targetRay,v=this._grip,S=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(S&&e.hand){d=!0;for(const W of e.hand.values()){const B=t.getJointPose(W,i),N=this._getHandJoint(S,W);B!==null&&(N.matrix.fromArray(B.transform.matrix),N.matrix.decompose(N.position,N.rotation,N.scale),N.matrixWorldNeedsUpdate=!0,N.jointRadius=B.radius),N.visible=B!==null}const M=S.joints["index-finger-tip"],A=S.joints["thumb-tip"],P=M.position.distanceTo(A.position),O=.02,F=.005;S.inputState.pinching&&P>O+F?(S.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!S.inputState.pinching&&P<=O-F&&(S.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else v!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(v.matrix.fromArray(a.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,a.linearVelocity?(v.hasLinearVelocity=!0,v.linearVelocity.copy(a.linearVelocity)):v.hasLinearVelocity=!1,a.angularVelocity?(v.hasAngularVelocity=!0,v.angularVelocity.copy(a.angularVelocity)):v.hasAngularVelocity=!1));p!==null&&(s=t.getPose(e.targetRaySpace,i),s===null&&a!==null&&(s=a),s!==null&&(p.matrix.fromArray(s.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,s.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(s.linearVelocity)):p.hasLinearVelocity=!1,s.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(s.angularVelocity)):p.hasAngularVelocity=!1,this.dispatchEvent(k0)))}return p!==null&&(p.visible=s!==null),v!==null&&(v.visible=a!==null),S!==null&&(S.visible=d!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new $p;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}const $0=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,H0=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class V0{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const s=new el,a=e.properties.get(s);a.__webglTexture=t.texture,(t.depthNear!=i.depthNear||t.depthFar!=i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Vc({vertexShader:$0,fragmentShader:H0,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ql(new sh(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class W0 extends Qn{constructor(e,t){super();const i=this;let s=null,a=1,d=null,p="local-floor",v=1,S=null,M=null,A=null,P=null,O=null,F=null;const W=new V0,B=t.getContextAttributes();let N=null,se=null;const Q=[],ae=[],St=new Zt;let Ne=null;const Je=new jl;Je.layers.enable(1),Je.viewport=new ao;const xt=new jl;xt.layers.enable(2),xt.viewport=new ao;const Te=[Je,xt],pe=new z0;pe.layers.enable(1),pe.layers.enable(2);let Ct=null,Tn=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ii){let er=Q[ii];return er===void 0&&(er=new sm,Q[ii]=er),er.getTargetRaySpace()},this.getControllerGrip=function(ii){let er=Q[ii];return er===void 0&&(er=new sm,Q[ii]=er),er.getGripSpace()},this.getHand=function(ii){let er=Q[ii];return er===void 0&&(er=new sm,Q[ii]=er),er.getHandSpace()};function mn(ii){const er=ae.indexOf(ii.inputSource);if(er===-1)return;const Es=Q[er];Es!==void 0&&(Es.update(ii.inputSource,ii.frame,S||d),Es.dispatchEvent({type:ii.type,data:ii.inputSource}))}function Ln(){s.removeEventListener("select",mn),s.removeEventListener("selectstart",mn),s.removeEventListener("selectend",mn),s.removeEventListener("squeeze",mn),s.removeEventListener("squeezestart",mn),s.removeEventListener("squeezeend",mn),s.removeEventListener("end",Ln),s.removeEventListener("inputsourceschange",fi);for(let ii=0;ii<Q.length;ii++){const er=ae[ii];er!==null&&(ae[ii]=null,Q[ii].disconnect(er))}Ct=null,Tn=null,W.reset(),e.setRenderTarget(N),O=null,P=null,A=null,s=null,se=null,Va.stop(),i.isPresenting=!1,e.setPixelRatio(Ne),e.setSize(St.width,St.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ii){a=ii,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ii){p=ii,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return S||d},this.setReferenceSpace=function(ii){S=ii},this.getBaseLayer=function(){return P!==null?P:O},this.getBinding=function(){return A},this.getFrame=function(){return F},this.getSession=function(){return s},this.setSession=function(ii){return Tl(this,null,function*(){if(s=ii,s!==null){if(N=e.getRenderTarget(),s.addEventListener("select",mn),s.addEventListener("selectstart",mn),s.addEventListener("selectend",mn),s.addEventListener("squeeze",mn),s.addEventListener("squeezestart",mn),s.addEventListener("squeezeend",mn),s.addEventListener("end",Ln),s.addEventListener("inputsourceschange",fi),B.xrCompatible!==!0&&(yield t.makeXRCompatible()),Ne=e.getPixelRatio(),e.getSize(St),s.renderState.layers===void 0){const er={antialias:B.antialias,alpha:!0,depth:B.depth,stencil:B.stencil,framebufferScaleFactor:a};O=new XRWebGLLayer(s,t,er),s.updateRenderState({baseLayer:O}),e.setPixelRatio(1),e.setSize(O.framebufferWidth,O.framebufferHeight,!1),se=new Sl(O.framebufferWidth,O.framebufferHeight,{format:Ss,type:_r,colorSpace:e.outputColorSpace,stencilBuffer:B.stencil})}else{let er=null,Es=null,Pr=null;B.depth&&(Pr=B.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,er=B.stencil?Rn:It,Es=B.stencil?Ls:ti);const No={colorFormat:t.RGBA8,depthFormat:Pr,scaleFactor:a};A=new XRWebGLBinding(s,t),P=A.createProjectionLayer(No),s.updateRenderState({layers:[P]}),e.setPixelRatio(1),e.setSize(P.textureWidth,P.textureHeight,!1),se=new Sl(P.textureWidth,P.textureHeight,{format:Ss,type:_r,depthTexture:new Ii(P.textureWidth,P.textureHeight,Es,void 0,void 0,void 0,void 0,void 0,void 0,er),stencilBuffer:B.stencil,colorSpace:e.outputColorSpace,samples:B.antialias?4:0,resolveDepthBuffer:P.ignoreDepthValues===!1})}se.isXRRenderTarget=!0,this.setFoveation(v),S=null,d=yield s.requestReferenceSpace(p),Va.setContext(s),Va.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return W.getDepthTexture()};function fi(ii){for(let er=0;er<ii.removed.length;er++){const Es=ii.removed[er],Pr=ae.indexOf(Es);Pr>=0&&(ae[Pr]=null,Q[Pr].disconnect(Es))}for(let er=0;er<ii.added.length;er++){const Es=ii.added[er];let Pr=ae.indexOf(Es);if(Pr===-1){for(let ua=0;ua<Q.length;ua++)if(ua>=ae.length){ae.push(Es),Pr=ua;break}else if(ae[ua]===null){ae[ua]=Es,Pr=ua;break}if(Pr===-1)break}const No=Q[Pr];No&&No.connect(Es)}}const Un=new je,ki=new je;function Zn(ii,er,Es){Un.setFromMatrixPosition(er.matrixWorld),ki.setFromMatrixPosition(Es.matrixWorld);const Pr=Un.distanceTo(ki),No=er.projectionMatrix.elements,ua=Es.projectionMatrix.elements,Fo=No[14]/(No[10]-1),za=No[14]/(No[10]+1),ke=(No[9]+1)/No[5],or=(No[9]-1)/No[5],$i=(No[8]-1)/No[0],Dr=(ua[8]+1)/ua[0],di=Fo*$i,po=Fo*Dr,Lr=Pr/(-$i+Dr),Ts=Lr*-$i;er.matrixWorld.decompose(ii.position,ii.quaternion,ii.scale),ii.translateX(Ts),ii.translateZ(Lr),ii.matrixWorld.compose(ii.position,ii.quaternion,ii.scale),ii.matrixWorldInverse.copy(ii.matrixWorld).invert();const rt=Fo+Lr,ve=za+Lr,xn=di-Ts,Di=po+(Pr-Ts),Ai=ke*za/ve*rt,wi=or*za/ve*rt;ii.projectionMatrix.makePerspective(xn,Di,Ai,wi,rt,ve),ii.projectionMatrixInverse.copy(ii.projectionMatrix).invert()}function Gr(ii,er){er===null?ii.matrixWorld.copy(ii.matrix):ii.matrixWorld.multiplyMatrices(er.matrixWorld,ii.matrix),ii.matrixWorldInverse.copy(ii.matrixWorld).invert()}this.updateCamera=function(ii){if(s===null)return;W.texture!==null&&(ii.near=W.depthNear,ii.far=W.depthFar),pe.near=xt.near=Je.near=ii.near,pe.far=xt.far=Je.far=ii.far,(Ct!==pe.near||Tn!==pe.far)&&(s.updateRenderState({depthNear:pe.near,depthFar:pe.far}),Ct=pe.near,Tn=pe.far,Je.near=Ct,Je.far=Tn,xt.near=Ct,xt.far=Tn,Je.updateProjectionMatrix(),xt.updateProjectionMatrix(),ii.updateProjectionMatrix());const er=ii.parent,Es=pe.cameras;Gr(pe,er);for(let Pr=0;Pr<Es.length;Pr++)Gr(Es[Pr],er);Es.length===2?Zn(pe,Je,xt):pe.projectionMatrix.copy(Je.projectionMatrix),us(ii,pe,er)};function us(ii,er,Es){Es===null?ii.matrix.copy(er.matrixWorld):(ii.matrix.copy(Es.matrixWorld),ii.matrix.invert(),ii.matrix.multiply(er.matrixWorld)),ii.matrix.decompose(ii.position,ii.quaternion,ii.scale),ii.updateMatrixWorld(!0),ii.projectionMatrix.copy(er.projectionMatrix),ii.projectionMatrixInverse.copy(er.projectionMatrixInverse),ii.isPerspectiveCamera&&(ii.fov=Gi*2*Math.atan(1/ii.projectionMatrix.elements[5]),ii.zoom=1)}this.getCamera=function(){return pe},this.getFoveation=function(){if(!(P===null&&O===null))return v},this.setFoveation=function(ii){v=ii,P!==null&&(P.fixedFoveation=ii),O!==null&&O.fixedFoveation!==void 0&&(O.fixedFoveation=ii)},this.hasDepthSensing=function(){return W.texture!==null},this.getDepthSensingMesh=function(){return W.getMesh(pe)};let ms=null;function ga(ii,er){if(M=er.getViewerPose(S||d),F=er,M!==null){const Es=M.views;O!==null&&(e.setRenderTargetFramebuffer(se,O.framebuffer),e.setRenderTarget(se));let Pr=!1;Es.length!==pe.cameras.length&&(pe.cameras.length=0,Pr=!0);for(let ua=0;ua<Es.length;ua++){const Fo=Es[ua];let za=null;if(O!==null)za=O.getViewport(Fo);else{const or=A.getViewSubImage(P,Fo);za=or.viewport,ua===0&&(e.setRenderTargetTextures(se,or.colorTexture,P.ignoreDepthValues?void 0:or.depthStencilTexture),e.setRenderTarget(se))}let ke=Te[ua];ke===void 0&&(ke=new jl,ke.layers.enable(ua),ke.viewport=new ao,Te[ua]=ke),ke.matrix.fromArray(Fo.transform.matrix),ke.matrix.decompose(ke.position,ke.quaternion,ke.scale),ke.projectionMatrix.fromArray(Fo.projectionMatrix),ke.projectionMatrixInverse.copy(ke.projectionMatrix).invert(),ke.viewport.set(za.x,za.y,za.width,za.height),ua===0&&(pe.matrix.copy(ke.matrix),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale)),Pr===!0&&pe.cameras.push(ke)}const No=s.enabledFeatures;if(No&&No.includes("depth-sensing")){const ua=A.getDepthInformation(Es[0]);ua&&ua.isValid&&ua.texture&&W.init(e,ua,s.renderState)}}for(let Es=0;Es<Q.length;Es++){const Pr=ae[Es],No=Q[Es];Pr!==null&&No!==void 0&&No.update(Pr,er,S||d)}ms&&ms(ii,er),er.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:er}),F=null}const Va=new Df;Va.setAnimationLoop(ga),this.setAnimationLoop=function(ii){ms=ii},this.dispose=function(){}}}const of=new tl,j0=new qs;function Z0(l,e){function t(B,N){B.matrixAutoUpdate===!0&&B.updateMatrix(),N.value.copy(B.matrix)}function i(B,N){N.color.getRGB(B.fogColor.value,Pf(l)),N.isFog?(B.fogNear.value=N.near,B.fogFar.value=N.far):N.isFogExp2&&(B.fogDensity.value=N.density)}function s(B,N,se,Q,ae){N.isMeshBasicMaterial||N.isMeshLambertMaterial?a(B,N):N.isMeshToonMaterial?(a(B,N),A(B,N)):N.isMeshPhongMaterial?(a(B,N),M(B,N)):N.isMeshStandardMaterial?(a(B,N),P(B,N),N.isMeshPhysicalMaterial&&O(B,N,ae)):N.isMeshMatcapMaterial?(a(B,N),F(B,N)):N.isMeshDepthMaterial?a(B,N):N.isMeshDistanceMaterial?(a(B,N),W(B,N)):N.isMeshNormalMaterial?a(B,N):N.isLineBasicMaterial?(d(B,N),N.isLineDashedMaterial&&p(B,N)):N.isPointsMaterial?v(B,N,se,Q):N.isSpriteMaterial?S(B,N):N.isShadowMaterial?(B.color.value.copy(N.color),B.opacity.value=N.opacity):N.isShaderMaterial&&(N.uniformsNeedUpdate=!1)}function a(B,N){B.opacity.value=N.opacity,N.color&&B.diffuse.value.copy(N.color),N.emissive&&B.emissive.value.copy(N.emissive).multiplyScalar(N.emissiveIntensity),N.map&&(B.map.value=N.map,t(N.map,B.mapTransform)),N.alphaMap&&(B.alphaMap.value=N.alphaMap,t(N.alphaMap,B.alphaMapTransform)),N.bumpMap&&(B.bumpMap.value=N.bumpMap,t(N.bumpMap,B.bumpMapTransform),B.bumpScale.value=N.bumpScale,N.side===oe&&(B.bumpScale.value*=-1)),N.normalMap&&(B.normalMap.value=N.normalMap,t(N.normalMap,B.normalMapTransform),B.normalScale.value.copy(N.normalScale),N.side===oe&&B.normalScale.value.negate()),N.displacementMap&&(B.displacementMap.value=N.displacementMap,t(N.displacementMap,B.displacementMapTransform),B.displacementScale.value=N.displacementScale,B.displacementBias.value=N.displacementBias),N.emissiveMap&&(B.emissiveMap.value=N.emissiveMap,t(N.emissiveMap,B.emissiveMapTransform)),N.specularMap&&(B.specularMap.value=N.specularMap,t(N.specularMap,B.specularMapTransform)),N.alphaTest>0&&(B.alphaTest.value=N.alphaTest);const se=e.get(N),Q=se.envMap,ae=se.envMapRotation;Q&&(B.envMap.value=Q,of.copy(ae),of.x*=-1,of.y*=-1,of.z*=-1,Q.isCubeTexture&&Q.isRenderTargetTexture===!1&&(of.y*=-1,of.z*=-1),B.envMapRotation.value.setFromMatrix4(j0.makeRotationFromEuler(of)),B.flipEnvMap.value=Q.isCubeTexture&&Q.isRenderTargetTexture===!1?-1:1,B.reflectivity.value=N.reflectivity,B.ior.value=N.ior,B.refractionRatio.value=N.refractionRatio),N.lightMap&&(B.lightMap.value=N.lightMap,B.lightMapIntensity.value=N.lightMapIntensity,t(N.lightMap,B.lightMapTransform)),N.aoMap&&(B.aoMap.value=N.aoMap,B.aoMapIntensity.value=N.aoMapIntensity,t(N.aoMap,B.aoMapTransform))}function d(B,N){B.diffuse.value.copy(N.color),B.opacity.value=N.opacity,N.map&&(B.map.value=N.map,t(N.map,B.mapTransform))}function p(B,N){B.dashSize.value=N.dashSize,B.totalSize.value=N.dashSize+N.gapSize,B.scale.value=N.scale}function v(B,N,se,Q){B.diffuse.value.copy(N.color),B.opacity.value=N.opacity,B.size.value=N.size*se,B.scale.value=Q*.5,N.map&&(B.map.value=N.map,t(N.map,B.uvTransform)),N.alphaMap&&(B.alphaMap.value=N.alphaMap,t(N.alphaMap,B.alphaMapTransform)),N.alphaTest>0&&(B.alphaTest.value=N.alphaTest)}function S(B,N){B.diffuse.value.copy(N.color),B.opacity.value=N.opacity,B.rotation.value=N.rotation,N.map&&(B.map.value=N.map,t(N.map,B.mapTransform)),N.alphaMap&&(B.alphaMap.value=N.alphaMap,t(N.alphaMap,B.alphaMapTransform)),N.alphaTest>0&&(B.alphaTest.value=N.alphaTest)}function M(B,N){B.specular.value.copy(N.specular),B.shininess.value=Math.max(N.shininess,1e-4)}function A(B,N){N.gradientMap&&(B.gradientMap.value=N.gradientMap)}function P(B,N){B.metalness.value=N.metalness,N.metalnessMap&&(B.metalnessMap.value=N.metalnessMap,t(N.metalnessMap,B.metalnessMapTransform)),B.roughness.value=N.roughness,N.roughnessMap&&(B.roughnessMap.value=N.roughnessMap,t(N.roughnessMap,B.roughnessMapTransform)),N.envMap&&(B.envMapIntensity.value=N.envMapIntensity)}function O(B,N,se){B.ior.value=N.ior,N.sheen>0&&(B.sheenColor.value.copy(N.sheenColor).multiplyScalar(N.sheen),B.sheenRoughness.value=N.sheenRoughness,N.sheenColorMap&&(B.sheenColorMap.value=N.sheenColorMap,t(N.sheenColorMap,B.sheenColorMapTransform)),N.sheenRoughnessMap&&(B.sheenRoughnessMap.value=N.sheenRoughnessMap,t(N.sheenRoughnessMap,B.sheenRoughnessMapTransform))),N.clearcoat>0&&(B.clearcoat.value=N.clearcoat,B.clearcoatRoughness.value=N.clearcoatRoughness,N.clearcoatMap&&(B.clearcoatMap.value=N.clearcoatMap,t(N.clearcoatMap,B.clearcoatMapTransform)),N.clearcoatRoughnessMap&&(B.clearcoatRoughnessMap.value=N.clearcoatRoughnessMap,t(N.clearcoatRoughnessMap,B.clearcoatRoughnessMapTransform)),N.clearcoatNormalMap&&(B.clearcoatNormalMap.value=N.clearcoatNormalMap,t(N.clearcoatNormalMap,B.clearcoatNormalMapTransform),B.clearcoatNormalScale.value.copy(N.clearcoatNormalScale),N.side===oe&&B.clearcoatNormalScale.value.negate())),N.dispersion>0&&(B.dispersion.value=N.dispersion),N.iridescence>0&&(B.iridescence.value=N.iridescence,B.iridescenceIOR.value=N.iridescenceIOR,B.iridescenceThicknessMinimum.value=N.iridescenceThicknessRange[0],B.iridescenceThicknessMaximum.value=N.iridescenceThicknessRange[1],N.iridescenceMap&&(B.iridescenceMap.value=N.iridescenceMap,t(N.iridescenceMap,B.iridescenceMapTransform)),N.iridescenceThicknessMap&&(B.iridescenceThicknessMap.value=N.iridescenceThicknessMap,t(N.iridescenceThicknessMap,B.iridescenceThicknessMapTransform))),N.transmission>0&&(B.transmission.value=N.transmission,B.transmissionSamplerMap.value=se.texture,B.transmissionSamplerSize.value.set(se.width,se.height),N.transmissionMap&&(B.transmissionMap.value=N.transmissionMap,t(N.transmissionMap,B.transmissionMapTransform)),B.thickness.value=N.thickness,N.thicknessMap&&(B.thicknessMap.value=N.thicknessMap,t(N.thicknessMap,B.thicknessMapTransform)),B.attenuationDistance.value=N.attenuationDistance,B.attenuationColor.value.copy(N.attenuationColor)),N.anisotropy>0&&(B.anisotropyVector.value.set(N.anisotropy*Math.cos(N.anisotropyRotation),N.anisotropy*Math.sin(N.anisotropyRotation)),N.anisotropyMap&&(B.anisotropyMap.value=N.anisotropyMap,t(N.anisotropyMap,B.anisotropyMapTransform))),B.specularIntensity.value=N.specularIntensity,B.specularColor.value.copy(N.specularColor),N.specularColorMap&&(B.specularColorMap.value=N.specularColorMap,t(N.specularColorMap,B.specularColorMapTransform)),N.specularIntensityMap&&(B.specularIntensityMap.value=N.specularIntensityMap,t(N.specularIntensityMap,B.specularIntensityMapTransform))}function F(B,N){N.matcap&&(B.matcap.value=N.matcap)}function W(B,N){const se=e.get(N).light;B.referencePosition.value.setFromMatrixPosition(se.matrixWorld),B.nearDistance.value=se.shadow.camera.near,B.farDistance.value=se.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function G0(l,e,t,i){let s={},a={},d=[];const p=l.getParameter(l.MAX_UNIFORM_BUFFER_BINDINGS);function v(se,Q){const ae=Q.program;i.uniformBlockBinding(se,ae)}function S(se,Q){let ae=s[se.id];ae===void 0&&(F(se),ae=M(se),s[se.id]=ae,se.addEventListener("dispose",B));const St=Q.program;i.updateUBOMapping(se,St);const Ne=e.render.frame;a[se.id]!==Ne&&(P(se),a[se.id]=Ne)}function M(se){const Q=A();se.__bindingPointIndex=Q;const ae=l.createBuffer(),St=se.__size,Ne=se.usage;return l.bindBuffer(l.UNIFORM_BUFFER,ae),l.bufferData(l.UNIFORM_BUFFER,St,Ne),l.bindBuffer(l.UNIFORM_BUFFER,null),l.bindBufferBase(l.UNIFORM_BUFFER,Q,ae),ae}function A(){for(let se=0;se<p;se++)if(d.indexOf(se)===-1)return d.push(se),se;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function P(se){const Q=s[se.id],ae=se.uniforms,St=se.__cache;l.bindBuffer(l.UNIFORM_BUFFER,Q);for(let Ne=0,Je=ae.length;Ne<Je;Ne++){const xt=Array.isArray(ae[Ne])?ae[Ne]:[ae[Ne]];for(let Te=0,pe=xt.length;Te<pe;Te++){const Ct=xt[Te];if(O(Ct,Ne,Te,St)===!0){const Tn=Ct.__offset,mn=Array.isArray(Ct.value)?Ct.value:[Ct.value];let Ln=0;for(let fi=0;fi<mn.length;fi++){const Un=mn[fi],ki=W(Un);typeof Un=="number"||typeof Un=="boolean"?(Ct.__data[0]=Un,l.bufferSubData(l.UNIFORM_BUFFER,Tn+Ln,Ct.__data)):Un.isMatrix3?(Ct.__data[0]=Un.elements[0],Ct.__data[1]=Un.elements[1],Ct.__data[2]=Un.elements[2],Ct.__data[3]=0,Ct.__data[4]=Un.elements[3],Ct.__data[5]=Un.elements[4],Ct.__data[6]=Un.elements[5],Ct.__data[7]=0,Ct.__data[8]=Un.elements[6],Ct.__data[9]=Un.elements[7],Ct.__data[10]=Un.elements[8],Ct.__data[11]=0):(Un.toArray(Ct.__data,Ln),Ln+=ki.storage/Float32Array.BYTES_PER_ELEMENT)}l.bufferSubData(l.UNIFORM_BUFFER,Tn,Ct.__data)}}}l.bindBuffer(l.UNIFORM_BUFFER,null)}function O(se,Q,ae,St){const Ne=se.value,Je=Q+"_"+ae;if(St[Je]===void 0)return typeof Ne=="number"||typeof Ne=="boolean"?St[Je]=Ne:St[Je]=Ne.clone(),!0;{const xt=St[Je];if(typeof Ne=="number"||typeof Ne=="boolean"){if(xt!==Ne)return St[Je]=Ne,!0}else if(xt.equals(Ne)===!1)return xt.copy(Ne),!0}return!1}function F(se){const Q=se.uniforms;let ae=0;const St=16;for(let Je=0,xt=Q.length;Je<xt;Je++){const Te=Array.isArray(Q[Je])?Q[Je]:[Q[Je]];for(let pe=0,Ct=Te.length;pe<Ct;pe++){const Tn=Te[pe],mn=Array.isArray(Tn.value)?Tn.value:[Tn.value];for(let Ln=0,fi=mn.length;Ln<fi;Ln++){const Un=mn[Ln],ki=W(Un),Zn=ae%St,Gr=Zn%ki.boundary,us=Zn+Gr;ae+=Gr,us!==0&&St-us<ki.storage&&(ae+=St-us),Tn.__data=new Float32Array(ki.storage/Float32Array.BYTES_PER_ELEMENT),Tn.__offset=ae,ae+=ki.storage}}}const Ne=ae%St;return Ne>0&&(ae+=St-Ne),se.__size=ae,se.__cache={},this}function W(se){const Q={boundary:0,storage:0};return typeof se=="number"||typeof se=="boolean"?(Q.boundary=4,Q.storage=4):se.isVector2?(Q.boundary=8,Q.storage=8):se.isVector3||se.isColor?(Q.boundary=16,Q.storage=12):se.isVector4?(Q.boundary=16,Q.storage=16):se.isMatrix3?(Q.boundary=48,Q.storage=48):se.isMatrix4?(Q.boundary=64,Q.storage=64):se.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",se),Q}function B(se){const Q=se.target;Q.removeEventListener("dispose",B);const ae=d.indexOf(Q.__bindingPointIndex);d.splice(ae,1),l.deleteBuffer(s[Q.id]),delete s[Q.id],delete a[Q.id]}function N(){for(const se in s)l.deleteBuffer(s[se]);d=[],s={},a={}}return{bind:v,update:S,dispose:N}}class X0{constructor(e={}){const{canvas:t=In(),context:i=null,depth:s=!0,stencil:a=!1,alpha:d=!1,antialias:p=!1,premultipliedAlpha:v=!0,preserveDrawingBuffer:S=!1,powerPreference:M="default",failIfMajorPerformanceCaveat:A=!1}=e;this.isWebGLRenderer=!0;let P;if(i!==null){if(typeof WebGLRenderingContext!="undefined"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");P=i.getContextAttributes().alpha}else P=d;const O=new Uint32Array(4),F=new Int32Array(4);let W=null,B=null;const N=[],se=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Za,this.toneMapping=zi,this.toneMappingExposure=1;const Q=this;let ae=!1,St=0,Ne=0,Je=null,xt=-1,Te=null;const pe=new ao,Ct=new ao;let Tn=null;const mn=new wr(0);let Ln=0,fi=t.width,Un=t.height,ki=1,Zn=null,Gr=null;const us=new ao(0,0,fi,Un),ms=new ao(0,0,fi,Un);let ga=!1;const Va=new rh;let ii=!1,er=!1;const Es=new qs,Pr=new je,No=new ao,ua={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Fo=!1;function za(){return Je===null?ki:1}let ke=i;function or(Re,jt){return t.getContext(Re,jt)}try{const Re={alpha:!0,depth:s,stencil:a,antialias:p,premultipliedAlpha:v,preserveDrawingBuffer:S,powerPreference:M,failIfMajorPerformanceCaveat:A};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${u}`),t.addEventListener("webglcontextlost",pi,!1),t.addEventListener("webglcontextrestored",yi,!1),t.addEventListener("webglcontextcreationerror",xr,!1),ke===null){const jt="webgl2";if(ke=or(jt,Re),ke===null)throw or(jt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Re){throw console.error("THREE.WebGLRenderer: "+Re.message),Re}let $i,Dr,di,po,Lr,Ts,rt,ve,xn,Di,Ai,wi,co,Tr,vs,ta,tr,os,Ia,$o,Rs,Qo,ba,El;function Vt(){$i=new es(ke),$i.init(),Qo=new U0(ke,$i),Dr=new ze(ke,$i,e,Qo),di=new I0(ke),po=new Er(ke),Lr=new sf,Ts=new B0(ke,$i,di,Lr,Dr,Qo,po),rt=new pt(Q),ve=new Zs(Q),xn=new Sp(ke),ba=new Ae(ke,xn),Di=new lr(ke,xn,po,ba),Ai=new bs(ke,Di,xn,po),Ia=new Zr(ke,Dr,Ts),ta=new Ke(Lr),wi=new rf(Q,rt,ve,$i,Dr,ba,ta),co=new Z0(Q,Lr),Tr=new Up,vs=new ep($i),os=new We(Q,rt,ve,di,Ai,P,v),tr=new O0(Q,Ai,Dr),El=new G0(ke,po,Dr,di),$o=new et(ke,$i,po),Rs=new ws(ke,$i,po),po.programs=wi.programs,Q.capabilities=Dr,Q.extensions=$i,Q.properties=Lr,Q.renderLists=Tr,Q.shadowMap=tr,Q.state=di,Q.info=po}Vt();const ar=new W0(Q,ke);this.xr=ar,this.getContext=function(){return ke},this.getContextAttributes=function(){return ke.getContextAttributes()},this.forceContextLoss=function(){const Re=$i.get("WEBGL_lose_context");Re&&Re.loseContext()},this.forceContextRestore=function(){const Re=$i.get("WEBGL_lose_context");Re&&Re.restoreContext()},this.getPixelRatio=function(){return ki},this.setPixelRatio=function(Re){Re!==void 0&&(ki=Re,this.setSize(fi,Un,!1))},this.getSize=function(Re){return Re.set(fi,Un)},this.setSize=function(Re,jt,vn=!0){if(ar.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}fi=Re,Un=jt,t.width=Math.floor(Re*ki),t.height=Math.floor(jt*ki),vn===!0&&(t.style.width=Re+"px",t.style.height=jt+"px"),this.setViewport(0,0,Re,jt)},this.getDrawingBufferSize=function(Re){return Re.set(fi*ki,Un*ki).floor()},this.setDrawingBufferSize=function(Re,jt,vn){fi=Re,Un=jt,ki=vn,t.width=Math.floor(Re*vn),t.height=Math.floor(jt*vn),this.setViewport(0,0,Re,jt)},this.getCurrentViewport=function(Re){return Re.copy(pe)},this.getViewport=function(Re){return Re.copy(us)},this.setViewport=function(Re,jt,vn,Sn){Re.isVector4?us.set(Re.x,Re.y,Re.z,Re.w):us.set(Re,jt,vn,Sn),di.viewport(pe.copy(us).multiplyScalar(ki).round())},this.getScissor=function(Re){return Re.copy(ms)},this.setScissor=function(Re,jt,vn,Sn){Re.isVector4?ms.set(Re.x,Re.y,Re.z,Re.w):ms.set(Re,jt,vn,Sn),di.scissor(Ct.copy(ms).multiplyScalar(ki).round())},this.getScissorTest=function(){return ga},this.setScissorTest=function(Re){di.setScissorTest(ga=Re)},this.setOpaqueSort=function(Re){Zn=Re},this.setTransparentSort=function(Re){Gr=Re},this.getClearColor=function(Re){return Re.copy(os.getClearColor())},this.setClearColor=function(){os.setClearColor.apply(os,arguments)},this.getClearAlpha=function(){return os.getClearAlpha()},this.setClearAlpha=function(){os.setClearAlpha.apply(os,arguments)},this.clear=function(Re=!0,jt=!0,vn=!0){let Sn=0;if(Re){let Jt=!1;if(Je!==null){const ur=Je.texture.format;Jt=ur===Ni||ur===Dn||ur===an}if(Jt){const ur=Je.texture.type,ns=ur===_r||ur===ti||ur===vt||ur===Ls||ur===Ds||ur===Sr,Bs=os.getClearColor(),Hs=os.getClearAlpha(),Do=Bs.r,Bo=Bs.g,vo=Bs.b;ns?(O[0]=Do,O[1]=Bo,O[2]=vo,O[3]=Hs,ke.clearBufferuiv(ke.COLOR,0,O)):(F[0]=Do,F[1]=Bo,F[2]=vo,F[3]=Hs,ke.clearBufferiv(ke.COLOR,0,F))}else Sn|=ke.COLOR_BUFFER_BIT}jt&&(Sn|=ke.DEPTH_BUFFER_BIT),vn&&(Sn|=ke.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ke.clear(Sn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",pi,!1),t.removeEventListener("webglcontextrestored",yi,!1),t.removeEventListener("webglcontextcreationerror",xr,!1),Tr.dispose(),vs.dispose(),Lr.dispose(),rt.dispose(),ve.dispose(),Ai.dispose(),ba.dispose(),El.dispose(),wi.dispose(),ar.dispose(),ar.removeEventListener("sessionstart",ud),ar.removeEventListener("sessionend",b0),vf.stop()};function pi(Re){Re.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ae=!0}function yi(){console.log("THREE.WebGLRenderer: Context Restored."),ae=!1;const Re=po.autoReset,jt=tr.enabled,vn=tr.autoUpdate,Sn=tr.needsUpdate,Jt=tr.type;Vt(),po.autoReset=Re,tr.enabled=jt,tr.autoUpdate=vn,tr.needsUpdate=Sn,tr.type=Jt}function xr(Re){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Re.statusMessage)}function Io(Re){const jt=Re.target;jt.removeEventListener("dispose",Io),Na(jt)}function Na(Re){tc(Re),Lr.remove(Re)}function tc(Re){const jt=Lr.get(Re).programs;jt!==void 0&&(jt.forEach(function(vn){wi.releaseProgram(vn)}),Re.isShaderMaterial&&wi.releaseShaderCache(Re))}this.renderBufferDirect=function(Re,jt,vn,Sn,Jt,ur){jt===null&&(jt=ua);const ns=Jt.isMesh&&Jt.matrixWorld.determinant()<0,Bs=Vx(Re,jt,vn,Sn,Jt);di.setMaterial(Sn,ns);let Hs=vn.index,Do=1;if(Sn.wireframe===!0){if(Hs=Di.getWireframeAttribute(vn),Hs===void 0)return;Do=2}const Bo=vn.drawRange,vo=vn.attributes.position;let Ka=Bo.start*Do,kl=(Bo.start+Bo.count)*Do;ur!==null&&(Ka=Math.max(Ka,ur.start*Do),kl=Math.min(kl,(ur.start+ur.count)*Do)),Hs!==null?(Ka=Math.max(Ka,0),kl=Math.min(kl,Hs.count)):vo!=null&&(Ka=Math.max(Ka,0),kl=Math.min(kl,vo.count));const $l=kl-Ka;if($l<0||$l===1/0)return;ba.setup(Jt,Sn,Bs,vn,Hs);let gu,qa=$o;if(Hs!==null&&(gu=xn.get(Hs),qa=Rs,qa.setIndex(gu)),Jt.isMesh)Sn.wireframe===!0?(di.setLineWidth(Sn.wireframeLinewidth*za()),qa.setMode(ke.LINES)):qa.setMode(ke.TRIANGLES);else if(Jt.isLine){let no=Sn.linewidth;no===void 0&&(no=1),di.setLineWidth(no*za()),Jt.isLineSegments?qa.setMode(ke.LINES):Jt.isLineLoop?qa.setMode(ke.LINE_LOOP):qa.setMode(ke.LINE_STRIP)}else Jt.isPoints?qa.setMode(ke.POINTS):Jt.isSprite&&qa.setMode(ke.TRIANGLES);if(Jt.isBatchedMesh)if(Jt._multiDrawInstances!==null)qa.renderMultiDrawInstances(Jt._multiDrawStarts,Jt._multiDrawCounts,Jt._multiDrawCount,Jt._multiDrawInstances);else if($i.get("WEBGL_multi_draw"))qa.renderMultiDraw(Jt._multiDrawStarts,Jt._multiDrawCounts,Jt._multiDrawCount);else{const no=Jt._multiDrawStarts,wc=Jt._multiDrawCounts,Ja=Jt._multiDrawCount,Gu=Hs?xn.get(Hs).bytesPerElement:1,hp=Lr.get(Sn).currentProgram.getUniforms();for(let mu=0;mu<Ja;mu++)hp.setValue(ke,"_gl_DrawID",mu),qa.render(no[mu]/Gu,wc[mu])}else if(Jt.isInstancedMesh)qa.renderInstances(Ka,$l,Jt.count);else if(vn.isInstancedBufferGeometry){const no=vn._maxInstanceCount!==void 0?vn._maxInstanceCount:1/0,wc=Math.min(vn.instanceCount,no);qa.renderInstances(Ka,$l,wc)}else qa.render(Ka,$l)};function _c(Re,jt,vn){Re.transparent===!0&&Re.side===ct&&Re.forceSinglePass===!1?(Re.side=oe,Re.needsUpdate=!0,nm(Re,jt,vn),Re.side=st,Re.needsUpdate=!0,nm(Re,jt,vn),Re.side=ct):nm(Re,jt,vn)}this.compile=function(Re,jt,vn=null){vn===null&&(vn=Re),B=vs.get(vn),B.init(jt),se.push(B),vn.traverseVisible(function(Jt){Jt.isLight&&Jt.layers.test(jt.layers)&&(B.pushLight(Jt),Jt.castShadow&&B.pushShadow(Jt))}),Re!==vn&&Re.traverseVisible(function(Jt){Jt.isLight&&Jt.layers.test(jt.layers)&&(B.pushLight(Jt),Jt.castShadow&&B.pushShadow(Jt))}),B.setupLights();const Sn=new Set;return Re.traverse(function(Jt){const ur=Jt.material;if(ur)if(Array.isArray(ur))for(let ns=0;ns<ur.length;ns++){const Bs=ur[ns];_c(Bs,vn,Jt),Sn.add(Bs)}else _c(ur,vn,Jt),Sn.add(ur)}),se.pop(),B=null,Sn},this.compileAsync=function(Re,jt,vn=null){const Sn=this.compile(Re,jt,vn);return new Promise(Jt=>{function ur(){if(Sn.forEach(function(ns){Lr.get(ns).currentProgram.isReady()&&Sn.delete(ns)}),Sn.size===0){Jt(Re);return}setTimeout(ur,10)}$i.get("KHR_parallel_shader_compile")!==null?ur():setTimeout(ur,10)})};let Ya=null;function kd(Re){Ya&&Ya(Re)}function ud(){vf.stop()}function b0(){vf.start()}const vf=new Df;vf.setAnimationLoop(kd),typeof self!="undefined"&&vf.setContext(self),this.setAnimationLoop=function(Re){Ya=Re,ar.setAnimationLoop(Re),Re===null?vf.stop():vf.start()},ar.addEventListener("sessionstart",ud),ar.addEventListener("sessionend",b0),this.render=function(Re,jt){if(jt!==void 0&&jt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(ae===!0)return;if(Re.matrixWorldAutoUpdate===!0&&Re.updateMatrixWorld(),jt.parent===null&&jt.matrixWorldAutoUpdate===!0&&jt.updateMatrixWorld(),ar.enabled===!0&&ar.isPresenting===!0&&(ar.cameraAutoUpdate===!0&&ar.updateCamera(jt),jt=ar.getCamera()),Re.isScene===!0&&Re.onBeforeRender(Q,Re,jt,Je),B=vs.get(Re,se.length),B.init(jt),se.push(B),Es.multiplyMatrices(jt.projectionMatrix,jt.matrixWorldInverse),Va.setFromProjectionMatrix(Es),er=this.localClippingEnabled,ii=ta.init(this.clippingPlanes,er),W=Tr.get(Re,N.length),W.init(),N.push(W),ar.enabled===!0&&ar.isPresenting===!0){const ur=Q.xr.getDepthSensingMesh();ur!==null&&Xm(ur,jt,-1/0,Q.sortObjects)}Xm(Re,jt,0,Q.sortObjects),W.finish(),Q.sortObjects===!0&&W.sort(Zn,Gr),Fo=ar.enabled===!1||ar.isPresenting===!1||ar.hasDepthSensing()===!1,Fo&&os.addToRenderList(W,Re),this.info.render.frame++,ii===!0&&ta.beginShadows();const vn=B.state.shadowsArray;tr.render(vn,Re,jt),ii===!0&&ta.endShadows(),this.info.autoReset===!0&&this.info.reset();const Sn=W.opaque,Jt=W.transmissive;if(B.setupLights(),jt.isArrayCamera){const ur=jt.cameras;if(Jt.length>0)for(let ns=0,Bs=ur.length;ns<Bs;ns++){const Hs=ur[ns];C0(Sn,Jt,Re,Hs)}Fo&&os.render(Re);for(let ns=0,Bs=ur.length;ns<Bs;ns++){const Hs=ur[ns];S0(W,Re,Hs,Hs.viewport)}}else Jt.length>0&&C0(Sn,Jt,Re,jt),Fo&&os.render(Re),S0(W,Re,jt);Je!==null&&(Ts.updateMultisampleRenderTarget(Je),Ts.updateRenderTargetMipmap(Je)),Re.isScene===!0&&Re.onAfterRender(Q,Re,jt),ba.resetDefaultState(),xt=-1,Te=null,se.pop(),se.length>0?(B=se[se.length-1],ii===!0&&ta.setGlobalState(Q.clippingPlanes,B.state.camera)):B=null,N.pop(),N.length>0?W=N[N.length-1]:W=null};function Xm(Re,jt,vn,Sn){if(Re.visible===!1)return;if(Re.layers.test(jt.layers)){if(Re.isGroup)vn=Re.renderOrder;else if(Re.isLOD)Re.autoUpdate===!0&&Re.update(jt);else if(Re.isLight)B.pushLight(Re),Re.castShadow&&B.pushShadow(Re);else if(Re.isSprite){if(!Re.frustumCulled||Va.intersectsSprite(Re)){Sn&&No.setFromMatrixPosition(Re.matrixWorld).applyMatrix4(Es);const ns=Ai.update(Re),Bs=Re.material;Bs.visible&&W.push(Re,ns,Bs,vn,No.z,null)}}else if((Re.isMesh||Re.isLine||Re.isPoints)&&(!Re.frustumCulled||Va.intersectsObject(Re))){const ns=Ai.update(Re),Bs=Re.material;if(Sn&&(Re.boundingSphere!==void 0?(Re.boundingSphere===null&&Re.computeBoundingSphere(),No.copy(Re.boundingSphere.center)):(ns.boundingSphere===null&&ns.computeBoundingSphere(),No.copy(ns.boundingSphere.center)),No.applyMatrix4(Re.matrixWorld).applyMatrix4(Es)),Array.isArray(Bs)){const Hs=ns.groups;for(let Do=0,Bo=Hs.length;Do<Bo;Do++){const vo=Hs[Do],Ka=Bs[vo.materialIndex];Ka&&Ka.visible&&W.push(Re,ns,Ka,vn,No.z,vo)}}else Bs.visible&&W.push(Re,ns,Bs,vn,No.z,null)}}const ur=Re.children;for(let ns=0,Bs=ur.length;ns<Bs;ns++)Xm(ur[ns],jt,vn,Sn)}function S0(Re,jt,vn,Sn){const Jt=Re.opaque,ur=Re.transmissive,ns=Re.transparent;B.setupLightsView(vn),ii===!0&&ta.setGlobalState(Q.clippingPlanes,vn),Sn&&di.viewport(pe.copy(Sn)),Jt.length>0&&tm(Jt,jt,vn),ur.length>0&&tm(ur,jt,vn),ns.length>0&&tm(ns,jt,vn),di.buffers.depth.setTest(!0),di.buffers.depth.setMask(!0),di.buffers.color.setMask(!0),di.setPolygonOffset(!1)}function C0(Re,jt,vn,Sn){if((vn.isScene===!0?vn.overrideMaterial:null)!==null)return;B.state.transmissionRenderTarget[Sn.id]===void 0&&(B.state.transmissionRenderTarget[Sn.id]=new Sl(1,1,{generateMipmaps:!0,type:$i.has("EXT_color_buffer_half_float")||$i.has("EXT_color_buffer_float")?Li:_r,minFilter:fr,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ri.workingColorSpace}));const ur=B.state.transmissionRenderTarget[Sn.id],ns=Sn.viewport||pe;ur.setSize(ns.z,ns.w);const Bs=Q.getRenderTarget();Q.setRenderTarget(ur),Q.getClearColor(mn),Ln=Q.getClearAlpha(),Ln<1&&Q.setClearColor(16777215,.5),Q.clear(),Fo&&os.render(vn);const Hs=Q.toneMapping;Q.toneMapping=zi;const Do=Sn.viewport;if(Sn.viewport!==void 0&&(Sn.viewport=void 0),B.setupLightsView(Sn),ii===!0&&ta.setGlobalState(Q.clippingPlanes,Sn),tm(Re,vn,Sn),Ts.updateMultisampleRenderTarget(ur),Ts.updateRenderTargetMipmap(ur),$i.has("WEBGL_multisampled_render_to_texture")===!1){let Bo=!1;for(let vo=0,Ka=jt.length;vo<Ka;vo++){const kl=jt[vo],$l=kl.object,gu=kl.geometry,qa=kl.material,no=kl.group;if(qa.side===ct&&$l.layers.test(Sn.layers)){const wc=qa.side;qa.side=oe,qa.needsUpdate=!0,_0($l,vn,Sn,gu,qa,no),qa.side=wc,qa.needsUpdate=!0,Bo=!0}}Bo===!0&&(Ts.updateMultisampleRenderTarget(ur),Ts.updateRenderTargetMipmap(ur))}Q.setRenderTarget(Bs),Q.setClearColor(mn,Ln),Do!==void 0&&(Sn.viewport=Do),Q.toneMapping=Hs}function tm(Re,jt,vn){const Sn=jt.isScene===!0?jt.overrideMaterial:null;for(let Jt=0,ur=Re.length;Jt<ur;Jt++){const ns=Re[Jt],Bs=ns.object,Hs=ns.geometry,Do=Sn===null?ns.material:Sn,Bo=ns.group;Bs.layers.test(vn.layers)&&_0(Bs,jt,vn,Hs,Do,Bo)}}function _0(Re,jt,vn,Sn,Jt,ur){Re.onBeforeRender(Q,jt,vn,Sn,Jt,ur),Re.modelViewMatrix.multiplyMatrices(vn.matrixWorldInverse,Re.matrixWorld),Re.normalMatrix.getNormalMatrix(Re.modelViewMatrix),Jt.transparent===!0&&Jt.side===ct&&Jt.forceSinglePass===!1?(Jt.side=oe,Jt.needsUpdate=!0,Q.renderBufferDirect(vn,jt,Sn,Jt,Re,ur),Jt.side=st,Jt.needsUpdate=!0,Q.renderBufferDirect(vn,jt,Sn,Jt,Re,ur),Jt.side=ct):Q.renderBufferDirect(vn,jt,Sn,Jt,Re,ur),Re.onAfterRender(Q,jt,vn,Sn,Jt,ur)}function nm(Re,jt,vn){jt.isScene!==!0&&(jt=ua);const Sn=Lr.get(Re),Jt=B.state.lights,ur=B.state.shadowsArray,ns=Jt.state.version,Bs=wi.getParameters(Re,Jt.state,ur,jt,vn),Hs=wi.getProgramCacheKey(Bs);let Do=Sn.programs;Sn.environment=Re.isMeshStandardMaterial?jt.environment:null,Sn.fog=jt.fog,Sn.envMap=(Re.isMeshStandardMaterial?ve:rt).get(Re.envMap||Sn.environment),Sn.envMapRotation=Sn.environment!==null&&Re.envMap===null?jt.environmentRotation:Re.envMapRotation,Do===void 0&&(Re.addEventListener("dispose",Io),Do=new Map,Sn.programs=Do);let Bo=Do.get(Hs);if(Bo!==void 0){if(Sn.currentProgram===Bo&&Sn.lightsStateVersion===ns)return M0(Re,Bs),Bo}else Bs.uniforms=wi.getUniforms(Re),Re.onBeforeCompile(Bs,Q),Bo=wi.acquireProgram(Bs,Hs),Do.set(Hs,Bo),Sn.uniforms=Bs.uniforms;const vo=Sn.uniforms;return(!Re.isShaderMaterial&&!Re.isRawShaderMaterial||Re.clipping===!0)&&(vo.clippingPlanes=ta.uniform),M0(Re,Bs),Sn.needsLights=jx(Re),Sn.lightsStateVersion=ns,Sn.needsLights&&(vo.ambientLightColor.value=Jt.state.ambient,vo.lightProbe.value=Jt.state.probe,vo.directionalLights.value=Jt.state.directional,vo.directionalLightShadows.value=Jt.state.directionalShadow,vo.spotLights.value=Jt.state.spot,vo.spotLightShadows.value=Jt.state.spotShadow,vo.rectAreaLights.value=Jt.state.rectArea,vo.ltc_1.value=Jt.state.rectAreaLTC1,vo.ltc_2.value=Jt.state.rectAreaLTC2,vo.pointLights.value=Jt.state.point,vo.pointLightShadows.value=Jt.state.pointShadow,vo.hemisphereLights.value=Jt.state.hemi,vo.directionalShadowMap.value=Jt.state.directionalShadowMap,vo.directionalShadowMatrix.value=Jt.state.directionalShadowMatrix,vo.spotShadowMap.value=Jt.state.spotShadowMap,vo.spotLightMatrix.value=Jt.state.spotLightMatrix,vo.spotLightMap.value=Jt.state.spotLightMap,vo.pointShadowMap.value=Jt.state.pointShadowMap,vo.pointShadowMatrix.value=Jt.state.pointShadowMatrix),Sn.currentProgram=Bo,Sn.uniformsList=null,Bo}function w0(Re){if(Re.uniformsList===null){const jt=Re.currentProgram.getUniforms();Re.uniformsList=Sa.seqWithValue(jt.seq,Re.uniforms)}return Re.uniformsList}function M0(Re,jt){const vn=Lr.get(Re);vn.outputColorSpace=jt.outputColorSpace,vn.batching=jt.batching,vn.batchingColor=jt.batchingColor,vn.instancing=jt.instancing,vn.instancingColor=jt.instancingColor,vn.instancingMorph=jt.instancingMorph,vn.skinning=jt.skinning,vn.morphTargets=jt.morphTargets,vn.morphNormals=jt.morphNormals,vn.morphColors=jt.morphColors,vn.morphTargetsCount=jt.morphTargetsCount,vn.numClippingPlanes=jt.numClippingPlanes,vn.numIntersection=jt.numClipIntersection,vn.vertexAlphas=jt.vertexAlphas,vn.vertexTangents=jt.vertexTangents,vn.toneMapping=jt.toneMapping}function Vx(Re,jt,vn,Sn,Jt){jt.isScene!==!0&&(jt=ua),Ts.resetTextureUnits();const ur=jt.fog,ns=Sn.isMeshStandardMaterial?jt.environment:null,Bs=Je===null?Q.outputColorSpace:Je.isXRRenderTarget===!0?Je.texture.colorSpace:$a,Hs=(Sn.isMeshStandardMaterial?ve:rt).get(Sn.envMap||ns),Do=Sn.vertexColors===!0&&!!vn.attributes.color&&vn.attributes.color.itemSize===4,Bo=!!vn.attributes.tangent&&(!!Sn.normalMap||Sn.anisotropy>0),vo=!!vn.morphAttributes.position,Ka=!!vn.morphAttributes.normal,kl=!!vn.morphAttributes.color;let $l=zi;Sn.toneMapped&&(Je===null||Je.isXRRenderTarget===!0)&&($l=Q.toneMapping);const gu=vn.morphAttributes.position||vn.morphAttributes.normal||vn.morphAttributes.color,qa=gu!==void 0?gu.length:0,no=Lr.get(Sn),wc=B.state.lights;if(ii===!0&&(er===!0||Re!==Te)){const Au=Re===Te&&Sn.id===xt;ta.setState(Sn,Re,Au)}let Ja=!1;Sn.version===no.__version?(no.needsLights&&no.lightsStateVersion!==wc.state.version||no.outputColorSpace!==Bs||Jt.isBatchedMesh&&no.batching===!1||!Jt.isBatchedMesh&&no.batching===!0||Jt.isBatchedMesh&&no.batchingColor===!0&&Jt.colorTexture===null||Jt.isBatchedMesh&&no.batchingColor===!1&&Jt.colorTexture!==null||Jt.isInstancedMesh&&no.instancing===!1||!Jt.isInstancedMesh&&no.instancing===!0||Jt.isSkinnedMesh&&no.skinning===!1||!Jt.isSkinnedMesh&&no.skinning===!0||Jt.isInstancedMesh&&no.instancingColor===!0&&Jt.instanceColor===null||Jt.isInstancedMesh&&no.instancingColor===!1&&Jt.instanceColor!==null||Jt.isInstancedMesh&&no.instancingMorph===!0&&Jt.morphTexture===null||Jt.isInstancedMesh&&no.instancingMorph===!1&&Jt.morphTexture!==null||no.envMap!==Hs||Sn.fog===!0&&no.fog!==ur||no.numClippingPlanes!==void 0&&(no.numClippingPlanes!==ta.numPlanes||no.numIntersection!==ta.numIntersection)||no.vertexAlphas!==Do||no.vertexTangents!==Bo||no.morphTargets!==vo||no.morphNormals!==Ka||no.morphColors!==kl||no.toneMapping!==$l||no.morphTargetsCount!==qa)&&(Ja=!0):(Ja=!0,no.__version=Sn.version);let Gu=no.currentProgram;Ja===!0&&(Gu=nm(Sn,jt,Jt));let hp=!1,mu=!1,Ym=!1;const nc=Gu.getUniforms(),Mh=no.uniforms;if(di.useProgram(Gu.program)&&(hp=!0,mu=!0,Ym=!0),Sn.id!==xt&&(xt=Sn.id,mu=!0),hp||Te!==Re){nc.setValue(ke,"projectionMatrix",Re.projectionMatrix),nc.setValue(ke,"viewMatrix",Re.matrixWorldInverse);const Au=nc.map.cameraPosition;Au!==void 0&&Au.setValue(ke,Pr.setFromMatrixPosition(Re.matrixWorld)),Dr.logarithmicDepthBuffer&&nc.setValue(ke,"logDepthBufFC",2/(Math.log(Re.far+1)/Math.LN2)),(Sn.isMeshPhongMaterial||Sn.isMeshToonMaterial||Sn.isMeshLambertMaterial||Sn.isMeshBasicMaterial||Sn.isMeshStandardMaterial||Sn.isShaderMaterial)&&nc.setValue(ke,"isOrthographic",Re.isOrthographicCamera===!0),Te!==Re&&(Te=Re,mu=!0,Ym=!0)}if(Jt.isSkinnedMesh){nc.setOptional(ke,Jt,"bindMatrix"),nc.setOptional(ke,Jt,"bindMatrixInverse");const Au=Jt.skeleton;Au&&(Au.boneTexture===null&&Au.computeBoneTexture(),nc.setValue(ke,"boneTexture",Au.boneTexture,Ts))}Jt.isBatchedMesh&&(nc.setOptional(ke,Jt,"batchingTexture"),nc.setValue(ke,"batchingTexture",Jt._matricesTexture,Ts),nc.setOptional(ke,Jt,"batchingIdTexture"),nc.setValue(ke,"batchingIdTexture",Jt._indirectTexture,Ts),nc.setOptional(ke,Jt,"batchingColorTexture"),Jt._colorsTexture!==null&&nc.setValue(ke,"batchingColorTexture",Jt._colorsTexture,Ts));const Km=vn.morphAttributes;if((Km.position!==void 0||Km.normal!==void 0||Km.color!==void 0)&&Ia.update(Jt,vn,Gu),(mu||no.receiveShadow!==Jt.receiveShadow)&&(no.receiveShadow=Jt.receiveShadow,nc.setValue(ke,"receiveShadow",Jt.receiveShadow)),Sn.isMeshGouraudMaterial&&Sn.envMap!==null&&(Mh.envMap.value=Hs,Mh.flipEnvMap.value=Hs.isCubeTexture&&Hs.isRenderTargetTexture===!1?-1:1),Sn.isMeshStandardMaterial&&Sn.envMap===null&&jt.environment!==null&&(Mh.envMapIntensity.value=jt.environmentIntensity),mu&&(nc.setValue(ke,"toneMappingExposure",Q.toneMappingExposure),no.needsLights&&Wx(Mh,Ym),ur&&Sn.fog===!0&&co.refreshFogUniforms(Mh,ur),co.refreshMaterialUniforms(Mh,Sn,ki,Un,B.state.transmissionRenderTarget[Re.id]),Sa.upload(ke,w0(no),Mh,Ts)),Sn.isShaderMaterial&&Sn.uniformsNeedUpdate===!0&&(Sa.upload(ke,w0(no),Mh,Ts),Sn.uniformsNeedUpdate=!1),Sn.isSpriteMaterial&&nc.setValue(ke,"center",Jt.center),nc.setValue(ke,"modelViewMatrix",Jt.modelViewMatrix),nc.setValue(ke,"normalMatrix",Jt.normalMatrix),nc.setValue(ke,"modelMatrix",Jt.matrixWorld),Sn.isShaderMaterial||Sn.isRawShaderMaterial){const Au=Sn.uniformsGroups;for(let qm=0,Zx=Au.length;qm<Zx;qm++){const E0=Au[qm];El.update(E0,Gu),El.bind(E0,Gu)}}return Gu}function Wx(Re,jt){Re.ambientLightColor.needsUpdate=jt,Re.lightProbe.needsUpdate=jt,Re.directionalLights.needsUpdate=jt,Re.directionalLightShadows.needsUpdate=jt,Re.pointLights.needsUpdate=jt,Re.pointLightShadows.needsUpdate=jt,Re.spotLights.needsUpdate=jt,Re.spotLightShadows.needsUpdate=jt,Re.rectAreaLights.needsUpdate=jt,Re.hemisphereLights.needsUpdate=jt}function jx(Re){return Re.isMeshLambertMaterial||Re.isMeshToonMaterial||Re.isMeshPhongMaterial||Re.isMeshStandardMaterial||Re.isShadowMaterial||Re.isShaderMaterial&&Re.lights===!0}this.getActiveCubeFace=function(){return St},this.getActiveMipmapLevel=function(){return Ne},this.getRenderTarget=function(){return Je},this.setRenderTargetTextures=function(Re,jt,vn){Lr.get(Re.texture).__webglTexture=jt,Lr.get(Re.depthTexture).__webglTexture=vn;const Sn=Lr.get(Re);Sn.__hasExternalTextures=!0,Sn.__autoAllocateDepthBuffer=vn===void 0,Sn.__autoAllocateDepthBuffer||$i.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Sn.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Re,jt){const vn=Lr.get(Re);vn.__webglFramebuffer=jt,vn.__useDefaultFramebuffer=jt===void 0},this.setRenderTarget=function(Re,jt=0,vn=0){Je=Re,St=jt,Ne=vn;let Sn=!0,Jt=null,ur=!1,ns=!1;if(Re){const Hs=Lr.get(Re);Hs.__useDefaultFramebuffer!==void 0?(di.bindFramebuffer(ke.FRAMEBUFFER,null),Sn=!1):Hs.__webglFramebuffer===void 0?Ts.setupRenderTarget(Re):Hs.__hasExternalTextures&&Ts.rebindTextures(Re,Lr.get(Re.texture).__webglTexture,Lr.get(Re.depthTexture).__webglTexture);const Do=Re.texture;(Do.isData3DTexture||Do.isDataArrayTexture||Do.isCompressedArrayTexture)&&(ns=!0);const Bo=Lr.get(Re).__webglFramebuffer;Re.isWebGLCubeRenderTarget?(Array.isArray(Bo[jt])?Jt=Bo[jt][vn]:Jt=Bo[jt],ur=!0):Re.samples>0&&Ts.useMultisampledRTT(Re)===!1?Jt=Lr.get(Re).__webglMultisampledFramebuffer:Array.isArray(Bo)?Jt=Bo[vn]:Jt=Bo,pe.copy(Re.viewport),Ct.copy(Re.scissor),Tn=Re.scissorTest}else pe.copy(us).multiplyScalar(ki).floor(),Ct.copy(ms).multiplyScalar(ki).floor(),Tn=ga;if(di.bindFramebuffer(ke.FRAMEBUFFER,Jt)&&Sn&&di.drawBuffers(Re,Jt),di.viewport(pe),di.scissor(Ct),di.setScissorTest(Tn),ur){const Hs=Lr.get(Re.texture);ke.framebufferTexture2D(ke.FRAMEBUFFER,ke.COLOR_ATTACHMENT0,ke.TEXTURE_CUBE_MAP_POSITIVE_X+jt,Hs.__webglTexture,vn)}else if(ns){const Hs=Lr.get(Re.texture),Do=jt||0;ke.framebufferTextureLayer(ke.FRAMEBUFFER,ke.COLOR_ATTACHMENT0,Hs.__webglTexture,vn||0,Do)}xt=-1},this.readRenderTargetPixels=function(Re,jt,vn,Sn,Jt,ur,ns){if(!(Re&&Re.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Bs=Lr.get(Re).__webglFramebuffer;if(Re.isWebGLCubeRenderTarget&&ns!==void 0&&(Bs=Bs[ns]),Bs){di.bindFramebuffer(ke.FRAMEBUFFER,Bs);try{const Hs=Re.texture,Do=Hs.format,Bo=Hs.type;if(!Dr.textureFormatReadable(Do)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Dr.textureTypeReadable(Bo)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}jt>=0&&jt<=Re.width-Sn&&vn>=0&&vn<=Re.height-Jt&&ke.readPixels(jt,vn,Sn,Jt,Qo.convert(Do),Qo.convert(Bo),ur)}finally{const Hs=Je!==null?Lr.get(Je).__webglFramebuffer:null;di.bindFramebuffer(ke.FRAMEBUFFER,Hs)}}},this.readRenderTargetPixelsAsync=function(Re,jt,vn,Sn,Jt,ur,ns){return Tl(this,null,function*(){if(!(Re&&Re.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Bs=Lr.get(Re).__webglFramebuffer;if(Re.isWebGLCubeRenderTarget&&ns!==void 0&&(Bs=Bs[ns]),Bs){di.bindFramebuffer(ke.FRAMEBUFFER,Bs);try{const Hs=Re.texture,Do=Hs.format,Bo=Hs.type;if(!Dr.textureFormatReadable(Do))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Dr.textureTypeReadable(Bo))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(jt>=0&&jt<=Re.width-Sn&&vn>=0&&vn<=Re.height-Jt){const vo=ke.createBuffer();ke.bindBuffer(ke.PIXEL_PACK_BUFFER,vo),ke.bufferData(ke.PIXEL_PACK_BUFFER,ur.byteLength,ke.STREAM_READ),ke.readPixels(jt,vn,Sn,Jt,Qo.convert(Do),Qo.convert(Bo),0),ke.flush();const Ka=ke.fenceSync(ke.SYNC_GPU_COMMANDS_COMPLETE,0);yield kn(ke,Ka,4);try{ke.bindBuffer(ke.PIXEL_PACK_BUFFER,vo),ke.getBufferSubData(ke.PIXEL_PACK_BUFFER,0,ur)}finally{ke.deleteBuffer(vo),ke.deleteSync(Ka)}return ur}}finally{const Hs=Je!==null?Lr.get(Je).__webglFramebuffer:null;di.bindFramebuffer(ke.FRAMEBUFFER,Hs)}}})},this.copyFramebufferToTexture=function(Re,jt=null,vn=0){Re.isTexture!==!0&&(Xn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),jt=arguments[0]||null,Re=arguments[1]);const Sn=Math.pow(2,-vn),Jt=Math.floor(Re.image.width*Sn),ur=Math.floor(Re.image.height*Sn),ns=jt!==null?jt.x:0,Bs=jt!==null?jt.y:0;Ts.setTexture2D(Re,0),ke.copyTexSubImage2D(ke.TEXTURE_2D,vn,0,0,ns,Bs,Jt,ur),di.unbindTexture()},this.copyTextureToTexture=function(Re,jt,vn=null,Sn=null,Jt=0){Re.isTexture!==!0&&(Xn("WebGLRenderer: copyTextureToTexture function signature has changed."),Sn=arguments[0]||null,Re=arguments[1],jt=arguments[2],Jt=arguments[3]||0,vn=null);let ur,ns,Bs,Hs,Do,Bo;vn!==null?(ur=vn.max.x-vn.min.x,ns=vn.max.y-vn.min.y,Bs=vn.min.x,Hs=vn.min.y):(ur=Re.image.width,ns=Re.image.height,Bs=0,Hs=0),Sn!==null?(Do=Sn.x,Bo=Sn.y):(Do=0,Bo=0);const vo=Qo.convert(jt.format),Ka=Qo.convert(jt.type);Ts.setTexture2D(jt,0),ke.pixelStorei(ke.UNPACK_FLIP_Y_WEBGL,jt.flipY),ke.pixelStorei(ke.UNPACK_PREMULTIPLY_ALPHA_WEBGL,jt.premultiplyAlpha),ke.pixelStorei(ke.UNPACK_ALIGNMENT,jt.unpackAlignment);const kl=ke.getParameter(ke.UNPACK_ROW_LENGTH),$l=ke.getParameter(ke.UNPACK_IMAGE_HEIGHT),gu=ke.getParameter(ke.UNPACK_SKIP_PIXELS),qa=ke.getParameter(ke.UNPACK_SKIP_ROWS),no=ke.getParameter(ke.UNPACK_SKIP_IMAGES),wc=Re.isCompressedTexture?Re.mipmaps[Jt]:Re.image;ke.pixelStorei(ke.UNPACK_ROW_LENGTH,wc.width),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,wc.height),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,Bs),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,Hs),Re.isDataTexture?ke.texSubImage2D(ke.TEXTURE_2D,Jt,Do,Bo,ur,ns,vo,Ka,wc.data):Re.isCompressedTexture?ke.compressedTexSubImage2D(ke.TEXTURE_2D,Jt,Do,Bo,wc.width,wc.height,vo,wc.data):ke.texSubImage2D(ke.TEXTURE_2D,Jt,Do,Bo,ur,ns,vo,Ka,wc),ke.pixelStorei(ke.UNPACK_ROW_LENGTH,kl),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,$l),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,gu),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,qa),ke.pixelStorei(ke.UNPACK_SKIP_IMAGES,no),Jt===0&&jt.generateMipmaps&&ke.generateMipmap(ke.TEXTURE_2D),di.unbindTexture()},this.copyTextureToTexture3D=function(Re,jt,vn=null,Sn=null,Jt=0){Re.isTexture!==!0&&(Xn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),vn=arguments[0]||null,Sn=arguments[1]||null,Re=arguments[2],jt=arguments[3],Jt=arguments[4]||0);let ur,ns,Bs,Hs,Do,Bo,vo,Ka,kl;const $l=Re.isCompressedTexture?Re.mipmaps[Jt]:Re.image;vn!==null?(ur=vn.max.x-vn.min.x,ns=vn.max.y-vn.min.y,Bs=vn.max.z-vn.min.z,Hs=vn.min.x,Do=vn.min.y,Bo=vn.min.z):(ur=$l.width,ns=$l.height,Bs=$l.depth,Hs=0,Do=0,Bo=0),Sn!==null?(vo=Sn.x,Ka=Sn.y,kl=Sn.z):(vo=0,Ka=0,kl=0);const gu=Qo.convert(jt.format),qa=Qo.convert(jt.type);let no;if(jt.isData3DTexture)Ts.setTexture3D(jt,0),no=ke.TEXTURE_3D;else if(jt.isDataArrayTexture||jt.isCompressedArrayTexture)Ts.setTexture2DArray(jt,0),no=ke.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ke.pixelStorei(ke.UNPACK_FLIP_Y_WEBGL,jt.flipY),ke.pixelStorei(ke.UNPACK_PREMULTIPLY_ALPHA_WEBGL,jt.premultiplyAlpha),ke.pixelStorei(ke.UNPACK_ALIGNMENT,jt.unpackAlignment);const wc=ke.getParameter(ke.UNPACK_ROW_LENGTH),Ja=ke.getParameter(ke.UNPACK_IMAGE_HEIGHT),Gu=ke.getParameter(ke.UNPACK_SKIP_PIXELS),hp=ke.getParameter(ke.UNPACK_SKIP_ROWS),mu=ke.getParameter(ke.UNPACK_SKIP_IMAGES);ke.pixelStorei(ke.UNPACK_ROW_LENGTH,$l.width),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,$l.height),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,Hs),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,Do),ke.pixelStorei(ke.UNPACK_SKIP_IMAGES,Bo),Re.isDataTexture||Re.isData3DTexture?ke.texSubImage3D(no,Jt,vo,Ka,kl,ur,ns,Bs,gu,qa,$l.data):jt.isCompressedArrayTexture?ke.compressedTexSubImage3D(no,Jt,vo,Ka,kl,ur,ns,Bs,gu,$l.data):ke.texSubImage3D(no,Jt,vo,Ka,kl,ur,ns,Bs,gu,qa,$l),ke.pixelStorei(ke.UNPACK_ROW_LENGTH,wc),ke.pixelStorei(ke.UNPACK_IMAGE_HEIGHT,Ja),ke.pixelStorei(ke.UNPACK_SKIP_PIXELS,Gu),ke.pixelStorei(ke.UNPACK_SKIP_ROWS,hp),ke.pixelStorei(ke.UNPACK_SKIP_IMAGES,mu),Jt===0&&jt.generateMipmaps&&ke.generateMipmap(no),di.unbindTexture()},this.initRenderTarget=function(Re){Lr.get(Re).__webglFramebuffer===void 0&&Ts.setupRenderTarget(Re)},this.initTexture=function(Re){Re.isCubeTexture?Ts.setTextureCube(Re,0):Re.isData3DTexture?Ts.setTexture3D(Re,0):Re.isDataArrayTexture||Re.isCompressedArrayTexture?Ts.setTexture2DArray(Re,0):Ts.setTexture2D(Re,0),di.unbindTexture()},this.resetState=function(){St=0,Ne=0,Je=null,di.reset(),ba.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return nn}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Pl?"display-p3":"srgb",t.unpackColorSpace=Ri.workingColorSpace===Ze?"display-p3":"srgb"}}class om{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new wr(e),this.density=t}clone(){return new om(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class am{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new wr(e),this.near=t,this.far=i}clone(){return new am(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class tv extends sl{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new tl,this.environmentIntensity=1,this.environmentRotation=new tl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class lm{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=_s,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ki()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Xn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let s=0,a=this.stride;s<a;s++)this.array[e+s]=t.array[i+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ki()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Xc=new je;class af{constructor(e,t,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Xc.fromBufferAttribute(this,t),Xc.applyMatrix4(e),this.setXYZ(t,Xc.x,Xc.y,Xc.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Xc.fromBufferAttribute(this,t),Xc.applyNormalMatrix(e),this.setXYZ(t,Xc.x,Xc.y,Xc.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Xc.fromBufferAttribute(this,t),Xc.transformDirection(e),this.setXYZ(t,Xc.x,Xc.y,Xc.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Pi(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=jn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Pi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Pi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Pi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Pi(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this}setXYZW(e,t,i,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),i=jn(i,this.array),s=jn(s,this.array),a=jn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=s,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return new pl(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new af(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class nv extends null{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new wr(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ip;const Hp=new je,rp=new je,sp=new je,op=new Zt,Vp=new Zt,iv=new qs,gg=new je,Wp=new je,mg=new je,rv=new Zt,cm=new Zt,sv=new Zt;class Y0 extends null{constructor(e=new nv){if(super(),this.isSprite=!0,this.type="Sprite",ip===void 0){ip=new qo;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new lm(t,5);ip.setIndex([0,1,2,0,2,3]),ip.setAttribute("position",new af(i,3,0,!1)),ip.setAttribute("uv",new af(i,2,3,!1))}this.geometry=ip,this.material=e,this.center=new Zt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),rp.setFromMatrixScale(this.matrixWorld),iv.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),sp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&rp.multiplyScalar(-sp.z);const i=this.material.rotation;let s,a;i!==0&&(a=Math.cos(i),s=Math.sin(i));const d=this.center;vg(gg.set(-.5,-.5,0),sp,d,rp,s,a),vg(Wp.set(.5,-.5,0),sp,d,rp,s,a),vg(mg.set(.5,.5,0),sp,d,rp,s,a),rv.set(0,0),cm.set(1,0),sv.set(1,1);let p=e.ray.intersectTriangle(gg,Wp,mg,!1,Hp);if(p===null&&(vg(Wp.set(-.5,.5,0),sp,d,rp,s,a),cm.set(0,1),p=e.ray.intersectTriangle(gg,mg,Wp,!1,Hp),p===null))return;const v=e.ray.origin.distanceTo(Hp);v<e.near||v>e.far||t.push({distance:v,point:Hp.clone(),uv:Ac.getInterpolation(Hp,gg,Wp,mg,rv,cm,sv,new Zt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vg(l,e,t,i,s,a){op.subVectors(l,t).addScalar(.5).multiply(i),s!==void 0?(Vp.x=a*op.x-s*op.y,Vp.y=s*op.x+a*op.y):Vp.copy(op),l.copy(e),l.x+=Vp.x,l.y+=Vp.y,l.applyMatrix4(iv)}const yg=new je,ov=new je;class K0 extends null{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,s=t.length;i<s;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const s=this.levels;let a;for(a=0;a<s.length&&!(t<s[a].distance);a++);return s.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){yg.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(yg);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){yg.setFromMatrixPosition(e.matrixWorld),ov.setFromMatrixPosition(this.matrixWorld);const i=yg.distanceTo(ov)/e.zoom;t[0].object.visible=!0;let s,a;for(s=1,a=t.length;s<a;s++){let d=t[s].distance;if(t[s].object.visible&&(d-=d*t[s].hysteresis),i>=d)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let s=0,a=i.length;s<a;s++){const d=i[s];t.object.levels.push({object:d.object.uuid,distance:d.distance,hysteresis:d.hysteresis})}return t}}const av=new je,lv=new ao,cv=new ao,q0=new je,uv=new qs,xg=new je,um=new Jl,dv=new qs,dm=new Ou;class J0 extends null{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=qn,this.bindMatrix=new qs,this.bindMatrixInverse=new qs,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ql),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xg),this.boundingBox.expandByPoint(xg)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Jl),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xg),this.boundingSphere.expandByPoint(xg)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),um.copy(this.boundingSphere),um.applyMatrix4(s),e.ray.intersectsSphere(um)!==!1&&(dv.copy(s).invert(),dm.copy(e.ray).applyMatrix4(dv),!(this.boundingBox!==null&&dm.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,dm)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ao,t=this.geometry.attributes.skinWeight;for(let i=0,s=t.count;i<s;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===qn?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Fi?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,s=this.geometry;lv.fromBufferAttribute(s.attributes.skinIndex,e),cv.fromBufferAttribute(s.attributes.skinWeight,e),av.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const d=cv.getComponent(a);if(d!==0){const p=lv.getComponent(a);uv.multiplyMatrices(i.bones[p].matrixWorld,i.boneInverses[p]),t.addScaledVector(q0.copy(av).applyMatrix4(uv),d)}}return t.applyMatrix4(this.bindMatrixInverse)}}class hv extends null{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Bd extends null{constructor(e=null,t=1,i=1,s,a,d,p,v,S=gn,M=gn,A,P){super(null,d,p,v,S,M,s,a,A,P),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const fv=new qs,Q0=new qs;class hm{constructor(e=[],t=[]){this.uuid=Ki(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new qs)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new qs;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let a=0,d=e.length;a<d;a++){const p=e[a]?e[a].matrixWorld:Q0;fv.multiplyMatrices(p,t[a]),fv.toArray(i,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new hm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Bd(t,e,e,Ss,Si);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,s=e.bones.length;i<s;i++){const a=e.bones[i];let d=t[a];d===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),d=new hv),this.bones.push(d),this.boneInverses.push(new qs().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let s=0,a=t.length;s<a;s++){const d=t[s];e.bones.push(d.uuid);const p=i[s];e.boneInverses.push(p.toArray())}return e}}class jp extends null{constructor(e,t,i,s=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ap=new qs,pv=new qs,bg=null,gv=new ql,ey=new qs,Zp=new Ql,Gp=new Jl;class ty extends null{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new jp(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,ey)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ql),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,ap),gv.copy(e.boundingBox).applyMatrix4(ap),this.boundingBox.union(gv)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Jl),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,ap),Gp.copy(e.boundingSphere).applyMatrix4(ap),this.boundingSphere.union(Gp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,s=this.morphTexture.source.data.data,a=i.length+1,d=e*a+1;for(let p=0;p<i.length;p++)i[p]=s[d+p]}raycast(e,t){const i=this.matrixWorld,s=this.count;if(Zp.geometry=this.geometry,Zp.material=this.material,Zp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Gp.copy(this.boundingSphere),Gp.applyMatrix4(i),e.ray.intersectsSphere(Gp)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,ap),pv.multiplyMatrices(i,ap),Zp.matrixWorld=pv,Zp.raycast(e,bg);for(let d=0,p=bg.length;d<p;d++){const v=bg[d];v.instanceId=a,v.object=this,t.push(v)}bg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new jp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new Bd(new Float32Array(s*this.count),s,this.count,zn,Si));const a=this.morphTexture.source.data.data;let d=0;for(let S=0;S<i.length;S++)d+=i[S];const p=this.geometry.morphTargetsRelative?1:1-d,v=s*e;a[v]=p,a.set(i,v+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function ny(l,e){return l.z-e.z}function iy(l,e){return e.z-l.z}class ry{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const d=s[this.index];a.push(d),this.index++,d.start=e.start,d.count=e.count,d.z=t,d.index=i}reset(){this.list.length=0,this.index=0}}const Sh=new qs,fm=new qs,sy=new qs,oy=new wr(1,1,1),mv=new qs,pm=new rh,Sg=new ql,lf=new Jl,Xp=new je,vv=new je,ay=new je,gm=new ry,Fc=new Ql,Cg=null;function ly(l,e,t=0){const i=e.itemSize;if(l.isInterleavedBufferAttribute||l.array.constructor!==e.array.constructor){const s=l.count;for(let a=0;a<s;a++)for(let d=0;d<i;d++)e.setComponent(a+t,d,l.getComponent(a,d))}else e.array.set(l.array,t*i);e.needsUpdate=!0}class cy extends null{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,t,i=t*2,s){super(new qo,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Bd(t,e,e,Ss,Si);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Bd(t,e,e,an,ti);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxIndexCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Bd(t,e,e,Ss,Si);i.colorSpace=Ri.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const d=e.getAttribute(a),{array:p,itemSize:v,normalized:S}=d,M=new p.constructor(i*v),A=new pl(M,v,S);t.setAttribute(a,A)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new pl(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=e.getAttribute(i),a=t.getAttribute(i);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ql);const e=this._geometryCount,t=this.boundingBox,i=this._drawInfo;t.makeEmpty();for(let s=0;s<e;s++){if(i[s].active===!1)continue;const a=i[s].geometryIndex;this.getMatrixAt(s,Sh),this.getBoundingBoxAt(a,Sg).applyMatrix4(Sh),t.union(Sg)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jl);const e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(let i=0,s=t.length;i<s;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,Sh),this.getBoundingSphereAt(a,lf).applyMatrix4(Sh),e.union(lf)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const t=this._drawInfo.length-1,i=this._matricesTexture,s=i.image.data;sy.toArray(s,t*16),i.needsUpdate=!0;const a=this._colorsTexture;return a&&(oy.toArray(a.image.data,t*4),a.needsUpdate=!0),t}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const s={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const d=this._reservedRanges,p=this._drawRanges,v=this._bounds;this._geometryCount!==0&&(a=d[d.length-1]),t===-1?s.vertexCount=e.getAttribute("position").count:s.vertexCount=t,a===null?s.vertexStart=0:s.vertexStart=a.vertexStart+a.vertexCount;const S=e.getIndex(),M=S!==null;if(M&&(i===-1?s.indexCount=S.count:s.indexCount=i,a===null?s.indexStart=0:s.indexStart=a.indexStart+a.indexCount),s.indexStart!==-1&&s.indexStart+s.indexCount>this._maxIndexCount||s.vertexStart+s.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const A=this._geometryCount;return this._geometryCount++,d.push(s),p.push({start:M?s.indexStart:s.vertexStart,count:-1}),v.push({boxInitialized:!1,box:new ql,sphereInitialized:!1,sphere:new Jl}),this.setGeometryAt(A,e),A}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,s=i.getIndex()!==null,a=i.getIndex(),d=t.getIndex(),p=this._reservedRanges[e];if(s&&d.count>p.indexCount||t.attributes.position.count>p.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const v=p.vertexStart,S=p.vertexCount;for(const O in i.attributes){const F=t.getAttribute(O),W=i.getAttribute(O);ly(F,W,v);const B=F.itemSize;for(let N=F.count,se=S;N<se;N++){const Q=v+N;for(let ae=0;ae<B;ae++)W.setComponent(Q,ae,0)}W.needsUpdate=!0,W.addUpdateRange(v*B,S*B)}if(s){const O=p.indexStart;for(let F=0;F<d.count;F++)a.setX(O+F,v+d.getX(F));for(let F=d.count,W=p.indexCount;F<W;F++)a.setX(O+F,v);a.needsUpdate=!0,a.addUpdateRange(O,p.indexCount)}const M=this._bounds[e];t.boundingBox!==null?(M.box.copy(t.boundingBox),M.boxInitialized=!0):M.boxInitialized=!1,t.boundingSphere!==null?(M.sphere.copy(t.boundingSphere),M.sphereInitialized=!0):M.sphereInitialized=!1;const A=this._drawRanges[e],P=t.getAttribute("position");return A.count=s?d.count:P.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this._bounds[e],s=i.box,a=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const d=a.index,p=a.attributes.position,v=this._drawRanges[e];for(let S=v.start,M=v.start+v.count;S<M;S++){let A=S;d&&(A=d.getX(A)),s.expandByPoint(Xp.fromBufferAttribute(p,A))}i.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this._bounds[e],s=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Sg),Sg.getCenter(s.center);const d=a.index,p=a.attributes.position,v=this._drawRanges[e];let S=0;for(let M=v.start,A=v.start+v.count;M<A;M++){let P=M;d&&(P=d.getX(P)),Xp.fromBufferAttribute(p,P),S=Math.max(S,s.center.distanceToSquared(Xp))}s.radius=Math.sqrt(S),i.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const i=this._drawInfo,s=this._matricesTexture,a=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?this:(t.toArray(a,e*16),s.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._drawInfo,s=this._matricesTexture.image.data;return e>=i.length||i[e].active===!1?null:t.fromArray(s,e*16)}setColorAt(e,t){this._colorsTexture===null&&this._initColorsTexture();const i=this._colorsTexture,s=this._colorsTexture.image.data,a=this._drawInfo;return e>=a.length||a[e].active===!1?this:(t.toArray(s,e*4),i.needsUpdate=!0,this)}getColorAt(e,t){const i=this._colorsTexture.image.data,s=this._drawInfo;return e>=s.length||s[e].active===!1?null:t.fromArray(i,e*4)}setVisibleAt(e,t){const i=this._drawInfo;return e>=i.length||i[e].active===!1||i[e].visible===t?this:(i[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._drawInfo;return e>=t.length||t[e].active===!1?!1:t[e].visible}raycast(e,t){const i=this._drawInfo,s=this._drawRanges,a=this.matrixWorld,d=this.geometry;Fc.material=this.material,Fc.geometry.index=d.index,Fc.geometry.attributes=d.attributes,Fc.geometry.boundingBox===null&&(Fc.geometry.boundingBox=new ql),Fc.geometry.boundingSphere===null&&(Fc.geometry.boundingSphere=new Jl);for(let p=0,v=i.length;p<v;p++){if(!i[p].visible||!i[p].active)continue;const S=i[p].geometryIndex,M=s[S];Fc.geometry.setDrawRange(M.start,M.count),this.getMatrixAt(p,Fc.matrixWorld).premultiply(a),this.getBoundingBoxAt(S,Fc.geometry.boundingBox),this.getBoundingSphereAt(S,Fc.geometry.boundingSphere),Fc.raycast(e,Cg);for(let A=0,P=Cg.length;A<P;A++){const O=Cg[A];O.object=this,O.batchId=p,t.push(O)}Cg.length=0}Fc.material=null,Fc.geometry.index=null,Fc.geometry.attributes={},Fc.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>ig({},t)),this._reservedRanges=e._reservedRanges.map(t=>ig({},t)),this._drawInfo=e._drawInfo.map(t=>ig({},t)),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,i,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const d=s.getIndex(),p=d===null?1:d.array.BYTES_PER_ELEMENT,v=this._drawInfo,S=this._multiDrawStarts,M=this._multiDrawCounts,A=this._drawRanges,P=this.perObjectFrustumCulled,O=this._indirectTexture,F=O.image.data;P&&(mv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),pm.setFromProjectionMatrix(mv,e.coordinateSystem));let W=0;if(this.sortObjects){fm.copy(this.matrixWorld).invert(),Xp.setFromMatrixPosition(i.matrixWorld).applyMatrix4(fm),vv.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(fm);for(let se=0,Q=v.length;se<Q;se++)if(v[se].visible&&v[se].active){const ae=v[se].geometryIndex;this.getMatrixAt(se,Sh),this.getBoundingSphereAt(ae,lf).applyMatrix4(Sh);let St=!1;if(P&&(St=!pm.intersectsSphere(lf)),!St){const Ne=ay.subVectors(lf.center,Xp).dot(vv);gm.push(A[ae],Ne,se)}}const B=gm.list,N=this.customSort;N===null?B.sort(a.transparent?iy:ny):N.call(this,B,i);for(let se=0,Q=B.length;se<Q;se++){const ae=B[se];S[W]=ae.start*p,M[W]=ae.count,F[W]=ae.index,W++}gm.reset()}else for(let B=0,N=v.length;B<N;B++)if(v[B].visible&&v[B].active){const se=v[B].geometryIndex;let Q=!1;if(P&&(this.getMatrixAt(B,Sh),this.getBoundingSphereAt(se,lf).applyMatrix4(Sh),Q=!pm.intersectsSphere(lf)),!Q){const ae=A[se];S[W]=ae.start*p,M[W]=ae.count,F[W]=B,W++}}O.needsUpdate=!0,this._multiDrawCount=W,this._visibilityChanged=!1}onBeforeShadow(e,t,i,s,a,d){this.onBeforeRender(e,null,s,a,d)}}class pu extends _u{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new wr(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const _g=new je,wg=new je,yv=new qs,Yp=new Ou,Mg=new Jl,mm=new je,xv=new je;class Eg extends sl{constructor(e=new qo,t=new pu){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let s=1,a=t.count;s<a;s++)_g.fromBufferAttribute(t,s-1),wg.fromBufferAttribute(t,s),i[s]=i[s-1],i[s]+=_g.distanceTo(wg);e.setAttribute("lineDistance",new fs(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,a=e.params.Line.threshold,d=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Mg.copy(i.boundingSphere),Mg.applyMatrix4(s),Mg.radius+=a,e.ray.intersectsSphere(Mg)===!1)return;yv.copy(s).invert(),Yp.copy(e.ray).applyMatrix4(yv);const p=a/((this.scale.x+this.scale.y+this.scale.z)/3),v=p*p,S=this.isLineSegments?2:1,M=i.index,P=i.attributes.position;if(M!==null){const O=Math.max(0,d.start),F=Math.min(M.count,d.start+d.count);for(let W=O,B=F-1;W<B;W+=S){const N=M.getX(W),se=M.getX(W+1),Q=Tg(this,e,Yp,v,N,se);Q&&t.push(Q)}if(this.isLineLoop){const W=M.getX(F-1),B=M.getX(O),N=Tg(this,e,Yp,v,W,B);N&&t.push(N)}}else{const O=Math.max(0,d.start),F=Math.min(P.count,d.start+d.count);for(let W=O,B=F-1;W<B;W+=S){const N=Tg(this,e,Yp,v,W,W+1);N&&t.push(N)}if(this.isLineLoop){const W=Tg(this,e,Yp,v,F-1,O);W&&t.push(W)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,d=s.length;a<d;a++){const p=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=a}}}}}function Tg(l,e,t,i,s,a){const d=l.geometry.attributes.position;if(_g.fromBufferAttribute(d,s),wg.fromBufferAttribute(d,a),t.distanceSqToSegment(_g,wg,mm,xv)>i)return;mm.applyMatrix4(l.matrixWorld);const v=e.ray.origin.distanceTo(mm);if(!(v<e.near||v>e.far))return{distance:v,point:xv.clone().applyMatrix4(l.matrixWorld),index:s,face:null,faceIndex:null,object:l}}const bv=new je,Sv=new je;class Cv extends null{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let s=0,a=t.count;s<a;s+=2)bv.fromBufferAttribute(t,s),Sv.fromBufferAttribute(t,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+bv.distanceTo(Sv);e.setAttribute("lineDistance",new fs(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class uy extends null{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class _v extends null{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new wr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const wv=new qs,vm=new Ou,Ag=new Jl,Pg=new je;class dy extends null{constructor(e=new qo,t=new _v){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,s=this.matrixWorld,a=e.params.Points.threshold,d=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ag.copy(i.boundingSphere),Ag.applyMatrix4(s),Ag.radius+=a,e.ray.intersectsSphere(Ag)===!1)return;wv.copy(s).invert(),vm.copy(e.ray).applyMatrix4(wv);const p=a/((this.scale.x+this.scale.y+this.scale.z)/3),v=p*p,S=i.index,A=i.attributes.position;if(S!==null){const P=Math.max(0,d.start),O=Math.min(S.count,d.start+d.count);for(let F=P,W=O;F<W;F++){const B=S.getX(F);Pg.fromBufferAttribute(A,B),Mv(Pg,B,v,s,e,t,this)}}else{const P=Math.max(0,d.start),O=Math.min(A.count,d.start+d.count);for(let F=P,W=O;F<W;F++)Pg.fromBufferAttribute(A,F),Mv(Pg,F,v,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const s=t[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,d=s.length;a<d;a++){const p=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=a}}}}}function Mv(l,e,t,i,s,a,d){const p=vm.distanceSqToPoint(l);if(p<t){const v=new je;vm.closestPointToPoint(l,v),v.applyMatrix4(i);const S=s.ray.origin.distanceTo(v);if(S<s.near||S>s.far)return;a.push({distance:S,distanceToRay:Math.sqrt(p),point:v,index:e,face:null,object:d})}}class Qx extends null{constructor(e,t,i,s,a,d,p,v,S){super(e,t,i,s,a,d,p,v,S),this.isVideoTexture=!0,this.minFilter=d!==void 0?d:ds,this.magFilter=a!==void 0?a:ds,this.generateMipmaps=!1;const M=this;function A(){M.needsUpdate=!0,e.requestVideoFrameCallback(A)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(A)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class eb extends null{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=gn,this.minFilter=gn,this.generateMipmaps=!1,this.needsUpdate=!0}}class hy extends null{constructor(e,t,i,s,a,d,p,v,S,M,A,P){super(null,d,p,v,S,M,s,a,A,P),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class tb extends null{constructor(e,t,i,s,a,d){super(e,t,i,a,d),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=ce,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class nb extends null{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,it),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class ib extends null{constructor(e,t,i,s,a,d,p,v,S){super(e,t,i,s,a,d,p,v,S),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ld{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,s=this.getPoint(0),a=0;t.push(0);for(let d=1;d<=e;d++)i=this.getPoint(d/e),a+=i.distanceTo(s),t.push(a),s=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let s=0;const a=i.length;let d;t?d=t:d=e*i[a-1];let p=0,v=a-1,S;for(;p<=v;)if(s=Math.floor(p+(v-p)/2),S=i[s]-d,S<0)p=s+1;else if(S>0)v=s-1;else{v=s;break}if(s=v,i[s]===d)return s/(a-1);const M=i[s],P=i[s+1]-M,O=(d-M)/P;return(s+O)/(a-1)}getTangent(e,t){let s=e-1e-4,a=e+1e-4;s<0&&(s=0),a>1&&(a=1);const d=this.getPoint(s),p=this.getPoint(a),v=t||(d.isVector2?new Zt:new je);return v.copy(p).sub(d).normalize(),v}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new je,s=[],a=[],d=[],p=new je,v=new qs;for(let O=0;O<=e;O++){const F=O/e;s[O]=this.getTangentAt(F,new je)}a[0]=new je,d[0]=new je;let S=Number.MAX_VALUE;const M=Math.abs(s[0].x),A=Math.abs(s[0].y),P=Math.abs(s[0].z);M<=S&&(S=M,i.set(1,0,0)),A<=S&&(S=A,i.set(0,1,0)),P<=S&&i.set(0,0,1),p.crossVectors(s[0],i).normalize(),a[0].crossVectors(s[0],p),d[0].crossVectors(s[0],a[0]);for(let O=1;O<=e;O++){if(a[O]=a[O-1].clone(),d[O]=d[O-1].clone(),p.crossVectors(s[O-1],s[O]),p.length()>Number.EPSILON){p.normalize();const F=Math.acos(sr(s[O-1].dot(s[O]),-1,1));a[O].applyMatrix4(v.makeRotationAxis(p,F))}d[O].crossVectors(s[O],a[O])}if(t===!0){let O=Math.acos(sr(a[0].dot(a[e]),-1,1));O/=e,s[0].dot(p.crossVectors(a[0],a[e]))>0&&(O=-O);for(let F=1;F<=e;F++)a[F].applyMatrix4(v.makeRotationAxis(s[F],O*F)),d[F].crossVectors(s[F],a[F])}return{tangents:s,normals:a,binormals:d}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ym extends ld{constructor(e=0,t=0,i=1,s=1,a=0,d=Math.PI*2,p=!1,v=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=d,this.aClockwise=p,this.aRotation=v}getPoint(e,t=new Zt){const i=t,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const d=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(d?a=0:a=s),this.aClockwise===!0&&!d&&(a===s?a=-s:a=a-s);const p=this.aStartAngle+e*a;let v=this.aX+this.xRadius*Math.cos(p),S=this.aY+this.yRadius*Math.sin(p);if(this.aRotation!==0){const M=Math.cos(this.aRotation),A=Math.sin(this.aRotation),P=v-this.aX,O=S-this.aY;v=P*M-O*A+this.aX,S=P*A+O*M+this.aY}return i.set(v,S)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class fy extends ym{constructor(e,t,i,s,a,d){super(e,t,i,i,s,a,d),this.isArcCurve=!0,this.type="ArcCurve"}}function xm(){let l=0,e=0,t=0,i=0;function s(a,d,p,v){l=a,e=p,t=-3*a+3*d-2*p-v,i=2*a-2*d+p+v}return{initCatmullRom:function(a,d,p,v,S){s(d,p,S*(p-a),S*(v-d))},initNonuniformCatmullRom:function(a,d,p,v,S,M,A){let P=(d-a)/S-(p-a)/(S+M)+(p-d)/M,O=(p-d)/M-(v-d)/(M+A)+(v-p)/A;P*=M,O*=M,s(d,p,P,O)},calc:function(a){const d=a*a,p=d*a;return l+e*a+t*d+i*p}}}const Rg=new je,bm=new xm,Sm=new xm,Cm=new xm;class Ev extends ld{constructor(e=[],t=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=s}getPoint(e,t=new je){const i=t,s=this.points,a=s.length,d=(a-(this.closed?0:1))*e;let p=Math.floor(d),v=d-p;this.closed?p+=p>0?0:(Math.floor(Math.abs(p)/a)+1)*a:v===0&&p===a-1&&(p=a-2,v=1);let S,M;this.closed||p>0?S=s[(p-1)%a]:(Rg.subVectors(s[0],s[1]).add(s[0]),S=Rg);const A=s[p%a],P=s[(p+1)%a];if(this.closed||p+2<a?M=s[(p+2)%a]:(Rg.subVectors(s[a-1],s[a-2]).add(s[a-1]),M=Rg),this.curveType==="centripetal"||this.curveType==="chordal"){const O=this.curveType==="chordal"?.5:.25;let F=Math.pow(S.distanceToSquared(A),O),W=Math.pow(A.distanceToSquared(P),O),B=Math.pow(P.distanceToSquared(M),O);W<1e-4&&(W=1),F<1e-4&&(F=W),B<1e-4&&(B=W),bm.initNonuniformCatmullRom(S.x,A.x,P.x,M.x,F,W,B),Sm.initNonuniformCatmullRom(S.y,A.y,P.y,M.y,F,W,B),Cm.initNonuniformCatmullRom(S.z,A.z,P.z,M.z,F,W,B)}else this.curveType==="catmullrom"&&(bm.initCatmullRom(S.x,A.x,P.x,M.x,this.tension),Sm.initCatmullRom(S.y,A.y,P.y,M.y,this.tension),Cm.initCatmullRom(S.z,A.z,P.z,M.z,this.tension));return i.set(bm.calc(v),Sm.calc(v),Cm.calc(v)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new je().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Tv(l,e,t,i,s){const a=(i-e)*.5,d=(s-t)*.5,p=l*l,v=l*p;return(2*t-2*i+a+d)*v+(-3*t+3*i-2*a-d)*p+a*l+t}function py(l,e){const t=1-l;return t*t*e}function gy(l,e){return 2*(1-l)*l*e}function my(l,e){return l*l*e}function Kp(l,e,t,i){return py(l,e)+gy(l,t)+my(l,i)}function vy(l,e){const t=1-l;return t*t*t*e}function yy(l,e){const t=1-l;return 3*t*t*l*e}function xy(l,e){return 3*(1-l)*l*l*e}function by(l,e){return l*l*l*e}function qp(l,e,t,i,s){return vy(l,e)+yy(l,t)+xy(l,i)+by(l,s)}class Av extends ld{constructor(e=new Zt,t=new Zt,i=new Zt,s=new Zt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new Zt){const i=t,s=this.v0,a=this.v1,d=this.v2,p=this.v3;return i.set(qp(e,s.x,a.x,d.x,p.x),qp(e,s.y,a.y,d.y,p.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Pv extends ld{constructor(e=new je,t=new je,i=new je,s=new je){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=s}getPoint(e,t=new je){const i=t,s=this.v0,a=this.v1,d=this.v2,p=this.v3;return i.set(qp(e,s.x,a.x,d.x,p.x),qp(e,s.y,a.y,d.y,p.y),qp(e,s.z,a.z,d.z,p.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Rv extends ld{constructor(e=new Zt,t=new Zt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Zt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Zt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sy extends ld{constructor(e=new je,t=new je){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new je){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ov extends ld{constructor(e=new Zt,t=new Zt,i=new Zt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Zt){const i=t,s=this.v0,a=this.v1,d=this.v2;return i.set(Kp(e,s.x,a.x,d.x),Kp(e,s.y,a.y,d.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Iv extends ld{constructor(e=new je,t=new je,i=new je){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new je){const i=t,s=this.v0,a=this.v1,d=this.v2;return i.set(Kp(e,s.x,a.x,d.x),Kp(e,s.y,a.y,d.y),Kp(e,s.z,a.z,d.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Dv extends ld{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Zt){const i=t,s=this.points,a=(s.length-1)*e,d=Math.floor(a),p=a-d,v=s[d===0?d:d-1],S=s[d],M=s[d>s.length-2?s.length-1:d+1],A=s[d>s.length-3?s.length-1:d+2];return i.set(Tv(p,v.x,S.x,M.x,A.x),Tv(p,v.y,S.y,M.y,A.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const s=e.points[t];this.points.push(new Zt().fromArray(s))}return this}}var Og=Object.freeze({__proto__:null,ArcCurve:fy,CatmullRomCurve3:Ev,CubicBezierCurve:Av,CubicBezierCurve3:Pv,EllipseCurve:ym,LineCurve:Rv,LineCurve3:Sy,QuadraticBezierCurve:Ov,QuadraticBezierCurve3:Iv,SplineCurve:Dv});class Cy extends ld{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Og[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=i){const d=s[a]-i,p=this.curves[a],v=p.getLength(),S=v===0?0:1-d/v;return p.getPointAt(S,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,s=this.curves.length;i<s;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let s=0,a=this.curves;s<a.length;s++){const d=a[s],p=d.isEllipseCurve?e*2:d.isLineCurve||d.isLineCurve3?1:d.isSplineCurve?e*d.points.length:e,v=d.getPoints(p);for(let S=0;S<v.length;S++){const M=v[S];i&&i.equals(M)||(t.push(M),i=M)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const s=e.curves[t];this.curves.push(new Og[s.type]().fromJSON(s))}return this}}class Ig extends Cy{constructor(e){super(),this.type="Path",this.currentPoint=new Zt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Rv(this.currentPoint.clone(),new Zt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,s){const a=new Ov(this.currentPoint.clone(),new Zt(e,t),new Zt(i,s));return this.curves.push(a),this.currentPoint.set(i,s),this}bezierCurveTo(e,t,i,s,a,d){const p=new Av(this.currentPoint.clone(),new Zt(e,t),new Zt(i,s),new Zt(a,d));return this.curves.push(p),this.currentPoint.set(a,d),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Dv(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,s,a,d){const p=this.currentPoint.x,v=this.currentPoint.y;return this.absarc(e+p,t+v,i,s,a,d),this}absarc(e,t,i,s,a,d){return this.absellipse(e,t,i,i,s,a,d),this}ellipse(e,t,i,s,a,d,p,v){const S=this.currentPoint.x,M=this.currentPoint.y;return this.absellipse(e+S,t+M,i,s,a,d,p,v),this}absellipse(e,t,i,s,a,d,p,v){const S=new ym(e,t,i,s,a,d,p,v);if(this.curves.length>0){const A=S.getPoint(0);A.equals(this.currentPoint)||this.lineTo(A.x,A.y)}this.curves.push(S);const M=S.getPoint(1);return this.currentPoint.copy(M),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Dg extends qo{constructor(e=[new Zt(0,-.5),new Zt(.5,0),new Zt(0,.5)],t=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:s},t=Math.floor(t),s=sr(s,0,Math.PI*2);const a=[],d=[],p=[],v=[],S=[],M=1/t,A=new je,P=new Zt,O=new je,F=new je,W=new je;let B=0,N=0;for(let se=0;se<=e.length-1;se++)switch(se){case 0:B=e[se+1].x-e[se].x,N=e[se+1].y-e[se].y,O.x=N*1,O.y=-B,O.z=N*0,W.copy(O),O.normalize(),v.push(O.x,O.y,O.z);break;case e.length-1:v.push(W.x,W.y,W.z);break;default:B=e[se+1].x-e[se].x,N=e[se+1].y-e[se].y,O.x=N*1,O.y=-B,O.z=N*0,F.copy(O),O.x+=W.x,O.y+=W.y,O.z+=W.z,O.normalize(),v.push(O.x,O.y,O.z),W.copy(F)}for(let se=0;se<=t;se++){const Q=i+se*M*s,ae=Math.sin(Q),St=Math.cos(Q);for(let Ne=0;Ne<=e.length-1;Ne++){A.x=e[Ne].x*ae,A.y=e[Ne].y,A.z=e[Ne].x*St,d.push(A.x,A.y,A.z),P.x=se/t,P.y=Ne/(e.length-1),p.push(P.x,P.y);const Je=v[3*Ne+0]*ae,xt=v[3*Ne+1],Te=v[3*Ne+0]*St;S.push(Je,xt,Te)}}for(let se=0;se<t;se++)for(let Q=0;Q<e.length-1;Q++){const ae=Q+se*e.length,St=ae,Ne=ae+e.length,Je=ae+e.length+1,xt=ae+1;a.push(St,Ne,xt),a.push(Je,xt,Ne)}this.setIndex(a),this.setAttribute("position",new fs(d,3)),this.setAttribute("uv",new fs(p,2)),this.setAttribute("normal",new fs(S,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Dg(e.points,e.segments,e.phiStart,e.phiLength)}}class _m extends Dg{constructor(e=1,t=1,i=4,s=8){const a=new Ig;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:s}}static fromJSON(e){return new _m(e.radius,e.length,e.capSegments,e.radialSegments)}}class wm extends qo{constructor(e=1,t=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:s},t=Math.max(3,t);const a=[],d=[],p=[],v=[],S=new je,M=new Zt;d.push(0,0,0),p.push(0,0,1),v.push(.5,.5);for(let A=0,P=3;A<=t;A++,P+=3){const O=i+A/t*s;S.x=e*Math.cos(O),S.y=e*Math.sin(O),d.push(S.x,S.y,S.z),p.push(0,0,1),M.x=(d[P]/e+1)/2,M.y=(d[P+1]/e+1)/2,v.push(M.x,M.y)}for(let A=1;A<=t;A++)a.push(A,A+1,0);this.setIndex(a),this.setAttribute("position",new fs(d,3)),this.setAttribute("normal",new fs(p,3)),this.setAttribute("uv",new fs(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Jp extends qo{constructor(e=1,t=1,i=1,s=32,a=1,d=!1,p=0,v=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:s,heightSegments:a,openEnded:d,thetaStart:p,thetaLength:v};const S=this;s=Math.floor(s),a=Math.floor(a);const M=[],A=[],P=[],O=[];let F=0;const W=[],B=i/2;let N=0;se(),d===!1&&(e>0&&Q(!0),t>0&&Q(!1)),this.setIndex(M),this.setAttribute("position",new fs(A,3)),this.setAttribute("normal",new fs(P,3)),this.setAttribute("uv",new fs(O,2));function se(){const ae=new je,St=new je;let Ne=0;const Je=(t-e)/i;for(let xt=0;xt<=a;xt++){const Te=[],pe=xt/a,Ct=pe*(t-e)+e;for(let Tn=0;Tn<=s;Tn++){const mn=Tn/s,Ln=mn*v+p,fi=Math.sin(Ln),Un=Math.cos(Ln);St.x=Ct*fi,St.y=-pe*i+B,St.z=Ct*Un,A.push(St.x,St.y,St.z),ae.set(fi,Je,Un).normalize(),P.push(ae.x,ae.y,ae.z),O.push(mn,1-pe),Te.push(F++)}W.push(Te)}for(let xt=0;xt<s;xt++)for(let Te=0;Te<a;Te++){const pe=W[Te][xt],Ct=W[Te+1][xt],Tn=W[Te+1][xt+1],mn=W[Te][xt+1];M.push(pe,Ct,mn),M.push(Ct,Tn,mn),Ne+=6}S.addGroup(N,Ne,0),N+=Ne}function Q(ae){const St=F,Ne=new Zt,Je=new je;let xt=0;const Te=ae===!0?e:t,pe=ae===!0?1:-1;for(let Tn=1;Tn<=s;Tn++)A.push(0,B*pe,0),P.push(0,pe,0),O.push(.5,.5),F++;const Ct=F;for(let Tn=0;Tn<=s;Tn++){const Ln=Tn/s*v+p,fi=Math.cos(Ln),Un=Math.sin(Ln);Je.x=Te*Un,Je.y=B*pe,Je.z=Te*fi,A.push(Je.x,Je.y,Je.z),P.push(0,pe,0),Ne.x=fi*.5+.5,Ne.y=Un*.5*pe+.5,O.push(Ne.x,Ne.y),F++}for(let Tn=0;Tn<s;Tn++){const mn=St+Tn,Ln=Ct+Tn;ae===!0?M.push(Ln,Ln+1,mn):M.push(Ln+1,Ln,mn),xt+=3}S.addGroup(N,xt,ae===!0?1:2),N+=xt}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Mm extends Jp{constructor(e=1,t=1,i=32,s=1,a=!1,d=0,p=Math.PI*2){super(0,e,t,i,s,a,d,p),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:d,thetaLength:p}}static fromJSON(e){return new Mm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class cf extends qo{constructor(e=[],t=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:s};const a=[],d=[];p(s),S(i),M(),this.setAttribute("position",new fs(a,3)),this.setAttribute("normal",new fs(a.slice(),3)),this.setAttribute("uv",new fs(d,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function p(se){const Q=new je,ae=new je,St=new je;for(let Ne=0;Ne<t.length;Ne+=3)O(t[Ne+0],Q),O(t[Ne+1],ae),O(t[Ne+2],St),v(Q,ae,St,se)}function v(se,Q,ae,St){const Ne=St+1,Je=[];for(let xt=0;xt<=Ne;xt++){Je[xt]=[];const Te=se.clone().lerp(ae,xt/Ne),pe=Q.clone().lerp(ae,xt/Ne),Ct=Ne-xt;for(let Tn=0;Tn<=Ct;Tn++)Tn===0&&xt===Ne?Je[xt][Tn]=Te:Je[xt][Tn]=Te.clone().lerp(pe,Tn/Ct)}for(let xt=0;xt<Ne;xt++)for(let Te=0;Te<2*(Ne-xt)-1;Te++){const pe=Math.floor(Te/2);Te%2===0?(P(Je[xt][pe+1]),P(Je[xt+1][pe]),P(Je[xt][pe])):(P(Je[xt][pe+1]),P(Je[xt+1][pe+1]),P(Je[xt+1][pe]))}}function S(se){const Q=new je;for(let ae=0;ae<a.length;ae+=3)Q.x=a[ae+0],Q.y=a[ae+1],Q.z=a[ae+2],Q.normalize().multiplyScalar(se),a[ae+0]=Q.x,a[ae+1]=Q.y,a[ae+2]=Q.z}function M(){const se=new je;for(let Q=0;Q<a.length;Q+=3){se.x=a[Q+0],se.y=a[Q+1],se.z=a[Q+2];const ae=B(se)/2/Math.PI+.5,St=N(se)/Math.PI+.5;d.push(ae,1-St)}F(),A()}function A(){for(let se=0;se<d.length;se+=6){const Q=d[se+0],ae=d[se+2],St=d[se+4],Ne=Math.max(Q,ae,St),Je=Math.min(Q,ae,St);Ne>.9&&Je<.1&&(Q<.2&&(d[se+0]+=1),ae<.2&&(d[se+2]+=1),St<.2&&(d[se+4]+=1))}}function P(se){a.push(se.x,se.y,se.z)}function O(se,Q){const ae=se*3;Q.x=e[ae+0],Q.y=e[ae+1],Q.z=e[ae+2]}function F(){const se=new je,Q=new je,ae=new je,St=new je,Ne=new Zt,Je=new Zt,xt=new Zt;for(let Te=0,pe=0;Te<a.length;Te+=9,pe+=6){se.set(a[Te+0],a[Te+1],a[Te+2]),Q.set(a[Te+3],a[Te+4],a[Te+5]),ae.set(a[Te+6],a[Te+7],a[Te+8]),Ne.set(d[pe+0],d[pe+1]),Je.set(d[pe+2],d[pe+3]),xt.set(d[pe+4],d[pe+5]),St.copy(se).add(Q).add(ae).divideScalar(3);const Ct=B(St);W(Ne,pe+0,se,Ct),W(Je,pe+2,Q,Ct),W(xt,pe+4,ae,Ct)}}function W(se,Q,ae,St){St<0&&se.x===1&&(d[Q]=se.x-1),ae.x===0&&ae.z===0&&(d[Q]=St/2/Math.PI+.5)}function B(se){return Math.atan2(se.z,-se.x)}function N(se){return Math.atan2(-se.y,Math.sqrt(se.x*se.x+se.z*se.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cf(e.vertices,e.indices,e.radius,e.details)}}class Em extends cf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],d=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,d,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Em(e.radius,e.detail)}}const Lg=new je,Ng=new je,Tm=new je,Fg=new Ac;class _y extends qo{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),a=Math.cos(oi*t),d=e.getIndex(),p=e.getAttribute("position"),v=d?d.count:p.count,S=[0,0,0],M=["a","b","c"],A=new Array(3),P={},O=[];for(let F=0;F<v;F+=3){d?(S[0]=d.getX(F),S[1]=d.getX(F+1),S[2]=d.getX(F+2)):(S[0]=F,S[1]=F+1,S[2]=F+2);const{a:W,b:B,c:N}=Fg;if(W.fromBufferAttribute(p,S[0]),B.fromBufferAttribute(p,S[1]),N.fromBufferAttribute(p,S[2]),Fg.getNormal(Tm),A[0]=`${Math.round(W.x*s)},${Math.round(W.y*s)},${Math.round(W.z*s)}`,A[1]=`${Math.round(B.x*s)},${Math.round(B.y*s)},${Math.round(B.z*s)}`,A[2]=`${Math.round(N.x*s)},${Math.round(N.y*s)},${Math.round(N.z*s)}`,!(A[0]===A[1]||A[1]===A[2]||A[2]===A[0]))for(let se=0;se<3;se++){const Q=(se+1)%3,ae=A[se],St=A[Q],Ne=Fg[M[se]],Je=Fg[M[Q]],xt=`${ae}_${St}`,Te=`${St}_${ae}`;Te in P&&P[Te]?(Tm.dot(P[Te].normal)<=a&&(O.push(Ne.x,Ne.y,Ne.z),O.push(Je.x,Je.y,Je.z)),P[Te]=null):xt in P||(P[xt]={index0:S[se],index1:S[Q],normal:Tm.clone()})}}for(const F in P)if(P[F]){const{index0:W,index1:B}=P[F];Lg.fromBufferAttribute(p,W),Ng.fromBufferAttribute(p,B),O.push(Lg.x,Lg.y,Lg.z),O.push(Ng.x,Ng.y,Ng.z)}this.setAttribute("position",new fs(O,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class lp extends Ig{constructor(e){super(e),this.uuid=Ki(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,s=this.holes.length;i<s;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const s=e.holes[t];this.holes.push(new Ig().fromJSON(s))}return this}}const wy={triangulate:function(l,e,t=2){const i=e&&e.length,s=i?e[0]*t:l.length;let a=Lv(l,0,s,t,!0);const d=[];if(!a||a.next===a.prev)return d;let p,v,S,M,A,P,O;if(i&&(a=Py(l,e,a,t)),l.length>80*t){p=S=l[0],v=M=l[1];for(let F=t;F<s;F+=t)A=l[F],P=l[F+1],A<p&&(p=A),P<v&&(v=P),A>S&&(S=A),P>M&&(M=P);O=Math.max(S-p,M-v),O=O!==0?32767/O:0}return Qp(a,d,t,p,v,O,0),d}};function Lv(l,e,t,i,s){let a,d;if(s===ky(l,e,t,i)>0)for(a=e;a<t;a+=i)d=Bv(a,l[a],l[a+1],d);else for(a=t-i;a>=e;a-=i)d=Bv(a,l[a],l[a+1],d);return d&&Bg(d,d.next)&&(tg(d),d=d.next),d}function uf(l,e){if(!l)return l;e||(e=l);let t=l,i;do if(i=!1,!t.steiner&&(Bg(t,t.next)||Ml(t.prev,t,t.next)===0)){if(tg(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Qp(l,e,t,i,s,a,d){if(!l)return;!d&&a&&Ly(l,i,s,a);let p=l,v,S;for(;l.prev!==l.next;){if(v=l.prev,S=l.next,a?Ey(l,i,s,a):My(l)){e.push(v.i/t|0),e.push(l.i/t|0),e.push(S.i/t|0),tg(l),l=S.next,p=S.next;continue}if(l=S,l===p){d?d===1?(l=Ty(uf(l),e,t),Qp(l,e,t,i,s,a,2)):d===2&&Ay(l,e,t,i,s,a):Qp(uf(l),e,t,i,s,a,1);break}}}function My(l){const e=l.prev,t=l,i=l.next;if(Ml(e,t,i)>=0)return!1;const s=e.x,a=t.x,d=i.x,p=e.y,v=t.y,S=i.y,M=s<a?s<d?s:d:a<d?a:d,A=p<v?p<S?p:S:v<S?v:S,P=s>a?s>d?s:d:a>d?a:d,O=p>v?p>S?p:S:v>S?v:S;let F=i.next;for(;F!==e;){if(F.x>=M&&F.x<=P&&F.y>=A&&F.y<=O&&cp(s,p,a,v,d,S,F.x,F.y)&&Ml(F.prev,F,F.next)>=0)return!1;F=F.next}return!0}function Ey(l,e,t,i){const s=l.prev,a=l,d=l.next;if(Ml(s,a,d)>=0)return!1;const p=s.x,v=a.x,S=d.x,M=s.y,A=a.y,P=d.y,O=p<v?p<S?p:S:v<S?v:S,F=M<A?M<P?M:P:A<P?A:P,W=p>v?p>S?p:S:v>S?v:S,B=M>A?M>P?M:P:A>P?A:P,N=Am(O,F,e,t,i),se=Am(W,B,e,t,i);let Q=l.prevZ,ae=l.nextZ;for(;Q&&Q.z>=N&&ae&&ae.z<=se;){if(Q.x>=O&&Q.x<=W&&Q.y>=F&&Q.y<=B&&Q!==s&&Q!==d&&cp(p,M,v,A,S,P,Q.x,Q.y)&&Ml(Q.prev,Q,Q.next)>=0||(Q=Q.prevZ,ae.x>=O&&ae.x<=W&&ae.y>=F&&ae.y<=B&&ae!==s&&ae!==d&&cp(p,M,v,A,S,P,ae.x,ae.y)&&Ml(ae.prev,ae,ae.next)>=0))return!1;ae=ae.nextZ}for(;Q&&Q.z>=N;){if(Q.x>=O&&Q.x<=W&&Q.y>=F&&Q.y<=B&&Q!==s&&Q!==d&&cp(p,M,v,A,S,P,Q.x,Q.y)&&Ml(Q.prev,Q,Q.next)>=0)return!1;Q=Q.prevZ}for(;ae&&ae.z<=se;){if(ae.x>=O&&ae.x<=W&&ae.y>=F&&ae.y<=B&&ae!==s&&ae!==d&&cp(p,M,v,A,S,P,ae.x,ae.y)&&Ml(ae.prev,ae,ae.next)>=0)return!1;ae=ae.nextZ}return!0}function Ty(l,e,t){let i=l;do{const s=i.prev,a=i.next.next;!Bg(s,a)&&Nv(s,i,i.next,a)&&eg(s,a)&&eg(a,s)&&(e.push(s.i/t|0),e.push(i.i/t|0),e.push(a.i/t|0),tg(i),tg(i.next),i=l=a),i=i.next}while(i!==l);return uf(i)}function Ay(l,e,t,i,s,a){let d=l;do{let p=d.next.next;for(;p!==d.prev;){if(d.i!==p.i&&By(d,p)){let v=Fv(d,p);d=uf(d,d.next),v=uf(v,v.next),Qp(d,e,t,i,s,a,0),Qp(v,e,t,i,s,a,0);return}p=p.next}d=d.next}while(d!==l)}function Py(l,e,t,i){const s=[];let a,d,p,v,S;for(a=0,d=e.length;a<d;a++)p=e[a]*i,v=a<d-1?e[a+1]*i:l.length,S=Lv(l,p,v,i,!1),S===S.next&&(S.steiner=!0),s.push(Fy(S));for(s.sort(Ry),a=0;a<s.length;a++)t=Oy(s[a],t);return t}function Ry(l,e){return l.x-e.x}function Oy(l,e){const t=Iy(l,e);if(!t)return e;const i=Fv(t,l);return uf(i,i.next),uf(t,t.next)}function Iy(l,e){let t=e,i=-1/0,s;const a=l.x,d=l.y;do{if(d<=t.y&&d>=t.next.y&&t.next.y!==t.y){const P=t.x+(d-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(P<=a&&P>i&&(i=P,s=t.x<t.next.x?t:t.next,P===a))return s}t=t.next}while(t!==e);if(!s)return null;const p=s,v=s.x,S=s.y;let M=1/0,A;t=s;do a>=t.x&&t.x>=v&&a!==t.x&&cp(d<S?a:i,d,v,S,d<S?i:a,d,t.x,t.y)&&(A=Math.abs(d-t.y)/(a-t.x),eg(t,l)&&(A<M||A===M&&(t.x>s.x||t.x===s.x&&Dy(s,t)))&&(s=t,M=A)),t=t.next;while(t!==p);return s}function Dy(l,e){return Ml(l.prev,l,e.prev)<0&&Ml(e.next,l,l.next)<0}function Ly(l,e,t,i){let s=l;do s.z===0&&(s.z=Am(s.x,s.y,e,t,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==l);s.prevZ.nextZ=null,s.prevZ=null,Ny(s)}function Ny(l){let e,t,i,s,a,d,p,v,S=1;do{for(t=l,l=null,a=null,d=0;t;){for(d++,i=t,p=0,e=0;e<S&&(p++,i=i.nextZ,!!i);e++);for(v=S;p>0||v>0&&i;)p!==0&&(v===0||!i||t.z<=i.z)?(s=t,t=t.nextZ,p--):(s=i,i=i.nextZ,v--),a?a.nextZ=s:l=s,s.prevZ=a,a=s;t=i}a.nextZ=null,S*=2}while(d>1);return l}function Am(l,e,t,i,s){return l=(l-t)*s|0,e=(e-i)*s|0,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,l|e<<1}function Fy(l){let e=l,t=l;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==l);return t}function cp(l,e,t,i,s,a,d,p){return(s-d)*(e-p)>=(l-d)*(a-p)&&(l-d)*(i-p)>=(t-d)*(e-p)&&(t-d)*(a-p)>=(s-d)*(i-p)}function By(l,e){return l.next.i!==e.i&&l.prev.i!==e.i&&!Uy(l,e)&&(eg(l,e)&&eg(e,l)&&zy(l,e)&&(Ml(l.prev,l,e.prev)||Ml(l,e.prev,e))||Bg(l,e)&&Ml(l.prev,l,l.next)>0&&Ml(e.prev,e,e.next)>0)}function Ml(l,e,t){return(e.y-l.y)*(t.x-e.x)-(e.x-l.x)*(t.y-e.y)}function Bg(l,e){return l.x===e.x&&l.y===e.y}function Nv(l,e,t,i){const s=zg(Ml(l,e,t)),a=zg(Ml(l,e,i)),d=zg(Ml(t,i,l)),p=zg(Ml(t,i,e));return!!(s!==a&&d!==p||s===0&&Ug(l,t,e)||a===0&&Ug(l,i,e)||d===0&&Ug(t,l,i)||p===0&&Ug(t,e,i))}function Ug(l,e,t){return e.x<=Math.max(l.x,t.x)&&e.x>=Math.min(l.x,t.x)&&e.y<=Math.max(l.y,t.y)&&e.y>=Math.min(l.y,t.y)}function zg(l){return l>0?1:l<0?-1:0}function Uy(l,e){let t=l;do{if(t.i!==l.i&&t.next.i!==l.i&&t.i!==e.i&&t.next.i!==e.i&&Nv(t,t.next,l,e))return!0;t=t.next}while(t!==l);return!1}function eg(l,e){return Ml(l.prev,l,l.next)<0?Ml(l,e,l.next)>=0&&Ml(l,l.prev,e)>=0:Ml(l,e,l.prev)<0||Ml(l,l.next,e)<0}function zy(l,e){let t=l,i=!1;const s=(l.x+e.x)/2,a=(l.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&s<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==l);return i}function Fv(l,e){const t=new Pm(l.i,l.x,l.y),i=new Pm(e.i,e.x,e.y),s=l.next,a=e.prev;return l.next=e,e.prev=l,t.next=s,s.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function Bv(l,e,t,i){const s=new Pm(l,e,t);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function tg(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function Pm(l,e,t){this.i=l,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ky(l,e,t,i){let s=0;for(let a=e,d=t-i;a<t;a+=i)s+=(l[d]-l[a])*(l[a+1]+l[d+1]),d=a;return s}class Ud{static area(e){const t=e.length;let i=0;for(let s=t-1,a=0;a<t;s=a++)i+=e[s].x*e[a].y-e[a].x*e[s].y;return i*.5}static isClockWise(e){return Ud.area(e)<0}static triangulateShape(e,t){const i=[],s=[],a=[];Uv(e),zv(i,e);let d=e.length;t.forEach(Uv);for(let v=0;v<t.length;v++)s.push(d),d+=t[v].length,zv(i,t[v]);const p=wy.triangulate(i,s);for(let v=0;v<p.length;v+=3)a.push(p.slice(v,v+3));return a}}function Uv(l){const e=l.length;e>2&&l[e-1].equals(l[0])&&l.pop()}function zv(l,e){for(let t=0;t<e.length;t++)l.push(e[t].x),l.push(e[t].y)}class Rm extends qo{constructor(e=new lp([new Zt(.5,.5),new Zt(-.5,.5),new Zt(-.5,-.5),new Zt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,s=[],a=[];for(let p=0,v=e.length;p<v;p++){const S=e[p];d(S)}this.setAttribute("position",new fs(s,3)),this.setAttribute("uv",new fs(a,2)),this.computeVertexNormals();function d(p){const v=[],S=t.curveSegments!==void 0?t.curveSegments:12,M=t.steps!==void 0?t.steps:1,A=t.depth!==void 0?t.depth:1;let P=t.bevelEnabled!==void 0?t.bevelEnabled:!0,O=t.bevelThickness!==void 0?t.bevelThickness:.2,F=t.bevelSize!==void 0?t.bevelSize:O-.1,W=t.bevelOffset!==void 0?t.bevelOffset:0,B=t.bevelSegments!==void 0?t.bevelSegments:3;const N=t.extrudePath,se=t.UVGenerator!==void 0?t.UVGenerator:$y;let Q,ae=!1,St,Ne,Je,xt;N&&(Q=N.getSpacedPoints(M),ae=!0,P=!1,St=N.computeFrenetFrames(M,!1),Ne=new je,Je=new je,xt=new je),P||(B=0,O=0,F=0,W=0);const Te=p.extractPoints(S);let pe=Te.shape;const Ct=Te.holes;if(!Ud.isClockWise(pe)){pe=pe.reverse();for(let ke=0,or=Ct.length;ke<or;ke++){const $i=Ct[ke];Ud.isClockWise($i)&&(Ct[ke]=$i.reverse())}}const mn=Ud.triangulateShape(pe,Ct),Ln=pe;for(let ke=0,or=Ct.length;ke<or;ke++){const $i=Ct[ke];pe=pe.concat($i)}function fi(ke,or,$i){return or||console.error("THREE.ExtrudeGeometry: vec does not exist"),ke.clone().addScaledVector(or,$i)}const Un=pe.length,ki=mn.length;function Zn(ke,or,$i){let Dr,di,po;const Lr=ke.x-or.x,Ts=ke.y-or.y,rt=$i.x-ke.x,ve=$i.y-ke.y,xn=Lr*Lr+Ts*Ts,Di=Lr*ve-Ts*rt;if(Math.abs(Di)>Number.EPSILON){const Ai=Math.sqrt(xn),wi=Math.sqrt(rt*rt+ve*ve),co=or.x-Ts/Ai,Tr=or.y+Lr/Ai,vs=$i.x-ve/wi,ta=$i.y+rt/wi,tr=((vs-co)*ve-(ta-Tr)*rt)/(Lr*ve-Ts*rt);Dr=co+Lr*tr-ke.x,di=Tr+Ts*tr-ke.y;const os=Dr*Dr+di*di;if(os<=2)return new Zt(Dr,di);po=Math.sqrt(os/2)}else{let Ai=!1;Lr>Number.EPSILON?rt>Number.EPSILON&&(Ai=!0):Lr<-Number.EPSILON?rt<-Number.EPSILON&&(Ai=!0):Math.sign(Ts)===Math.sign(ve)&&(Ai=!0),Ai?(Dr=-Ts,di=Lr,po=Math.sqrt(xn)):(Dr=Lr,di=Ts,po=Math.sqrt(xn/2))}return new Zt(Dr/po,di/po)}const Gr=[];for(let ke=0,or=Ln.length,$i=or-1,Dr=ke+1;ke<or;ke++,$i++,Dr++)$i===or&&($i=0),Dr===or&&(Dr=0),Gr[ke]=Zn(Ln[ke],Ln[$i],Ln[Dr]);const us=[];let ms,ga=Gr.concat();for(let ke=0,or=Ct.length;ke<or;ke++){const $i=Ct[ke];ms=[];for(let Dr=0,di=$i.length,po=di-1,Lr=Dr+1;Dr<di;Dr++,po++,Lr++)po===di&&(po=0),Lr===di&&(Lr=0),ms[Dr]=Zn($i[Dr],$i[po],$i[Lr]);us.push(ms),ga=ga.concat(ms)}for(let ke=0;ke<B;ke++){const or=ke/B,$i=O*Math.cos(or*Math.PI/2),Dr=F*Math.sin(or*Math.PI/2)+W;for(let di=0,po=Ln.length;di<po;di++){const Lr=fi(Ln[di],Gr[di],Dr);Pr(Lr.x,Lr.y,-$i)}for(let di=0,po=Ct.length;di<po;di++){const Lr=Ct[di];ms=us[di];for(let Ts=0,rt=Lr.length;Ts<rt;Ts++){const ve=fi(Lr[Ts],ms[Ts],Dr);Pr(ve.x,ve.y,-$i)}}}const Va=F+W;for(let ke=0;ke<Un;ke++){const or=P?fi(pe[ke],ga[ke],Va):pe[ke];ae?(Je.copy(St.normals[0]).multiplyScalar(or.x),Ne.copy(St.binormals[0]).multiplyScalar(or.y),xt.copy(Q[0]).add(Je).add(Ne),Pr(xt.x,xt.y,xt.z)):Pr(or.x,or.y,0)}for(let ke=1;ke<=M;ke++)for(let or=0;or<Un;or++){const $i=P?fi(pe[or],ga[or],Va):pe[or];ae?(Je.copy(St.normals[ke]).multiplyScalar($i.x),Ne.copy(St.binormals[ke]).multiplyScalar($i.y),xt.copy(Q[ke]).add(Je).add(Ne),Pr(xt.x,xt.y,xt.z)):Pr($i.x,$i.y,A/M*ke)}for(let ke=B-1;ke>=0;ke--){const or=ke/B,$i=O*Math.cos(or*Math.PI/2),Dr=F*Math.sin(or*Math.PI/2)+W;for(let di=0,po=Ln.length;di<po;di++){const Lr=fi(Ln[di],Gr[di],Dr);Pr(Lr.x,Lr.y,A+$i)}for(let di=0,po=Ct.length;di<po;di++){const Lr=Ct[di];ms=us[di];for(let Ts=0,rt=Lr.length;Ts<rt;Ts++){const ve=fi(Lr[Ts],ms[Ts],Dr);ae?Pr(ve.x,ve.y+Q[M-1].y,Q[M-1].x+$i):Pr(ve.x,ve.y,A+$i)}}}ii(),er();function ii(){const ke=s.length/3;if(P){let or=0,$i=Un*or;for(let Dr=0;Dr<ki;Dr++){const di=mn[Dr];No(di[2]+$i,di[1]+$i,di[0]+$i)}or=M+B*2,$i=Un*or;for(let Dr=0;Dr<ki;Dr++){const di=mn[Dr];No(di[0]+$i,di[1]+$i,di[2]+$i)}}else{for(let or=0;or<ki;or++){const $i=mn[or];No($i[2],$i[1],$i[0])}for(let or=0;or<ki;or++){const $i=mn[or];No($i[0]+Un*M,$i[1]+Un*M,$i[2]+Un*M)}}i.addGroup(ke,s.length/3-ke,0)}function er(){const ke=s.length/3;let or=0;Es(Ln,or),or+=Ln.length;for(let $i=0,Dr=Ct.length;$i<Dr;$i++){const di=Ct[$i];Es(di,or),or+=di.length}i.addGroup(ke,s.length/3-ke,1)}function Es(ke,or){let $i=ke.length;for(;--$i>=0;){const Dr=$i;let di=$i-1;di<0&&(di=ke.length-1);for(let po=0,Lr=M+B*2;po<Lr;po++){const Ts=Un*po,rt=Un*(po+1),ve=or+Dr+Ts,xn=or+di+Ts,Di=or+di+rt,Ai=or+Dr+rt;ua(ve,xn,Di,Ai)}}}function Pr(ke,or,$i){v.push(ke),v.push(or),v.push($i)}function No(ke,or,$i){Fo(ke),Fo(or),Fo($i);const Dr=s.length/3,di=se.generateTopUV(i,s,Dr-3,Dr-2,Dr-1);za(di[0]),za(di[1]),za(di[2])}function ua(ke,or,$i,Dr){Fo(ke),Fo(or),Fo(Dr),Fo(or),Fo($i),Fo(Dr);const di=s.length/3,po=se.generateSideWallUV(i,s,di-6,di-3,di-2,di-1);za(po[0]),za(po[1]),za(po[3]),za(po[1]),za(po[2]),za(po[3])}function Fo(ke){s.push(v[ke*3+0]),s.push(v[ke*3+1]),s.push(v[ke*3+2])}function za(ke){a.push(ke.x),a.push(ke.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Hy(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,d=e.shapes.length;a<d;a++){const p=t[e.shapes[a]];i.push(p)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new Og[s.type]().fromJSON(s)),new Rm(i,e.options)}}const $y={generateTopUV:function(l,e,t,i,s){const a=e[t*3],d=e[t*3+1],p=e[i*3],v=e[i*3+1],S=e[s*3],M=e[s*3+1];return[new Zt(a,d),new Zt(p,v),new Zt(S,M)]},generateSideWallUV:function(l,e,t,i,s,a){const d=e[t*3],p=e[t*3+1],v=e[t*3+2],S=e[i*3],M=e[i*3+1],A=e[i*3+2],P=e[s*3],O=e[s*3+1],F=e[s*3+2],W=e[a*3],B=e[a*3+1],N=e[a*3+2];return Math.abs(p-M)<Math.abs(d-S)?[new Zt(d,1-v),new Zt(S,1-A),new Zt(P,1-F),new Zt(W,1-N)]:[new Zt(p,1-v),new Zt(M,1-A),new Zt(O,1-F),new Zt(B,1-N)]}};function Hy(l,e,t){if(t.shapes=[],Array.isArray(l))for(let i=0,s=l.length;i<s;i++){const a=l[i];t.shapes.push(a.uuid)}else t.shapes.push(l.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Om extends cf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Om(e.radius,e.detail)}}class kg extends cf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kg(e.radius,e.detail)}}class Im extends qo{constructor(e=.5,t=1,i=32,s=1,a=0,d=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:s,thetaStart:a,thetaLength:d},i=Math.max(3,i),s=Math.max(1,s);const p=[],v=[],S=[],M=[];let A=e;const P=(t-e)/s,O=new je,F=new Zt;for(let W=0;W<=s;W++){for(let B=0;B<=i;B++){const N=a+B/i*d;O.x=A*Math.cos(N),O.y=A*Math.sin(N),v.push(O.x,O.y,O.z),S.push(0,0,1),F.x=(O.x/t+1)/2,F.y=(O.y/t+1)/2,M.push(F.x,F.y)}A+=P}for(let W=0;W<s;W++){const B=W*(i+1);for(let N=0;N<i;N++){const se=N+B,Q=se,ae=se+i+1,St=se+i+2,Ne=se+1;p.push(Q,ae,Ne),p.push(ae,St,Ne)}}this.setIndex(p),this.setAttribute("position",new fs(v,3)),this.setAttribute("normal",new fs(S,3)),this.setAttribute("uv",new fs(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Im(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Dm extends qo{constructor(e=new lp([new Zt(0,.5),new Zt(-.5,-.5),new Zt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],s=[],a=[],d=[];let p=0,v=0;if(Array.isArray(e)===!1)S(e);else for(let M=0;M<e.length;M++)S(e[M]),this.addGroup(p,v,M),p+=v,v=0;this.setIndex(i),this.setAttribute("position",new fs(s,3)),this.setAttribute("normal",new fs(a,3)),this.setAttribute("uv",new fs(d,2));function S(M){const A=s.length/3,P=M.extractPoints(t);let O=P.shape;const F=P.holes;Ud.isClockWise(O)===!1&&(O=O.reverse());for(let B=0,N=F.length;B<N;B++){const se=F[B];Ud.isClockWise(se)===!0&&(F[B]=se.reverse())}const W=Ud.triangulateShape(O,F);for(let B=0,N=F.length;B<N;B++){const se=F[B];O=O.concat(se)}for(let B=0,N=O.length;B<N;B++){const se=O[B];s.push(se.x,se.y,0),a.push(0,0,1),d.push(se.x,se.y)}for(let B=0,N=W.length;B<N;B++){const se=W[B],Q=se[0]+A,ae=se[1]+A,St=se[2]+A;i.push(Q,ae,St),v+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Vy(t,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const d=t[e.shapes[s]];i.push(d)}return new Dm(i,e.curveSegments)}}function Vy(l,e){if(e.shapes=[],Array.isArray(l))for(let t=0,i=l.length;t<i;t++){const s=l[t];e.shapes.push(s.uuid)}else e.shapes.push(l.uuid);return e}class $g extends qo{constructor(e=1,t=32,i=16,s=0,a=Math.PI*2,d=0,p=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:s,phiLength:a,thetaStart:d,thetaLength:p},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const v=Math.min(d+p,Math.PI);let S=0;const M=[],A=new je,P=new je,O=[],F=[],W=[],B=[];for(let N=0;N<=i;N++){const se=[],Q=N/i;let ae=0;N===0&&d===0?ae=.5/t:N===i&&v===Math.PI&&(ae=-.5/t);for(let St=0;St<=t;St++){const Ne=St/t;A.x=-e*Math.cos(s+Ne*a)*Math.sin(d+Q*p),A.y=e*Math.cos(d+Q*p),A.z=e*Math.sin(s+Ne*a)*Math.sin(d+Q*p),F.push(A.x,A.y,A.z),P.copy(A).normalize(),W.push(P.x,P.y,P.z),B.push(Ne+ae,1-Q),se.push(S++)}M.push(se)}for(let N=0;N<i;N++)for(let se=0;se<t;se++){const Q=M[N][se+1],ae=M[N][se],St=M[N+1][se],Ne=M[N+1][se+1];(N!==0||d>0)&&O.push(Q,ae,Ne),(N!==i-1||v<Math.PI)&&O.push(ae,St,Ne)}this.setIndex(O),this.setAttribute("position",new fs(F,3)),this.setAttribute("normal",new fs(W,3)),this.setAttribute("uv",new fs(B,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $g(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Lm extends cf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lm(e.radius,e.detail)}}class Nm extends qo{constructor(e=1,t=.4,i=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:s,arc:a},i=Math.floor(i),s=Math.floor(s);const d=[],p=[],v=[],S=[],M=new je,A=new je,P=new je;for(let O=0;O<=i;O++)for(let F=0;F<=s;F++){const W=F/s*a,B=O/i*Math.PI*2;A.x=(e+t*Math.cos(B))*Math.cos(W),A.y=(e+t*Math.cos(B))*Math.sin(W),A.z=t*Math.sin(B),p.push(A.x,A.y,A.z),M.x=e*Math.cos(W),M.y=e*Math.sin(W),P.subVectors(A,M).normalize(),v.push(P.x,P.y,P.z),S.push(F/s),S.push(O/i)}for(let O=1;O<=i;O++)for(let F=1;F<=s;F++){const W=(s+1)*O+F-1,B=(s+1)*(O-1)+F-1,N=(s+1)*(O-1)+F,se=(s+1)*O+F;d.push(W,B,se),d.push(B,N,se)}this.setIndex(d),this.setAttribute("position",new fs(p,3)),this.setAttribute("normal",new fs(v,3)),this.setAttribute("uv",new fs(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Fm extends qo{constructor(e=1,t=.4,i=64,s=8,a=2,d=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:s,p:a,q:d},i=Math.floor(i),s=Math.floor(s);const p=[],v=[],S=[],M=[],A=new je,P=new je,O=new je,F=new je,W=new je,B=new je,N=new je;for(let Q=0;Q<=i;++Q){const ae=Q/i*a*Math.PI*2;se(ae,a,d,e,O),se(ae+.01,a,d,e,F),B.subVectors(F,O),N.addVectors(F,O),W.crossVectors(B,N),N.crossVectors(W,B),W.normalize(),N.normalize();for(let St=0;St<=s;++St){const Ne=St/s*Math.PI*2,Je=-t*Math.cos(Ne),xt=t*Math.sin(Ne);A.x=O.x+(Je*N.x+xt*W.x),A.y=O.y+(Je*N.y+xt*W.y),A.z=O.z+(Je*N.z+xt*W.z),v.push(A.x,A.y,A.z),P.subVectors(A,O).normalize(),S.push(P.x,P.y,P.z),M.push(Q/i),M.push(St/s)}}for(let Q=1;Q<=i;Q++)for(let ae=1;ae<=s;ae++){const St=(s+1)*(Q-1)+(ae-1),Ne=(s+1)*Q+(ae-1),Je=(s+1)*Q+ae,xt=(s+1)*(Q-1)+ae;p.push(St,Ne,xt),p.push(Ne,Je,xt)}this.setIndex(p),this.setAttribute("position",new fs(v,3)),this.setAttribute("normal",new fs(S,3)),this.setAttribute("uv",new fs(M,2));function se(Q,ae,St,Ne,Je){const xt=Math.cos(Q),Te=Math.sin(Q),pe=St/ae*Q,Ct=Math.cos(pe);Je.x=Ne*(2+Ct)*.5*xt,Je.y=Ne*(2+Ct)*Te*.5,Je.z=Ne*Math.sin(pe)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Bm extends qo{constructor(e=new Iv(new je(-1,-1,0),new je(-1,1,0),new je(1,1,0)),t=64,i=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:s,closed:a};const d=e.computeFrenetFrames(t,a);this.tangents=d.tangents,this.normals=d.normals,this.binormals=d.binormals;const p=new je,v=new je,S=new Zt;let M=new je;const A=[],P=[],O=[],F=[];W(),this.setIndex(F),this.setAttribute("position",new fs(A,3)),this.setAttribute("normal",new fs(P,3)),this.setAttribute("uv",new fs(O,2));function W(){for(let Q=0;Q<t;Q++)B(Q);B(a===!1?t:0),se(),N()}function B(Q){M=e.getPointAt(Q/t,M);const ae=d.normals[Q],St=d.binormals[Q];for(let Ne=0;Ne<=s;Ne++){const Je=Ne/s*Math.PI*2,xt=Math.sin(Je),Te=-Math.cos(Je);v.x=Te*ae.x+xt*St.x,v.y=Te*ae.y+xt*St.y,v.z=Te*ae.z+xt*St.z,v.normalize(),P.push(v.x,v.y,v.z),p.x=M.x+i*v.x,p.y=M.y+i*v.y,p.z=M.z+i*v.z,A.push(p.x,p.y,p.z)}}function N(){for(let Q=1;Q<=t;Q++)for(let ae=1;ae<=s;ae++){const St=(s+1)*(Q-1)+(ae-1),Ne=(s+1)*Q+(ae-1),Je=(s+1)*Q+ae,xt=(s+1)*(Q-1)+ae;F.push(St,Ne,xt),F.push(Ne,Je,xt)}}function se(){for(let Q=0;Q<=t;Q++)for(let ae=0;ae<=s;ae++)S.x=Q/t,S.y=ae/s,O.push(S.x,S.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Bm(new Og[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class kv extends qo{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,s=new je,a=new je;if(e.index!==null){const d=e.attributes.position,p=e.index;let v=e.groups;v.length===0&&(v=[{start:0,count:p.count,materialIndex:0}]);for(let S=0,M=v.length;S<M;++S){const A=v[S],P=A.start,O=A.count;for(let F=P,W=P+O;F<W;F+=3)for(let B=0;B<3;B++){const N=p.getX(F+B),se=p.getX(F+(B+1)%3);s.fromBufferAttribute(d,N),a.fromBufferAttribute(d,se),$v(s,a,i)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}}else{const d=e.attributes.position;for(let p=0,v=d.count/3;p<v;p++)for(let S=0;S<3;S++){const M=3*p+S,A=3*p+(S+1)%3;s.fromBufferAttribute(d,M),a.fromBufferAttribute(d,A),$v(s,a,i)===!0&&(t.push(s.x,s.y,s.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new fs(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function $v(l,e,t){const i=`${l.x},${l.y},${l.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${l.x},${l.y},${l.z}`;return t.has(i)===!0||t.has(s)===!0?!1:(t.add(i),t.add(s),!0)}var Hv=Object.freeze({__proto__:null,BoxGeometry:yc,CapsuleGeometry:_m,CircleGeometry:wm,ConeGeometry:Mm,CylinderGeometry:Jp,DodecahedronGeometry:Em,EdgesGeometry:_y,ExtrudeGeometry:Rm,IcosahedronGeometry:Om,LatheGeometry:Dg,OctahedronGeometry:kg,PlaneGeometry:sh,PolyhedronGeometry:cf,RingGeometry:Im,ShapeGeometry:Dm,SphereGeometry:$g,TetrahedronGeometry:Lm,TorusGeometry:Nm,TorusKnotGeometry:Fm,TubeGeometry:Bm,WireframeGeometry:kv});class Wy extends null{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new wr(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class jy extends null{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Zy extends null{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ja,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Gy extends null{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Zt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return sr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new wr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new wr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new wr(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Xy extends null{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new wr(16777215),this.specular=new wr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ja,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=Pt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yy extends null{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wr(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ja,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Ky extends null{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ja,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class qy extends null{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new wr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ja,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new tl,this.combine=Pt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Jy extends null{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ja,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qy extends null{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function df(l,e,t){return!l||!t&&l.constructor===e?l:typeof e.BYTES_PER_ELEMENT=="number"?new e(l):Array.prototype.slice.call(l)}function Vv(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}function Wv(l){function e(s,a){return l[s]-l[a]}const t=l.length,i=new Array(t);for(let s=0;s!==t;++s)i[s]=s;return i.sort(e),i}function Um(l,e,t){const i=l.length,s=new l.constructor(i);for(let a=0,d=0;d!==i;++a){const p=t[a]*e;for(let v=0;v!==e;++v)s[d++]=l[p+v]}return s}function zm(l,e,t,i){let s=1,a=l[0];for(;a!==void 0&&a[i]===void 0;)a=l[s++];if(a===void 0)return;let d=a[i];if(d!==void 0)if(Array.isArray(d))do d=a[i],d!==void 0&&(e.push(a.time),t.push.apply(t,d)),a=l[s++];while(a!==void 0);else if(d.toArray!==void 0)do d=a[i],d!==void 0&&(e.push(a.time),d.toArray(t,t.length)),a=l[s++];while(a!==void 0);else do d=a[i],d!==void 0&&(e.push(a.time),t.push(d)),a=l[s++];while(a!==void 0)}function ex(l,e,t,i,s=30){const a=l.clone();a.name=e;const d=[];for(let v=0;v<a.tracks.length;++v){const S=a.tracks[v],M=S.getValueSize(),A=[],P=[];for(let O=0;O<S.times.length;++O){const F=S.times[O]*s;if(!(F<t||F>=i)){A.push(S.times[O]);for(let W=0;W<M;++W)P.push(S.values[O*M+W])}}A.length!==0&&(S.times=df(A,S.times.constructor),S.values=df(P,S.values.constructor),d.push(S))}a.tracks=d;let p=1/0;for(let v=0;v<a.tracks.length;++v)p>a.tracks[v].times[0]&&(p=a.tracks[v].times[0]);for(let v=0;v<a.tracks.length;++v)a.tracks[v].shift(-1*p);return a.resetDuration(),a}function tx(l,e=0,t=l,i=30){i<=0&&(i=30);const s=t.tracks.length,a=e/i;for(let d=0;d<s;++d){const p=t.tracks[d],v=p.ValueTypeName;if(v==="bool"||v==="string")continue;const S=l.tracks.find(function(N){return N.name===p.name&&N.ValueTypeName===v});if(S===void 0)continue;let M=0;const A=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(M=A/3);let P=0;const O=S.getValueSize();S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(P=O/3);const F=p.times.length-1;let W;if(a<=p.times[0]){const N=M,se=A-M;W=p.values.slice(N,se)}else if(a>=p.times[F]){const N=F*A+M,se=N+A-M;W=p.values.slice(N,se)}else{const N=p.createInterpolant(),se=M,Q=A-M;N.evaluate(a),W=N.resultBuffer.slice(se,Q)}v==="quaternion"&&new Kl().fromArray(W).normalize().conjugate().toArray(W);const B=S.times.length;for(let N=0;N<B;++N){const se=N*O+P;if(v==="quaternion")Kl.multiplyQuaternionsFlat(S.values,se,W,0,S.values,se);else{const Q=O-P*2;for(let ae=0;ae<Q;++ae)S.values[se+ae]-=W[ae]}}}return l.blendMode=Eo,l}const rb={convertArray:df,isTypedArray:Vv,getKeyframeOrder:Wv,sortedArray:Um,flattenJSON:zm,subclip:ex,makeClipAdditive:tx};class Hg{constructor(e,t,i,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,s=t[i],a=t[i-1];e:{t:{let d;n:{i:if(!(e<s)){for(let p=i+2;;){if(s===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===p)break;if(a=s,s=t[++i],e<s)break t}d=t.length;break n}if(!(e>=a)){const p=t[1];e<p&&(i=2,a=p);for(let v=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===v)break;if(s=a,a=t[--i-1],e>=a)break t}d=i,i=0;break n}break e}for(;i<d;){const p=i+d>>>1;e<t[p]?d=p:i=p+1}if(s=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,s)}return this.interpolate_(i,a,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,s=this.valueSize,a=e*s;for(let d=0;d!==s;++d)t[d]=i[a+d];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class nx extends Hg{constructor(e,t,i,s){super(e,t,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:bo,endingEnd:bo}}intervalChanged_(e,t,i){const s=this.parameterPositions;let a=e-2,d=e+1,p=s[a],v=s[d];if(p===void 0)switch(this.getSettings_().endingStart){case Yo:a=e,p=2*t-i;break;case Po:a=s.length-2,p=t+s[a]-s[a+1];break;default:a=e,p=i}if(v===void 0)switch(this.getSettings_().endingEnd){case Yo:d=e,v=2*i-t;break;case Po:d=1,v=i+s[1]-s[0];break;default:d=e-1,v=t}const S=(i-t)*.5,M=this.valueSize;this._weightPrev=S/(t-p),this._weightNext=S/(v-i),this._offsetPrev=a*M,this._offsetNext=d*M}interpolate_(e,t,i,s){const a=this.resultBuffer,d=this.sampleValues,p=this.valueSize,v=e*p,S=v-p,M=this._offsetPrev,A=this._offsetNext,P=this._weightPrev,O=this._weightNext,F=(i-t)/(s-t),W=F*F,B=W*F,N=-P*B+2*P*W-P*F,se=(1+P)*B+(-1.5-2*P)*W+(-.5+P)*F+1,Q=(-1-O)*B+(1.5+O)*W+.5*F,ae=O*B-O*W;for(let St=0;St!==p;++St)a[St]=N*d[M+St]+se*d[S+St]+Q*d[v+St]+ae*d[A+St];return a}}class jv extends Hg{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const a=this.resultBuffer,d=this.sampleValues,p=this.valueSize,v=e*p,S=v-p,M=(i-t)/(s-t),A=1-M;for(let P=0;P!==p;++P)a[P]=d[S+P]*A+d[v+P]*M;return a}}class ix extends Hg{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class cd{constructor(e,t,i,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=df(t,this.TimeBufferType),this.values=df(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:df(e.times,Array),values:df(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(i.interpolation=s)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new ix(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new jv(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new nx(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ks:t=this.InterpolantFactoryMethodDiscrete;break;case Ea:t=this.InterpolantFactoryMethodLinear;break;case Ao:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ks;case this.InterpolantFactoryMethodLinear:return Ea;case this.InterpolantFactoryMethodSmooth:return Ao}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,s=t.length;i!==s;++i)t[i]*=e}return this}trim(e,t){const i=this.times,s=i.length;let a=0,d=s-1;for(;a!==s&&i[a]<e;)++a;for(;d!==-1&&i[d]>t;)--d;if(++d,a!==0||d!==s){a>=d&&(d=Math.max(d,1),a=d-1);const p=this.getValueSize();this.times=i.slice(a,d),this.values=this.values.slice(a*p,d*p)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,s=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let d=null;for(let p=0;p!==a;p++){const v=i[p];if(typeof v=="number"&&isNaN(v)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,p,v),e=!1;break}if(d!==null&&d>v){console.error("THREE.KeyframeTrack: Out of order keys.",this,p,v,d),e=!1;break}d=v}if(s!==void 0&&Vv(s))for(let p=0,v=s.length;p!==v;++p){const S=s[p];if(isNaN(S)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,p,S),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Ao,a=e.length-1;let d=1;for(let p=1;p<a;++p){let v=!1;const S=e[p],M=e[p+1];if(S!==M&&(p!==1||S!==e[0]))if(s)v=!0;else{const A=p*i,P=A-i,O=A+i;for(let F=0;F!==i;++F){const W=t[A+F];if(W!==t[P+F]||W!==t[O+F]){v=!0;break}}}if(v){if(p!==d){e[d]=e[p];const A=p*i,P=d*i;for(let O=0;O!==i;++O)t[P+O]=t[A+O]}++d}}if(a>0){e[d]=e[a];for(let p=a*i,v=d*i,S=0;S!==i;++S)t[v+S]=t[p+S];++d}return d!==e.length?(this.times=e.slice(0,d),this.values=t.slice(0,d*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,s=new i(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}cd.prototype.TimeBufferType=Float32Array,cd.prototype.ValueBufferType=Float32Array,cd.prototype.DefaultInterpolation=Ea;class up extends cd{constructor(e,t,i){super(e,t,i)}}up.prototype.ValueTypeName="bool",up.prototype.ValueBufferType=Array,up.prototype.DefaultInterpolation=Ks,up.prototype.InterpolantFactoryMethodLinear=void 0,up.prototype.InterpolantFactoryMethodSmooth=void 0;class Zv extends cd{}Zv.prototype.ValueTypeName="color";class Vg extends cd{}Vg.prototype.ValueTypeName="number";class rx extends Hg{constructor(e,t,i,s){super(e,t,i,s)}interpolate_(e,t,i,s){const a=this.resultBuffer,d=this.sampleValues,p=this.valueSize,v=(i-t)/(s-t);let S=e*p;for(let M=S+p;S!==M;S+=4)Kl.slerpFlat(a,0,d,S-p,d,S,v);return a}}class Wg extends cd{InterpolantFactoryMethodLinear(e){return new rx(this.times,this.values,this.getValueSize(),e)}}Wg.prototype.ValueTypeName="quaternion",Wg.prototype.InterpolantFactoryMethodSmooth=void 0;class dp extends cd{constructor(e,t,i){super(e,t,i)}}dp.prototype.ValueTypeName="string",dp.prototype.ValueBufferType=Array,dp.prototype.DefaultInterpolation=Ks,dp.prototype.InterpolantFactoryMethodLinear=void 0,dp.prototype.InterpolantFactoryMethodSmooth=void 0;class jg extends cd{}jg.prototype.ValueTypeName="vector";class Zg{constructor(e="",t=-1,i=[],s=zo){this.name=e,this.tracks=i,this.duration=t,this.blendMode=s,this.uuid=Ki(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,s=1/(e.fps||1);for(let d=0,p=i.length;d!==p;++d)t.push(ox(i[d]).scale(s));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,d=i.length;a!==d;++a)t.push(cd.toJSON(i[a]));return s}static CreateFromMorphTargetSequence(e,t,i,s){const a=t.length,d=[];for(let p=0;p<a;p++){let v=[],S=[];v.push((p+a-1)%a,p,(p+1)%a),S.push(0,1,0);const M=Wv(v);v=Um(v,1,M),S=Um(S,1,M),!s&&v[0]===0&&(v.push(a),S.push(S[0])),d.push(new Vg(".morphTargetInfluences["+t[p].name+"]",v,S).scale(1/i))}return new this(e,-1,d)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const s=e;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===t)return i[s];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const s={},a=/^([\w-]*?)([\d]+)$/;for(let p=0,v=e.length;p<v;p++){const S=e[p],M=S.name.match(a);if(M&&M.length>1){const A=M[1];let P=s[A];P||(s[A]=P=[]),P.push(S)}}const d=[];for(const p in s)d.push(this.CreateFromMorphTargetSequence(p,s[p],t,i));return d}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(A,P,O,F,W){if(O.length!==0){const B=[],N=[];zm(O,B,N,F),B.length!==0&&W.push(new A(P,B,N))}},s=[],a=e.name||"default",d=e.fps||30,p=e.blendMode;let v=e.length||-1;const S=e.hierarchy||[];for(let A=0;A<S.length;A++){const P=S[A].keys;if(!(!P||P.length===0))if(P[0].morphTargets){const O={};let F;for(F=0;F<P.length;F++)if(P[F].morphTargets)for(let W=0;W<P[F].morphTargets.length;W++)O[P[F].morphTargets[W]]=-1;for(const W in O){const B=[],N=[];for(let se=0;se!==P[F].morphTargets.length;++se){const Q=P[F];B.push(Q.time),N.push(Q.morphTarget===W?1:0)}s.push(new Vg(".morphTargetInfluence["+W+"]",B,N))}v=O.length*d}else{const O=".bones["+t[A].name+"]";i(jg,O+".position",P,"pos",s),i(Wg,O+".quaternion",P,"rot",s),i(jg,O+".scale",P,"scl",s)}}return s.length===0?null:new this(a,v,s,p)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,s=e.length;i!==s;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sx(l){switch(l.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vg;case"vector":case"vector2":case"vector3":case"vector4":return jg;case"color":return Zv;case"quaternion":return Wg;case"bool":case"boolean":return up;case"string":return dp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+l)}function ox(l){if(l.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=sx(l.type);if(l.times===void 0){const t=[],i=[];zm(l.keys,t,i,"value"),l.times=t,l.values=i}return e.parse!==void 0?e.parse(l):new e(l.name,l.times,l.values,l.interpolation)}const Ch={enabled:!1,files:{},add:function(l,e){this.enabled!==!1&&(this.files[l]=e)},get:function(l){if(this.enabled!==!1)return this.files[l]},remove:function(l){delete this.files[l]},clear:function(){this.files={}}};class Gv{constructor(e,t,i){const s=this;let a=!1,d=0,p=0,v;const S=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(M){p++,a===!1&&s.onStart!==void 0&&s.onStart(M,d,p),a=!0},this.itemEnd=function(M){d++,s.onProgress!==void 0&&s.onProgress(M,d,p),d===p&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(M){s.onError!==void 0&&s.onError(M)},this.resolveURL=function(M){return v?v(M):M},this.setURLModifier=function(M){return v=M,this},this.addHandler=function(M,A){return S.push(M,A),this},this.removeHandler=function(M){const A=S.indexOf(M);return A!==-1&&S.splice(A,2),this},this.getHandler=function(M){for(let A=0,P=S.length;A<P;A+=2){const O=S[A],F=S[A+1];if(O.global&&(O.lastIndex=0),O.test(M))return F}return null}}}const ax=new Gv;class lx{constructor(e){this.manager=e!==void 0?e:ax,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(s,a){i.load(e,s,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}lx.DEFAULT_MATERIAL_NAME="__DEFAULT";const zd={};class cx extends null{constructor(e,t){super(e),this.response=t}}class _h extends null{constructor(e){super(e)}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ch.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(zd[e]!==void 0){zd[e].push({onLoad:t,onProgress:i,onError:s});return}zd[e]=[],zd[e].push({onLoad:t,onProgress:i,onError:s});const d=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),p=this.mimeType,v=this.responseType;fetch(d).then(S=>{if(S.status===200||S.status===0){if(S.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||S.body===void 0||S.body.getReader===void 0)return S;const M=zd[e],A=S.body.getReader(),P=S.headers.get("X-File-Size")||S.headers.get("Content-Length"),O=P?parseInt(P):0,F=O!==0;let W=0;const B=new ReadableStream({start(N){se();function se(){A.read().then(({done:Q,value:ae})=>{if(Q)N.close();else{W+=ae.byteLength;const St=new ProgressEvent("progress",{lengthComputable:F,loaded:W,total:O});for(let Ne=0,Je=M.length;Ne<Je;Ne++){const xt=M[Ne];xt.onProgress&&xt.onProgress(St)}N.enqueue(ae),se()}},Q=>{N.error(Q)})}}});return new Response(B)}else throw new cx(`fetch for "${S.url}" responded with ${S.status}: ${S.statusText}`,S)}).then(S=>{switch(v){case"arraybuffer":return S.arrayBuffer();case"blob":return S.blob();case"document":return S.text().then(M=>new DOMParser().parseFromString(M,p));case"json":return S.json();default:if(p===void 0)return S.text();{const A=/charset="?([^;"\s]*)"?/i.exec(p),P=A&&A[1]?A[1].toLowerCase():void 0,O=new TextDecoder(P);return S.arrayBuffer().then(F=>O.decode(F))}}}).then(S=>{Ch.add(e,S);const M=zd[e];delete zd[e];for(let A=0,P=M.length;A<P;A++){const O=M[A];O.onLoad&&O.onLoad(S)}}).catch(S=>{const M=zd[e];if(M===void 0)throw this.manager.itemError(e),S;delete zd[e];for(let A=0,P=M.length;A<P;A++){const O=M[A];O.onError&&O.onError(S)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class sb extends null{constructor(e){super(e)}load(e,t,i,s){const a=this,d=new _h(this.manager);d.setPath(this.path),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(p){try{t(a.parse(JSON.parse(p)))}catch(v){s?s(v):console.error(v),a.manager.itemError(e)}},i,s)}parse(e){const t=[];for(let i=0;i<e.length;i++){const s=Zg.parse(e[i]);t.push(s)}return t}}class ob extends null{constructor(e){super(e)}load(e,t,i,s){const a=this,d=[],p=new hy,v=new _h(this.manager);v.setPath(this.path),v.setResponseType("arraybuffer"),v.setRequestHeader(this.requestHeader),v.setWithCredentials(a.withCredentials);let S=0;function M(A){v.load(e[A],function(P){const O=a.parse(P,!0);d[A]={width:O.width,height:O.height,format:O.format,mipmaps:O.mipmaps},S+=1,S===6&&(O.mipmapCount===1&&(p.minFilter=ds),p.image=d,p.format=O.format,p.needsUpdate=!0,t&&t(p))},i,s)}if(Array.isArray(e))for(let A=0,P=e.length;A<P;++A)M(A);else v.load(e,function(A){const P=a.parse(A,!0);if(P.isCubemap){const O=P.mipmaps.length/P.mipmapCount;for(let F=0;F<O;F++){d[F]={mipmaps:[]};for(let W=0;W<P.mipmapCount;W++)d[F].mipmaps.push(P.mipmaps[F*P.mipmapCount+W]),d[F].format=P.format,d[F].width=P.width,d[F].height=P.height}p.image=d}else p.image.width=P.width,p.image.height=P.height,p.mipmaps=P.mipmaps;P.mipmapCount===1&&(p.minFilter=ds),p.format=P.format,p.needsUpdate=!0,t&&t(p)},i,s);return p}}class Gg extends null{constructor(e){super(e)}load(e,t,i,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,d=Ch.get(e);if(d!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(d),a.manager.itemEnd(e)},0),d;const p=$t("img");function v(){M(),Ch.add(e,this),t&&t(this),a.manager.itemEnd(e)}function S(A){M(),s&&s(A),a.manager.itemError(e),a.manager.itemEnd(e)}function M(){p.removeEventListener("load",v,!1),p.removeEventListener("error",S,!1)}return p.addEventListener("load",v,!1),p.addEventListener("error",S,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(p.crossOrigin=this.crossOrigin),a.manager.itemStart(e),p.src=e,p}}class ab extends null{constructor(e){super(e)}load(e,t,i,s){const a=new sc;a.colorSpace=Za;const d=new Gg(this.manager);d.setCrossOrigin(this.crossOrigin),d.setPath(this.path);let p=0;function v(S){d.load(e[S],function(M){a.images[S]=M,p++,p===6&&(a.needsUpdate=!0,t&&t(a))},void 0,s)}for(let S=0;S<e.length;++S)v(S);return a}}class lb extends null{constructor(e){super(e)}load(e,t,i,s){const a=this,d=new Bd,p=new _h(this.manager);return p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setPath(this.path),p.setWithCredentials(a.withCredentials),p.load(e,function(v){let S;try{S=a.parse(v)}catch(M){if(s!==void 0)s(M);else{console.error(M);return}}S.image!==void 0?d.image=S.image:S.data!==void 0&&(d.image.width=S.width,d.image.height=S.height,d.image.data=S.data),d.wrapS=S.wrapS!==void 0?S.wrapS:ce,d.wrapT=S.wrapT!==void 0?S.wrapT:ce,d.magFilter=S.magFilter!==void 0?S.magFilter:ds,d.minFilter=S.minFilter!==void 0?S.minFilter:ds,d.anisotropy=S.anisotropy!==void 0?S.anisotropy:1,S.colorSpace!==void 0&&(d.colorSpace=S.colorSpace),S.flipY!==void 0&&(d.flipY=S.flipY),S.format!==void 0&&(d.format=S.format),S.type!==void 0&&(d.type=S.type),S.mipmaps!==void 0&&(d.mipmaps=S.mipmaps,d.minFilter=fr),S.mipmapCount===1&&(d.minFilter=ds),S.generateMipmaps!==void 0&&(d.generateMipmaps=S.generateMipmaps),d.needsUpdate=!0,t&&t(d,S)},i,s),d}}class cb extends null{constructor(e){super(e)}load(e,t,i,s){const a=new el,d=new Gg(this.manager);return d.setCrossOrigin(this.crossOrigin),d.setPath(this.path),d.load(e,function(p){a.image=p,a.needsUpdate=!0,t!==void 0&&t(a)},i,s),a}}class ub extends null{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new wr(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class ux extends null{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(sl.DEFAULT_UP),this.updateMatrix(),this.groundColor=new wr(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const km=new qs,Xv=new je,Yv=new je;class db{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Zt(512,512),this.map=null,this.mapPass=null,this.matrix=new qs,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rh,this._frameExtents=new Zt(1,1),this._viewportCount=1,this._viewports=[new ao(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Xv.setFromMatrixPosition(e.matrixWorld),t.position.copy(Xv),Yv.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Yv),t.updateMatrixWorld(),km.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(km),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(km)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class dx extends null{constructor(){super(new jl(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Gi*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(i!==t.fov||s!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=s,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class hx extends null{constructor(e,t,i=0,s=Math.PI/3,a=0,d=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(sl.DEFAULT_UP),this.updateMatrix(),this.target=new sl,this.distance=i,this.angle=s,this.penumbra=a,this.decay=d,this.map=null,this.shadow=new dx}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Kv=new qs,ng=new je,$m=new je;class fx extends null{constructor(){super(new jl(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Zt(4,2),this._viewportCount=6,this._viewports=[new ao(2,1,1,1),new ao(0,1,1,1),new ao(3,1,1,1),new ao(1,1,1,1),new ao(3,0,1,1),new ao(1,0,1,1)],this._cubeDirections=[new je(1,0,0),new je(-1,0,0),new je(0,0,1),new je(0,0,-1),new je(0,1,0),new je(0,-1,0)],this._cubeUps=[new je(0,1,0),new je(0,1,0),new je(0,1,0),new je(0,1,0),new je(0,0,1),new je(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,s=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),ng.setFromMatrixPosition(e.matrixWorld),i.position.copy(ng),$m.copy(i.position),$m.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt($m),i.updateMatrixWorld(),s.makeTranslation(-ng.x,-ng.y,-ng.z),Kv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Kv)}}class px extends null{constructor(e,t,i=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new fx}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class gx extends null{constructor(){super(new Ye(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mx extends null{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(sl.DEFAULT_UP),this.updateMatrix(),this.target=new sl,this.shadow=new gx}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class vx extends null{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class yx extends null{constructor(e,t,i=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class xx{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new je)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,s=e.y,a=e.z,d=this.coefficients;return t.copy(d[0]).multiplyScalar(.282095),t.addScaledVector(d[1],.488603*s),t.addScaledVector(d[2],.488603*a),t.addScaledVector(d[3],.488603*i),t.addScaledVector(d[4],1.092548*(i*s)),t.addScaledVector(d[5],1.092548*(s*a)),t.addScaledVector(d[6],.315392*(3*a*a-1)),t.addScaledVector(d[7],1.092548*(i*a)),t.addScaledVector(d[8],.546274*(i*i-s*s)),t}getIrradianceAt(e,t){const i=e.x,s=e.y,a=e.z,d=this.coefficients;return t.copy(d[0]).multiplyScalar(.886227),t.addScaledVector(d[1],2*.511664*s),t.addScaledVector(d[2],2*.511664*a),t.addScaledVector(d[3],2*.511664*i),t.addScaledVector(d[4],2*.429043*i*s),t.addScaledVector(d[5],2*.429043*s*a),t.addScaledVector(d[6],.743125*a*a-.247708),t.addScaledVector(d[7],2*.429043*i*a),t.addScaledVector(d[8],.429043*(i*i-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const i=e.x,s=e.y,a=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*s,t[5]=1.092548*s*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-s*s)}}class bx extends null{constructor(e=new xx,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Hm extends null{constructor(e){super(e),this.textures={}}load(e,t,i,s){const a=this,d=new _h(a.manager);d.setPath(a.path),d.setRequestHeader(a.requestHeader),d.setWithCredentials(a.withCredentials),d.load(e,function(p){try{t(a.parse(JSON.parse(p)))}catch(v){s?s(v):console.error(v),a.manager.itemError(e)}},i,s)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const s=Hm.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new wr().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const d=e.uniforms[a];switch(s.uniforms[a]={},d.type){case"t":s.uniforms[a].value=i(d.value);break;case"c":s.uniforms[a].value=new wr().setHex(d.value);break;case"v2":s.uniforms[a].value=new Zt().fromArray(d.value);break;case"v3":s.uniforms[a].value=new je().fromArray(d.value);break;case"v4":s.uniforms[a].value=new ao().fromArray(d.value);break;case"m3":s.uniforms[a].value=new Wi().fromArray(d.value);break;case"m4":s.uniforms[a].value=new qs().fromArray(d.value);break;default:s.uniforms[a].value=d.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)s.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=i(e.map)),e.matcap!==void 0&&(s.matcap=i(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new Zt().fromArray(a)}return e.displacementMap!==void 0&&(s.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=i(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Zt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Wy,SpriteMaterial:nv,RawShaderMaterial:jy,ShaderMaterial:Vc,PointsMaterial:_v,MeshPhysicalMaterial:Gy,MeshStandardMaterial:Zy,MeshPhongMaterial:Xy,MeshToonMaterial:Yy,MeshNormalMaterial:Ky,MeshLambertMaterial:qy,MeshDepthMaterial:tp,MeshDistanceMaterial:kp,MeshBasicMaterial:lu,MeshMatcapMaterial:Jy,LineDashedMaterial:Qy,LineBasicMaterial:pu,Material:_u};return new t[e]}}class qv{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let i=0,s=e.length;i<s;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(i){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Jv extends qo{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Sx extends null{constructor(e){super(e)}load(e,t,i,s){const a=this,d=new _h(a.manager);d.setPath(a.path),d.setRequestHeader(a.requestHeader),d.setWithCredentials(a.withCredentials),d.load(e,function(p){try{t(a.parse(JSON.parse(p)))}catch(v){s?s(v):console.error(v),a.manager.itemError(e)}},i,s)}parse(e){const t={},i={};function s(O,F){if(t[F]!==void 0)return t[F];const B=O.interleavedBuffers[F],N=a(O,B.buffer),se=_t(B.type,N),Q=new lm(se,B.stride);return Q.uuid=B.uuid,t[F]=Q,Q}function a(O,F){if(i[F]!==void 0)return i[F];const B=O.arrayBuffers[F],N=new Uint32Array(B).buffer;return i[F]=N,N}const d=e.isInstancedBufferGeometry?new Jv:new qo,p=e.data.index;if(p!==void 0){const O=_t(p.type,p.array);d.setIndex(new pl(O,1))}const v=e.data.attributes;for(const O in v){const F=v[O];let W;if(F.isInterleavedBufferAttribute){const B=s(e.data,F.data);W=new af(B,F.itemSize,F.offset,F.normalized)}else{const B=_t(F.type,F.array),N=F.isInstancedBufferAttribute?jp:pl;W=new N(B,F.itemSize,F.normalized)}F.name!==void 0&&(W.name=F.name),F.usage!==void 0&&W.setUsage(F.usage),d.setAttribute(O,W)}const S=e.data.morphAttributes;if(S)for(const O in S){const F=S[O],W=[];for(let B=0,N=F.length;B<N;B++){const se=F[B];let Q;if(se.isInterleavedBufferAttribute){const ae=s(e.data,se.data);Q=new af(ae,se.itemSize,se.offset,se.normalized)}else{const ae=_t(se.type,se.array);Q=new pl(ae,se.itemSize,se.normalized)}se.name!==void 0&&(Q.name=se.name),W.push(Q)}d.morphAttributes[O]=W}e.data.morphTargetsRelative&&(d.morphTargetsRelative=!0);const A=e.data.groups||e.data.drawcalls||e.data.offsets;if(A!==void 0)for(let O=0,F=A.length;O!==F;++O){const W=A[O];d.addGroup(W.start,W.count,W.materialIndex)}const P=e.data.boundingSphere;if(P!==void 0){const O=new je;P.center!==void 0&&O.fromArray(P.center),d.boundingSphere=new Jl(O,P.radius)}return e.name&&(d.name=e.name),e.userData&&(d.userData=e.userData),d}}class hb extends null{constructor(e){super(e)}load(e,t,i,s){const a=this,d=this.path===""?qv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||d;const p=new _h(this.manager);p.setPath(this.path),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials),p.load(e,function(v){let S=null;try{S=JSON.parse(v)}catch(A){s!==void 0&&s(A),console.error("THREE:ObjectLoader: Can't parse "+e+".",A.message);return}const M=S.metadata;if(M===void 0||M.type===void 0||M.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(S,t)},i,s)}loadAsync(e,t){return Tl(this,null,function*(){const i=this,s=this.path===""?qv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new _h(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const d=yield a.loadAsync(e,t),p=JSON.parse(d),v=p.metadata;if(v===void 0||v.type===void 0||v.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield i.parseAsync(p)})}parse(e,t){const i=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,s),d=this.parseImages(e.images,function(){t!==void 0&&t(S)}),p=this.parseTextures(e.textures,d),v=this.parseMaterials(e.materials,p),S=this.parseObject(e.object,a,v,p,i),M=this.parseSkeletons(e.skeletons,S);if(this.bindSkeletons(S,M),this.bindLightTargets(S),t!==void 0){let A=!1;for(const P in d)if(d[P].data instanceof HTMLImageElement){A=!0;break}A===!1&&t(S)}return S}parseAsync(e){return Tl(this,null,function*(){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=yield this.parseImagesAsync(e.images),d=this.parseTextures(e.textures,a),p=this.parseMaterials(e.materials,d),v=this.parseObject(e.object,s,p,d,t),S=this.parseSkeletons(e.skeletons,v);return this.bindSkeletons(v,S),this.bindLightTargets(v),v})}parseShapes(e){const t={};if(e!==void 0)for(let i=0,s=e.length;i<s;i++){const a=new lp().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},s={};if(t.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),e!==void 0)for(let a=0,d=e.length;a<d;a++){const p=new hm().fromJSON(e[a],s);i[p.uuid]=p}return i}parseGeometries(e,t){const i={};if(e!==void 0){const s=new Sx;for(let a=0,d=e.length;a<d;a++){let p;const v=e[a];switch(v.type){case"BufferGeometry":case"InstancedBufferGeometry":p=s.parse(v);break;default:v.type in Hv?p=Hv[v.type].fromJSON(v,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${v.type}"`)}p.uuid=v.uuid,v.name!==void 0&&(p.name=v.name),v.userData!==void 0&&(p.userData=v.userData),i[v.uuid]=p}}return i}parseMaterials(e,t){const i={},s={};if(e!==void 0){const a=new Hm;a.setTextures(t);for(let d=0,p=e.length;d<p;d++){const v=e[d];i[v.uuid]===void 0&&(i[v.uuid]=a.parse(v)),s[v.uuid]=i[v.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const s=e[i],a=Zg.parse(s);t[a.uuid]=a}return t}parseImages(e,t){const i=this,s={};let a;function d(v){return i.manager.itemStart(v),a.load(v,function(){i.manager.itemEnd(v)},void 0,function(){i.manager.itemError(v),i.manager.itemEnd(v)})}function p(v){if(typeof v=="string"){const S=v,M=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(S)?S:i.resourcePath+S;return d(M)}else return v.data?{data:_t(v.type,v.data),width:v.width,height:v.height}:null}if(e!==void 0&&e.length>0){const v=new Gv(t);a=new Gg(v),a.setCrossOrigin(this.crossOrigin);for(let S=0,M=e.length;S<M;S++){const A=e[S],P=A.url;if(Array.isArray(P)){const O=[];for(let F=0,W=P.length;F<W;F++){const B=P[F],N=p(B);N!==null&&(N instanceof HTMLImageElement?O.push(N):O.push(new Bd(N.data,N.width,N.height)))}s[A.uuid]=new Qa(O)}else{const O=p(A.url);s[A.uuid]=new Qa(O)}}}return s}parseImagesAsync(e){return Tl(this,null,function*(){const t=this,i={};let s;function a(d){return Tl(this,null,function*(){if(typeof d=="string"){const p=d,v=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:t.resourcePath+p;return yield s.loadAsync(v)}else return d.data?{data:_t(d.type,d.data),width:d.width,height:d.height}:null})}if(e!==void 0&&e.length>0){s=new Gg(this.manager),s.setCrossOrigin(this.crossOrigin);for(let d=0,p=e.length;d<p;d++){const v=e[d],S=v.url;if(Array.isArray(S)){const M=[];for(let A=0,P=S.length;A<P;A++){const O=S[A],F=yield a(O);F!==null&&(F instanceof HTMLImageElement?M.push(F):M.push(new Bd(F.data,F.width,F.height)))}i[v.uuid]=new Qa(M)}else{const M=yield a(v.url);i[v.uuid]=new Qa(M)}}}return i})}parseTextures(e,t){function i(a,d){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),d[a])}const s={};if(e!==void 0)for(let a=0,d=e.length;a<d;a++){const p=e[a];p.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',p.uuid),t[p.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",p.image);const v=t[p.image],S=v.data;let M;Array.isArray(S)?(M=new sc,S.length===6&&(M.needsUpdate=!0)):(S&&S.data?M=new Bd:M=new el,S&&(M.needsUpdate=!0)),M.source=v,M.uuid=p.uuid,p.name!==void 0&&(M.name=p.name),p.mapping!==void 0&&(M.mapping=i(p.mapping,Cx)),p.channel!==void 0&&(M.channel=p.channel),p.offset!==void 0&&M.offset.fromArray(p.offset),p.repeat!==void 0&&M.repeat.fromArray(p.repeat),p.center!==void 0&&M.center.fromArray(p.center),p.rotation!==void 0&&(M.rotation=p.rotation),p.wrap!==void 0&&(M.wrapS=i(p.wrap[0],Qv),M.wrapT=i(p.wrap[1],Qv)),p.format!==void 0&&(M.format=p.format),p.internalFormat!==void 0&&(M.internalFormat=p.internalFormat),p.type!==void 0&&(M.type=p.type),p.colorSpace!==void 0&&(M.colorSpace=p.colorSpace),p.minFilter!==void 0&&(M.minFilter=i(p.minFilter,e0)),p.magFilter!==void 0&&(M.magFilter=i(p.magFilter,e0)),p.anisotropy!==void 0&&(M.anisotropy=p.anisotropy),p.flipY!==void 0&&(M.flipY=p.flipY),p.generateMipmaps!==void 0&&(M.generateMipmaps=p.generateMipmaps),p.premultiplyAlpha!==void 0&&(M.premultiplyAlpha=p.premultiplyAlpha),p.unpackAlignment!==void 0&&(M.unpackAlignment=p.unpackAlignment),p.compareFunction!==void 0&&(M.compareFunction=p.compareFunction),p.userData!==void 0&&(M.userData=p.userData),s[p.uuid]=M}return s}parseObject(e,t,i,s,a){let d;function p(P){return t[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",P),t[P]}function v(P){if(P!==void 0){if(Array.isArray(P)){const O=[];for(let F=0,W=P.length;F<W;F++){const B=P[F];i[B]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",B),O.push(i[B])}return O}return i[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",P),i[P]}}function S(P){return s[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",P),s[P]}let M,A;switch(e.type){case"Scene":d=new tv,e.background!==void 0&&(Number.isInteger(e.background)?d.background=new wr(e.background):d.background=S(e.background)),e.environment!==void 0&&(d.environment=S(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?d.fog=new am(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(d.fog=new om(e.fog.color,e.fog.density)),e.fog.name!==""&&(d.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(d.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(d.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&d.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(d.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&d.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":d=new jl(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(d.focus=e.focus),e.zoom!==void 0&&(d.zoom=e.zoom),e.filmGauge!==void 0&&(d.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(d.filmOffset=e.filmOffset),e.view!==void 0&&(d.view=Object.assign({},e.view));break;case"OrthographicCamera":d=new Ye(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(d.zoom=e.zoom),e.view!==void 0&&(d.view=Object.assign({},e.view));break;case"AmbientLight":d=new vx(e.color,e.intensity);break;case"DirectionalLight":d=new mx(e.color,e.intensity),d.target=e.target||"";break;case"PointLight":d=new px(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":d=new yx(e.color,e.intensity,e.width,e.height);break;case"SpotLight":d=new hx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),d.target=e.target||"";break;case"HemisphereLight":d=new ux(e.color,e.groundColor,e.intensity);break;case"LightProbe":d=new bx().fromJSON(e);break;case"SkinnedMesh":M=p(e.geometry),A=v(e.material),d=new J0(M,A),e.bindMode!==void 0&&(d.bindMode=e.bindMode),e.bindMatrix!==void 0&&d.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(d.skeleton=e.skeleton);break;case"Mesh":M=p(e.geometry),A=v(e.material),d=new Ql(M,A);break;case"InstancedMesh":M=p(e.geometry),A=v(e.material);const P=e.count,O=e.instanceMatrix,F=e.instanceColor;d=new ty(M,A,P),d.instanceMatrix=new jp(new Float32Array(O.array),16),F!==void 0&&(d.instanceColor=new jp(new Float32Array(F.array),F.itemSize));break;case"BatchedMesh":M=p(e.geometry),A=v(e.material),d=new cy(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,A),d.geometry=M,d.perObjectFrustumCulled=e.perObjectFrustumCulled,d.sortObjects=e.sortObjects,d._drawRanges=e.drawRanges,d._reservedRanges=e.reservedRanges,d._visibility=e.visibility,d._active=e.active,d._bounds=e.bounds.map(W=>{const B=new ql;B.min.fromArray(W.boxMin),B.max.fromArray(W.boxMax);const N=new Jl;return N.radius=W.sphereRadius,N.center.fromArray(W.sphereCenter),{boxInitialized:W.boxInitialized,box:B,sphereInitialized:W.sphereInitialized,sphere:N}}),d._maxInstanceCount=e.maxInstanceCount,d._maxVertexCount=e.maxVertexCount,d._maxIndexCount=e.maxIndexCount,d._geometryInitialized=e.geometryInitialized,d._geometryCount=e.geometryCount,d._matricesTexture=S(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(d._colorsTexture=S(e.colorsTexture.uuid));break;case"LOD":d=new K0;break;case"Line":d=new Eg(p(e.geometry),v(e.material));break;case"LineLoop":d=new uy(p(e.geometry),v(e.material));break;case"LineSegments":d=new Cv(p(e.geometry),v(e.material));break;case"PointCloud":case"Points":d=new dy(p(e.geometry),v(e.material));break;case"Sprite":d=new Y0(v(e.material));break;case"Group":d=new $p;break;case"Bone":d=new hv;break;default:d=new sl}if(d.uuid=e.uuid,e.name!==void 0&&(d.name=e.name),e.matrix!==void 0?(d.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(d.matrixAutoUpdate=e.matrixAutoUpdate),d.matrixAutoUpdate&&d.matrix.decompose(d.position,d.quaternion,d.scale)):(e.position!==void 0&&d.position.fromArray(e.position),e.rotation!==void 0&&d.rotation.fromArray(e.rotation),e.quaternion!==void 0&&d.quaternion.fromArray(e.quaternion),e.scale!==void 0&&d.scale.fromArray(e.scale)),e.up!==void 0&&d.up.fromArray(e.up),e.castShadow!==void 0&&(d.castShadow=e.castShadow),e.receiveShadow!==void 0&&(d.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(d.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(d.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(d.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(d.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&d.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(d.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(d.visible=e.visible),e.frustumCulled!==void 0&&(d.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(d.renderOrder=e.renderOrder),e.userData!==void 0&&(d.userData=e.userData),e.layers!==void 0&&(d.layers.mask=e.layers),e.children!==void 0){const P=e.children;for(let O=0;O<P.length;O++)d.add(this.parseObject(P[O],t,i,s,a))}if(e.animations!==void 0){const P=e.animations;for(let O=0;O<P.length;O++){const F=P[O];d.animations.push(a[F])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(d.autoUpdate=e.autoUpdate);const P=e.levels;for(let O=0;O<P.length;O++){const F=P[O],W=d.getObjectByProperty("uuid",F.object);W!==void 0&&d.addLevel(W,F.distance,F.hysteresis)}}return d}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=t[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,s=e.getObjectByProperty("uuid",i);s!==void 0?t.target=s:t.target=new sl}})}}const Cx={UVMapping:pn,CubeReflectionMapping:it,CubeRefractionMapping:Vs,EquirectangularReflectionMapping:nr,EquirectangularRefractionMapping:zr,CubeUVReflectionMapping:kr},Qv={RepeatWrapping:Hn,ClampToEdgeWrapping:ce,MirroredRepeatWrapping:Qt},e0={NearestFilter:gn,NearestMipmapNearestFilter:Ft,NearestMipmapLinearFilter:Cn,LinearFilter:ds,LinearMipmapNearestFilter:io,LinearMipmapLinearFilter:fr};class fb extends null{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,d=Ch.get(e);if(d!==void 0){if(a.manager.itemStart(e),d.then){d.then(S=>{t&&t(S),a.manager.itemEnd(e)}).catch(S=>{s&&s(S)});return}return setTimeout(function(){t&&t(d),a.manager.itemEnd(e)},0),d}const p={};p.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",p.headers=this.requestHeader;const v=fetch(e,p).then(function(S){return S.blob()}).then(function(S){return createImageBitmap(S,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(S){return Ch.add(e,S),t&&t(S),a.manager.itemEnd(e),S}).catch(function(S){s&&s(S),Ch.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Ch.add(e,v),a.manager.itemStart(e)}}let Xg;class t0{static getContext(){return Xg===void 0&&(Xg=new(window.AudioContext||window.webkitAudioContext)),Xg}static setContext(e){Xg=e}}class pb extends null{constructor(e){super(e)}load(e,t,i,s){const a=this,d=new _h(this.manager);d.setResponseType("arraybuffer"),d.setPath(this.path),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(e,function(v){try{const S=v.slice(0);t0.getContext().decodeAudioData(S,function(A){t(A)}).catch(p)}catch(S){p(S)}},i,s);function p(v){s?s(v):console.error(v),a.manager.itemError(e)}}}const n0=new qs,i0=new qs,hf=new qs;class gb{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new jl,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new jl,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,hf.copy(e.projectionMatrix);const s=t.eyeSep/2,a=s*t.near/t.focus,d=t.near*Math.tan(oi*t.fov*.5)/t.zoom;let p,v;i0.elements[12]=-s,n0.elements[12]=s,p=-d*t.aspect+a,v=d*t.aspect+a,hf.elements[0]=2*t.near/(v-p),hf.elements[8]=(v+p)/(v-p),this.cameraL.projectionMatrix.copy(hf),p=-d*t.aspect-a,v=d*t.aspect-a,hf.elements[0]=2*t.near/(v-p),hf.elements[8]=(v+p)/(v-p),this.cameraR.projectionMatrix.copy(hf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(i0),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(n0)}}class _x{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=r0(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=r0();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function r0(){return(typeof performance=="undefined"?Date:performance).now()}const ff=new je,s0=new Kl,wx=new je,pf=new je;class mb extends null{constructor(){super(),this.type="AudioListener",this.context=t0.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new _x}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ff,s0,wx),pf.set(0,0,-1).applyQuaternion(s0),t.positionX){const s=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ff.x,s),t.positionY.linearRampToValueAtTime(ff.y,s),t.positionZ.linearRampToValueAtTime(ff.z,s),t.forwardX.linearRampToValueAtTime(pf.x,s),t.forwardY.linearRampToValueAtTime(pf.y,s),t.forwardZ.linearRampToValueAtTime(pf.z,s),t.upX.linearRampToValueAtTime(i.x,s),t.upY.linearRampToValueAtTime(i.y,s),t.upZ.linearRampToValueAtTime(i.z,s)}else t.setPosition(ff.x,ff.y,ff.z),t.setOrientation(pf.x,pf.y,pf.z,i.x,i.y,i.z)}}class vb extends null{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const gf=new je,o0=new Kl,Mx=new je,mf=new je;class yb extends null{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gf,o0,Mx),mf.set(0,0,1).applyQuaternion(o0);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(gf.x,i),t.positionY.linearRampToValueAtTime(gf.y,i),t.positionZ.linearRampToValueAtTime(gf.z,i),t.orientationX.linearRampToValueAtTime(mf.x,i),t.orientationY.linearRampToValueAtTime(mf.y,i),t.orientationZ.linearRampToValueAtTime(mf.z,i)}else t.setPosition(gf.x,gf.y,gf.z),t.setOrientation(mf.x,mf.y,mf.z)}}class xb{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class Ex{constructor(e,t,i){this.binding=e,this.valueSize=i;let s,a,d;switch(t){case"quaternion":s=this._slerp,a=this._slerpAdditive,d=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,d=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,a=this._lerpAdditive,d=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=d,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,s=this.valueSize,a=e*s+s;let d=this.cumulativeWeight;if(d===0){for(let p=0;p!==s;++p)i[a+p]=i[p];d=t}else{d+=t;const p=t/d;this._mixBufferRegion(i,a,0,p,s)}this.cumulativeWeight=d}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,s=e*t+t,a=this.cumulativeWeight,d=this.cumulativeWeightAdditive,p=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const v=t*this._origIndex;this._mixBufferRegion(i,s,v,1-a,t)}d>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*t,1,t);for(let v=t,S=t+t;v!==S;++v)if(i[v]!==i[v+t]){p.setValue(i,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,s=i*this._origIndex;e.getValue(t,s);for(let a=i,d=s;a!==d;++a)t[a]=t[s+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,s,a){if(s>=.5)for(let d=0;d!==a;++d)e[t+d]=e[i+d]}_slerp(e,t,i,s){Kl.slerpFlat(e,t,e,t,e,i,s)}_slerpAdditive(e,t,i,s,a){const d=this._workIndex*a;Kl.multiplyQuaternionsFlat(e,d,e,t,e,i),Kl.slerpFlat(e,t,e,t,e,d,s)}_lerp(e,t,i,s,a){const d=1-s;for(let p=0;p!==a;++p){const v=t+p;e[v]=e[v]*d+e[i+p]*s}}_lerpAdditive(e,t,i,s,a){for(let d=0;d!==a;++d){const p=t+d;e[p]=e[p]+e[i+d]*s}}}const Vm="\\[\\]\\.:\\/",Tx=new RegExp("["+Vm+"]","g"),Wm="[^"+Vm+"]",Ax="[^"+Vm.replace("\\.","")+"]",Px=/((?:WC+[\/:])*)/.source.replace("WC",Wm),Rx=/(WCOD+)?/.source.replace("WCOD",Ax),Ox=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Wm),Ix=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Wm),Dx=new RegExp("^"+Px+Rx+Ox+Ix+"$"),Lx=["material","materials","bones","map"];class Nx{constructor(e,t,i){const s=i||Ua.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=i.length;s!==a;++s)i[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ua{constructor(e,t,i){this.path=t,this.parsedPath=i||Ua.parseTrackName(t),this.node=Ua.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ua.Composite(e,t,i):new Ua(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Tx,"")}static parseTrackName(e){const t=Dx.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=i.nodeName.substring(s+1);Lx.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let d=0;d<a.length;d++){const p=a[d];if(p.name===t||p.uuid===t)return p;const v=i(p.children);if(v)return v}return null},s=i(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)e[t++]=i[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let s=0,a=i.length;s!==a;++s)i[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,s=t.propertyName;let a=t.propertyIndex;if(e||(e=Ua.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let S=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let M=0;M<e.length;M++)if(e[M].name===S){S=M;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(S!==void 0){if(e[S]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[S]}}const d=e[s];if(d===void 0){const S=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+S+"."+s+" but it wasn't found.",e);return}let p=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?p=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(p=this.Versioning.MatrixWorldNeedsUpdate);let v=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}v=this.BindingType.ArrayElement,this.resolvedProperty=d,this.propertyIndex=a}else d.fromArray!==void 0&&d.toArray!==void 0?(v=this.BindingType.HasFromToArray,this.resolvedProperty=d):Array.isArray(d)?(v=this.BindingType.EntireArray,this.resolvedProperty=d):this.propertyName=s;this.getValue=this.GetterByBindingType[v],this.setValue=this.SetterByBindingTypeAndVersioning[v][p]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ua.Composite=Nx,Ua.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ua.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ua.prototype.GetterByBindingType=[Ua.prototype._getValue_direct,Ua.prototype._getValue_array,Ua.prototype._getValue_arrayElement,Ua.prototype._getValue_toArray],Ua.prototype.SetterByBindingTypeAndVersioning=[[Ua.prototype._setValue_direct,Ua.prototype._setValue_direct_setNeedsUpdate,Ua.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ua.prototype._setValue_array,Ua.prototype._setValue_array_setNeedsUpdate,Ua.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ua.prototype._setValue_arrayElement,Ua.prototype._setValue_arrayElement_setNeedsUpdate,Ua.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ua.prototype._setValue_fromArray,Ua.prototype._setValue_fromArray_setNeedsUpdate,Ua.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class bb{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ki(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,s=arguments.length;i!==s;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,s=this._parsedPaths,a=this._bindings,d=a.length;let p,v=e.length,S=this.nCachedObjects_;for(let M=0,A=arguments.length;M!==A;++M){const P=arguments[M],O=P.uuid;let F=t[O];if(F===void 0){F=v++,t[O]=F,e.push(P);for(let W=0,B=d;W!==B;++W)a[W].push(new Ua(P,i[W],s[W]))}else if(F<S){p=e[F];const W=--S,B=e[W];t[B.uuid]=F,e[F]=B,t[O]=W,e[W]=P;for(let N=0,se=d;N!==se;++N){const Q=a[N],ae=Q[W];let St=Q[F];Q[F]=ae,St===void 0&&(St=new Ua(P,i[N],s[N])),Q[W]=St}}else e[F]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=S}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_;for(let d=0,p=arguments.length;d!==p;++d){const v=arguments[d],S=v.uuid,M=t[S];if(M!==void 0&&M>=a){const A=a++,P=e[A];t[P.uuid]=M,e[M]=P,t[S]=A,e[A]=v;for(let O=0,F=s;O!==F;++O){const W=i[O],B=W[A],N=W[M];W[M]=B,W[A]=N}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,s=i.length;let a=this.nCachedObjects_,d=e.length;for(let p=0,v=arguments.length;p!==v;++p){const S=arguments[p],M=S.uuid,A=t[M];if(A!==void 0)if(delete t[M],A<a){const P=--a,O=e[P],F=--d,W=e[F];t[O.uuid]=A,e[A]=O,t[W.uuid]=P,e[P]=W,e.pop();for(let B=0,N=s;B!==N;++B){const se=i[B],Q=se[P],ae=se[F];se[A]=Q,se[P]=ae,se.pop()}}else{const P=--d,O=e[P];P>0&&(t[O.uuid]=A),e[A]=O,e.pop();for(let F=0,W=s;F!==W;++F){const B=i[F];B[A]=B[P],B.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let s=i[e];const a=this._bindings;if(s!==void 0)return a[s];const d=this._paths,p=this._parsedPaths,v=this._objects,S=v.length,M=this.nCachedObjects_,A=new Array(S);s=a.length,i[e]=s,d.push(e),p.push(t),a.push(A);for(let P=M,O=v.length;P!==O;++P){const F=v[P];A[P]=new Ua(F,e,t)}return A}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const s=this._paths,a=this._parsedPaths,d=this._bindings,p=d.length-1,v=d[p],S=e[p];t[S]=i,d[i]=v,d.pop(),a[i]=a[p],a.pop(),s[i]=s[p],s.pop()}}}class Fx{constructor(e,t,i=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=s;const a=t.tracks,d=a.length,p=new Array(d),v={endingStart:bo,endingEnd:bo};for(let S=0;S!==d;++S){const M=a[S].createInterpolant(null);p[S]=M,M.settings=v}this._interpolantSettings=v,this._interpolants=p,this._propertyBindings=new Array(d),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Os,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const s=this._clip.duration,a=e._clip.duration,d=a/s,p=s/a;e.warp(1,d,t),this.warp(p,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const s=this._mixer,a=s.time,d=this.timeScale;let p=this._timeScaleInterpolant;p===null&&(p=s._lendControlInterpolant(),this._timeScaleInterpolant=p);const v=p.parameterPositions,S=p.sampleValues;return v[0]=a,v[1]=a+i,S[0]=e/d,S[1]=t/d,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,s){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const v=(e-a)*i;v<0||i===0?t=0:(this._startTime=null,t=i*v)}t*=this._updateTimeScale(e);const d=this._updateTime(t),p=this._updateWeight(e);if(p>0){const v=this._interpolants,S=this._propertyBindings;switch(this.blendMode){case Eo:for(let M=0,A=v.length;M!==A;++M)v[M].evaluate(d),S[M].accumulateAdditive(p);break;case zo:default:for(let M=0,A=v.length;M!==A;++M)v[M].evaluate(d),S[M].accumulate(s,p)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(e)[0];t*=s,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let s=this.time+e,a=this._loopCount;const d=i===Xo;if(e===0)return a===-1?s:d&&(a&1)===1?t-s:s;if(i===xo){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,d)):this._setEndings(this.repetitions===0,!0,d)),s>=t||s<0){const p=Math.floor(s/t);s-=t*p,a+=Math.abs(p);const v=this.repetitions-a;if(v<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(v===1){const S=e<0;this._setEndings(S,!S,d)}else this._setEndings(!1,!1,d);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:p})}}else this.time=s;if(d&&(a&1)===1)return t-s}return s}_setEndings(e,t,i){const s=this._interpolantSettings;i?(s.endingStart=Yo,s.endingEnd=Yo):(e?s.endingStart=this.zeroSlopeAtStart?Yo:bo:s.endingStart=Po,t?s.endingEnd=this.zeroSlopeAtEnd?Yo:bo:s.endingEnd=Po)}_scheduleFading(e,t,i){const s=this._mixer,a=s.time;let d=this._weightInterpolant;d===null&&(d=s._lendControlInterpolant(),this._weightInterpolant=d);const p=d.parameterPositions,v=d.sampleValues;return p[0]=a,v[0]=t,p[1]=a+e,v[1]=i,this}}const Bx=new Float32Array(1);class Sb extends null{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,s=e._clip.tracks,a=s.length,d=e._propertyBindings,p=e._interpolants,v=i.uuid,S=this._bindingsByRootAndName;let M=S[v];M===void 0&&(M={},S[v]=M);for(let A=0;A!==a;++A){const P=s[A],O=P.name;let F=M[O];if(F!==void 0)++F.referenceCount,d[A]=F;else{if(F=d[A],F!==void 0){F._cacheIndex===null&&(++F.referenceCount,this._addInactiveBinding(F,v,O));continue}const W=t&&t._propertyBindings[A].binding.parsedPath;F=new Ex(Ua.create(i,O,W),P.ValueTypeName,P.getValueSize()),++F.referenceCount,this._addInactiveBinding(F,v,O),d[A]=F}p[A].resultBuffer=F.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,s=e._clip.uuid,a=this._actionsByClip[s];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,s,i)}const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const s=this._actions,a=this._actionsByClip;let d=a[t];if(d===void 0)d={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=d;else{const p=d.knownActions;e._byClipCacheIndex=p.length,p.push(e)}e._cacheIndex=s.length,s.push(e),d.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],s=e._cacheIndex;i._cacheIndex=s,t[s]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,d=this._actionsByClip,p=d[a],v=p.knownActions,S=v[v.length-1],M=e._byClipCacheIndex;S._byClipCacheIndex=M,v[M]=S,v.pop(),e._byClipCacheIndex=null;const A=p.actionByRoot,P=(e._localRoot||this._root).uuid;delete A[P],v.length===0&&delete d[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,s=t.length;i!==s;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,s=this._nActiveActions++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,s=--this._nActiveActions,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const s=this._bindingsByRootAndName,a=this._bindings;let d=s[t];d===void 0&&(d={},s[t]=d),d[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,s=i.rootNode.uuid,a=i.path,d=this._bindingsByRootAndName,p=d[s],v=t[t.length-1],S=e._cacheIndex;v._cacheIndex=S,t[S]=v,t.pop(),delete p[a],Object.keys(p).length===0&&delete d[s]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,s=this._nActiveBindings++,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,s=--this._nActiveBindings,a=t[s];e._cacheIndex=s,t[s]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new jv(new Float32Array(2),new Float32Array(2),1,Bx),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,s=--this._nActiveControlInterpolants,a=t[s];e.__cacheIndex=s,t[s]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const s=t||this._root,a=s.uuid;let d=typeof e=="string"?Zg.findByName(s,e):e;const p=d!==null?d.uuid:e,v=this._actionsByClip[p];let S=null;if(i===void 0&&(d!==null?i=d.blendMode:i=zo),v!==void 0){const A=v.actionByRoot[a];if(A!==void 0&&A.blendMode===i)return A;S=v.knownActions[0],d===null&&(d=S._clip)}if(d===null)return null;const M=new Fx(this,d,t,i);return this._bindAction(M,S),this._addInactiveAction(M,p,a),M}existingAction(e,t){const i=t||this._root,s=i.uuid,a=typeof e=="string"?Zg.findByName(i,e):e,d=a?a.uuid:e,p=this._actionsByClip[d];return p!==void 0&&p.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,s=this.time+=e,a=Math.sign(e),d=this._accuIndex^=1;for(let S=0;S!==i;++S)t[S]._update(s,e,a,d);const p=this._bindings,v=this._nActiveBindings;for(let S=0;S!==v;++S)p[S].apply(d);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,s=this._actionsByClip,a=s[i];if(a!==void 0){const d=a.knownActions;for(let p=0,v=d.length;p!==v;++p){const S=d[p];this._deactivateAction(S);const M=S._cacheIndex,A=t[t.length-1];S._cacheIndex=null,S._byClipCacheIndex=null,A._cacheIndex=M,t[M]=A,t.pop(),this._removeInactiveBindingsForAction(S)}delete s[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const d in i){const p=i[d].actionByRoot,v=p[t];v!==void 0&&(this._deactivateAction(v),this._removeInactiveAction(v))}const s=this._bindingsByRootAndName,a=s[t];if(a!==void 0)for(const d in a){const p=a[d];p.restoreOriginalState(),this._removeInactiveBinding(p)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class a0{constructor(e){this.value=e}clone(){return new a0(this.value.clone===void 0?this.value:this.value.clone())}}let Ux=0;class Cb extends null{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Ux++}),this.name="",this.usage=_s,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,s=t.length;i<s;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let d=0;d<a.length;d++)this.uniforms.push(a[d].clone())}return this}clone(){return new this.constructor().copy(this)}}class zx extends lm{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class _b{constructor(e,t,i,s,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=s,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const l0=new qs;class wb{constructor(e,t,i=0,s=1/0){this.ray=new Ou(e,t),this.near=i,this.far=s,this.camera=null,this.layers=new Zd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return l0.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(l0),this}intersectObject(e,t=!0,i=[]){return jm(e,this,i,t),i.sort(c0),i}intersectObjects(e,t=!0,i=[]){for(let s=0,a=e.length;s<a;s++)jm(e[s],this,i,t);return i.sort(c0),i}}function c0(l,e){return l.distance-e.distance}function jm(l,e,t,i){let s=!0;if(l.layers.test(e.layers)&&l.raycast(e,t)===!1&&(s=!1),s===!0&&i===!0){const a=l.children;for(let d=0,p=a.length;d<p;d++)jm(a[d],e,t,!0)}}class Mb{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(sr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Eb{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class u0{constructor(e,t,i,s){u0.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,s){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=s,this}}const d0=new Zt;class Tb{constructor(e=new Zt(1/0,1/0),t=new Zt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=d0.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,d0).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const h0=new je,Yg=new je;class kx{constructor(e=new je,t=new je){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){h0.subVectors(e,this.start),Yg.subVectors(this.end,this.start);const i=Yg.dot(Yg);let a=Yg.dot(h0)/i;return t&&(a=sr(a,0,1)),a}closestPointToPoint(e,t,i){const s=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const f0=new je;class Ab extends null{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new qo,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let d=0,p=1,v=32;d<v;d++,p++){const S=d/v*Math.PI*2,M=p/v*Math.PI*2;s.push(Math.cos(S),Math.sin(S),1,Math.cos(M),Math.sin(M),1)}i.setAttribute("position",new fs(s,3));const a=new pu({fog:!1,toneMapped:!1});this.cone=new Cv(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),f0.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(f0),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wh=new je,Kg=new qs,Zm=new qs;class Pb extends null{constructor(e){const t=p0(e),i=new qo,s=[],a=[],d=new wr(0,0,1),p=new wr(0,1,0);for(let S=0;S<t.length;S++){const M=t[S];M.parent&&M.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(d.r,d.g,d.b),a.push(p.r,p.g,p.b))}i.setAttribute("position",new fs(s,3)),i.setAttribute("color",new fs(a,3));const v=new pu({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,v),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,s=i.getAttribute("position");Zm.copy(this.root.matrixWorld).invert();for(let a=0,d=0;a<t.length;a++){const p=t[a];p.parent&&p.parent.isBone&&(Kg.multiplyMatrices(Zm,p.matrixWorld),wh.setFromMatrixPosition(Kg),s.setXYZ(d,wh.x,wh.y,wh.z),Kg.multiplyMatrices(Zm,p.parent.matrixWorld),wh.setFromMatrixPosition(Kg),s.setXYZ(d+1,wh.x,wh.y,wh.z),d+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function p0(l){const e=[];l.isBone===!0&&e.push(l);for(let t=0;t<l.children.length;t++)e.push.apply(e,p0(l.children[t]));return e}class Rb extends null{constructor(e,t,i){const s=new $g(t,4,2),a=new lu({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const $x=new je,g0=new wr,m0=new wr;class Ob extends null{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new kg(t);s.rotateY(Math.PI*.5),this.material=new lu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),d=new Float32Array(a.count*3);s.setAttribute("color",new pl(d,3)),this.add(new Ql(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");g0.copy(this.light.color),m0.copy(this.light.groundColor);for(let i=0,s=t.count;i<s;i++){const a=i<s/2?g0:m0;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt($x.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Ib extends null{constructor(e=10,t=10,i=4473924,s=8947848){i=new wr(i),s=new wr(s);const a=t/2,d=e/t,p=e/2,v=[],S=[];for(let P=0,O=0,F=-p;P<=t;P++,F+=d){v.push(-p,0,F,p,0,F),v.push(F,0,-p,F,0,p);const W=P===a?i:s;W.toArray(S,O),O+=3,W.toArray(S,O),O+=3,W.toArray(S,O),O+=3,W.toArray(S,O),O+=3}const M=new qo;M.setAttribute("position",new fs(v,3)),M.setAttribute("color",new fs(S,3));const A=new pu({vertexColors:!0,toneMapped:!1});super(M,A),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Db extends null{constructor(e=10,t=16,i=8,s=64,a=4473924,d=8947848){a=new wr(a),d=new wr(d);const p=[],v=[];if(t>1)for(let A=0;A<t;A++){const P=A/t*(Math.PI*2),O=Math.sin(P)*e,F=Math.cos(P)*e;p.push(0,0,0),p.push(O,0,F);const W=A&1?a:d;v.push(W.r,W.g,W.b),v.push(W.r,W.g,W.b)}for(let A=0;A<i;A++){const P=A&1?a:d,O=e-e/i*A;for(let F=0;F<s;F++){let W=F/s*(Math.PI*2),B=Math.sin(W)*O,N=Math.cos(W)*O;p.push(B,0,N),v.push(P.r,P.g,P.b),W=(F+1)/s*(Math.PI*2),B=Math.sin(W)*O,N=Math.cos(W)*O,p.push(B,0,N),v.push(P.r,P.g,P.b)}}const S=new qo;S.setAttribute("position",new fs(p,3)),S.setAttribute("color",new fs(v,3));const M=new pu({vertexColors:!0,toneMapped:!1});super(S,M),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const v0=new je,qg=new je,y0=new je;class Lb extends null{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new qo;s.setAttribute("position",new fs([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new pu({fog:!1,toneMapped:!1});this.lightPlane=new Eg(s,a),this.add(this.lightPlane),s=new qo,s.setAttribute("position",new fs([0,0,0,0,0,1],3)),this.targetLine=new Eg(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),v0.setFromMatrixPosition(this.light.matrixWorld),qg.setFromMatrixPosition(this.light.target.matrixWorld),y0.subVectors(qg,v0),this.lightPlane.lookAt(qg),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(qg),this.targetLine.scale.z=y0.length()}}const Jg=new je,zl=new ih;class Nb extends null{constructor(e){const t=new qo,i=new pu({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],d={};p("n1","n2"),p("n2","n4"),p("n4","n3"),p("n3","n1"),p("f1","f2"),p("f2","f4"),p("f4","f3"),p("f3","f1"),p("n1","f1"),p("n2","f2"),p("n3","f3"),p("n4","f4"),p("p","n1"),p("p","n2"),p("p","n3"),p("p","n4"),p("u1","u2"),p("u2","u3"),p("u3","u1"),p("c","t"),p("p","c"),p("cn1","cn2"),p("cn3","cn4"),p("cf1","cf2"),p("cf3","cf4");function p(F,W){v(F),v(W)}function v(F){s.push(0,0,0),a.push(0,0,0),d[F]===void 0&&(d[F]=[]),d[F].push(s.length/3-1)}t.setAttribute("position",new fs(s,3)),t.setAttribute("color",new fs(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=d,this.update();const S=new wr(16755200),M=new wr(16711680),A=new wr(43775),P=new wr(16777215),O=new wr(3355443);this.setColors(S,M,A,P,O)}setColors(e,t,i,s,a){const p=this.geometry.getAttribute("color");p.setXYZ(0,e.r,e.g,e.b),p.setXYZ(1,e.r,e.g,e.b),p.setXYZ(2,e.r,e.g,e.b),p.setXYZ(3,e.r,e.g,e.b),p.setXYZ(4,e.r,e.g,e.b),p.setXYZ(5,e.r,e.g,e.b),p.setXYZ(6,e.r,e.g,e.b),p.setXYZ(7,e.r,e.g,e.b),p.setXYZ(8,e.r,e.g,e.b),p.setXYZ(9,e.r,e.g,e.b),p.setXYZ(10,e.r,e.g,e.b),p.setXYZ(11,e.r,e.g,e.b),p.setXYZ(12,e.r,e.g,e.b),p.setXYZ(13,e.r,e.g,e.b),p.setXYZ(14,e.r,e.g,e.b),p.setXYZ(15,e.r,e.g,e.b),p.setXYZ(16,e.r,e.g,e.b),p.setXYZ(17,e.r,e.g,e.b),p.setXYZ(18,e.r,e.g,e.b),p.setXYZ(19,e.r,e.g,e.b),p.setXYZ(20,e.r,e.g,e.b),p.setXYZ(21,e.r,e.g,e.b),p.setXYZ(22,e.r,e.g,e.b),p.setXYZ(23,e.r,e.g,e.b),p.setXYZ(24,t.r,t.g,t.b),p.setXYZ(25,t.r,t.g,t.b),p.setXYZ(26,t.r,t.g,t.b),p.setXYZ(27,t.r,t.g,t.b),p.setXYZ(28,t.r,t.g,t.b),p.setXYZ(29,t.r,t.g,t.b),p.setXYZ(30,t.r,t.g,t.b),p.setXYZ(31,t.r,t.g,t.b),p.setXYZ(32,i.r,i.g,i.b),p.setXYZ(33,i.r,i.g,i.b),p.setXYZ(34,i.r,i.g,i.b),p.setXYZ(35,i.r,i.g,i.b),p.setXYZ(36,i.r,i.g,i.b),p.setXYZ(37,i.r,i.g,i.b),p.setXYZ(38,s.r,s.g,s.b),p.setXYZ(39,s.r,s.g,s.b),p.setXYZ(40,a.r,a.g,a.b),p.setXYZ(41,a.r,a.g,a.b),p.setXYZ(42,a.r,a.g,a.b),p.setXYZ(43,a.r,a.g,a.b),p.setXYZ(44,a.r,a.g,a.b),p.setXYZ(45,a.r,a.g,a.b),p.setXYZ(46,a.r,a.g,a.b),p.setXYZ(47,a.r,a.g,a.b),p.setXYZ(48,a.r,a.g,a.b),p.setXYZ(49,a.r,a.g,a.b),p.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,s=1;zl.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Yl("c",t,e,zl,0,0,-1),Yl("t",t,e,zl,0,0,1),Yl("n1",t,e,zl,-i,-s,-1),Yl("n2",t,e,zl,i,-s,-1),Yl("n3",t,e,zl,-i,s,-1),Yl("n4",t,e,zl,i,s,-1),Yl("f1",t,e,zl,-i,-s,1),Yl("f2",t,e,zl,i,-s,1),Yl("f3",t,e,zl,-i,s,1),Yl("f4",t,e,zl,i,s,1),Yl("u1",t,e,zl,i*.7,s*1.1,-1),Yl("u2",t,e,zl,-i*.7,s*1.1,-1),Yl("u3",t,e,zl,0,s*2,-1),Yl("cf1",t,e,zl,-i,0,1),Yl("cf2",t,e,zl,i,0,1),Yl("cf3",t,e,zl,0,-s,1),Yl("cf4",t,e,zl,0,s,1),Yl("cn1",t,e,zl,-i,0,-1),Yl("cn2",t,e,zl,i,0,-1),Yl("cn3",t,e,zl,0,-s,-1),Yl("cn4",t,e,zl,0,s,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Yl(l,e,t,i,s,a,d){Jg.set(s,a,d).unproject(i);const p=e[l];if(p!==void 0){const v=t.getAttribute("position");for(let S=0,M=p.length;S<M;S++)v.setXYZ(p[S],Jg.x,Jg.y,Jg.z)}}const Qg=new ql;class Fb extends null{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),a=new qo;a.setIndex(new pl(i,1)),a.setAttribute("position",new pl(s,3)),super(a,new pu({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Qg.setFromObject(this.object),Qg.isEmpty())return;const t=Qg.min,i=Qg.max,s=this.geometry.attributes.position,a=s.array;a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=t.x,a[4]=i.y,a[5]=i.z,a[6]=t.x,a[7]=t.y,a[8]=i.z,a[9]=i.x,a[10]=t.y,a[11]=i.z,a[12]=i.x,a[13]=i.y,a[14]=t.z,a[15]=t.x,a[16]=i.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=i.x,a[22]=t.y,a[23]=t.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bb extends null{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new qo;a.setIndex(new pl(i,1)),a.setAttribute("position",new fs(s,3)),super(a,new pu({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ub extends null{constructor(e,t=1,i=16776960){const s=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],d=new qo;d.setAttribute("position",new fs(a,3)),d.computeBoundingSphere(),super(d,new pu({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const p=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],v=new qo;v.setAttribute("position",new fs(p,3)),v.computeBoundingSphere(),this.add(new Ql(v,new lu({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const x0=new je;let em,Gm;class Hx extends sl{constructor(e=new je(0,0,1),t=new je(0,0,0),i=1,s=16776960,a=i*.2,d=a*.2){super(),this.type="ArrowHelper",em===void 0&&(em=new qo,em.setAttribute("position",new fs([0,0,0,0,1,0],3)),Gm=new Jp(0,.5,1,5,1),Gm.translate(0,-.5,0)),this.position.copy(t),this.line=new Eg(em,new pu({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ql(Gm,new lu({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,d)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{x0.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(x0,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class zb extends null{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new qo;s.setAttribute("position",new fs(t,3)),s.setAttribute("color",new fs(i,3));const a=new pu({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(e,t,i){const s=new wr,a=this.geometry.attributes.color.array;return s.set(e),s.toArray(a,0),s.toArray(a,3),s.set(t),s.toArray(a,6),s.toArray(a,9),s.set(i),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kb{constructor(){this.type="ShapePath",this.color=new wr,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ig,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,s){return this.currentPath.quadraticCurveTo(e,t,i,s),this}bezierCurveTo(e,t,i,s,a,d){return this.currentPath.bezierCurveTo(e,t,i,s,a,d),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(N){const se=[];for(let Q=0,ae=N.length;Q<ae;Q++){const St=N[Q],Ne=new lp;Ne.curves=St.curves,se.push(Ne)}return se}function i(N,se){const Q=se.length;let ae=!1;for(let St=Q-1,Ne=0;Ne<Q;St=Ne++){let Je=se[St],xt=se[Ne],Te=xt.x-Je.x,pe=xt.y-Je.y;if(Math.abs(pe)>Number.EPSILON){if(pe<0&&(Je=se[Ne],Te=-Te,xt=se[St],pe=-pe),N.y<Je.y||N.y>xt.y)continue;if(N.y===Je.y){if(N.x===Je.x)return!0}else{const Ct=pe*(N.x-Je.x)-Te*(N.y-Je.y);if(Ct===0)return!0;if(Ct<0)continue;ae=!ae}}else{if(N.y!==Je.y)continue;if(xt.x<=N.x&&N.x<=Je.x||Je.x<=N.x&&N.x<=xt.x)return!0}}return ae}const s=Ud.isClockWise,a=this.subPaths;if(a.length===0)return[];let d,p,v;const S=[];if(a.length===1)return p=a[0],v=new lp,v.curves=p.curves,S.push(v),S;let M=!s(a[0].getPoints());M=e?!M:M;const A=[],P=[];let O=[],F=0,W;P[F]=void 0,O[F]=[];for(let N=0,se=a.length;N<se;N++)p=a[N],W=p.getPoints(),d=s(W),d=e?!d:d,d?(!M&&P[F]&&F++,P[F]={s:new lp,p:W},P[F].s.curves=p.curves,M&&F++,O[F]=[]):O[F].push({h:p,p:W[0]});if(!P[0])return t(a);if(P.length>1){let N=!1,se=0;for(let Q=0,ae=P.length;Q<ae;Q++)A[Q]=[];for(let Q=0,ae=P.length;Q<ae;Q++){const St=O[Q];for(let Ne=0;Ne<St.length;Ne++){const Je=St[Ne];let xt=!0;for(let Te=0;Te<P.length;Te++)i(Je.p,P[Te].p)&&(Q!==Te&&se++,xt?(xt=!1,A[Te].push(Je)):N=!0);xt&&A[Q].push(Je)}}se>0&&N===!1&&(O=A)}let B;for(let N=0,se=P.length;N<se;N++){v=P[N].s,S.push(v),B=O[N];for(let Q=0,ae=B.length;Q<ae;Q++)v.holes.push(B[Q].h)}return S}}class $b extends null{constructor(e=1,t=1,i=1,s={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,P0(ig({},s),{count:i})),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:u}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=u)},75078:function(Ci,At,I){"use strict";I.d(At,{$:function(){return Qe}});var u=I(84279);const q={type:"change"},$={type:"start"},de={type:"end"};class Qe extends u.pBf{constructor(ee,X){super();const j=this,he={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=ee,this.domElement=X,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:u.RsA.ROTATE,MIDDLE:u.RsA.DOLLY,RIGHT:u.RsA.PAN},this.target=new u.Pa4;const ft=1e-6,st=new u.Pa4;let oe=1,ct=he.NONE,xe=he.NONE,ne=0,Be=0,Oe=0;const Ce=new u.Pa4,at=new u.FM8,re=new u.FM8,we=new u.Pa4,Ue=new u.FM8,E=new u.FM8,tt=new u.FM8,Ie=new u.FM8,Le=[],bt={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const Pt=j.domElement.getBoundingClientRect(),rn=j.domElement.ownerDocument.documentElement;j.screen.left=Pt.left+window.pageXOffset-rn.clientLeft,j.screen.top=Pt.top+window.pageYOffset-rn.clientTop,j.screen.width=Pt.width,j.screen.height=Pt.height};const en=function(){const Pt=new u.FM8;return function(cn,zi){return Pt.set((cn-j.screen.left)/j.screen.width,(zi-j.screen.top)/j.screen.height),Pt}}(),lt=function(){const Pt=new u.FM8;return function(cn,zi){return Pt.set((cn-j.screen.width*.5-j.screen.left)/(j.screen.width*.5),(j.screen.height+2*(j.screen.top-zi))/j.screen.width),Pt}}();this.rotateCamera=function(){const Pt=new u.Pa4,rn=new u._fP,cn=new u.Pa4,zi=new u.Pa4,Mi=new u.Pa4,as=new u.Pa4;return function(){as.set(re.x-at.x,re.y-at.y,0);let Rr=as.length();Rr?(Ce.copy(j.object.position).sub(j.target),cn.copy(Ce).normalize(),zi.copy(j.object.up).normalize(),Mi.crossVectors(zi,cn).normalize(),zi.setLength(re.y-at.y),Mi.setLength(re.x-at.x),as.copy(zi.add(Mi)),Pt.crossVectors(as,Ce).normalize(),Rr*=j.rotateSpeed,rn.setFromAxisAngle(Pt,Rr),Ce.applyQuaternion(rn),j.object.up.applyQuaternion(rn),we.copy(Pt),Oe=Rr):!j.staticMoving&&Oe&&(Oe*=Math.sqrt(1-j.dynamicDampingFactor),Ce.copy(j.object.position).sub(j.target),rn.setFromAxisAngle(we,Oe),Ce.applyQuaternion(rn),j.object.up.applyQuaternion(rn)),at.copy(re)}}(),this.zoomCamera=function(){let Pt;ct===he.TOUCH_ZOOM_PAN?(Pt=ne/Be,ne=Be,j.object.isPerspectiveCamera?Ce.multiplyScalar(Pt):j.object.isOrthographicCamera?(j.object.zoom=u.M8C.clamp(j.object.zoom/Pt,j.minZoom,j.maxZoom),oe!==j.object.zoom&&j.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(Pt=1+(E.y-Ue.y)*j.zoomSpeed,Pt!==1&&Pt>0&&(j.object.isPerspectiveCamera?Ce.multiplyScalar(Pt):j.object.isOrthographicCamera?(j.object.zoom=u.M8C.clamp(j.object.zoom/Pt,j.minZoom,j.maxZoom),oe!==j.object.zoom&&j.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),j.staticMoving?Ue.copy(E):Ue.y+=(E.y-Ue.y)*this.dynamicDampingFactor)},this.panCamera=function(){const Pt=new u.FM8,rn=new u.Pa4,cn=new u.Pa4;return function(){if(Pt.copy(Ie).sub(tt),Pt.lengthSq()){if(j.object.isOrthographicCamera){const Mi=(j.object.right-j.object.left)/j.object.zoom/j.domElement.clientWidth,as=(j.object.top-j.object.bottom)/j.object.zoom/j.domElement.clientWidth;Pt.x*=Mi,Pt.y*=as}Pt.multiplyScalar(Ce.length()*j.panSpeed),cn.copy(Ce).cross(j.object.up).setLength(Pt.x),cn.add(rn.copy(j.object.up).setLength(Pt.y)),j.object.position.add(cn),j.target.add(cn),j.staticMoving?tt.copy(Ie):tt.add(Pt.subVectors(Ie,tt).multiplyScalar(j.dynamicDampingFactor))}}}(),this.checkDistances=function(){(!j.noZoom||!j.noPan)&&(Ce.lengthSq()>j.maxDistance*j.maxDistance&&(j.object.position.addVectors(j.target,Ce.setLength(j.maxDistance)),Ue.copy(E)),Ce.lengthSq()<j.minDistance*j.minDistance&&(j.object.position.addVectors(j.target,Ce.setLength(j.minDistance)),Ue.copy(E)))},this.update=function(){Ce.subVectors(j.object.position,j.target),j.noRotate||j.rotateCamera(),j.noZoom||j.zoomCamera(),j.noPan||j.panCamera(),j.object.position.addVectors(j.target,Ce),j.object.isPerspectiveCamera?(j.checkDistances(),j.object.lookAt(j.target),st.distanceToSquared(j.object.position)>ft&&(j.dispatchEvent(q),st.copy(j.object.position))):j.object.isOrthographicCamera?(j.object.lookAt(j.target),(st.distanceToSquared(j.object.position)>ft||oe!==j.object.zoom)&&(j.dispatchEvent(q),st.copy(j.object.position),oe=j.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){ct=he.NONE,xe=he.NONE,j.target.copy(j.target0),j.object.position.copy(j.position0),j.object.up.copy(j.up0),j.object.zoom=j.zoom0,j.object.updateProjectionMatrix(),Ce.subVectors(j.object.position,j.target),j.object.lookAt(j.target),j.dispatchEvent(q),st.copy(j.object.position),oe=j.object.zoom};function Ht(Pt){j.enabled!==!1&&(Le.length===0&&(j.domElement.setPointerCapture(Pt.pointerId),j.domElement.addEventListener("pointermove",Pn),j.domElement.addEventListener("pointerup",vi)),ln(Pt),Pt.pointerType==="touch"?Yn(Pt):ot(Pt))}function Pn(Pt){j.enabled!==!1&&(Pt.pointerType==="touch"?_n(Pt):mt(Pt))}function vi(Pt){j.enabled!==!1&&(Pt.pointerType==="touch"?Lt(Pt):kt(),Gt(Pt),Le.length===0&&(j.domElement.releasePointerCapture(Pt.pointerId),j.domElement.removeEventListener("pointermove",Pn),j.domElement.removeEventListener("pointerup",vi)))}function Rt(Pt){Gt(Pt)}function ut(Pt){j.enabled!==!1&&(window.removeEventListener("keydown",ut),xe===he.NONE&&(Pt.code===j.keys[he.ROTATE]&&!j.noRotate?xe=he.ROTATE:Pt.code===j.keys[he.ZOOM]&&!j.noZoom?xe=he.ZOOM:Pt.code===j.keys[he.PAN]&&!j.noPan&&(xe=he.PAN)))}function Ge(){j.enabled!==!1&&(xe=he.NONE,window.addEventListener("keydown",ut))}function ot(Pt){if(ct===he.NONE)switch(Pt.button){case j.mouseButtons.LEFT:ct=he.ROTATE;break;case j.mouseButtons.MIDDLE:ct=he.ZOOM;break;case j.mouseButtons.RIGHT:ct=he.PAN;break}const rn=xe!==he.NONE?xe:ct;rn===he.ROTATE&&!j.noRotate?(re.copy(lt(Pt.pageX,Pt.pageY)),at.copy(re)):rn===he.ZOOM&&!j.noZoom?(Ue.copy(en(Pt.pageX,Pt.pageY)),E.copy(Ue)):rn===he.PAN&&!j.noPan&&(tt.copy(en(Pt.pageX,Pt.pageY)),Ie.copy(tt)),j.dispatchEvent($)}function mt(Pt){const rn=xe!==he.NONE?xe:ct;rn===he.ROTATE&&!j.noRotate?(at.copy(re),re.copy(lt(Pt.pageX,Pt.pageY))):rn===he.ZOOM&&!j.noZoom?E.copy(en(Pt.pageX,Pt.pageY)):rn===he.PAN&&!j.noPan&&Ie.copy(en(Pt.pageX,Pt.pageY))}function kt(){ct=he.NONE,j.dispatchEvent(de)}function qt(Pt){if(j.enabled!==!1&&j.noZoom!==!0){switch(Pt.preventDefault(),Pt.deltaMode){case 2:Ue.y-=Pt.deltaY*.025;break;case 1:Ue.y-=Pt.deltaY*.01;break;default:Ue.y-=Pt.deltaY*25e-5;break}j.dispatchEvent($),j.dispatchEvent(de)}}function Yn(Pt){switch(Bt(Pt),Le.length){case 1:ct=he.TOUCH_ROTATE,re.copy(lt(Le[0].pageX,Le[0].pageY)),at.copy(re);break;default:ct=he.TOUCH_ZOOM_PAN;const rn=Le[0].pageX-Le[1].pageX,cn=Le[0].pageY-Le[1].pageY;Be=ne=Math.sqrt(rn*rn+cn*cn);const zi=(Le[0].pageX+Le[1].pageX)/2,Mi=(Le[0].pageY+Le[1].pageY)/2;tt.copy(en(zi,Mi)),Ie.copy(tt);break}j.dispatchEvent($)}function _n(Pt){switch(Bt(Pt),Le.length){case 1:at.copy(re),re.copy(lt(Pt.pageX,Pt.pageY));break;default:const rn=Nn(Pt),cn=Pt.pageX-rn.x,zi=Pt.pageY-rn.y;Be=Math.sqrt(cn*cn+zi*zi);const Mi=(Pt.pageX+rn.x)/2,as=(Pt.pageY+rn.y)/2;Ie.copy(en(Mi,as));break}}function Lt(Pt){switch(Le.length){case 0:ct=he.NONE;break;case 1:ct=he.TOUCH_ROTATE,re.copy(lt(Pt.pageX,Pt.pageY)),at.copy(re);break;case 2:ct=he.TOUCH_ZOOM_PAN;for(let rn=0;rn<Le.length;rn++)if(Le[rn].pointerId!==Pt.pointerId){const cn=bt[Le[rn].pointerId];re.copy(lt(cn.x,cn.y)),at.copy(re);break}break}j.dispatchEvent(de)}function Kn(Pt){j.enabled!==!1&&Pt.preventDefault()}function ln(Pt){Le.push(Pt)}function Gt(Pt){delete bt[Pt.pointerId];for(let rn=0;rn<Le.length;rn++)if(Le[rn].pointerId==Pt.pointerId){Le.splice(rn,1);return}}function Bt(Pt){let rn=bt[Pt.pointerId];rn===void 0&&(rn=new u.FM8,bt[Pt.pointerId]=rn),rn.set(Pt.pageX,Pt.pageY)}function Nn(Pt){const rn=Pt.pointerId===Le[0].pointerId?Le[1]:Le[0];return bt[rn.pointerId]}this.dispose=function(){j.domElement.removeEventListener("contextmenu",Kn),j.domElement.removeEventListener("pointerdown",Ht),j.domElement.removeEventListener("pointercancel",Rt),j.domElement.removeEventListener("wheel",qt),j.domElement.removeEventListener("pointermove",Pn),j.domElement.removeEventListener("pointerup",vi),window.removeEventListener("keydown",ut),window.removeEventListener("keyup",Ge)},this.domElement.addEventListener("contextmenu",Kn),this.domElement.addEventListener("pointerdown",Ht),this.domElement.addEventListener("pointercancel",Rt),this.domElement.addEventListener("wheel",qt,{passive:!1}),window.addEventListener("keydown",ut),window.addEventListener("keyup",Ge),this.handleResize(),this.update()}}},59574:function(Ci,At,I){"use strict";I.d(At,{w:function(){return E}});var u=I(84279),q=I(95075),$=I(69508);const de=new u.Ltg,Qe=new u.Pa4,fe=new u.Pa4,ee=new u.Ltg,X=new u.Ltg,j=new u.Ltg,he=new u.Pa4,ft=new u.yGw,st=new u.Zzh,oe=new u.Pa4,ct=new u.ZzF,xe=new u.aLr,ne=new u.Ltg;let Be,Oe;function Ce(tt,Ie,Le){return ne.set(0,0,-Ie,1).applyMatrix4(tt.projectionMatrix),ne.multiplyScalar(1/ne.w),ne.x=Oe/Le.width,ne.y=Oe/Le.height,ne.applyMatrix4(tt.projectionMatrixInverse),ne.multiplyScalar(1/ne.w),Math.abs(Math.max(ne.x,ne.y))}function at(tt,Ie){const Le=tt.matrixWorld,bt=tt.geometry,en=bt.attributes.instanceStart,lt=bt.attributes.instanceEnd,Ht=Math.min(bt.instanceCount,en.count);for(let Pn=0,vi=Ht;Pn<vi;Pn++){st.start.fromBufferAttribute(en,Pn),st.end.fromBufferAttribute(lt,Pn),st.applyMatrix4(Le);const Rt=new u.Pa4,ut=new u.Pa4;Be.distanceSqToSegment(st.start,st.end,ut,Rt),ut.distanceTo(Rt)<Oe*.5&&Ie.push({point:ut,pointOnLine:Rt,distance:Be.origin.distanceTo(ut),object:tt,face:null,faceIndex:Pn,uv:null,uv1:null})}}function re(tt,Ie,Le){const bt=Ie.projectionMatrix,lt=tt.material.resolution,Ht=tt.matrixWorld,Pn=tt.geometry,vi=Pn.attributes.instanceStart,Rt=Pn.attributes.instanceEnd,ut=Math.min(Pn.instanceCount,vi.count),Ge=-Ie.near;Be.at(1,j),j.w=1,j.applyMatrix4(Ie.matrixWorldInverse),j.applyMatrix4(bt),j.multiplyScalar(1/j.w),j.x*=lt.x/2,j.y*=lt.y/2,j.z=0,he.copy(j),ft.multiplyMatrices(Ie.matrixWorldInverse,Ht);for(let ot=0,mt=ut;ot<mt;ot++){if(ee.fromBufferAttribute(vi,ot),X.fromBufferAttribute(Rt,ot),ee.w=1,X.w=1,ee.applyMatrix4(ft),X.applyMatrix4(ft),ee.z>Ge&&X.z>Ge)continue;if(ee.z>Ge){const Kn=ee.z-X.z,ln=(ee.z-Ge)/Kn;ee.lerp(X,ln)}else if(X.z>Ge){const Kn=X.z-ee.z,ln=(X.z-Ge)/Kn;X.lerp(ee,ln)}ee.applyMatrix4(bt),X.applyMatrix4(bt),ee.multiplyScalar(1/ee.w),X.multiplyScalar(1/X.w),ee.x*=lt.x/2,ee.y*=lt.y/2,X.x*=lt.x/2,X.y*=lt.y/2,st.start.copy(ee),st.start.z=0,st.end.copy(X),st.end.z=0;const qt=st.closestPointToPointParameter(he,!0);st.at(qt,oe);const Yn=u.M8C.lerp(ee.z,X.z,qt),_n=Yn>=-1&&Yn<=1,Lt=he.distanceTo(oe)<Oe*.5;if(_n&&Lt){st.start.fromBufferAttribute(vi,ot),st.end.fromBufferAttribute(Rt,ot),st.start.applyMatrix4(Ht),st.end.applyMatrix4(Ht);const Kn=new u.Pa4,ln=new u.Pa4;Be.distanceSqToSegment(st.start,st.end,ln,Kn),Le.push({point:ln,pointOnLine:Kn,distance:Be.origin.distanceTo(ln),object:tt,face:null,faceIndex:ot,uv:null,uv1:null})}}}class we extends u.Kj0{constructor(Ie=new q.z,Le=new $.Y({color:Math.random()*16777215})){super(Ie,Le),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const Ie=this.geometry,Le=Ie.attributes.instanceStart,bt=Ie.attributes.instanceEnd,en=new Float32Array(2*Le.count);for(let Ht=0,Pn=0,vi=Le.count;Ht<vi;Ht++,Pn+=2)Qe.fromBufferAttribute(Le,Ht),fe.fromBufferAttribute(bt,Ht),en[Pn]=Pn===0?0:en[Pn-1],en[Pn+1]=en[Pn]+Qe.distanceTo(fe);const lt=new u.$TI(en,2,1);return Ie.setAttribute("instanceDistanceStart",new u.kB5(lt,1,0)),Ie.setAttribute("instanceDistanceEnd",new u.kB5(lt,1,1)),this}raycast(Ie,Le){const bt=this.material.worldUnits,en=Ie.camera;en===null&&!bt&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const lt=Ie.params.Line2!==void 0&&Ie.params.Line2.threshold||0;Be=Ie.ray;const Ht=this.matrixWorld,Pn=this.geometry,vi=this.material;Oe=vi.linewidth+lt,Pn.boundingSphere===null&&Pn.computeBoundingSphere(),xe.copy(Pn.boundingSphere).applyMatrix4(Ht);let Rt;if(bt)Rt=Oe*.5;else{const Ge=Math.max(en.near,xe.distanceToPoint(Be.origin));Rt=Ce(en,Ge,vi.resolution)}if(xe.radius+=Rt,Be.intersectsSphere(xe)===!1)return;Pn.boundingBox===null&&Pn.computeBoundingBox(),ct.copy(Pn.boundingBox).applyMatrix4(Ht);let ut;if(bt)ut=Oe*.5;else{const Ge=Math.max(en.near,ct.distanceToPoint(Be.origin));ut=Ce(en,Ge,vi.resolution)}ct.expandByScalar(ut),Be.intersectsBox(ct)!==!1&&(bt?at(this,Le):re(this,en,Le))}onBeforeRender(Ie){const Le=this.material.uniforms;Le&&Le.resolution&&(Ie.getViewport(de),this.material.uniforms.resolution.value.set(de.z,de.w))}}var Ue=I(77962);class E extends we{constructor(Ie=new Ue.L,Le=new $.Y({color:Math.random()*16777215})){super(Ie,Le),this.isLine2=!0,this.type="Line2"}}},77962:function(Ci,At,I){"use strict";I.d(At,{L:function(){return q}});var u=I(95075);class q extends u.z{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(de){const Qe=de.length-3,fe=new Float32Array(2*Qe);for(let ee=0;ee<Qe;ee+=3)fe[2*ee]=de[ee],fe[2*ee+1]=de[ee+1],fe[2*ee+2]=de[ee+2],fe[2*ee+3]=de[ee+3],fe[2*ee+4]=de[ee+4],fe[2*ee+5]=de[ee+5];return super.setPositions(fe),this}setColors(de){const Qe=de.length-3,fe=new Float32Array(2*Qe);for(let ee=0;ee<Qe;ee+=3)fe[2*ee]=de[ee],fe[2*ee+1]=de[ee+1],fe[2*ee+2]=de[ee+2],fe[2*ee+3]=de[ee+3],fe[2*ee+4]=de[ee+4],fe[2*ee+5]=de[ee+5];return super.setColors(fe),this}fromLine(de){const Qe=de.geometry;return this.setPositions(Qe.attributes.position.array),this}}},69508:function(Ci,At,I){"use strict";I.d(At,{Y:function(){return q}});var u=I(84279);u.rBU.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new u.FM8(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},u.Vj0.line={uniforms:u.rDY.merge([u.rBU.common,u.rBU.fog,u.rBU.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class q extends u.jyz{constructor(de){super({type:"LineMaterial",uniforms:u.rDY.clone(u.Vj0.line.uniforms),vertexShader:u.Vj0.line.vertexShader,fragmentShader:u.Vj0.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(de)}get color(){return this.uniforms.diffuse.value}set color(de){this.uniforms.diffuse.value=de}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(de){de===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(de){this.uniforms.linewidth&&(this.uniforms.linewidth.value=de)}get dashed(){return"USE_DASH"in this.defines}set dashed(de){de===!0!==this.dashed&&(this.needsUpdate=!0),de===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(de){this.uniforms.dashScale.value=de}get dashSize(){return this.uniforms.dashSize.value}set dashSize(de){this.uniforms.dashSize.value=de}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(de){this.uniforms.dashOffset.value=de}get gapSize(){return this.uniforms.gapSize.value}set gapSize(de){this.uniforms.gapSize.value=de}get opacity(){return this.uniforms.opacity.value}set opacity(de){this.uniforms&&(this.uniforms.opacity.value=de)}get resolution(){return this.uniforms.resolution.value}set resolution(de){this.uniforms.resolution.value.copy(de)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(de){this.defines&&(de===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),de===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}},95075:function(Ci,At,I){"use strict";I.d(At,{z:function(){return de}});var u=I(84279);const q=new u.ZzF,$=new u.Pa4;class de extends u.L5s{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const fe=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],ee=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],X=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(X),this.setAttribute("position",new u.a$l(fe,3)),this.setAttribute("uv",new u.a$l(ee,2))}applyMatrix4(fe){const ee=this.attributes.instanceStart,X=this.attributes.instanceEnd;return ee!==void 0&&(ee.applyMatrix4(fe),X.applyMatrix4(fe),ee.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(fe){let ee;fe instanceof Float32Array?ee=fe:Array.isArray(fe)&&(ee=new Float32Array(fe));const X=new u.$TI(ee,6,1);return this.setAttribute("instanceStart",new u.kB5(X,3,0)),this.setAttribute("instanceEnd",new u.kB5(X,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(fe){let ee;fe instanceof Float32Array?ee=fe:Array.isArray(fe)&&(ee=new Float32Array(fe));const X=new u.$TI(ee,6,1);return this.setAttribute("instanceColorStart",new u.kB5(X,3,0)),this.setAttribute("instanceColorEnd",new u.kB5(X,3,3)),this}fromWireframeGeometry(fe){return this.setPositions(fe.attributes.position.array),this}fromEdgesGeometry(fe){return this.setPositions(fe.attributes.position.array),this}fromMesh(fe){return this.fromWireframeGeometry(new u.Uk6(fe.geometry)),this}fromLineSegments(fe){const ee=fe.geometry;return this.setPositions(ee.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new u.ZzF);const fe=this.attributes.instanceStart,ee=this.attributes.instanceEnd;fe!==void 0&&ee!==void 0&&(this.boundingBox.setFromBufferAttribute(fe),q.setFromBufferAttribute(ee),this.boundingBox.union(q))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new u.aLr),this.boundingBox===null&&this.computeBoundingBox();const fe=this.attributes.instanceStart,ee=this.attributes.instanceEnd;if(fe!==void 0&&ee!==void 0){const X=this.boundingSphere.center;this.boundingBox.getCenter(X);let j=0;for(let he=0,ft=fe.count;he<ft;he++)$.fromBufferAttribute(fe,he),j=Math.max(j,X.distanceToSquared($)),$.fromBufferAttribute(ee,he),j=Math.max(j,X.distanceToSquared($));this.boundingSphere.radius=Math.sqrt(j),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(fe){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(fe)}}},48432:function(Ci,At,I){"use strict";I.d(At,{cp:function(){return Qe},lX:function(){return j}});var u=I(84279);const q=new u.Pa4,$=new u._fP,de=new u.Pa4;class Qe extends u.Tme{constructor(ft=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=ft,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(st){st.element instanceof Element&&st.element.parentNode!==null&&st.element.parentNode.removeChild(st.element)})})}copy(ft,st){return super.copy(ft,st),this.element=ft.element.cloneNode(!0),this}}class fe extends null{constructor(ft){super(ft),this.isCSS3DSprite=!0,this.rotation2D=0}copy(ft,st){return super.copy(ft,st),this.rotation2D=ft.rotation2D,this}}const ee=new u.yGw,X=new u.yGw;class j{constructor(ft={}){const st=this;let oe,ct,xe,ne;const Be={camera:{style:""},objects:new WeakMap},Oe=ft.element!==void 0?ft.element:document.createElement("div");Oe.style.overflow="hidden",this.domElement=Oe;const Ce=document.createElement("div");Ce.style.transformOrigin="0 0",Ce.style.pointerEvents="none",Oe.appendChild(Ce);const at=document.createElement("div");at.style.transformStyle="preserve-3d",Ce.appendChild(at),this.getSize=function(){return{width:oe,height:ct}},this.render=function(Ie,Le){const bt=Le.projectionMatrix.elements[5]*ne;Le.view&&Le.view.enabled?(Ce.style.transform=`translate( ${-Le.view.offsetX*(oe/Le.view.width)}px, ${-Le.view.offsetY*(ct/Le.view.height)}px )`,Ce.style.transform+=`scale( ${Le.view.fullWidth/Le.view.width}, ${Le.view.fullHeight/Le.view.height} )`):Ce.style.transform="",Ie.matrixWorldAutoUpdate===!0&&Ie.updateMatrixWorld(),Le.parent===null&&Le.matrixWorldAutoUpdate===!0&&Le.updateMatrixWorld();let en,lt;Le.isOrthographicCamera&&(en=-(Le.right+Le.left)/2,lt=(Le.top+Le.bottom)/2);const Ht=Le.view&&Le.view.enabled?Le.view.height/Le.view.fullHeight:1,Pn=Le.isOrthographicCamera?`scale( ${Ht} )scale(`+bt+")translate("+re(en)+"px,"+re(lt)+"px)"+we(Le.matrixWorldInverse):`scale( ${Ht} )translateZ(`+bt+"px)"+we(Le.matrixWorldInverse),Rt=(Le.isPerspectiveCamera?"perspective("+bt+"px) ":"")+Pn+"translate("+xe+"px,"+ne+"px)";Be.camera.style!==Rt&&(at.style.transform=Rt,Be.camera.style=Rt),tt(Ie,Ie,Le,Pn)},this.setSize=function(Ie,Le){oe=Ie,ct=Le,xe=oe/2,ne=ct/2,Oe.style.width=Ie+"px",Oe.style.height=Le+"px",Ce.style.width=Ie+"px",Ce.style.height=Le+"px",at.style.width=Ie+"px",at.style.height=Le+"px"};function re(Ie){return Math.abs(Ie)<1e-10?0:Ie}function we(Ie){const Le=Ie.elements;return"matrix3d("+re(Le[0])+","+re(-Le[1])+","+re(Le[2])+","+re(Le[3])+","+re(Le[4])+","+re(-Le[5])+","+re(Le[6])+","+re(Le[7])+","+re(Le[8])+","+re(-Le[9])+","+re(Le[10])+","+re(Le[11])+","+re(Le[12])+","+re(-Le[13])+","+re(Le[14])+","+re(Le[15])+")"}function Ue(Ie){const Le=Ie.elements;return"translate(-50%,-50%)"+("matrix3d("+re(Le[0])+","+re(Le[1])+","+re(Le[2])+","+re(Le[3])+","+re(-Le[4])+","+re(-Le[5])+","+re(-Le[6])+","+re(-Le[7])+","+re(Le[8])+","+re(Le[9])+","+re(Le[10])+","+re(Le[11])+","+re(Le[12])+","+re(Le[13])+","+re(Le[14])+","+re(Le[15])+")")}function E(Ie){Ie.isCSS3DObject&&(Ie.element.style.display="none");for(let Le=0,bt=Ie.children.length;Le<bt;Le++)E(Ie.children[Le])}function tt(Ie,Le,bt,en){if(Ie.visible===!1){E(Ie);return}if(Ie.isCSS3DObject){const lt=Ie.layers.test(bt.layers)===!0,Ht=Ie.element;if(Ht.style.display=lt===!0?"":"none",lt===!0){Ie.onBeforeRender(st,Le,bt);let Pn;Ie.isCSS3DSprite?(ee.copy(bt.matrixWorldInverse),ee.transpose(),Ie.rotation2D!==0&&ee.multiply(X.makeRotationZ(Ie.rotation2D)),Ie.matrixWorld.decompose(q,$,de),ee.setPosition(q),ee.scale(de),ee.elements[3]=0,ee.elements[7]=0,ee.elements[11]=0,ee.elements[15]=1,Pn=Ue(ee)):Pn=Ue(Ie.matrixWorld);const vi=Be.objects.get(Ie);if(vi===void 0||vi.style!==Pn){Ht.style.transform=Pn;const Rt={style:Pn};Be.objects.set(Ie,Rt)}Ht.parentNode!==at&&at.appendChild(Ht),Ie.onAfterRender(st,Le,bt)}}for(let lt=0,Ht=Ie.children.length;lt<Ht;lt++)tt(Ie.children[lt],Le,bt,en)}}}}}]);
}());