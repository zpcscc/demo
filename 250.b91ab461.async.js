!(function(){var fp=Object.defineProperty,pp=Object.defineProperties;var mp=Object.getOwnPropertyDescriptors;var Rh=Object.getOwnPropertySymbols;var gp=Object.prototype.hasOwnProperty,vp=Object.prototype.propertyIsEnumerable;var Ko=Math.pow,Ih=(ji,It,M)=>It in ji?fp(ji,It,{enumerable:!0,configurable:!0,writable:!0,value:M}):ji[It]=M,Dd=(ji,It)=>{for(var M in It||(It={}))gp.call(It,M)&&Ih(ji,M,It[M]);if(Rh)for(var M of Rh(It))vp.call(It,M)&&Ih(ji,M,It[M]);return ji},Dh=(ji,It)=>pp(ji,mp(It));var Rl=(ji,It,M)=>new Promise((a,W)=>{var z=se=>{try{Pe(M.next(se))}catch(J){W(J)}},ie=se=>{try{Pe(M.throw(se))}catch(J){W(J)}},Pe=se=>se.done?a(se.value):Promise.resolve(se.value).then(z,ie);Pe((M=M.apply(ji,It)).next())});(self.webpackChunk_zpcscc_demo=self.webpackChunk_zpcscc_demo||[]).push([[250],{68640:function(ji,It,M){"use strict";M.d(It,{iN:function(){return Rt},R_:function(){return ye},Ti:function(){return _t},ez:function(){return $t}});var a=M(84432),W=2,z=.16,ie=.05,Pe=.05,se=.15,J=5,oe=4,fe=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Me(si,qi,li){var fi;return Math.round(si.h)>=60&&Math.round(si.h)<=240?fi=li?Math.round(si.h)-W*qi:Math.round(si.h)+W*qi:fi=li?Math.round(si.h)+W*qi:Math.round(si.h)-W*qi,fi<0?fi+=360:fi>=360&&(fi-=360),fi}function tt(si,qi,li){if(si.h===0&&si.s===0)return si.s;var fi;return li?fi=si.s-z*qi:qi===oe?fi=si.s+z:fi=si.s+ie*qi,fi>1&&(fi=1),li&&qi===J&&fi>.1&&(fi=.1),fi<.06&&(fi=.06),Math.round(fi*100)/100}function Be(si,qi,li){var fi;return li?fi=si.v+Pe*qi:fi=si.v-se*qi,fi=Math.max(0,Math.min(1,fi)),Math.round(fi*100)/100}function ye(si){for(var qi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},li=[],fi=new a.t(si),Oi=fi.toHsv(),Ei=J;Ei>0;Ei-=1){var Xt=new a.t({h:Me(Oi,Ei,!0),s:tt(Oi,Ei,!0),v:Be(Oi,Ei,!0)});li.push(Xt)}li.push(fi);for(var rt=1;rt<=oe;rt+=1){var Pt=new a.t({h:Me(Oi,rt),s:tt(Oi,rt),v:Be(Oi,rt)});li.push(Pt)}return qi.theme==="dark"?fe.map(function(bn){var di=bn.index,en=bn.amount;return new a.t(qi.backgroundColor||"#141414").mix(li[di],en).toHexString()}):li.map(function(bn){return bn.toHexString()})}var $t={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},qe=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];qe.primary=qe[5];var Ye=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Ye.primary=Ye[5];var vt=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];vt.primary=vt[5];var Oe=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Oe.primary=Oe[5];var ee=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];ee.primary=ee[5];var xt=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];xt.primary=xt[5];var de=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];de.primary=de[5];var re=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];re.primary=re[5];var Rt=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Rt.primary=Rt[5];var T=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];T.primary=T[5];var Bt=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Bt.primary=Bt[5];var He=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];He.primary=He[5];var Fe=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Fe.primary=Fe[5];var Vt=null,_t={red:qe,volcano:Ye,orange:vt,gold:Oe,yellow:ee,lime:xt,green:de,cyan:re,blue:Rt,geekblue:T,purple:Bt,magenta:He,grey:Fe},et=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];et.primary=et[5];var Kt=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Kt.primary=Kt[5];var wt=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];wt.primary=wt[5];var pt=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];pt.primary=pt[5];var je=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];je.primary=je[5];var Ct=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Ct.primary=Ct[5];var Le=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Le.primary=Le[5];var st=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];st.primary=st[5];var zt=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];zt.primary=zt[5];var Yt=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Yt.primary=Yt[5];var xn=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];xn.primary=xn[5];var Zn=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Zn.primary=Zn[5];var Yn=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Yn.primary=Yn[5];var Fn={red:et,volcano:Kt,orange:wt,gold:pt,yellow:je,lime:Ct,green:Le,cyan:st,blue:zt,geekblue:Yt,purple:xn,magenta:Zn,grey:Yn}},84458:function(ji,It,M){"use strict";M.d(It,{rb:function(){return fi},IX:function(){return _t}});var a=M(74826),W=M(75611),z=M(65213),ie=M(99426),Pe=M(75271),se=M(47424),J=M(34706),oe=M(89364),fe=M(89784),Me=M(16013),tt=M(41936),Be=(0,oe.Z)(function Oi(){(0,J.Z)(this,Oi)}),ye=Be,$t="CALC_UNIT",qe=new RegExp($t,"g");function Ye(Oi){return typeof Oi=="number"?"".concat(Oi).concat($t):Oi}var vt=function(Oi){(0,Me.Z)(Xt,Oi);var Ei=(0,tt.Z)(Xt);function Xt(rt,Pt){var bn;(0,J.Z)(this,Xt),bn=Ei.call(this),(0,z.Z)((0,fe.Z)(bn),"result",""),(0,z.Z)((0,fe.Z)(bn),"unitlessCssVar",void 0),(0,z.Z)((0,fe.Z)(bn),"lowPriority",void 0);var di=(0,a.Z)(rt);return bn.unitlessCssVar=Pt,rt instanceof Xt?bn.result="(".concat(rt.result,")"):di==="number"?bn.result=Ye(rt):di==="string"&&(bn.result=rt),bn}return(0,oe.Z)(Xt,[{key:"add",value:function(Pt){return Pt instanceof Xt?this.result="".concat(this.result," + ").concat(Pt.getResult()):(typeof Pt=="number"||typeof Pt=="string")&&(this.result="".concat(this.result," + ").concat(Ye(Pt))),this.lowPriority=!0,this}},{key:"sub",value:function(Pt){return Pt instanceof Xt?this.result="".concat(this.result," - ").concat(Pt.getResult()):(typeof Pt=="number"||typeof Pt=="string")&&(this.result="".concat(this.result," - ").concat(Ye(Pt))),this.lowPriority=!0,this}},{key:"mul",value:function(Pt){return this.lowPriority&&(this.result="(".concat(this.result,")")),Pt instanceof Xt?this.result="".concat(this.result," * ").concat(Pt.getResult(!0)):(typeof Pt=="number"||typeof Pt=="string")&&(this.result="".concat(this.result," * ").concat(Pt)),this.lowPriority=!1,this}},{key:"div",value:function(Pt){return this.lowPriority&&(this.result="(".concat(this.result,")")),Pt instanceof Xt?this.result="".concat(this.result," / ").concat(Pt.getResult(!0)):(typeof Pt=="number"||typeof Pt=="string")&&(this.result="".concat(this.result," / ").concat(Pt)),this.lowPriority=!1,this}},{key:"getResult",value:function(Pt){return this.lowPriority||Pt?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(Pt){var bn=this,di=Pt||{},en=di.unit,vr=!0;return typeof en=="boolean"?vr=en:Array.from(this.unitlessCssVar).some(function(Er){return bn.result.includes(Er)})&&(vr=!1),this.result=this.result.replace(qe,vr?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),Xt}(ye),Oe=function(Oi){(0,Me.Z)(Xt,Oi);var Ei=(0,tt.Z)(Xt);function Xt(rt){var Pt;return(0,J.Z)(this,Xt),Pt=Ei.call(this),(0,z.Z)((0,fe.Z)(Pt),"result",0),rt instanceof Xt?Pt.result=rt.result:typeof rt=="number"&&(Pt.result=rt),Pt}return(0,oe.Z)(Xt,[{key:"add",value:function(Pt){return Pt instanceof Xt?this.result+=Pt.result:typeof Pt=="number"&&(this.result+=Pt),this}},{key:"sub",value:function(Pt){return Pt instanceof Xt?this.result-=Pt.result:typeof Pt=="number"&&(this.result-=Pt),this}},{key:"mul",value:function(Pt){return Pt instanceof Xt?this.result*=Pt.result:typeof Pt=="number"&&(this.result*=Pt),this}},{key:"div",value:function(Pt){return Pt instanceof Xt?this.result/=Pt.result:typeof Pt=="number"&&(this.result/=Pt),this}},{key:"equal",value:function(){return this.result}}]),Xt}(ye),ee=Oe,xt=function(Ei,Xt){var rt=Ei==="css"?vt:ee;return function(Pt){return new rt(Pt,Xt)}},de=xt,re=function(Ei,Xt){return"".concat([Xt,Ei.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},Rt=re,T=M(88030);function Bt(Oi,Ei,Xt,rt){var Pt=(0,ie.Z)({},Ei[Oi]);if(rt!=null&&rt.deprecatedTokens){var bn=rt.deprecatedTokens;bn.forEach(function(en){var vr=(0,W.Z)(en,2),Er=vr[0],tr=vr[1];if(Pt!=null&&Pt[Er]||Pt!=null&&Pt[tr]){var er;(er=Pt[tr])!==null&&er!==void 0||(Pt[tr]=Pt==null?void 0:Pt[Er])}})}var di=(0,ie.Z)((0,ie.Z)({},Xt),Pt);return Object.keys(di).forEach(function(en){di[en]===Ei[en]&&delete di[en]}),di}var He=Bt,Fe=typeof CSSINJS_STATISTIC!="undefined",Vt=!0;function _t(){for(var Oi=arguments.length,Ei=new Array(Oi),Xt=0;Xt<Oi;Xt++)Ei[Xt]=arguments[Xt];if(!Fe)return Object.assign.apply(Object,[{}].concat(Ei));Vt=!1;var rt={};return Ei.forEach(function(Pt){if((0,a.Z)(Pt)==="object"){var bn=Object.keys(Pt);bn.forEach(function(di){Object.defineProperty(rt,di,{configurable:!0,enumerable:!0,get:function(){return Pt[di]}})})}}),Vt=!0,rt}var et={},Kt={};function wt(){}var pt=function(Ei){var Xt,rt=Ei,Pt=wt;return Fe&&typeof Proxy!="undefined"&&(Xt=new Set,rt=new Proxy(Ei,{get:function(di,en){if(Vt){var vr;(vr=Xt)===null||vr===void 0||vr.add(en)}return di[en]}}),Pt=function(di,en){var vr;et[di]={global:Array.from(Xt),component:(0,ie.Z)((0,ie.Z)({},(vr=et[di])===null||vr===void 0?void 0:vr.component),en)}}),{token:rt,keys:Xt,flush:Pt}},je=pt;function Ct(Oi,Ei,Xt){if(typeof Xt=="function"){var rt;return Xt(_t(Ei,(rt=Ei[Oi])!==null&&rt!==void 0?rt:{}))}return Xt!=null?Xt:{}}var Le=Ct;function st(Oi){return Oi==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var Xt=arguments.length,rt=new Array(Xt),Pt=0;Pt<Xt;Pt++)rt[Pt]=arguments[Pt];return"max(".concat(rt.map(function(bn){return(0,se.bf)(bn)}).join(","),")")},min:function(){for(var Xt=arguments.length,rt=new Array(Xt),Pt=0;Pt<Xt;Pt++)rt[Pt]=arguments[Pt];return"min(".concat(rt.map(function(bn){return(0,se.bf)(bn)}).join(","),")")}}}var zt=st,Yt=1e3*60*10,xn=function(){function Oi(){(0,J.Z)(this,Oi),(0,z.Z)(this,"map",new Map),(0,z.Z)(this,"objectIDMap",new WeakMap),(0,z.Z)(this,"nextID",0),(0,z.Z)(this,"lastAccessBeat",new Map),(0,z.Z)(this,"accessBeat",0)}return(0,oe.Z)(Oi,[{key:"set",value:function(Xt,rt){this.clear();var Pt=this.getCompositeKey(Xt);this.map.set(Pt,rt),this.lastAccessBeat.set(Pt,Date.now())}},{key:"get",value:function(Xt){var rt=this.getCompositeKey(Xt),Pt=this.map.get(rt);return this.lastAccessBeat.set(rt,Date.now()),this.accessBeat+=1,Pt}},{key:"getCompositeKey",value:function(Xt){var rt=this,Pt=Xt.map(function(bn){return bn&&(0,a.Z)(bn)==="object"?"obj_".concat(rt.getObjectID(bn)):"".concat((0,a.Z)(bn),"_").concat(bn)});return Pt.join("|")}},{key:"getObjectID",value:function(Xt){if(this.objectIDMap.has(Xt))return this.objectIDMap.get(Xt);var rt=this.nextID;return this.objectIDMap.set(Xt,rt),this.nextID+=1,rt}},{key:"clear",value:function(){var Xt=this;if(this.accessBeat>1e4){var rt=Date.now();this.lastAccessBeat.forEach(function(Pt,bn){rt-Pt>Yt&&(Xt.map.delete(bn),Xt.lastAccessBeat.delete(bn))}),this.accessBeat=0}}}]),Oi}(),Zn=new xn;function Yn(Oi,Ei){return Pe.useMemo(function(){var Xt=Zn.get(Ei);if(Xt)return Xt;var rt=Oi();return Zn.set(Ei,rt),rt},Ei)}var Fn=Yn,si=function(){return{}},qi=si;function li(Oi){var Ei=Oi.useCSP,Xt=Ei===void 0?qi:Ei,rt=Oi.useToken,Pt=Oi.usePrefix,bn=Oi.getResetStyles,di=Oi.getCommonStyle,en=Oi.getCompUnitless;function vr(Ui,Et,vn,Mn){var gi=Array.isArray(Ui)?Ui[0]:Ui;function $i(pi){return"".concat(String(gi)).concat(pi.slice(0,1).toUpperCase()).concat(pi.slice(1))}var hr=(Mn==null?void 0:Mn.unitless)||{},Es=typeof en=="function"?en(Ui):{},vi=(0,ie.Z)((0,ie.Z)({},Es),{},(0,z.Z)({},$i("zIndexPopup"),!0));Object.keys(hr).forEach(function(pi){vi[$i(pi)]=hr[pi]});var Ot=(0,ie.Z)((0,ie.Z)({},Mn),{},{unitless:vi,prefixToken:$i}),kt=tr(Ui,Et,vn,Ot),cn=Er(gi,vn,Ot);return function(pi){var nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pi,mi=kt(pi,nr),Zi=(0,W.Z)(mi,2),$n=Zi[1],bi=cn(nr),Sr=(0,W.Z)(bi,2),Ir=Sr[0],Z=Sr[1];return[Ir,$n,Z]}}function Er(Ui,Et,vn){var Mn=vn.unitless,gi=vn.injectStyle,$i=gi===void 0?!0:gi,hr=vn.prefixToken,Es=vn.ignore,vi=function(cn){var pi=cn.rootCls,nr=cn.cssVar,mi=nr===void 0?{}:nr,Zi=rt(),$n=Zi.realToken;return(0,se.CI)({path:[Ui],prefix:mi.prefix,key:mi.key,unitless:Mn,ignore:Es,token:$n,scope:pi},function(){var bi=Le(Ui,$n,Et),Sr=He(Ui,$n,bi,{deprecatedTokens:vn==null?void 0:vn.deprecatedTokens});return Object.keys(bi).forEach(function(Ir){Sr[hr(Ir)]=Sr[Ir],delete Sr[Ir]}),Sr}),null},Ot=function(cn){var pi=rt(),nr=pi.cssVar;return[function(mi){return $i&&nr?Pe.createElement(Pe.Fragment,null,Pe.createElement(vi,{rootCls:cn,cssVar:nr,component:Ui}),mi):mi},nr==null?void 0:nr.key]};return Ot}function tr(Ui,Et,vn){var Mn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},gi=Array.isArray(Ui)?Ui:[Ui,Ui],$i=(0,W.Z)(gi,1),hr=$i[0],Es=gi.join("-"),vi=Oi.layer||{name:"antd"};return function(Ot){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot,cn=rt(),pi=cn.theme,nr=cn.realToken,mi=cn.hashId,Zi=cn.token,$n=cn.cssVar,bi=Pt(),Sr=bi.rootPrefixCls,Ir=bi.iconPrefixCls,Z=Xt(),Tt=$n?"css":"js",Tn=Fn(function(){var oi=new Set;return $n&&Object.keys(Mn.unitless||{}).forEach(function(Wi){oi.add((0,se.ks)(Wi,$n.prefix)),oi.add((0,se.ks)(Wi,Rt(hr,$n.prefix)))}),de(Tt,oi)},[Tt,hr,$n==null?void 0:$n.prefix]),ve=zt(Tt),Ae=ve.max,nt=ve.min,fn={theme:pi,token:Zi,hashId:mi,nonce:function(){return Z.nonce},clientOnly:Mn.clientOnly,layer:vi,order:Mn.order||-999};typeof bn=="function"&&(0,se.xy)((0,ie.Z)((0,ie.Z)({},fn),{},{clientOnly:!1,path:["Shared",Sr]}),function(){return bn(Zi,{prefix:{rootPrefixCls:Sr,iconPrefixCls:Ir},csp:Z})});var An=(0,se.xy)((0,ie.Z)((0,ie.Z)({},fn),{},{path:[Es,Ot,Ir]}),function(){if(Mn.injectStyle===!1)return[];var oi=je(Zi),Wi=oi.token,Cr=oi.flush,Ur=Le(hr,nr,vn),Lr=".".concat(Ot),Tr=He(hr,nr,Ur,{deprecatedTokens:Mn.deprecatedTokens});$n&&Ur&&(0,a.Z)(Ur)==="object"&&Object.keys(Ur).forEach(function(pn){Ur[pn]="var(".concat((0,se.ks)(pn,Rt(hr,$n.prefix)),")")});var Dt=_t(Wi,{componentCls:Lr,prefixCls:Ot,iconCls:".".concat(Ir),antCls:".".concat(Sr),calc:Tn,max:Ae,min:nt},$n?Ur:Tr),kn=Et(Dt,{hashId:mi,prefixCls:Ot,rootPrefixCls:Sr,iconPrefixCls:Ir});Cr(hr,Tr);var Xn=typeof di=="function"?di(Dt,Ot,kt,Mn.resetFont):null;return[Mn.resetStyle===!1?null:Xn,kn]});return[An,mi]}}function er(Ui,Et,vn){var Mn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},gi=tr(Ui,Et,vn,(0,ie.Z)({resetStyle:!1,order:-998},Mn)),$i=function(Es){var vi=Es.prefixCls,Ot=Es.rootCls,kt=Ot===void 0?vi:Ot;return gi(vi,kt),null};return $i}return{genStyleHooks:vr,genSubStyleComponent:er,genComponentStyleHook:tr}}var fi=li},47424:function(ji,It,M){"use strict";M.d(It,{E4:function(){return Ms},uP:function(){return He},jG:function(){return Zn},ks:function(){return Ui},bf:function(){return tr},CI:function(){return yn},fp:function(){return Ur},xy:function(){return ht}});var a=M(65213),W=M(75611),z=M(81230),ie=M(99426);function Pe(Ce){for(var Qe=0,ot,bt=0,rn=Ce.length;rn>=4;++bt,rn-=4)ot=Ce.charCodeAt(bt)&255|(Ce.charCodeAt(++bt)&255)<<8|(Ce.charCodeAt(++bt)&255)<<16|(Ce.charCodeAt(++bt)&255)<<24,ot=(ot&65535)*1540483477+((ot>>>16)*59797<<16),ot^=ot>>>24,Qe=(ot&65535)*1540483477+((ot>>>16)*59797<<16)^(Qe&65535)*1540483477+((Qe>>>16)*59797<<16);switch(rn){case 3:Qe^=(Ce.charCodeAt(bt+2)&255)<<16;case 2:Qe^=(Ce.charCodeAt(bt+1)&255)<<8;case 1:Qe^=Ce.charCodeAt(bt)&255,Qe=(Qe&65535)*1540483477+((Qe>>>16)*59797<<16)}return Qe^=Qe>>>13,Qe=(Qe&65535)*1540483477+((Qe>>>16)*59797<<16),((Qe^Qe>>>15)>>>0).toString(36)}var se=Pe,J=M(77274),oe=M(75271),fe=M.t(oe,2),Me=M(77464),tt=M(8104),Be=M(34706),ye=M(89364),$t="%";function qe(Ce){return Ce.join($t)}var Ye=function(){function Ce(Qe){(0,Be.Z)(this,Ce),(0,a.Z)(this,"instanceId",void 0),(0,a.Z)(this,"cache",new Map),this.instanceId=Qe}return(0,ye.Z)(Ce,[{key:"get",value:function(ot){return this.opGet(qe(ot))}},{key:"opGet",value:function(ot){return this.cache.get(ot)||null}},{key:"update",value:function(ot,bt){return this.opUpdate(qe(ot),bt)}},{key:"opUpdate",value:function(ot,bt){var rn=this.cache.get(ot),ti=bt(rn);ti===null?this.cache.delete(ot):this.cache.set(ot,ti)}}]),Ce}(),vt=Ye,Oe=null,ee="data-token-hash",xt="data-css-hash",de="data-cache-path",re="__cssinjs_instance__";function Rt(){var Ce=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var Qe=document.body.querySelectorAll("style[".concat(xt,"]"))||[],ot=document.head.firstChild;Array.from(Qe).forEach(function(rn){rn[re]=rn[re]||Ce,rn[re]===Ce&&document.head.insertBefore(rn,ot)});var bt={};Array.from(document.querySelectorAll("style[".concat(xt,"]"))).forEach(function(rn){var ti=rn.getAttribute(xt);if(bt[ti]){if(rn[re]===Ce){var ni;(ni=rn.parentNode)===null||ni===void 0||ni.removeChild(rn)}}else bt[ti]=!0})}return new vt(Ce)}var T=oe.createContext({hashPriority:"low",cache:Rt(),defaultCache:!0}),Bt=function(Qe){var ot=Qe.children,bt=_objectWithoutProperties(Qe,Oe),rn=React.useContext(T),ti=useMemo(function(){var ni=_objectSpread({},rn);Object.keys(bt).forEach(function(Ri){var sn=bt[Ri];bt[Ri]!==void 0&&(ni[Ri]=sn)});var Ln=bt.cache;return ni.cache=ni.cache||Rt(),ni.defaultCache=!Ln&&rn.defaultCache,ni},[rn,bt],function(ni,Ln){return!isEqual(ni[0],Ln[0],!0)||!isEqual(ni[1],Ln[1],!0)});return React.createElement(T.Provider,{value:ti},ot)},He=T,Fe=M(74826),Vt=M(98750),_t="CALC_UNIT",et=new RegExp(_t,"g");function Kt(Ce){return typeof Ce=="number"?"".concat(Ce).concat(_t):Ce}var wt=null,pt=function(Qe,ot){var bt=Qe==="css"?CSSCalculator:NumCalculator;return function(rn){return new bt(rn,ot)}},je=null;function Ct(Ce,Qe){if(Ce.length!==Qe.length)return!1;for(var ot=0;ot<Ce.length;ot++)if(Ce[ot]!==Qe[ot])return!1;return!0}var Le=function(){function Ce(){(0,Be.Z)(this,Ce),(0,a.Z)(this,"cache",void 0),(0,a.Z)(this,"keys",void 0),(0,a.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,ye.Z)(Ce,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(ot){var bt,rn,ti=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ni={map:this.cache};return ot.forEach(function(Ln){if(!ni)ni=void 0;else{var Ri;ni=(Ri=ni)===null||Ri===void 0||(Ri=Ri.map)===null||Ri===void 0?void 0:Ri.get(Ln)}}),(bt=ni)!==null&&bt!==void 0&&bt.value&&ti&&(ni.value[1]=this.cacheCallTimes++),(rn=ni)===null||rn===void 0?void 0:rn.value}},{key:"get",value:function(ot){var bt;return(bt=this.internalGet(ot,!0))===null||bt===void 0?void 0:bt[0]}},{key:"has",value:function(ot){return!!this.internalGet(ot)}},{key:"set",value:function(ot,bt){var rn=this;if(!this.has(ot)){if(this.size()+1>Ce.MAX_CACHE_SIZE+Ce.MAX_CACHE_OFFSET){var ti=this.keys.reduce(function(sn,ar){var kr=(0,W.Z)(sn,2),lr=kr[1];return rn.internalGet(ar)[1]<lr?[ar,rn.internalGet(ar)[1]]:sn},[this.keys[0],this.cacheCallTimes]),ni=(0,W.Z)(ti,1),Ln=ni[0];this.delete(Ln)}this.keys.push(ot)}var Ri=this.cache;ot.forEach(function(sn,ar){if(ar===ot.length-1)Ri.set(sn,{value:[bt,rn.cacheCallTimes++]});else{var kr=Ri.get(sn);kr?kr.map||(kr.map=new Map):Ri.set(sn,{map:new Map}),Ri=Ri.get(sn).map}})}},{key:"deleteByPath",value:function(ot,bt){var rn=ot.get(bt[0]);if(bt.length===1){var ti;return rn.map?ot.set(bt[0],{map:rn.map}):ot.delete(bt[0]),(ti=rn.value)===null||ti===void 0?void 0:ti[0]}var ni=this.deleteByPath(rn.map,bt.slice(1));return(!rn.map||rn.map.size===0)&&!rn.value&&ot.delete(bt[0]),ni}},{key:"delete",value:function(ot){if(this.has(ot))return this.keys=this.keys.filter(function(bt){return!Ct(bt,ot)}),this.deleteByPath(this.cache,ot)}}]),Ce}();(0,a.Z)(Le,"MAX_CACHE_SIZE",20),(0,a.Z)(Le,"MAX_CACHE_OFFSET",5);var st=M(69287),zt=0,Yt=function(){function Ce(Qe){(0,Be.Z)(this,Ce),(0,a.Z)(this,"derivatives",void 0),(0,a.Z)(this,"id",void 0),this.derivatives=Array.isArray(Qe)?Qe:[Qe],this.id=zt,Qe.length===0&&(0,st.Kp)(Qe.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),zt+=1}return(0,ye.Z)(Ce,[{key:"getDerivativeToken",value:function(ot){return this.derivatives.reduce(function(bt,rn){return rn(ot,bt)},void 0)}}]),Ce}(),xn=new Le;function Zn(Ce){var Qe=Array.isArray(Ce)?Ce:[Ce];return xn.has(Qe)||xn.set(Qe,new Yt(Qe)),xn.get(Qe)}var Yn=new WeakMap,Fn={};function si(Ce,Qe){for(var ot=Yn,bt=0;bt<Qe.length;bt+=1){var rn=Qe[bt];ot.has(rn)||ot.set(rn,new WeakMap),ot=ot.get(rn)}return ot.has(Fn)||ot.set(Fn,Ce()),ot.get(Fn)}var qi=new WeakMap;function li(Ce){var Qe=qi.get(Ce)||"";return Qe||(Object.keys(Ce).forEach(function(ot){var bt=Ce[ot];Qe+=ot,bt instanceof Yt?Qe+=bt.id:bt&&(0,Fe.Z)(bt)==="object"?Qe+=li(bt):Qe+=bt}),Qe=se(Qe),qi.set(Ce,Qe)),Qe}function fi(Ce,Qe){return se("".concat(Qe,"_").concat(li(Ce)))}var Oi="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Ei="_bAmBoO_";function Xt(Ce,Qe,ot){if((0,Vt.Z)()){var bt,rn;(0,J.hq)(Ce,Oi);var ti=document.createElement("div");ti.style.position="fixed",ti.style.left="0",ti.style.top="0",Qe==null||Qe(ti),document.body.appendChild(ti);var ni=ot?ot(ti):(bt=getComputedStyle(ti).content)===null||bt===void 0?void 0:bt.includes(Ei);return(rn=ti.parentNode)===null||rn===void 0||rn.removeChild(ti),(0,J.jL)(Oi),ni}return!1}var rt=null;function Pt(){return rt===void 0&&(rt=Xt("@layer ".concat(Oi," { .").concat(Oi,' { content: "').concat(Ei,'"!important; } }'),function(Ce){Ce.className=Oi})),rt}var bn=void 0;function di(){return bn===void 0&&(bn=Xt(":where(.".concat(Oi,') { content: "').concat(Ei,'"!important; }'),function(Ce){Ce.className=Oi})),bn}var en=void 0;function vr(){return en===void 0&&(en=Xt(".".concat(Oi," { inset-block: 93px !important; }"),function(Ce){Ce.className=Oi},function(Ce){return getComputedStyle(Ce).bottom==="93px"})),en}var Er=(0,Vt.Z)();function tr(Ce){return typeof Ce=="number"?"".concat(Ce,"px"):Ce}function er(Ce,Qe,ot){var bt,rn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ti=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ti)return Ce;var ni=(0,ie.Z)((0,ie.Z)({},rn),{},(bt={},(0,a.Z)(bt,ee,Qe),(0,a.Z)(bt,xt,ot),bt)),Ln=Object.keys(ni).map(function(Ri){var sn=ni[Ri];return sn?"".concat(Ri,'="').concat(sn,'"'):null}).filter(function(Ri){return Ri}).join(" ");return"<style ".concat(Ln,">").concat(Ce,"</style>")}var Ui=function(Qe){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(ot?"".concat(ot,"-"):"").concat(Qe).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Et=function(Qe,ot,bt){return Object.keys(Qe).length?".".concat(ot).concat(bt!=null&&bt.scope?".".concat(bt.scope):"","{").concat(Object.entries(Qe).map(function(rn){var ti=(0,W.Z)(rn,2),ni=ti[0],Ln=ti[1];return"".concat(ni,":").concat(Ln,";")}).join(""),"}"):""},vn=function(Qe,ot,bt){var rn={},ti={};return Object.entries(Qe).forEach(function(ni){var Ln,Ri,sn=(0,W.Z)(ni,2),ar=sn[0],kr=sn[1];if(bt!=null&&(Ln=bt.preserve)!==null&&Ln!==void 0&&Ln[ar])ti[ar]=kr;else if((typeof kr=="string"||typeof kr=="number")&&!(bt!=null&&(Ri=bt.ignore)!==null&&Ri!==void 0&&Ri[ar])){var lr,Ps=Ui(ar,bt==null?void 0:bt.prefix);rn[Ps]=typeof kr=="number"&&!(bt!=null&&(lr=bt.unitless)!==null&&lr!==void 0&&lr[ar])?"".concat(kr,"px"):String(kr),ti[ar]="var(".concat(Ps,")")}}),[ti,Et(rn,ot,{scope:bt==null?void 0:bt.scope})]},Mn=M(46694),gi=(0,ie.Z)({},fe),$i=gi.useInsertionEffect,hr=function(Qe,ot,bt){oe.useMemo(Qe,bt),(0,Mn.Z)(function(){return ot(!0)},bt)},Es=$i?function(Ce,Qe,ot){return $i(function(){return Ce(),Qe()},ot)}:hr,vi=Es,Ot=(0,ie.Z)({},fe),kt=Ot.useInsertionEffect,cn=function(Qe){var ot=[],bt=!1;function rn(ti){bt||ot.push(ti)}return oe.useEffect(function(){return bt=!1,function(){bt=!0,ot.length&&ot.forEach(function(ti){return ti()})}},Qe),rn},pi=function(){return function(Qe){Qe()}},nr=typeof kt!="undefined"?cn:pi,mi=nr;function Zi(){return!1}var $n=!1;function bi(){return $n}var Sr=Zi;if(0)var Ir,Z;function Tt(Ce,Qe,ot,bt,rn){var ti=oe.useContext(He),ni=ti.cache,Ln=[Ce].concat((0,z.Z)(Qe)),Ri=qe(Ln),sn=mi([Ri]),ar=Sr(),kr=function(Ve){ni.opUpdate(Ri,function(At){var Gt=At||[void 0,void 0],qt=(0,W.Z)(Gt,2),Vn=qt[0],jn=Vn===void 0?0:Vn,Ii=qt[1],ui=Ii,sr=ui||ot(),Pr=[jn,sr];return Ve?Ve(Pr):Pr})};oe.useMemo(function(){kr()},[Ri]);var lr=ni.opGet(Ri),Ps=lr[1];return vi(function(){rn==null||rn(Ps)},function(xe){return kr(function(Ve){var At=(0,W.Z)(Ve,2),Gt=At[0],qt=At[1];return xe&&Gt===0&&(rn==null||rn(Ps)),[Gt+1,qt]}),function(){ni.opUpdate(Ri,function(Ve){var At=Ve||[],Gt=(0,W.Z)(At,2),qt=Gt[0],Vn=qt===void 0?0:qt,jn=Gt[1],Ii=Vn-1;return Ii===0?(sn(function(){(xe||!ni.opGet(Ri))&&(bt==null||bt(jn,!1))}),null):[Vn-1,jn]})}},[Ri]),Ps}var Tn={},ve="css",Ae=new Map;function nt(Ce){Ae.set(Ce,(Ae.get(Ce)||0)+1)}function fn(Ce,Qe){if(typeof document!="undefined"){var ot=document.querySelectorAll("style[".concat(ee,'="').concat(Ce,'"]'));ot.forEach(function(bt){if(bt[re]===Qe){var rn;(rn=bt.parentNode)===null||rn===void 0||rn.removeChild(bt)}})}}var An=0;function oi(Ce,Qe){Ae.set(Ce,(Ae.get(Ce)||0)-1);var ot=Array.from(Ae.keys()),bt=ot.filter(function(rn){var ti=Ae.get(rn)||0;return ti<=0});ot.length-bt.length>An&&bt.forEach(function(rn){fn(rn,Qe),Ae.delete(rn)})}var Wi=function(Qe,ot,bt,rn){var ti=bt.getDerivativeToken(Qe),ni=(0,ie.Z)((0,ie.Z)({},ti),ot);return rn&&(ni=rn(ni)),ni},Cr="token";function Ur(Ce,Qe){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},bt=(0,oe.useContext)(He),rn=bt.cache.instanceId,ti=bt.container,ni=ot.salt,Ln=ni===void 0?"":ni,Ri=ot.override,sn=Ri===void 0?Tn:Ri,ar=ot.formatToken,kr=ot.getComputedToken,lr=ot.cssVar,Ps=si(function(){return Object.assign.apply(Object,[{}].concat((0,z.Z)(Qe)))},Qe),xe=li(Ps),Ve=li(sn),At=lr?li(lr):"",Gt=Tt(Cr,[Ln,Ce.id,xe,Ve,At],function(){var qt,Vn=kr?kr(Ps,sn,Ce):Wi(Ps,sn,Ce,ar),jn=(0,ie.Z)({},Vn),Ii="";if(lr){var ui=vn(Vn,lr.key,{prefix:lr.prefix,ignore:lr.ignore,unitless:lr.unitless,preserve:lr.preserve}),sr=(0,W.Z)(ui,2);Vn=sr[0],Ii=sr[1]}var Pr=fi(Vn,Ln);Vn._tokenKey=Pr,jn._tokenKey=fi(jn,Ln);var Ki=(qt=lr==null?void 0:lr.key)!==null&&qt!==void 0?qt:Pr;Vn._themeKey=Ki,nt(Ki);var ps="".concat(ve,"-").concat(se(Pr));return Vn._hashId=ps,[Vn,ps,jn,Ii,(lr==null?void 0:lr.key)||""]},function(qt){oi(qt[0]._themeKey,rn)},function(qt){var Vn=(0,W.Z)(qt,4),jn=Vn[0],Ii=Vn[3];if(lr&&Ii){var ui=(0,J.hq)(Ii,se("css-variables-".concat(jn._themeKey)),{mark:xt,prepend:"queue",attachTo:ti,priority:-999});ui[re]=rn,ui.setAttribute(ee,jn._themeKey)}});return Gt}var Lr=function(Qe,ot,bt){var rn=(0,W.Z)(Qe,5),ti=rn[2],ni=rn[3],Ln=rn[4],Ri=bt||{},sn=Ri.plain;if(!ni)return null;var ar=ti._tokenKey,kr=-999,lr={"data-rc-order":"prependQueue","data-rc-priority":"".concat(kr)},Ps=er(ni,Ln,ar,lr,sn);return[kr,ar,Ps]},Tr=M(52003),Dt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kn=Dt,Xn="-ms-",pn="-moz-",ci="-webkit-",ir="comm",or="rule",Gr="decl",Nr="@page",Xi="@media",Zr="@import",cs="@charset",zr="@viewport",io="@supports",Ts="@document",Ns="@namespace",Fo="@keyframes",Ao="@font-face",Po="@counter-style",ro="@font-feature-values",ua="@layer",Mo="@scope",Bs=Math.abs,Fs=String.fromCharCode,Bo=Object.assign;function bo(Ce,Qe){return Us(Ce,0)^45?(((Qe<<2^Us(Ce,0))<<2^Us(Ce,1))<<2^Us(Ce,2))<<2^Us(Ce,3):0}function $r(Ce){return Ce.trim()}function So(Ce,Qe){return(Ce=Qe.exec(Ce))?Ce[0]:Ce}function so(Ce,Qe,ot){return Ce.replace(Qe,ot)}function mo(Ce,Qe,ot){return Ce.indexOf(Qe,ot)}function Us(Ce,Qe){return Ce.charCodeAt(Qe)|0}function ds(Ce,Qe,ot){return Ce.slice(Qe,ot)}function Oo(Ce){return Ce.length}function Co(Ce){return Ce.length}function Fr(Ce,Qe){return Qe.push(Ce),Ce}function vo(Ce,Qe){return Ce.map(Qe).join("")}function _a(Ce,Qe){return Ce.filter(function(ot){return!So(ot,Qe)})}function bs(Ce,Qe){for(var ot="",bt=0;bt<Ce.length;bt++)ot+=Qe(Ce[bt],bt,Ce,Qe)||"";return ot}function Js(Ce,Qe,ot,bt){switch(Ce.type){case ua:if(Ce.children.length)break;case Zr:case Gr:return Ce.return=Ce.return||Ce.value;case ir:return"";case Fo:return Ce.return=Ce.value+"{"+bs(Ce.children,bt)+"}";case or:if(!Oo(Ce.value=Ce.props.join(",")))return""}return Oo(ot=bs(Ce.children,bt))?Ce.return=Ce.value+"{"+ot+"}":""}var js=1,os=1,hs=0,qr=0,fs=0,oo="";function va(Ce,Qe,ot,bt,rn,ti,ni,Ln){return{value:Ce,root:Qe,parent:ot,type:bt,props:rn,children:ti,line:js,column:os,length:ni,return:"",siblings:Ln}}function qo(Ce,Qe){return assign(va("",null,null,"",null,null,0,Ce.siblings),Ce,{length:-Ce.length},Qe)}function wa(Ce){for(;Ce.root;)Ce=qo(Ce.root,{children:[Ce]});append(Ce,Ce.siblings)}function Ua(){return fs}function Pa(){return fs=qr>0?Us(oo,--qr):0,os--,fs===10&&(os=1,js--),fs}function Jr(){return fs=qr<hs?Us(oo,qr++):0,os++,fs===10&&(os=1,js++),fs}function fr(){return Us(oo,qr)}function ai(){return qr}function _s(Ce,Qe){return ds(oo,Ce,Qe)}function Uo(Ce){switch(Ce){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zo(Ce){return js=os=1,hs=Oo(oo=Ce),qr=0,[]}function el(Ce){return oo="",Ce}function ws(Ce){return $r(_s(qr-1,ra(Ce===91?Ce+2:Ce===40?Ce+1:Ce)))}function za(Ce){return el(Ma(zo(Ce)))}function Ka(Ce){for(;(fs=fr())&&fs<33;)Jr();return Uo(Ce)>2||Uo(fs)>3?"":" "}function Ma(Ce){for(;Jr();)switch(Uo(fs)){case 0:append(ll(qr-1),Ce);break;case 2:append(ws(fs),Ce);break;default:append(from(fs),Ce)}return Ce}function ya(Ce,Qe){for(;--Qe&&Jr()&&!(fs<48||fs>102||fs>57&&fs<65||fs>70&&fs<97););return _s(Ce,ai()+(Qe<6&&fr()==32&&Jr()==32))}function ra(Ce){for(;Jr();)switch(fs){case Ce:return qr;case 34:case 39:Ce!==34&&Ce!==39&&ra(fs);break;case 40:Ce===41&&ra(Ce);break;case 92:Jr();break}return qr}function $a(Ce,Qe){for(;Jr()&&Ce+fs!==57;)if(Ce+fs===84&&fr()===47)break;return"/*"+_s(Qe,qr-1)+"*"+Fs(Ce===47?Ce:Jr())}function ll(Ce){for(;!Uo(fr());)Jr();return _s(Ce,qr)}function Jo(Ce){return el(ba("",null,null,null,[""],Ce=zo(Ce),0,[0],Ce))}function ba(Ce,Qe,ot,bt,rn,ti,ni,Ln,Ri){for(var sn=0,ar=0,kr=ni,lr=0,Ps=0,xe=0,Ve=1,At=1,Gt=1,qt=0,Vn="",jn=rn,Ii=ti,ui=bt,sr=Vn;At;)switch(xe=qt,qt=Jr()){case 40:if(xe!=108&&Us(sr,kr-1)==58){mo(sr+=so(ws(qt),"&","&\f"),"&\f",Bs(sn?Ln[sn-1]:0))!=-1&&(Gt=-1);break}case 34:case 39:case 91:sr+=ws(qt);break;case 9:case 10:case 13:case 32:sr+=Ka(xe);break;case 92:sr+=ya(ai()-1,7);continue;case 47:switch(fr()){case 42:case 47:Fr($e($a(Jr(),ai()),Qe,ot,Ri),Ri),(Uo(xe||1)==5||Uo(fr()||1)==5)&&Oo(sr)&&ds(sr,-1,void 0)!==" "&&(sr+=" ");break;default:sr+="/"}break;case 123*Ve:Ln[sn++]=Oo(sr)*Gt;case 125*Ve:case 59:case 0:switch(qt){case 0:case 125:At=0;case 59+ar:Gt==-1&&(sr=so(sr,/\f/g,"")),Ps>0&&(Oo(sr)-kr||Ve===0&&xe===47)&&Fr(Ps>32?Y(sr+";",bt,ot,kr-1,Ri):Y(so(sr," ","")+";",bt,ot,kr-2,Ri),Ri);break;case 59:sr+=";";default:if(Fr(ui=hl(sr,Qe,ot,sn,ar,rn,Ln,Vn,jn=[],Ii=[],kr,ti),ti),qt===123)if(ar===0)ba(sr,Qe,ui,ui,jn,ti,kr,Ln,Ii);else switch(lr===99&&Us(sr,3)===110?100:lr){case 100:case 108:case 109:case 115:ba(Ce,ui,ui,bt&&Fr(hl(Ce,ui,ui,0,0,rn,Ln,Vn,rn,jn=[],kr,Ii),Ii),rn,Ii,kr,Ln,bt?jn:Ii);break;default:ba(sr,ui,ui,ui,[""],Ii,0,Ln,Ii)}}sn=ar=Ps=0,Ve=Gt=1,Vn=sr="",kr=ni;break;case 58:kr=1+Oo(sr),Ps=xe;default:if(Ve<1){if(qt==123)--Ve;else if(qt==125&&Ve++==0&&Pa()==125)continue}switch(sr+=Fs(qt),qt*Ve){case 38:Gt=ar>0?1:(sr+="\f",-1);break;case 44:Ln[sn++]=(Oo(sr)-1)*Gt,Gt=1;break;case 64:fr()===45&&(sr+=ws(Jr())),lr=fr(),ar=kr=Oo(Vn=sr+=ll(ai())),qt++;break;case 45:xe===45&&Oo(sr)==2&&(Ve=0)}}return ti}function hl(Ce,Qe,ot,bt,rn,ti,ni,Ln,Ri,sn,ar,kr){for(var lr=rn-1,Ps=rn===0?ti:[""],xe=Co(Ps),Ve=0,At=0,Gt=0;Ve<bt;++Ve)for(var qt=0,Vn=ds(Ce,lr+1,lr=Bs(At=ni[Ve])),jn=Ce;qt<xe;++qt)(jn=$r(At>0?Ps[qt]+" "+Vn:so(Vn,/&\f/g,Ps[qt])))&&(Ri[Gt++]=jn);return va(Ce,Qe,ot,rn===0?or:Ln,Ri,sn,ar,kr)}function $e(Ce,Qe,ot,bt){return va(Ce,Qe,ot,ir,Fs(Ua()),ds(Ce,2,-2),0,bt)}function Y(Ce,Qe,ot,bt,rn){return va(Ce,Qe,ot,Gr,ds(Ce,0,bt),ds(Ce,bt+1,-1),bt,rn)}function H(Ce,Qe){var ot=Qe.path,bt=Qe.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(ot?"Error in ".concat(ot,": "):"").concat(Ce).concat(bt.length?" Selector: ".concat(bt.join(" | ")):""))}var ae=function(Qe,ot,bt){if(Qe==="content"){var rn=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,ti=["normal","none","initial","inherit","unset"];(typeof ot!="string"||ti.indexOf(ot)===-1&&!rn.test(ot)&&(ot.charAt(0)!==ot.charAt(ot.length-1)||ot.charAt(0)!=='"'&&ot.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(ot,"\"'`."),bt)}},Q=null,Ze=function(Qe,ot,bt){Qe==="animation"&&bt.hashId&&ot!=="none"&&lintWarning("You seem to be using hashed animation '".concat(ot,"', in which case 'animationName' with Keyframe as value is recommended."),bt)},lt=null;function tn(Ce){var Qe,ot=((Qe=Ce.match(/:not\(([^)]*)\)/))===null||Qe===void 0?void 0:Qe[1])||"",bt=ot.split(/(\[[^[]*])|(?=[.#])/).filter(function(rn){return rn});return bt.length>1}function _n(Ce){return Ce.parentSelectors.reduce(function(Qe,ot){return Qe?ot.includes("&")?ot.replace(/&/g,Qe):"".concat(Qe," ").concat(ot):ot},"")}var Hn=function(Qe,ot,bt){var rn=_n(bt),ti=rn.match(/:not\([^)]*\)/g)||[];ti.length>0&&ti.some(tn)&&lintWarning("Concat ':not' selector not support in legacy browsers.",bt)},dn=null,d=function(Qe,ot,bt){switch(Qe){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(Qe,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),bt);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof ot=="string"){var rn=ot.split(" ").map(function(Ln){return Ln.trim()});rn.length===4&&rn[1]!==rn[3]&&lintWarning("You seem to be using '".concat(Qe,"' property with different left ").concat(Qe," and right ").concat(Qe,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),bt)}return;case"clear":case"textAlign":(ot==="left"||ot==="right")&&lintWarning("You seem to be using non-logical value '".concat(ot,"' of ").concat(Qe,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),bt);return;case"borderRadius":if(typeof ot=="string"){var ti=ot.split("/").map(function(Ln){return Ln.trim()}),ni=ti.reduce(function(Ln,Ri){if(Ln)return Ln;var sn=Ri.split(" ").map(function(ar){return ar.trim()});return sn.length>=2&&sn[0]!==sn[1]||sn.length===3&&sn[1]!==sn[2]||sn.length===4&&sn[2]!==sn[3]?!0:Ln},!1);ni&&lintWarning("You seem to be using non-logical value '".concat(ot,"' of ").concat(Qe,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),bt)}return;default:}},y=null,E=function(Qe,ot,bt){(typeof ot=="string"&&/NaN/g.test(ot)||Number.isNaN(ot))&&lintWarning("Unexpected 'NaN' in property '".concat(Qe,": ").concat(ot,"'."),bt)},P=null,k=function(Qe,ot,bt){bt.parentSelectors.some(function(rn){var ti=rn.split(",");return ti.some(function(ni){return ni.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",bt)},N=null,K="data-ant-cssinjs-cache-path",_e="_FILE_STYLE__";function Ee(Ce){return Object.keys(Ce).map(function(Qe){var ot=Ce[Qe];return"".concat(Qe,":").concat(ot)}).join(";")}var it,Ht=!0;function gn(Ce){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;it=Ce,Ht=Qe}function Ut(){if(!it&&(it={},(0,Vt.Z)())){var Ce=document.createElement("div");Ce.className=K,Ce.style.position="fixed",Ce.style.visibility="hidden",Ce.style.top="-9999px",document.body.appendChild(Ce);var Qe=getComputedStyle(Ce).content||"";Qe=Qe.replace(/^"/,"").replace(/"$/,""),Qe.split(";").forEach(function(rn){var ti=rn.split(":"),ni=(0,W.Z)(ti,2),Ln=ni[0],Ri=ni[1];it[Ln]=Ri});var ot=document.querySelector("style[".concat(K,"]"));if(ot){var bt;Ht=!1,(bt=ot.parentNode)===null||bt===void 0||bt.removeChild(ot)}document.body.removeChild(Ce)}}function Bn(Ce){return Ut(),!!it[Ce]}function Si(Ce){var Qe=it[Ce],ot=null;if(Qe&&(0,Vt.Z)())if(Ht)ot=_e;else{var bt=document.querySelector("style[".concat(xt,'="').concat(it[Ce],'"]'));bt?ot=bt.innerHTML:delete it[Ce]}return[ot,Qe]}var _r="_skip_check_",Br="_multi_value_";function fo(Ce){var Qe=bs(Jo(Ce),Js);return Qe.replace(/\{%%%\:[^;];}/g,";")}function Qs(Ce){return(0,Fe.Z)(Ce)==="object"&&Ce&&(_r in Ce||Br in Ce)}function Ys(Ce,Qe,ot){if(!Qe)return Ce;var bt=".".concat(Qe),rn=ot==="low"?":where(".concat(bt,")"):bt,ti=Ce.split(",").map(function(ni){var Ln,Ri=ni.trim().split(/\s+/),sn=Ri[0]||"",ar=((Ln=sn.match(/^\w+/))===null||Ln===void 0?void 0:Ln[0])||"";return sn="".concat(ar).concat(rn).concat(sn.slice(ar.length)),[sn].concat((0,z.Z)(Ri.slice(1))).join(" ")});return ti.join(",")}var Ga=function Ce(Qe){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},rn=bt.root,ti=bt.injectHash,ni=bt.parentSelectors,Ln=ot.hashId,Ri=ot.layer,sn=ot.path,ar=ot.hashPriority,kr=ot.transformers,lr=kr===void 0?[]:kr,Ps=ot.linters,xe=Ps===void 0?[]:Ps,Ve="",At={};function Gt(jn){var Ii=jn.getName(Ln);if(!At[Ii]){var ui=Ce(jn.style,ot,{root:!1,parentSelectors:ni}),sr=(0,W.Z)(ui,1),Pr=sr[0];At[Ii]="@keyframes ".concat(jn.getName(Ln)).concat(Pr)}}function qt(jn){var Ii=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return jn.forEach(function(ui){Array.isArray(ui)?qt(ui,Ii):ui&&Ii.push(ui)}),Ii}var Vn=qt(Array.isArray(Qe)?Qe:[Qe]);return Vn.forEach(function(jn){var Ii=typeof jn=="string"&&!rn?{}:jn;if(typeof Ii=="string")Ve+="".concat(Ii,`
`);else if(Ii._keyframe)Gt(Ii);else{var ui=lr.reduce(function(sr,Pr){var Ki;return(Pr==null||(Ki=Pr.visit)===null||Ki===void 0?void 0:Ki.call(Pr,sr))||sr},Ii);Object.keys(ui).forEach(function(sr){var Pr=ui[sr];if((0,Fe.Z)(Pr)==="object"&&Pr&&(sr!=="animationName"||!Pr._keyframe)&&!Qs(Pr)){var Ki=!1,ps=sr.trim(),Ss=!1;(rn||ti)&&Ln?ps.startsWith("@")?Ki=!0:ps==="&"?ps=Ys("",Ln,ar):ps=Ys(sr,Ln,ar):rn&&!Ln&&(ps==="&"||ps==="")&&(ps="",Ss=!0);var Vo=Ce(Pr,ot,{root:Ss,injectHash:Ki,parentSelectors:[].concat((0,z.Z)(ni),[ps])}),Ea=(0,W.Z)(Vo,2),pa=Ea[0],$o=Ea[1];At=(0,ie.Z)((0,ie.Z)({},At),$o),Ve+="".concat(ps).concat(pa)}else{let jo=function(la,Ul){var cc=la.replace(/[A-Z]/g,function(uc){return"-".concat(uc.toLowerCase())}),El=Ul;!kn[la]&&typeof El=="number"&&El!==0&&(El="".concat(El,"px")),la==="animationName"&&Ul!==null&&Ul!==void 0&&Ul._keyframe&&(Gt(Ul),El=Ul.getName(Ln)),Ve+="".concat(cc,":").concat(El,";")};var ja,Il=(ja=Pr==null?void 0:Pr.value)!==null&&ja!==void 0?ja:Pr;(0,Fe.Z)(Pr)==="object"&&Pr!==null&&Pr!==void 0&&Pr[Br]&&Array.isArray(Il)?Il.forEach(function(la){jo(sr,la)}):jo(sr,Il)}})}}),rn?Ri&&(Ve&&(Ve="@layer ".concat(Ri.name," {").concat(Ve,"}")),Ri.dependencies&&(At["@layer ".concat(Ri.name)]=Ri.dependencies.map(function(jn){return"@layer ".concat(jn,", ").concat(Ri.name,";")}).join(`
`))):Ve="{".concat(Ve,"}"),[Ve,At]};function j(Ce,Qe){return se("".concat(Ce.join("%")).concat(Qe))}function we(){return null}var Je="style";function ht(Ce,Qe){var ot=Ce.token,bt=Ce.path,rn=Ce.hashId,ti=Ce.layer,ni=Ce.nonce,Ln=Ce.clientOnly,Ri=Ce.order,sn=Ri===void 0?0:Ri,ar=oe.useContext(He),kr=ar.autoClear,lr=ar.mock,Ps=ar.defaultCache,xe=ar.hashPriority,Ve=ar.container,At=ar.ssrInline,Gt=ar.transformers,qt=ar.linters,Vn=ar.cache,jn=ar.layer,Ii=ot._tokenKey,ui=[Ii];jn&&ui.push("layer"),ui.push.apply(ui,(0,z.Z)(bt));var sr=Er,Pr=Tt(Je,ui,function(){var Ea=ui.join("|");if(Bn(Ea)){var pa=Si(Ea),$o=(0,W.Z)(pa,2),ja=$o[0],Il=$o[1];if(ja)return[ja,Ii,Il,{},Ln,sn]}var jo=Qe(),la=Ga(jo,{hashId:rn,hashPriority:xe,layer:jn?ti:void 0,path:bt.join("-"),transformers:Gt,linters:qt}),Ul=(0,W.Z)(la,2),cc=Ul[0],El=Ul[1],uc=fo(cc),yl=j(ui,uc);return[uc,Ii,yl,El,Ln,sn]},function(Ea,pa){var $o=(0,W.Z)(Ea,3),ja=$o[2];(pa||kr)&&Er&&(0,J.jL)(ja,{mark:xt})},function(Ea){var pa=(0,W.Z)(Ea,4),$o=pa[0],ja=pa[1],Il=pa[2],jo=pa[3];if(sr&&$o!==_e){var la={mark:xt,prepend:jn?!1:"queue",attachTo:Ve,priority:sn},Ul=typeof ni=="function"?ni():ni;Ul&&(la.csp={nonce:Ul});var cc=[],El=[];Object.keys(jo).forEach(function(yl){yl.startsWith("@layer")?cc.push(yl):El.push(yl)}),cc.forEach(function(yl){(0,J.hq)(fo(jo[yl]),"_layer-".concat(yl),(0,ie.Z)((0,ie.Z)({},la),{},{prepend:!0}))});var uc=(0,J.hq)($o,Il,la);uc[re]=Vn.instanceId,uc.setAttribute(ee,Ii),El.forEach(function(yl){(0,J.hq)(fo(jo[yl]),"_effect-".concat(yl),la)})}}),Ki=(0,W.Z)(Pr,3),ps=Ki[0],Ss=Ki[1],Vo=Ki[2];return function(Ea){var pa;if(!At||sr||!Ps)pa=oe.createElement(we,null);else{var $o;pa=oe.createElement("style",(0,Tr.Z)({},($o={},(0,a.Z)($o,ee,Ss),(0,a.Z)($o,xt,Vo),$o),{dangerouslySetInnerHTML:{__html:ps}}))}return oe.createElement(oe.Fragment,null,pa,Ea)}}var Ft=function(Qe,ot,bt){var rn=(0,W.Z)(Qe,6),ti=rn[0],ni=rn[1],Ln=rn[2],Ri=rn[3],sn=rn[4],ar=rn[5],kr=bt||{},lr=kr.plain;if(sn)return null;var Ps=ti,xe={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ar)};return Ps=er(ti,ni,Ln,xe,lr),Ri&&Object.keys(Ri).forEach(function(Ve){if(!ot[Ve]){ot[Ve]=!0;var At=fo(Ri[Ve]),Gt=er(At,ni,"_effect-".concat(Ve),xe,lr);Ve.startsWith("@layer")?Ps=Gt+Ps:Ps+=Gt}}),[ar,Ln,Ps]},Ti="cssVar",Ji=function(Qe,ot){var bt=Qe.key,rn=Qe.prefix,ti=Qe.unitless,ni=Qe.ignore,Ln=Qe.token,Ri=Qe.scope,sn=Ri===void 0?"":Ri,ar=(0,oe.useContext)(He),kr=ar.cache.instanceId,lr=ar.container,Ps=Ln._tokenKey,xe=[].concat((0,z.Z)(Qe.path),[bt,sn,Ps]),Ve=Tt(Ti,xe,function(){var At=ot(),Gt=vn(At,bt,{prefix:rn,unitless:ti,ignore:ni,scope:sn}),qt=(0,W.Z)(Gt,2),Vn=qt[0],jn=qt[1],Ii=j(xe,jn);return[Vn,jn,Ii,bt]},function(At){var Gt=(0,W.Z)(At,3),qt=Gt[2];Er&&(0,J.jL)(qt,{mark:xt})},function(At){var Gt=(0,W.Z)(At,3),qt=Gt[1],Vn=Gt[2];if(qt){var jn=(0,J.hq)(qt,Vn,{mark:xt,prepend:"queue",attachTo:lr,priority:-999});jn[re]=kr,jn.setAttribute(ee,bt)}});return Ve},yi=function(Qe,ot,bt){var rn=(0,W.Z)(Qe,4),ti=rn[1],ni=rn[2],Ln=rn[3],Ri=bt||{},sn=Ri.plain;if(!ti)return null;var ar=-999,kr={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ar)},lr=er(ti,Ln,ni,kr,sn);return[ar,ni,lr]},yn=Ji,rr,Jn=(rr={},(0,a.Z)(rr,Je,Ft),(0,a.Z)(rr,Cr,Lr),(0,a.Z)(rr,Ti,yi),rr);function Yi(Ce){return Ce!==null}function Ar(Ce,Qe){var ot=typeof Qe=="boolean"?{plain:Qe}:Qe||{},bt=ot.plain,rn=bt===void 0?!1:bt,ti=ot.types,ni=ti===void 0?["style","token","cssVar"]:ti,Ln=new RegExp("^(".concat((typeof ni=="string"?[ni]:ni).join("|"),")%")),Ri=Array.from(Ce.cache.keys()).filter(function(lr){return Ln.test(lr)}),sn={},ar={},kr="";return Ri.map(function(lr){var Ps=lr.replace(Ln,"").replace(/%/g,"|"),xe=lr.split("%"),Ve=_slicedToArray(xe,1),At=Ve[0],Gt=Jn[At],qt=Gt(Ce.cache.get(lr)[1],sn,{plain:rn});if(!qt)return null;var Vn=_slicedToArray(qt,3),jn=Vn[0],Ii=Vn[1],ui=Vn[2];return lr.startsWith("style")&&(ar[Ps]=Ii),[jn,ui]}).filter(Yi).sort(function(lr,Ps){var xe=_slicedToArray(lr,1),Ve=xe[0],At=_slicedToArray(Ps,1),Gt=At[0];return Ve-Gt}).forEach(function(lr){var Ps=_slicedToArray(lr,2),xe=Ps[1];kr+=xe}),kr+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(ar),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),rn),kr}var Di=function(){function Ce(Qe,ot){(0,Be.Z)(this,Ce),(0,a.Z)(this,"name",void 0),(0,a.Z)(this,"style",void 0),(0,a.Z)(this,"_keyframe",!0),this.name=Qe,this.style=ot}return(0,ye.Z)(Ce,[{key:"getName",value:function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ot?"".concat(ot,"-").concat(this.name):this.name}}]),Ce}(),Ms=Di;function Ws(Ce){if(typeof Ce=="number")return[[Ce],!1];var Qe=String(Ce).trim(),ot=Qe.match(/(.*)(!important)/),bt=(ot?ot[1]:Qe).trim().split(/\s+/),rn=[],ti=0;return[bt.reduce(function(ni,Ln){if(Ln.includes("(")||Ln.includes(")")){var Ri=Ln.split("(").length-1,sn=Ln.split(")").length-1;ti+=Ri-sn}return ti>=0&&rn.push(Ln),ti===0&&(ni.push(rn.join(" ")),rn=[]),ni},[]),!!ot]}function as(Ce){return Ce.notSplit=!0,Ce}var eo={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:as(["borderTop","borderBottom"]),borderBlockStart:as(["borderTop"]),borderBlockEnd:as(["borderBottom"]),borderInline:as(["borderLeft","borderRight"]),borderInlineStart:as(["borderLeft"]),borderInlineEnd:as(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function pr(Ce,Qe){var ot=Ce;return Qe&&(ot="".concat(ot," !important")),{_skip_check_:!0,value:ot}}var go={visit:function(Qe){var ot={};return Object.keys(Qe).forEach(function(bt){var rn=Qe[bt],ti=eo[bt];if(ti&&(typeof rn=="number"||typeof rn=="string")){var ni=Ws(rn),Ln=(0,W.Z)(ni,2),Ri=Ln[0],sn=Ln[1];ti.length&&ti.notSplit?ti.forEach(function(ar){ot[ar]=pr(rn,sn)}):ti.length===1?ot[ti[0]]=pr(Ri[0],sn):ti.length===2?ti.forEach(function(ar,kr){var lr;ot[ar]=pr((lr=Ri[kr])!==null&&lr!==void 0?lr:Ri[0],sn)}):ti.length===4?ti.forEach(function(ar,kr){var lr,Ps;ot[ar]=pr((lr=(Ps=Ri[kr])!==null&&Ps!==void 0?Ps:Ri[kr-2])!==null&&lr!==void 0?lr:Ri[0],sn)}):ot[bt]=rn}else ot[bt]=rn}),ot}},Ro=null,Qo=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function ea(Ce,Qe){var ot=Math.pow(10,Qe+1),bt=Math.floor(Ce*ot);return Math.round(bt/10)*10/ot}var Oa=function(){var Qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot=Qe.rootValue,bt=ot===void 0?16:ot,rn=Qe.precision,ti=rn===void 0?5:rn,ni=Qe.mediaQuery,Ln=ni===void 0?!1:ni,Ri=function(kr,lr){if(!lr)return kr;var Ps=parseFloat(lr);if(Ps<=1)return kr;var xe=ea(Ps/bt,ti);return"".concat(xe,"rem")},sn=function(kr){var lr=_objectSpread({},kr);return Object.entries(kr).forEach(function(Ps){var xe=_slicedToArray(Ps,2),Ve=xe[0],At=xe[1];if(typeof At=="string"&&At.includes("px")){var Gt=At.replace(Qo,Ri);lr[Ve]=Gt}!unitless[Ve]&&typeof At=="number"&&At!==0&&(lr[Ve]="".concat(At,"px").replace(Qo,Ri));var qt=Ve.trim();if(qt.startsWith("@")&&qt.includes("px")&&Ln){var Vn=Ve.replace(Qo,Ri);lr[Vn]=lr[Ve],delete lr[Ve]}}),lr};return{visit:sn}},vl=null,Sl={supportModernCSS:function(){return di()&&vr()}}},84432:function(ji,It,M){"use strict";M.d(It,{t:function(){return se}});var a=M(65213);const W=Math.round;function z(J,oe){const fe=J.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],Me=fe.map(tt=>parseFloat(tt));for(let tt=0;tt<3;tt+=1)Me[tt]=oe(Me[tt]||0,fe[tt]||"",tt);return fe[3]?Me[3]=fe[3].includes("%")?Me[3]/100:Me[3]:Me[3]=1,Me}const ie=(J,oe,fe)=>fe===0?J:J/100;function Pe(J,oe){const fe=oe||255;return J>fe?fe:J<0?0:J}class se{constructor(oe){(0,a.Z)(this,"isValid",!0),(0,a.Z)(this,"r",0),(0,a.Z)(this,"g",0),(0,a.Z)(this,"b",0),(0,a.Z)(this,"a",1),(0,a.Z)(this,"_h",void 0),(0,a.Z)(this,"_s",void 0),(0,a.Z)(this,"_l",void 0),(0,a.Z)(this,"_v",void 0),(0,a.Z)(this,"_max",void 0),(0,a.Z)(this,"_min",void 0),(0,a.Z)(this,"_brightness",void 0);function fe(Me){return Me[0]in oe&&Me[1]in oe&&Me[2]in oe}if(oe)if(typeof oe=="string"){let tt=function(Be){return Me.startsWith(Be)};const Me=oe.trim();/^#?[A-F\d]{3,8}$/i.test(Me)?this.fromHexString(Me):tt("rgb")?this.fromRgbString(Me):tt("hsl")?this.fromHslString(Me):(tt("hsv")||tt("hsb"))&&this.fromHsvString(Me)}else if(oe instanceof se)this.r=oe.r,this.g=oe.g,this.b=oe.b,this.a=oe.a,this._h=oe._h,this._s=oe._s,this._l=oe._l,this._v=oe._v;else if(fe("rgb"))this.r=Pe(oe.r),this.g=Pe(oe.g),this.b=Pe(oe.b),this.a=typeof oe.a=="number"?Pe(oe.a,1):1;else if(fe("hsl"))this.fromHsl(oe);else if(fe("hsv"))this.fromHsv(oe);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(oe))}setR(oe){return this._sc("r",oe)}setG(oe){return this._sc("g",oe)}setB(oe){return this._sc("b",oe)}setA(oe){return this._sc("a",oe,1)}setHue(oe){const fe=this.toHsv();return fe.h=oe,this._c(fe)}getLuminance(){function oe(Be){const ye=Be/255;return ye<=.03928?ye/12.92:Math.pow((ye+.055)/1.055,2.4)}const fe=oe(this.r),Me=oe(this.g),tt=oe(this.b);return .2126*fe+.7152*Me+.0722*tt}getHue(){if(typeof this._h=="undefined"){const oe=this.getMax()-this.getMin();oe===0?this._h=0:this._h=W(60*(this.r===this.getMax()?(this.g-this.b)/oe+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/oe+2:(this.r-this.g)/oe+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const oe=this.getMax()-this.getMin();oe===0?this._s=0:this._s=oe/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(oe=10){const fe=this.getHue(),Me=this.getSaturation();let tt=this.getLightness()-oe/100;return tt<0&&(tt=0),this._c({h:fe,s:Me,l:tt,a:this.a})}lighten(oe=10){const fe=this.getHue(),Me=this.getSaturation();let tt=this.getLightness()+oe/100;return tt>1&&(tt=1),this._c({h:fe,s:Me,l:tt,a:this.a})}mix(oe,fe=50){const Me=this._c(oe),tt=fe/100,Be=$t=>(Me[$t]-this[$t])*tt+this[$t],ye={r:W(Be("r")),g:W(Be("g")),b:W(Be("b")),a:W(Be("a")*100)/100};return this._c(ye)}tint(oe=10){return this.mix({r:255,g:255,b:255,a:1},oe)}shade(oe=10){return this.mix({r:0,g:0,b:0,a:1},oe)}onBackground(oe){const fe=this._c(oe),Me=this.a+fe.a*(1-this.a),tt=Be=>W((this[Be]*this.a+fe[Be]*fe.a*(1-this.a))/Me);return this._c({r:tt("r"),g:tt("g"),b:tt("b"),a:Me})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(oe){return this.r===oe.r&&this.g===oe.g&&this.b===oe.b&&this.a===oe.a}clone(){return this._c(this)}toHexString(){let oe="#";const fe=(this.r||0).toString(16);oe+=fe.length===2?fe:"0"+fe;const Me=(this.g||0).toString(16);oe+=Me.length===2?Me:"0"+Me;const tt=(this.b||0).toString(16);if(oe+=tt.length===2?tt:"0"+tt,typeof this.a=="number"&&this.a>=0&&this.a<1){const Be=W(this.a*255).toString(16);oe+=Be.length===2?Be:"0"+Be}return oe}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const oe=this.getHue(),fe=W(this.getSaturation()*100),Me=W(this.getLightness()*100);return this.a!==1?`hsla(${oe},${fe}%,${Me}%,${this.a})`:`hsl(${oe},${fe}%,${Me}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(oe,fe,Me){const tt=this.clone();return tt[oe]=Pe(fe,Me),tt}_c(oe){return new this.constructor(oe)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(oe){const fe=oe.replace("#","");function Me(tt,Be){return parseInt(fe[tt]+fe[Be||tt],16)}fe.length<6?(this.r=Me(0),this.g=Me(1),this.b=Me(2),this.a=fe[3]?Me(3)/255:1):(this.r=Me(0,1),this.g=Me(2,3),this.b=Me(4,5),this.a=fe[6]?Me(6,7)/255:1)}fromHsl({h:oe,s:fe,l:Me,a:tt}){if(this._h=oe%360,this._s=fe,this._l=Me,this.a=typeof tt=="number"?tt:1,fe<=0){const ee=W(Me*255);this.r=ee,this.g=ee,this.b=ee}let Be=0,ye=0,$t=0;const qe=oe/60,Ye=(1-Math.abs(2*Me-1))*fe,vt=Ye*(1-Math.abs(qe%2-1));qe>=0&&qe<1?(Be=Ye,ye=vt):qe>=1&&qe<2?(Be=vt,ye=Ye):qe>=2&&qe<3?(ye=Ye,$t=vt):qe>=3&&qe<4?(ye=vt,$t=Ye):qe>=4&&qe<5?(Be=vt,$t=Ye):qe>=5&&qe<6&&(Be=Ye,$t=vt);const Oe=Me-Ye/2;this.r=W((Be+Oe)*255),this.g=W((ye+Oe)*255),this.b=W(($t+Oe)*255)}fromHsv({h:oe,s:fe,v:Me,a:tt}){this._h=oe%360,this._s=fe,this._v=Me,this.a=typeof tt=="number"?tt:1;const Be=W(Me*255);if(this.r=Be,this.g=Be,this.b=Be,fe<=0)return;const ye=oe/60,$t=Math.floor(ye),qe=ye-$t,Ye=W(Me*(1-fe)*255),vt=W(Me*(1-fe*qe)*255),Oe=W(Me*(1-fe*(1-qe))*255);switch($t){case 0:this.g=Oe,this.b=Ye;break;case 1:this.r=vt,this.b=Ye;break;case 2:this.r=Ye,this.b=Oe;break;case 3:this.r=Ye,this.g=vt;break;case 4:this.r=Oe,this.g=Ye;break;case 5:default:this.g=Ye,this.b=vt;break}}fromHsvString(oe){const fe=z(oe,ie);this.fromHsv({h:fe[0],s:fe[1],v:fe[2],a:fe[3]})}fromHslString(oe){const fe=z(oe,ie);this.fromHsl({h:fe[0],s:fe[1],l:fe[2],a:fe[3]})}fromRgbString(oe){const fe=z(oe,(Me,tt)=>tt.includes("%")?W(Me/100*255):Me);this.r=fe[0],this.g=fe[1],this.b=fe[2],this.a=fe[3]}}},55969:function(ji,It,M){"use strict";M.d(It,{Z:function(){return Ct}});var a=M(52003),W=M(75611),z=M(65213),ie=M(99960),Pe=M(75271),se=M(82187),J=M.n(se),oe=M(68640),fe=M(23379),Me=M(99426),tt=M(74826),Be=M(77274),ye=M(24395),$t=M(69287);function qe(Le){return Le.replace(/-(.)/g,function(st,zt){return zt.toUpperCase()})}function Ye(Le,st){(0,$t.ZP)(Le,"[@ant-design/icons] ".concat(st))}function vt(Le){return(0,tt.Z)(Le)==="object"&&typeof Le.name=="string"&&typeof Le.theme=="string"&&((0,tt.Z)(Le.icon)==="object"||typeof Le.icon=="function")}function Oe(){var Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(Le).reduce(function(st,zt){var Yt=Le[zt];switch(zt){case"class":st.className=Yt,delete st.class;break;default:delete st[zt],st[qe(zt)]=Yt}return st},{})}function ee(Le,st,zt){return zt?Pe.createElement(Le.tag,(0,Me.Z)((0,Me.Z)({key:st},Oe(Le.attrs)),zt),(Le.children||[]).map(function(Yt,xn){return ee(Yt,"".concat(st,"-").concat(Le.tag,"-").concat(xn))})):Pe.createElement(Le.tag,(0,Me.Z)({key:st},Oe(Le.attrs)),(Le.children||[]).map(function(Yt,xn){return ee(Yt,"".concat(st,"-").concat(Le.tag,"-").concat(xn))}))}function xt(Le){return(0,oe.R_)(Le)[0]}function de(Le){return Le?Array.isArray(Le)?Le:[Le]:[]}var re={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Rt=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,T=function(st){var zt=(0,Pe.useContext)(fe.Z),Yt=zt.csp,xn=zt.prefixCls,Zn=zt.layer,Yn=Rt;xn&&(Yn=Yn.replace(/anticon/g,xn)),Zn&&(Yn="@layer ".concat(Zn,` {
`).concat(Yn,`
}`)),(0,Pe.useEffect)(function(){var Fn=st.current,si=(0,ye.A)(Fn);(0,Be.hq)(Yn,"@ant-design-icons",{prepend:!Zn,csp:Yt,attachTo:si})},[])},Bt=["icon","className","onClick","style","primaryColor","secondaryColor"],He={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Fe(Le){var st=Le.primaryColor,zt=Le.secondaryColor;He.primaryColor=st,He.secondaryColor=zt||xt(st),He.calculated=!!zt}function Vt(){return(0,Me.Z)({},He)}var _t=function(st){var zt=st.icon,Yt=st.className,xn=st.onClick,Zn=st.style,Yn=st.primaryColor,Fn=st.secondaryColor,si=(0,ie.Z)(st,Bt),qi=Pe.useRef(),li=He;if(Yn&&(li={primaryColor:Yn,secondaryColor:Fn||xt(Yn)}),T(qi),Ye(vt(zt),"icon should be icon definiton, but got ".concat(zt)),!vt(zt))return null;var fi=zt;return fi&&typeof fi.icon=="function"&&(fi=(0,Me.Z)((0,Me.Z)({},fi),{},{icon:fi.icon(li.primaryColor,li.secondaryColor)})),ee(fi.icon,"svg-".concat(fi.name),(0,Me.Z)((0,Me.Z)({className:Yt,onClick:xn,style:Zn,"data-icon":fi.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},si),{},{ref:qi}))};_t.displayName="IconReact",_t.getTwoToneColors=Vt,_t.setTwoToneColors=Fe;var et=_t;function Kt(Le){var st=de(Le),zt=(0,W.Z)(st,2),Yt=zt[0],xn=zt[1];return et.setTwoToneColors({primaryColor:Yt,secondaryColor:xn})}function wt(){var Le=et.getTwoToneColors();return Le.calculated?[Le.primaryColor,Le.secondaryColor]:Le.primaryColor}var pt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Kt(oe.iN.primary);var je=Pe.forwardRef(function(Le,st){var zt=Le.className,Yt=Le.icon,xn=Le.spin,Zn=Le.rotate,Yn=Le.tabIndex,Fn=Le.onClick,si=Le.twoToneColor,qi=(0,ie.Z)(Le,pt),li=Pe.useContext(fe.Z),fi=li.prefixCls,Oi=fi===void 0?"anticon":fi,Ei=li.rootClassName,Xt=J()(Ei,Oi,(0,z.Z)((0,z.Z)({},"".concat(Oi,"-").concat(Yt.name),!!Yt.name),"".concat(Oi,"-spin"),!!xn||Yt.name==="loading"),zt),rt=Yn;rt===void 0&&Fn&&(rt=-1);var Pt=Zn?{msTransform:"rotate(".concat(Zn,"deg)"),transform:"rotate(".concat(Zn,"deg)")}:void 0,bn=de(si),di=(0,W.Z)(bn,2),en=di[0],vr=di[1];return Pe.createElement("span",(0,a.Z)({role:"img","aria-label":Yt.name},qi,{ref:st,tabIndex:rt,onClick:Fn,className:Xt}),Pe.createElement(et,{icon:Yt,primaryColor:en,secondaryColor:vr,style:Pt}))});je.displayName="AntdIcon",je.getTwoToneColor=wt,je.setTwoToneColor=Kt;var Ct=je},23379:function(ji,It,M){"use strict";var a=M(75271),W=(0,a.createContext)({});It.Z=W},33487:function(ji,It,M){"use strict";M.d(It,{Z:function(){return oe}});var a=M(52003),W=M(75271),z={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},ie=z,Pe=M(55969),se=function(Me,tt){return W.createElement(Pe.Z,(0,a.Z)({},Me,{ref:tt,icon:ie}))},J=W.forwardRef(se),oe=J},15409:function(ji,It,M){"use strict";M.d(It,{Z:function(){return oe}});var a=M(52003),W=M(75271),z={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},ie=z,Pe=M(55969),se=function(Me,tt){return W.createElement(Pe.Z,(0,a.Z)({},Me,{ref:tt,icon:ie}))},J=W.forwardRef(se),oe=J},83843:function(ji,It,M){"use strict";M.d(It,{Z:function(){return oe}});var a=M(52003),W=M(75271),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},ie=z,Pe=M(55969),se=function(Me,tt){return W.createElement(Pe.Z,(0,a.Z)({},Me,{ref:tt,icon:ie}))},J=W.forwardRef(se),oe=J},79312:function(ji,It,M){"use strict";M.d(It,{Z:function(){return oe}});var a=M(52003),W=M(75271),z={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ie=z,Pe=M(55969),se=function(Me,tt){return W.createElement(Pe.Z,(0,a.Z)({},Me,{ref:tt,icon:ie}))},J=W.forwardRef(se),oe=J},67618:function(ji,It,M){"use strict";M.d(It,{Z:function(){return oe}});var a=M(52003),W=M(75271),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},ie=z,Pe=M(55969),se=function(Me,tt){return W.createElement(Pe.Z,(0,a.Z)({},Me,{ref:tt,icon:ie}))},J=W.forwardRef(se),oe=J},88468:function(ji,It,M){"use strict";M.d(It,{Z:function(){return Ye}});var a=M(52003),W=M(9831),z=M(25283),ie=M(93900),Pe=M(52888),se=M(75271),J=M(36154),oe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fe=(0,J.Z)(function(vt){return oe.test(vt)||vt.charCodeAt(0)===111&&vt.charCodeAt(1)===110&&vt.charCodeAt(2)<91}),Me=!1,tt=fe,Be=function(Oe){return Oe!=="theme"},ye=function(Oe){return typeof Oe=="string"&&Oe.charCodeAt(0)>96?tt:Be},$t=function(Oe,ee,xt){var de;if(ee){var re=ee.shouldForwardProp;de=Oe.__emotion_forwardProp&&re?function(Rt){return Oe.__emotion_forwardProp(Rt)&&re(Rt)}:re}return typeof de!="function"&&xt&&(de=Oe.__emotion_forwardProp),de},qe=function(Oe){var ee=Oe.cache,xt=Oe.serialized,de=Oe.isStringTag;return(0,Pe.hC)(ee,xt,de),(0,ie.L)(function(){return(0,Pe.My)(ee,xt,de)}),null},Ye=function vt(Oe,ee){var xt=Oe.__emotion_real===Oe,de=xt&&Oe.__emotion_base||Oe,re,Rt;ee!==void 0&&(re=ee.label,Rt=ee.target);var T=$t(Oe,ee,xt),Bt=T||ye(de),He=!Bt("as");return function(){var Fe=arguments,Vt=xt&&Oe.__emotion_styles!==void 0?Oe.__emotion_styles.slice(0):[];if(re!==void 0&&Vt.push("label:"+re+";"),Fe[0]==null||Fe[0].raw===void 0)Vt.push.apply(Vt,Fe);else{var _t=Fe[0];Vt.push(_t[0]);for(var et=Fe.length,Kt=1;Kt<et;Kt++)Vt.push(Fe[Kt],_t[Kt])}var wt=(0,W.w)(function(pt,je,Ct){var Le=He&&pt.as||de,st="",zt=[],Yt=pt;if(pt.theme==null){Yt={};for(var xn in pt)Yt[xn]=pt[xn];Yt.theme=se.useContext(W.T)}typeof pt.className=="string"?st=(0,Pe.fp)(je.registered,zt,pt.className):pt.className!=null&&(st=pt.className+" ");var Zn=(0,z.O)(Vt.concat(zt),je.registered,Yt);st+=je.key+"-"+Zn.name,Rt!==void 0&&(st+=" "+Rt);var Yn=He&&T===void 0?ye(Le):Bt,Fn={};for(var si in pt)He&&si==="as"||Yn(si)&&(Fn[si]=pt[si]);return Fn.className=st,Ct&&(Fn.ref=Ct),se.createElement(se.Fragment,null,se.createElement(qe,{cache:je,serialized:Zn,isStringTag:typeof Le=="string"}),se.createElement(Le,Fn))});return wt.displayName=re!==void 0?re:"Styled("+(typeof de=="string"?de:de.displayName||de.name||"Component")+")",wt.defaultProps=Oe.defaultProps,wt.__emotion_real=wt,wt.__emotion_base=de,wt.__emotion_styles=Vt,wt.__emotion_forwardProp=T,Object.defineProperty(wt,"toString",{value:function(){return Rt===void 0&&Me?"NO_COMPONENT_SELECTOR":"."+Rt}}),wt.withComponent=function(pt,je){var Ct=vt(pt,(0,a.Z)({},ee,je,{shouldForwardProp:$t(wt,je,!0)}));return Ct.apply(void 0,Vt)},wt}}},51651:function(ji,It,M){"use strict";M.d(It,{Il:function(){return vt},G5:function(){return He},ZP:function(){return Ei}});var a=M(52003),W=M(65213),z=M(75611),ie=M(75271),Pe=M(99426),se=M(34706),J=M(89364),oe=M(16013),fe=M(41936),Me=M(99960),tt=M(74826),Be=M(84432),ye=["b"],$t=["v"],qe=function(rt){return Math.round(Number(rt||0))},Ye=function(rt){if(rt instanceof Be.t)return rt;if(rt&&(0,tt.Z)(rt)==="object"&&"h"in rt&&"b"in rt){var Pt=rt,bn=Pt.b,di=(0,Me.Z)(Pt,ye);return(0,Pe.Z)((0,Pe.Z)({},di),{},{v:bn})}return typeof rt=="string"&&/hsb/.test(rt)?rt.replace(/hsb/,"hsv"):rt},vt=function(Xt){(0,oe.Z)(Pt,Xt);var rt=(0,fe.Z)(Pt);function Pt(bn){return(0,se.Z)(this,Pt),rt.call(this,Ye(bn))}return(0,J.Z)(Pt,[{key:"toHsbString",value:function(){var di=this.toHsb(),en=qe(di.s*100),vr=qe(di.b*100),Er=qe(di.h),tr=di.a,er="hsb(".concat(Er,", ").concat(en,"%, ").concat(vr,"%)"),Ui="hsba(".concat(Er,", ").concat(en,"%, ").concat(vr,"%, ").concat(tr.toFixed(tr===0?0:2),")");return tr===1?er:Ui}},{key:"toHsb",value:function(){var di=this.toHsv(),en=di.v,vr=(0,Me.Z)(di,$t);return(0,Pe.Z)((0,Pe.Z)({},vr),{},{b:en,a:this.a})}}]),Pt}(Be.t),Oe="rc-color-picker",ee=function(rt){return rt instanceof vt?rt:new vt(rt)},xt=ee("#1677ff"),de=function(rt){var Pt=rt.offset,bn=rt.targetRef,di=rt.containerRef,en=rt.color,vr=rt.type,Er=di.current.getBoundingClientRect(),tr=Er.width,er=Er.height,Ui=bn.current.getBoundingClientRect(),Et=Ui.width,vn=Ui.height,Mn=Et/2,gi=vn/2,$i=(Pt.x+Mn)/tr,hr=1-(Pt.y+gi)/er,Es=en.toHsb(),vi=$i,Ot=(Pt.x+Mn)/tr*360;if(vr)switch(vr){case"hue":return ee((0,Pe.Z)((0,Pe.Z)({},Es),{},{h:Ot<=0?0:Ot}));case"alpha":return ee((0,Pe.Z)((0,Pe.Z)({},Es),{},{a:vi<=0?0:vi}))}return ee({h:Es.h,s:$i<=0?0:$i,b:hr>=1?1:hr,a:Es.a})},re=function(rt,Pt){var bn=rt.toHsb();switch(Pt){case"hue":return{x:bn.h/360*100,y:50};case"alpha":return{x:rt.a*100,y:50};default:return{x:bn.s*100,y:(1-bn.b)*100}}},Rt=M(82187),T=M.n(Rt),Bt=function(rt){var Pt=rt.color,bn=rt.prefixCls,di=rt.className,en=rt.style,vr=rt.onClick,Er="".concat(bn,"-color-block");return ie.createElement("div",{className:T()(Er,di),style:en,onClick:vr},ie.createElement("div",{className:"".concat(Er,"-inner"),style:{background:Pt}}))},He=Bt;function Fe(Xt){var rt="touches"in Xt?Xt.touches[0]:Xt,Pt=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,bn=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:rt.pageX-Pt,pageY:rt.pageY-bn}}function Vt(Xt){var rt=Xt.targetRef,Pt=Xt.containerRef,bn=Xt.direction,di=Xt.onDragChange,en=Xt.onDragChangeComplete,vr=Xt.calculate,Er=Xt.color,tr=Xt.disabledDrag,er=(0,ie.useState)({x:0,y:0}),Ui=(0,z.Z)(er,2),Et=Ui[0],vn=Ui[1],Mn=(0,ie.useRef)(null),gi=(0,ie.useRef)(null);(0,ie.useEffect)(function(){vn(vr())},[Er]),(0,ie.useEffect)(function(){return function(){document.removeEventListener("mousemove",Mn.current),document.removeEventListener("mouseup",gi.current),document.removeEventListener("touchmove",Mn.current),document.removeEventListener("touchend",gi.current),Mn.current=null,gi.current=null}},[]);var $i=function(kt){var cn=Fe(kt),pi=cn.pageX,nr=cn.pageY,mi=Pt.current.getBoundingClientRect(),Zi=mi.x,$n=mi.y,bi=mi.width,Sr=mi.height,Ir=rt.current.getBoundingClientRect(),Z=Ir.width,Tt=Ir.height,Tn=Z/2,ve=Tt/2,Ae=Math.max(0,Math.min(pi-Zi,bi))-Tn,nt=Math.max(0,Math.min(nr-$n,Sr))-ve,fn={x:Ae,y:bn==="x"?Et.y:nt};if(Z===0&&Tt===0||Z!==Tt)return!1;di==null||di(fn)},hr=function(kt){kt.preventDefault(),$i(kt)},Es=function(kt){kt.preventDefault(),document.removeEventListener("mousemove",Mn.current),document.removeEventListener("mouseup",gi.current),document.removeEventListener("touchmove",Mn.current),document.removeEventListener("touchend",gi.current),Mn.current=null,gi.current=null,en==null||en()},vi=function(kt){document.removeEventListener("mousemove",Mn.current),document.removeEventListener("mouseup",gi.current),!tr&&($i(kt),document.addEventListener("mousemove",hr),document.addEventListener("mouseup",Es),document.addEventListener("touchmove",hr),document.addEventListener("touchend",Es),Mn.current=hr,gi.current=Es)};return[Et,vi]}var _t=Vt,et=M(88030),Kt=function(rt){var Pt=rt.size,bn=Pt===void 0?"default":Pt,di=rt.color,en=rt.prefixCls;return ie.createElement("div",{className:T()("".concat(en,"-handler"),(0,W.Z)({},"".concat(en,"-handler-sm"),bn==="small")),style:{backgroundColor:di}})},wt=Kt,pt=function(rt){var Pt=rt.children,bn=rt.style,di=rt.prefixCls;return ie.createElement("div",{className:"".concat(di,"-palette"),style:(0,Pe.Z)({position:"relative"},bn)},Pt)},je=pt,Ct=(0,ie.forwardRef)(function(Xt,rt){var Pt=Xt.children,bn=Xt.x,di=Xt.y;return ie.createElement("div",{ref:rt,style:{position:"absolute",left:"".concat(bn,"%"),top:"".concat(di,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},Pt)}),Le=Ct,st=function(rt){var Pt=rt.color,bn=rt.onChange,di=rt.prefixCls,en=rt.onChangeComplete,vr=rt.disabled,Er=(0,ie.useRef)(),tr=(0,ie.useRef)(),er=(0,ie.useRef)(Pt),Ui=(0,et.zX)(function($i){var hr=de({offset:$i,targetRef:tr,containerRef:Er,color:Pt});er.current=hr,bn(hr)}),Et=_t({color:Pt,containerRef:Er,targetRef:tr,calculate:function(){return re(Pt)},onDragChange:Ui,onDragChangeComplete:function(){return en==null?void 0:en(er.current)},disabledDrag:vr}),vn=(0,z.Z)(Et,2),Mn=vn[0],gi=vn[1];return ie.createElement("div",{ref:Er,className:"".concat(di,"-select"),onMouseDown:gi,onTouchStart:gi},ie.createElement(je,{prefixCls:di},ie.createElement(Le,{x:Mn.x,y:Mn.y,ref:tr},ie.createElement(wt,{color:Pt.toRgbString(),prefixCls:di})),ie.createElement("div",{className:"".concat(di,"-saturation"),style:{backgroundColor:"hsl(".concat(Pt.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},zt=st,Yt=function(rt,Pt){var bn=(0,et.C8)(rt,{value:Pt}),di=(0,z.Z)(bn,2),en=di[0],vr=di[1],Er=(0,ie.useMemo)(function(){return ee(en)},[en]);return[Er,vr]},xn=Yt,Zn=function(rt){var Pt=rt.colors,bn=rt.children,di=rt.direction,en=di===void 0?"to right":di,vr=rt.type,Er=rt.prefixCls,tr=(0,ie.useMemo)(function(){return Pt.map(function(er,Ui){var Et=ee(er);return vr==="alpha"&&Ui===Pt.length-1&&(Et=new vt(Et.setA(1))),Et.toRgbString()}).join(",")},[Pt,vr]);return ie.createElement("div",{className:"".concat(Er,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(en,", ").concat(tr,")")}},bn)},Yn=Zn,Fn=function(rt){var Pt=rt.prefixCls,bn=rt.colors,di=rt.disabled,en=rt.onChange,vr=rt.onChangeComplete,Er=rt.color,tr=rt.type,er=(0,ie.useRef)(),Ui=(0,ie.useRef)(),Et=(0,ie.useRef)(Er),vn=function(cn){return tr==="hue"?cn.getHue():cn.a*100},Mn=(0,et.zX)(function(kt){var cn=de({offset:kt,targetRef:Ui,containerRef:er,color:Er,type:tr});Et.current=cn,en(vn(cn))}),gi=_t({color:Er,targetRef:Ui,containerRef:er,calculate:function(){return re(Er,tr)},onDragChange:Mn,onDragChangeComplete:function(){vr(vn(Et.current))},direction:"x",disabledDrag:di}),$i=(0,z.Z)(gi,2),hr=$i[0],Es=$i[1],vi=ie.useMemo(function(){if(tr==="hue"){var kt=Er.toHsb();kt.s=1,kt.b=1,kt.a=1;var cn=new vt(kt);return cn}return Er},[Er,tr]),Ot=ie.useMemo(function(){return bn.map(function(kt){return"".concat(kt.color," ").concat(kt.percent,"%")})},[bn]);return ie.createElement("div",{ref:er,className:T()("".concat(Pt,"-slider"),"".concat(Pt,"-slider-").concat(tr)),onMouseDown:Es,onTouchStart:Es},ie.createElement(je,{prefixCls:Pt},ie.createElement(Le,{x:hr.x,y:hr.y,ref:Ui},ie.createElement(wt,{size:"small",color:vi.toHexString(),prefixCls:Pt})),ie.createElement(Yn,{colors:Ot,type:tr,prefixCls:Pt})))},si=Fn;function qi(Xt){return ie.useMemo(function(){var rt=Xt||{},Pt=rt.slider;return[Pt||si]},[Xt])}var li=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],fi=(0,ie.forwardRef)(function(Xt,rt){var Pt=Xt.value,bn=Xt.defaultValue,di=Xt.prefixCls,en=di===void 0?Oe:di,vr=Xt.onChange,Er=Xt.onChangeComplete,tr=Xt.className,er=Xt.style,Ui=Xt.panelRender,Et=Xt.disabledAlpha,vn=Et===void 0?!1:Et,Mn=Xt.disabled,gi=Mn===void 0?!1:Mn,$i=Xt.components,hr=qi($i),Es=(0,z.Z)(hr,1),vi=Es[0],Ot=xn(bn||xt,Pt),kt=(0,z.Z)(Ot,2),cn=kt[0],pi=kt[1],nr=(0,ie.useMemo)(function(){return cn.setA(1).toRgbString()},[cn]),mi=function(nt,fn){Pt||pi(nt),vr==null||vr(nt,fn)},Zi=function(nt){return new vt(cn.setHue(nt))},$n=function(nt){return new vt(cn.setA(nt/100))},bi=function(nt){mi(Zi(nt),{type:"hue",value:nt})},Sr=function(nt){mi($n(nt),{type:"alpha",value:nt})},Ir=function(nt){Er&&Er(Zi(nt))},Z=function(nt){Er&&Er($n(nt))},Tt=T()("".concat(en,"-panel"),tr,(0,W.Z)({},"".concat(en,"-panel-disabled"),gi)),Tn={prefixCls:en,disabled:gi,color:cn},ve=ie.createElement(ie.Fragment,null,ie.createElement(zt,(0,a.Z)({onChange:mi},Tn,{onChangeComplete:Er})),ie.createElement("div",{className:"".concat(en,"-slider-container")},ie.createElement("div",{className:T()("".concat(en,"-slider-group"),(0,W.Z)({},"".concat(en,"-slider-group-disabled-alpha"),vn))},ie.createElement(vi,(0,a.Z)({},Tn,{type:"hue",colors:li,min:0,max:359,value:cn.getHue(),onChange:bi,onChangeComplete:Ir})),!vn&&ie.createElement(vi,(0,a.Z)({},Tn,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:nr}],min:0,max:100,value:cn.a*100,onChange:Sr,onChangeComplete:Z}))),ie.createElement(He,{color:cn.toRgbString(),prefixCls:en})));return ie.createElement("div",{className:Tt,style:er,ref:rt},typeof Ui=="function"?Ui(ve):ve)}),Oi=fi,Ei=Oi},83708:function(ji,It,M){"use strict";var a=M(75271);function W(z){var ie=(0,a.useRef)(z);return ie.current=z,ie}It.Z=W},93291:function(ji,It,M){"use strict";var a=M(75271),W=M(64113),z=M(10111);const ie=Pe=>{const{space:se,form:J,children:oe}=Pe;if(oe==null)return null;let fe=oe;return J&&(fe=a.createElement(W.Ux,{override:!0,status:!0},fe)),se&&(fe=a.createElement(z.BR,null,fe)),fe};It.Z=ie},56935:function(ji,It,M){"use strict";M.d(It,{i:function(){return Pe}});var a=M(75271),W=M(90523),z=M(60349),ie=M(49376);function Pe(J){return oe=>a.createElement(z.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},a.createElement(J,Object.assign({},oe)))}const se=(J,oe,fe,Me,tt)=>Pe(ye=>{const{prefixCls:$t,style:qe}=ye,Ye=a.useRef(null),[vt,Oe]=a.useState(0),[ee,xt]=a.useState(0),[de,re]=(0,W.Z)(!1,{value:ye.open}),{getPrefixCls:Rt}=a.useContext(ie.E_),T=Rt(Me||"select",$t);a.useEffect(()=>{if(re(!0),typeof ResizeObserver!="undefined"){const Fe=new ResizeObserver(_t=>{const et=_t[0].target;Oe(et.offsetHeight+8),xt(et.offsetWidth)}),Vt=setInterval(()=>{var _t;const et=tt?`.${tt(T)}`:`.${T}-dropdown`,Kt=(_t=Ye.current)===null||_t===void 0?void 0:_t.querySelector(et);Kt&&(clearInterval(Vt),Fe.observe(Kt))},10);return()=>{clearInterval(Vt),Fe.disconnect()}}},[]);let Bt=Object.assign(Object.assign({},ye),{style:Object.assign(Object.assign({},qe),{margin:0}),open:de,visible:de,getPopupContainer:()=>Ye.current});fe&&(Bt=fe(Bt)),oe&&Object.assign(Bt,{[oe]:{overflow:{adjustX:!1,adjustY:!1}}});const He={paddingBottom:vt,position:"relative",minWidth:ee};return a.createElement("div",{ref:Ye,style:He},a.createElement(J,Object.assign({},Bt)))});It.Z=se},60086:function(ji,It,M){"use strict";var a=M(75271),W=M(33487);const z=ie=>{let Pe;return typeof ie=="object"&&(ie!=null&&ie.clearIcon)?Pe=ie:ie&&(Pe={clearIcon:a.createElement(W.Z,null)}),Pe};It.Z=z},48716:function(ji,It,M){"use strict";M.d(It,{Cn:function(){return tt},u6:function(){return se}});var a=M(75271),W=M(83974),z=M(27597);const ie=100,se=ie*10,J=se+ie,oe={Modal:ie,Drawer:ie,Popover:ie,Popconfirm:ie,Tooltip:ie,Tour:ie,FloatButton:ie},fe={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function Me(Be){return Be in oe}const tt=(Be,ye)=>{const[,$t]=(0,W.ZP)(),qe=a.useContext(z.Z),Ye=Me(Be);let vt;if(ye!==void 0)vt=[ye,ye];else{let Oe=qe!=null?qe:0;Ye?Oe+=(qe?0:$t.zIndexPopupBase)+oe[Be]:Oe+=fe[Be],vt=[qe===void 0?ye:Oe,Oe]}return vt}},73760:function(ji,It,M){"use strict";M.d(It,{m:function(){return oe}});var a=M(49376);const W=()=>({height:0,opacity:0}),z=fe=>{const{scrollHeight:Me}=fe;return{height:Me,opacity:1}},ie=fe=>({height:fe?fe.offsetHeight:0}),Pe=(fe,Me)=>(Me==null?void 0:Me.deadline)===!0||Me.propertyName==="height",se=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.Rf}-motion-collapse`,onAppearStart:W,onEnterStart:W,onAppearActive:z,onEnterActive:z,onLeaveStart:ie,onLeaveActive:W,onAppearEnd:Pe,onEnterEnd:Pe,onLeaveEnd:Pe,motionDeadline:500}},J=null,oe=(fe,Me,tt)=>tt!==void 0?tt:`${fe}-${Me}`;It.Z=se},1928:function(ji,It,M){"use strict";M.d(It,{M2:function(){return W},Tm:function(){return ie}});var a=M(75271);function W(Pe){return Pe&&a.isValidElement(Pe)&&Pe.type===a.Fragment}const z=(Pe,se,J)=>a.isValidElement(Pe)?a.cloneElement(Pe,typeof J=="function"?J(Pe.props||{}):J):se;function ie(Pe,se){return z(Pe,Pe,se)}},79848:function(ji,It,M){"use strict";M.d(It,{F:function(){return Pe},Z:function(){return ie}});var a=M(82187),W=M.n(a);const z=null;function ie(se,J,oe){return W()({[`${se}-status-success`]:J==="success",[`${se}-status-warning`]:J==="warning",[`${se}-status-error`]:J==="error",[`${se}-status-validating`]:J==="validating",[`${se}-has-feedback`]:oe})}const Pe=(se,J)=>J||se},22728:function(ji,It,M){"use strict";M.d(It,{G8:function(){return J},ln:function(){return oe}});var a=M(75271),W=M(69287);function z(){}let ie=null;function Pe(){ie=null,rcResetWarned()}let se=null;const J=a.createContext({}),oe=()=>{const Me=()=>{};return Me.deprecated=z,Me};var fe=null},59735:function(ji,It,M){"use strict";M.d(It,{Z:function(){return He}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(37058),Pe=M(94996),se=M(49376),J=M(1928),oe=M(46007);const fe=Fe=>{const{componentCls:Vt,colorPrimary:_t}=Fe;return{[Vt]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${_t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${Fe.motionEaseOutCirc}`,`opacity 2s ${Fe.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${Fe.motionDurationSlow} ${Fe.motionEaseInOut}`,`opacity ${Fe.motionDurationSlow} ${Fe.motionEaseInOut}`].join(",")}}}}};var Me=(0,oe.A1)("Wave",Fe=>[fe(Fe)]),tt=M(57902),Be=M(99824),ye=M(83974);const $t=`${se.Rf}-wave-target`;var qe=M(24718),Ye=M(37614);function vt(Fe){return Fe&&Fe!=="#fff"&&Fe!=="#ffffff"&&Fe!=="rgb(255, 255, 255)"&&Fe!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(Fe)&&Fe!=="transparent"}function Oe(Fe){const{borderTopColor:Vt,borderColor:_t,backgroundColor:et}=getComputedStyle(Fe);return vt(Vt)?Vt:vt(_t)?_t:vt(et)?et:null}function ee(Fe){return Number.isNaN(Fe)?0:Fe}const xt=Fe=>{const{className:Vt,target:_t,component:et,registerUnmount:Kt}=Fe,wt=a.useRef(null),pt=a.useRef(null);a.useEffect(()=>{pt.current=Kt()},[]);const[je,Ct]=a.useState(null),[Le,st]=a.useState([]),[zt,Yt]=a.useState(0),[xn,Zn]=a.useState(0),[Yn,Fn]=a.useState(0),[si,qi]=a.useState(0),[li,fi]=a.useState(!1),Oi={left:zt,top:xn,width:Yn,height:si,borderRadius:Le.map(rt=>`${rt}px`).join(" ")};je&&(Oi["--wave-color"]=je);function Ei(){const rt=getComputedStyle(_t);Ct(Oe(_t));const Pt=rt.position==="static",{borderLeftWidth:bn,borderTopWidth:di}=rt;Yt(Pt?_t.offsetLeft:ee(-parseFloat(bn))),Zn(Pt?_t.offsetTop:ee(-parseFloat(di))),Fn(_t.offsetWidth),qi(_t.offsetHeight);const{borderTopLeftRadius:en,borderTopRightRadius:vr,borderBottomLeftRadius:Er,borderBottomRightRadius:tr}=rt;st([en,vr,tr,Er].map(er=>ee(parseFloat(er))))}if(a.useEffect(()=>{if(_t){const rt=(0,Be.Z)(()=>{Ei(),fi(!0)});let Pt;return typeof ResizeObserver!="undefined"&&(Pt=new ResizeObserver(Ei),Pt.observe(_t)),()=>{Be.Z.cancel(rt),Pt==null||Pt.disconnect()}}},[]),!li)return null;const Xt=(et==="Checkbox"||et==="Radio")&&(_t==null?void 0:_t.classList.contains($t));return a.createElement(qe.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(rt,Pt)=>{var bn,di;if(Pt.deadline||Pt.propertyName==="opacity"){const en=(bn=wt.current)===null||bn===void 0?void 0:bn.parentElement;(di=pt.current)===null||di===void 0||di.call(pt).then(()=>{en==null||en.remove()})}return!1}},(rt,Pt)=>{let{className:bn}=rt;return a.createElement("div",{ref:(0,Pe.sQ)(wt,Pt),className:z()(Vt,bn,{"wave-quick":Xt}),style:Oi})})};var re=(Fe,Vt)=>{var _t;const{component:et}=Vt;if(et==="Checkbox"&&!(!((_t=Fe.querySelector("input"))===null||_t===void 0)&&_t.checked))return;const Kt=document.createElement("div");Kt.style.position="absolute",Kt.style.left="0px",Kt.style.top="0px",Fe==null||Fe.insertBefore(Kt,Fe==null?void 0:Fe.firstChild);const wt=(0,Ye.x)();let pt=null;function je(){return pt}pt=wt(a.createElement(xt,Object.assign({},Vt,{target:Fe,registerUnmount:je})),Kt)},T=(Fe,Vt,_t)=>{const{wave:et}=a.useContext(se.E_),[,Kt,wt]=(0,ye.ZP)(),pt=(0,tt.Z)(Le=>{const st=Fe.current;if(et!=null&&et.disabled||!st)return;const zt=st.querySelector(`.${$t}`)||st,{showEffect:Yt}=et||{};(Yt||re)(zt,{className:Vt,token:Kt,component:_t,event:Le,hashId:wt})}),je=a.useRef(null);return Le=>{Be.Z.cancel(je.current),je.current=(0,Be.Z)(()=>{pt(Le)})}},He=Fe=>{const{children:Vt,disabled:_t,component:et}=Fe,{getPrefixCls:Kt}=(0,a.useContext)(se.E_),wt=(0,a.useRef)(null),pt=Kt("wave"),[,je]=Me(pt),Ct=T(wt,z()(pt,je),et);if(a.useEffect(()=>{const st=wt.current;if(!st||st.nodeType!==1||_t)return;const zt=Yt=>{!(0,ie.Z)(Yt.target)||!st.getAttribute||st.getAttribute("disabled")||st.disabled||st.className.includes("disabled")||st.className.includes("-leave")||Ct(Yt)};return st.addEventListener("click",zt,!0),()=>{st.removeEventListener("click",zt,!0)}},[_t]),!a.isValidElement(Vt))return Vt!=null?Vt:null;const Le=(0,Pe.Yr)(Vt)?(0,Pe.sQ)((0,Pe.C4)(Vt),wt):wt;return(0,J.Tm)(Vt,{ref:Le})}},27597:function(ji,It,M){"use strict";var a=M(75271);const W=a.createContext(void 0);It.Z=W},99813:function(ji,It,M){"use strict";M.d(It,{Dn:function(){return fe},aG:function(){return se},hU:function(){return tt},nx:function(){return J}});var a=M(81230),W=M(75271),z=M(1928),ie=M(61107);const Pe=/^[\u4E00-\u9FA5]{2}$/,se=Pe.test.bind(Pe);function J(vt){return vt==="danger"?{danger:!0}:{type:vt}}function oe(vt){return typeof vt=="string"}function fe(vt){return vt==="text"||vt==="link"}function Me(vt,Oe){if(vt==null)return;const ee=Oe?" ":"";return typeof vt!="string"&&typeof vt!="number"&&oe(vt.type)&&se(vt.props.children)?(0,z.Tm)(vt,{children:vt.props.children.split("").join(ee)}):oe(vt)?se(vt)?W.createElement("span",null,vt.split("").join(ee)):W.createElement("span",null,vt):(0,z.M2)(vt)?W.createElement("span",null,vt):vt}function tt(vt,Oe){let ee=!1;const xt=[];return W.Children.forEach(vt,de=>{const re=typeof de,Rt=re==="string"||re==="number";if(ee&&Rt){const T=xt.length-1,Bt=xt[T];xt[T]=`${Bt}${de}`}else xt.push(de);ee=Rt}),W.Children.map(xt,de=>Me(de,Oe))}const Be=null,ye=null,$t=null,qe=null,Ye=["default","primary","danger"].concat((0,a.Z)(ie.i))},97658:function(ji,It,M){"use strict";M.d(It,{ZP:function(){return Ir}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(91081),Pe=M(94996),se=M(59735),J=M(49376),oe=M(91207),fe=M(57350),Me=M(10111),tt=M(83974),Be=function(Z,Tt){var Tn={};for(var ve in Z)Object.prototype.hasOwnProperty.call(Z,ve)&&Tt.indexOf(ve)<0&&(Tn[ve]=Z[ve]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,ve=Object.getOwnPropertySymbols(Z);Ae<ve.length;Ae++)Tt.indexOf(ve[Ae])<0&&Object.prototype.propertyIsEnumerable.call(Z,ve[Ae])&&(Tn[ve[Ae]]=Z[ve[Ae]]);return Tn};const ye=a.createContext(void 0);var qe=Z=>{const{getPrefixCls:Tt,direction:Tn}=a.useContext(J.E_),{prefixCls:ve,size:Ae,className:nt}=Z,fn=Be(Z,["prefixCls","size","className"]),An=Tt("btn-group",ve),[,,oi]=(0,tt.ZP)(),Wi=a.useMemo(()=>{switch(Ae){case"large":return"lg";case"small":return"sm";default:return""}},[Ae]),Cr=z()(An,{[`${An}-${Wi}`]:Wi,[`${An}-rtl`]:Tn==="rtl"},nt,oi);return a.createElement(ye.Provider,{value:Ae},a.createElement("div",Object.assign({},fn,{className:Cr})))},Ye=M(99813),vt=M(79312),Oe=M(24718),xt=(0,a.forwardRef)((Z,Tt)=>{const{className:Tn,style:ve,children:Ae,prefixCls:nt}=Z,fn=z()(`${nt}-icon`,Tn);return a.createElement("span",{ref:Tt,className:fn,style:ve},Ae)});const de=(0,a.forwardRef)((Z,Tt)=>{const{prefixCls:Tn,className:ve,style:Ae,iconClassName:nt}=Z,fn=z()(`${Tn}-loading-icon`,ve);return a.createElement(xt,{prefixCls:Tn,className:fn,style:Ae,ref:Tt},a.createElement(vt.Z,{className:nt}))}),re=()=>({width:0,opacity:0,transform:"scale(0)"}),Rt=Z=>({width:Z.scrollWidth,opacity:1,transform:"scale(1)"});var Bt=Z=>{const{prefixCls:Tt,loading:Tn,existIcon:ve,className:Ae,style:nt,mount:fn}=Z,An=!!Tn;return ve?a.createElement(de,{prefixCls:Tt,className:Ae,style:nt}):a.createElement(Oe.ZP,{visible:An,motionName:`${Tt}-loading-icon-motion`,motionAppear:!fn,motionEnter:!fn,motionLeave:!fn,removeOnLeave:!0,onAppearStart:re,onAppearActive:Rt,onEnterStart:re,onEnterActive:Rt,onLeaveStart:Rt,onLeaveActive:re},(oi,Wi)=>{let{className:Cr,style:Ur}=oi;const Lr=Object.assign(Object.assign({},nt),Ur);return a.createElement(de,{prefixCls:Tt,className:z()(Ae,Cr),style:Lr,ref:Wi})})},He=M(47424),Fe=M(64336),Vt=M(61107),_t=M(84458),et=M(46007);const Kt=(Z,Tt)=>({[`> span, > ${Z}`]:{"&:not(:last-child)":{[`&, & > ${Z}`]:{"&:not(:disabled)":{borderInlineEndColor:Tt}}},"&:not(:first-child)":{[`&, & > ${Z}`]:{"&:not(:disabled)":{borderInlineStartColor:Tt}}}}});var pt=Z=>{const{componentCls:Tt,fontSize:Tn,lineWidth:ve,groupBorderColor:Ae,colorErrorHover:nt}=Z;return{[`${Tt}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${Tt}`]:{"&:not(:last-child)":{[`&, & > ${Tt}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:Z.calc(ve).mul(-1).equal(),[`&, & > ${Tt}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[Tt]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${Tt}-icon-only`]:{fontSize:Tn}},Kt(`${Tt}-primary`,Ae),Kt(`${Tt}-danger`,nt)]}},je=M(42770),Ct=M(28103),Le=M(44364),st=M(61875);const zt=Z=>{const{paddingInline:Tt,onlyIconSize:Tn}=Z;return(0,_t.IX)(Z,{buttonPaddingHorizontal:Tt,buttonPaddingVertical:0,buttonIconOnlyFontSize:Tn})},Yt=Z=>{var Tt,Tn,ve,Ae,nt,fn;const An=(Tt=Z.contentFontSize)!==null&&Tt!==void 0?Tt:Z.fontSize,oi=(Tn=Z.contentFontSizeSM)!==null&&Tn!==void 0?Tn:Z.fontSize,Wi=(ve=Z.contentFontSizeLG)!==null&&ve!==void 0?ve:Z.fontSizeLG,Cr=(Ae=Z.contentLineHeight)!==null&&Ae!==void 0?Ae:(0,Le.D)(An),Ur=(nt=Z.contentLineHeightSM)!==null&&nt!==void 0?nt:(0,Le.D)(oi),Lr=(fn=Z.contentLineHeightLG)!==null&&fn!==void 0?fn:(0,Le.D)(Wi),Tr=(0,Ct.U)(new je.y9(Z.colorBgSolid),"#fff")?"#000":"#fff",Dt=Vt.i.reduce((kn,Xn)=>Object.assign(Object.assign({},kn),{[`${Xn}ShadowColor`]:`0 ${(0,He.bf)(Z.controlOutlineWidth)} 0 ${(0,st.Z)(Z[`${Xn}1`],Z.colorBgContainer)}`}),{});return Object.assign(Object.assign({},Dt),{fontWeight:400,defaultShadow:`0 ${Z.controlOutlineWidth}px 0 ${Z.controlTmpOutline}`,primaryShadow:`0 ${Z.controlOutlineWidth}px 0 ${Z.controlOutline}`,dangerShadow:`0 ${Z.controlOutlineWidth}px 0 ${Z.colorErrorOutline}`,primaryColor:Z.colorTextLightSolid,dangerColor:Z.colorTextLightSolid,borderColorDisabled:Z.colorBorder,defaultGhostColor:Z.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:Z.colorBgContainer,paddingInline:Z.paddingContentHorizontal-Z.lineWidth,paddingInlineLG:Z.paddingContentHorizontal-Z.lineWidth,paddingInlineSM:8-Z.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:Z.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:Z.colorText,textTextHoverColor:Z.colorText,textTextActiveColor:Z.colorText,textHoverBg:Z.colorFillTertiary,defaultColor:Z.colorText,defaultBg:Z.colorBgContainer,defaultBorderColor:Z.colorBorder,defaultBorderColorDisabled:Z.colorBorder,defaultHoverBg:Z.colorBgContainer,defaultHoverColor:Z.colorPrimaryHover,defaultHoverBorderColor:Z.colorPrimaryHover,defaultActiveBg:Z.colorBgContainer,defaultActiveColor:Z.colorPrimaryActive,defaultActiveBorderColor:Z.colorPrimaryActive,solidTextColor:Tr,contentFontSize:An,contentFontSizeSM:oi,contentFontSizeLG:Wi,contentLineHeight:Cr,contentLineHeightSM:Ur,contentLineHeightLG:Lr,paddingBlock:Math.max((Z.controlHeight-An*Cr)/2-Z.lineWidth,0),paddingBlockSM:Math.max((Z.controlHeightSM-oi*Ur)/2-Z.lineWidth,0),paddingBlockLG:Math.max((Z.controlHeightLG-Wi*Lr)/2-Z.lineWidth,0)})},xn=Z=>{const{componentCls:Tt,iconCls:Tn,fontWeight:ve,opacityLoading:Ae,motionDurationSlow:nt,motionEaseInOut:fn,marginXS:An,calc:oi}=Z;return{[Tt]:{outline:"none",position:"relative",display:"inline-flex",gap:Z.marginXS,alignItems:"center",justifyContent:"center",fontWeight:ve,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,He.bf)(Z.lineWidth)} ${Z.lineType} transparent`,cursor:"pointer",transition:`all ${Z.motionDurationMid} ${Z.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:Z.colorText,"&:disabled > *":{pointerEvents:"none"},[`${Tt}-icon > svg`]:(0,Fe.Ro)(),"> a":{color:"currentColor"},"&:not(:disabled)":(0,Fe.Qy)(Z),[`&${Tt}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${Tt}-two-chinese-chars > *:not(${Tn})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${Tt}-icon-only`]:{paddingInline:0,[`&${Tt}-compact-item`]:{flex:"none"},[`&${Tt}-round`]:{width:"auto"}},[`&${Tt}-loading`]:{opacity:Ae,cursor:"default"},[`${Tt}-loading-icon`]:{transition:["width","opacity","margin"].map(Wi=>`${Wi} ${nt} ${fn}`).join(",")},[`&:not(${Tt}-icon-end)`]:{[`${Tt}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:oi(An).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:oi(An).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${Tt}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:oi(An).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:oi(An).mul(-1).equal()}}}}}},Zn=(Z,Tt,Tn)=>({[`&:not(:disabled):not(${Z}-disabled)`]:{"&:hover":Tt,"&:active":Tn}}),Yn=Z=>({minWidth:Z.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Fn=Z=>({borderRadius:Z.controlHeight,paddingInlineStart:Z.calc(Z.controlHeight).div(2).equal(),paddingInlineEnd:Z.calc(Z.controlHeight).div(2).equal()}),si=Z=>({cursor:"not-allowed",borderColor:Z.borderColorDisabled,color:Z.colorTextDisabled,background:Z.colorBgContainerDisabled,boxShadow:"none"}),qi=(Z,Tt,Tn,ve,Ae,nt,fn,An)=>({[`&${Z}-background-ghost`]:Object.assign(Object.assign({color:Tn||void 0,background:Tt,borderColor:ve||void 0,boxShadow:"none"},Zn(Z,Object.assign({background:Tt},fn),Object.assign({background:Tt},An))),{"&:disabled":{cursor:"not-allowed",color:Ae||void 0,borderColor:nt||void 0}})}),li=Z=>({[`&:disabled, &${Z.componentCls}-disabled`]:Object.assign({},si(Z))}),fi=Z=>({[`&:disabled, &${Z.componentCls}-disabled`]:{cursor:"not-allowed",color:Z.colorTextDisabled}}),Oi=(Z,Tt,Tn,ve)=>{const nt=ve&&["link","text"].includes(ve)?fi:li;return Object.assign(Object.assign({},nt(Z)),Zn(Z.componentCls,Tt,Tn))},Ei=(Z,Tt,Tn,ve,Ae)=>({[`&${Z.componentCls}-variant-solid`]:Object.assign({color:Tt,background:Tn},Oi(Z,ve,Ae))}),Xt=(Z,Tt,Tn,ve,Ae)=>({[`&${Z.componentCls}-variant-outlined, &${Z.componentCls}-variant-dashed`]:Object.assign({borderColor:Tt,background:Tn},Oi(Z,ve,Ae))}),rt=Z=>({[`&${Z.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Pt=(Z,Tt,Tn,ve)=>({[`&${Z.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:Tt},Oi(Z,Tn,ve))}),bn=(Z,Tt,Tn,ve,Ae)=>({[`&${Z.componentCls}-variant-${Tn}`]:Object.assign({color:Tt,boxShadow:"none"},Oi(Z,ve,Ae,Tn))}),di=Z=>{const{componentCls:Tt}=Z;return Vt.i.reduce((Tn,ve)=>{const Ae=Z[`${ve}6`],nt=Z[`${ve}1`],fn=Z[`${ve}5`],An=Z[`${ve}2`],oi=Z[`${ve}3`],Wi=Z[`${ve}7`];return Object.assign(Object.assign({},Tn),{[`&${Tt}-color-${ve}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Ae,boxShadow:Z[`${ve}ShadowColor`]},Ei(Z,Z.colorTextLightSolid,Ae,{background:fn},{background:Wi})),Xt(Z,Ae,Z.colorBgContainer,{color:fn,borderColor:fn,background:Z.colorBgContainer},{color:Wi,borderColor:Wi,background:Z.colorBgContainer})),rt(Z)),Pt(Z,nt,{background:An},{background:oi})),bn(Z,Ae,"link",{color:fn},{color:Wi})),bn(Z,Ae,"text",{color:fn,background:nt},{color:Wi,background:oi}))})},{})},en=Z=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Z.defaultColor,boxShadow:Z.defaultShadow},Ei(Z,Z.solidTextColor,Z.colorBgSolid,{color:Z.solidTextColor,background:Z.colorBgSolidHover},{color:Z.solidTextColor,background:Z.colorBgSolidActive})),rt(Z)),Pt(Z,Z.colorFillTertiary,{background:Z.colorFillSecondary},{background:Z.colorFill})),qi(Z.componentCls,Z.ghostBg,Z.defaultGhostColor,Z.defaultGhostBorderColor,Z.colorTextDisabled,Z.colorBorder)),bn(Z,Z.textTextColor,"link",{color:Z.colorLinkHover,background:Z.linkHoverBg},{color:Z.colorLinkActive})),vr=Z=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Z.colorPrimary,boxShadow:Z.primaryShadow},Xt(Z,Z.colorPrimary,Z.colorBgContainer,{color:Z.colorPrimaryTextHover,borderColor:Z.colorPrimaryHover,background:Z.colorBgContainer},{color:Z.colorPrimaryTextActive,borderColor:Z.colorPrimaryActive,background:Z.colorBgContainer})),rt(Z)),Pt(Z,Z.colorPrimaryBg,{background:Z.colorPrimaryBgHover},{background:Z.colorPrimaryBorder})),bn(Z,Z.colorPrimaryText,"text",{color:Z.colorPrimaryTextHover,background:Z.colorPrimaryBg},{color:Z.colorPrimaryTextActive,background:Z.colorPrimaryBorder})),bn(Z,Z.colorPrimaryText,"link",{color:Z.colorPrimaryTextHover,background:Z.linkHoverBg},{color:Z.colorPrimaryTextActive})),qi(Z.componentCls,Z.ghostBg,Z.colorPrimary,Z.colorPrimary,Z.colorTextDisabled,Z.colorBorder,{color:Z.colorPrimaryHover,borderColor:Z.colorPrimaryHover},{color:Z.colorPrimaryActive,borderColor:Z.colorPrimaryActive})),Er=Z=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Z.colorError,boxShadow:Z.dangerShadow},Ei(Z,Z.dangerColor,Z.colorError,{background:Z.colorErrorHover},{background:Z.colorErrorActive})),Xt(Z,Z.colorError,Z.colorBgContainer,{color:Z.colorErrorHover,borderColor:Z.colorErrorBorderHover},{color:Z.colorErrorActive,borderColor:Z.colorErrorActive})),rt(Z)),Pt(Z,Z.colorErrorBg,{background:Z.colorErrorBgFilledHover},{background:Z.colorErrorBgActive})),bn(Z,Z.colorError,"text",{color:Z.colorErrorHover,background:Z.colorErrorBg},{color:Z.colorErrorHover,background:Z.colorErrorBgActive})),bn(Z,Z.colorError,"link",{color:Z.colorErrorHover},{color:Z.colorErrorActive})),qi(Z.componentCls,Z.ghostBg,Z.colorError,Z.colorError,Z.colorTextDisabled,Z.colorBorder,{color:Z.colorErrorHover,borderColor:Z.colorErrorHover},{color:Z.colorErrorActive,borderColor:Z.colorErrorActive})),tr=Z=>Object.assign(Object.assign({},bn(Z,Z.colorLink,"link",{color:Z.colorLinkHover},{color:Z.colorLinkActive})),qi(Z.componentCls,Z.ghostBg,Z.colorInfo,Z.colorInfo,Z.colorTextDisabled,Z.colorBorder,{color:Z.colorInfoHover,borderColor:Z.colorInfoHover},{color:Z.colorInfoActive,borderColor:Z.colorInfoActive})),er=Z=>{const{componentCls:Tt}=Z;return Object.assign({[`${Tt}-color-default`]:en(Z),[`${Tt}-color-primary`]:vr(Z),[`${Tt}-color-dangerous`]:Er(Z),[`${Tt}-color-link`]:tr(Z)},di(Z))},Ui=Z=>Object.assign(Object.assign(Object.assign(Object.assign({},Xt(Z,Z.defaultBorderColor,Z.defaultBg,{color:Z.defaultHoverColor,borderColor:Z.defaultHoverBorderColor,background:Z.defaultHoverBg},{color:Z.defaultActiveColor,borderColor:Z.defaultActiveBorderColor,background:Z.defaultActiveBg})),bn(Z,Z.textTextColor,"text",{color:Z.textTextHoverColor,background:Z.textHoverBg},{color:Z.textTextActiveColor,background:Z.colorBgTextActive})),Ei(Z,Z.primaryColor,Z.colorPrimary,{background:Z.colorPrimaryHover,color:Z.primaryColor},{background:Z.colorPrimaryActive,color:Z.primaryColor})),bn(Z,Z.colorLink,"link",{color:Z.colorLinkHover,background:Z.linkHoverBg},{color:Z.colorLinkActive})),Et=function(Z){let Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:Tn,controlHeight:ve,fontSize:Ae,borderRadius:nt,buttonPaddingHorizontal:fn,iconCls:An,buttonPaddingVertical:oi,buttonIconOnlyFontSize:Wi}=Z;return[{[Tt]:{fontSize:Ae,height:ve,padding:`${(0,He.bf)(oi)} ${(0,He.bf)(fn)}`,borderRadius:nt,[`&${Tn}-icon-only`]:{width:ve,[An]:{fontSize:Wi}}}},{[`${Tn}${Tn}-circle${Tt}`]:Yn(Z)},{[`${Tn}${Tn}-round${Tt}`]:Fn(Z)}]},vn=Z=>{const Tt=(0,_t.IX)(Z,{fontSize:Z.contentFontSize});return Et(Tt,Z.componentCls)},Mn=Z=>{const Tt=(0,_t.IX)(Z,{controlHeight:Z.controlHeightSM,fontSize:Z.contentFontSizeSM,padding:Z.paddingXS,buttonPaddingHorizontal:Z.paddingInlineSM,buttonPaddingVertical:0,borderRadius:Z.borderRadiusSM,buttonIconOnlyFontSize:Z.onlyIconSizeSM});return Et(Tt,`${Z.componentCls}-sm`)},gi=Z=>{const Tt=(0,_t.IX)(Z,{controlHeight:Z.controlHeightLG,fontSize:Z.contentFontSizeLG,buttonPaddingHorizontal:Z.paddingInlineLG,buttonPaddingVertical:0,borderRadius:Z.borderRadiusLG,buttonIconOnlyFontSize:Z.onlyIconSizeLG});return Et(Tt,`${Z.componentCls}-lg`)},$i=Z=>{const{componentCls:Tt}=Z;return{[Tt]:{[`&${Tt}-block`]:{width:"100%"}}}};var hr=(0,et.I$)("Button",Z=>{const Tt=zt(Z);return[xn(Tt),vn(Tt),Mn(Tt),gi(Tt),$i(Tt),er(Tt),Ui(Tt),pt(Tt)]},Yt,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}}),Es=M(94550);function vi(Z,Tt){return{[`&-item:not(${Tt}-last-item)`]:{marginBottom:Z.calc(Z.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Ot(Z,Tt){return{[`&-item:not(${Tt}-first-item):not(${Tt}-last-item)`]:{borderRadius:0},[`&-item${Tt}-first-item:not(${Tt}-last-item)`]:{[`&, &${Z}-sm, &${Z}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${Tt}-last-item:not(${Tt}-first-item)`]:{[`&, &${Z}-sm, &${Z}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function kt(Z){const Tt=`${Z.componentCls}-compact-vertical`;return{[Tt]:Object.assign(Object.assign({},vi(Z,Tt)),Ot(Z.componentCls,Tt))}}const cn=Z=>{const{componentCls:Tt,colorPrimaryHover:Tn,lineWidth:ve,calc:Ae}=Z,nt=Ae(ve).mul(-1).equal(),fn=An=>{const oi=`${Tt}-compact${An?"-vertical":""}-item${Tt}-primary:not([disabled])`;return{[`${oi} + ${oi}::before`]:{position:"absolute",top:An?nt:0,insetInlineStart:An?0:nt,backgroundColor:Tn,content:'""',width:An?"100%":ve,height:An?ve:"100%"}}};return Object.assign(Object.assign({},fn()),fn(!0))};var pi=(0,et.bk)(["Button","compact"],Z=>{const Tt=zt(Z);return[(0,Es.c)(Tt),kt(Tt),cn(Tt)]},Yt),nr=function(Z,Tt){var Tn={};for(var ve in Z)Object.prototype.hasOwnProperty.call(Z,ve)&&Tt.indexOf(ve)<0&&(Tn[ve]=Z[ve]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,ve=Object.getOwnPropertySymbols(Z);Ae<ve.length;Ae++)Tt.indexOf(ve[Ae])<0&&Object.prototype.propertyIsEnumerable.call(Z,ve[Ae])&&(Tn[ve[Ae]]=Z[ve[Ae]]);return Tn};function mi(Z){if(typeof Z=="object"&&Z){let Tt=Z==null?void 0:Z.delay;return Tt=!Number.isNaN(Tt)&&typeof Tt=="number"?Tt:0,{loading:Tt<=0,delay:Tt}}return{loading:!!Z,delay:0}}const Zi={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},bi=a.forwardRef((Z,Tt)=>{var Tn,ve;const{loading:Ae=!1,prefixCls:nt,color:fn,variant:An,type:oi,danger:Wi=!1,shape:Cr="default",size:Ur,styles:Lr,disabled:Tr,className:Dt,rootClassName:kn,children:Xn,icon:pn,iconPosition:ci="start",ghost:ir=!1,block:or=!1,htmlType:Gr="button",classNames:Nr,style:Xi={},autoInsertSpace:Zr,autoFocus:cs}=Z,zr=nr(Z,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),io=oi||"default",[Ts,Ns]=(0,a.useMemo)(()=>{if(fn&&An)return[fn,An];const ws=Zi[io]||[];return Wi?["danger",ws[1]]:ws},[oi,fn,An,Wi]),Ao=Ts==="danger"?"dangerous":Ts,{getPrefixCls:Po,direction:ro,autoInsertSpace:ua,className:Mo,style:Bs,classNames:Fs,styles:Bo}=(0,J.dj)("button"),bo=(Tn=Zr!=null?Zr:ua)!==null&&Tn!==void 0?Tn:!0,$r=Po("btn",nt),[So,so,mo]=hr($r),Us=(0,a.useContext)(oe.Z),ds=Tr!=null?Tr:Us,Oo=(0,a.useContext)(ye),Co=(0,a.useMemo)(()=>mi(Ae),[Ae]),[Fr,vo]=(0,a.useState)(Co.loading),[_a,bs]=(0,a.useState)(!1),Js=(0,a.useRef)(null),js=(0,Pe.x1)(Tt,Js),os=a.Children.count(Xn)===1&&!pn&&!(0,Ye.Dn)(Ns),hs=(0,a.useRef)(!0);a.useEffect(()=>(hs.current=!1,()=>{hs.current=!0}),[]),(0,a.useEffect)(()=>{let ws=null;Co.delay>0?ws=setTimeout(()=>{ws=null,vo(!0)},Co.delay):vo(Co.loading);function za(){ws&&(clearTimeout(ws),ws=null)}return za},[Co]),(0,a.useEffect)(()=>{if(!Js.current||!bo)return;const ws=Js.current.textContent||"";os&&(0,Ye.aG)(ws)?_a||bs(!0):_a&&bs(!1)}),(0,a.useEffect)(()=>{cs&&Js.current&&Js.current.focus()},[]);const qr=a.useCallback(ws=>{var za;if(Fr||ds){ws.preventDefault();return}(za=Z.onClick)===null||za===void 0||za.call(Z,("href"in Z,ws))},[Z.onClick,Fr,ds]),{compactSize:fs,compactItemClassnames:oo}=(0,Me.ri)($r,ro),va={large:"lg",small:"sm",middle:void 0},qo=(0,fe.Z)(ws=>{var za,Ka;return(Ka=(za=Ur!=null?Ur:fs)!==null&&za!==void 0?za:Oo)!==null&&Ka!==void 0?Ka:ws}),wa=qo&&(ve=va[qo])!==null&&ve!==void 0?ve:"",Ua=Fr?"loading":pn,Pa=(0,ie.Z)(zr,["navigate"]),Jr=z()($r,so,mo,{[`${$r}-${Cr}`]:Cr!=="default"&&Cr,[`${$r}-${io}`]:io,[`${$r}-dangerous`]:Wi,[`${$r}-color-${Ao}`]:Ao,[`${$r}-variant-${Ns}`]:Ns,[`${$r}-${wa}`]:wa,[`${$r}-icon-only`]:!Xn&&Xn!==0&&!!Ua,[`${$r}-background-ghost`]:ir&&!(0,Ye.Dn)(Ns),[`${$r}-loading`]:Fr,[`${$r}-two-chinese-chars`]:_a&&bo&&!Fr,[`${$r}-block`]:or,[`${$r}-rtl`]:ro==="rtl",[`${$r}-icon-end`]:ci==="end"},oo,Dt,kn,Mo),fr=Object.assign(Object.assign({},Bs),Xi),ai=z()(Nr==null?void 0:Nr.icon,Fs.icon),_s=Object.assign(Object.assign({},(Lr==null?void 0:Lr.icon)||{}),Bo.icon||{}),Uo=pn&&!Fr?a.createElement(xt,{prefixCls:$r,className:ai,style:_s},pn):Ae&&typeof Ae=="object"&&Ae.icon?a.createElement(xt,{prefixCls:$r,className:ai,style:_s},Ae.icon):a.createElement(Bt,{existIcon:!!pn,prefixCls:$r,loading:Fr,mount:hs.current}),zo=Xn||Xn===0?(0,Ye.hU)(Xn,os&&bo):null;if(Pa.href!==void 0)return So(a.createElement("a",Object.assign({},Pa,{className:z()(Jr,{[`${$r}-disabled`]:ds}),href:ds?void 0:Pa.href,style:fr,onClick:qr,ref:js,tabIndex:ds?-1:0}),Uo,zo));let el=a.createElement("button",Object.assign({},zr,{type:Gr,className:Jr,style:fr,onClick:qr,disabled:ds,ref:js}),Uo,zo,oo&&a.createElement(pi,{prefixCls:$r}));return(0,Ye.Dn)(Ns)||(el=a.createElement(se.Z,{component:"Button",disabled:Fr},el)),So(el)});bi.Group=qe,bi.__ANT_BUTTON=!0;var Sr=bi,Ir=Sr},49226:function(ji,It,M){"use strict";M.d(It,{Z:function(){return Be}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(49376),Pe=M(19391),se=M(4470),J=function(ye,$t){var qe={};for(var Ye in ye)Object.prototype.hasOwnProperty.call(ye,Ye)&&$t.indexOf(Ye)<0&&(qe[Ye]=ye[Ye]);if(ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var vt=0,Ye=Object.getOwnPropertySymbols(ye);vt<Ye.length;vt++)$t.indexOf(Ye[vt])<0&&Object.prototype.propertyIsEnumerable.call(ye,Ye[vt])&&(qe[Ye[vt]]=ye[Ye[vt]]);return qe};function oe(ye){return typeof ye=="number"?`${ye} ${ye} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(ye)?`0 0 ${ye}`:ye}const fe=["xs","sm","md","lg","xl","xxl"];var tt=a.forwardRef((ye,$t)=>{const{getPrefixCls:qe,direction:Ye}=a.useContext(ie.E_),{gutter:vt,wrap:Oe}=a.useContext(Pe.Z),{prefixCls:ee,span:xt,order:de,offset:re,push:Rt,pull:T,className:Bt,children:He,flex:Fe,style:Vt}=ye,_t=J(ye,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),et=qe("col",ee),[Kt,wt,pt]=(0,se.cG)(et),je={};let Ct={};fe.forEach(zt=>{let Yt={};const xn=ye[zt];typeof xn=="number"?Yt.span=xn:typeof xn=="object"&&(Yt=xn||{}),delete _t[zt],Ct=Object.assign(Object.assign({},Ct),{[`${et}-${zt}-${Yt.span}`]:Yt.span!==void 0,[`${et}-${zt}-order-${Yt.order}`]:Yt.order||Yt.order===0,[`${et}-${zt}-offset-${Yt.offset}`]:Yt.offset||Yt.offset===0,[`${et}-${zt}-push-${Yt.push}`]:Yt.push||Yt.push===0,[`${et}-${zt}-pull-${Yt.pull}`]:Yt.pull||Yt.pull===0,[`${et}-rtl`]:Ye==="rtl"}),Yt.flex&&(Ct[`${et}-${zt}-flex`]=!0,je[`--${et}-${zt}-flex`]=oe(Yt.flex))});const Le=z()(et,{[`${et}-${xt}`]:xt!==void 0,[`${et}-order-${de}`]:de,[`${et}-offset-${re}`]:re,[`${et}-push-${Rt}`]:Rt,[`${et}-pull-${T}`]:T},Bt,Ct,wt,pt),st={};if(vt&&vt[0]>0){const zt=vt[0]/2;st.paddingLeft=zt,st.paddingRight=zt}return Fe&&(st.flex=oe(Fe),Oe===!1&&!st.minWidth&&(st.minWidth=0)),Kt(a.createElement("div",Object.assign({},_t,{style:Object.assign(Object.assign(Object.assign({},st),Vt),je),className:Le,ref:$t}),He))}),Be=tt},42770:function(ji,It,M){"use strict";M.d(It,{Ot:function(){return ie},y9:function(){return se}});var a=M(34706),W=M(89364),z=M(51651);const ie=(J,oe)=>(J==null?void 0:J.replace(/[^\w/]/g,"").slice(0,oe?8:6))||"",Pe=(J,oe)=>J?ie(J,oe):"";let se=function(){function J(oe){(0,a.Z)(this,J);var fe;if(this.cleared=!1,oe instanceof J){this.metaColor=oe.metaColor.clone(),this.colors=(fe=oe.colors)===null||fe===void 0?void 0:fe.map(tt=>({color:new J(tt.color),percent:tt.percent})),this.cleared=oe.cleared;return}const Me=Array.isArray(oe);Me&&oe.length?(this.colors=oe.map(tt=>{let{color:Be,percent:ye}=tt;return{color:new J(Be),percent:ye}}),this.metaColor=new z.Il(this.colors[0].color.metaColor)):this.metaColor=new z.Il(Me?"":oe),(!oe||Me&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return(0,W.Z)(J,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return Pe(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:fe}=this;return fe?`linear-gradient(90deg, ${fe.map(tt=>`${tt.color.toRgbString()} ${tt.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(fe){return!fe||this.isGradient()!==fe.isGradient()?!1:this.isGradient()?this.colors.length===fe.colors.length&&this.colors.every((Me,tt)=>{const Be=fe.colors[tt];return Me.percent===Be.percent&&Me.color.equals(Be.color)}):this.toHexString()===fe.toHexString()}}])}()},28103:function(ji,It,M){"use strict";M.d(It,{Z:function(){return vi},U:function(){return $i}});var a=M(75271),W=M(51651),z=M(82187),ie=M.n(z),Pe=M(90523),se=M(52003),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},oe=J,fe=M(55969),Me=function(kt,cn){return a.createElement(fe.Z,(0,se.Z)({},kt,{ref:cn,icon:oe}))},tt=a.forwardRef(Me),Be=tt,ye=M(81230),$t=M(75611),qe=M(74826),Ye=M(69287),vt=M(99960),Oe=M(27727),ee=M(99426),xt=M(65213),de=M(24718),re=M(28114),Rt=a.forwardRef(function(Ot,kt){var cn=Ot.prefixCls,pi=Ot.forceRender,nr=Ot.className,mi=Ot.style,Zi=Ot.children,$n=Ot.isActive,bi=Ot.role,Sr=Ot.classNames,Ir=Ot.styles,Z=a.useState($n||pi),Tt=(0,$t.Z)(Z,2),Tn=Tt[0],ve=Tt[1];return a.useEffect(function(){(pi||$n)&&ve(!0)},[pi,$n]),Tn?a.createElement("div",{ref:kt,className:ie()("".concat(cn,"-content"),(0,xt.Z)((0,xt.Z)({},"".concat(cn,"-content-active"),$n),"".concat(cn,"-content-inactive"),!$n),nr),style:mi,role:bi},a.createElement("div",{className:ie()("".concat(cn,"-content-box"),Sr==null?void 0:Sr.body),style:Ir==null?void 0:Ir.body},Zi)):null});Rt.displayName="PanelContent";var T=Rt,Bt=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],He=a.forwardRef(function(Ot,kt){var cn=Ot.showArrow,pi=cn===void 0?!0:cn,nr=Ot.headerClass,mi=Ot.isActive,Zi=Ot.onItemClick,$n=Ot.forceRender,bi=Ot.className,Sr=Ot.classNames,Ir=Sr===void 0?{}:Sr,Z=Ot.styles,Tt=Z===void 0?{}:Z,Tn=Ot.prefixCls,ve=Ot.collapsible,Ae=Ot.accordion,nt=Ot.panelKey,fn=Ot.extra,An=Ot.header,oi=Ot.expandIcon,Wi=Ot.openMotion,Cr=Ot.destroyInactivePanel,Ur=Ot.children,Lr=(0,vt.Z)(Ot,Bt),Tr=ve==="disabled",Dt=fn!=null&&typeof fn!="boolean",kn=(0,xt.Z)((0,xt.Z)((0,xt.Z)({onClick:function(){Zi==null||Zi(nt)},onKeyDown:function(Nr){(Nr.key==="Enter"||Nr.keyCode===re.Z.ENTER||Nr.which===re.Z.ENTER)&&(Zi==null||Zi(nt))},role:Ae?"tab":"button"},"aria-expanded",mi),"aria-disabled",Tr),"tabIndex",Tr?-1:0),Xn=typeof oi=="function"?oi(Ot):a.createElement("i",{className:"arrow"}),pn=Xn&&a.createElement("div",(0,se.Z)({className:"".concat(Tn,"-expand-icon")},["header","icon"].includes(ve)?kn:{}),Xn),ci=ie()("".concat(Tn,"-item"),(0,xt.Z)((0,xt.Z)({},"".concat(Tn,"-item-active"),mi),"".concat(Tn,"-item-disabled"),Tr),bi),ir=ie()(nr,"".concat(Tn,"-header"),(0,xt.Z)({},"".concat(Tn,"-collapsible-").concat(ve),!!ve),Ir.header),or=(0,ee.Z)({className:ir,style:Tt.header},["header","icon"].includes(ve)?{}:kn);return a.createElement("div",(0,se.Z)({},Lr,{ref:kt,className:ci}),a.createElement("div",or,pi&&pn,a.createElement("span",(0,se.Z)({className:"".concat(Tn,"-header-text")},ve==="header"?kn:{}),An),Dt&&a.createElement("div",{className:"".concat(Tn,"-extra")},fn)),a.createElement(de.ZP,(0,se.Z)({visible:mi,leavedClassName:"".concat(Tn,"-content-hidden")},Wi,{forceRender:$n,removeOnLeave:Cr}),function(Gr,Nr){var Xi=Gr.className,Zr=Gr.style;return a.createElement(T,{ref:Nr,prefixCls:Tn,className:Xi,classNames:Ir,style:Zr,styles:Tt,isActive:mi,forceRender:$n,role:Ae?"tabpanel":void 0},Ur)}))}),Fe=He,Vt=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],_t=function(kt,cn){var pi=cn.prefixCls,nr=cn.accordion,mi=cn.collapsible,Zi=cn.destroyInactivePanel,$n=cn.onItemClick,bi=cn.activeKey,Sr=cn.openMotion,Ir=cn.expandIcon;return kt.map(function(Z,Tt){var Tn=Z.children,ve=Z.label,Ae=Z.key,nt=Z.collapsible,fn=Z.onItemClick,An=Z.destroyInactivePanel,oi=(0,vt.Z)(Z,Vt),Wi=String(Ae!=null?Ae:Tt),Cr=nt!=null?nt:mi,Ur=An!=null?An:Zi,Lr=function(kn){Cr!=="disabled"&&($n(kn),fn==null||fn(kn))},Tr=!1;return nr?Tr=bi[0]===Wi:Tr=bi.indexOf(Wi)>-1,a.createElement(Fe,(0,se.Z)({},oi,{prefixCls:pi,key:Wi,panelKey:Wi,isActive:Tr,accordion:nr,openMotion:Sr,expandIcon:Ir,header:ve,collapsible:Cr,onItemClick:Lr,destroyInactivePanel:Ur}),Tn)})},et=function(kt,cn,pi){if(!kt)return null;var nr=pi.prefixCls,mi=pi.accordion,Zi=pi.collapsible,$n=pi.destroyInactivePanel,bi=pi.onItemClick,Sr=pi.activeKey,Ir=pi.openMotion,Z=pi.expandIcon,Tt=kt.key||String(cn),Tn=kt.props,ve=Tn.header,Ae=Tn.headerClass,nt=Tn.destroyInactivePanel,fn=Tn.collapsible,An=Tn.onItemClick,oi=!1;mi?oi=Sr[0]===Tt:oi=Sr.indexOf(Tt)>-1;var Wi=fn!=null?fn:Zi,Cr=function(Tr){Wi!=="disabled"&&(bi(Tr),An==null||An(Tr))},Ur={key:Tt,panelKey:Tt,header:ve,headerClass:Ae,isActive:oi,prefixCls:nr,destroyInactivePanel:nt!=null?nt:$n,openMotion:Ir,accordion:mi,children:kt.props.children,onItemClick:Cr,expandIcon:Z,collapsible:Wi};return typeof kt.type=="string"?kt:(Object.keys(Ur).forEach(function(Lr){typeof Ur[Lr]=="undefined"&&delete Ur[Lr]}),a.cloneElement(kt,Ur))};function Kt(Ot,kt,cn){return Array.isArray(Ot)?_t(Ot,cn):(0,Oe.Z)(kt).map(function(pi,nr){return et(pi,nr,cn)})}var wt=Kt,pt=M(22898);function je(Ot){var kt=Ot;if(!Array.isArray(kt)){var cn=(0,qe.Z)(kt);kt=cn==="number"||cn==="string"?[kt]:[]}return kt.map(function(pi){return String(pi)})}var Ct=a.forwardRef(function(Ot,kt){var cn=Ot.prefixCls,pi=cn===void 0?"rc-collapse":cn,nr=Ot.destroyInactivePanel,mi=nr===void 0?!1:nr,Zi=Ot.style,$n=Ot.accordion,bi=Ot.className,Sr=Ot.children,Ir=Ot.collapsible,Z=Ot.openMotion,Tt=Ot.expandIcon,Tn=Ot.activeKey,ve=Ot.defaultActiveKey,Ae=Ot.onChange,nt=Ot.items,fn=ie()(pi,bi),An=(0,Pe.Z)([],{value:Tn,onChange:function(Dt){return Ae==null?void 0:Ae(Dt)},defaultValue:ve,postState:je}),oi=(0,$t.Z)(An,2),Wi=oi[0],Cr=oi[1],Ur=function(Dt){return Cr(function(){if($n)return Wi[0]===Dt?[]:[Dt];var kn=Wi.indexOf(Dt),Xn=kn>-1;return Xn?Wi.filter(function(pn){return pn!==Dt}):[].concat((0,ye.Z)(Wi),[Dt])})};(0,Ye.ZP)(!Sr,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var Lr=wt(nt,Sr,{prefixCls:pi,accordion:$n,openMotion:Z,expandIcon:Tt,collapsible:Ir,destroyInactivePanel:mi,onItemClick:Ur,activeKey:Wi});return a.createElement("div",(0,se.Z)({ref:kt,className:fn,style:Zi,role:$n?"tablist":void 0},(0,pt.Z)(Ot,{aria:!0,data:!0})),Lr)}),Le=Object.assign(Ct,{Panel:Fe}),st=Le,zt=Le.Panel,Yt=M(91081),xn=M(73760),Zn=M(1928),Yn=M(49376),Fn=M(57350),qi=a.forwardRef((Ot,kt)=>{const{getPrefixCls:cn}=a.useContext(Yn.E_),{prefixCls:pi,className:nr,showArrow:mi=!0}=Ot,Zi=cn("collapse",pi),$n=ie()({[`${Zi}-no-arrow`]:!mi},nr);return a.createElement(st.Panel,Object.assign({ref:kt},Ot,{prefixCls:Zi,className:$n}))}),li=M(47424),fi=M(64336),Ei=Ot=>({[Ot.componentCls]:{[`${Ot.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${Ot.motionDurationMid} ${Ot.motionEaseInOut},
        opacity ${Ot.motionDurationMid} ${Ot.motionEaseInOut} !important`}},[`${Ot.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${Ot.motionDurationMid} ${Ot.motionEaseInOut},
        opacity ${Ot.motionDurationMid} ${Ot.motionEaseInOut} !important`}}}),Xt=M(46007),rt=M(84458);const Pt=Ot=>{const{componentCls:kt,contentBg:cn,padding:pi,headerBg:nr,headerPadding:mi,collapseHeaderPaddingSM:Zi,collapseHeaderPaddingLG:$n,collapsePanelBorderRadius:bi,lineWidth:Sr,lineType:Ir,colorBorder:Z,colorText:Tt,colorTextHeading:Tn,colorTextDisabled:ve,fontSizeLG:Ae,lineHeight:nt,lineHeightLG:fn,marginSM:An,paddingSM:oi,paddingLG:Wi,paddingXS:Cr,motionDurationSlow:Ur,fontSizeIcon:Lr,contentPadding:Tr,fontHeight:Dt,fontHeightLG:kn}=Ot,Xn=`${(0,li.bf)(Sr)} ${Ir} ${Z}`;return{[kt]:Object.assign(Object.assign({},(0,fi.Wf)(Ot)),{backgroundColor:nr,border:Xn,borderRadius:bi,"&-rtl":{direction:"rtl"},[`& > ${kt}-item`]:{borderBottom:Xn,"&:first-child":{[`
            &,
            & > ${kt}-header`]:{borderRadius:`${(0,li.bf)(bi)} ${(0,li.bf)(bi)} 0 0`}},"&:last-child":{[`
            &,
            & > ${kt}-header`]:{borderRadius:`0 0 ${(0,li.bf)(bi)} ${(0,li.bf)(bi)}`}},[`> ${kt}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:mi,color:Tn,lineHeight:nt,cursor:"pointer",transition:`all ${Ur}, visibility 0s`},(0,fi.Qy)(Ot)),{[`> ${kt}-header-text`]:{flex:"auto"},[`${kt}-expand-icon`]:{height:Dt,display:"flex",alignItems:"center",paddingInlineEnd:An},[`${kt}-arrow`]:Object.assign(Object.assign({},(0,fi.Ro)()),{fontSize:Lr,transition:`transform ${Ur}`,svg:{transition:`transform ${Ur}`}}),[`${kt}-header-text`]:{marginInlineEnd:"auto"}}),[`${kt}-collapsible-header`]:{cursor:"default",[`${kt}-header-text`]:{flex:"none",cursor:"pointer"}},[`${kt}-collapsible-icon`]:{cursor:"unset",[`${kt}-expand-icon`]:{cursor:"pointer"}}},[`${kt}-content`]:{color:Tt,backgroundColor:cn,borderTop:Xn,[`& > ${kt}-content-box`]:{padding:Tr},"&-hidden":{display:"none"}},"&-small":{[`> ${kt}-item`]:{[`> ${kt}-header`]:{padding:Zi,paddingInlineStart:Cr,[`> ${kt}-expand-icon`]:{marginInlineStart:Ot.calc(oi).sub(Cr).equal()}},[`> ${kt}-content > ${kt}-content-box`]:{padding:oi}}},"&-large":{[`> ${kt}-item`]:{fontSize:Ae,lineHeight:fn,[`> ${kt}-header`]:{padding:$n,paddingInlineStart:pi,[`> ${kt}-expand-icon`]:{height:kn,marginInlineStart:Ot.calc(Wi).sub(pi).equal()}},[`> ${kt}-content > ${kt}-content-box`]:{padding:Wi}}},[`${kt}-item:last-child`]:{borderBottom:0,[`> ${kt}-content`]:{borderRadius:`0 0 ${(0,li.bf)(bi)} ${(0,li.bf)(bi)}`}},[`& ${kt}-item-disabled > ${kt}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:ve,cursor:"not-allowed"}},[`&${kt}-icon-position-end`]:{[`& > ${kt}-item`]:{[`> ${kt}-header`]:{[`${kt}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:An}}}}})}},bn=Ot=>{const{componentCls:kt}=Ot,cn=`> ${kt}-item > ${kt}-header ${kt}-arrow`;return{[`${kt}-rtl`]:{[cn]:{transform:"rotate(180deg)"}}}},di=Ot=>{const{componentCls:kt,headerBg:cn,paddingXXS:pi,colorBorder:nr}=Ot;return{[`${kt}-borderless`]:{backgroundColor:cn,border:0,[`> ${kt}-item`]:{borderBottom:`1px solid ${nr}`},[`
        > ${kt}-item:last-child,
        > ${kt}-item:last-child ${kt}-header
      `]:{borderRadius:0},[`> ${kt}-item:last-child`]:{borderBottom:0},[`> ${kt}-item > ${kt}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${kt}-item > ${kt}-content > ${kt}-content-box`]:{paddingTop:pi}}}},en=Ot=>{const{componentCls:kt,paddingSM:cn}=Ot;return{[`${kt}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${kt}-item`]:{borderBottom:0,[`> ${kt}-content`]:{backgroundColor:"transparent",border:0,[`> ${kt}-content-box`]:{paddingBlock:cn}}}}}},vr=Ot=>({headerPadding:`${Ot.paddingSM}px ${Ot.padding}px`,headerBg:Ot.colorFillAlter,contentPadding:`${Ot.padding}px 16px`,contentBg:Ot.colorBgContainer});var Er=(0,Xt.I$)("Collapse",Ot=>{const kt=(0,rt.IX)(Ot,{collapseHeaderPaddingSM:`${(0,li.bf)(Ot.paddingXS)} ${(0,li.bf)(Ot.paddingSM)}`,collapseHeaderPaddingLG:`${(0,li.bf)(Ot.padding)} ${(0,li.bf)(Ot.paddingLG)}`,collapsePanelBorderRadius:Ot.borderRadiusLG});return[Pt(kt),di(kt),en(kt),bn(kt),Ei(kt)]},vr),er=Object.assign(a.forwardRef((Ot,kt)=>{const{getPrefixCls:cn,direction:pi,expandIcon:nr,className:mi,style:Zi}=(0,Yn.dj)("collapse"),{prefixCls:$n,className:bi,rootClassName:Sr,style:Ir,bordered:Z=!0,ghost:Tt,size:Tn,expandIconPosition:ve="start",children:Ae,expandIcon:nt}=Ot,fn=(0,Fn.Z)(ci=>{var ir;return(ir=Tn!=null?Tn:ci)!==null&&ir!==void 0?ir:"middle"}),An=cn("collapse",$n),oi=cn(),[Wi,Cr,Ur]=Er(An),Lr=a.useMemo(()=>ve==="left"?"start":ve==="right"?"end":ve,[ve]),Tr=nt!=null?nt:nr,Dt=a.useCallback(function(){let ci=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ir=typeof Tr=="function"?Tr(ci):a.createElement(Be,{rotate:ci.isActive?pi==="rtl"?-90:90:void 0,"aria-label":ci.isActive?"expanded":"collapsed"});return(0,Zn.Tm)(ir,()=>{var or;return{className:ie()((or=ir==null?void 0:ir.props)===null||or===void 0?void 0:or.className,`${An}-arrow`)}})},[Tr,An]),kn=ie()(`${An}-icon-position-${Lr}`,{[`${An}-borderless`]:!Z,[`${An}-rtl`]:pi==="rtl",[`${An}-ghost`]:!!Tt,[`${An}-${fn}`]:fn!=="middle"},mi,bi,Sr,Cr,Ur),Xn=Object.assign(Object.assign({},(0,xn.Z)(oi)),{motionAppear:!1,leavedClassName:`${An}-content-hidden`}),pn=a.useMemo(()=>Ae?(0,Oe.Z)(Ae).map((ci,ir)=>{var or,Gr;const Nr=ci.props;if(Nr!=null&&Nr.disabled){const Xi=(or=ci.key)!==null&&or!==void 0?or:String(ir),Zr=Object.assign(Object.assign({},(0,Yt.Z)(ci.props,["disabled"])),{key:Xi,collapsible:(Gr=Nr.collapsible)!==null&&Gr!==void 0?Gr:"disabled"});return(0,Zn.Tm)(ci,Zr)}return ci}):null,[Ae]);return Wi(a.createElement(st,Object.assign({ref:kt,openMotion:Xn},(0,Yt.Z)(Ot,["rootClassName"]),{expandIcon:Dt,prefixCls:An,className:kn,style:Object.assign(Object.assign({},Zi),Ir)}),pn))}),{Panel:qi}),Ui=er,Et=M(25313),vn=M(83974),Mn=M(95238);const gi=Ot=>Ot.map(kt=>(kt.colors=kt.colors.map(Mn.vC),kt)),$i=(Ot,kt)=>{const{r:cn,g:pi,b:nr,a:mi}=Ot.toRgb(),Zi=new W.Il(Ot.toRgbString()).onBackground(kt).toHsv();return mi<=.5?Zi.v>.5:cn*.299+pi*.587+nr*.114>192},hr=(Ot,kt)=>{var cn;return`panel-${(cn=Ot.key)!==null&&cn!==void 0?cn:kt}`};var vi=Ot=>{let{prefixCls:kt,presets:cn,value:pi,onChange:nr}=Ot;const[mi]=(0,Et.Z)("ColorPicker"),[,Zi]=(0,vn.ZP)(),[$n]=(0,Pe.Z)(gi(cn),{value:gi(cn),postState:gi}),bi=`${kt}-presets`,Sr=(0,a.useMemo)(()=>$n.reduce((Tt,Tn,ve)=>{const{defaultOpen:Ae=!0}=Tn;return Ae&&Tt.push(hr(Tn,ve)),Tt},[]),[$n]),Ir=Tt=>{nr==null||nr(Tt)},Z=$n.map((Tt,Tn)=>{var ve;return{key:hr(Tt,Tn),label:a.createElement("div",{className:`${bi}-label`},Tt==null?void 0:Tt.label),children:a.createElement("div",{className:`${bi}-items`},Array.isArray(Tt==null?void 0:Tt.colors)&&((ve=Tt.colors)===null||ve===void 0?void 0:ve.length)>0?Tt.colors.map((Ae,nt)=>a.createElement(W.G5,{key:`preset-${nt}-${Ae.toHexString()}`,color:(0,Mn.vC)(Ae).toRgbString(),prefixCls:kt,className:ie()(`${bi}-color`,{[`${bi}-color-checked`]:Ae.toHexString()===(pi==null?void 0:pi.toHexString()),[`${bi}-color-bright`]:$i(Ae,Zi.colorBgElevated)}),onClick:()=>Ir(Ae)})):a.createElement("span",{className:`${bi}-empty`},mi.presetEmpty))}});return a.createElement("div",{className:bi},a.createElement(Ui,{defaultActiveKey:Sr,ghost:!0,items:Z}))}},37858:function(ji,It,M){"use strict";M.d(It,{Z:function(){return mu}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(90523),Pe=M(93291),se=M(56935),J=M(79848),oe=M(49376),fe=M(91207),Me=M(7821),tt=M(57350),Be=M(64113),ye=M(28114);const $t=f=>f?typeof f=="function"?f():f:null;var qe=M(73760),Ye=M(1928),vt=M(54907),Oe=M(48716),ee=M(47424);function xt(f){const{sizePopupArrow:_,borderRadiusXS:U,borderRadiusOuter:I}=f,q=_/2,Se=0,Ie=q,D=I*1/Math.sqrt(2),ne=q-I*(1-1/Math.sqrt(2)),ue=q-U*(1/Math.sqrt(2)),le=I*(Math.sqrt(2)-1)+U*(1/Math.sqrt(2)),ce=2*q-ue,ut=le,Ge=2*q-D,yt=ne,Xe=2*q-Se,dt=Ie,Nt=q*Math.sqrt(2)+I*(Math.sqrt(2)-2),ft=I*(Math.sqrt(2)-1),an=`polygon(${ft}px 100%, 50% ${ft}px, ${2*q-ft}px 100%, ${ft}px 100%)`,Dn=`path('M ${Se} ${Ie} A ${I} ${I} 0 0 0 ${D} ${ne} L ${ue} ${le} A ${U} ${U} 0 0 1 ${ce} ${ut} L ${Ge} ${yt} A ${I} ${I} 0 0 0 ${Xe} ${dt} Z')`;return{arrowShadowWidth:Nt,arrowPath:Dn,arrowPolygon:an}}const de=(f,_,U)=>{const{sizePopupArrow:I,arrowPolygon:q,arrowPath:Se,arrowShadowWidth:Ie,borderRadiusXS:D,calc:ne}=f;return{pointerEvents:"none",width:I,height:I,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:I,height:ne(I).div(2).equal(),background:_,clipPath:{_multi_value_:!0,value:[q,Se]},content:'""'},"&::after":{content:'""',position:"absolute",width:Ie,height:Ie,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,ee.bf)(D)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:U,zIndex:0,background:"transparent"}}},re=8;function Rt(f){const{contentRadius:_,limitVerticalRadius:U}=f,I=_>12?_+2:12;return{arrowOffsetHorizontal:I,arrowOffsetVertical:U?re:I}}function T(f,_){return f?_:{}}function Bt(f,_,U){const{componentCls:I,boxShadowPopoverArrow:q,arrowOffsetVertical:Se,arrowOffsetHorizontal:Ie}=f,{arrowDistance:D=0,arrowPlacement:ne={left:!0,right:!0,top:!0,bottom:!0}}=U||{};return{[I]:Object.assign(Object.assign(Object.assign(Object.assign({[`${I}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},de(f,_,q)),{"&:before":{background:_}})]},T(!!ne.top,{[[`&-placement-top > ${I}-arrow`,`&-placement-topLeft > ${I}-arrow`,`&-placement-topRight > ${I}-arrow`].join(",")]:{bottom:D,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${I}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":Ie,[`> ${I}-arrow`]:{left:{_skip_check_:!0,value:Ie}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,ee.bf)(Ie)})`,[`> ${I}-arrow`]:{right:{_skip_check_:!0,value:Ie}}}})),T(!!ne.bottom,{[[`&-placement-bottom > ${I}-arrow`,`&-placement-bottomLeft > ${I}-arrow`,`&-placement-bottomRight > ${I}-arrow`].join(",")]:{top:D,transform:"translateY(-100%)"},[`&-placement-bottom > ${I}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":Ie,[`> ${I}-arrow`]:{left:{_skip_check_:!0,value:Ie}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,ee.bf)(Ie)})`,[`> ${I}-arrow`]:{right:{_skip_check_:!0,value:Ie}}}})),T(!!ne.left,{[[`&-placement-left > ${I}-arrow`,`&-placement-leftTop > ${I}-arrow`,`&-placement-leftBottom > ${I}-arrow`].join(",")]:{right:{_skip_check_:!0,value:D},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${I}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${I}-arrow`]:{top:Se},[`&-placement-leftBottom > ${I}-arrow`]:{bottom:Se}})),T(!!ne.right,{[[`&-placement-right > ${I}-arrow`,`&-placement-rightTop > ${I}-arrow`,`&-placement-rightBottom > ${I}-arrow`].join(",")]:{left:{_skip_check_:!0,value:D},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${I}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${I}-arrow`]:{top:Se},[`&-placement-rightBottom > ${I}-arrow`]:{bottom:Se}}))}}function He(f,_,U,I){if(I===!1)return{adjustX:!1,adjustY:!1};const q=I&&typeof I=="object"?I:{},Se={};switch(f){case"top":case"bottom":Se.shiftX=_.arrowOffsetHorizontal*2+U,Se.shiftY=!0,Se.adjustY=!0;break;case"left":case"right":Se.shiftY=_.arrowOffsetVertical*2+U,Se.shiftX=!0,Se.adjustX=!0;break}const Ie=Object.assign(Object.assign({},Se),q);return Ie.shiftX||(Ie.adjustX=!0),Ie.shiftY||(Ie.adjustY=!0),Ie}const Fe={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Vt={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},_t=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function et(f){const{arrowWidth:_,autoAdjustOverflow:U,arrowPointAtCenter:I,offset:q,borderRadius:Se,visibleFirst:Ie}=f,D=_/2,ne={};return Object.keys(Fe).forEach(ue=>{const le=I&&Vt[ue]||Fe[ue],ce=Object.assign(Object.assign({},le),{offset:[0,0],dynamicInset:!0});switch(ne[ue]=ce,_t.has(ue)&&(ce.autoArrow=!1),ue){case"top":case"topLeft":case"topRight":ce.offset[1]=-D-q;break;case"bottom":case"bottomLeft":case"bottomRight":ce.offset[1]=D+q;break;case"left":case"leftTop":case"leftBottom":ce.offset[0]=-D-q;break;case"right":case"rightTop":case"rightBottom":ce.offset[0]=D+q;break}const ut=Rt({contentRadius:Se,limitVerticalRadius:!0});if(I)switch(ue){case"topLeft":case"bottomLeft":ce.offset[0]=-ut.arrowOffsetHorizontal-D;break;case"topRight":case"bottomRight":ce.offset[0]=ut.arrowOffsetHorizontal+D;break;case"leftTop":case"rightTop":ce.offset[1]=-ut.arrowOffsetHorizontal*2+D;break;case"leftBottom":case"rightBottom":ce.offset[1]=ut.arrowOffsetHorizontal*2-D;break}ce.overflow=He(ue,ut,_,U),Ie&&(ce.htmlRegion="visibleFirst")}),ne}var Kt=M(22728),wt=M(27597),pt=M(83974),je=M(64336),Ct=M(93874),Le=M(61107);function st(f,_){return Le.i.reduce((U,I)=>{const q=f[`${I}1`],Se=f[`${I}3`],Ie=f[`${I}6`],D=f[`${I}7`];return Object.assign(Object.assign({},U),_(I,{lightColor:q,lightBorderColor:Se,darkColor:Ie,textColor:D}))},{})}var zt=M(84458),Yt=M(46007);const xn=f=>{const{calc:_,componentCls:U,tooltipMaxWidth:I,tooltipColor:q,tooltipBg:Se,tooltipBorderRadius:Ie,zIndexPopup:D,controlHeight:ne,boxShadowSecondary:ue,paddingSM:le,paddingXS:ce,arrowOffsetHorizontal:ut,sizePopupArrow:Ge}=f,yt=_(Ie).add(Ge).add(ut).equal(),Xe=_(Ie).mul(2).add(Ge).equal();return[{[U]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,je.Wf)(f)),{position:"absolute",zIndex:D,display:"block",width:"max-content",maxWidth:I,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":Se,[`${U}-inner`]:{minWidth:Xe,minHeight:ne,padding:`${(0,ee.bf)(f.calc(le).div(2).equal())} ${(0,ee.bf)(ce)}`,color:q,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:Se,borderRadius:Ie,boxShadow:ue,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:yt},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${U}-inner`]:{borderRadius:f.min(Ie,re)}},[`${U}-content`]:{position:"relative"}}),st(f,(dt,Nt)=>{let{darkColor:ft}=Nt;return{[`&${U}-${dt}`]:{[`${U}-inner`]:{backgroundColor:ft},[`${U}-arrow`]:{"--antd-arrow-background-color":ft}}}})),{"&-rtl":{direction:"rtl"}})},Bt(f,"var(--antd-arrow-background-color)"),{[`${U}-pure`]:{position:"relative",maxWidth:"none",margin:f.sizePopupArrow}}]},Zn=f=>Object.assign(Object.assign({zIndexPopup:f.zIndexPopupBase+70},Rt({contentRadius:f.borderRadius,limitVerticalRadius:!0})),xt((0,zt.IX)(f,{borderRadiusOuter:Math.min(f.borderRadiusOuter,4)})));var Yn=function(f){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Yt.I$)("Tooltip",I=>{const{borderRadius:q,colorTextLightSolid:Se,colorBgSpotlight:Ie}=I,D=(0,zt.IX)(I,{tooltipMaxWidth:250,tooltipColor:Se,tooltipBorderRadius:q,tooltipBg:Ie});return[xn(D),(0,Ct._y)(I,"zoom-big-fast")]},Zn,{resetStyle:!1,injectStyle:_})(f)},Fn=M(81230);const si=Le.i.map(f=>`${f}-inverse`),qi=null;function li(f){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,Fn.Z)(si),(0,Fn.Z)(Le.i)).includes(f):Le.i.includes(f)}function fi(f){return qi.includes(f)}function Oi(f,_){const U=li(_),I=z()({[`${f}-${_}`]:_&&U}),q={},Se={};return _&&!U&&(q.background=_,Se["--antd-arrow-background-color"]=_),{className:I,overlayStyle:q,arrowStyle:Se}}var Xt=f=>{const{prefixCls:_,className:U,placement:I="top",title:q,color:Se,overlayInnerStyle:Ie}=f,{getPrefixCls:D}=a.useContext(oe.E_),ne=D("tooltip",_),[ue,le,ce]=Yn(ne),ut=Oi(ne,Se),Ge=ut.arrowStyle,yt=Object.assign(Object.assign({},Ie),ut.overlayStyle),Xe=z()(le,ce,ne,`${ne}-pure`,`${ne}-placement-${I}`,U,ut.className);return ue(a.createElement("div",{className:Xe,style:Ge},a.createElement("div",{className:`${ne}-arrow`}),a.createElement(vt.G,Object.assign({},f,{className:le,prefixCls:ne,overlayInnerStyle:yt}),q)))},rt=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const bn=a.forwardRef((f,_)=>{var U,I;const{prefixCls:q,openClassName:Se,getTooltipContainer:Ie,color:D,overlayInnerStyle:ne,children:ue,afterOpenChange:le,afterVisibleChange:ce,destroyTooltipOnHide:ut,arrow:Ge=!0,title:yt,overlay:Xe,builtinPlacements:dt,arrowPointAtCenter:Nt=!1,autoAdjustOverflow:ft=!0,motion:an,getPopupContainer:Dn,placement:ii="top",mouseEnterDelay:Un=.1,mouseLeaveDelay:Gn=.1,overlayStyle:zn,rootClassName:zi,overlayClassName:Ci,styles:Hi,classNames:Qi}=f,Wr=rt(f,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),Gi=!!Ge,[,Bi]=(0,pt.ZP)(),{getPopupContainer:Or,getPrefixCls:Rr,direction:ts,className:jr,style:br,classNames:Dr,styles:ao}=(0,oe.dj)("tooltip"),ha=(0,Kt.ln)("Tooltip"),Ks=a.useRef(null),Is=()=>{var ho;(ho=Ks.current)===null||ho===void 0||ho.forceAlign()};a.useImperativeHandle(_,()=>{var ho,na;return{forceAlign:Is,forcePopupAlign:()=>{ha.deprecated(!1,"forcePopupAlign","forceAlign"),Is()},nativeElement:(ho=Ks.current)===null||ho===void 0?void 0:ho.nativeElement,popupElement:(na=Ks.current)===null||na===void 0?void 0:na.popupElement}});const[gs,Ds]=(0,ie.Z)(!1,{value:(U=f.open)!==null&&U!==void 0?U:f.visible,defaultValue:(I=f.defaultOpen)!==null&&I!==void 0?I:f.defaultVisible}),Ho=!yt&&!Xe&&yt!==0,fa=ho=>{var na,oa;Ds(Ho?!1:ho),Ho||((na=f.onOpenChange)===null||na===void 0||na.call(f,ho),(oa=f.onVisibleChange)===null||oa===void 0||oa.call(f,ho))},lo=a.useMemo(()=>{var ho,na;let oa=Nt;return typeof Ge=="object"&&(oa=(na=(ho=Ge.pointAtCenter)!==null&&ho!==void 0?ho:Ge.arrowPointAtCenter)!==null&&na!==void 0?na:Nt),dt||et({arrowPointAtCenter:oa,autoAdjustOverflow:ft,arrowWidth:Gi?Bi.sizePopupArrow:0,borderRadius:Bi.borderRadius,offset:Bi.marginXXS,visibleFirst:!0})},[Nt,Ge,dt,Bi]),mr=a.useMemo(()=>yt===0?yt:Xe||yt||"",[Xe,yt]),gr=a.createElement(Pe.Z,{space:!0},typeof mr=="function"?mr():mr),rs=Rr("tooltip",q),co=Rr(),Xr=f["data-popover-inject"];let ys=gs;!("open"in f)&&!("visible"in f)&&Ho&&(ys=!1);const ks=a.isValidElement(ue)&&!(0,Ye.M2)(ue)?ue:a.createElement("span",null,ue),Eo=ks.props,uo=!Eo.className||typeof Eo.className=="string"?z()(Eo.className,Se||`${rs}-open`):Eo.className,[Sa,rl,ul]=Yn(rs,!Xr),ka=Oi(rs,D),wr=ka.arrowStyle,Za=z()(Ci,{[`${rs}-rtl`]:ts==="rtl"},ka.className,zi,rl,ul,jr,Dr.root,Qi==null?void 0:Qi.root),Ha=z()(Dr.body,Qi==null?void 0:Qi.body),[Ia,Zo]=(0,Oe.Cn)("Tooltip",Wr.zIndex),Xo=a.createElement(vt.Z,Object.assign({},Wr,{zIndex:Ia,showArrow:Gi,placement:ii,mouseEnterDelay:Un,mouseLeaveDelay:Gn,prefixCls:rs,classNames:{root:Za,body:Ha},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},wr),ao.root),br),zn),Hi==null?void 0:Hi.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},ao.body),ne),Hi==null?void 0:Hi.body),ka.overlayStyle)},getTooltipContainer:Dn||Ie||Or,ref:Ks,builtinPlacements:lo,overlay:gr,visible:ys,onVisibleChange:fa,afterVisibleChange:le!=null?le:ce,arrowContent:a.createElement("span",{className:`${rs}-arrow-content`}),motion:{motionName:(0,qe.m)(co,"zoom-big-fast",f.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!ut}),ys?(0,Ye.Tm)(ks,{className:uo}):ks);return Sa(a.createElement(wt.Z.Provider,{value:Zo},Xo))});bn._InternalPanelDoNotUseOrYouWillBeFired=Xt;var di=bn;const en=f=>{const{componentCls:_,popoverColor:U,titleMinWidth:I,fontWeightStrong:q,innerPadding:Se,boxShadowSecondary:Ie,colorTextHeading:D,borderRadiusLG:ne,zIndexPopup:ue,titleMarginBottom:le,colorBgElevated:ce,popoverBg:ut,titleBorderBottom:Ge,innerContentPadding:yt,titlePadding:Xe}=f;return[{[_]:Object.assign(Object.assign({},(0,je.Wf)(f)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:ue,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":ce,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${_}-content`]:{position:"relative"},[`${_}-inner`]:{backgroundColor:ut,backgroundClip:"padding-box",borderRadius:ne,boxShadow:Ie,padding:Se},[`${_}-title`]:{minWidth:I,marginBottom:le,color:D,fontWeight:q,borderBottom:Ge,padding:Xe},[`${_}-inner-content`]:{color:U,padding:yt}})},Bt(f,"var(--antd-arrow-background-color)"),{[`${_}-pure`]:{position:"relative",maxWidth:"none",margin:f.sizePopupArrow,display:"inline-block",[`${_}-content`]:{display:"inline-block"}}}]},vr=f=>{const{componentCls:_}=f;return{[_]:Le.i.map(U=>{const I=f[`${U}6`];return{[`&${_}-${U}`]:{"--antd-arrow-background-color":I,[`${_}-inner`]:{backgroundColor:I},[`${_}-arrow`]:{background:"transparent"}}}})}},Er=f=>{const{lineWidth:_,controlHeight:U,fontHeight:I,padding:q,wireframe:Se,zIndexPopupBase:Ie,borderRadiusLG:D,marginXS:ne,lineType:ue,colorSplit:le,paddingSM:ce}=f,ut=U-I,Ge=ut/2,yt=ut/2-_,Xe=q;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:Ie+30},xt(f)),Rt({contentRadius:D,limitVerticalRadius:!0})),{innerPadding:Se?0:12,titleMarginBottom:Se?0:ne,titlePadding:Se?`${Ge}px ${Xe}px ${yt}px`:0,titleBorderBottom:Se?`${_}px ${ue} ${le}`:"none",innerContentPadding:Se?`${ce}px ${Xe}px`:0})};var tr=(0,Yt.I$)("Popover",f=>{const{colorBgElevated:_,colorText:U}=f,I=(0,zt.IX)(f,{popoverBg:_,popoverColor:U});return[en(I),vr(I),(0,Ct._y)(I,"zoom-big")]},Er,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),er=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const Ui=f=>{let{title:_,content:U,prefixCls:I}=f;return!_&&!U?null:a.createElement(a.Fragment,null,_&&a.createElement("div",{className:`${I}-title`},_),U&&a.createElement("div",{className:`${I}-inner-content`},U))},Et=f=>{const{hashId:_,prefixCls:U,className:I,style:q,placement:Se="top",title:Ie,content:D,children:ne}=f,ue=$t(Ie),le=$t(D),ce=z()(_,U,`${U}-pure`,`${U}-placement-${Se}`,I);return a.createElement("div",{className:ce,style:q},a.createElement("div",{className:`${U}-arrow`}),a.createElement(vt.G,Object.assign({},f,{className:_,prefixCls:U}),ne||a.createElement(Ui,{prefixCls:U,title:ue,content:le})))};var Mn=f=>{const{prefixCls:_,className:U}=f,I=er(f,["prefixCls","className"]),{getPrefixCls:q}=a.useContext(oe.E_),Se=q("popover",_),[Ie,D,ne]=tr(Se);return Ie(a.createElement(Et,Object.assign({},I,{prefixCls:Se,hashId:D,className:z()(U,ne)})))},gi=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const hr=a.forwardRef((f,_)=>{var U,I;const{prefixCls:q,title:Se,content:Ie,overlayClassName:D,placement:ne="top",trigger:ue="hover",children:le,mouseEnterDelay:ce=.1,mouseLeaveDelay:ut=.1,onOpenChange:Ge,overlayStyle:yt={},styles:Xe,classNames:dt}=f,Nt=gi(f,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:ft,className:an,style:Dn,classNames:ii,styles:Un}=(0,oe.dj)("popover"),Gn=ft("popover",q),[zn,zi,Ci]=tr(Gn),Hi=ft(),Qi=z()(D,zi,Ci,an,ii.root,dt==null?void 0:dt.root),Wr=z()(ii.body,dt==null?void 0:dt.body),[Gi,Bi]=(0,ie.Z)(!1,{value:(U=f.open)!==null&&U!==void 0?U:f.visible,defaultValue:(I=f.defaultOpen)!==null&&I!==void 0?I:f.defaultVisible}),Or=(Dr,ao)=>{Bi(Dr,!0),Ge==null||Ge(Dr,ao)},Rr=Dr=>{Dr.keyCode===ye.Z.ESC&&Or(!1,Dr)},ts=Dr=>{Or(Dr)},jr=$t(Se),br=$t(Ie);return zn(a.createElement(di,Object.assign({placement:ne,trigger:ue,mouseEnterDelay:ce,mouseLeaveDelay:ut},Nt,{prefixCls:Gn,classNames:{root:Qi,body:Wr},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},Un.root),Dn),yt),Xe==null?void 0:Xe.root),body:Object.assign(Object.assign({},Un.body),Xe==null?void 0:Xe.body)},ref:_,open:Gi,onOpenChange:ts,overlay:jr||br?a.createElement(Ui,{prefixCls:Gn,title:jr,content:br}):null,transitionName:(0,qe.m)(Hi,"zoom-big",Nt.transitionName),"data-popover-inject":!0}),(0,Ye.Tm)(le,{onKeyDown:Dr=>{var ao,ha;a.isValidElement(le)&&((ha=le==null?void 0:(ao=le.props).onKeyDown)===null||ha===void 0||ha.call(ao,Dr)),Rr(Dr)}})))});hr._InternalPanelDoNotUseOrYouWillBeFired=Mn;var Es=hr,vi=M(10111),Ot=M(42770),kt=M(70916),cn=M(51651),pi=M(46694),nr=M(52003),mi=M(75611),Zi=M(99960),$n=M(65213),bi=M(99426),Sr=M(74826),Ir=M(91081),Z=M(94996),Tt=M(24718),Tn=function(_,U){if(!_)return null;var I={left:_.offsetLeft,right:_.parentElement.clientWidth-_.clientWidth-_.offsetLeft,width:_.clientWidth,top:_.offsetTop,bottom:_.parentElement.clientHeight-_.clientHeight-_.offsetTop,height:_.clientHeight};return U?{left:0,right:0,width:0,top:I.top,bottom:I.bottom,height:I.height}:{left:I.left,right:I.right,width:I.width,top:0,bottom:0,height:0}},ve=function(_){return _!==void 0?"".concat(_,"px"):void 0};function Ae(f){var _=f.prefixCls,U=f.containerRef,I=f.value,q=f.getValueIndex,Se=f.motionName,Ie=f.onMotionStart,D=f.onMotionEnd,ne=f.direction,ue=f.vertical,le=ue===void 0?!1:ue,ce=a.useRef(null),ut=a.useState(I),Ge=(0,mi.Z)(ut,2),yt=Ge[0],Xe=Ge[1],dt=function(Bi){var Or,Rr=q(Bi),ts=(Or=U.current)===null||Or===void 0?void 0:Or.querySelectorAll(".".concat(_,"-item"))[Rr];return(ts==null?void 0:ts.offsetParent)&&ts},Nt=a.useState(null),ft=(0,mi.Z)(Nt,2),an=ft[0],Dn=ft[1],ii=a.useState(null),Un=(0,mi.Z)(ii,2),Gn=Un[0],zn=Un[1];(0,pi.Z)(function(){if(yt!==I){var Gi=dt(yt),Bi=dt(I),Or=Tn(Gi,le),Rr=Tn(Bi,le);Xe(I),Dn(Or),zn(Rr),Gi&&Bi?Ie():D()}},[I]);var zi=a.useMemo(function(){if(le){var Gi;return ve((Gi=an==null?void 0:an.top)!==null&&Gi!==void 0?Gi:0)}return ve(ne==="rtl"?-(an==null?void 0:an.right):an==null?void 0:an.left)},[le,ne,an]),Ci=a.useMemo(function(){if(le){var Gi;return ve((Gi=Gn==null?void 0:Gn.top)!==null&&Gi!==void 0?Gi:0)}return ve(ne==="rtl"?-(Gn==null?void 0:Gn.right):Gn==null?void 0:Gn.left)},[le,ne,Gn]),Hi=function(){return le?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},Qi=function(){return le?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},Wr=function(){Dn(null),zn(null),D()};return!an||!Gn?null:a.createElement(Tt.ZP,{visible:!0,motionName:Se,motionAppear:!0,onAppearStart:Hi,onAppearActive:Qi,onVisibleChanged:Wr},function(Gi,Bi){var Or=Gi.className,Rr=Gi.style,ts=(0,bi.Z)((0,bi.Z)({},Rr),{},{"--thumb-start-left":zi,"--thumb-start-width":ve(an==null?void 0:an.width),"--thumb-active-left":Ci,"--thumb-active-width":ve(Gn==null?void 0:Gn.width),"--thumb-start-top":zi,"--thumb-start-height":ve(an==null?void 0:an.height),"--thumb-active-top":Ci,"--thumb-active-height":ve(Gn==null?void 0:Gn.height)}),jr={ref:(0,Z.sQ)(ce,Bi),style:ts,className:z()("".concat(_,"-thumb"),Or)};return a.createElement("div",jr)})}var nt=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function fn(f){if(typeof f.title!="undefined")return f.title;if((0,Sr.Z)(f.label)!=="object"){var _;return(_=f.label)===null||_===void 0?void 0:_.toString()}}function An(f){return f.map(function(_){if((0,Sr.Z)(_)==="object"&&_!==null){var U=fn(_);return(0,bi.Z)((0,bi.Z)({},_),{},{title:U})}return{label:_==null?void 0:_.toString(),title:_==null?void 0:_.toString(),value:_}})}var oi=function(_){var U=_.prefixCls,I=_.className,q=_.disabled,Se=_.checked,Ie=_.label,D=_.title,ne=_.value,ue=_.name,le=_.onChange,ce=_.onFocus,ut=_.onBlur,Ge=_.onKeyDown,yt=_.onKeyUp,Xe=_.onMouseDown,dt=function(ft){q||le(ft,ne)};return a.createElement("label",{className:z()(I,(0,$n.Z)({},"".concat(U,"-item-disabled"),q)),onMouseDown:Xe},a.createElement("input",{name:ue,className:"".concat(U,"-item-input"),type:"radio",disabled:q,checked:Se,onChange:dt,onFocus:ce,onBlur:ut,onKeyDown:Ge,onKeyUp:yt}),a.createElement("div",{className:"".concat(U,"-item-label"),title:D,"aria-selected":Se},Ie))},Wi=a.forwardRef(function(f,_){var U,I,q=f.prefixCls,Se=q===void 0?"rc-segmented":q,Ie=f.direction,D=f.vertical,ne=f.options,ue=ne===void 0?[]:ne,le=f.disabled,ce=f.defaultValue,ut=f.value,Ge=f.name,yt=f.onChange,Xe=f.className,dt=Xe===void 0?"":Xe,Nt=f.motionName,ft=Nt===void 0?"thumb-motion":Nt,an=(0,Zi.Z)(f,nt),Dn=a.useRef(null),ii=a.useMemo(function(){return(0,Z.sQ)(Dn,_)},[Dn,_]),Un=a.useMemo(function(){return An(ue)},[ue]),Gn=(0,ie.Z)((U=Un[0])===null||U===void 0?void 0:U.value,{value:ut,defaultValue:ce}),zn=(0,mi.Z)(Gn,2),zi=zn[0],Ci=zn[1],Hi=a.useState(!1),Qi=(0,mi.Z)(Hi,2),Wr=Qi[0],Gi=Qi[1],Bi=function(gr,rs){Ci(rs),yt==null||yt(rs)},Or=(0,Ir.Z)(an,["children"]),Rr=a.useState(!1),ts=(0,mi.Z)(Rr,2),jr=ts[0],br=ts[1],Dr=a.useState(!1),ao=(0,mi.Z)(Dr,2),ha=ao[0],Ks=ao[1],Is=function(){Ks(!0)},gs=function(){Ks(!1)},Ds=function(){br(!1)},Ho=function(gr){gr.key==="Tab"&&br(!0)},fa=function(gr){var rs=Un.findIndex(function(ks){return ks.value===zi}),co=Un.length,Xr=(rs+gr+co)%co,ys=Un[Xr];ys&&(Ci(ys.value),yt==null||yt(ys.value))},lo=function(gr){switch(gr.key){case"ArrowLeft":case"ArrowUp":fa(-1);break;case"ArrowRight":case"ArrowDown":fa(1);break}};return a.createElement("div",(0,nr.Z)({role:"radiogroup","aria-label":"segmented control",tabIndex:le?void 0:0},Or,{className:z()(Se,(I={},(0,$n.Z)(I,"".concat(Se,"-rtl"),Ie==="rtl"),(0,$n.Z)(I,"".concat(Se,"-disabled"),le),(0,$n.Z)(I,"".concat(Se,"-vertical"),D),I),dt),ref:ii}),a.createElement("div",{className:"".concat(Se,"-group")},a.createElement(Ae,{vertical:D,prefixCls:Se,value:zi,containerRef:Dn,motionName:"".concat(Se,"-").concat(ft),direction:Ie,getValueIndex:function(gr){return Un.findIndex(function(rs){return rs.value===gr})},onMotionStart:function(){Gi(!0)},onMotionEnd:function(){Gi(!1)}}),Un.map(function(mr){var gr;return a.createElement(oi,(0,nr.Z)({},mr,{name:Ge,key:mr.value,prefixCls:Se,className:z()(mr.className,"".concat(Se,"-item"),(gr={},(0,$n.Z)(gr,"".concat(Se,"-item-selected"),mr.value===zi&&!Wr),(0,$n.Z)(gr,"".concat(Se,"-item-focused"),ha&&jr&&mr.value===zi),gr)),checked:mr.value===zi,onChange:Bi,onFocus:Is,onBlur:gs,onKeyDown:lo,onKeyUp:Ho,onMouseDown:Ds,disabled:!!le||!!mr.disabled}))})))}),Cr=Wi,Ur=Cr,Lr=M(58838);function Tr(f,_){return{[`${f}, ${f}:hover, ${f}:focus`]:{color:_.colorTextDisabled,cursor:"not-allowed"}}}function Dt(f){return{backgroundColor:f.itemSelectedBg,boxShadow:f.boxShadowTertiary}}const kn=Object.assign({overflow:"hidden"},je.vS),Xn=f=>{const{componentCls:_}=f,U=f.calc(f.controlHeight).sub(f.calc(f.trackPadding).mul(2)).equal(),I=f.calc(f.controlHeightLG).sub(f.calc(f.trackPadding).mul(2)).equal(),q=f.calc(f.controlHeightSM).sub(f.calc(f.trackPadding).mul(2)).equal();return{[_]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,je.Wf)(f)),{display:"inline-block",padding:f.trackPadding,color:f.itemColor,background:f.trackBg,borderRadius:f.borderRadius,transition:`all ${f.motionDurationMid} ${f.motionEaseInOut}`}),(0,je.Qy)(f)),{[`${_}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${_}-rtl`]:{direction:"rtl"},[`&${_}-vertical`]:{[`${_}-group`]:{flexDirection:"column"},[`${_}-thumb`]:{width:"100%",height:0,padding:`0 ${(0,ee.bf)(f.paddingXXS)}`}},[`&${_}-block`]:{display:"flex"},[`&${_}-block ${_}-item`]:{flex:1,minWidth:0},[`${_}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${f.motionDurationMid} ${f.motionEaseInOut}`,borderRadius:f.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},Dt(f)),{color:f.itemSelectedColor}),"&-focused":Object.assign({},(0,je.oN)(f)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${f.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${_}-item-selected):not(${_}-item-disabled)`]:{color:f.itemHoverColor,"&::after":{opacity:1,backgroundColor:f.itemHoverBg}},[`&:active:not(${_}-item-selected):not(${_}-item-disabled)`]:{color:f.itemHoverColor,"&::after":{opacity:1,backgroundColor:f.itemActiveBg}},"&-label":Object.assign({minHeight:U,lineHeight:(0,ee.bf)(U),padding:`0 ${(0,ee.bf)(f.segmentedPaddingHorizontal)}`},kn),"&-icon + *":{marginInlineStart:f.calc(f.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${_}-thumb`]:Object.assign(Object.assign({},Dt(f)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,ee.bf)(f.paddingXXS)} 0`,borderRadius:f.borderRadiusSM,transition:`transform ${f.motionDurationSlow} ${f.motionEaseInOut}, height ${f.motionDurationSlow} ${f.motionEaseInOut}`,[`& ~ ${_}-item:not(${_}-item-selected):not(${_}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${_}-lg`]:{borderRadius:f.borderRadiusLG,[`${_}-item-label`]:{minHeight:I,lineHeight:(0,ee.bf)(I),padding:`0 ${(0,ee.bf)(f.segmentedPaddingHorizontal)}`,fontSize:f.fontSizeLG},[`${_}-item, ${_}-thumb`]:{borderRadius:f.borderRadius}},[`&${_}-sm`]:{borderRadius:f.borderRadiusSM,[`${_}-item-label`]:{minHeight:q,lineHeight:(0,ee.bf)(q),padding:`0 ${(0,ee.bf)(f.segmentedPaddingHorizontalSM)}`},[`${_}-item, ${_}-thumb`]:{borderRadius:f.borderRadiusXS}}}),Tr(`&-disabled ${_}-item`,f)),Tr(`${_}-item-disabled`,f)),{[`${_}-thumb-motion-appear-active`]:{transition:`transform ${f.motionDurationSlow} ${f.motionEaseInOut}, width ${f.motionDurationSlow} ${f.motionEaseInOut}`,willChange:"transform, width"},[`&${_}-shape-round`]:{borderRadius:9999,[`${_}-item, ${_}-thumb`]:{borderRadius:9999}}})}},pn=f=>{const{colorTextLabel:_,colorText:U,colorFillSecondary:I,colorBgElevated:q,colorFill:Se,lineWidthBold:Ie,colorBgLayout:D}=f;return{trackPadding:Ie,trackBg:D,itemColor:_,itemHoverColor:U,itemHoverBg:I,itemSelectedBg:q,itemActiveBg:Se,itemSelectedColor:U}};var ci=(0,Yt.I$)("Segmented",f=>{const{lineWidth:_,calc:U}=f,I=(0,zt.IX)(f,{segmentedPaddingHorizontal:U(f.controlPaddingHorizontal).sub(_).equal(),segmentedPaddingHorizontalSM:U(f.controlPaddingHorizontalSM).sub(_).equal()});return[Xn(I)]},pn),ir=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};function or(f){return typeof f=="object"&&!!(f!=null&&f.icon)}var Xi=a.forwardRef((f,_)=>{const U=(0,Lr.Z)(),{prefixCls:I,className:q,rootClassName:Se,block:Ie,options:D=[],size:ne="middle",style:ue,vertical:le,shape:ce="default",name:ut=U}=f,Ge=ir(f,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:yt,direction:Xe,className:dt,style:Nt}=(0,oe.dj)("segmented"),ft=yt("segmented",I),[an,Dn,ii]=ci(ft),Un=(0,tt.Z)(ne),Gn=a.useMemo(()=>D.map(Ci=>{if(or(Ci)){const{icon:Hi,label:Qi}=Ci,Wr=ir(Ci,["icon","label"]);return Object.assign(Object.assign({},Wr),{label:a.createElement(a.Fragment,null,a.createElement("span",{className:`${ft}-item-icon`},Hi),Qi&&a.createElement("span",null,Qi))})}return Ci}),[D,ft]),zn=z()(q,Se,dt,{[`${ft}-block`]:Ie,[`${ft}-sm`]:Un==="small",[`${ft}-lg`]:Un==="large",[`${ft}-vertical`]:le,[`${ft}-shape-${ce}`]:ce==="round"},Dn,ii),zi=Object.assign(Object.assign({},Nt),ue);return an(a.createElement(Ur,Object.assign({},Ge,{name:ut,className:zn,style:zi,options:Gn,ref:_,prefixCls:ft,direction:Xe,vertical:le})))});const Zr=a.createContext({}),cs=a.createContext({});var zr=M(95238),Ts=f=>{let{prefixCls:_,value:U,onChange:I}=f;const q=()=>{if(I&&U&&!U.cleared){const Se=U.toHsb();Se.a=0;const Ie=(0,zr.vC)(Se);Ie.cleared=!0,I(Ie)}};return a.createElement("div",{className:`${_}-clear`,onClick:q})},Ns=M(69287),Fo=M(6286),Ao=function(_){var U=_.className,I=_.customizeIcon,q=_.customizeIconProps,Se=_.children,Ie=_.onMouseDown,D=_.onClick,ne=typeof I=="function"?I(q):I;return a.createElement("span",{className:U,onMouseDown:function(le){le.preventDefault(),Ie==null||Ie(le)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:D,"aria-hidden":!0},ne!==void 0?ne:a.createElement("span",{className:z()(U.split(/\s+/).map(function(ue){return"".concat(ue,"-icon")}))},Se))},Po=Ao,ro=function(_,U,I,q,Se){var Ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,D=arguments.length>6?arguments[6]:void 0,ne=arguments.length>7?arguments[7]:void 0,ue=a.useMemo(function(){if((0,Sr.Z)(q)==="object")return q.clearIcon;if(Se)return Se},[q,Se]),le=a.useMemo(function(){return!!(!Ie&&q&&(I.length||D)&&!(ne==="combobox"&&D===""))},[q,Ie,I.length,D,ne]);return{allowClear:le,clearIcon:a.createElement(Po,{className:"".concat(_,"-clear"),onMouseDown:U,customizeIcon:ue},"\xD7")}},ua=a.createContext(null);function Mo(){return a.useContext(ua)}function Bs(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,_=a.useState(!1),U=(0,mi.Z)(_,2),I=U[0],q=U[1],Se=a.useRef(null),Ie=function(){window.clearTimeout(Se.current)};a.useEffect(function(){return Ie},[]);var D=function(ue,le){Ie(),Se.current=window.setTimeout(function(){q(ue),le&&le()},f)};return[I,D,Ie]}function Fs(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,_=a.useRef(null),U=a.useRef(null);a.useEffect(function(){return function(){window.clearTimeout(U.current)}},[]);function I(q){(q||_.current===null)&&(_.current=q),window.clearTimeout(U.current),U.current=window.setTimeout(function(){_.current=null},f)}return[function(){return _.current},I]}function Bo(f,_,U,I){var q=a.useRef(null);q.current={open:_,triggerOpen:U,customizedTrigger:I},a.useEffect(function(){function Se(Ie){var D;if(!((D=q.current)!==null&&D!==void 0&&D.customizedTrigger)){var ne=Ie.target;ne.shadowRoot&&Ie.composed&&(ne=Ie.composedPath()[0]||ne),q.current.open&&f().filter(function(ue){return ue}).every(function(ue){return!ue.contains(ne)&&ue!==ne})&&q.current.triggerOpen(!1)}}return window.addEventListener("mousedown",Se),function(){return window.removeEventListener("mousedown",Se)}},[])}function bo(f){return f&&![ye.Z.ESC,ye.Z.SHIFT,ye.Z.BACKSPACE,ye.Z.TAB,ye.Z.WIN_KEY,ye.Z.ALT,ye.Z.META,ye.Z.WIN_KEY_RIGHT,ye.Z.CTRL,ye.Z.SEMICOLON,ye.Z.EQUALS,ye.Z.CAPS_LOCK,ye.Z.CONTEXT_MENU,ye.Z.F1,ye.Z.F2,ye.Z.F3,ye.Z.F4,ye.Z.F5,ye.Z.F6,ye.Z.F7,ye.Z.F8,ye.Z.F9,ye.Z.F10,ye.Z.F11,ye.Z.F12].includes(f)}var $r=M(22898),So=M(76341),so=function(_,U){var I,q=_.prefixCls,Se=_.id,Ie=_.inputElement,D=_.disabled,ne=_.tabIndex,ue=_.autoFocus,le=_.autoComplete,ce=_.editable,ut=_.activeDescendantId,Ge=_.value,yt=_.maxLength,Xe=_.onKeyDown,dt=_.onMouseDown,Nt=_.onChange,ft=_.onPaste,an=_.onCompositionStart,Dn=_.onCompositionEnd,ii=_.onBlur,Un=_.open,Gn=_.attrs,zn=Ie||a.createElement("input",null),zi=zn,Ci=zi.ref,Hi=zi.props,Qi=Hi.onKeyDown,Wr=Hi.onChange,Gi=Hi.onMouseDown,Bi=Hi.onCompositionStart,Or=Hi.onCompositionEnd,Rr=Hi.onBlur,ts=Hi.style;return(0,Ns.Kp)(!("maxLength"in zn.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),zn=a.cloneElement(zn,(0,bi.Z)((0,bi.Z)((0,bi.Z)({type:"search"},Hi),{},{id:Se,ref:(0,Z.sQ)(U,Ci),disabled:D,tabIndex:ne,autoComplete:le||"off",autoFocus:ue,className:z()("".concat(q,"-selection-search-input"),(I=zn)===null||I===void 0||(I=I.props)===null||I===void 0?void 0:I.className),role:"combobox","aria-expanded":Un||!1,"aria-haspopup":"listbox","aria-owns":"".concat(Se,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(Se,"_list"),"aria-activedescendant":Un?ut:void 0},Gn),{},{value:ce?Ge:"",maxLength:yt,readOnly:!ce,unselectable:ce?null:"on",style:(0,bi.Z)((0,bi.Z)({},ts),{},{opacity:ce?null:0}),onKeyDown:function(br){Xe(br),Qi&&Qi(br)},onMouseDown:function(br){dt(br),Gi&&Gi(br)},onChange:function(br){Nt(br),Wr&&Wr(br)},onCompositionStart:function(br){an(br),Bi&&Bi(br)},onCompositionEnd:function(br){Dn(br),Or&&Or(br)},onPaste:ft,onBlur:function(br){ii(br),Rr&&Rr(br)}})),zn},mo=a.forwardRef(so),Us=mo;function ds(f){return Array.isArray(f)?f:f!==void 0?[f]:[]}var Oo=typeof window!="undefined"&&window.document&&window.document.documentElement,Co=Oo;function Fr(f){return f!=null}function vo(f){return!f&&f!==0}function _a(f){return["string","number"].includes((0,Sr.Z)(f))}function bs(f){var _=void 0;return f&&(_a(f.title)?_=f.title.toString():_a(f.label)&&(_=f.label.toString())),_}function Js(f,_){Co?a.useLayoutEffect(f,_):a.useEffect(f,_)}function js(f){var _;return(_=f.key)!==null&&_!==void 0?_:f.value}var os=function(_){_.preventDefault(),_.stopPropagation()},hs=function(_){var U=_.id,I=_.prefixCls,q=_.values,Se=_.open,Ie=_.searchValue,D=_.autoClearSearchValue,ne=_.inputRef,ue=_.placeholder,le=_.disabled,ce=_.mode,ut=_.showSearch,Ge=_.autoFocus,yt=_.autoComplete,Xe=_.activeDescendantId,dt=_.tabIndex,Nt=_.removeIcon,ft=_.maxTagCount,an=_.maxTagTextLength,Dn=_.maxTagPlaceholder,ii=Dn===void 0?function(co){return"+ ".concat(co.length," ...")}:Dn,Un=_.tagRender,Gn=_.onToggleOpen,zn=_.onRemove,zi=_.onInputChange,Ci=_.onInputPaste,Hi=_.onInputKeyDown,Qi=_.onInputMouseDown,Wr=_.onInputCompositionStart,Gi=_.onInputCompositionEnd,Bi=_.onInputBlur,Or=a.useRef(null),Rr=(0,a.useState)(0),ts=(0,mi.Z)(Rr,2),jr=ts[0],br=ts[1],Dr=(0,a.useState)(!1),ao=(0,mi.Z)(Dr,2),ha=ao[0],Ks=ao[1],Is="".concat(I,"-selection"),gs=Se||ce==="multiple"&&D===!1||ce==="tags"?Ie:"",Ds=ce==="tags"||ce==="multiple"&&D===!1||ut&&(Se||ha);Js(function(){br(Or.current.scrollWidth)},[gs]);var Ho=function(Xr,ys,ks,Eo,uo){return a.createElement("span",{title:bs(Xr),className:z()("".concat(Is,"-item"),(0,$n.Z)({},"".concat(Is,"-item-disabled"),ks))},a.createElement("span",{className:"".concat(Is,"-item-content")},ys),Eo&&a.createElement(Po,{className:"".concat(Is,"-item-remove"),onMouseDown:os,onClick:uo,customizeIcon:Nt},"\xD7"))},fa=function(Xr,ys,ks,Eo,uo,Sa){var rl=function(ka){os(ka),Gn(!Se)};return a.createElement("span",{onMouseDown:rl},Un({label:ys,value:Xr,disabled:ks,closable:Eo,onClose:uo,isMaxTag:!!Sa}))},lo=function(Xr){var ys=Xr.disabled,ks=Xr.label,Eo=Xr.value,uo=!le&&!ys,Sa=ks;if(typeof an=="number"&&(typeof ks=="string"||typeof ks=="number")){var rl=String(Sa);rl.length>an&&(Sa="".concat(rl.slice(0,an),"..."))}var ul=function(wr){wr&&wr.stopPropagation(),zn(Xr)};return typeof Un=="function"?fa(Eo,Sa,ys,uo,ul):Ho(Xr,Sa,ys,uo,ul)},mr=function(Xr){if(!q.length)return null;var ys=typeof ii=="function"?ii(Xr):ii;return typeof Un=="function"?fa(void 0,ys,!1,!1,void 0,!0):Ho({title:ys},ys,!1)},gr=a.createElement("div",{className:"".concat(Is,"-search"),style:{width:jr},onFocus:function(){Ks(!0)},onBlur:function(){Ks(!1)}},a.createElement(Us,{ref:ne,open:Se,prefixCls:I,id:U,inputElement:null,disabled:le,autoFocus:Ge,autoComplete:yt,editable:Ds,activeDescendantId:Xe,value:gs,onKeyDown:Hi,onMouseDown:Qi,onChange:zi,onPaste:Ci,onCompositionStart:Wr,onCompositionEnd:Gi,onBlur:Bi,tabIndex:dt,attrs:(0,$r.Z)(_,!0)}),a.createElement("span",{ref:Or,className:"".concat(Is,"-search-mirror"),"aria-hidden":!0},gs,"\xA0")),rs=a.createElement(So.Z,{prefixCls:"".concat(Is,"-overflow"),data:q,renderItem:lo,renderRest:mr,suffix:gr,itemKey:js,maxCount:ft});return a.createElement("span",{className:"".concat(Is,"-wrap")},rs,!q.length&&!gs&&a.createElement("span",{className:"".concat(Is,"-placeholder")},ue))},qr=hs,fs=function(_){var U=_.inputElement,I=_.prefixCls,q=_.id,Se=_.inputRef,Ie=_.disabled,D=_.autoFocus,ne=_.autoComplete,ue=_.activeDescendantId,le=_.mode,ce=_.open,ut=_.values,Ge=_.placeholder,yt=_.tabIndex,Xe=_.showSearch,dt=_.searchValue,Nt=_.activeValue,ft=_.maxLength,an=_.onInputKeyDown,Dn=_.onInputMouseDown,ii=_.onInputChange,Un=_.onInputPaste,Gn=_.onInputCompositionStart,zn=_.onInputCompositionEnd,zi=_.onInputBlur,Ci=_.title,Hi=a.useState(!1),Qi=(0,mi.Z)(Hi,2),Wr=Qi[0],Gi=Qi[1],Bi=le==="combobox",Or=Bi||Xe,Rr=ut[0],ts=dt||"";Bi&&Nt&&!Wr&&(ts=Nt),a.useEffect(function(){Bi&&Gi(!1)},[Bi,Nt]);var jr=le!=="combobox"&&!ce&&!Xe?!1:!!ts,br=Ci===void 0?bs(Rr):Ci,Dr=a.useMemo(function(){return Rr?null:a.createElement("span",{className:"".concat(I,"-selection-placeholder"),style:jr?{visibility:"hidden"}:void 0},Ge)},[Rr,jr,Ge,I]);return a.createElement("span",{className:"".concat(I,"-selection-wrap")},a.createElement("span",{className:"".concat(I,"-selection-search")},a.createElement(Us,{ref:Se,prefixCls:I,id:q,open:ce,inputElement:U,disabled:Ie,autoFocus:D,autoComplete:ne,editable:Or,activeDescendantId:ue,value:ts,onKeyDown:an,onMouseDown:Dn,onChange:function(ha){Gi(!0),ii(ha)},onPaste:Un,onCompositionStart:Gn,onCompositionEnd:zn,onBlur:zi,tabIndex:yt,attrs:(0,$r.Z)(_,!0),maxLength:Bi?ft:void 0})),!Bi&&Rr?a.createElement("span",{className:"".concat(I,"-selection-item"),title:br,style:jr?{visibility:"hidden"}:void 0},Rr.label):null,Dr)},oo=fs,va=function(_,U){var I=(0,a.useRef)(null),q=(0,a.useRef)(!1),Se=_.prefixCls,Ie=_.open,D=_.mode,ne=_.showSearch,ue=_.tokenWithEnter,le=_.disabled,ce=_.prefix,ut=_.autoClearSearchValue,Ge=_.onSearch,yt=_.onSearchSubmit,Xe=_.onToggleOpen,dt=_.onInputKeyDown,Nt=_.onInputBlur,ft=_.domRef;a.useImperativeHandle(U,function(){return{focus:function(br){I.current.focus(br)},blur:function(){I.current.blur()}}});var an=Fs(0),Dn=(0,mi.Z)(an,2),ii=Dn[0],Un=Dn[1],Gn=function(br){var Dr=br.which,ao=I.current instanceof HTMLTextAreaElement;!ao&&Ie&&(Dr===ye.Z.UP||Dr===ye.Z.DOWN)&&br.preventDefault(),dt&&dt(br),Dr===ye.Z.ENTER&&D==="tags"&&!q.current&&!Ie&&(yt==null||yt(br.target.value)),!(ao&&!Ie&&~[ye.Z.UP,ye.Z.DOWN,ye.Z.LEFT,ye.Z.RIGHT].indexOf(Dr))&&bo(Dr)&&Xe(!0)},zn=function(){Un(!0)},zi=(0,a.useRef)(null),Ci=function(br){Ge(br,!0,q.current)!==!1&&Xe(!0)},Hi=function(){q.current=!0},Qi=function(br){q.current=!1,D!=="combobox"&&Ci(br.target.value)},Wr=function(br){var Dr=br.target.value;if(ue&&zi.current&&/[\r\n]/.test(zi.current)){var ao=zi.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Dr=Dr.replace(ao,zi.current)}zi.current=null,Ci(Dr)},Gi=function(br){var Dr=br.clipboardData,ao=Dr==null?void 0:Dr.getData("text");zi.current=ao||""},Bi=function(br){var Dr=br.target;if(Dr!==I.current){var ao=document.body.style.msTouchAction!==void 0;ao?setTimeout(function(){I.current.focus()}):I.current.focus()}},Or=function(br){var Dr=ii();br.target!==I.current&&!Dr&&!(D==="combobox"&&le)&&br.preventDefault(),(D!=="combobox"&&(!ne||!Dr)||!Ie)&&(Ie&&ut!==!1&&Ge("",!0,!1),Xe())},Rr={inputRef:I,onInputKeyDown:Gn,onInputMouseDown:zn,onInputChange:Wr,onInputPaste:Gi,onInputCompositionStart:Hi,onInputCompositionEnd:Qi,onInputBlur:Nt},ts=D==="multiple"||D==="tags"?a.createElement(qr,(0,nr.Z)({},_,Rr)):a.createElement(oo,(0,nr.Z)({},_,Rr));return a.createElement("div",{ref:ft,className:"".concat(Se,"-selector"),onClick:Bi,onMouseDown:Or},ce&&a.createElement("div",{className:"".concat(Se,"-prefix")},ce),ts)},qo=a.forwardRef(va),wa=qo,Ua=M(71959),Pa=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Jr=function(_){var U=_===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:U,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:U,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:U,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:U,adjustY:1},htmlRegion:"scroll"}}},fr=function(_,U){var I=_.prefixCls,q=_.disabled,Se=_.visible,Ie=_.children,D=_.popupElement,ne=_.animation,ue=_.transitionName,le=_.dropdownStyle,ce=_.dropdownClassName,ut=_.direction,Ge=ut===void 0?"ltr":ut,yt=_.placement,Xe=_.builtinPlacements,dt=_.dropdownMatchSelectWidth,Nt=_.dropdownRender,ft=_.dropdownAlign,an=_.getPopupContainer,Dn=_.empty,ii=_.getTriggerDOMNode,Un=_.onPopupVisibleChange,Gn=_.onPopupMouseEnter,zn=(0,Zi.Z)(_,Pa),zi="".concat(I,"-dropdown"),Ci=D;Nt&&(Ci=Nt(D));var Hi=a.useMemo(function(){return Xe||Jr(dt)},[Xe,dt]),Qi=ne?"".concat(zi,"-").concat(ne):ue,Wr=typeof dt=="number",Gi=a.useMemo(function(){return Wr?null:dt===!1?"minWidth":"width"},[dt,Wr]),Bi=le;Wr&&(Bi=(0,bi.Z)((0,bi.Z)({},Bi),{},{width:dt}));var Or=a.useRef(null);return a.useImperativeHandle(U,function(){return{getPopupElement:function(){var ts;return(ts=Or.current)===null||ts===void 0?void 0:ts.popupElement}}}),a.createElement(Ua.Z,(0,nr.Z)({},zn,{showAction:Un?["click"]:[],hideAction:Un?["click"]:[],popupPlacement:yt||(Ge==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:Hi,prefixCls:zi,popupTransitionName:Qi,popup:a.createElement("div",{onMouseEnter:Gn},Ci),ref:Or,stretch:Gi,popupAlign:ft,popupVisible:Se,getPopupContainer:an,popupClassName:z()(ce,(0,$n.Z)({},"".concat(zi,"-empty"),Dn)),popupStyle:Bi,getTriggerDOMNode:ii,onPopupVisibleChange:Un}),Ie)},ai=a.forwardRef(fr),_s=ai,Uo=M(94201);function zo(f,_){var U=f.key,I;return"value"in f&&(I=f.value),U!=null?U:I!==void 0?I:"rc-index-key-".concat(_)}function el(f){return typeof f!="undefined"&&!Number.isNaN(f)}function ws(f,_){var U=f||{},I=U.label,q=U.value,Se=U.options,Ie=U.groupLabel,D=I||(_?"children":"label");return{label:D,value:q||"value",options:Se||"options",groupLabel:Ie||D}}function za(f){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=_.fieldNames,I=_.childrenAsData,q=[],Se=ws(U,!1),Ie=Se.label,D=Se.value,ne=Se.options,ue=Se.groupLabel;function le(ce,ut){Array.isArray(ce)&&ce.forEach(function(Ge){if(ut||!(ne in Ge)){var yt=Ge[D];q.push({key:zo(Ge,q.length),groupOption:ut,data:Ge,label:Ge[Ie],value:yt})}else{var Xe=Ge[ue];Xe===void 0&&I&&(Xe=Ge.label),q.push({key:zo(Ge,q.length),group:!0,data:Ge,label:Xe}),le(Ge[ne],!0)}})}return le(f,!1),q}function Ka(f){var _=(0,bi.Z)({},f);return"props"in _||Object.defineProperty(_,"props",{get:function(){return(0,Ns.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),_}}),_}var Ma=function(_,U,I){if(!U||!U.length)return null;var q=!1,Se=function D(ne,ue){var le=(0,Uo.Z)(ue),ce=le[0],ut=le.slice(1);if(!ce)return[ne];var Ge=ne.split(ce);return q=q||Ge.length>1,Ge.reduce(function(yt,Xe){return[].concat((0,Fn.Z)(yt),(0,Fn.Z)(D(Xe,ut)))},[]).filter(Boolean)},Ie=Se(_,U);return q?typeof I!="undefined"?Ie.slice(0,I):Ie:null},ya=a.createContext(null),ra=ya;function $a(f){var _=f.visible,U=f.values;if(!_)return null;var I=50;return a.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(U.slice(0,I).map(function(q){var Se=q.label,Ie=q.value;return["number","string"].includes((0,Sr.Z)(Se))?Se:Ie}).join(", ")),U.length>I?", ...":null)}var ll=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Jo=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],ba=function(_){return _==="tags"||_==="multiple"},hl=a.forwardRef(function(f,_){var U,I=f.id,q=f.prefixCls,Se=f.className,Ie=f.showSearch,D=f.tagRender,ne=f.direction,ue=f.omitDomProps,le=f.displayValues,ce=f.onDisplayValuesChange,ut=f.emptyOptions,Ge=f.notFoundContent,yt=Ge===void 0?"Not Found":Ge,Xe=f.onClear,dt=f.mode,Nt=f.disabled,ft=f.loading,an=f.getInputElement,Dn=f.getRawInputElement,ii=f.open,Un=f.defaultOpen,Gn=f.onDropdownVisibleChange,zn=f.activeValue,zi=f.onActiveValueChange,Ci=f.activeDescendantId,Hi=f.searchValue,Qi=f.autoClearSearchValue,Wr=f.onSearch,Gi=f.onSearchSplit,Bi=f.tokenSeparators,Or=f.allowClear,Rr=f.prefix,ts=f.suffixIcon,jr=f.clearIcon,br=f.OptionList,Dr=f.animation,ao=f.transitionName,ha=f.dropdownStyle,Ks=f.dropdownClassName,Is=f.dropdownMatchSelectWidth,gs=f.dropdownRender,Ds=f.dropdownAlign,Ho=f.placement,fa=f.builtinPlacements,lo=f.getPopupContainer,mr=f.showAction,gr=mr===void 0?[]:mr,rs=f.onFocus,co=f.onBlur,Xr=f.onKeyUp,ys=f.onKeyDown,ks=f.onMouseDown,Eo=(0,Zi.Z)(f,ll),uo=ba(dt),Sa=(Ie!==void 0?Ie:uo)||dt==="combobox",rl=(0,bi.Z)({},Eo);Jo.forEach(function(xs){delete rl[xs]}),ue==null||ue.forEach(function(xs){delete rl[xs]});var ul=a.useState(!1),ka=(0,mi.Z)(ul,2),wr=ka[0],Za=ka[1];a.useEffect(function(){Za((0,Fo.Z)())},[]);var Ha=a.useRef(null),Ia=a.useRef(null),Zo=a.useRef(null),Xo=a.useRef(null),ho=a.useRef(null),na=a.useRef(!1),oa=Bs(),wo=(0,mi.Z)(oa,3),Ja=wo[0],bl=wo[1],ca=wo[2];a.useImperativeHandle(_,function(){var xs,us;return{focus:(xs=Xo.current)===null||xs===void 0?void 0:xs.focus,blur:(us=Xo.current)===null||us===void 0?void 0:us.blur,scrollTo:function(Na){var Ca;return(Ca=ho.current)===null||Ca===void 0?void 0:Ca.scrollTo(Na)},nativeElement:Ha.current||Ia.current}});var Va=a.useMemo(function(){var xs;if(dt!=="combobox")return Hi;var us=(xs=le[0])===null||xs===void 0?void 0:xs.value;return typeof us=="string"||typeof us=="number"?String(us):""},[Hi,dt,le]),xa=dt==="combobox"&&typeof an=="function"&&an()||null,ml=typeof Dn=="function"&&Dn(),Yl=(0,Z.x1)(Ia,ml==null||(U=ml.props)===null||U===void 0?void 0:U.ref),Xc=a.useState(!1),dl=(0,mi.Z)(Xc,2),kl=dl[0],bc=dl[1];(0,pi.Z)(function(){bc(!0)},[]);var mc=(0,ie.Z)(!1,{defaultValue:Un,value:ii}),sc=(0,mi.Z)(mc,2),ic=sc[0],gc=sc[1],sl=kl?ic:!1,Yc=!yt&&ut;(Nt||Yc&&sl&&dt==="combobox")&&(sl=!1);var Sc=Yc?!1:sl,Ls=a.useCallback(function(xs){var us=xs!==void 0?xs:!sl;Nt||(gc(us),sl!==us&&(Gn==null||Gn(us)))},[Nt,sl,gc,Gn]),po=a.useMemo(function(){return(Bi||[]).some(function(xs){return[`
`,`\r
`].includes(xs)})},[Bi]),Hs=a.useContext(ra)||{},qs=Hs.maxCount,ia=Hs.rawValues,Da=function(us,Xa,Na){if(!(uo&&el(qs)&&(ia==null?void 0:ia.size)>=qs)){var Ca=!0,aa=us;zi==null||zi(null);var _l=Ma(us,Bi,el(qs)?qs-ia.size:void 0),wl=Na?null:_l;return dt!=="combobox"&&wl&&(aa="",Gi==null||Gi(wl),Ls(!1),Ca=!1),Wr&&Va!==aa&&Wr(aa,{source:Xa?"typing":"effect"}),Ca}},Ll=function(us){!us||!us.trim()||Wr(us,{source:"submit"})};a.useEffect(function(){!sl&&!uo&&dt!=="combobox"&&Da("",!1,!1)},[sl]),a.useEffect(function(){ic&&Nt&&gc(!1),Nt&&!na.current&&bl(!1)},[Nt]);var Cc=Fs(),v=(0,mi.Z)(Cc,2),t=v[0],i=v[1],s=a.useRef(!1),l=function(us){var Xa=t(),Na=us.key,Ca=Na==="Enter";if(Ca&&(dt!=="combobox"&&us.preventDefault(),sl||Ls(!0)),i(!!Va),Na==="Backspace"&&!Xa&&uo&&!Va&&le.length){for(var aa=(0,Fn.Z)(le),_l=null,wl=aa.length-1;wl>=0;wl-=1){var vc=aa[wl];if(!vc.disabled){aa.splice(wl,1),_l=vc;break}}_l&&ce(aa,{type:"remove",values:[_l]})}for(var Ac=arguments.length,Kl=new Array(Ac>1?Ac-1:0),oc=1;oc<Ac;oc++)Kl[oc-1]=arguments[oc];if(sl&&(!Ca||!s.current)){var ac;Ca&&(s.current=!0),(ac=ho.current)===null||ac===void 0||ac.onKeyDown.apply(ac,[us].concat(Kl))}ys==null||ys.apply(void 0,[us].concat(Kl))},u=function(us){for(var Xa=arguments.length,Na=new Array(Xa>1?Xa-1:0),Ca=1;Ca<Xa;Ca++)Na[Ca-1]=arguments[Ca];if(sl){var aa;(aa=ho.current)===null||aa===void 0||aa.onKeyUp.apply(aa,[us].concat(Na))}us.key==="Enter"&&(s.current=!1),Xr==null||Xr.apply(void 0,[us].concat(Na))},g=function(us){var Xa=le.filter(function(Na){return Na!==us});ce(Xa,{type:"remove",values:[us]})},b=function(){s.current=!1},A=a.useRef(!1),L=function(){bl(!0),Nt||(rs&&!A.current&&rs.apply(void 0,arguments),gr.includes("focus")&&Ls(!0)),A.current=!0},B=function(){na.current=!0,bl(!1,function(){A.current=!1,na.current=!1,Ls(!1)}),!Nt&&(Va&&(dt==="tags"?Wr(Va,{source:"submit"}):dt==="multiple"&&Wr("",{source:"blur"})),co&&co.apply(void 0,arguments))},te=[];a.useEffect(function(){return function(){te.forEach(function(xs){return clearTimeout(xs)}),te.splice(0,te.length)}},[]);var ge=function(us){var Xa,Na=us.target,Ca=(Xa=Zo.current)===null||Xa===void 0?void 0:Xa.getPopupElement();if(Ca&&Ca.contains(Na)){var aa=setTimeout(function(){var Ac=te.indexOf(aa);if(Ac!==-1&&te.splice(Ac,1),ca(),!wr&&!Ca.contains(document.activeElement)){var Kl;(Kl=Xo.current)===null||Kl===void 0||Kl.focus()}});te.push(aa)}for(var _l=arguments.length,wl=new Array(_l>1?_l-1:0),vc=1;vc<_l;vc++)wl[vc-1]=arguments[vc];ks==null||ks.apply(void 0,[us].concat(wl))},Ne=a.useState({}),at=(0,mi.Z)(Ne,2),Jt=at[1];function mn(){Jt({})}var En;ml&&(En=function(us){Ls(us)}),Bo(function(){var xs;return[Ha.current,(xs=Zo.current)===null||xs===void 0?void 0:xs.getPopupElement()]},Sc,Ls,!!ml);var Vi=a.useMemo(function(){return(0,bi.Z)((0,bi.Z)({},f),{},{notFoundContent:yt,open:sl,triggerOpen:Sc,id:I,showSearch:Sa,multiple:uo,toggleOpen:Ls})},[f,yt,Sc,sl,I,Sa,uo,Ls]),Mr=!!ts||ft,dr;Mr&&(dr=a.createElement(Po,{className:z()("".concat(q,"-arrow"),(0,$n.Z)({},"".concat(q,"-arrow-loading"),ft)),customizeIcon:ts,customizeIconProps:{loading:ft,searchValue:Va,open:sl,focused:Ja,showSearch:Sa}}));var ns=function(){var us;Xe==null||Xe(),(us=Xo.current)===null||us===void 0||us.focus(),ce([],{type:"clear",values:le}),Da("",!1,!1)},no=ro(q,ns,le,Or,jr,Nt,Va,dt),Yo=no.allowClear,Zs=no.clearIcon,Aa=a.createElement(br,{ref:ho}),ol=z()(q,Se,(0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)({},"".concat(q,"-focused"),Ja),"".concat(q,"-multiple"),uo),"".concat(q,"-single"),!uo),"".concat(q,"-allow-clear"),Or),"".concat(q,"-show-arrow"),Mr),"".concat(q,"-disabled"),Nt),"".concat(q,"-loading"),ft),"".concat(q,"-open"),sl),"".concat(q,"-customize-input"),xa),"".concat(q,"-show-search"),Sa)),ga=a.createElement(_s,{ref:Zo,disabled:Nt,prefixCls:q,visible:Sc,popupElement:Aa,animation:Dr,transitionName:ao,dropdownStyle:ha,dropdownClassName:Ks,direction:ne,dropdownMatchSelectWidth:Is,dropdownRender:gs,dropdownAlign:Ds,placement:Ho,builtinPlacements:fa,getPopupContainer:lo,empty:ut,getTriggerDOMNode:function(us){return Ia.current||us},onPopupVisibleChange:En,onPopupMouseEnter:mn},ml?a.cloneElement(ml,{ref:Yl}):a.createElement(wa,(0,nr.Z)({},f,{domRef:Ia,prefixCls:q,inputElement:xa,ref:Xo,id:I,prefix:Rr,showSearch:Sa,autoClearSearchValue:Qi,mode:dt,activeDescendantId:Ci,tagRender:D,values:le,open:sl,onToggleOpen:Ls,activeValue:zn,searchValue:Va,onSearch:Da,onSearchSubmit:Ll,onRemove:g,tokenWithEnter:po,onInputBlur:b}))),La;return ml?La=ga:La=a.createElement("div",(0,nr.Z)({className:ol},rl,{ref:Ha,onMouseDown:ge,onKeyDown:l,onKeyUp:u,onFocus:L,onBlur:B}),a.createElement($a,{visible:Ja&&!sl,values:le}),ga,dr,Yo&&Zs),a.createElement(ua.Provider,{value:Vi},La)}),$e=hl,Y=function(){return null};Y.isSelectOptGroup=!0;var H=Y,ae=function(){return null};ae.isSelectOption=!0;var Q=ae,Ze=M(77464),lt=M(39591);function tn(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var _n=["disabled","title","children","style","className"];function Hn(f){return typeof f=="string"||typeof f=="number"}var dn=function(_,U){var I=Mo(),q=I.prefixCls,Se=I.id,Ie=I.open,D=I.multiple,ne=I.mode,ue=I.searchValue,le=I.toggleOpen,ce=I.notFoundContent,ut=I.onPopupScroll,Ge=a.useContext(ra),yt=Ge.maxCount,Xe=Ge.flattenOptions,dt=Ge.onActiveValue,Nt=Ge.defaultActiveFirstOption,ft=Ge.onSelect,an=Ge.menuItemSelectedIcon,Dn=Ge.rawValues,ii=Ge.fieldNames,Un=Ge.virtual,Gn=Ge.direction,zn=Ge.listHeight,zi=Ge.listItemHeight,Ci=Ge.optionRender,Hi="".concat(q,"-item"),Qi=(0,Ze.Z)(function(){return Xe},[Ie,Xe],function(mr,gr){return gr[0]&&mr[1]!==gr[1]}),Wr=a.useRef(null),Gi=a.useMemo(function(){return D&&el(yt)&&(Dn==null?void 0:Dn.size)>=yt},[D,yt,Dn==null?void 0:Dn.size]),Bi=function(gr){gr.preventDefault()},Or=function(gr){var rs;(rs=Wr.current)===null||rs===void 0||rs.scrollTo(typeof gr=="number"?{index:gr}:gr)},Rr=a.useCallback(function(mr){return ne==="combobox"?!1:Dn.has(mr)},[ne,(0,Fn.Z)(Dn).toString(),Dn.size]),ts=function(gr){for(var rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,co=Qi.length,Xr=0;Xr<co;Xr+=1){var ys=(gr+Xr*rs+co)%co,ks=Qi[ys]||{},Eo=ks.group,uo=ks.data;if(!Eo&&!(uo!=null&&uo.disabled)&&(Rr(uo.value)||!Gi))return ys}return-1},jr=a.useState(function(){return ts(0)}),br=(0,mi.Z)(jr,2),Dr=br[0],ao=br[1],ha=function(gr){var rs=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ao(gr);var co={source:rs?"keyboard":"mouse"},Xr=Qi[gr];if(!Xr){dt(null,-1,co);return}dt(Xr.value,gr,co)};(0,a.useEffect)(function(){ha(Nt!==!1?ts(0):-1)},[Qi.length,ue]);var Ks=a.useCallback(function(mr){return ne==="combobox"?String(mr).toLowerCase()===ue.toLowerCase():Dn.has(mr)},[ne,ue,(0,Fn.Z)(Dn).toString(),Dn.size]);(0,a.useEffect)(function(){var mr=setTimeout(function(){if(!D&&Ie&&Dn.size===1){var rs=Array.from(Dn)[0],co=Qi.findIndex(function(Xr){var ys=Xr.data;return ys.value===rs});co!==-1&&(ha(co),Or(co))}});if(Ie){var gr;(gr=Wr.current)===null||gr===void 0||gr.scrollTo(void 0)}return function(){return clearTimeout(mr)}},[Ie,ue]);var Is=function(gr){gr!==void 0&&ft(gr,{selected:!Dn.has(gr)}),D||le(!1)};if(a.useImperativeHandle(U,function(){return{onKeyDown:function(gr){var rs=gr.which,co=gr.ctrlKey;switch(rs){case ye.Z.N:case ye.Z.P:case ye.Z.UP:case ye.Z.DOWN:{var Xr=0;if(rs===ye.Z.UP?Xr=-1:rs===ye.Z.DOWN?Xr=1:tn()&&co&&(rs===ye.Z.N?Xr=1:rs===ye.Z.P&&(Xr=-1)),Xr!==0){var ys=ts(Dr+Xr,Xr);Or(ys),ha(ys,!0)}break}case ye.Z.TAB:case ye.Z.ENTER:{var ks,Eo=Qi[Dr];Eo&&!(Eo!=null&&(ks=Eo.data)!==null&&ks!==void 0&&ks.disabled)&&!Gi?Is(Eo.value):Is(void 0),Ie&&gr.preventDefault();break}case ye.Z.ESC:le(!1),Ie&&gr.stopPropagation()}},onKeyUp:function(){},scrollTo:function(gr){Or(gr)}}}),Qi.length===0)return a.createElement("div",{role:"listbox",id:"".concat(Se,"_list"),className:"".concat(Hi,"-empty"),onMouseDown:Bi},ce);var gs=Object.keys(ii).map(function(mr){return ii[mr]}),Ds=function(gr){return gr.label};function Ho(mr,gr){var rs=mr.group;return{role:rs?"presentation":"option",id:"".concat(Se,"_list_").concat(gr)}}var fa=function(gr){var rs=Qi[gr];if(!rs)return null;var co=rs.data||{},Xr=co.value,ys=rs.group,ks=(0,$r.Z)(co,!0),Eo=Ds(rs);return rs?a.createElement("div",(0,nr.Z)({"aria-label":typeof Eo=="string"&&!ys?Eo:null},ks,{key:gr},Ho(rs,gr),{"aria-selected":Ks(Xr)}),Xr):null},lo={role:"listbox",id:"".concat(Se,"_list")};return a.createElement(a.Fragment,null,Un&&a.createElement("div",(0,nr.Z)({},lo,{style:{height:0,width:0,overflow:"hidden"}}),fa(Dr-1),fa(Dr),fa(Dr+1)),a.createElement(lt.Z,{itemKey:"key",ref:Wr,data:Qi,height:zn,itemHeight:zi,fullHeight:!1,onMouseDown:Bi,onScroll:ut,virtual:Un,direction:Gn,innerProps:Un?null:lo},function(mr,gr){var rs=mr.group,co=mr.groupOption,Xr=mr.data,ys=mr.label,ks=mr.value,Eo=Xr.key;if(rs){var uo,Sa=(uo=Xr.title)!==null&&uo!==void 0?uo:Hn(ys)?ys.toString():void 0;return a.createElement("div",{className:z()(Hi,"".concat(Hi,"-group"),Xr.className),title:Sa},ys!==void 0?ys:Eo)}var rl=Xr.disabled,ul=Xr.title,ka=Xr.children,wr=Xr.style,Za=Xr.className,Ha=(0,Zi.Z)(Xr,_n),Ia=(0,Ir.Z)(Ha,gs),Zo=Rr(ks),Xo=rl||!Zo&&Gi,ho="".concat(Hi,"-option"),na=z()(Hi,ho,Za,(0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)({},"".concat(ho,"-grouped"),co),"".concat(ho,"-active"),Dr===gr&&!Xo),"".concat(ho,"-disabled"),Xo),"".concat(ho,"-selected"),Zo)),oa=Ds(mr),wo=!an||typeof an=="function"||Zo,Ja=typeof oa=="number"?oa:oa||ks,bl=Hn(Ja)?Ja.toString():void 0;return ul!==void 0&&(bl=ul),a.createElement("div",(0,nr.Z)({},(0,$r.Z)(Ia),Un?{}:Ho(mr,gr),{"aria-selected":Ks(ks),className:na,title:bl,onMouseMove:function(){Dr===gr||Xo||ha(gr)},onClick:function(){Xo||Is(ks)},style:wr}),a.createElement("div",{className:"".concat(ho,"-content")},typeof Ci=="function"?Ci(mr,{index:gr}):Ja),a.isValidElement(an)||Zo,wo&&a.createElement(Po,{className:"".concat(Hi,"-option-state"),customizeIcon:an,customizeIconProps:{value:ks,disabled:Xo,isSelected:Zo}},Zo?"\u2713":null))}))},d=a.forwardRef(dn),y=d,E=function(f,_){var U=a.useRef({values:new Map,options:new Map}),I=a.useMemo(function(){var Se=U.current,Ie=Se.values,D=Se.options,ne=f.map(function(ce){if(ce.label===void 0){var ut;return(0,bi.Z)((0,bi.Z)({},ce),{},{label:(ut=Ie.get(ce.value))===null||ut===void 0?void 0:ut.label})}return ce}),ue=new Map,le=new Map;return ne.forEach(function(ce){ue.set(ce.value,ce),le.set(ce.value,_.get(ce.value)||D.get(ce.value))}),U.current.values=ue,U.current.options=le,ne},[f,_]),q=a.useCallback(function(Se){return _.get(Se)||U.current.options.get(Se)},[_]);return[I,q]};function P(f,_){return ds(f).join("").toUpperCase().includes(_)}var k=function(f,_,U,I,q){return a.useMemo(function(){if(!U||I===!1)return f;var Se=_.options,Ie=_.label,D=_.value,ne=[],ue=typeof I=="function",le=U.toUpperCase(),ce=ue?I:function(Ge,yt){return q?P(yt[q],le):yt[Se]?P(yt[Ie!=="children"?Ie:"label"],le):P(yt[D],le)},ut=ue?function(Ge){return Ka(Ge)}:function(Ge){return Ge};return f.forEach(function(Ge){if(Ge[Se]){var yt=ce(U,ut(Ge));if(yt)ne.push(Ge);else{var Xe=Ge[Se].filter(function(dt){return ce(U,ut(dt))});Xe.length&&ne.push((0,bi.Z)((0,bi.Z)({},Ge),{},(0,$n.Z)({},Se,Xe)))}return}ce(U,ut(Ge))&&ne.push(Ge)}),ne},[f,I,q,U,_])},N=M(98750),K=0,_e=(0,N.Z)();function Ee(){var f;return _e?(f=K,K+=1):f="TEST_OR_SSR",f}function it(f){var _=a.useState(),U=(0,mi.Z)(_,2),I=U[0],q=U[1];return a.useEffect(function(){q("rc_select_".concat(Ee()))},[]),f||I}var Ht=M(27727),gn=["children","value"],Ut=["children"];function Bn(f){var _=f,U=_.key,I=_.props,q=I.children,Se=I.value,Ie=(0,Zi.Z)(I,gn);return(0,bi.Z)({key:U,value:Se!==void 0?Se:U,children:q},Ie)}function Si(f){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Ht.Z)(f).map(function(U,I){if(!a.isValidElement(U)||!U.type)return null;var q=U,Se=q.type.isSelectOptGroup,Ie=q.key,D=q.props,ne=D.children,ue=(0,Zi.Z)(D,Ut);return _||!Se?Bn(U):(0,bi.Z)((0,bi.Z)({key:"__RC_SELECT_GRP__".concat(Ie===null?I:Ie,"__"),label:Ie},ue),{},{options:Si(ne)})}).filter(function(U){return U})}var _r=function(_,U,I,q,Se){return a.useMemo(function(){var Ie=_,D=!_;D&&(Ie=Si(U));var ne=new Map,ue=new Map,le=function(Ge,yt,Xe){Xe&&typeof Xe=="string"&&Ge.set(yt[Xe],yt)},ce=function ut(Ge){for(var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Xe=0;Xe<Ge.length;Xe+=1){var dt=Ge[Xe];!dt[I.options]||yt?(ne.set(dt[I.value],dt),le(ue,dt,I.label),le(ue,dt,q),le(ue,dt,Se)):ut(dt[I.options],!0)}};return ce(Ie),{options:Ie,valueOptions:ne,labelOptions:ue}},[_,U,I,q,Se])},Br=_r;function fo(f){var _=a.useRef();_.current=f;var U=a.useCallback(function(){return _.current.apply(_,arguments)},[]);return U}function Qs(f){var _=f.mode,U=f.options,I=f.children,q=f.backfill,Se=f.allowClear,Ie=f.placeholder,D=f.getInputElement,ne=f.showSearch,ue=f.onSearch,le=f.defaultOpen,ce=f.autoFocus,ut=f.labelInValue,Ge=f.value,yt=f.inputValue,Xe=f.optionLabelProp,dt=isMultiple(_),Nt=ne!==void 0?ne:dt||_==="combobox",ft=U||convertChildrenToData(I);if(warning(_!=="tags"||ft.every(function(Un){return!Un.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),_==="tags"||_==="combobox"){var an=ft.some(function(Un){return Un.options?Un.options.some(function(Gn){return typeof("value"in Gn?Gn.value:Gn.key)=="number"}):typeof("value"in Un?Un.value:Un.key)=="number"});warning(!an,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(_!=="combobox"||!Xe,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(_==="combobox"||!q,"`backfill` only works with `combobox` mode."),warning(_==="combobox"||!D,"`getInputElement` only work with `combobox` mode."),noteOnce(_!=="combobox"||!D||!Se||!Ie,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),ue&&!Nt&&_!=="combobox"&&_!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!le||ce,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),Ge!=null){var Dn=toArray(Ge);warning(!ut||Dn.every(function(Un){return _typeof(Un)==="object"&&("key"in Un||"value"in Un)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!dt||Array.isArray(Ge),"`value` should be array when `mode` is `multiple` or `tags`")}if(I){var ii=null;toNodeArray(I).some(function(Un){if(!React.isValidElement(Un)||!Un.type)return!1;var Gn=Un,zn=Gn.type;if(zn.isSelectOption)return!1;if(zn.isSelectOptGroup){var zi=toNodeArray(Un.props.children).every(function(Ci){return!React.isValidElement(Ci)||!Un.type||Ci.type.isSelectOption?!0:(ii=Ci.type,!1)});return!zi}return ii=zn,!0}),ii&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(ii.displayName||ii.name||ii,"`.")),warning(yt===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function Ys(f,_){if(f){var U=function I(q){for(var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ie=0;Ie<q.length;Ie++){var D=q[Ie];if(D[_==null?void 0:_.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!Se&&Array.isArray(D[_==null?void 0:_.options])&&I(D[_==null?void 0:_.options],!0))break}};U(f)}}var Ga=null,j=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],we=["inputValue"];function Je(f){return!f||(0,Sr.Z)(f)!=="object"}var ht=a.forwardRef(function(f,_){var U=f.id,I=f.mode,q=f.prefixCls,Se=q===void 0?"rc-select":q,Ie=f.backfill,D=f.fieldNames,ne=f.inputValue,ue=f.searchValue,le=f.onSearch,ce=f.autoClearSearchValue,ut=ce===void 0?!0:ce,Ge=f.onSelect,yt=f.onDeselect,Xe=f.dropdownMatchSelectWidth,dt=Xe===void 0?!0:Xe,Nt=f.filterOption,ft=f.filterSort,an=f.optionFilterProp,Dn=f.optionLabelProp,ii=f.options,Un=f.optionRender,Gn=f.children,zn=f.defaultActiveFirstOption,zi=f.menuItemSelectedIcon,Ci=f.virtual,Hi=f.direction,Qi=f.listHeight,Wr=Qi===void 0?200:Qi,Gi=f.listItemHeight,Bi=Gi===void 0?20:Gi,Or=f.labelRender,Rr=f.value,ts=f.defaultValue,jr=f.labelInValue,br=f.onChange,Dr=f.maxCount,ao=(0,Zi.Z)(f,j),ha=it(U),Ks=ba(I),Is=!!(!ii&&Gn),gs=a.useMemo(function(){return Nt===void 0&&I==="combobox"?!1:Nt},[Nt,I]),Ds=a.useMemo(function(){return ws(D,Is)},[JSON.stringify(D),Is]),Ho=(0,ie.Z)("",{value:ue!==void 0?ue:ne,postState:function(po){return po||""}}),fa=(0,mi.Z)(Ho,2),lo=fa[0],mr=fa[1],gr=Br(ii,Gn,Ds,an,Dn),rs=gr.valueOptions,co=gr.labelOptions,Xr=gr.options,ys=a.useCallback(function(Ls){var po=ds(Ls);return po.map(function(Hs){var qs,ia,Da,Ll,Cc;if(Je(Hs))qs=Hs;else{var v;Da=Hs.key,ia=Hs.label,qs=(v=Hs.value)!==null&&v!==void 0?v:Da}var t=rs.get(qs);if(t){var i;if(ia===void 0&&(ia=t==null?void 0:t[Dn||Ds.label]),Da===void 0&&(Da=(i=t==null?void 0:t.key)!==null&&i!==void 0?i:qs),Ll=t==null?void 0:t.disabled,Cc=t==null?void 0:t.title,0)var s}return{label:ia,value:qs,key:Da,disabled:Ll,title:Cc}})},[Ds,Dn,rs]),ks=(0,ie.Z)(ts,{value:Rr}),Eo=(0,mi.Z)(ks,2),uo=Eo[0],Sa=Eo[1],rl=a.useMemo(function(){var Ls,po=Ks&&uo===null?[]:uo,Hs=ys(po);return I==="combobox"&&vo((Ls=Hs[0])===null||Ls===void 0?void 0:Ls.value)?[]:Hs},[uo,ys,I,Ks]),ul=E(rl,rs),ka=(0,mi.Z)(ul,2),wr=ka[0],Za=ka[1],Ha=a.useMemo(function(){if(!I&&wr.length===1){var Ls=wr[0];if(Ls.value===null&&(Ls.label===null||Ls.label===void 0))return[]}return wr.map(function(po){var Hs;return(0,bi.Z)((0,bi.Z)({},po),{},{label:(Hs=typeof Or=="function"?Or(po):po.label)!==null&&Hs!==void 0?Hs:po.value})})},[I,wr,Or]),Ia=a.useMemo(function(){return new Set(wr.map(function(Ls){return Ls.value}))},[wr]);a.useEffect(function(){if(I==="combobox"){var Ls,po=(Ls=wr[0])===null||Ls===void 0?void 0:Ls.value;mr(Fr(po)?String(po):"")}},[wr]);var Zo=fo(function(Ls,po){var Hs=po!=null?po:Ls;return(0,$n.Z)((0,$n.Z)({},Ds.value,Ls),Ds.label,Hs)}),Xo=a.useMemo(function(){if(I!=="tags")return Xr;var Ls=(0,Fn.Z)(Xr),po=function(qs){return rs.has(qs)};return(0,Fn.Z)(wr).sort(function(Hs,qs){return Hs.value<qs.value?-1:1}).forEach(function(Hs){var qs=Hs.value;po(qs)||Ls.push(Zo(qs,Hs.label))}),Ls},[Zo,Xr,rs,wr,I]),ho=k(Xo,Ds,lo,gs,an),na=a.useMemo(function(){return I!=="tags"||!lo||ho.some(function(Ls){return Ls[an||"value"]===lo})||ho.some(function(Ls){return Ls[Ds.value]===lo})?ho:[Zo(lo)].concat((0,Fn.Z)(ho))},[Zo,an,I,ho,lo,Ds]),oa=function Ls(po){var Hs=(0,Fn.Z)(po).sort(function(qs,ia){return ft(qs,ia,{searchValue:lo})});return Hs.map(function(qs){return Array.isArray(qs.options)?(0,bi.Z)((0,bi.Z)({},qs),{},{options:qs.options.length>0?Ls(qs.options):qs.options}):qs})},wo=a.useMemo(function(){return ft?oa(na):na},[na,ft,lo]),Ja=a.useMemo(function(){return za(wo,{fieldNames:Ds,childrenAsData:Is})},[wo,Ds,Is]),bl=function(po){var Hs=ys(po);if(Sa(Hs),br&&(Hs.length!==wr.length||Hs.some(function(Da,Ll){var Cc;return((Cc=wr[Ll])===null||Cc===void 0?void 0:Cc.value)!==(Da==null?void 0:Da.value)}))){var qs=jr?Hs:Hs.map(function(Da){return Da.value}),ia=Hs.map(function(Da){return Ka(Za(Da.value))});br(Ks?qs:qs[0],Ks?ia:ia[0])}},ca=a.useState(null),Va=(0,mi.Z)(ca,2),xa=Va[0],ml=Va[1],Yl=a.useState(0),Xc=(0,mi.Z)(Yl,2),dl=Xc[0],kl=Xc[1],bc=zn!==void 0?zn:I!=="combobox",mc=a.useCallback(function(Ls,po){var Hs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},qs=Hs.source,ia=qs===void 0?"keyboard":qs;kl(po),Ie&&I==="combobox"&&Ls!==null&&ia==="keyboard"&&ml(String(Ls))},[Ie,I]),sc=function(po,Hs,qs){var ia=function(){var g,b=Za(po);return[jr?{label:b==null?void 0:b[Ds.label],value:po,key:(g=b==null?void 0:b.key)!==null&&g!==void 0?g:po}:po,Ka(b)]};if(Hs&&Ge){var Da=ia(),Ll=(0,mi.Z)(Da,2),Cc=Ll[0],v=Ll[1];Ge(Cc,v)}else if(!Hs&&yt&&qs!=="clear"){var t=ia(),i=(0,mi.Z)(t,2),s=i[0],l=i[1];yt(s,l)}},ic=fo(function(Ls,po){var Hs,qs=Ks?po.selected:!0;qs?Hs=Ks?[].concat((0,Fn.Z)(wr),[Ls]):[Ls]:Hs=wr.filter(function(ia){return ia.value!==Ls}),bl(Hs),sc(Ls,qs),I==="combobox"?ml(""):(!ba||ut)&&(mr(""),ml(""))}),gc=function(po,Hs){bl(po);var qs=Hs.type,ia=Hs.values;(qs==="remove"||qs==="clear")&&ia.forEach(function(Da){sc(Da.value,!1,qs)})},sl=function(po,Hs){if(mr(po),ml(null),Hs.source==="submit"){var qs=(po||"").trim();if(qs){var ia=Array.from(new Set([].concat((0,Fn.Z)(Ia),[qs])));bl(ia),sc(qs,!0),mr("")}return}Hs.source!=="blur"&&(I==="combobox"&&bl(po),le==null||le(po))},Yc=function(po){var Hs=po;I!=="tags"&&(Hs=po.map(function(ia){var Da=co.get(ia);return Da==null?void 0:Da.value}).filter(function(ia){return ia!==void 0}));var qs=Array.from(new Set([].concat((0,Fn.Z)(Ia),(0,Fn.Z)(Hs))));bl(qs),qs.forEach(function(ia){sc(ia,!0)})},Sc=a.useMemo(function(){var Ls=Ci!==!1&&dt!==!1;return(0,bi.Z)((0,bi.Z)({},gr),{},{flattenOptions:Ja,onActiveValue:mc,defaultActiveFirstOption:bc,onSelect:ic,menuItemSelectedIcon:zi,rawValues:Ia,fieldNames:Ds,virtual:Ls,direction:Hi,listHeight:Wr,listItemHeight:Bi,childrenAsData:Is,maxCount:Dr,optionRender:Un})},[Dr,gr,Ja,mc,bc,ic,zi,Ia,Ds,Ci,dt,Hi,Wr,Bi,Is,Un]);return a.createElement(ra.Provider,{value:Sc},a.createElement($e,(0,nr.Z)({},ao,{id:ha,prefixCls:Se,ref:_,omitDomProps:we,mode:I,displayValues:Ha,onDisplayValuesChange:gc,direction:Hi,searchValue:lo,onSearch:sl,autoClearSearchValue:ut,onSearchSplit:Yc,dropdownMatchSelectWidth:dt,OptionList:y,emptyOptions:!Ja.length,activeValue:xa,activeDescendantId:"".concat(ha,"_list_").concat(dl)})))}),Ft=ht;Ft.Option=Q,Ft.OptGroup=H;var Ti=Ft,Ji=Ti,yi=M(25313),yn=M(84432),Jn=()=>{const[,f]=(0,pt.ZP)(),[_]=(0,yi.Z)("Empty"),I=new yn.t(f.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return a.createElement("svg",{style:I,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},a.createElement("title",null,(_==null?void 0:_.description)||"Empty"),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(24 31.67)"},a.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),a.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),a.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),a.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),a.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),a.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),a.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},a.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),a.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Ar=()=>{const[,f]=(0,pt.ZP)(),[_]=(0,yi.Z)("Empty"),{colorFill:U,colorFillTertiary:I,colorFillQuaternary:q,colorBgContainer:Se}=f,{borderColor:Ie,shadowColor:D,contentColor:ne}=(0,a.useMemo)(()=>({borderColor:new yn.t(U).onBackground(Se).toHexString(),shadowColor:new yn.t(I).onBackground(Se).toHexString(),contentColor:new yn.t(q).onBackground(Se).toHexString()}),[U,I,q,Se]);return a.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},a.createElement("title",null,(_==null?void 0:_.description)||"Empty"),a.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},a.createElement("ellipse",{fill:D,cx:"32",cy:"33",rx:"32",ry:"7"}),a.createElement("g",{fillRule:"nonzero",stroke:Ie},a.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),a.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:ne}))))};const Di=f=>{const{componentCls:_,margin:U,marginXS:I,marginXL:q,fontSize:Se,lineHeight:Ie}=f;return{[_]:{marginInline:I,fontSize:Se,lineHeight:Ie,textAlign:"center",[`${_}-image`]:{height:f.emptyImgHeight,marginBottom:I,opacity:f.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${_}-description`]:{color:f.colorTextDescription},[`${_}-footer`]:{marginTop:U},"&-normal":{marginBlock:q,color:f.colorTextDescription,[`${_}-description`]:{color:f.colorTextDescription},[`${_}-image`]:{height:f.emptyImgHeightMD}},"&-small":{marginBlock:I,color:f.colorTextDescription,[`${_}-image`]:{height:f.emptyImgHeightSM}}}}};var Ms=(0,Yt.I$)("Empty",f=>{const{componentCls:_,controlHeightLG:U,calc:I}=f,q=(0,zt.IX)(f,{emptyImgCls:`${_}-img`,emptyImgHeight:I(U).mul(2.5).equal(),emptyImgHeightMD:U,emptyImgHeightSM:I(U).mul(.875).equal()});return[Di(q)]}),Ws=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const as=a.createElement(Jn,null),eo=a.createElement(Ar,null),pr=f=>{const{className:_,rootClassName:U,prefixCls:I,image:q=as,description:Se,children:Ie,imageStyle:D,style:ne,classNames:ue,styles:le}=f,ce=Ws(f,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:ut,direction:Ge,className:yt,style:Xe,classNames:dt,styles:Nt}=(0,oe.dj)("empty"),ft=ut("empty",I),[an,Dn,ii]=Ms(ft),[Un]=(0,yi.Z)("Empty"),Gn=typeof Se!="undefined"?Se:Un==null?void 0:Un.description,zn=typeof Gn=="string"?Gn:"empty";let zi=null;return typeof q=="string"?zi=a.createElement("img",{alt:zn,src:q}):zi=q,an(a.createElement("div",Object.assign({className:z()(Dn,ii,ft,yt,{[`${ft}-normal`]:q===eo,[`${ft}-rtl`]:Ge==="rtl"},_,U,dt.root,ue==null?void 0:ue.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},Nt.root),Xe),le==null?void 0:le.root),ne)},ce),a.createElement("div",{className:z()(`${ft}-image`,dt.image,ue==null?void 0:ue.image),style:Object.assign(Object.assign(Object.assign({},D),Nt.image),le==null?void 0:le.image)},zi),Gn&&a.createElement("div",{className:z()(`${ft}-description`,dt.description,ue==null?void 0:ue.description),style:Object.assign(Object.assign({},Nt.description),le==null?void 0:le.description)},Gn),Ie&&a.createElement("div",{className:z()(`${ft}-footer`,dt.footer,ue==null?void 0:ue.footer),style:Object.assign(Object.assign({},Nt.footer),le==null?void 0:le.footer)},Ie)))};pr.PRESENTED_IMAGE_DEFAULT=as,pr.PRESENTED_IMAGE_SIMPLE=eo;var go=pr,Qo=f=>{const{componentName:_}=f,{getPrefixCls:U}=(0,a.useContext)(oe.E_),I=U("empty");switch(_){case"Table":case"List":return a.createElement(go,{image:go.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return a.createElement(go,{image:go.PRESENTED_IMAGE_SIMPLE,className:`${I}-small`});case"Table.filter":return null;default:return a.createElement(go,null)}},ea=M(39480);const Oa=f=>{const U={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:f==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},U),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},U),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},U),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},U),{points:["br","tr"],offset:[0,-4]})}};function vl(f,_){return f||Oa(_)}var Sl=vl,Ce=M(94550),Qe=M(24195);const ot=new ee.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),bt=new ee.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),rn=new ee.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),ti=new ee.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),ni=new ee.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Ln=new ee.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Ri=new ee.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),sn=new ee.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),ar={"slide-up":{inKeyframes:ot,outKeyframes:bt},"slide-down":{inKeyframes:rn,outKeyframes:ti},"slide-left":{inKeyframes:ni,outKeyframes:Ln},"slide-right":{inKeyframes:Ri,outKeyframes:sn}},kr=(f,_)=>{const{antCls:U}=f,I=`${U}-${_}`,{inKeyframes:q,outKeyframes:Se}=ar[_];return[(0,Qe.R)(I,q,Se,f.motionDurationMid),{[`
      ${I}-enter,
      ${I}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:f.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${I}-leave`]:{animationTimingFunction:f.motionEaseInQuint}}]},lr=new ee.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Ps=new ee.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),xe=new ee.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Ve=new ee.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),At=new ee.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Gt=new ee.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),qt=new ee.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Vn=new ee.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),jn={"move-up":{inKeyframes:qt,outKeyframes:Vn},"move-down":{inKeyframes:lr,outKeyframes:Ps},"move-left":{inKeyframes:xe,outKeyframes:Ve},"move-right":{inKeyframes:At,outKeyframes:Gt}},Ii=(f,_)=>{const{antCls:U}=f,I=`${U}-${_}`,{inKeyframes:q,outKeyframes:Se}=jn[_];return[(0,Qe.R)(I,q,Se,f.motionDurationMid),{[`
        ${I}-enter,
        ${I}-appear
      `]:{opacity:0,animationTimingFunction:f.motionEaseOutCirc},[`${I}-leave`]:{animationTimingFunction:f.motionEaseInOutCirc}}]},ui=f=>{const{optionHeight:_,optionFontSize:U,optionLineHeight:I,optionPadding:q}=f;return{position:"relative",display:"block",minHeight:_,padding:q,color:f.colorText,fontWeight:"normal",fontSize:U,lineHeight:I,boxSizing:"border-box"}};var Pr=f=>{const{antCls:_,componentCls:U}=f,I=`${U}-item`,q=`&${_}-slide-up-enter${_}-slide-up-enter-active`,Se=`&${_}-slide-up-appear${_}-slide-up-appear-active`,Ie=`&${_}-slide-up-leave${_}-slide-up-leave-active`,D=`${U}-dropdown-placement-`,ne=`${I}-option-selected`;return[{[`${U}-dropdown`]:Object.assign(Object.assign({},(0,je.Wf)(f)),{position:"absolute",top:-9999,zIndex:f.zIndexPopup,boxSizing:"border-box",padding:f.paddingXXS,overflow:"hidden",fontSize:f.fontSize,fontVariant:"initial",backgroundColor:f.colorBgElevated,borderRadius:f.borderRadiusLG,outline:"none",boxShadow:f.boxShadowSecondary,[`
          ${q}${D}bottomLeft,
          ${Se}${D}bottomLeft
        `]:{animationName:ot},[`
          ${q}${D}topLeft,
          ${Se}${D}topLeft,
          ${q}${D}topRight,
          ${Se}${D}topRight
        `]:{animationName:rn},[`${Ie}${D}bottomLeft`]:{animationName:bt},[`
          ${Ie}${D}topLeft,
          ${Ie}${D}topRight
        `]:{animationName:ti},"&-hidden":{display:"none"},[I]:Object.assign(Object.assign({},ui(f)),{cursor:"pointer",transition:`background ${f.motionDurationSlow} ease`,borderRadius:f.borderRadiusSM,"&-group":{color:f.colorTextDescription,fontSize:f.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},je.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${I}-option-disabled)`]:{backgroundColor:f.optionActiveBg},[`&-selected:not(${I}-option-disabled)`]:{color:f.optionSelectedColor,fontWeight:f.optionSelectedFontWeight,backgroundColor:f.optionSelectedBg,[`${I}-option-state`]:{color:f.colorPrimary}},"&-disabled":{[`&${I}-option-selected`]:{backgroundColor:f.colorBgContainerDisabled},color:f.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:f.calc(f.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},ui(f)),{color:f.colorTextDisabled})}),[`${ne}:has(+ ${ne})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${ne}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},kr(f,"slide-up"),kr(f,"slide-down"),Ii(f,"move-up"),Ii(f,"move-down")]};const Ki=f=>{const{multipleSelectItemHeight:_,paddingXXS:U,lineWidth:I,INTERNAL_FIXED_ITEM_MARGIN:q}=f,Se=f.max(f.calc(U).sub(I).equal(),0),Ie=f.max(f.calc(Se).sub(q).equal(),0);return{basePadding:Se,containerPadding:Ie,itemHeight:(0,ee.bf)(_),itemLineHeight:(0,ee.bf)(f.calc(_).sub(f.calc(f.lineWidth).mul(2)).equal())}},ps=f=>{const{multipleSelectItemHeight:_,selectHeight:U,lineWidth:I}=f;return f.calc(U).sub(_).div(2).sub(I).equal()},Ss=f=>{const{componentCls:_,iconCls:U,borderRadiusSM:I,motionDurationSlow:q,paddingXS:Se,multipleItemColorDisabled:Ie,multipleItemBorderColorDisabled:D,colorIcon:ne,colorIconHover:ue,INTERNAL_FIXED_ITEM_MARGIN:le}=f;return{[`${_}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${_}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:le,borderRadius:I,cursor:"default",transition:`font-size ${q}, line-height ${q}, height ${q}`,marginInlineEnd:f.calc(le).mul(2).equal(),paddingInlineStart:Se,paddingInlineEnd:f.calc(Se).div(2).equal(),[`${_}-disabled&`]:{color:Ie,borderColor:D,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:f.calc(Se).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,je.Ro)()),{display:"inline-flex",alignItems:"center",color:ne,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${U}`]:{verticalAlign:"-0.2em"},"&:hover":{color:ue}})}}}},Vo=(f,_)=>{const{componentCls:U,INTERNAL_FIXED_ITEM_MARGIN:I}=f,q=`${U}-selection-overflow`,Se=f.multipleSelectItemHeight,Ie=ps(f),D=_?`${U}-${_}`:"",ne=Ki(f);return{[`${U}-multiple${D}`]:Object.assign(Object.assign({},Ss(f)),{[`${U}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:ne.basePadding,paddingBlock:ne.containerPadding,borderRadius:f.borderRadius,[`${U}-disabled&`]:{background:f.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,ee.bf)(I)} 0`,lineHeight:(0,ee.bf)(Se),visibility:"hidden",content:'"\\a0"'}},[`${U}-selection-item`]:{height:ne.itemHeight,lineHeight:(0,ee.bf)(ne.itemLineHeight)},[`${U}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,ee.bf)(Se),marginBlock:I}},[`${U}-prefix`]:{marginInlineStart:f.calc(f.inputPaddingHorizontalBase).sub(ne.basePadding).equal()},[`${q}-item + ${q}-item,
        ${U}-prefix + ${U}-selection-wrap
      `]:{[`${U}-selection-search`]:{marginInlineStart:0},[`${U}-selection-placeholder`]:{insetInlineStart:0}},[`${q}-item-suffix`]:{minHeight:ne.itemHeight,marginBlock:I},[`${U}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:f.calc(f.inputPaddingHorizontalBase).sub(Ie).equal(),"\n          &-input,\n          &-mirror\n        ":{height:Se,fontFamily:f.fontFamily,lineHeight:(0,ee.bf)(Se),transition:`all ${f.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${U}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:f.calc(f.inputPaddingHorizontalBase).sub(ne.basePadding).equal(),insetInlineEnd:f.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${f.motionDurationSlow}`}})}};function Ea(f,_){const{componentCls:U}=f,I=_?`${U}-${_}`:"",q={[`${U}-multiple${I}`]:{fontSize:f.fontSize,[`${U}-selector`]:{[`${U}-show-search&`]:{cursor:"text"}},[`
        &${U}-show-arrow ${U}-selector,
        &${U}-allow-clear ${U}-selector
      `]:{paddingInlineEnd:f.calc(f.fontSizeIcon).add(f.controlPaddingHorizontal).equal()}}};return[Vo(f,_),q]}var $o=f=>{const{componentCls:_}=f,U=(0,zt.IX)(f,{selectHeight:f.controlHeightSM,multipleSelectItemHeight:f.multipleItemHeightSM,borderRadius:f.borderRadiusSM,borderRadiusSM:f.borderRadiusXS}),I=(0,zt.IX)(f,{fontSize:f.fontSizeLG,selectHeight:f.controlHeightLG,multipleSelectItemHeight:f.multipleItemHeightLG,borderRadius:f.borderRadiusLG,borderRadiusSM:f.borderRadius});return[Ea(f),Ea(U,"sm"),{[`${_}-multiple${_}-sm`]:{[`${_}-selection-placeholder`]:{insetInline:f.calc(f.controlPaddingHorizontalSM).sub(f.lineWidth).equal()},[`${_}-selection-search`]:{marginInlineStart:2}}},Ea(I,"lg")]};function ja(f,_){const{componentCls:U,inputPaddingHorizontalBase:I,borderRadius:q}=f,Se=f.calc(f.controlHeight).sub(f.calc(f.lineWidth).mul(2)).equal(),Ie=_?`${U}-${_}`:"";return{[`${U}-single${Ie}`]:{fontSize:f.fontSize,height:f.controlHeight,[`${U}-selector`]:Object.assign(Object.assign({},(0,je.Wf)(f,!0)),{display:"flex",borderRadius:q,flex:"1 1 auto",[`${U}-selection-wrap:after`]:{lineHeight:(0,ee.bf)(Se)},[`${U}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${U}-selection-item,
          ${U}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:(0,ee.bf)(Se),transition:`all ${f.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${U}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${U}-selection-item:empty:after`,`${U}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${U}-show-arrow ${U}-selection-item,
        &${U}-show-arrow ${U}-selection-search,
        &${U}-show-arrow ${U}-selection-placeholder
      `]:{paddingInlineEnd:f.showArrowPaddingInlineEnd},[`&${U}-open ${U}-selection-item`]:{color:f.colorTextPlaceholder},[`&:not(${U}-customize-input)`]:{[`${U}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,ee.bf)(I)}`,[`${U}-selection-search-input`]:{height:Se,fontSize:f.fontSize},"&:after":{lineHeight:(0,ee.bf)(Se)}}},[`&${U}-customize-input`]:{[`${U}-selector`]:{"&:after":{display:"none"},[`${U}-selection-search`]:{position:"static",width:"100%"},[`${U}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,ee.bf)(I)}`,"&:after":{display:"none"}}}}}}}function Il(f){const{componentCls:_}=f,U=f.calc(f.controlPaddingHorizontalSM).sub(f.lineWidth).equal();return[ja(f),ja((0,zt.IX)(f,{controlHeight:f.controlHeightSM,borderRadius:f.borderRadiusSM}),"sm"),{[`${_}-single${_}-sm`]:{[`&:not(${_}-customize-input)`]:{[`${_}-selector`]:{padding:`0 ${(0,ee.bf)(U)}`},[`&${_}-show-arrow ${_}-selection-search`]:{insetInlineEnd:f.calc(U).add(f.calc(f.fontSize).mul(1.5)).equal()},[`
            &${_}-show-arrow ${_}-selection-item,
            &${_}-show-arrow ${_}-selection-placeholder
          `]:{paddingInlineEnd:f.calc(f.fontSize).mul(1.5).equal()}}}},ja((0,zt.IX)(f,{controlHeight:f.singleItemHeightLG,fontSize:f.fontSizeLG,borderRadius:f.borderRadiusLG}),"lg")]}const jo=f=>{const{fontSize:_,lineHeight:U,lineWidth:I,controlHeight:q,controlHeightSM:Se,controlHeightLG:Ie,paddingXXS:D,controlPaddingHorizontal:ne,zIndexPopupBase:ue,colorText:le,fontWeightStrong:ce,controlItemBgActive:ut,controlItemBgHover:Ge,colorBgContainer:yt,colorFillSecondary:Xe,colorBgContainerDisabled:dt,colorTextDisabled:Nt,colorPrimaryHover:ft,colorPrimary:an,controlOutline:Dn}=f,ii=D*2,Un=I*2,Gn=Math.min(q-ii,q-Un),zn=Math.min(Se-ii,Se-Un),zi=Math.min(Ie-ii,Ie-Un);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(D/2),zIndexPopup:ue+50,optionSelectedColor:le,optionSelectedFontWeight:ce,optionSelectedBg:ut,optionActiveBg:Ge,optionPadding:`${(q-_*U)/2}px ${ne}px`,optionFontSize:_,optionLineHeight:U,optionHeight:q,selectorBg:yt,clearBg:yt,singleItemHeightLG:Ie,multipleItemBg:Xe,multipleItemBorderColor:"transparent",multipleItemHeight:Gn,multipleItemHeightSM:zn,multipleItemHeightLG:zi,multipleSelectorBgDisabled:dt,multipleItemColorDisabled:Nt,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(f.fontSize*1.25),hoverBorderColor:ft,activeBorderColor:an,activeOutlineColor:Dn,selectAffixPadding:D}},la=(f,_)=>{const{componentCls:U,antCls:I,controlOutlineWidth:q}=f;return{[`&:not(${U}-customize-input) ${U}-selector`]:{border:`${(0,ee.bf)(f.lineWidth)} ${f.lineType} ${_.borderColor}`,background:f.selectorBg},[`&:not(${U}-disabled):not(${U}-customize-input):not(${I}-pagination-size-changer)`]:{[`&:hover ${U}-selector`]:{borderColor:_.hoverBorderHover},[`${U}-focused& ${U}-selector`]:{borderColor:_.activeBorderColor,boxShadow:`0 0 0 ${(0,ee.bf)(q)} ${_.activeOutlineColor}`,outline:0},[`${U}-prefix`]:{color:_.color}}}},Ul=(f,_)=>({[`&${f.componentCls}-status-${_.status}`]:Object.assign({},la(f,_))}),cc=f=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},la(f,{borderColor:f.colorBorder,hoverBorderHover:f.hoverBorderColor,activeBorderColor:f.activeBorderColor,activeOutlineColor:f.activeOutlineColor,color:f.colorText})),Ul(f,{status:"error",borderColor:f.colorError,hoverBorderHover:f.colorErrorHover,activeBorderColor:f.colorError,activeOutlineColor:f.colorErrorOutline,color:f.colorError})),Ul(f,{status:"warning",borderColor:f.colorWarning,hoverBorderHover:f.colorWarningHover,activeBorderColor:f.colorWarning,activeOutlineColor:f.colorWarningOutline,color:f.colorWarning})),{[`&${f.componentCls}-disabled`]:{[`&:not(${f.componentCls}-customize-input) ${f.componentCls}-selector`]:{background:f.colorBgContainerDisabled,color:f.colorTextDisabled}},[`&${f.componentCls}-multiple ${f.componentCls}-selection-item`]:{background:f.multipleItemBg,border:`${(0,ee.bf)(f.lineWidth)} ${f.lineType} ${f.multipleItemBorderColor}`}})}),El=(f,_)=>{const{componentCls:U,antCls:I}=f;return{[`&:not(${U}-customize-input) ${U}-selector`]:{background:_.bg,border:`${(0,ee.bf)(f.lineWidth)} ${f.lineType} transparent`,color:_.color},[`&:not(${U}-disabled):not(${U}-customize-input):not(${I}-pagination-size-changer)`]:{[`&:hover ${U}-selector`]:{background:_.hoverBg},[`${U}-focused& ${U}-selector`]:{background:f.selectorBg,borderColor:_.activeBorderColor,outline:0}}}},uc=(f,_)=>({[`&${f.componentCls}-status-${_.status}`]:Object.assign({},El(f,_))}),yl=f=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},El(f,{bg:f.colorFillTertiary,hoverBg:f.colorFillSecondary,activeBorderColor:f.activeBorderColor,color:f.colorText})),uc(f,{status:"error",bg:f.colorErrorBg,hoverBg:f.colorErrorBgHover,activeBorderColor:f.colorError,color:f.colorError})),uc(f,{status:"warning",bg:f.colorWarningBg,hoverBg:f.colorWarningBgHover,activeBorderColor:f.colorWarning,color:f.colorWarning})),{[`&${f.componentCls}-disabled`]:{[`&:not(${f.componentCls}-customize-input) ${f.componentCls}-selector`]:{borderColor:f.colorBorder,background:f.colorBgContainerDisabled,color:f.colorTextDisabled}},[`&${f.componentCls}-multiple ${f.componentCls}-selection-item`]:{background:f.colorBgContainer,border:`${(0,ee.bf)(f.lineWidth)} ${f.lineType} ${f.colorSplit}`}})}),hu=f=>({"&-borderless":{[`${f.componentCls}-selector`]:{background:"transparent",border:`${(0,ee.bf)(f.lineWidth)} ${f.lineType} transparent`},[`&${f.componentCls}-disabled`]:{[`&:not(${f.componentCls}-customize-input) ${f.componentCls}-selector`]:{color:f.colorTextDisabled}},[`&${f.componentCls}-multiple ${f.componentCls}-selection-item`]:{background:f.multipleItemBg,border:`${(0,ee.bf)(f.lineWidth)} ${f.lineType} ${f.multipleItemBorderColor}`},[`&${f.componentCls}-status-error`]:{[`${f.componentCls}-prefix, ${f.componentCls}-selection-item`]:{color:f.colorError}},[`&${f.componentCls}-status-warning`]:{[`${f.componentCls}-prefix, ${f.componentCls}-selection-item`]:{color:f.colorWarning}}}}),Tl=(f,_)=>{const{componentCls:U,antCls:I}=f;return{[`&:not(${U}-customize-input) ${U}-selector`]:{borderWidth:`0 0 ${(0,ee.bf)(f.lineWidth)} 0`,borderStyle:`none none ${f.lineType} none`,borderColor:_.borderColor,background:f.selectorBg,borderRadius:0},[`&:not(${U}-disabled):not(${U}-customize-input):not(${I}-pagination-size-changer)`]:{[`&:hover ${U}-selector`]:{borderColor:_.hoverBorderHover},[`${U}-focused& ${U}-selector`]:{borderColor:_.activeBorderColor,outline:0},[`${U}-prefix`]:{color:_.color}}}},ct=(f,_)=>({[`&${f.componentCls}-status-${_.status}`]:Object.assign({},Tl(f,_))}),Cl=f=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Tl(f,{borderColor:f.colorBorder,hoverBorderHover:f.hoverBorderColor,activeBorderColor:f.activeBorderColor,activeOutlineColor:f.activeOutlineColor,color:f.colorText})),ct(f,{status:"error",borderColor:f.colorError,hoverBorderHover:f.colorErrorHover,activeBorderColor:f.colorError,activeOutlineColor:f.colorErrorOutline,color:f.colorError})),ct(f,{status:"warning",borderColor:f.colorWarning,hoverBorderHover:f.colorWarningHover,activeBorderColor:f.colorWarning,activeOutlineColor:f.colorWarningOutline,color:f.colorWarning})),{[`&${f.componentCls}-disabled`]:{[`&:not(${f.componentCls}-customize-input) ${f.componentCls}-selector`]:{color:f.colorTextDisabled}},[`&${f.componentCls}-multiple ${f.componentCls}-selection-item`]:{background:f.multipleItemBg,border:`${(0,ee.bf)(f.lineWidth)} ${f.lineType} ${f.multipleItemBorderColor}`}})});var zl=f=>({[f.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},cc(f)),yl(f)),hu(f)),Cl(f))});const yc=f=>{const{componentCls:_}=f;return{position:"relative",transition:`all ${f.motionDurationMid} ${f.motionEaseInOut}`,input:{cursor:"pointer"},[`${_}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${_}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Jl=f=>{const{componentCls:_}=f;return{[`${_}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},eu=f=>{const{antCls:_,componentCls:U,inputPaddingHorizontalBase:I,iconCls:q}=f;return{[U]:Object.assign(Object.assign({},(0,je.Wf)(f)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${U}-customize-input) ${U}-selector`]:Object.assign(Object.assign({},yc(f)),Jl(f)),[`${U}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},je.vS),{[`> ${_}-typography`]:{display:"inline"}}),[`${U}-selection-placeholder`]:Object.assign(Object.assign({},je.vS),{flex:1,color:f.colorTextPlaceholder,pointerEvents:"none"}),[`${U}-arrow`]:Object.assign(Object.assign({},(0,je.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:I,height:f.fontSizeIcon,marginTop:f.calc(f.fontSizeIcon).mul(-1).div(2).equal(),color:f.colorTextQuaternary,fontSize:f.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${f.motionDurationSlow} ease`,[q]:{verticalAlign:"top",transition:`transform ${f.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${U}-suffix)`]:{pointerEvents:"auto"}},[`${U}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${U}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${U}-prefix`]:{flex:"none",marginInlineEnd:f.selectAffixPadding},[`${U}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:I,zIndex:1,display:"inline-block",width:f.fontSizeIcon,height:f.fontSizeIcon,marginTop:f.calc(f.fontSizeIcon).mul(-1).div(2).equal(),color:f.colorTextQuaternary,fontSize:f.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${f.motionDurationMid} ease, opacity ${f.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:f.colorTextTertiary}},[`&:hover ${U}-clear`]:{opacity:1,background:f.colorBgBase,borderRadius:"50%"}}),[`${U}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${U}-has-feedback`]:{[`${U}-clear`]:{insetInlineEnd:f.calc(I).add(f.fontSize).add(f.paddingXS).equal()}}}}}},Pc=f=>{const{componentCls:_}=f;return[{[_]:{[`&${_}-in-form-item`]:{width:"100%"}}},eu(f),Il(f),$o(f),Pr(f),{[`${_}-rtl`]:{direction:"rtl"}},(0,Ce.c)(f,{borderElCls:`${_}-selector`,focusElCls:`${_}-focused`})]};var _c=(0,Yt.I$)("Select",(f,_)=>{let{rootPrefixCls:U}=_;const I=(0,zt.IX)(f,{rootPrefixCls:U,inputPaddingHorizontalBase:f.calc(f.paddingSM).sub(1).equal(),multipleSelectItemHeight:f.multipleItemHeight,selectHeight:f.controlHeight});return[Pc(I),zl(I)]},jo,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}}),Fc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},wc=Fc,Mc=M(55969),Oc=function(_,U){return a.createElement(Mc.Z,(0,nr.Z)({},_,{ref:U,icon:wc}))},Hc=a.forwardRef(Oc),Rc=Hc,tu=M(33487),Ic=M(15409),Vc=M(83843),Su=M(79312),jc=M(67618);function Ql(f){let{suffixIcon:_,clearIcon:U,menuItemSelectedIcon:I,removeIcon:q,loading:Se,multiple:Ie,hasFeedback:D,prefixCls:ne,showSuffixIcon:ue,feedbackIcon:le,showArrow:ce,componentName:ut}=f;const Ge=U!=null?U:a.createElement(tu.Z,null),yt=ft=>_===null&&!D&&!ce?null:a.createElement(a.Fragment,null,ue!==!1&&ft,D&&le);let Xe=null;if(_!==void 0)Xe=yt(_);else if(Se)Xe=yt(a.createElement(Su.Z,{spin:!0}));else{const ft=`${ne}-suffix`;Xe=an=>{let{open:Dn,showSearch:ii}=an;return yt(Dn&&ii?a.createElement(jc.Z,{className:ft}):a.createElement(Vc.Z,{className:ft}))}}let dt=null;I!==void 0?dt=I:Ie?dt=a.createElement(Rc,null):dt=null;let Nt=null;return q!==void 0?Nt=q:Nt=a.createElement(Ic.Z,null),{clearIcon:Ge,suffixIcon:Xe,itemIcon:dt,removeIcon:Nt}}function Al(f,_){return _!==void 0?_:f!==null}var dc=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const jl="SECRET_COMBOBOX_MODE_DO_NOT_USE",ec=(f,_)=>{var U;const{prefixCls:I,bordered:q,className:Se,rootClassName:Ie,getPopupContainer:D,popupClassName:ne,dropdownClassName:ue,listHeight:le=256,placement:ce,listItemHeight:ut,size:Ge,disabled:yt,notFoundContent:Xe,status:dt,builtinPlacements:Nt,dropdownMatchSelectWidth:ft,popupMatchSelectWidth:an,direction:Dn,style:ii,allowClear:Un,variant:Gn,dropdownStyle:zn,transitionName:zi,tagRender:Ci,maxCount:Hi,prefix:Qi}=f,Wr=dc(f,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:Gi,getPrefixCls:Bi,renderEmpty:Or,direction:Rr,virtual:ts,popupMatchSelectWidth:jr,popupOverflow:br}=a.useContext(oe.E_),Dr=(0,oe.dj)("select"),[,ao]=(0,pt.ZP)(),ha=ut!=null?ut:ao==null?void 0:ao.controlHeight,Ks=Bi("select",I),Is=Bi(),gs=Dn!=null?Dn:Rr,{compactSize:Ds,compactItemClassnames:Ho}=(0,vi.ri)(Ks,gs),[fa,lo]=(0,ea.Z)("select",Gn,q),mr=(0,Me.Z)(Ks),[gr,rs,co]=_c(Ks,mr),Xr=a.useMemo(()=>{const{mode:xa}=f;if(xa!=="combobox")return xa===jl?"combobox":xa},[f.mode]),ys=Xr==="multiple"||Xr==="tags",ks=Al(f.suffixIcon,f.showArrow),Eo=(U=an!=null?an:ft)!==null&&U!==void 0?U:jr,{status:uo,hasFeedback:Sa,isFormItemInput:rl,feedbackIcon:ul}=a.useContext(Be.aM),ka=(0,J.F)(uo,dt);let wr;Xe!==void 0?wr=Xe:Xr==="combobox"?wr=null:wr=(Or==null?void 0:Or("Select"))||a.createElement(Qo,{componentName:"Select"});const{suffixIcon:Za,itemIcon:Ha,removeIcon:Ia,clearIcon:Zo}=Ql(Object.assign(Object.assign({},Wr),{multiple:ys,hasFeedback:Sa,feedbackIcon:ul,showSuffixIcon:ks,prefixCls:Ks,componentName:"Select"})),Xo=Un===!0?{clearIcon:Zo}:Un,ho=(0,Ir.Z)(Wr,["suffixIcon","itemIcon"]),na=z()(ne||ue,{[`${Ks}-dropdown-${gs}`]:gs==="rtl"},Ie,co,mr,rs),oa=(0,tt.Z)(xa=>{var ml;return(ml=Ge!=null?Ge:Ds)!==null&&ml!==void 0?ml:xa}),wo=a.useContext(fe.Z),Ja=yt!=null?yt:wo,bl=z()({[`${Ks}-lg`]:oa==="large",[`${Ks}-sm`]:oa==="small",[`${Ks}-rtl`]:gs==="rtl",[`${Ks}-${fa}`]:lo,[`${Ks}-in-form-item`]:rl},(0,J.Z)(Ks,ka,Sa),Ho,Dr.className,Se,Ie,co,mr,rs),ca=a.useMemo(()=>ce!==void 0?ce:gs==="rtl"?"bottomRight":"bottomLeft",[ce,gs]),[Va]=(0,Oe.Cn)("SelectLike",zn==null?void 0:zn.zIndex);return gr(a.createElement(Ji,Object.assign({ref:_,virtual:ts,showSearch:Dr.showSearch},ho,{style:Object.assign(Object.assign({},Dr.style),ii),dropdownMatchSelectWidth:Eo,transitionName:(0,qe.m)(Is,"slide-up",zi),builtinPlacements:Sl(Nt,br),listHeight:le,listItemHeight:ha,mode:Xr,prefixCls:Ks,placement:ca,direction:gs,prefix:Qi,suffixIcon:Za,menuItemSelectedIcon:Ha,removeIcon:Ia,allowClear:Xo,notFoundContent:wr,className:bl,getPopupContainer:D||Gi,dropdownClassName:na,disabled:Ja,dropdownStyle:Object.assign(Object.assign({},zn),{zIndex:Va}),maxCount:ys?Hi:void 0,tagRender:ys?Ci:void 0})))},Dl=a.forwardRef(ec),Wc=(0,se.Z)(Dl,"dropdownAlign");Dl.SECRET_COMBOBOX_MODE_DO_NOT_USE=jl,Dl.Option=Q,Dl.OptGroup=H,Dl._InternalPanelDoNotUseOrYouWillBeFired=Wc;var Dc=Dl;const Bc="hex",xc="rgb",Io="hsb";var Uc=M(69085),Ec=f=>{let{prefixCls:_,min:U=0,max:I=100,value:q,onChange:Se,className:Ie,formatter:D}=f;const ne=`${_}-steppers`,[ue,le]=(0,a.useState)(q);return(0,a.useEffect)(()=>{Number.isNaN(q)||le(q)},[q]),a.createElement(Uc.Z,{className:z()(ne,Ie),min:U,max:I,value:ue,formatter:D,size:"small",onChange:ce=>{q||le(ce||0),Se==null||Se(ce)}})},Tc=f=>{let{prefixCls:_,value:U,onChange:I}=f;const q=`${_}-alpha-input`,[Se,Ie]=(0,a.useState)((0,zr.vC)(U||"#000"));(0,a.useEffect)(()=>{U&&Ie(U)},[U]);const D=ne=>{const ue=Se.toHsb();ue.a=(ne||0)/100;const le=(0,zr.vC)(ue);U||Ie(le),I==null||I(le)};return a.createElement(Ec,{value:(0,zr.uZ)(Se),prefixCls:_,formatter:ne=>`${ne}%`,className:q,onChange:D})},iu=M(25216);const tl=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,su=f=>tl.test(`#${f}`);var Xl=f=>{let{prefixCls:_,value:U,onChange:I}=f;const q=`${_}-hex-input`,[Se,Ie]=(0,a.useState)(()=>U?(0,Ot.Ot)(U.toHexString()):void 0);(0,a.useEffect)(()=>{U&&Ie((0,Ot.Ot)(U.toHexString()))},[U]);const D=ne=>{const ue=ne.target.value;Ie((0,Ot.Ot)(ue)),su((0,Ot.Ot)(ue,!0))&&(I==null||I((0,zr.vC)(ue)))};return a.createElement(iu.Z,{className:q,value:Se,prefix:"#",onChange:D,size:"small"})},Cu=f=>{let{prefixCls:_,value:U,onChange:I}=f;const q=`${_}-hsb-input`,[Se,Ie]=(0,a.useState)((0,zr.vC)(U||"#000"));(0,a.useEffect)(()=>{U&&Ie(U)},[U]);const D=(ne,ue)=>{const le=Se.toHsb();le[ue]=ue==="h"?ne:(ne||0)/100;const ce=(0,zr.vC)(le);U||Ie(ce),I==null||I(ce)};return a.createElement("div",{className:q},a.createElement(Ec,{max:360,min:0,value:Number(Se.toHsb().h),prefixCls:_,className:q,formatter:ne=>(0,zr.lx)(ne||0).toString(),onChange:ne=>D(Number(ne),"h")}),a.createElement(Ec,{max:100,min:0,value:Number(Se.toHsb().s)*100,prefixCls:_,className:q,formatter:ne=>`${(0,zr.lx)(ne||0)}%`,onChange:ne=>D(Number(ne),"s")}),a.createElement(Ec,{max:100,min:0,value:Number(Se.toHsb().b)*100,prefixCls:_,className:q,formatter:ne=>`${(0,zr.lx)(ne||0)}%`,onChange:ne=>D(Number(ne),"b")}))},zc=f=>{let{prefixCls:_,value:U,onChange:I}=f;const q=`${_}-rgb-input`,[Se,Ie]=(0,a.useState)((0,zr.vC)(U||"#000"));(0,a.useEffect)(()=>{U&&Ie(U)},[U]);const D=(ne,ue)=>{const le=Se.toRgb();le[ue]=ne||0;const ce=(0,zr.vC)(le);U||Ie(ce),I==null||I(ce)};return a.createElement("div",{className:q},a.createElement(Ec,{max:255,min:0,value:Number(Se.toRgb().r),prefixCls:_,className:q,onChange:ne=>D(Number(ne),"r")}),a.createElement(Ec,{max:255,min:0,value:Number(Se.toRgb().g),prefixCls:_,className:q,onChange:ne=>D(Number(ne),"g")}),a.createElement(Ec,{max:255,min:0,value:Number(Se.toRgb().b),prefixCls:_,className:q,onChange:ne=>D(Number(ne),"b")}))};const fc=[Bc,Io,xc].map(f=>({value:f,label:f.toUpperCase()}));var R=f=>{const{prefixCls:_,format:U,value:I,disabledAlpha:q,onFormatChange:Se,onChange:Ie,disabledFormat:D}=f,[ne,ue]=(0,ie.Z)(Bc,{value:U,onChange:Se}),le=`${_}-input`,ce=Ge=>{ue(Ge)},ut=(0,a.useMemo)(()=>{const Ge={value:I,prefixCls:_,onChange:Ie};switch(ne){case Io:return a.createElement(Cu,Object.assign({},Ge));case xc:return a.createElement(zc,Object.assign({},Ge));default:return a.createElement(Xl,Object.assign({},Ge))}},[ne,_,I,Ie]);return a.createElement("div",{className:`${le}-container`},!D&&a.createElement(Dc,{value:ne,variant:"borderless",getPopupContainer:Ge=>Ge,popupMatchSelectWidth:68,placement:"bottomRight",onChange:ce,className:`${_}-format-select`,size:"small",options:fc}),a.createElement("div",{className:le},ut),!q&&a.createElement(Tc,{prefixCls:_,value:I,onChange:Ie}))},C=M(57902),X=M(8104),Te=M(30967);function be(f,_,U){return(f-_)/(U-_)}function St(f,_,U,I){var q=be(_,U,I),Se={};switch(f){case"rtl":Se.right="".concat(q*100,"%"),Se.transform="translateX(50%)";break;case"btt":Se.bottom="".concat(q*100,"%"),Se.transform="translateY(50%)";break;case"ttb":Se.top="".concat(q*100,"%"),Se.transform="translateY(-50%)";break;default:Se.left="".concat(q*100,"%"),Se.transform="translateX(-50%)";break}return Se}function We(f,_){return Array.isArray(f)?f[_]:f}var wn=a.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),nn=wn,On=a.createContext({}),Zt=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Qt=a.forwardRef(function(f,_){var U=f.prefixCls,I=f.value,q=f.valueIndex,Se=f.onStartMove,Ie=f.onDelete,D=f.style,ne=f.render,ue=f.dragging,le=f.draggingDelete,ce=f.onOffsetChange,ut=f.onChangeComplete,Ge=f.onFocus,yt=f.onMouseEnter,Xe=(0,Zi.Z)(f,Zt),dt=a.useContext(nn),Nt=dt.min,ft=dt.max,an=dt.direction,Dn=dt.disabled,ii=dt.keyboard,Un=dt.range,Gn=dt.tabIndex,zn=dt.ariaLabelForHandle,zi=dt.ariaLabelledByForHandle,Ci=dt.ariaRequired,Hi=dt.ariaValueTextFormatterForHandle,Qi=dt.styles,Wr=dt.classNames,Gi="".concat(U,"-handle"),Bi=function(Is){Dn||Se(Is,q)},Or=function(Is){Ge==null||Ge(Is,q)},Rr=function(Is){yt(Is,q)},ts=function(Is){if(!Dn&&ii){var gs=null;switch(Is.which||Is.keyCode){case ye.Z.LEFT:gs=an==="ltr"||an==="btt"?-1:1;break;case ye.Z.RIGHT:gs=an==="ltr"||an==="btt"?1:-1;break;case ye.Z.UP:gs=an!=="ttb"?1:-1;break;case ye.Z.DOWN:gs=an!=="ttb"?-1:1;break;case ye.Z.HOME:gs="min";break;case ye.Z.END:gs="max";break;case ye.Z.PAGE_UP:gs=2;break;case ye.Z.PAGE_DOWN:gs=-2;break;case ye.Z.BACKSPACE:case ye.Z.DELETE:Ie(q);break}gs!==null&&(Is.preventDefault(),ce(gs,q))}},jr=function(Is){switch(Is.which||Is.keyCode){case ye.Z.LEFT:case ye.Z.RIGHT:case ye.Z.UP:case ye.Z.DOWN:case ye.Z.HOME:case ye.Z.END:case ye.Z.PAGE_UP:case ye.Z.PAGE_DOWN:ut==null||ut();break}},br=St(an,I,Nt,ft),Dr={};if(q!==null){var ao;Dr={tabIndex:Dn?null:We(Gn,q),role:"slider","aria-valuemin":Nt,"aria-valuemax":ft,"aria-valuenow":I,"aria-disabled":Dn,"aria-label":We(zn,q),"aria-labelledby":We(zi,q),"aria-required":We(Ci,q),"aria-valuetext":(ao=We(Hi,q))===null||ao===void 0?void 0:ao(I),"aria-orientation":an==="ltr"||an==="rtl"?"horizontal":"vertical",onMouseDown:Bi,onTouchStart:Bi,onFocus:Or,onMouseEnter:Rr,onKeyDown:ts,onKeyUp:jr}}var ha=a.createElement("div",(0,nr.Z)({ref:_,className:z()(Gi,(0,$n.Z)((0,$n.Z)((0,$n.Z)({},"".concat(Gi,"-").concat(q+1),q!==null&&Un),"".concat(Gi,"-dragging"),ue),"".concat(Gi,"-dragging-delete"),le),Wr.handle),style:(0,bi.Z)((0,bi.Z)((0,bi.Z)({},br),D),Qi.handle)},Dr,Xe));return ne&&(ha=ne(ha,{index:q,prefixCls:U,value:I,dragging:ue,draggingDelete:le})),ha}),on=Qt,Qn=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Sn=a.forwardRef(function(f,_){var U=f.prefixCls,I=f.style,q=f.onStartMove,Se=f.onOffsetChange,Ie=f.values,D=f.handleRender,ne=f.activeHandleRender,ue=f.draggingIndex,le=f.draggingDelete,ce=f.onFocus,ut=(0,Zi.Z)(f,Qn),Ge=a.useRef({}),yt=a.useState(!1),Xe=(0,mi.Z)(yt,2),dt=Xe[0],Nt=Xe[1],ft=a.useState(-1),an=(0,mi.Z)(ft,2),Dn=an[0],ii=an[1],Un=function(Hi){ii(Hi),Nt(!0)},Gn=function(Hi,Qi){Un(Qi),ce==null||ce(Hi)},zn=function(Hi,Qi){Un(Qi)};a.useImperativeHandle(_,function(){return{focus:function(Hi){var Qi;(Qi=Ge.current[Hi])===null||Qi===void 0||Qi.focus()},hideHelp:function(){(0,Te.flushSync)(function(){Nt(!1)})}}});var zi=(0,bi.Z)({prefixCls:U,onStartMove:q,onOffsetChange:Se,render:D,onFocus:Gn,onMouseEnter:zn},ut);return a.createElement(a.Fragment,null,Ie.map(function(Ci,Hi){var Qi=ue===Hi;return a.createElement(on,(0,nr.Z)({ref:function(Gi){Gi?Ge.current[Hi]=Gi:delete Ge.current[Hi]},dragging:Qi,draggingDelete:Qi&&le,style:We(I,Hi),key:Hi,value:Ci,valueIndex:Hi},zi))}),ne&&dt&&a.createElement(on,(0,nr.Z)({key:"a11y"},zi,{value:Ie[Dn],valueIndex:null,dragging:ue!==-1,draggingDelete:le,render:ne,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Re=Sn,he=function(_){var U=_.prefixCls,I=_.style,q=_.children,Se=_.value,Ie=_.onClick,D=a.useContext(nn),ne=D.min,ue=D.max,le=D.direction,ce=D.includedStart,ut=D.includedEnd,Ge=D.included,yt="".concat(U,"-text"),Xe=St(le,Se,ne,ue);return a.createElement("span",{className:z()(yt,(0,$n.Z)({},"".concat(yt,"-active"),Ge&&ce<=Se&&Se<=ut)),style:(0,bi.Z)((0,bi.Z)({},Xe),I),onMouseDown:function(Nt){Nt.stopPropagation()},onClick:function(){Ie(Se)}},q)},Pn=he,ln=function(_){var U=_.prefixCls,I=_.marks,q=_.onClick,Se="".concat(U,"-mark");return I.length?a.createElement("div",{className:Se},I.map(function(Ie){var D=Ie.value,ne=Ie.style,ue=Ie.label;return a.createElement(Pn,{key:D,prefixCls:Se,style:ne,value:D,onClick:q},ue)})):null},jt=ln,_i=function(_){var U=_.prefixCls,I=_.value,q=_.style,Se=_.activeStyle,Ie=a.useContext(nn),D=Ie.min,ne=Ie.max,ue=Ie.direction,le=Ie.included,ce=Ie.includedStart,ut=Ie.includedEnd,Ge="".concat(U,"-dot"),yt=le&&ce<=I&&I<=ut,Xe=(0,bi.Z)((0,bi.Z)({},St(ue,I,D,ne)),typeof q=="function"?q(I):q);return yt&&(Xe=(0,bi.Z)((0,bi.Z)({},Xe),typeof Se=="function"?Se(I):Se)),a.createElement("span",{className:z()(Ge,(0,$n.Z)({},"".concat(Ge,"-active"),yt)),style:Xe})},Cn=_i,Nn=function(_){var U=_.prefixCls,I=_.marks,q=_.dots,Se=_.style,Ie=_.activeStyle,D=a.useContext(nn),ne=D.min,ue=D.max,le=D.step,ce=a.useMemo(function(){var ut=new Set;if(I.forEach(function(yt){ut.add(yt.value)}),q&&le!==null)for(var Ge=ne;Ge<=ue;)ut.add(Ge),Ge+=le;return Array.from(ut)},[ne,ue,le,q,I]);return a.createElement("div",{className:"".concat(U,"-step")},ce.map(function(ut){return a.createElement(Cn,{prefixCls:U,key:ut,value:ut,style:Se,activeStyle:Ie})}))},wi=Nn,Ke=function(_){var U=_.prefixCls,I=_.style,q=_.start,Se=_.end,Ie=_.index,D=_.onStartMove,ne=_.replaceCls,ue=a.useContext(nn),le=ue.direction,ce=ue.min,ut=ue.max,Ge=ue.disabled,yt=ue.range,Xe=ue.classNames,dt="".concat(U,"-track"),Nt=be(q,ce,ut),ft=be(Se,ce,ut),an=function(Gn){!Ge&&D&&D(Gn,-1)},Dn={};switch(le){case"rtl":Dn.right="".concat(Nt*100,"%"),Dn.width="".concat(ft*100-Nt*100,"%");break;case"btt":Dn.bottom="".concat(Nt*100,"%"),Dn.height="".concat(ft*100-Nt*100,"%");break;case"ttb":Dn.top="".concat(Nt*100,"%"),Dn.height="".concat(ft*100-Nt*100,"%");break;default:Dn.left="".concat(Nt*100,"%"),Dn.width="".concat(ft*100-Nt*100,"%")}var ii=ne||z()(dt,(0,$n.Z)((0,$n.Z)({},"".concat(dt,"-").concat(Ie+1),Ie!==null&&yt),"".concat(U,"-track-draggable"),D),Xe.track);return a.createElement("div",{className:ii,style:(0,bi.Z)((0,bi.Z)({},Dn),I),onMouseDown:an,onTouchStart:an})},Ue=Ke,un=function(_){var U=_.prefixCls,I=_.style,q=_.values,Se=_.startPoint,Ie=_.onStartMove,D=a.useContext(nn),ne=D.included,ue=D.range,le=D.min,ce=D.styles,ut=D.classNames,Ge=a.useMemo(function(){if(!ue){if(q.length===0)return[];var Xe=Se!=null?Se:le,dt=q[0];return[{start:Math.min(Xe,dt),end:Math.max(Xe,dt)}]}for(var Nt=[],ft=0;ft<q.length-1;ft+=1)Nt.push({start:q[ft],end:q[ft+1]});return Nt},[q,ue,Se,le]);if(!ne)return null;var yt=Ge!=null&&Ge.length&&(ut.tracks||ce.tracks)?a.createElement(Ue,{index:null,prefixCls:U,start:Ge[0].start,end:Ge[Ge.length-1].end,replaceCls:z()(ut.tracks,"".concat(U,"-tracks")),style:ce.tracks}):null;return a.createElement(a.Fragment,null,yt,Ge.map(function(Xe,dt){var Nt=Xe.start,ft=Xe.end;return a.createElement(Ue,{index:dt,prefixCls:U,style:(0,bi.Z)((0,bi.Z)({},We(I,dt)),ce.track),start:Nt,end:ft,key:dt,onStartMove:Ie})}))},ki=un,Mi=130;function Rn(f){var _="targetTouches"in f?f.targetTouches[0]:f;return{pageX:_.pageX,pageY:_.pageY}}function Li(f,_,U,I,q,Se,Ie,D,ne,ue,le){var ce=a.useState(null),ut=(0,mi.Z)(ce,2),Ge=ut[0],yt=ut[1],Xe=a.useState(-1),dt=(0,mi.Z)(Xe,2),Nt=dt[0],ft=dt[1],an=a.useState(!1),Dn=(0,mi.Z)(an,2),ii=Dn[0],Un=Dn[1],Gn=a.useState(U),zn=(0,mi.Z)(Gn,2),zi=zn[0],Ci=zn[1],Hi=a.useState(U),Qi=(0,mi.Z)(Hi,2),Wr=Qi[0],Gi=Qi[1],Bi=a.useRef(null),Or=a.useRef(null),Rr=a.useRef(null),ts=a.useContext(On),jr=ts.onDragStart,br=ts.onDragChange;(0,pi.Z)(function(){Nt===-1&&Ci(U)},[U,Nt]),a.useEffect(function(){return function(){document.removeEventListener("mousemove",Bi.current),document.removeEventListener("mouseup",Or.current),Rr.current&&(Rr.current.removeEventListener("touchmove",Bi.current),Rr.current.removeEventListener("touchend",Or.current))}},[]);var Dr=function(gs,Ds,Ho){Ds!==void 0&&yt(Ds),Ci(gs);var fa=gs;Ho&&(fa=gs.filter(function(lo,mr){return mr!==Nt})),Ie(fa),br&&br({rawValues:gs,deleteIndex:Ho?Nt:-1,draggingIndex:Nt,draggingValue:Ds})},ao=(0,C.Z)(function(Is,gs,Ds){if(Is===-1){var Ho=Wr[0],fa=Wr[Wr.length-1],lo=I-Ho,mr=q-fa,gr=gs*(q-I);gr=Math.max(gr,lo),gr=Math.min(gr,mr);var rs=Se(Ho+gr);gr=rs-Ho;var co=Wr.map(function(Eo){return Eo+gr});Dr(co)}else{var Xr=(q-I)*gs,ys=(0,Fn.Z)(zi);ys[Is]=Wr[Is];var ks=ne(ys,Xr,Is,"dist");Dr(ks.values,ks.value,Ds)}}),ha=function(gs,Ds,Ho){gs.stopPropagation();var fa=Ho||U,lo=fa[Ds];ft(Ds),yt(lo),Gi(fa),Ci(fa),Un(!1);var mr=Rn(gs),gr=mr.pageX,rs=mr.pageY,co=!1;jr&&jr({rawValues:fa,draggingIndex:Ds,draggingValue:lo});var Xr=function(Eo){Eo.preventDefault();var uo=Rn(Eo),Sa=uo.pageX,rl=uo.pageY,ul=Sa-gr,ka=rl-rs,wr=f.current.getBoundingClientRect(),Za=wr.width,Ha=wr.height,Ia,Zo;switch(_){case"btt":Ia=-ka/Ha,Zo=ul;break;case"ttb":Ia=ka/Ha,Zo=ul;break;case"rtl":Ia=-ul/Za,Zo=ka;break;default:Ia=ul/Za,Zo=ka}co=ue?Math.abs(Zo)>Mi&&le<zi.length:!1,Un(co),ao(Ds,Ia,co)},ys=function ks(Eo){Eo.preventDefault(),document.removeEventListener("mouseup",ks),document.removeEventListener("mousemove",Xr),Rr.current&&(Rr.current.removeEventListener("touchmove",Bi.current),Rr.current.removeEventListener("touchend",Or.current)),Bi.current=null,Or.current=null,Rr.current=null,D(co),ft(-1),Un(!1)};document.addEventListener("mouseup",ys),document.addEventListener("mousemove",Xr),gs.currentTarget.addEventListener("touchend",ys),gs.currentTarget.addEventListener("touchmove",Xr),Bi.current=Xr,Or.current=ys,Rr.current=gs.currentTarget},Ks=a.useMemo(function(){var Is=(0,Fn.Z)(U).sort(function(lo,mr){return lo-mr}),gs=(0,Fn.Z)(zi).sort(function(lo,mr){return lo-mr}),Ds={};gs.forEach(function(lo){Ds[lo]=(Ds[lo]||0)+1}),Is.forEach(function(lo){Ds[lo]=(Ds[lo]||0)-1});var Ho=ue?1:0,fa=Object.values(Ds).reduce(function(lo,mr){return lo+Math.abs(mr)},0);return fa<=Ho?zi:U},[U,zi,ue]);return[Nt,Ge,ii,Ks,ha]}var Ai=Li;function yr(f,_,U,I,q,Se){var Ie=a.useCallback(function(Ge){return Math.max(f,Math.min(_,Ge))},[f,_]),D=a.useCallback(function(Ge){if(U!==null){var yt=f+Math.round((Ie(Ge)-f)/U)*U,Xe=function(an){return(String(an).split(".")[1]||"").length},dt=Math.max(Xe(U),Xe(_),Xe(f)),Nt=Number(yt.toFixed(dt));return f<=Nt&&Nt<=_?Nt:null}return null},[U,f,_,Ie]),ne=a.useCallback(function(Ge){var yt=Ie(Ge),Xe=I.map(function(ft){return ft.value});U!==null&&Xe.push(D(Ge)),Xe.push(f,_);var dt=Xe[0],Nt=_-f;return Xe.forEach(function(ft){var an=Math.abs(yt-ft);an<=Nt&&(dt=ft,Nt=an)}),dt},[f,_,I,U,Ie,D]),ue=function Ge(yt,Xe,dt){var Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof Xe=="number"){var ft,an=yt[dt],Dn=an+Xe,ii=[];I.forEach(function(Ci){ii.push(Ci.value)}),ii.push(f,_),ii.push(D(an));var Un=Xe>0?1:-1;Nt==="unit"?ii.push(D(an+Un*U)):ii.push(D(Dn)),ii=ii.filter(function(Ci){return Ci!==null}).filter(function(Ci){return Xe<0?Ci<=an:Ci>=an}),Nt==="unit"&&(ii=ii.filter(function(Ci){return Ci!==an}));var Gn=Nt==="unit"?an:Dn;ft=ii[0];var zn=Math.abs(ft-Gn);if(ii.forEach(function(Ci){var Hi=Math.abs(Ci-Gn);Hi<zn&&(ft=Ci,zn=Hi)}),ft===void 0)return Xe<0?f:_;if(Nt==="dist")return ft;if(Math.abs(Xe)>1){var zi=(0,Fn.Z)(yt);return zi[dt]=ft,Ge(zi,Xe-Un,dt,Nt)}return ft}else{if(Xe==="min")return f;if(Xe==="max")return _}},le=function(yt,Xe,dt){var Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",ft=yt[dt],an=ue(yt,Xe,dt,Nt);return{value:an,changed:an!==ft}},ce=function(yt){return Se===null&&yt===0||typeof Se=="number"&&yt<Se},ut=function(yt,Xe,dt){var Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",ft=yt.map(ne),an=ft[dt],Dn=ue(ft,Xe,dt,Nt);if(ft[dt]=Dn,q===!1){var ii=Se||0;dt>0&&ft[dt-1]!==an&&(ft[dt]=Math.max(ft[dt],ft[dt-1]+ii)),dt<ft.length-1&&ft[dt+1]!==an&&(ft[dt]=Math.min(ft[dt],ft[dt+1]-ii))}else if(typeof Se=="number"||Se===null){for(var Un=dt+1;Un<ft.length;Un+=1)for(var Gn=!0;ce(ft[Un]-ft[Un-1])&&Gn;){var zn=le(ft,1,Un);ft[Un]=zn.value,Gn=zn.changed}for(var zi=dt;zi>0;zi-=1)for(var Ci=!0;ce(ft[zi]-ft[zi-1])&&Ci;){var Hi=le(ft,-1,zi-1);ft[zi-1]=Hi.value,Ci=Hi.changed}for(var Qi=ft.length-1;Qi>0;Qi-=1)for(var Wr=!0;ce(ft[Qi]-ft[Qi-1])&&Wr;){var Gi=le(ft,-1,Qi-1);ft[Qi-1]=Gi.value,Wr=Gi.changed}for(var Bi=0;Bi<ft.length-1;Bi+=1)for(var Or=!0;ce(ft[Bi+1]-ft[Bi])&&Or;){var Rr=le(ft,1,Bi+1);ft[Bi+1]=Rr.value,Or=Rr.changed}}return{value:ft[dt],values:ft}};return[ne,ut]}function Wn(f){return(0,a.useMemo)(function(){if(f===!0||!f)return[!!f,!1,!1,0];var _=f.editable,U=f.draggableTrack,I=f.minCount,q=f.maxCount;return[!0,_,!_&&U,I||0,q]},[f])}var Os=a.forwardRef(function(f,_){var U=f.prefixCls,I=U===void 0?"rc-slider":U,q=f.className,Se=f.style,Ie=f.classNames,D=f.styles,ne=f.id,ue=f.disabled,le=ue===void 0?!1:ue,ce=f.keyboard,ut=ce===void 0?!0:ce,Ge=f.autoFocus,yt=f.onFocus,Xe=f.onBlur,dt=f.min,Nt=dt===void 0?0:dt,ft=f.max,an=ft===void 0?100:ft,Dn=f.step,ii=Dn===void 0?1:Dn,Un=f.value,Gn=f.defaultValue,zn=f.range,zi=f.count,Ci=f.onChange,Hi=f.onBeforeChange,Qi=f.onAfterChange,Wr=f.onChangeComplete,Gi=f.allowCross,Bi=Gi===void 0?!0:Gi,Or=f.pushable,Rr=Or===void 0?!1:Or,ts=f.reverse,jr=f.vertical,br=f.included,Dr=br===void 0?!0:br,ao=f.startPoint,ha=f.trackStyle,Ks=f.handleStyle,Is=f.railStyle,gs=f.dotStyle,Ds=f.activeDotStyle,Ho=f.marks,fa=f.dots,lo=f.handleRender,mr=f.activeHandleRender,gr=f.track,rs=f.tabIndex,co=rs===void 0?0:rs,Xr=f.ariaLabelForHandle,ys=f.ariaLabelledByForHandle,ks=f.ariaRequired,Eo=f.ariaValueTextFormatterForHandle,uo=a.useRef(null),Sa=a.useRef(null),rl=a.useMemo(function(){return jr?ts?"ttb":"btt":ts?"rtl":"ltr"},[ts,jr]),ul=Wn(zn),ka=(0,mi.Z)(ul,5),wr=ka[0],Za=ka[1],Ha=ka[2],Ia=ka[3],Zo=ka[4],Xo=a.useMemo(function(){return isFinite(Nt)?Nt:0},[Nt]),ho=a.useMemo(function(){return isFinite(an)?an:100},[an]),na=a.useMemo(function(){return ii!==null&&ii<=0?1:ii},[ii]),oa=a.useMemo(function(){return typeof Rr=="boolean"?Rr?na:!1:Rr>=0?Rr:!1},[Rr,na]),wo=a.useMemo(function(){return Object.keys(Ho||{}).map(function(B){var te=Ho[B],ge={value:Number(B)};return te&&(0,Sr.Z)(te)==="object"&&!a.isValidElement(te)&&("label"in te||"style"in te)?(ge.style=te.style,ge.label=te.label):ge.label=te,ge}).filter(function(B){var te=B.label;return te||typeof te=="number"}).sort(function(B,te){return B.value-te.value})},[Ho]),Ja=yr(Xo,ho,na,wo,Bi,oa),bl=(0,mi.Z)(Ja,2),ca=bl[0],Va=bl[1],xa=(0,ie.Z)(Gn,{value:Un}),ml=(0,mi.Z)(xa,2),Yl=ml[0],Xc=ml[1],dl=a.useMemo(function(){var B=Yl==null?[]:Array.isArray(Yl)?Yl:[Yl],te=(0,mi.Z)(B,1),ge=te[0],Ne=ge===void 0?Xo:ge,at=Yl===null?[]:[Ne];if(wr){if(at=(0,Fn.Z)(B),zi||Yl===void 0){var Jt=zi>=0?zi+1:2;for(at=at.slice(0,Jt);at.length<Jt;){var mn;at.push((mn=at[at.length-1])!==null&&mn!==void 0?mn:Xo)}}at.sort(function(En,Vi){return En-Vi})}return at.forEach(function(En,Vi){at[Vi]=ca(En)}),at},[Yl,wr,Xo,zi,ca]),kl=function(te){return wr?te:te[0]},bc=(0,C.Z)(function(B){var te=(0,Fn.Z)(B).sort(function(ge,Ne){return ge-Ne});Ci&&!(0,X.Z)(te,dl,!0)&&Ci(kl(te)),Xc(te)}),mc=(0,C.Z)(function(B){B&&uo.current.hideHelp();var te=kl(dl);Qi==null||Qi(te),(0,Ns.ZP)(!Qi,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Wr==null||Wr(te)}),sc=function(te){if(!(le||!Za||dl.length<=Ia)){var ge=(0,Fn.Z)(dl);ge.splice(te,1),Hi==null||Hi(kl(ge)),bc(ge);var Ne=Math.max(0,te-1);uo.current.hideHelp(),uo.current.focus(Ne)}},ic=Ai(Sa,rl,dl,Xo,ho,ca,bc,mc,Va,Za,Ia),gc=(0,mi.Z)(ic,5),sl=gc[0],Yc=gc[1],Sc=gc[2],Ls=gc[3],po=gc[4],Hs=function(te,ge){if(!le){var Ne=(0,Fn.Z)(dl),at=0,Jt=0,mn=ho-Xo;dl.forEach(function(ns,no){var Yo=Math.abs(te-ns);Yo<=mn&&(mn=Yo,at=no),ns<te&&(Jt=no)});var En=at;Za&&mn!==0&&(!Zo||dl.length<Zo)?(Ne.splice(Jt+1,0,te),En=Jt+1):Ne[at]=te,wr&&!dl.length&&zi===void 0&&Ne.push(te);var Vi=kl(Ne);if(Hi==null||Hi(Vi),bc(Ne),ge){var Mr,dr;(Mr=document.activeElement)===null||Mr===void 0||(dr=Mr.blur)===null||dr===void 0||dr.call(Mr),uo.current.focus(En),po(ge,En,Ne)}else Qi==null||Qi(Vi),(0,Ns.ZP)(!Qi,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Wr==null||Wr(Vi)}},qs=function(te){te.preventDefault();var ge=Sa.current.getBoundingClientRect(),Ne=ge.width,at=ge.height,Jt=ge.left,mn=ge.top,En=ge.bottom,Vi=ge.right,Mr=te.clientX,dr=te.clientY,ns;switch(rl){case"btt":ns=(En-dr)/at;break;case"ttb":ns=(dr-mn)/at;break;case"rtl":ns=(Vi-Mr)/Ne;break;default:ns=(Mr-Jt)/Ne}var no=Xo+ns*(ho-Xo);Hs(ca(no),te)},ia=a.useState(null),Da=(0,mi.Z)(ia,2),Ll=Da[0],Cc=Da[1],v=function(te,ge){if(!le){var Ne=Va(dl,te,ge);Hi==null||Hi(kl(dl)),bc(Ne.values),Cc(Ne.value)}};a.useEffect(function(){if(Ll!==null){var B=dl.indexOf(Ll);B>=0&&uo.current.focus(B)}Cc(null)},[Ll]);var t=a.useMemo(function(){return Ha&&na===null?!1:Ha},[Ha,na]),i=(0,C.Z)(function(B,te){po(B,te),Hi==null||Hi(kl(dl))}),s=sl!==-1;a.useEffect(function(){if(!s){var B=dl.lastIndexOf(Yc);uo.current.focus(B)}},[s]);var l=a.useMemo(function(){return(0,Fn.Z)(Ls).sort(function(B,te){return B-te})},[Ls]),u=a.useMemo(function(){return wr?[l[0],l[l.length-1]]:[Xo,l[0]]},[l,wr,Xo]),g=(0,mi.Z)(u,2),b=g[0],A=g[1];a.useImperativeHandle(_,function(){return{focus:function(){uo.current.focus(0)},blur:function(){var te,ge=document,Ne=ge.activeElement;(te=Sa.current)!==null&&te!==void 0&&te.contains(Ne)&&(Ne==null||Ne.blur())}}}),a.useEffect(function(){Ge&&uo.current.focus(0)},[]);var L=a.useMemo(function(){return{min:Xo,max:ho,direction:rl,disabled:le,keyboard:ut,step:na,included:Dr,includedStart:b,includedEnd:A,range:wr,tabIndex:co,ariaLabelForHandle:Xr,ariaLabelledByForHandle:ys,ariaRequired:ks,ariaValueTextFormatterForHandle:Eo,styles:D||{},classNames:Ie||{}}},[Xo,ho,rl,le,ut,na,Dr,b,A,wr,co,Xr,ys,ks,Eo,D,Ie]);return a.createElement(nn.Provider,{value:L},a.createElement("div",{ref:Sa,className:z()(I,q,(0,$n.Z)((0,$n.Z)((0,$n.Z)((0,$n.Z)({},"".concat(I,"-disabled"),le),"".concat(I,"-vertical"),jr),"".concat(I,"-horizontal"),!jr),"".concat(I,"-with-marks"),wo.length)),style:Se,onMouseDown:qs,id:ne},a.createElement("div",{className:z()("".concat(I,"-rail"),Ie==null?void 0:Ie.rail),style:(0,bi.Z)((0,bi.Z)({},Is),D==null?void 0:D.rail)}),gr!==!1&&a.createElement(ki,{prefixCls:I,style:ha,values:dl,startPoint:ao,onStartMove:t?i:void 0}),a.createElement(wi,{prefixCls:I,marks:wo,dots:fa,style:gs,activeStyle:Ds}),a.createElement(Re,{ref:uo,prefixCls:I,style:Ks,values:Ls,draggingIndex:sl,draggingDelete:Sc,onStartMove:i,onOffsetChange:v,onFocus:yt,onBlur:Xe,handleRender:lo,activeHandleRender:mr,onChangeComplete:mc,onDelete:Za?sc:void 0}),a.createElement(jt,{prefixCls:I,marks:wo,onClick:Hs})))}),yo=Os,to=yo,ta=M(99824),Kn=(0,a.createContext)({}),Rs=a.forwardRef((f,_)=>{const{open:U,draggingDelete:I}=f,q=(0,a.useRef)(null),Se=U&&!I,Ie=(0,a.useRef)(null);function D(){ta.Z.cancel(Ie.current),Ie.current=null}function ne(){Ie.current=(0,ta.Z)(()=>{var ue;(ue=q.current)===null||ue===void 0||ue.forceAlign(),Ie.current=null})}return a.useEffect(()=>(Se?ne():D(),D),[Se,f.title]),a.createElement(di,Object.assign({ref:(0,Z.sQ)(q,_)},f,{open:Se}))});const xr=f=>{const{componentCls:_,antCls:U,controlSize:I,dotSize:q,marginFull:Se,marginPart:Ie,colorFillContentHover:D,handleColorDisabled:ne,calc:ue,handleSize:le,handleSizeHover:ce,handleActiveColor:ut,handleActiveOutlineColor:Ge,handleLineWidth:yt,handleLineWidthHover:Xe,motionDurationMid:dt}=f;return{[_]:Object.assign(Object.assign({},(0,je.Wf)(f)),{position:"relative",height:I,margin:`${(0,ee.bf)(Ie)} ${(0,ee.bf)(Se)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,ee.bf)(Se)} ${(0,ee.bf)(Ie)}`},[`${_}-rail`]:{position:"absolute",backgroundColor:f.railBg,borderRadius:f.borderRadiusXS,transition:`background-color ${dt}`},[`${_}-track,${_}-tracks`]:{position:"absolute",transition:`background-color ${dt}`},[`${_}-track`]:{backgroundColor:f.trackBg,borderRadius:f.borderRadiusXS},[`${_}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${_}-rail`]:{backgroundColor:f.railHoverBg},[`${_}-track`]:{backgroundColor:f.trackHoverBg},[`${_}-dot`]:{borderColor:D},[`${_}-handle::after`]:{boxShadow:`0 0 0 ${(0,ee.bf)(yt)} ${f.colorPrimaryBorderHover}`},[`${_}-dot-active`]:{borderColor:f.dotActiveBorderColor}},[`${_}-handle`]:{position:"absolute",width:le,height:le,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:ue(yt).mul(-1).equal(),insetBlockStart:ue(yt).mul(-1).equal(),width:ue(le).add(ue(yt).mul(2)).equal(),height:ue(le).add(ue(yt).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:le,height:le,backgroundColor:f.colorBgElevated,boxShadow:`0 0 0 ${(0,ee.bf)(yt)} ${f.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${dt},
            inset-block-start ${dt},
            width ${dt},
            height ${dt},
            box-shadow ${dt},
            outline ${dt}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:ue(ce).sub(le).div(2).add(Xe).mul(-1).equal(),insetBlockStart:ue(ce).sub(le).div(2).add(Xe).mul(-1).equal(),width:ue(ce).add(ue(Xe).mul(2)).equal(),height:ue(ce).add(ue(Xe).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,ee.bf)(Xe)} ${ut}`,outline:`6px solid ${Ge}`,width:ce,height:ce,insetInlineStart:f.calc(le).sub(ce).div(2).equal(),insetBlockStart:f.calc(le).sub(ce).div(2).equal()}}},[`&-lock ${_}-handle`]:{"&::before, &::after":{transition:"none"}},[`${_}-mark`]:{position:"absolute",fontSize:f.fontSize},[`${_}-mark-text`]:{position:"absolute",display:"inline-block",color:f.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:f.colorText}},[`${_}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${_}-dot`]:{position:"absolute",width:q,height:q,backgroundColor:f.colorBgElevated,border:`${(0,ee.bf)(yt)} solid ${f.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${f.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:f.dotActiveBorderColor}},[`&${_}-disabled`]:{cursor:"not-allowed",[`${_}-rail`]:{backgroundColor:`${f.railBg} !important`},[`${_}-track`]:{backgroundColor:`${f.trackBgDisabled} !important`},[`
          ${_}-dot
        `]:{backgroundColor:f.colorBgElevated,borderColor:f.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${_}-handle::after`]:{backgroundColor:f.colorBgElevated,cursor:"not-allowed",width:le,height:le,boxShadow:`0 0 0 ${(0,ee.bf)(yt)} ${ne}`,insetInlineStart:0,insetBlockStart:0},[`
          ${_}-mark-text,
          ${_}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${U}-tooltip-inner`]:{minWidth:"unset"}})}},xo=(f,_)=>{const{componentCls:U,railSize:I,handleSize:q,dotSize:Se,marginFull:Ie,calc:D}=f,ne=_?"paddingBlock":"paddingInline",ue=_?"width":"height",le=_?"height":"width",ce=_?"insetBlockStart":"insetInlineStart",ut=_?"top":"insetInlineStart",Ge=D(I).mul(3).sub(q).div(2).equal(),yt=D(q).sub(I).div(2).equal(),Xe=_?{borderWidth:`${(0,ee.bf)(yt)} 0`,transform:`translateY(${(0,ee.bf)(D(yt).mul(-1).equal())})`}:{borderWidth:`0 ${(0,ee.bf)(yt)}`,transform:`translateX(${(0,ee.bf)(f.calc(yt).mul(-1).equal())})`};return{[ne]:I,[le]:D(I).mul(3).equal(),[`${U}-rail`]:{[ue]:"100%",[le]:I},[`${U}-track,${U}-tracks`]:{[le]:I},[`${U}-track-draggable`]:Object.assign({},Xe),[`${U}-handle`]:{[ce]:Ge},[`${U}-mark`]:{insetInlineStart:0,top:0,[ut]:D(I).mul(3).add(_?0:Ie).equal(),[ue]:"100%"},[`${U}-step`]:{insetInlineStart:0,top:0,[ut]:I,[ue]:"100%",[le]:I},[`${U}-dot`]:{position:"absolute",[ce]:D(I).sub(Se).div(2).equal()}}},Ra=f=>{const{componentCls:_,marginPartWithMark:U}=f;return{[`${_}-horizontal`]:Object.assign(Object.assign({},xo(f,!0)),{[`&${_}-with-marks`]:{marginBottom:U}})}},Do=f=>{const{componentCls:_}=f;return{[`${_}-vertical`]:Object.assign(Object.assign({},xo(f,!1)),{height:"100%"})}},pl=f=>{const U=f.controlHeightLG/4,I=f.controlHeightSM/2,q=f.lineWidth+1,Se=f.lineWidth+1*1.5,Ie=f.colorPrimary,D=new yn.t(Ie).setA(.2).toRgbString();return{controlSize:U,railSize:4,handleSize:U,handleSizeHover:I,dotSize:8,handleLineWidth:q,handleLineWidthHover:Se,railBg:f.colorFillTertiary,railHoverBg:f.colorFillSecondary,trackBg:f.colorPrimaryBorder,trackHoverBg:f.colorPrimaryBorderHover,handleColor:f.colorPrimaryBorder,handleActiveColor:Ie,handleActiveOutlineColor:D,handleColorDisabled:new yn.t(f.colorTextDisabled).onBackground(f.colorBgContainer).toHexString(),dotBorderColor:f.colorBorderSecondary,dotActiveBorderColor:f.colorPrimaryBorder,trackBgDisabled:f.colorBgContainerDisabled}};var il=(0,Yt.I$)("Slider",f=>{const _=(0,zt.IX)(f,{marginPart:f.calc(f.controlHeight).sub(f.controlSize).div(2).equal(),marginFull:f.calc(f.controlSize).div(2).equal(),marginPartWithMark:f.calc(f.controlHeightLG).sub(f.controlSize).equal()});return[xr(_),Ra(_),Do(_)]},pl);function Lo(){const[f,_]=a.useState(!1),U=a.useRef(null),I=()=>{ta.Z.cancel(U.current)},q=Se=>{I(),Se?_(Se):U.current=(0,ta.Z)(()=>{_(Se)})};return a.useEffect(()=>I,[]),[f,q]}var Lt=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};function $l(f,_){return f||f===null?f:_||_===null?_:U=>typeof U=="number"?U.toString():""}var sa=a.forwardRef((f,_)=>{const{prefixCls:U,range:I,className:q,rootClassName:Se,style:Ie,disabled:D,tooltipPrefixCls:ne,tipFormatter:ue,tooltipVisible:le,getTooltipPopupContainer:ce,tooltipPlacement:ut,tooltip:Ge={},onChangeComplete:yt,classNames:Xe,styles:dt}=f,Nt=Lt(f,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:ft}=f,{getPrefixCls:an,direction:Dn,className:ii,style:Un,classNames:Gn,styles:zn,getPopupContainer:zi}=(0,oe.dj)("slider"),Ci=a.useContext(fe.Z),Hi=D!=null?D:Ci,{handleRender:Qi,direction:Wr}=a.useContext(Kn),Bi=(Wr||Dn)==="rtl",[Or,Rr]=Lo(),[ts,jr]=Lo(),br=Object.assign({},Ge),{open:Dr,placement:ao,getPopupContainer:ha,prefixCls:Ks,formatter:Is}=br,gs=Dr!=null?Dr:le,Ds=(Or||ts)&&gs!==!1,Ho=$l(Is,ue),[fa,lo]=Lo(),mr=wr=>{yt==null||yt(wr),lo(!1)},gr=(wr,Za)=>wr||(Za?Bi?"left":"right":"top"),rs=an("slider",U),[co,Xr,ys]=il(rs),ks=z()(q,ii,Gn.root,Xe==null?void 0:Xe.root,Se,{[`${rs}-rtl`]:Bi,[`${rs}-lock`]:fa},Xr,ys);Bi&&!Nt.vertical&&(Nt.reverse=!Nt.reverse),a.useEffect(()=>{const wr=()=>{(0,ta.Z)(()=>{jr(!1)},1)};return document.addEventListener("mouseup",wr),()=>{document.removeEventListener("mouseup",wr)}},[]);const Eo=I&&!gs,uo=Qi||((wr,Za)=>{const{index:Ha}=Za,Ia=wr.props;function Zo(oa,wo,Ja){var bl,ca,Va,xa;Ja&&((ca=(bl=Nt)[oa])===null||ca===void 0||ca.call(bl,wo)),(xa=(Va=Ia)[oa])===null||xa===void 0||xa.call(Va,wo)}const Xo=Object.assign(Object.assign({},Ia),{onMouseEnter:oa=>{Rr(!0),Zo("onMouseEnter",oa)},onMouseLeave:oa=>{Rr(!1),Zo("onMouseLeave",oa)},onMouseDown:oa=>{jr(!0),lo(!0),Zo("onMouseDown",oa)},onFocus:oa=>{var wo;jr(!0),(wo=Nt.onFocus)===null||wo===void 0||wo.call(Nt,oa),Zo("onFocus",oa,!0)},onBlur:oa=>{var wo;jr(!1),(wo=Nt.onBlur)===null||wo===void 0||wo.call(Nt,oa),Zo("onBlur",oa,!0)}}),ho=a.cloneElement(wr,Xo),na=(!!gs||Ds)&&Ho!==null;return Eo?ho:a.createElement(Rs,Object.assign({},br,{prefixCls:an("tooltip",Ks!=null?Ks:ne),title:Ho?Ho(Za.value):"",open:na,placement:gr(ao!=null?ao:ut,ft),key:Ha,classNames:{root:`${rs}-tooltip`},getPopupContainer:ha||ce||zi}),ho)}),Sa=Eo?(wr,Za)=>{const Ha=a.cloneElement(wr,{style:Object.assign(Object.assign({},wr.props.style),{visibility:"hidden"})});return a.createElement(Rs,Object.assign({},br,{prefixCls:an("tooltip",Ks!=null?Ks:ne),title:Ho?Ho(Za.value):"",open:Ho!==null&&Ds,placement:gr(ao!=null?ao:ut,ft),key:"tooltip",classNames:{root:`${rs}-tooltip`},getPopupContainer:ha||ce||zi,draggingDelete:Za.draggingDelete}),Ha)}:void 0,rl=Object.assign(Object.assign(Object.assign(Object.assign({},zn.root),Un),dt==null?void 0:dt.root),Ie),ul=Object.assign(Object.assign({},zn.tracks),dt==null?void 0:dt.tracks),ka=z()(Gn.tracks,Xe==null?void 0:Xe.tracks);return co(a.createElement(to,Object.assign({},Nt,{classNames:Object.assign({handle:z()(Gn.handle,Xe==null?void 0:Xe.handle),rail:z()(Gn.rail,Xe==null?void 0:Xe.rail),track:z()(Gn.track,Xe==null?void 0:Xe.track)},ka?{tracks:ka}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},zn.handle),dt==null?void 0:dt.handle),rail:Object.assign(Object.assign({},zn.rail),dt==null?void 0:dt.rail),track:Object.assign(Object.assign({},zn.track),dt==null?void 0:dt.track)},Object.keys(ul).length?{tracks:ul}:{}),step:Nt.step,range:I,className:ks,style:rl,disabled:Hi,ref:_,prefixCls:rs,handleRender:uo,activeHandleRender:Sa,onChangeComplete:mr})))}),Cs=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const Wa=f=>{const{prefixCls:_,colors:U,type:I,color:q,range:Se=!1,className:Ie,activeIndex:D,onActive:ne,onDragStart:ue,onDragChange:le,onKeyDelete:ce}=f,ut=Cs(f,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),Ge=Object.assign(Object.assign({},ut),{track:!1}),yt=a.useMemo(()=>`linear-gradient(90deg, ${U.map(Un=>`${Un.color} ${Un.percent}%`).join(", ")})`,[U]),Xe=a.useMemo(()=>!q||!I?null:I==="alpha"?q.toRgbString():`hsl(${q.toHsb().h}, 100%, 50%)`,[q,I]),dt=(0,C.Z)(ue),Nt=(0,C.Z)(le),ft=a.useMemo(()=>({onDragStart:dt,onDragChange:Nt}),[]),an=(0,C.Z)((ii,Un)=>{const{onFocus:Gn,style:zn,className:zi,onKeyDown:Ci}=ii.props,Hi=Object.assign({},zn);return I==="gradient"&&(Hi.background=(0,zr.AO)(U,Un.value)),a.cloneElement(ii,{onFocus:Qi=>{ne==null||ne(Un.index),Gn==null||Gn(Qi)},style:Hi,className:z()(zi,{[`${_}-slider-handle-active`]:D===Un.index}),onKeyDown:Qi=>{(Qi.key==="Delete"||Qi.key==="Backspace")&&ce&&ce(Un.index),Ci==null||Ci(Qi)}})}),Dn=a.useMemo(()=>({direction:"ltr",handleRender:an}),[]);return a.createElement(Kn.Provider,{value:Dn},a.createElement(On.Provider,{value:ft},a.createElement(sa,Object.assign({},Ge,{className:z()(Ie,`${_}-slider`),tooltip:{open:!1},range:{editable:Se,minCount:2},styles:{rail:{background:yt},handle:Xe?{background:Xe}:{}},classNames:{rail:`${_}-slider-rail`,handle:`${_}-slider-handle`}}))))};var ze=f=>{const{value:_,onChange:U,onChangeComplete:I}=f,q=Ie=>U(Ie[0]),Se=Ie=>I(Ie[0]);return a.createElement(Wa,Object.assign({},f,{value:[_],onChange:q,onChangeComplete:Se}))};function pe(f){return(0,Fn.Z)(f).sort((_,U)=>_.percent-U.percent)}const hn=f=>{const{prefixCls:_,mode:U,onChange:I,onChangeComplete:q,onActive:Se,activeIndex:Ie,onGradientDragging:D,colors:ne}=f,ue=U==="gradient",le=a.useMemo(()=>ne.map(Nt=>({percent:Nt.percent,color:Nt.color.toRgbString()})),[ne]),ce=a.useMemo(()=>le.map(Nt=>Nt.percent),[le]),ut=a.useRef(le),Ge=Nt=>{let{rawValues:ft,draggingIndex:an,draggingValue:Dn}=Nt;if(ft.length>le.length){const ii=(0,zr.AO)(le,Dn),Un=(0,Fn.Z)(le);Un.splice(an,0,{percent:Dn,color:ii}),ut.current=Un}else ut.current=le;D(!0),I(new Ot.y9(pe(ut.current)),!0)},yt=Nt=>{let{deleteIndex:ft,draggingIndex:an,draggingValue:Dn}=Nt,ii=(0,Fn.Z)(ut.current);ft!==-1?ii.splice(ft,1):(ii[an]=Object.assign(Object.assign({},ii[an]),{percent:Dn}),ii=pe(ii)),I(new Ot.y9(ii),!0)},Xe=Nt=>{const ft=(0,Fn.Z)(le);ft.splice(Nt,1);const an=new Ot.y9(ft);I(an),q(an)},dt=Nt=>{q(new Ot.y9(le)),Ie>=Nt.length&&Se(Nt.length-1),D(!1)};return ue?a.createElement(Wa,{min:0,max:100,prefixCls:_,className:`${_}-gradient-slider`,colors:le,color:null,value:ce,range:!0,onChangeComplete:dt,disabled:!1,type:"gradient",activeIndex:Ie,onActive:Se,onDragStart:Ge,onDragChange:yt,onKeyDelete:Xe}):null};var In=a.memo(hn),Ni=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const xi={slider:ze};var Qr=()=>{const f=(0,a.useContext)(Zr),{mode:_,onModeChange:U,modeOptions:I,prefixCls:q,allowClear:Se,value:Ie,disabledAlpha:D,onChange:ne,onClear:ue,onChangeComplete:le,activeIndex:ce,gradientDragging:ut}=f,Ge=Ni(f,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),yt=a.useMemo(()=>Ie.cleared?[{percent:0,color:new Ot.y9("")},{percent:100,color:new Ot.y9("")}]:Ie.getColors(),[Ie]),Xe=!Ie.isGradient(),[dt,Nt]=a.useState(Ie);(0,pi.Z)(()=>{var Gi;Xe||Nt((Gi=yt[ce])===null||Gi===void 0?void 0:Gi.color)},[ut,ce]);const ft=a.useMemo(()=>{var Gi;return Xe?Ie:ut?dt:(Gi=yt[ce])===null||Gi===void 0?void 0:Gi.color},[Ie,ce,Xe,dt,ut]),[an,Dn]=a.useState(ft),[ii,Un]=a.useState(0),Gn=an!=null&&an.equals(ft)?ft:an;(0,pi.Z)(()=>{Dn(ft)},[ii,ft==null?void 0:ft.toHexString()]);const zn=(Gi,Bi)=>{let Or=(0,zr.vC)(Gi);if(Ie.cleared){const ts=Or.toRgb();if(!ts.r&&!ts.g&&!ts.b&&Bi){const{type:jr,value:br=0}=Bi;Or=new Ot.y9({h:jr==="hue"?br:0,s:1,b:1,a:jr==="alpha"?br/100:1})}else Or=(0,zr.T7)(Or)}if(_==="single")return Or;const Rr=(0,Fn.Z)(yt);return Rr[ce]=Object.assign(Object.assign({},Rr[ce]),{color:Or}),new Ot.y9(Rr)},zi=(Gi,Bi,Or)=>{const Rr=zn(Gi,Or);Dn(Rr.isGradient()?Rr.getColors()[ce].color:Rr),ne(Rr,Bi)},Ci=(Gi,Bi)=>{le(zn(Gi,Bi)),Un(Or=>Or+1)},Hi=Gi=>{ne(zn(Gi))};let Qi=null;const Wr=I.length>1;return(Se||Wr)&&(Qi=a.createElement("div",{className:`${q}-operation`},Wr&&a.createElement(Xi,{size:"small",options:I,value:_,onChange:U}),a.createElement(Ts,Object.assign({prefixCls:q,value:Ie,onChange:Gi=>{ne(Gi),ue==null||ue()}},Ge)))),a.createElement(a.Fragment,null,Qi,a.createElement(In,Object.assign({},f,{colors:yt})),a.createElement(cn.ZP,{prefixCls:q,value:Gn==null?void 0:Gn.toHsb(),disabledAlpha:D,onChange:(Gi,Bi)=>{zi(Gi,!0,Bi)},onChangeComplete:(Gi,Bi)=>{Ci(Gi,Bi)},components:xi}),a.createElement(R,Object.assign({value:ft,onChange:Hi,prefixCls:q,disabledAlpha:D},Ge)))},ms=M(28103),ur=()=>{const{prefixCls:f,value:_,presets:U,onChange:I}=(0,a.useContext)(cs);return Array.isArray(U)?a.createElement(ms.Z,{value:_,presets:U,prefixCls:f,onChange:I}):null},Gs=f=>{const{prefixCls:_,presets:U,panelRender:I,value:q,onChange:Se,onClear:Ie,allowClear:D,disabledAlpha:ne,mode:ue,onModeChange:le,modeOptions:ce,onChangeComplete:ut,activeIndex:Ge,onActive:yt,format:Xe,onFormatChange:dt,gradientDragging:Nt,onGradientDragging:ft,disabledFormat:an}=f,Dn=`${_}-inner`,ii=a.useMemo(()=>({prefixCls:_,value:q,onChange:Se,onClear:Ie,allowClear:D,disabledAlpha:ne,mode:ue,onModeChange:le,modeOptions:ce,onChangeComplete:ut,activeIndex:Ge,onActive:yt,format:Xe,onFormatChange:dt,gradientDragging:Nt,onGradientDragging:ft,disabledFormat:an}),[_,q,Se,Ie,D,ne,ue,le,ce,ut,Ge,yt,Xe,dt,Nt,ft,an]),Un=a.useMemo(()=>({prefixCls:_,value:q,presets:U,onChange:Se}),[_,q,U,Se]),Gn=a.createElement("div",{className:`${Dn}-content`},a.createElement(Qr,null),Array.isArray(U)&&a.createElement(kt.Z,null),a.createElement(ur,null));return a.createElement(Zr.Provider,{value:ii},a.createElement(cs.Provider,{value:Un},a.createElement("div",{className:Dn},typeof I=="function"?I(Gn,{components:{Picker:Qr,Presets:ur}}):Gn)))},_o=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U},ko=(0,a.forwardRef)((f,_)=>{const{color:U,prefixCls:I,open:q,disabled:Se,format:Ie,className:D,showText:ne,activeIndex:ue}=f,le=_o(f,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),ce=`${I}-trigger`,ut=`${ce}-text`,Ge=`${ut}-cell`,[yt]=(0,yi.Z)("ColorPicker"),Xe=a.useMemo(()=>{if(!ne)return"";if(typeof ne=="function")return ne(U);if(U.cleared)return yt.transparent;if(U.isGradient())return U.getColors().map((an,Dn)=>{const ii=ue!==-1&&ue!==Dn;return a.createElement("span",{key:Dn,className:z()(Ge,ii&&`${Ge}-inactive`)},an.color.toRgbString()," ",an.percent,"%")});const Nt=U.toHexString().toUpperCase(),ft=(0,zr.uZ)(U);switch(Ie){case"rgb":return U.toRgbString();case"hsb":return U.toHsbString();default:return ft<100?`${Nt.slice(0,7)},${ft}%`:Nt}},[U,Ie,ne,ue]),dt=(0,a.useMemo)(()=>U.cleared?a.createElement(Ts,{prefixCls:I}):a.createElement(cn.G5,{prefixCls:I,color:U.toCssString()}),[U,I]);return a.createElement("div",Object.assign({ref:_,className:z()(ce,D,{[`${ce}-active`]:q,[`${ce}-disabled`]:Se})},(0,$r.Z)(le)),dt,ne&&a.createElement("div",{className:ut},Xe))});function Wo(f,_,U){const[I]=(0,yi.Z)("ColorPicker"),[q,Se]=(0,ie.Z)(f,{value:_}),[Ie,D]=a.useState("single"),[ne,ue]=a.useMemo(()=>{const Xe=(Array.isArray(U)?U:[U]).filter(an=>an);Xe.length||Xe.push("single");const dt=new Set(Xe),Nt=[],ft=(an,Dn)=>{dt.has(an)&&Nt.push({label:Dn,value:an})};return ft("single",I.singleColor),ft("gradient",I.gradientColor),[Nt,dt]},[U]),[le,ce]=a.useState(null),ut=(0,C.Z)(Xe=>{ce(Xe),Se(Xe)}),Ge=a.useMemo(()=>{const Xe=(0,zr.vC)(q||"");return Xe.equals(le)?le:Xe},[q,le]),yt=a.useMemo(()=>{var Xe;return ue.has(Ie)?Ie:(Xe=ne[0])===null||Xe===void 0?void 0:Xe.value},[ue,Ie,ne]);return a.useEffect(()=>{D(Ge.isGradient()?"gradient":"single")},[Ge]),[Ge,ut,yt,D,ne]}const Ta=(f,_)=>({backgroundImage:`conic-gradient(${_} 25%, transparent 25% 50%, ${_} 50% 75%, transparent 75% 100%)`,backgroundSize:`${f} ${f}`});var Vr=(f,_)=>{const{componentCls:U,borderRadiusSM:I,colorPickerInsetShadow:q,lineWidth:Se,colorFillSecondary:Ie}=f;return{[`${U}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:I,width:_,height:_,boxShadow:q,flex:"none"},Ta("50%",f.colorFillSecondary)),{[`${U}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,ee.bf)(Se)} ${Ie}`,borderRadius:"inherit"}})}},Fi=f=>{const{componentCls:_,antCls:U,fontSizeSM:I,lineHeightSM:q,colorPickerAlphaInputWidth:Se,marginXXS:Ie,paddingXXS:D,controlHeightSM:ne,marginXS:ue,fontSizeIcon:le,paddingXS:ce,colorTextPlaceholder:ut,colorPickerInputNumberHandleWidth:Ge,lineWidth:yt}=f;return{[`${_}-input-container`]:{display:"flex",[`${_}-steppers${U}-input-number`]:{fontSize:I,lineHeight:q,[`${U}-input-number-input`]:{paddingInlineStart:D,paddingInlineEnd:0},[`${U}-input-number-handler-wrap`]:{width:Ge}},[`${_}-steppers${_}-alpha-input`]:{flex:`0 0 ${(0,ee.bf)(Se)}`,marginInlineStart:Ie},[`${_}-format-select${U}-select`]:{marginInlineEnd:ue,width:"auto","&-single":{[`${U}-select-selector`]:{padding:0,border:0},[`${U}-select-arrow`]:{insetInlineEnd:0},[`${U}-select-selection-item`]:{paddingInlineEnd:f.calc(le).add(Ie).equal(),fontSize:I,lineHeight:(0,ee.bf)(ne)},[`${U}-select-item-option-content`]:{fontSize:I,lineHeight:q},[`${U}-select-dropdown`]:{[`${U}-select-item`]:{minHeight:"auto"}}}},[`${_}-input`]:{gap:Ie,alignItems:"center",flex:1,width:0,[`${_}-hsb-input,${_}-rgb-input`]:{display:"flex",gap:Ie,alignItems:"center"},[`${_}-steppers`]:{flex:1},[`${_}-hex-input${U}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,ee.bf)(ce)}`,[`${U}-input`]:{fontSize:I,textTransform:"uppercase",lineHeight:(0,ee.bf)(f.calc(ne).sub(f.calc(yt).mul(2)).equal())},[`${U}-input-prefix`]:{color:ut}}}}}},es=f=>{const{componentCls:_,controlHeightLG:U,borderRadiusSM:I,colorPickerInsetShadow:q,marginSM:Se,colorBgElevated:Ie,colorFillSecondary:D,lineWidthBold:ne,colorPickerHandlerSize:ue}=f;return{userSelect:"none",[`${_}-select`]:{[`${_}-palette`]:{minHeight:f.calc(U).mul(4).equal(),overflow:"hidden",borderRadius:I},[`${_}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:q,inset:0},marginBottom:Se},[`${_}-handler`]:{width:ue,height:ue,border:`${(0,ee.bf)(ne)} solid ${Ie}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${q}, 0 0 0 1px ${D}`}}},fl=f=>{const{componentCls:_,antCls:U,colorTextQuaternary:I,paddingXXS:q,colorPickerPresetColorSize:Se,fontSizeSM:Ie,colorText:D,lineHeightSM:ne,lineWidth:ue,borderRadius:le,colorFill:ce,colorWhite:ut,marginXXS:Ge,paddingXS:yt,fontHeightSM:Xe}=f;return{[`${_}-presets`]:{[`${U}-collapse-item > ${U}-collapse-header`]:{padding:0,[`${U}-collapse-expand-icon`]:{height:Xe,color:I,paddingInlineEnd:q}},[`${U}-collapse`]:{display:"flex",flexDirection:"column",gap:Ge},[`${U}-collapse-item > ${U}-collapse-content > ${U}-collapse-content-box`]:{padding:`${(0,ee.bf)(yt)} 0`},"&-label":{fontSize:Ie,color:D,lineHeight:ne},"&-items":{display:"flex",flexWrap:"wrap",gap:f.calc(Ge).mul(1.5).equal(),[`${_}-presets-color`]:{position:"relative",cursor:"pointer",width:Se,height:Se,"&::before":{content:'""',pointerEvents:"none",width:f.calc(Se).add(f.calc(ue).mul(4)).equal(),height:f.calc(Se).add(f.calc(ue).mul(4)).equal(),position:"absolute",top:f.calc(ue).mul(-2).equal(),insetInlineStart:f.calc(ue).mul(-2).equal(),borderRadius:le,border:`${(0,ee.bf)(ue)} solid transparent`,transition:`border-color ${f.motionDurationMid} ${f.motionEaseInBack}`},"&:hover::before":{borderColor:ce},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:f.calc(Se).div(13).mul(5).equal(),height:f.calc(Se).div(13).mul(8).equal(),border:`${(0,ee.bf)(f.lineWidthBold)} solid ${f.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${f.motionDurationFast} ${f.motionEaseInBack}, opacity ${f.motionDurationFast}`},[`&${_}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:ut,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${f.motionDurationMid} ${f.motionEaseOutBack} ${f.motionDurationFast}`},[`&${_}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:Ie,color:I}}}},ma=f=>{const{componentCls:_,colorPickerInsetShadow:U,colorBgElevated:I,colorFillSecondary:q,lineWidthBold:Se,colorPickerHandlerSizeSM:Ie,colorPickerSliderHeight:D,marginSM:ne,marginXS:ue}=f,le=f.calc(Ie).sub(f.calc(Se).mul(2).equal()).equal(),ce=f.calc(Ie).add(f.calc(Se).mul(2).equal()).equal(),ut={"&:after":{transform:"scale(1)",boxShadow:`${U}, 0 0 0 1px ${f.colorPrimaryActive}`}};return{[`${_}-slider`]:[Ta((0,ee.bf)(D),f.colorFillSecondary),{margin:0,padding:0,height:D,borderRadius:f.calc(D).div(2).equal(),"&-rail":{height:D,borderRadius:f.calc(D).div(2).equal(),boxShadow:U},[`& ${_}-slider-handle`]:{width:le,height:le,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:ce,height:ce,borderRadius:"100%"},"&:after":{width:Ie,height:Ie,border:`${(0,ee.bf)(Se)} solid ${I}`,boxShadow:`${U}, 0 0 0 1px ${q}`,outline:"none",insetInlineStart:f.calc(Se).mul(-1).equal(),top:f.calc(Se).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":ut}}],[`${_}-slider-container`]:{display:"flex",gap:ne,marginBottom:ne,[`${_}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${_}-gradient-slider`]:{marginBottom:ue,[`& ${_}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":ut}}}};const cl=(f,_,U)=>({borderInlineEndWidth:f.lineWidth,borderColor:_,boxShadow:`0 0 0 ${(0,ee.bf)(f.controlOutlineWidth)} ${U}`,outline:0}),Wl=f=>{const{componentCls:_}=f;return{"&-rtl":{[`${_}-presets-color`]:{"&::after":{direction:"ltr"}},[`${_}-clear`]:{"&::after":{direction:"ltr"}}}}},Gc=(f,_,U)=>{const{componentCls:I,borderRadiusSM:q,lineWidth:Se,colorSplit:Ie,colorBorder:D,red6:ne}=f;return{[`${I}-clear`]:Object.assign(Object.assign({width:_,height:_,borderRadius:q,border:`${(0,ee.bf)(Se)} solid ${Ie}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${f.motionDurationFast}`},U),{"&::after":{content:'""',position:"absolute",insetInlineEnd:f.calc(Se).mul(-1).equal(),top:f.calc(Se).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:ne},"&:hover":{borderColor:D}})}},Gl=f=>{const{componentCls:_,colorError:U,colorWarning:I,colorErrorHover:q,colorWarningHover:Se,colorErrorOutline:Ie,colorWarningOutline:D}=f;return{[`&${_}-status-error`]:{borderColor:U,"&:hover":{borderColor:q},[`&${_}-trigger-active`]:Object.assign({},cl(f,U,Ie))},[`&${_}-status-warning`]:{borderColor:I,"&:hover":{borderColor:Se},[`&${_}-trigger-active`]:Object.assign({},cl(f,I,D))}}},nc=f=>{const{componentCls:_,controlHeightLG:U,controlHeightSM:I,controlHeight:q,controlHeightXS:Se,borderRadius:Ie,borderRadiusSM:D,borderRadiusXS:ne,borderRadiusLG:ue,fontSizeLG:le}=f;return{[`&${_}-lg`]:{minWidth:U,minHeight:U,borderRadius:ue,[`${_}-color-block, ${_}-clear`]:{width:q,height:q,borderRadius:Ie},[`${_}-trigger-text`]:{fontSize:le}},[`&${_}-sm`]:{minWidth:I,minHeight:I,borderRadius:D,[`${_}-color-block, ${_}-clear`]:{width:Se,height:Se,borderRadius:ne},[`${_}-trigger-text`]:{lineHeight:(0,ee.bf)(Se)}}}},pc=f=>{const{antCls:_,componentCls:U,colorPickerWidth:I,colorPrimary:q,motionDurationMid:Se,colorBgElevated:Ie,colorTextDisabled:D,colorText:ne,colorBgContainerDisabled:ue,borderRadius:le,marginXS:ce,marginSM:ut,controlHeight:Ge,controlHeightSM:yt,colorBgTextActive:Xe,colorPickerPresetColorSize:dt,colorPickerPreviewSize:Nt,lineWidth:ft,colorBorder:an,paddingXXS:Dn,fontSize:ii,colorPrimaryHover:Un,controlOutline:Gn}=f;return[{[U]:Object.assign({[`${U}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:I,[`& > ${_}-divider`]:{margin:`${(0,ee.bf)(ut)} 0 ${(0,ee.bf)(ce)}`}},[`${U}-panel`]:Object.assign({},es(f))},ma(f)),Vr(f,Nt)),Fi(f)),fl(f)),Gc(f,dt,{marginInlineStart:"auto"})),{[`${U}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:ce}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:Ge,minHeight:Ge,borderRadius:le,border:`${(0,ee.bf)(ft)} solid ${an}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${Se}`,background:Ie,padding:f.calc(Dn).sub(ft).equal(),[`${U}-trigger-text`]:{marginInlineStart:ce,marginInlineEnd:f.calc(ce).sub(f.calc(Dn).sub(ft)).equal(),fontSize:ii,color:ne,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:D}}},"&:hover":{borderColor:Un},[`&${U}-trigger-active`]:Object.assign({},cl(f,q,Gn)),"&-disabled":{color:D,background:ue,cursor:"not-allowed","&:hover":{borderColor:Xe},[`${U}-trigger-text`]:{color:D}}},Gc(f,yt)),Vr(f,yt)),Gl(f)),nc(f))},Wl(f))},(0,Ce.c)(f,{focusElCls:`${U}-trigger-active`})]};var pu=(0,Yt.I$)("ColorPicker",f=>{const{colorTextQuaternary:_,marginSM:U}=f,I=8,q=(0,zt.IX)(f,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${_}`,colorPickerSliderHeight:I,colorPickerPreviewSize:f.calc(I).mul(2).add(U).equal()});return[pc(q)]}),Lc=function(f,_){var U={};for(var I in f)Object.prototype.hasOwnProperty.call(f,I)&&_.indexOf(I)<0&&(U[I]=f[I]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,I=Object.getOwnPropertySymbols(f);q<I.length;q++)_.indexOf(I[q])<0&&Object.prototype.propertyIsEnumerable.call(f,I[q])&&(U[I[q]]=f[I[q]]);return U};const xl=f=>{const{mode:_,value:U,defaultValue:I,format:q,defaultFormat:Se,allowClear:Ie=!1,presets:D,children:ne,trigger:ue="click",open:le,disabled:ce,placement:ut="bottomLeft",arrow:Ge=!0,panelRender:yt,showText:Xe,style:dt,className:Nt,size:ft,rootClassName:an,prefixCls:Dn,styles:ii,disabledAlpha:Un=!1,onFormatChange:Gn,onChange:zn,onClear:zi,onOpenChange:Ci,onChangeComplete:Hi,getPopupContainer:Qi,autoAdjustOverflow:Wr=!0,destroyTooltipOnHide:Gi,disabledFormat:Bi}=f,Or=Lc(f,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:Rr,direction:ts,colorPicker:jr}=(0,a.useContext)(oe.E_),br=(0,a.useContext)(fe.Z),Dr=ce!=null?ce:br,[ao,ha]=(0,ie.Z)(!1,{value:le,postState:ca=>!Dr&&ca,onChange:Ci}),[Ks,Is]=(0,ie.Z)(q,{value:q,defaultValue:Se,onChange:Gn}),gs=Rr("color-picker",Dn),[Ds,Ho,fa,lo,mr]=Wo(I,U,_),gr=(0,a.useMemo)(()=>(0,zr.uZ)(Ds)<100,[Ds]),[rs,co]=a.useState(null),Xr=ca=>{if(Hi){let Va=(0,zr.vC)(ca);Un&&gr&&(Va=(0,zr.T7)(ca)),Hi(Va)}},ys=(ca,Va)=>{let xa=(0,zr.vC)(ca);Un&&gr&&(xa=(0,zr.T7)(xa)),Ho(xa),co(null),zn&&zn(xa,xa.toCssString()),Va||Xr(xa)},[ks,Eo]=a.useState(0),[uo,Sa]=a.useState(!1),rl=ca=>{if(lo(ca),ca==="single"&&Ds.isGradient())Eo(0),ys(new Ot.y9(Ds.getColors()[0].color)),co(Ds);else if(ca==="gradient"&&!Ds.isGradient()){const Va=gr?(0,zr.T7)(Ds):Ds;ys(new Ot.y9(rs||[{percent:0,color:Va},{percent:100,color:Va}]))}},{status:ul}=a.useContext(Be.aM),{compactSize:ka,compactItemClassnames:wr}=(0,vi.ri)(gs,ts),Za=(0,tt.Z)(ca=>{var Va;return(Va=ft!=null?ft:ka)!==null&&Va!==void 0?Va:ca}),Ha=(0,Me.Z)(gs),[Ia,Zo,Xo]=pu(gs,Ha),ho={[`${gs}-rtl`]:ts},na=z()(an,Xo,Ha,ho),oa=z()((0,J.Z)(gs,ul),{[`${gs}-sm`]:Za==="small",[`${gs}-lg`]:Za==="large"},wr,jr==null?void 0:jr.className,na,Nt,Zo),wo=z()(gs,na),Ja={open:ao,trigger:ue,placement:ut,arrow:Ge,rootClassName:an,getPopupContainer:Qi,autoAdjustOverflow:Wr,destroyTooltipOnHide:Gi},bl=Object.assign(Object.assign({},jr==null?void 0:jr.style),dt);return Ia(a.createElement(Es,Object.assign({style:ii==null?void 0:ii.popup,styles:{body:ii==null?void 0:ii.popupOverlayInner},onOpenChange:ca=>{(!ca||!Dr)&&ha(ca)},content:a.createElement(Pe.Z,{form:!0},a.createElement(Gs,{mode:fa,onModeChange:rl,modeOptions:mr,prefixCls:gs,value:Ds,allowClear:Ie,disabled:Dr,disabledAlpha:Un,presets:D,panelRender:yt,format:Ks,onFormatChange:Is,onChange:ys,onChangeComplete:Xr,onClear:zi,activeIndex:ks,onActive:Eo,gradientDragging:uo,onGradientDragging:Sa,disabledFormat:Bi})),classNames:{root:wo}},Ja),ne||a.createElement(ko,Object.assign({activeIndex:ao?ks:-1,open:ao,className:oa,style:bl,prefixCls:gs,disabled:Dr,showText:Xe,format:Ks},Or,{color:Ds}))))},$c=(0,se.Z)(xl,void 0,f=>Object.assign(Object.assign({},f),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",f=>f);xl._InternalPanelDoNotUseOrYouWillBeFired=$c;var Zc=xl,mu=Zc},95238:function(ji,It,M){"use strict";M.d(It,{AO:function(){return oe},T7:function(){return J},lx:function(){return Pe},uZ:function(){return se},vC:function(){return ie}});var a=M(81230),W=M(51651),z=M(42770);const ie=fe=>fe instanceof z.y9?fe:new z.y9(fe),Pe=fe=>Math.round(Number(fe||0)),se=fe=>Pe(fe.toHsb().a*100),J=(fe,Me)=>{const tt=fe.toRgb();if(!tt.r&&!tt.g&&!tt.b){const Be=fe.toHsb();return Be.a=Me||1,ie(Be)}return tt.a=Me||1,ie(tt)},oe=(fe,Me)=>{const tt=[{percent:0,color:fe[0].color}].concat((0,a.Z)(fe),[{percent:100,color:fe[fe.length-1].color}]);for(let Be=0;Be<tt.length-1;Be+=1){const ye=tt[Be].percent,$t=tt[Be+1].percent,qe=tt[Be].color,Ye=tt[Be+1].color;if(ye<=Me&&Me<=$t){const vt=$t-ye;if(vt===0)return qe;const Oe=(Me-ye)/vt*100,ee=new W.Il(qe),xt=new W.Il(Ye);return ee.mix(xt,Oe).toRgbString()}}return""}},91207:function(ji,It,M){"use strict";M.d(It,{n:function(){return z}});var a=M(75271);const W=a.createContext(!1),z=ie=>{let{children:Pe,disabled:se}=ie;const J=a.useContext(W);return a.createElement(W.Provider,{value:se!=null?se:J},Pe)};It.Z=W},63039:function(ji,It,M){"use strict";M.d(It,{q:function(){return z}});var a=M(75271);const W=a.createContext(void 0),z=ie=>{let{children:Pe,size:se}=ie;const J=a.useContext(W);return a.createElement(W.Provider,{value:se||J},Pe)};It.Z=W},37614:function(ji,It,M){"use strict";M.d(It,{x:function(){return _t}});var a=M(75271),W=M(30967),z=M.t(W,2),ie=M(61818),Pe=M(86669),se=M(74826),J=M(99426),oe=(0,J.Z)({},z),fe=oe.version,Me=oe.render,tt=oe.unmountComponentAtNode,Be;try{var ye=Number((fe||"").split(".")[0]);ye>=18&&(Be=oe.createRoot)}catch(et){}function $t(et){var Kt=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Kt&&(0,se.Z)(Kt)==="object"&&(Kt.usingClientEntryPoint=et)}var qe="__rc_react_root__";function Ye(et,Kt){$t(!0);var wt=Kt[qe]||Be(Kt);$t(!1),wt.render(et),Kt[qe]=wt}function vt(et,Kt){Me==null||Me(et,Kt)}function Oe(et,Kt){}function ee(et,Kt){if(Be){Ye(et,Kt);return}vt(et,Kt)}function xt(et){return de.apply(this,arguments)}function de(){return de=(0,Pe.Z)((0,ie.Z)().mark(function et(Kt){return(0,ie.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:return pt.abrupt("return",Promise.resolve().then(function(){var je;(je=Kt[qe])===null||je===void 0||je.unmount(),delete Kt[qe]}));case 1:case"end":return pt.stop()}},et)})),de.apply(this,arguments)}function re(et){tt(et)}function Rt(et){}function T(et){return Bt.apply(this,arguments)}function Bt(){return Bt=(0,Pe.Z)((0,ie.Z)().mark(function et(Kt){return(0,ie.Z)().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(Be===void 0){pt.next=2;break}return pt.abrupt("return",xt(Kt));case 2:re(Kt);case 3:case"end":return pt.stop()}},et)})),Bt.apply(this,arguments)}let Fe=(et,Kt)=>(ee(et,Kt),()=>T(Kt));function Vt(et){Fe=et}function _t(){return Fe}},49376:function(ji,It,M){"use strict";M.d(It,{E_:function(){return se},Rf:function(){return W},dj:function(){return fe},oR:function(){return z},tr:function(){return ie}});var a=M(75271);const W="ant",z="anticon",ie=["outlined","borderless","filled","underlined"],Pe=(Me,tt)=>tt||(Me?`${W}-${Me}`:W),se=a.createContext({getPrefixCls:Pe,iconPrefixCls:z}),{Consumer:J}=se,oe={};function fe(Me){const tt=a.useContext(se),{getPrefixCls:Be,direction:ye,getPopupContainer:$t}=tt,qe=tt[Me];return Object.assign(Object.assign({classNames:oe,styles:oe},qe),{getPrefixCls:Be,direction:ye,getPopupContainer:$t})}},7821:function(ji,It,M){"use strict";var a=M(83974);const W=z=>{const[,,,,ie]=(0,a.ZP)();return ie?`${z}-css-var`:""};It.Z=W},57350:function(ji,It,M){"use strict";var a=M(75271),W=M(63039);const z=ie=>{const Pe=a.useContext(W.Z);return a.useMemo(()=>ie?typeof ie=="string"?ie!=null?ie:Pe:typeof ie=="function"?ie(Pe):Pe:Pe,[ie,Pe])};It.Z=z},60349:function(ji,It,M){"use strict";M.d(It,{ZP:function(){return Et},w6:function(){return tr}});var a=M(75271),W=M.t(a,2),z=M(47424),ie=M(23379),Pe=M(77464),se=M(30270),J=M(22728),oe=(0,a.createContext)(void 0),fe=M(98798),Me=M(52748);const tt="internalMark";var ye=vn=>{const{locale:Mn={},children:gi,_ANT_MARK__:$i}=vn;a.useEffect(()=>(0,fe.f)(Mn==null?void 0:Mn.Modal),[Mn]);const hr=a.useMemo(()=>Object.assign(Object.assign({},Mn),{exist:!0}),[Mn]);return a.createElement(Me.Z.Provider,{value:hr},gi)},$t=M(90977),qe=M(30037),Ye=M(84212),vt=M(67509),Oe=M(49376),ee=M(68640),xt=M(84432),de=M(98750),re=M(77274);const Rt=`-ant-${Date.now()}-${Math.random()}`;function T(vn,Mn){const gi={},$i=(vi,Ot)=>{let kt=vi.clone();return kt=(Ot==null?void 0:Ot(kt))||kt,kt.toRgbString()},hr=(vi,Ot)=>{const kt=new xt.t(vi),cn=(0,ee.R_)(kt.toRgbString());gi[`${Ot}-color`]=$i(kt),gi[`${Ot}-color-disabled`]=cn[1],gi[`${Ot}-color-hover`]=cn[4],gi[`${Ot}-color-active`]=cn[6],gi[`${Ot}-color-outline`]=kt.clone().setA(.2).toRgbString(),gi[`${Ot}-color-deprecated-bg`]=cn[0],gi[`${Ot}-color-deprecated-border`]=cn[2]};if(Mn.primaryColor){hr(Mn.primaryColor,"primary");const vi=new xt.t(Mn.primaryColor),Ot=(0,ee.R_)(vi.toRgbString());Ot.forEach((cn,pi)=>{gi[`primary-${pi+1}`]=cn}),gi["primary-color-deprecated-l-35"]=$i(vi,cn=>cn.lighten(35)),gi["primary-color-deprecated-l-20"]=$i(vi,cn=>cn.lighten(20)),gi["primary-color-deprecated-t-20"]=$i(vi,cn=>cn.tint(20)),gi["primary-color-deprecated-t-50"]=$i(vi,cn=>cn.tint(50)),gi["primary-color-deprecated-f-12"]=$i(vi,cn=>cn.setA(cn.a*.12));const kt=new xt.t(Ot[0]);gi["primary-color-active-deprecated-f-30"]=$i(kt,cn=>cn.setA(cn.a*.3)),gi["primary-color-active-deprecated-d-02"]=$i(kt,cn=>cn.darken(2))}return Mn.successColor&&hr(Mn.successColor,"success"),Mn.warningColor&&hr(Mn.warningColor,"warning"),Mn.errorColor&&hr(Mn.errorColor,"error"),Mn.infoColor&&hr(Mn.infoColor,"info"),`
  :root {
    ${Object.keys(gi).map(vi=>`--${vn}-${vi}: ${gi[vi]};`).join(`
`)}
  }
  `.trim()}function Bt(vn,Mn){const gi=T(vn,Mn);(0,de.Z)()&&(0,re.hq)(gi,`${Rt}-dynamic-theme`)}var He=M(91207),Fe=M(63039);function Vt(){const vn=(0,a.useContext)(He.Z),Mn=(0,a.useContext)(Fe.Z);return{componentDisabled:vn,componentSize:Mn}}var _t=Vt,et=M(8104);const Kt=Object.assign({},W),{useId:wt}=Kt;var Ct=typeof wt=="undefined"?()=>"":wt;function Le(vn,Mn,gi){var $i,hr;const Es=(0,J.ln)("ConfigProvider"),vi=vn||{},Ot=vi.inherit===!1||!Mn?Object.assign(Object.assign({},Ye.u_),{hashed:($i=Mn==null?void 0:Mn.hashed)!==null&&$i!==void 0?$i:Ye.u_.hashed,cssVar:Mn==null?void 0:Mn.cssVar}):Mn,kt=Ct();return(0,Pe.Z)(()=>{var cn,pi;if(!vn)return Mn;const nr=Object.assign({},Ot.components);Object.keys(vn.components||{}).forEach($n=>{nr[$n]=Object.assign(Object.assign({},nr[$n]),vn.components[$n])});const mi=`css-var-${kt.replace(/:/g,"")}`,Zi=((cn=vi.cssVar)!==null&&cn!==void 0?cn:Ot.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:gi==null?void 0:gi.prefixCls},typeof Ot.cssVar=="object"?Ot.cssVar:{}),typeof vi.cssVar=="object"?vi.cssVar:{}),{key:typeof vi.cssVar=="object"&&((pi=vi.cssVar)===null||pi===void 0?void 0:pi.key)||mi});return Object.assign(Object.assign(Object.assign({},Ot),vi),{token:Object.assign(Object.assign({},Ot.token),vi.token),components:nr,cssVar:Zi})},[vi,Ot],(cn,pi)=>cn.some((nr,mi)=>{const Zi=pi[mi];return!(0,et.Z)(nr,Zi,!0)}))}var st=M(24718),zt=M(83974);function Yt(vn){const{children:Mn}=vn,[,gi]=(0,zt.ZP)(),{motion:$i}=gi,hr=a.useRef(!1);return hr.current=hr.current||$i===!1,hr.current?a.createElement(st.zt,{motion:$i},Mn):Mn}const xn=null;var Zn=()=>null,Yn=M(64336),si=(vn,Mn)=>{const[gi,$i]=(0,zt.ZP)();return(0,z.xy)({theme:gi,token:$i,hashId:"",path:["ant-design-icons",vn],nonce:()=>Mn==null?void 0:Mn.nonce,layer:{name:"antd"}},()=>[(0,Yn.JT)(vn)])},qi=function(vn,Mn){var gi={};for(var $i in vn)Object.prototype.hasOwnProperty.call(vn,$i)&&Mn.indexOf($i)<0&&(gi[$i]=vn[$i]);if(vn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var hr=0,$i=Object.getOwnPropertySymbols(vn);hr<$i.length;hr++)Mn.indexOf($i[hr])<0&&Object.prototype.propertyIsEnumerable.call(vn,$i[hr])&&(gi[$i[hr]]=vn[$i[hr]]);return gi};let li=!1;const fi=null,Oi=null,Ei=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let Xt,rt,Pt,bn;function di(){return Xt||Oe.Rf}function en(){return rt||Oe.oR}function vr(vn){return Object.keys(vn).some(Mn=>Mn.endsWith("Color"))}const Er=vn=>{const{prefixCls:Mn,iconPrefixCls:gi,theme:$i,holderRender:hr}=vn;Mn!==void 0&&(Xt=Mn),gi!==void 0&&(rt=gi),"holderRender"in vn&&(bn=hr),$i&&(vr($i)?Bt(di(),$i):Pt=$i)},tr=()=>({getPrefixCls:(vn,Mn)=>Mn||(vn?`${di()}-${vn}`:di()),getIconPrefixCls:en,getRootPrefixCls:()=>Xt||di(),getTheme:()=>Pt,holderRender:bn}),er=vn=>{const{children:Mn,csp:gi,autoInsertSpaceInButton:$i,alert:hr,anchor:Es,form:vi,locale:Ot,componentSize:kt,direction:cn,space:pi,splitter:nr,virtual:mi,dropdownMatchSelectWidth:Zi,popupMatchSelectWidth:$n,popupOverflow:bi,legacyLocale:Sr,parentContext:Ir,iconPrefixCls:Z,theme:Tt,componentDisabled:Tn,segmented:ve,statistic:Ae,spin:nt,calendar:fn,carousel:An,cascader:oi,collapse:Wi,typography:Cr,checkbox:Ur,descriptions:Lr,divider:Tr,drawer:Dt,skeleton:kn,steps:Xn,image:pn,layout:ci,list:ir,mentions:or,modal:Gr,progress:Nr,result:Xi,slider:Zr,breadcrumb:cs,menu:zr,pagination:io,input:Ts,textArea:Ns,empty:Fo,badge:Ao,radio:Po,rate:ro,switch:ua,transfer:Mo,avatar:Bs,message:Fs,tag:Bo,table:bo,card:$r,tabs:So,timeline:so,timePicker:mo,upload:Us,notification:ds,tree:Oo,colorPicker:Co,datePicker:Fr,rangePicker:vo,flex:_a,wave:bs,dropdown:Js,warning:js,tour:os,tooltip:hs,popover:qr,popconfirm:fs,floatButtonGroup:oo,variant:va,inputNumber:qo,treeSelect:wa}=vn,Ua=a.useCallback((Ma,ya)=>{const{prefixCls:ra}=vn;if(ya)return ya;const $a=ra||Ir.getPrefixCls("");return Ma?`${$a}-${Ma}`:$a},[Ir.getPrefixCls,vn.prefixCls]),Pa=Z||Ir.iconPrefixCls||Oe.oR,Jr=gi||Ir.csp;si(Pa,Jr);const fr=Le(Tt,Ir.theme,{prefixCls:Ua("")}),ai={csp:Jr,autoInsertSpaceInButton:$i,alert:hr,anchor:Es,locale:Ot||Sr,direction:cn,space:pi,splitter:nr,virtual:mi,popupMatchSelectWidth:$n!=null?$n:Zi,popupOverflow:bi,getPrefixCls:Ua,iconPrefixCls:Pa,theme:fr,segmented:ve,statistic:Ae,spin:nt,calendar:fn,carousel:An,cascader:oi,collapse:Wi,typography:Cr,checkbox:Ur,descriptions:Lr,divider:Tr,drawer:Dt,skeleton:kn,steps:Xn,image:pn,input:Ts,textArea:Ns,layout:ci,list:ir,mentions:or,modal:Gr,progress:Nr,result:Xi,slider:Zr,breadcrumb:cs,menu:zr,pagination:io,empty:Fo,badge:Ao,radio:Po,rate:ro,switch:ua,transfer:Mo,avatar:Bs,message:Fs,tag:Bo,table:bo,card:$r,tabs:So,timeline:so,timePicker:mo,upload:Us,notification:ds,tree:Oo,colorPicker:Co,datePicker:Fr,rangePicker:vo,flex:_a,wave:bs,dropdown:Js,warning:js,tour:os,tooltip:hs,popover:qr,popconfirm:fs,floatButtonGroup:oo,variant:va,inputNumber:qo,treeSelect:wa},_s=Object.assign({},Ir);Object.keys(ai).forEach(Ma=>{ai[Ma]!==void 0&&(_s[Ma]=ai[Ma])}),Ei.forEach(Ma=>{const ya=vn[Ma];ya&&(_s[Ma]=ya)}),typeof $i!="undefined"&&(_s.button=Object.assign({autoInsertSpace:$i},_s.button));const Uo=(0,Pe.Z)(()=>_s,_s,(Ma,ya)=>{const ra=Object.keys(Ma),$a=Object.keys(ya);return ra.length!==$a.length||ra.some(ll=>Ma[ll]!==ya[ll])}),{layer:zo}=a.useContext(z.uP),el=a.useMemo(()=>({prefixCls:Pa,csp:Jr,layer:zo?"antd":void 0}),[Pa,Jr,zo]);let ws=a.createElement(a.Fragment,null,a.createElement(Zn,{dropdownMatchSelectWidth:Zi}),Mn);const za=a.useMemo(()=>{var Ma,ya,ra,$a;return(0,se.T)(((Ma=$t.Z.Form)===null||Ma===void 0?void 0:Ma.defaultValidateMessages)||{},((ra=(ya=Uo.locale)===null||ya===void 0?void 0:ya.Form)===null||ra===void 0?void 0:ra.defaultValidateMessages)||{},(($a=Uo.form)===null||$a===void 0?void 0:$a.validateMessages)||{},(vi==null?void 0:vi.validateMessages)||{})},[Uo,vi==null?void 0:vi.validateMessages]);Object.keys(za).length>0&&(ws=a.createElement(oe.Provider,{value:za},ws)),Ot&&(ws=a.createElement(ye,{locale:Ot,_ANT_MARK__:tt},ws)),(Pa||Jr)&&(ws=a.createElement(ie.Z.Provider,{value:el},ws)),kt&&(ws=a.createElement(Fe.q,{size:kt},ws)),ws=a.createElement(Yt,null,ws);const Ka=a.useMemo(()=>{const Ma=fr||{},{algorithm:ya,token:ra,components:$a,cssVar:ll}=Ma,Jo=qi(Ma,["algorithm","token","components","cssVar"]),ba=ya&&(!Array.isArray(ya)||ya.length>0)?(0,z.jG)(ya):qe.Z,hl={};Object.entries($a||{}).forEach(Y=>{let[H,ae]=Y;const Q=Object.assign({},ae);"algorithm"in Q&&(Q.algorithm===!0?Q.theme=ba:(Array.isArray(Q.algorithm)||typeof Q.algorithm=="function")&&(Q.theme=(0,z.jG)(Q.algorithm)),delete Q.algorithm),hl[H]=Q});const $e=Object.assign(Object.assign({},vt.Z),ra);return Object.assign(Object.assign({},Jo),{theme:ba,token:$e,components:hl,override:Object.assign({override:$e},hl),cssVar:ll})},[fr]);return Tt&&(ws=a.createElement(Ye.Mj.Provider,{value:Ka},ws)),Uo.warning&&(ws=a.createElement(J.G8.Provider,{value:Uo.warning},ws)),Tn!==void 0&&(ws=a.createElement(He.n,{disabled:Tn},ws)),a.createElement(Oe.E_.Provider,{value:Uo},ws)},Ui=vn=>{const Mn=a.useContext(Oe.E_),gi=a.useContext(Me.Z);return a.createElement(er,Object.assign({parentContext:Mn,legacyLocale:gi},vn))};Ui.ConfigContext=Oe.E_,Ui.SizeContext=Fe.Z,Ui.config=Er,Ui.useConfig=_t,Object.defineProperty(Ui,"SizeContext",{get:()=>Fe.Z});var Et=Ui},70916:function(ji,It,M){"use strict";M.d(It,{Z:function(){return $t}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(49376),Pe=M(47424),se=M(64336),J=M(46007),oe=M(84458);const fe=qe=>{const{componentCls:Ye,sizePaddingEdgeHorizontal:vt,colorSplit:Oe,lineWidth:ee,textPaddingInline:xt,orientationMargin:de,verticalMarginInline:re}=qe;return{[Ye]:Object.assign(Object.assign({},(0,se.Wf)(qe)),{borderBlockStart:`${(0,Pe.bf)(ee)} solid ${Oe}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:re,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,Pe.bf)(ee)} solid ${Oe}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,Pe.bf)(qe.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${Ye}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,Pe.bf)(qe.dividerHorizontalWithTextGutterMargin)} 0`,color:qe.colorTextHeading,fontWeight:500,fontSize:qe.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${Oe}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,Pe.bf)(ee)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${Ye}-with-text-start`]:{"&::before":{width:`calc(${de} * 100%)`},"&::after":{width:`calc(100% - ${de} * 100%)`}},[`&-horizontal${Ye}-with-text-end`]:{"&::before":{width:`calc(100% - ${de} * 100%)`},"&::after":{width:`calc(${de} * 100%)`}},[`${Ye}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:xt},"&-dashed":{background:"none",borderColor:Oe,borderStyle:"dashed",borderWidth:`${(0,Pe.bf)(ee)} 0 0`},[`&-horizontal${Ye}-with-text${Ye}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${Ye}-dashed`]:{borderInlineStartWidth:ee,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:Oe,borderStyle:"dotted",borderWidth:`${(0,Pe.bf)(ee)} 0 0`},[`&-horizontal${Ye}-with-text${Ye}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${Ye}-dotted`]:{borderInlineStartWidth:ee,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${Ye}-with-text`]:{color:qe.colorText,fontWeight:"normal",fontSize:qe.fontSize},[`&-horizontal${Ye}-with-text-start${Ye}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${Ye}-inner-text`]:{paddingInlineStart:vt}},[`&-horizontal${Ye}-with-text-end${Ye}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${Ye}-inner-text`]:{paddingInlineEnd:vt}}})}},Me=qe=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:qe.marginXS});var tt=(0,J.I$)("Divider",qe=>{const Ye=(0,oe.IX)(qe,{dividerHorizontalWithTextGutterMargin:qe.margin,dividerHorizontalGutterMargin:qe.marginLG,sizePaddingEdgeHorizontal:0});return[fe(Ye)]},Me,{unitless:{orientationMargin:!0}}),Be=function(qe,Ye){var vt={};for(var Oe in qe)Object.prototype.hasOwnProperty.call(qe,Oe)&&Ye.indexOf(Oe)<0&&(vt[Oe]=qe[Oe]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ee=0,Oe=Object.getOwnPropertySymbols(qe);ee<Oe.length;ee++)Ye.indexOf(Oe[ee])<0&&Object.prototype.propertyIsEnumerable.call(qe,Oe[ee])&&(vt[Oe[ee]]=qe[Oe[ee]]);return vt},$t=qe=>{const{getPrefixCls:Ye,direction:vt,className:Oe,style:ee}=(0,ie.dj)("divider"),{prefixCls:xt,type:de="horizontal",orientation:re="center",orientationMargin:Rt,className:T,rootClassName:Bt,children:He,dashed:Fe,variant:Vt="solid",plain:_t,style:et}=qe,Kt=Be(qe,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),wt=Ye("divider",xt),[pt,je,Ct]=tt(wt),Le=!!He,st=a.useMemo(()=>re==="left"?vt==="rtl"?"end":"start":re==="right"?vt==="rtl"?"start":"end":re,[vt,re]),zt=st==="start"&&Rt!=null,Yt=st==="end"&&Rt!=null,xn=z()(wt,Oe,je,Ct,`${wt}-${de}`,{[`${wt}-with-text`]:Le,[`${wt}-with-text-${st}`]:Le,[`${wt}-dashed`]:!!Fe,[`${wt}-${Vt}`]:Vt!=="solid",[`${wt}-plain`]:!!_t,[`${wt}-rtl`]:vt==="rtl",[`${wt}-no-default-orientation-margin-start`]:zt,[`${wt}-no-default-orientation-margin-end`]:Yt},T,Bt),Zn=a.useMemo(()=>typeof Rt=="number"?Rt:/^\d+$/.test(Rt)?Number(Rt):Rt,[Rt]),Yn={marginInlineStart:zt?Zn:void 0,marginInlineEnd:Yt?Zn:void 0};return pt(a.createElement("div",Object.assign({className:xn,style:Object.assign(Object.assign({},ee),et)},Kt,{role:"separator"}),He&&de!=="vertical"&&a.createElement("span",{className:`${wt}-inner-text`,style:Yn},He)))}},64113:function(ji,It,M){"use strict";M.d(It,{aM:function(){return Jo},Ux:function(){return ba},pg:function(){return hl}});var a=M(75271),W=M(52003),z=M(99960),ie=M(61818),Pe=M(86669),se=M(99426),J=M(81230),oe=M(34706),fe=M(89364),Me=M(89784),tt=M(16013),Be=M(41936),ye=M(65213),$t=M(27727),qe=M(8104),Ye=M(69287),vt="RC_FORM_INTERNAL_HOOKS",Oe=function(){(0,Ye.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ee=a.createContext({getFieldValue:Oe,getFieldsValue:Oe,getFieldError:Oe,getFieldWarning:Oe,getFieldsError:Oe,isFieldsTouched:Oe,isFieldTouched:Oe,isFieldValidating:Oe,isFieldsValidating:Oe,resetFields:Oe,setFields:Oe,setFieldValue:Oe,setFieldsValue:Oe,validateFields:Oe,submit:Oe,getInternalHooks:function(){return Oe(),{dispatch:Oe,initEntityValue:Oe,registerField:Oe,useSubscribe:Oe,setInitialValues:Oe,destroyForm:Oe,setCallbacks:Oe,registerWatch:Oe,getFields:Oe,setValidateMessages:Oe,setPreserve:Oe,getInitialValue:Oe}}}),xt=ee,de=a.createContext(null),re=de;function Rt($e){return $e==null?[]:Array.isArray($e)?$e:[$e]}function T($e){return $e&&!!$e._init}var Bt=M(74826);function He(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Y=JSON.parse(JSON.stringify(this));return Y.clone=this.clone,Y}}}var Fe=He(),Vt=M(3349),_t=M(72882);function et($e){try{return Function.toString.call($e).indexOf("[native code]")!==-1}catch(Y){return typeof $e=="function"}}var Kt=M(46492);function wt($e,Y,H){if((0,Kt.Z)())return Reflect.construct.apply(null,arguments);var ae=[null];ae.push.apply(ae,Y);var Q=new($e.bind.apply($e,ae));return H&&(0,_t.Z)(Q,H.prototype),Q}function pt($e){var Y=typeof Map=="function"?new Map:void 0;return pt=function(ae){if(ae===null||!et(ae))return ae;if(typeof ae!="function")throw new TypeError("Super expression must either be null or a function");if(Y!==void 0){if(Y.has(ae))return Y.get(ae);Y.set(ae,Q)}function Q(){return wt(ae,arguments,(0,Vt.Z)(this).constructor)}return Q.prototype=Object.create(ae.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),(0,_t.Z)(Q,ae)},pt($e)}var je=M(14224),Ct=/%[sdj%]/g,Le=function(){};function st($e){if(!$e||!$e.length)return null;var Y={};return $e.forEach(function(H){var ae=H.field;Y[ae]=Y[ae]||[],Y[ae].push(H)}),Y}function zt($e){for(var Y=arguments.length,H=new Array(Y>1?Y-1:0),ae=1;ae<Y;ae++)H[ae-1]=arguments[ae];var Q=0,Ze=H.length;if(typeof $e=="function")return $e.apply(null,H);if(typeof $e=="string"){var lt=$e.replace(Ct,function(tn){if(tn==="%%")return"%";if(Q>=Ze)return tn;switch(tn){case"%s":return String(H[Q++]);case"%d":return Number(H[Q++]);case"%j":try{return JSON.stringify(H[Q++])}catch(_n){return"[Circular]"}break;default:return tn}});return lt}return $e}function Yt($e){return $e==="string"||$e==="url"||$e==="hex"||$e==="email"||$e==="date"||$e==="pattern"}function xn($e,Y){return!!($e==null||Y==="array"&&Array.isArray($e)&&!$e.length||Yt(Y)&&typeof $e=="string"&&!$e)}function Zn($e){return Object.keys($e).length===0}function Yn($e,Y,H){var ae=[],Q=0,Ze=$e.length;function lt(tn){ae.push.apply(ae,(0,J.Z)(tn||[])),Q++,Q===Ze&&H(ae)}$e.forEach(function(tn){Y(tn,lt)})}function Fn($e,Y,H){var ae=0,Q=$e.length;function Ze(lt){if(lt&&lt.length){H(lt);return}var tn=ae;ae=ae+1,tn<Q?Y($e[tn],Ze):H([])}Ze([])}function si($e){var Y=[];return Object.keys($e).forEach(function(H){Y.push.apply(Y,(0,J.Z)($e[H]||[]))}),Y}var qi=function($e){(0,tt.Z)(H,$e);var Y=(0,Be.Z)(H);function H(ae,Q){var Ze;return(0,oe.Z)(this,H),Ze=Y.call(this,"Async Validation Error"),(0,ye.Z)((0,Me.Z)(Ze),"errors",void 0),(0,ye.Z)((0,Me.Z)(Ze),"fields",void 0),Ze.errors=ae,Ze.fields=Q,Ze}return(0,fe.Z)(H)}(pt(Error));function li($e,Y,H,ae,Q){if(Y.first){var Ze=new Promise(function(y,E){var P=function(K){return ae(K),K.length?E(new qi(K,st(K))):y(Q)},k=si($e);Fn(k,H,P)});return Ze.catch(function(y){return y}),Ze}var lt=Y.firstFields===!0?Object.keys($e):Y.firstFields||[],tn=Object.keys($e),_n=tn.length,Hn=0,dn=[],d=new Promise(function(y,E){var P=function(N){if(dn.push.apply(dn,N),Hn++,Hn===_n)return ae(dn),dn.length?E(new qi(dn,st(dn))):y(Q)};tn.length||(ae(dn),y(Q)),tn.forEach(function(k){var N=$e[k];lt.indexOf(k)!==-1?Fn(N,H,P):Yn(N,H,P)})});return d.catch(function(y){return y}),d}function fi($e){return!!($e&&$e.message!==void 0)}function Oi($e,Y){for(var H=$e,ae=0;ae<Y.length;ae++){if(H==null)return H;H=H[Y[ae]]}return H}function Ei($e,Y){return function(H){var ae;return $e.fullFields?ae=Oi(Y,$e.fullFields):ae=Y[H.field||$e.fullField],fi(H)?(H.field=H.field||$e.fullField,H.fieldValue=ae,H):{message:typeof H=="function"?H():H,fieldValue:ae,field:H.field||$e.fullField}}}function Xt($e,Y){if(Y){for(var H in Y)if(Y.hasOwnProperty(H)){var ae=Y[H];(0,Bt.Z)(ae)==="object"&&(0,Bt.Z)($e[H])==="object"?$e[H]=(0,se.Z)((0,se.Z)({},$e[H]),ae):$e[H]=ae}}return $e}var rt="enum",Pt=function(Y,H,ae,Q,Ze){Y[rt]=Array.isArray(Y[rt])?Y[rt]:[],Y[rt].indexOf(H)===-1&&Q.push(zt(Ze.messages[rt],Y.fullField,Y[rt].join(", ")))},bn=Pt,di=function(Y,H,ae,Q,Ze){if(Y.pattern){if(Y.pattern instanceof RegExp)Y.pattern.lastIndex=0,Y.pattern.test(H)||Q.push(zt(Ze.messages.pattern.mismatch,Y.fullField,H,Y.pattern));else if(typeof Y.pattern=="string"){var lt=new RegExp(Y.pattern);lt.test(H)||Q.push(zt(Ze.messages.pattern.mismatch,Y.fullField,H,Y.pattern))}}},en=di,vr=function(Y,H,ae,Q,Ze){var lt=typeof Y.len=="number",tn=typeof Y.min=="number",_n=typeof Y.max=="number",Hn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dn=H,d=null,y=typeof H=="number",E=typeof H=="string",P=Array.isArray(H);if(y?d="number":E?d="string":P&&(d="array"),!d)return!1;P&&(dn=H.length),E&&(dn=H.replace(Hn,"_").length),lt?dn!==Y.len&&Q.push(zt(Ze.messages[d].len,Y.fullField,Y.len)):tn&&!_n&&dn<Y.min?Q.push(zt(Ze.messages[d].min,Y.fullField,Y.min)):_n&&!tn&&dn>Y.max?Q.push(zt(Ze.messages[d].max,Y.fullField,Y.max)):tn&&_n&&(dn<Y.min||dn>Y.max)&&Q.push(zt(Ze.messages[d].range,Y.fullField,Y.min,Y.max))},Er=vr,tr=function(Y,H,ae,Q,Ze,lt){Y.required&&(!ae.hasOwnProperty(Y.field)||xn(H,lt||Y.type))&&Q.push(zt(Ze.messages.required,Y.fullField))},er=tr,Ui,Et=function(){if(Ui)return Ui;var $e="[a-fA-F\\d:]",Y=function(gn){return gn&&gn.includeBoundaries?"(?:(?<=\\s|^)(?=".concat($e,")|(?<=").concat($e,")(?=\\s|$))"):""},H="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",ae="[a-fA-F\\d]{1,4}",Q=["(?:".concat(ae,":){7}(?:").concat(ae,"|:)"),"(?:".concat(ae,":){6}(?:").concat(H,"|:").concat(ae,"|:)"),"(?:".concat(ae,":){5}(?::").concat(H,"|(?::").concat(ae,"){1,2}|:)"),"(?:".concat(ae,":){4}(?:(?::").concat(ae,"){0,1}:").concat(H,"|(?::").concat(ae,"){1,3}|:)"),"(?:".concat(ae,":){3}(?:(?::").concat(ae,"){0,2}:").concat(H,"|(?::").concat(ae,"){1,4}|:)"),"(?:".concat(ae,":){2}(?:(?::").concat(ae,"){0,3}:").concat(H,"|(?::").concat(ae,"){1,5}|:)"),"(?:".concat(ae,":){1}(?:(?::").concat(ae,"){0,4}:").concat(H,"|(?::").concat(ae,"){1,6}|:)"),"(?::(?:(?::".concat(ae,"){0,5}:").concat(H,"|(?::").concat(ae,"){1,7}|:))")],Ze="(?:%[0-9a-zA-Z]{1,})?",lt="(?:".concat(Q.join("|"),")").concat(Ze),tn=new RegExp("(?:^".concat(H,"$)|(?:^").concat(lt,"$)")),_n=new RegExp("^".concat(H,"$")),Hn=new RegExp("^".concat(lt,"$")),dn=function(gn){return gn&&gn.exact?tn:new RegExp("(?:".concat(Y(gn)).concat(H).concat(Y(gn),")|(?:").concat(Y(gn)).concat(lt).concat(Y(gn),")"),"g")};dn.v4=function(Ht){return Ht&&Ht.exact?_n:new RegExp("".concat(Y(Ht)).concat(H).concat(Y(Ht)),"g")},dn.v6=function(Ht){return Ht&&Ht.exact?Hn:new RegExp("".concat(Y(Ht)).concat(lt).concat(Y(Ht)),"g")};var d="(?:(?:[a-z]+:)?//)",y="(?:\\S+(?::\\S*)?@)?",E=dn.v4().source,P=dn.v6().source,k="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",N="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",K="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",_e="(?::\\d{2,5})?",Ee='(?:[/?#][^\\s"]*)?',it="(?:".concat(d,"|www\\.)").concat(y,"(?:localhost|").concat(E,"|").concat(P,"|").concat(k).concat(N).concat(K,")").concat(_e).concat(Ee);return Ui=new RegExp("(?:^".concat(it,"$)"),"i"),Ui},vn={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Mn={integer:function(Y){return Mn.number(Y)&&parseInt(Y,10)===Y},float:function(Y){return Mn.number(Y)&&!Mn.integer(Y)},array:function(Y){return Array.isArray(Y)},regexp:function(Y){if(Y instanceof RegExp)return!0;try{return!!new RegExp(Y)}catch(H){return!1}},date:function(Y){return typeof Y.getTime=="function"&&typeof Y.getMonth=="function"&&typeof Y.getYear=="function"&&!isNaN(Y.getTime())},number:function(Y){return isNaN(Y)?!1:typeof Y=="number"},object:function(Y){return(0,Bt.Z)(Y)==="object"&&!Mn.array(Y)},method:function(Y){return typeof Y=="function"},email:function(Y){return typeof Y=="string"&&Y.length<=320&&!!Y.match(vn.email)},url:function(Y){return typeof Y=="string"&&Y.length<=2048&&!!Y.match(Et())},hex:function(Y){return typeof Y=="string"&&!!Y.match(vn.hex)}},gi=function(Y,H,ae,Q,Ze){if(Y.required&&H===void 0){er(Y,H,ae,Q,Ze);return}var lt=["integer","float","array","regexp","object","method","email","number","date","url","hex"],tn=Y.type;lt.indexOf(tn)>-1?Mn[tn](H)||Q.push(zt(Ze.messages.types[tn],Y.fullField,Y.type)):tn&&(0,Bt.Z)(H)!==Y.type&&Q.push(zt(Ze.messages.types[tn],Y.fullField,Y.type))},$i=gi,hr=function(Y,H,ae,Q,Ze){(/^\s+$/.test(H)||H==="")&&Q.push(zt(Ze.messages.whitespace,Y.fullField))},Es=hr,vi={required:er,whitespace:Es,type:$i,range:Er,enum:bn,pattern:en},Ot=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze)}ae(lt)},kt=Ot,cn=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(H==null&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze,"array"),H!=null&&(vi.type(Y,H,Q,lt,Ze),vi.range(Y,H,Q,lt,Ze))}ae(lt)},pi=cn,nr=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),H!==void 0&&vi.type(Y,H,Q,lt,Ze)}ae(lt)},mi=nr,Zi=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H,"date")&&!Y.required)return ae();if(vi.required(Y,H,Q,lt,Ze),!xn(H,"date")){var _n;H instanceof Date?_n=H:_n=new Date(H),vi.type(Y,_n,Q,lt,Ze),_n&&vi.range(Y,_n.getTime(),Q,lt,Ze)}}ae(lt)},$n=Zi,bi="enum",Sr=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),H!==void 0&&vi[bi](Y,H,Q,lt,Ze)}ae(lt)},Ir=Sr,Z=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),H!==void 0&&(vi.type(Y,H,Q,lt,Ze),vi.range(Y,H,Q,lt,Ze))}ae(lt)},Tt=Z,Tn=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),H!==void 0&&(vi.type(Y,H,Q,lt,Ze),vi.range(Y,H,Q,lt,Ze))}ae(lt)},ve=Tn,Ae=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),H!==void 0&&vi.type(Y,H,Q,lt,Ze)}ae(lt)},nt=Ae,fn=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(H===""&&(H=void 0),xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),H!==void 0&&(vi.type(Y,H,Q,lt,Ze),vi.range(Y,H,Q,lt,Ze))}ae(lt)},An=fn,oi=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),H!==void 0&&vi.type(Y,H,Q,lt,Ze)}ae(lt)},Wi=oi,Cr=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H,"string")&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),xn(H,"string")||vi.pattern(Y,H,Q,lt,Ze)}ae(lt)},Ur=Cr,Lr=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H)&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze),xn(H)||vi.type(Y,H,Q,lt,Ze)}ae(lt)},Tr=Lr,Dt=function(Y,H,ae,Q,Ze){var lt=[],tn=Array.isArray(H)?"array":(0,Bt.Z)(H);vi.required(Y,H,Q,lt,Ze,tn),ae(lt)},kn=Dt,Xn=function(Y,H,ae,Q,Ze){var lt=[],tn=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(tn){if(xn(H,"string")&&!Y.required)return ae();vi.required(Y,H,Q,lt,Ze,"string"),xn(H,"string")||(vi.type(Y,H,Q,lt,Ze),vi.range(Y,H,Q,lt,Ze),vi.pattern(Y,H,Q,lt,Ze),Y.whitespace===!0&&vi.whitespace(Y,H,Q,lt,Ze))}ae(lt)},pn=Xn,ci=function(Y,H,ae,Q,Ze){var lt=Y.type,tn=[],_n=Y.required||!Y.required&&Q.hasOwnProperty(Y.field);if(_n){if(xn(H,lt)&&!Y.required)return ae();vi.required(Y,H,Q,tn,Ze,lt),xn(H,lt)||vi.type(Y,H,Q,tn,Ze)}ae(tn)},ir=ci,or={string:pn,method:nt,number:An,boolean:mi,regexp:Tr,integer:ve,float:Tt,array:pi,object:Wi,enum:Ir,pattern:Ur,date:$n,url:ir,hex:ir,email:ir,required:kn,any:kt},Gr=function(){function $e(Y){(0,oe.Z)(this,$e),(0,ye.Z)(this,"rules",null),(0,ye.Z)(this,"_messages",Fe),this.define(Y)}return(0,fe.Z)($e,[{key:"define",value:function(H){var ae=this;if(!H)throw new Error("Cannot configure a schema with no rules");if((0,Bt.Z)(H)!=="object"||Array.isArray(H))throw new Error("Rules must be an object");this.rules={},Object.keys(H).forEach(function(Q){var Ze=H[Q];ae.rules[Q]=Array.isArray(Ze)?Ze:[Ze]})}},{key:"messages",value:function(H){return H&&(this._messages=Xt(He(),H)),this._messages}},{key:"validate",value:function(H){var ae=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},lt=H,tn=Q,_n=Ze;if(typeof tn=="function"&&(_n=tn,tn={}),!this.rules||Object.keys(this.rules).length===0)return _n&&_n(null,lt),Promise.resolve(lt);function Hn(P){var k=[],N={};function K(Ee){if(Array.isArray(Ee)){var it;k=(it=k).concat.apply(it,(0,J.Z)(Ee))}else k.push(Ee)}for(var _e=0;_e<P.length;_e++)K(P[_e]);k.length?(N=st(k),_n(k,N)):_n(null,lt)}if(tn.messages){var dn=this.messages();dn===Fe&&(dn=He()),Xt(dn,tn.messages),tn.messages=dn}else tn.messages=this.messages();var d={},y=tn.keys||Object.keys(this.rules);y.forEach(function(P){var k=ae.rules[P],N=lt[P];k.forEach(function(K){var _e=K;typeof _e.transform=="function"&&(lt===H&&(lt=(0,se.Z)({},lt)),N=lt[P]=_e.transform(N),N!=null&&(_e.type=_e.type||(Array.isArray(N)?"array":(0,Bt.Z)(N)))),typeof _e=="function"?_e={validator:_e}:_e=(0,se.Z)({},_e),_e.validator=ae.getValidationMethod(_e),_e.validator&&(_e.field=P,_e.fullField=_e.fullField||P,_e.type=ae.getType(_e),d[P]=d[P]||[],d[P].push({rule:_e,value:N,source:lt,field:P}))})});var E={};return li(d,tn,function(P,k){var N=P.rule,K=(N.type==="object"||N.type==="array")&&((0,Bt.Z)(N.fields)==="object"||(0,Bt.Z)(N.defaultField)==="object");K=K&&(N.required||!N.required&&P.value),N.field=P.field;function _e(Ut,Bn){return(0,se.Z)((0,se.Z)({},Bn),{},{fullField:"".concat(N.fullField,".").concat(Ut),fullFields:N.fullFields?[].concat((0,J.Z)(N.fullFields),[Ut]):[Ut]})}function Ee(){var Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Bn=Array.isArray(Ut)?Ut:[Ut];!tn.suppressWarning&&Bn.length&&$e.warning("async-validator:",Bn),Bn.length&&N.message!==void 0&&(Bn=[].concat(N.message));var Si=Bn.map(Ei(N,lt));if(tn.first&&Si.length)return E[N.field]=1,k(Si);if(!K)k(Si);else{if(N.required&&!P.value)return N.message!==void 0?Si=[].concat(N.message).map(Ei(N,lt)):tn.error&&(Si=[tn.error(N,zt(tn.messages.required,N.field))]),k(Si);var _r={};N.defaultField&&Object.keys(P.value).map(function(Qs){_r[Qs]=N.defaultField}),_r=(0,se.Z)((0,se.Z)({},_r),P.rule.fields);var Br={};Object.keys(_r).forEach(function(Qs){var Ys=_r[Qs],Ga=Array.isArray(Ys)?Ys:[Ys];Br[Qs]=Ga.map(_e.bind(null,Qs))});var fo=new $e(Br);fo.messages(tn.messages),P.rule.options&&(P.rule.options.messages=tn.messages,P.rule.options.error=tn.error),fo.validate(P.value,P.rule.options||tn,function(Qs){var Ys=[];Si&&Si.length&&Ys.push.apply(Ys,(0,J.Z)(Si)),Qs&&Qs.length&&Ys.push.apply(Ys,(0,J.Z)(Qs)),k(Ys.length?Ys:null)})}}var it;if(N.asyncValidator)it=N.asyncValidator(N,P.value,Ee,P.source,tn);else if(N.validator){try{it=N.validator(N,P.value,Ee,P.source,tn)}catch(Ut){var Ht,gn;(Ht=(gn=console).error)===null||Ht===void 0||Ht.call(gn,Ut),tn.suppressValidatorError||setTimeout(function(){throw Ut},0),Ee(Ut.message)}it===!0?Ee():it===!1?Ee(typeof N.message=="function"?N.message(N.fullField||N.field):N.message||"".concat(N.fullField||N.field," fails")):it instanceof Array?Ee(it):it instanceof Error&&Ee(it.message)}it&&it.then&&it.then(function(){return Ee()},function(Ut){return Ee(Ut)})},function(P){Hn(P)},lt)}},{key:"getType",value:function(H){if(H.type===void 0&&H.pattern instanceof RegExp&&(H.type="pattern"),typeof H.validator!="function"&&H.type&&!or.hasOwnProperty(H.type))throw new Error(zt("Unknown rule type %s",H.type));return H.type||"string"}},{key:"getValidationMethod",value:function(H){if(typeof H.validator=="function")return H.validator;var ae=Object.keys(H),Q=ae.indexOf("message");return Q!==-1&&ae.splice(Q,1),ae.length===1&&ae[0]==="required"?or.required:or[this.getType(H)]||void 0}}]),$e}();(0,ye.Z)(Gr,"register",function(Y,H){if(typeof H!="function")throw new Error("Cannot register a validator by type, validator is not a function");or[Y]=H}),(0,ye.Z)(Gr,"warning",Le),(0,ye.Z)(Gr,"messages",Fe),(0,ye.Z)(Gr,"validators",or);var Nr=Gr,Xi="'${name}' is not a valid ${type}",Zr={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Xi,method:Xi,array:Xi,object:Xi,number:Xi,date:Xi,boolean:Xi,integer:Xi,float:Xi,regexp:Xi,email:Xi,url:Xi,hex:Xi},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},cs=M(30270),zr=Nr;function io($e,Y){return $e.replace(/\\?\$\{\w+\}/g,function(H){if(H.startsWith("\\"))return H.slice(1);var ae=H.slice(2,-1);return Y[ae]})}var Ts="CODE_LOGIC_ERROR";function Ns($e,Y,H,ae,Q){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,Pe.Z)((0,ie.Z)().mark(function $e(Y,H,ae,Q,Ze){var lt,tn,_n,Hn,dn,d,y,E,P;return(0,ie.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return lt=(0,se.Z)({},ae),delete lt.ruleIndex,zr.warning=function(){},lt.validator&&(tn=lt.validator,lt.validator=function(){try{return tn.apply(void 0,arguments)}catch(K){return console.error(K),Promise.reject(Ts)}}),_n=null,lt&&lt.type==="array"&&lt.defaultField&&(_n=lt.defaultField,delete lt.defaultField),Hn=new zr((0,ye.Z)({},Y,[lt])),dn=(0,cs.T)(Zr,Q.validateMessages),Hn.messages(dn),d=[],N.prev=10,N.next=13,Promise.resolve(Hn.validate((0,ye.Z)({},Y,H),(0,se.Z)({},Q)));case 13:N.next=18;break;case 15:N.prev=15,N.t0=N.catch(10),N.t0.errors&&(d=N.t0.errors.map(function(K,_e){var Ee=K.message,it=Ee===Ts?dn.default:Ee;return a.isValidElement(it)?a.cloneElement(it,{key:"error_".concat(_e)}):it}));case 18:if(!(!d.length&&_n)){N.next=23;break}return N.next=21,Promise.all(H.map(function(K,_e){return Ns("".concat(Y,".").concat(_e),K,_n,Q,Ze)}));case 21:return y=N.sent,N.abrupt("return",y.reduce(function(K,_e){return[].concat((0,J.Z)(K),(0,J.Z)(_e))},[]));case 23:return E=(0,se.Z)((0,se.Z)({},ae),{},{name:Y,enum:(ae.enum||[]).join(", ")},Ze),P=d.map(function(K){return typeof K=="string"?io(K,E):K}),N.abrupt("return",P);case 26:case"end":return N.stop()}},$e,null,[[10,15]])})),Fo.apply(this,arguments)}function Ao($e,Y,H,ae,Q,Ze){var lt=$e.join("."),tn=H.map(function(dn,d){var y=dn.validator,E=(0,se.Z)((0,se.Z)({},dn),{},{ruleIndex:d});return y&&(E.validator=function(P,k,N){var K=!1,_e=function(){for(var Ht=arguments.length,gn=new Array(Ht),Ut=0;Ut<Ht;Ut++)gn[Ut]=arguments[Ut];Promise.resolve().then(function(){(0,Ye.ZP)(!K,"Your validator function has already return a promise. `callback` will be ignored."),K||N.apply(void 0,gn)})},Ee=y(P,k,_e);K=Ee&&typeof Ee.then=="function"&&typeof Ee.catch=="function",(0,Ye.ZP)(K,"`callback` is deprecated. Please return a promise instead."),K&&Ee.then(function(){N()}).catch(function(it){N(it||" ")})}),E}).sort(function(dn,d){var y=dn.warningOnly,E=dn.ruleIndex,P=d.warningOnly,k=d.ruleIndex;return!!y==!!P?E-k:y?1:-1}),_n;if(Q===!0)_n=new Promise(function(){var dn=(0,Pe.Z)((0,ie.Z)().mark(function d(y,E){var P,k,N;return(0,ie.Z)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:P=0;case 1:if(!(P<tn.length)){_e.next=12;break}return k=tn[P],_e.next=5,Ns(lt,Y,k,ae,Ze);case 5:if(N=_e.sent,!N.length){_e.next=9;break}return E([{errors:N,rule:k}]),_e.abrupt("return");case 9:P+=1,_e.next=1;break;case 12:y([]);case 13:case"end":return _e.stop()}},d)}));return function(d,y){return dn.apply(this,arguments)}}());else{var Hn=tn.map(function(dn){return Ns(lt,Y,dn,ae,Ze).then(function(d){return{errors:d,rule:dn}})});_n=(Q?ua(Hn):Po(Hn)).then(function(dn){return Promise.reject(dn)})}return _n.catch(function(dn){return dn}),_n}function Po($e){return ro.apply(this,arguments)}function ro(){return ro=(0,Pe.Z)((0,ie.Z)().mark(function $e(Y){return(0,ie.Z)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.abrupt("return",Promise.all(Y).then(function(Q){var Ze,lt=(Ze=[]).concat.apply(Ze,(0,J.Z)(Q));return lt}));case 1:case"end":return ae.stop()}},$e)})),ro.apply(this,arguments)}function ua($e){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,Pe.Z)((0,ie.Z)().mark(function $e(Y){var H;return(0,ie.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return H=0,Q.abrupt("return",new Promise(function(Ze){Y.forEach(function(lt){lt.then(function(tn){tn.errors.length&&Ze([tn]),H+=1,H===Y.length&&Ze([])})})}));case 2:case"end":return Q.stop()}},$e)})),Mo.apply(this,arguments)}var Bs=M(19091);function Fs($e){return Rt($e)}function Bo($e,Y){var H={};return Y.forEach(function(ae){var Q=(0,Bs.Z)($e,ae);H=(0,cs.Z)(H,ae,Q)}),H}function bo($e,Y){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return $e&&$e.some(function(ae){return $r(Y,ae,H)})}function $r($e,Y){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!$e||!Y||!H&&$e.length!==Y.length?!1:Y.every(function(ae,Q){return $e[Q]===ae})}function So($e,Y){if($e===Y)return!0;if(!$e&&Y||$e&&!Y||!$e||!Y||(0,Bt.Z)($e)!=="object"||(0,Bt.Z)(Y)!=="object")return!1;var H=Object.keys($e),ae=Object.keys(Y),Q=new Set([].concat(H,ae));return(0,J.Z)(Q).every(function(Ze){var lt=$e[Ze],tn=Y[Ze];return typeof lt=="function"&&typeof tn=="function"?!0:lt===tn})}function so($e){var Y=arguments.length<=1?void 0:arguments[1];return Y&&Y.target&&(0,Bt.Z)(Y.target)==="object"&&$e in Y.target?Y.target[$e]:Y}function mo($e,Y,H){var ae=$e.length;if(Y<0||Y>=ae||H<0||H>=ae)return $e;var Q=$e[Y],Ze=Y-H;return Ze>0?[].concat((0,J.Z)($e.slice(0,H)),[Q],(0,J.Z)($e.slice(H,Y)),(0,J.Z)($e.slice(Y+1,ae))):Ze<0?[].concat((0,J.Z)($e.slice(0,Y)),(0,J.Z)($e.slice(Y+1,H+1)),[Q],(0,J.Z)($e.slice(H+1,ae))):$e}var Us=["name"],ds=[];function Oo($e,Y,H,ae,Q,Ze){return typeof $e=="function"?$e(Y,H,"source"in Ze?{source:Ze.source}:{}):ae!==Q}var Co=function($e){(0,tt.Z)(H,$e);var Y=(0,Be.Z)(H);function H(ae){var Q;if((0,oe.Z)(this,H),Q=Y.call(this,ae),(0,ye.Z)((0,Me.Z)(Q),"state",{resetCount:0}),(0,ye.Z)((0,Me.Z)(Q),"cancelRegisterFunc",null),(0,ye.Z)((0,Me.Z)(Q),"mounted",!1),(0,ye.Z)((0,Me.Z)(Q),"touched",!1),(0,ye.Z)((0,Me.Z)(Q),"dirty",!1),(0,ye.Z)((0,Me.Z)(Q),"validatePromise",void 0),(0,ye.Z)((0,Me.Z)(Q),"prevValidating",void 0),(0,ye.Z)((0,Me.Z)(Q),"errors",ds),(0,ye.Z)((0,Me.Z)(Q),"warnings",ds),(0,ye.Z)((0,Me.Z)(Q),"cancelRegister",function(){var _n=Q.props,Hn=_n.preserve,dn=_n.isListField,d=_n.name;Q.cancelRegisterFunc&&Q.cancelRegisterFunc(dn,Hn,Fs(d)),Q.cancelRegisterFunc=null}),(0,ye.Z)((0,Me.Z)(Q),"getNamePath",function(){var _n=Q.props,Hn=_n.name,dn=_n.fieldContext,d=dn.prefixName,y=d===void 0?[]:d;return Hn!==void 0?[].concat((0,J.Z)(y),(0,J.Z)(Hn)):[]}),(0,ye.Z)((0,Me.Z)(Q),"getRules",function(){var _n=Q.props,Hn=_n.rules,dn=Hn===void 0?[]:Hn,d=_n.fieldContext;return dn.map(function(y){return typeof y=="function"?y(d):y})}),(0,ye.Z)((0,Me.Z)(Q),"refresh",function(){Q.mounted&&Q.setState(function(_n){var Hn=_n.resetCount;return{resetCount:Hn+1}})}),(0,ye.Z)((0,Me.Z)(Q),"metaCache",null),(0,ye.Z)((0,Me.Z)(Q),"triggerMetaEvent",function(_n){var Hn=Q.props.onMetaChange;if(Hn){var dn=(0,se.Z)((0,se.Z)({},Q.getMeta()),{},{destroy:_n});(0,qe.Z)(Q.metaCache,dn)||Hn(dn),Q.metaCache=dn}else Q.metaCache=null}),(0,ye.Z)((0,Me.Z)(Q),"onStoreChange",function(_n,Hn,dn){var d=Q.props,y=d.shouldUpdate,E=d.dependencies,P=E===void 0?[]:E,k=d.onReset,N=dn.store,K=Q.getNamePath(),_e=Q.getValue(_n),Ee=Q.getValue(N),it=Hn&&bo(Hn,K);switch(dn.type==="valueUpdate"&&dn.source==="external"&&!(0,qe.Z)(_e,Ee)&&(Q.touched=!0,Q.dirty=!0,Q.validatePromise=null,Q.errors=ds,Q.warnings=ds,Q.triggerMetaEvent()),dn.type){case"reset":if(!Hn||it){Q.touched=!1,Q.dirty=!1,Q.validatePromise=void 0,Q.errors=ds,Q.warnings=ds,Q.triggerMetaEvent(),k==null||k(),Q.refresh();return}break;case"remove":{if(y&&Oo(y,_n,N,_e,Ee,dn)){Q.reRender();return}break}case"setField":{var Ht=dn.data;if(it){"touched"in Ht&&(Q.touched=Ht.touched),"validating"in Ht&&!("originRCField"in Ht)&&(Q.validatePromise=Ht.validating?Promise.resolve([]):null),"errors"in Ht&&(Q.errors=Ht.errors||ds),"warnings"in Ht&&(Q.warnings=Ht.warnings||ds),Q.dirty=!0,Q.triggerMetaEvent(),Q.reRender();return}else if("value"in Ht&&bo(Hn,K,!0)){Q.reRender();return}if(y&&!K.length&&Oo(y,_n,N,_e,Ee,dn)){Q.reRender();return}break}case"dependenciesUpdate":{var gn=P.map(Fs);if(gn.some(function(Ut){return bo(dn.relatedFields,Ut)})){Q.reRender();return}break}default:if(it||(!P.length||K.length||y)&&Oo(y,_n,N,_e,Ee,dn)){Q.reRender();return}break}y===!0&&Q.reRender()}),(0,ye.Z)((0,Me.Z)(Q),"validateRules",function(_n){var Hn=Q.getNamePath(),dn=Q.getValue(),d=_n||{},y=d.triggerName,E=d.validateOnly,P=E===void 0?!1:E,k=Promise.resolve().then((0,Pe.Z)((0,ie.Z)().mark(function N(){var K,_e,Ee,it,Ht,gn,Ut;return(0,ie.Z)().wrap(function(Si){for(;;)switch(Si.prev=Si.next){case 0:if(Q.mounted){Si.next=2;break}return Si.abrupt("return",[]);case 2:if(K=Q.props,_e=K.validateFirst,Ee=_e===void 0?!1:_e,it=K.messageVariables,Ht=K.validateDebounce,gn=Q.getRules(),y&&(gn=gn.filter(function(_r){return _r}).filter(function(_r){var Br=_r.validateTrigger;if(!Br)return!0;var fo=Rt(Br);return fo.includes(y)})),!(Ht&&y)){Si.next=10;break}return Si.next=8,new Promise(function(_r){setTimeout(_r,Ht)});case 8:if(Q.validatePromise===k){Si.next=10;break}return Si.abrupt("return",[]);case 10:return Ut=Ao(Hn,dn,gn,_n,Ee,it),Ut.catch(function(_r){return _r}).then(function(){var _r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ds;if(Q.validatePromise===k){var Br;Q.validatePromise=null;var fo=[],Qs=[];(Br=_r.forEach)===null||Br===void 0||Br.call(_r,function(Ys){var Ga=Ys.rule.warningOnly,j=Ys.errors,we=j===void 0?ds:j;Ga?Qs.push.apply(Qs,(0,J.Z)(we)):fo.push.apply(fo,(0,J.Z)(we))}),Q.errors=fo,Q.warnings=Qs,Q.triggerMetaEvent(),Q.reRender()}}),Si.abrupt("return",Ut);case 13:case"end":return Si.stop()}},N)})));return P||(Q.validatePromise=k,Q.dirty=!0,Q.errors=ds,Q.warnings=ds,Q.triggerMetaEvent(),Q.reRender()),k}),(0,ye.Z)((0,Me.Z)(Q),"isFieldValidating",function(){return!!Q.validatePromise}),(0,ye.Z)((0,Me.Z)(Q),"isFieldTouched",function(){return Q.touched}),(0,ye.Z)((0,Me.Z)(Q),"isFieldDirty",function(){if(Q.dirty||Q.props.initialValue!==void 0)return!0;var _n=Q.props.fieldContext,Hn=_n.getInternalHooks(vt),dn=Hn.getInitialValue;return dn(Q.getNamePath())!==void 0}),(0,ye.Z)((0,Me.Z)(Q),"getErrors",function(){return Q.errors}),(0,ye.Z)((0,Me.Z)(Q),"getWarnings",function(){return Q.warnings}),(0,ye.Z)((0,Me.Z)(Q),"isListField",function(){return Q.props.isListField}),(0,ye.Z)((0,Me.Z)(Q),"isList",function(){return Q.props.isList}),(0,ye.Z)((0,Me.Z)(Q),"isPreserve",function(){return Q.props.preserve}),(0,ye.Z)((0,Me.Z)(Q),"getMeta",function(){Q.prevValidating=Q.isFieldValidating();var _n={touched:Q.isFieldTouched(),validating:Q.prevValidating,errors:Q.errors,warnings:Q.warnings,name:Q.getNamePath(),validated:Q.validatePromise===null};return _n}),(0,ye.Z)((0,Me.Z)(Q),"getOnlyChild",function(_n){if(typeof _n=="function"){var Hn=Q.getMeta();return(0,se.Z)((0,se.Z)({},Q.getOnlyChild(_n(Q.getControlled(),Hn,Q.props.fieldContext))),{},{isFunction:!0})}var dn=(0,$t.Z)(_n);return dn.length!==1||!a.isValidElement(dn[0])?{child:dn,isFunction:!1}:{child:dn[0],isFunction:!1}}),(0,ye.Z)((0,Me.Z)(Q),"getValue",function(_n){var Hn=Q.props.fieldContext.getFieldsValue,dn=Q.getNamePath();return(0,Bs.Z)(_n||Hn(!0),dn)}),(0,ye.Z)((0,Me.Z)(Q),"getControlled",function(){var _n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Hn=Q.props,dn=Hn.name,d=Hn.trigger,y=Hn.validateTrigger,E=Hn.getValueFromEvent,P=Hn.normalize,k=Hn.valuePropName,N=Hn.getValueProps,K=Hn.fieldContext,_e=y!==void 0?y:K.validateTrigger,Ee=Q.getNamePath(),it=K.getInternalHooks,Ht=K.getFieldsValue,gn=it(vt),Ut=gn.dispatch,Bn=Q.getValue(),Si=N||function(Ys){return(0,ye.Z)({},k,Ys)},_r=_n[d],Br=dn!==void 0?Si(Bn):{},fo=(0,se.Z)((0,se.Z)({},_n),Br);fo[d]=function(){Q.touched=!0,Q.dirty=!0,Q.triggerMetaEvent();for(var Ys,Ga=arguments.length,j=new Array(Ga),we=0;we<Ga;we++)j[we]=arguments[we];E?Ys=E.apply(void 0,j):Ys=so.apply(void 0,[k].concat(j)),P&&(Ys=P(Ys,Bn,Ht(!0))),Ys!==Bn&&Ut({type:"updateValue",namePath:Ee,value:Ys}),_r&&_r.apply(void 0,j)};var Qs=Rt(_e||[]);return Qs.forEach(function(Ys){var Ga=fo[Ys];fo[Ys]=function(){Ga&&Ga.apply(void 0,arguments);var j=Q.props.rules;j&&j.length&&Ut({type:"validateField",namePath:Ee,triggerName:Ys})}}),fo}),ae.fieldContext){var Ze=ae.fieldContext.getInternalHooks,lt=Ze(vt),tn=lt.initEntityValue;tn((0,Me.Z)(Q))}return Q}return(0,fe.Z)(H,[{key:"componentDidMount",value:function(){var Q=this.props,Ze=Q.shouldUpdate,lt=Q.fieldContext;if(this.mounted=!0,lt){var tn=lt.getInternalHooks,_n=tn(vt),Hn=_n.registerField;this.cancelRegisterFunc=Hn(this)}Ze===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var Q=this.state.resetCount,Ze=this.props.children,lt=this.getOnlyChild(Ze),tn=lt.child,_n=lt.isFunction,Hn;return _n?Hn=tn:a.isValidElement(tn)?Hn=a.cloneElement(tn,this.getControlled(tn.props)):((0,Ye.ZP)(!tn,"`children` of Field is not validate ReactElement."),Hn=tn),a.createElement(a.Fragment,{key:Q},Hn)}}]),H}(a.Component);(0,ye.Z)(Co,"contextType",xt),(0,ye.Z)(Co,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Fr($e){var Y,H=$e.name,ae=(0,z.Z)($e,Us),Q=a.useContext(xt),Ze=a.useContext(re),lt=H!==void 0?Fs(H):void 0,tn=(Y=ae.isListField)!==null&&Y!==void 0?Y:!!Ze,_n="keep";return tn||(_n="_".concat((lt||[]).join("_"))),a.createElement(Co,(0,W.Z)({key:_n,name:lt,isListField:tn},ae,{fieldContext:Q}))}var vo=Fr;function _a($e){var Y=$e.name,H=$e.initialValue,ae=$e.children,Q=$e.rules,Ze=$e.validateTrigger,lt=$e.isListField,tn=a.useContext(xt),_n=a.useContext(re),Hn=a.useRef({keys:[],id:0}),dn=Hn.current,d=a.useMemo(function(){var k=Fs(tn.prefixName)||[];return[].concat((0,J.Z)(k),(0,J.Z)(Fs(Y)))},[tn.prefixName,Y]),y=a.useMemo(function(){return(0,se.Z)((0,se.Z)({},tn),{},{prefixName:d})},[tn,d]),E=a.useMemo(function(){return{getKey:function(N){var K=d.length,_e=N[K];return[dn.keys[_e],N.slice(K+1)]}}},[d]);if(typeof ae!="function")return(0,Ye.ZP)(!1,"Form.List only accepts function as children."),null;var P=function(N,K,_e){var Ee=_e.source;return Ee==="internal"?!1:N!==K};return a.createElement(re.Provider,{value:E},a.createElement(xt.Provider,{value:y},a.createElement(vo,{name:[],shouldUpdate:P,rules:Q,validateTrigger:Ze,initialValue:H,isList:!0,isListField:lt!=null?lt:!!_n},function(k,N){var K=k.value,_e=K===void 0?[]:K,Ee=k.onChange,it=tn.getFieldValue,Ht=function(){var Si=it(d||[]);return Si||[]},gn={add:function(Si,_r){var Br=Ht();_r>=0&&_r<=Br.length?(dn.keys=[].concat((0,J.Z)(dn.keys.slice(0,_r)),[dn.id],(0,J.Z)(dn.keys.slice(_r))),Ee([].concat((0,J.Z)(Br.slice(0,_r)),[Si],(0,J.Z)(Br.slice(_r))))):(dn.keys=[].concat((0,J.Z)(dn.keys),[dn.id]),Ee([].concat((0,J.Z)(Br),[Si]))),dn.id+=1},remove:function(Si){var _r=Ht(),Br=new Set(Array.isArray(Si)?Si:[Si]);Br.size<=0||(dn.keys=dn.keys.filter(function(fo,Qs){return!Br.has(Qs)}),Ee(_r.filter(function(fo,Qs){return!Br.has(Qs)})))},move:function(Si,_r){if(Si!==_r){var Br=Ht();Si<0||Si>=Br.length||_r<0||_r>=Br.length||(dn.keys=mo(dn.keys,Si,_r),Ee(mo(Br,Si,_r)))}}},Ut=_e||[];return Array.isArray(Ut)||(Ut=[]),ae(Ut.map(function(Bn,Si){var _r=dn.keys[Si];return _r===void 0&&(dn.keys[Si]=dn.id,_r=dn.keys[Si],dn.id+=1),{name:Si,key:_r,isListField:!0}}),gn,N)})))}var bs=_a,Js=M(75611);function js($e){var Y=!1,H=$e.length,ae=[];return $e.length?new Promise(function(Q,Ze){$e.forEach(function(lt,tn){lt.catch(function(_n){return Y=!0,_n}).then(function(_n){H-=1,ae[tn]=_n,!(H>0)&&(Y&&Ze(ae),Q(ae))})})}):Promise.resolve([])}var os="__@field_split__";function hs($e){return $e.map(function(Y){return"".concat((0,Bt.Z)(Y),":").concat(Y)}).join(os)}var qr=function(){function $e(){(0,oe.Z)(this,$e),(0,ye.Z)(this,"kvs",new Map)}return(0,fe.Z)($e,[{key:"set",value:function(H,ae){this.kvs.set(hs(H),ae)}},{key:"get",value:function(H){return this.kvs.get(hs(H))}},{key:"update",value:function(H,ae){var Q=this.get(H),Ze=ae(Q);Ze?this.set(H,Ze):this.delete(H)}},{key:"delete",value:function(H){this.kvs.delete(hs(H))}},{key:"map",value:function(H){return(0,J.Z)(this.kvs.entries()).map(function(ae){var Q=(0,Js.Z)(ae,2),Ze=Q[0],lt=Q[1],tn=Ze.split(os);return H({key:tn.map(function(_n){var Hn=_n.match(/^([^:]*):(.*)$/),dn=(0,Js.Z)(Hn,3),d=dn[1],y=dn[2];return d==="number"?Number(y):y}),value:lt})})}},{key:"toJSON",value:function(){var H={};return this.map(function(ae){var Q=ae.key,Ze=ae.value;return H[Q.join(".")]=Ze,null}),H}}]),$e}(),fs=qr,oo=["name"],va=(0,fe.Z)(function $e(Y){var H=this;(0,oe.Z)(this,$e),(0,ye.Z)(this,"formHooked",!1),(0,ye.Z)(this,"forceRootUpdate",void 0),(0,ye.Z)(this,"subscribable",!0),(0,ye.Z)(this,"store",{}),(0,ye.Z)(this,"fieldEntities",[]),(0,ye.Z)(this,"initialValues",{}),(0,ye.Z)(this,"callbacks",{}),(0,ye.Z)(this,"validateMessages",null),(0,ye.Z)(this,"preserve",null),(0,ye.Z)(this,"lastValidatePromise",null),(0,ye.Z)(this,"getForm",function(){return{getFieldValue:H.getFieldValue,getFieldsValue:H.getFieldsValue,getFieldError:H.getFieldError,getFieldWarning:H.getFieldWarning,getFieldsError:H.getFieldsError,isFieldsTouched:H.isFieldsTouched,isFieldTouched:H.isFieldTouched,isFieldValidating:H.isFieldValidating,isFieldsValidating:H.isFieldsValidating,resetFields:H.resetFields,setFields:H.setFields,setFieldValue:H.setFieldValue,setFieldsValue:H.setFieldsValue,validateFields:H.validateFields,submit:H.submit,_init:!0,getInternalHooks:H.getInternalHooks}}),(0,ye.Z)(this,"getInternalHooks",function(ae){return ae===vt?(H.formHooked=!0,{dispatch:H.dispatch,initEntityValue:H.initEntityValue,registerField:H.registerField,useSubscribe:H.useSubscribe,setInitialValues:H.setInitialValues,destroyForm:H.destroyForm,setCallbacks:H.setCallbacks,setValidateMessages:H.setValidateMessages,getFields:H.getFields,setPreserve:H.setPreserve,getInitialValue:H.getInitialValue,registerWatch:H.registerWatch}):((0,Ye.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,ye.Z)(this,"useSubscribe",function(ae){H.subscribable=ae}),(0,ye.Z)(this,"prevWithoutPreserves",null),(0,ye.Z)(this,"setInitialValues",function(ae,Q){if(H.initialValues=ae||{},Q){var Ze,lt=(0,cs.T)(ae,H.store);(Ze=H.prevWithoutPreserves)===null||Ze===void 0||Ze.map(function(tn){var _n=tn.key;lt=(0,cs.Z)(lt,_n,(0,Bs.Z)(ae,_n))}),H.prevWithoutPreserves=null,H.updateStore(lt)}}),(0,ye.Z)(this,"destroyForm",function(ae){if(ae)H.updateStore({});else{var Q=new fs;H.getFieldEntities(!0).forEach(function(Ze){H.isMergedPreserve(Ze.isPreserve())||Q.set(Ze.getNamePath(),!0)}),H.prevWithoutPreserves=Q}}),(0,ye.Z)(this,"getInitialValue",function(ae){var Q=(0,Bs.Z)(H.initialValues,ae);return ae.length?(0,cs.T)(Q):Q}),(0,ye.Z)(this,"setCallbacks",function(ae){H.callbacks=ae}),(0,ye.Z)(this,"setValidateMessages",function(ae){H.validateMessages=ae}),(0,ye.Z)(this,"setPreserve",function(ae){H.preserve=ae}),(0,ye.Z)(this,"watchList",[]),(0,ye.Z)(this,"registerWatch",function(ae){return H.watchList.push(ae),function(){H.watchList=H.watchList.filter(function(Q){return Q!==ae})}}),(0,ye.Z)(this,"notifyWatch",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(H.watchList.length){var Q=H.getFieldsValue(),Ze=H.getFieldsValue(!0);H.watchList.forEach(function(lt){lt(Q,Ze,ae)})}}),(0,ye.Z)(this,"timeoutId",null),(0,ye.Z)(this,"warningUnhooked",function(){}),(0,ye.Z)(this,"updateStore",function(ae){H.store=ae}),(0,ye.Z)(this,"getFieldEntities",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return ae?H.fieldEntities.filter(function(Q){return Q.getNamePath().length}):H.fieldEntities}),(0,ye.Z)(this,"getFieldsMap",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Q=new fs;return H.getFieldEntities(ae).forEach(function(Ze){var lt=Ze.getNamePath();Q.set(lt,Ze)}),Q}),(0,ye.Z)(this,"getFieldEntitiesForNamePathList",function(ae){if(!ae)return H.getFieldEntities(!0);var Q=H.getFieldsMap(!0);return ae.map(function(Ze){var lt=Fs(Ze);return Q.get(lt)||{INVALIDATE_NAME_PATH:Fs(Ze)}})}),(0,ye.Z)(this,"getFieldsValue",function(ae,Q){H.warningUnhooked();var Ze,lt,tn;if(ae===!0||Array.isArray(ae)?(Ze=ae,lt=Q):ae&&(0,Bt.Z)(ae)==="object"&&(tn=ae.strict,lt=ae.filter),Ze===!0&&!lt)return H.store;var _n=H.getFieldEntitiesForNamePathList(Array.isArray(Ze)?Ze:null),Hn=[];return _n.forEach(function(dn){var d,y,E="INVALIDATE_NAME_PATH"in dn?dn.INVALIDATE_NAME_PATH:dn.getNamePath();if(tn){var P,k;if((P=(k=dn).isList)!==null&&P!==void 0&&P.call(k))return}else if(!Ze&&(d=(y=dn).isListField)!==null&&d!==void 0&&d.call(y))return;if(!lt)Hn.push(E);else{var N="getMeta"in dn?dn.getMeta():null;lt(N)&&Hn.push(E)}}),Bo(H.store,Hn.map(Fs))}),(0,ye.Z)(this,"getFieldValue",function(ae){H.warningUnhooked();var Q=Fs(ae);return(0,Bs.Z)(H.store,Q)}),(0,ye.Z)(this,"getFieldsError",function(ae){H.warningUnhooked();var Q=H.getFieldEntitiesForNamePathList(ae);return Q.map(function(Ze,lt){return Ze&&!("INVALIDATE_NAME_PATH"in Ze)?{name:Ze.getNamePath(),errors:Ze.getErrors(),warnings:Ze.getWarnings()}:{name:Fs(ae[lt]),errors:[],warnings:[]}})}),(0,ye.Z)(this,"getFieldError",function(ae){H.warningUnhooked();var Q=Fs(ae),Ze=H.getFieldsError([Q])[0];return Ze.errors}),(0,ye.Z)(this,"getFieldWarning",function(ae){H.warningUnhooked();var Q=Fs(ae),Ze=H.getFieldsError([Q])[0];return Ze.warnings}),(0,ye.Z)(this,"isFieldsTouched",function(){H.warningUnhooked();for(var ae=arguments.length,Q=new Array(ae),Ze=0;Ze<ae;Ze++)Q[Ze]=arguments[Ze];var lt=Q[0],tn=Q[1],_n,Hn=!1;Q.length===0?_n=null:Q.length===1?Array.isArray(lt)?(_n=lt.map(Fs),Hn=!1):(_n=null,Hn=lt):(_n=lt.map(Fs),Hn=tn);var dn=H.getFieldEntities(!0),d=function(N){return N.isFieldTouched()};if(!_n)return Hn?dn.every(function(k){return d(k)||k.isList()}):dn.some(d);var y=new fs;_n.forEach(function(k){y.set(k,[])}),dn.forEach(function(k){var N=k.getNamePath();_n.forEach(function(K){K.every(function(_e,Ee){return N[Ee]===_e})&&y.update(K,function(_e){return[].concat((0,J.Z)(_e),[k])})})});var E=function(N){return N.some(d)},P=y.map(function(k){var N=k.value;return N});return Hn?P.every(E):P.some(E)}),(0,ye.Z)(this,"isFieldTouched",function(ae){return H.warningUnhooked(),H.isFieldsTouched([ae])}),(0,ye.Z)(this,"isFieldsValidating",function(ae){H.warningUnhooked();var Q=H.getFieldEntities();if(!ae)return Q.some(function(lt){return lt.isFieldValidating()});var Ze=ae.map(Fs);return Q.some(function(lt){var tn=lt.getNamePath();return bo(Ze,tn)&&lt.isFieldValidating()})}),(0,ye.Z)(this,"isFieldValidating",function(ae){return H.warningUnhooked(),H.isFieldsValidating([ae])}),(0,ye.Z)(this,"resetWithFieldInitialValue",function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=new fs,Ze=H.getFieldEntities(!0);Ze.forEach(function(_n){var Hn=_n.props.initialValue,dn=_n.getNamePath();if(Hn!==void 0){var d=Q.get(dn)||new Set;d.add({entity:_n,value:Hn}),Q.set(dn,d)}});var lt=function(Hn){Hn.forEach(function(dn){var d=dn.props.initialValue;if(d!==void 0){var y=dn.getNamePath(),E=H.getInitialValue(y);if(E!==void 0)(0,Ye.ZP)(!1,"Form already set 'initialValues' with path '".concat(y.join("."),"'. Field can not overwrite it."));else{var P=Q.get(y);if(P&&P.size>1)(0,Ye.ZP)(!1,"Multiple Field with path '".concat(y.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(P){var k=H.getFieldValue(y),N=dn.isListField();!N&&(!ae.skipExist||k===void 0)&&H.updateStore((0,cs.Z)(H.store,y,(0,J.Z)(P)[0].value))}}}})},tn;ae.entities?tn=ae.entities:ae.namePathList?(tn=[],ae.namePathList.forEach(function(_n){var Hn=Q.get(_n);if(Hn){var dn;(dn=tn).push.apply(dn,(0,J.Z)((0,J.Z)(Hn).map(function(d){return d.entity})))}})):tn=Ze,lt(tn)}),(0,ye.Z)(this,"resetFields",function(ae){H.warningUnhooked();var Q=H.store;if(!ae){H.updateStore((0,cs.T)(H.initialValues)),H.resetWithFieldInitialValue(),H.notifyObservers(Q,null,{type:"reset"}),H.notifyWatch();return}var Ze=ae.map(Fs);Ze.forEach(function(lt){var tn=H.getInitialValue(lt);H.updateStore((0,cs.Z)(H.store,lt,tn))}),H.resetWithFieldInitialValue({namePathList:Ze}),H.notifyObservers(Q,Ze,{type:"reset"}),H.notifyWatch(Ze)}),(0,ye.Z)(this,"setFields",function(ae){H.warningUnhooked();var Q=H.store,Ze=[];ae.forEach(function(lt){var tn=lt.name,_n=(0,z.Z)(lt,oo),Hn=Fs(tn);Ze.push(Hn),"value"in _n&&H.updateStore((0,cs.Z)(H.store,Hn,_n.value)),H.notifyObservers(Q,[Hn],{type:"setField",data:lt})}),H.notifyWatch(Ze)}),(0,ye.Z)(this,"getFields",function(){var ae=H.getFieldEntities(!0),Q=ae.map(function(Ze){var lt=Ze.getNamePath(),tn=Ze.getMeta(),_n=(0,se.Z)((0,se.Z)({},tn),{},{name:lt,value:H.getFieldValue(lt)});return Object.defineProperty(_n,"originRCField",{value:!0}),_n});return Q}),(0,ye.Z)(this,"initEntityValue",function(ae){var Q=ae.props.initialValue;if(Q!==void 0){var Ze=ae.getNamePath(),lt=(0,Bs.Z)(H.store,Ze);lt===void 0&&H.updateStore((0,cs.Z)(H.store,Ze,Q))}}),(0,ye.Z)(this,"isMergedPreserve",function(ae){var Q=ae!==void 0?ae:H.preserve;return Q!=null?Q:!0}),(0,ye.Z)(this,"registerField",function(ae){H.fieldEntities.push(ae);var Q=ae.getNamePath();if(H.notifyWatch([Q]),ae.props.initialValue!==void 0){var Ze=H.store;H.resetWithFieldInitialValue({entities:[ae],skipExist:!0}),H.notifyObservers(Ze,[ae.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(lt,tn){var _n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(H.fieldEntities=H.fieldEntities.filter(function(d){return d!==ae}),!H.isMergedPreserve(tn)&&(!lt||_n.length>1)){var Hn=lt?void 0:H.getInitialValue(Q);if(Q.length&&H.getFieldValue(Q)!==Hn&&H.fieldEntities.every(function(d){return!$r(d.getNamePath(),Q)})){var dn=H.store;H.updateStore((0,cs.Z)(dn,Q,Hn,!0)),H.notifyObservers(dn,[Q],{type:"remove"}),H.triggerDependenciesUpdate(dn,Q)}}H.notifyWatch([Q])}}),(0,ye.Z)(this,"dispatch",function(ae){switch(ae.type){case"updateValue":{var Q=ae.namePath,Ze=ae.value;H.updateValue(Q,Ze);break}case"validateField":{var lt=ae.namePath,tn=ae.triggerName;H.validateFields([lt],{triggerName:tn});break}default:}}),(0,ye.Z)(this,"notifyObservers",function(ae,Q,Ze){if(H.subscribable){var lt=(0,se.Z)((0,se.Z)({},Ze),{},{store:H.getFieldsValue(!0)});H.getFieldEntities().forEach(function(tn){var _n=tn.onStoreChange;_n(ae,Q,lt)})}else H.forceRootUpdate()}),(0,ye.Z)(this,"triggerDependenciesUpdate",function(ae,Q){var Ze=H.getDependencyChildrenFields(Q);return Ze.length&&H.validateFields(Ze),H.notifyObservers(ae,Ze,{type:"dependenciesUpdate",relatedFields:[Q].concat((0,J.Z)(Ze))}),Ze}),(0,ye.Z)(this,"updateValue",function(ae,Q){var Ze=Fs(ae),lt=H.store;H.updateStore((0,cs.Z)(H.store,Ze,Q)),H.notifyObservers(lt,[Ze],{type:"valueUpdate",source:"internal"}),H.notifyWatch([Ze]);var tn=H.triggerDependenciesUpdate(lt,Ze),_n=H.callbacks.onValuesChange;if(_n){var Hn=Bo(H.store,[Ze]);_n(Hn,H.getFieldsValue())}H.triggerOnFieldsChange([Ze].concat((0,J.Z)(tn)))}),(0,ye.Z)(this,"setFieldsValue",function(ae){H.warningUnhooked();var Q=H.store;if(ae){var Ze=(0,cs.T)(H.store,ae);H.updateStore(Ze)}H.notifyObservers(Q,null,{type:"valueUpdate",source:"external"}),H.notifyWatch()}),(0,ye.Z)(this,"setFieldValue",function(ae,Q){H.setFields([{name:ae,value:Q,errors:[],warnings:[]}])}),(0,ye.Z)(this,"getDependencyChildrenFields",function(ae){var Q=new Set,Ze=[],lt=new fs;H.getFieldEntities().forEach(function(_n){var Hn=_n.props.dependencies;(Hn||[]).forEach(function(dn){var d=Fs(dn);lt.update(d,function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return y.add(_n),y})})});var tn=function _n(Hn){var dn=lt.get(Hn)||new Set;dn.forEach(function(d){if(!Q.has(d)){Q.add(d);var y=d.getNamePath();d.isFieldDirty()&&y.length&&(Ze.push(y),_n(y))}})};return tn(ae),Ze}),(0,ye.Z)(this,"triggerOnFieldsChange",function(ae,Q){var Ze=H.callbacks.onFieldsChange;if(Ze){var lt=H.getFields();if(Q){var tn=new fs;Q.forEach(function(Hn){var dn=Hn.name,d=Hn.errors;tn.set(dn,d)}),lt.forEach(function(Hn){Hn.errors=tn.get(Hn.name)||Hn.errors})}var _n=lt.filter(function(Hn){var dn=Hn.name;return bo(ae,dn)});_n.length&&Ze(_n,lt)}}),(0,ye.Z)(this,"validateFields",function(ae,Q){H.warningUnhooked();var Ze,lt;Array.isArray(ae)||typeof ae=="string"||typeof Q=="string"?(Ze=ae,lt=Q):lt=ae;var tn=!!Ze,_n=tn?Ze.map(Fs):[],Hn=[],dn=String(Date.now()),d=new Set,y=lt||{},E=y.recursive,P=y.dirty;H.getFieldEntities(!0).forEach(function(_e){if(tn||_n.push(_e.getNamePath()),!(!_e.props.rules||!_e.props.rules.length)&&!(P&&!_e.isFieldDirty())){var Ee=_e.getNamePath();if(d.add(Ee.join(dn)),!tn||bo(_n,Ee,E)){var it=_e.validateRules((0,se.Z)({validateMessages:(0,se.Z)((0,se.Z)({},Zr),H.validateMessages)},lt));Hn.push(it.then(function(){return{name:Ee,errors:[],warnings:[]}}).catch(function(Ht){var gn,Ut=[],Bn=[];return(gn=Ht.forEach)===null||gn===void 0||gn.call(Ht,function(Si){var _r=Si.rule.warningOnly,Br=Si.errors;_r?Bn.push.apply(Bn,(0,J.Z)(Br)):Ut.push.apply(Ut,(0,J.Z)(Br))}),Ut.length?Promise.reject({name:Ee,errors:Ut,warnings:Bn}):{name:Ee,errors:Ut,warnings:Bn}}))}}});var k=js(Hn);H.lastValidatePromise=k,k.catch(function(_e){return _e}).then(function(_e){var Ee=_e.map(function(it){var Ht=it.name;return Ht});H.notifyObservers(H.store,Ee,{type:"validateFinish"}),H.triggerOnFieldsChange(Ee,_e)});var N=k.then(function(){return H.lastValidatePromise===k?Promise.resolve(H.getFieldsValue(_n)):Promise.reject([])}).catch(function(_e){var Ee=_e.filter(function(it){return it&&it.errors.length});return Promise.reject({values:H.getFieldsValue(_n),errorFields:Ee,outOfDate:H.lastValidatePromise!==k})});N.catch(function(_e){return _e});var K=_n.filter(function(_e){return d.has(_e.join(dn))});return H.triggerOnFieldsChange(K),N}),(0,ye.Z)(this,"submit",function(){H.warningUnhooked(),H.validateFields().then(function(ae){var Q=H.callbacks.onFinish;if(Q)try{Q(ae)}catch(Ze){console.error(Ze)}}).catch(function(ae){var Q=H.callbacks.onFinishFailed;Q&&Q(ae)})}),this.forceRootUpdate=Y});function qo($e){var Y=a.useRef(),H=a.useState({}),ae=(0,Js.Z)(H,2),Q=ae[1];if(!Y.current)if($e)Y.current=$e;else{var Ze=function(){Q({})},lt=new va(Ze);Y.current=lt.getForm()}return[Y.current]}var wa=qo,Ua=a.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Pa=function(Y){var H=Y.validateMessages,ae=Y.onFormChange,Q=Y.onFormFinish,Ze=Y.children,lt=a.useContext(Ua),tn=a.useRef({});return a.createElement(Ua.Provider,{value:(0,se.Z)((0,se.Z)({},lt),{},{validateMessages:(0,se.Z)((0,se.Z)({},lt.validateMessages),H),triggerFormChange:function(Hn,dn){ae&&ae(Hn,{changedFields:dn,forms:tn.current}),lt.triggerFormChange(Hn,dn)},triggerFormFinish:function(Hn,dn){Q&&Q(Hn,{values:dn,forms:tn.current}),lt.triggerFormFinish(Hn,dn)},registerForm:function(Hn,dn){Hn&&(tn.current=(0,se.Z)((0,se.Z)({},tn.current),{},(0,ye.Z)({},Hn,dn))),lt.registerForm(Hn,dn)},unregisterForm:function(Hn){var dn=(0,se.Z)({},tn.current);delete dn[Hn],tn.current=dn,lt.unregisterForm(Hn)}})},Ze)},Jr=Ua,fr=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],ai=function(Y,H){var ae=Y.name,Q=Y.initialValues,Ze=Y.fields,lt=Y.form,tn=Y.preserve,_n=Y.children,Hn=Y.component,dn=Hn===void 0?"form":Hn,d=Y.validateMessages,y=Y.validateTrigger,E=y===void 0?"onChange":y,P=Y.onValuesChange,k=Y.onFieldsChange,N=Y.onFinish,K=Y.onFinishFailed,_e=Y.clearOnDestroy,Ee=(0,z.Z)(Y,fr),it=a.useRef(null),Ht=a.useContext(Jr),gn=wa(lt),Ut=(0,Js.Z)(gn,1),Bn=Ut[0],Si=Bn.getInternalHooks(vt),_r=Si.useSubscribe,Br=Si.setInitialValues,fo=Si.setCallbacks,Qs=Si.setValidateMessages,Ys=Si.setPreserve,Ga=Si.destroyForm;a.useImperativeHandle(H,function(){return(0,se.Z)((0,se.Z)({},Bn),{},{nativeElement:it.current})}),a.useEffect(function(){return Ht.registerForm(ae,Bn),function(){Ht.unregisterForm(ae)}},[Ht,Bn,ae]),Qs((0,se.Z)((0,se.Z)({},Ht.validateMessages),d)),fo({onValuesChange:P,onFieldsChange:function(yn){if(Ht.triggerFormChange(ae,yn),k){for(var rr=arguments.length,Jn=new Array(rr>1?rr-1:0),Yi=1;Yi<rr;Yi++)Jn[Yi-1]=arguments[Yi];k.apply(void 0,[yn].concat(Jn))}},onFinish:function(yn){Ht.triggerFormFinish(ae,yn),N&&N(yn)},onFinishFailed:K}),Ys(tn);var j=a.useRef(null);Br(Q,!j.current),j.current||(j.current=!0),a.useEffect(function(){return function(){return Ga(_e)}},[]);var we,Je=typeof _n=="function";if(Je){var ht=Bn.getFieldsValue(!0);we=_n(ht,Bn)}else we=_n;_r(!Je);var Ft=a.useRef();a.useEffect(function(){So(Ft.current||[],Ze||[])||Bn.setFields(Ze||[]),Ft.current=Ze},[Ze,Bn]);var Ti=a.useMemo(function(){return(0,se.Z)((0,se.Z)({},Bn),{},{validateTrigger:E})},[Bn,E]),Ji=a.createElement(re.Provider,{value:null},a.createElement(xt.Provider,{value:Ti},we));return dn===!1?Ji:a.createElement(dn,(0,W.Z)({},Ee,{ref:it,onSubmit:function(yn){yn.preventDefault(),yn.stopPropagation(),Bn.submit()},onReset:function(yn){var rr;yn.preventDefault(),Bn.resetFields(),(rr=Ee.onReset)===null||rr===void 0||rr.call(Ee,yn)}}),Ji)},_s=ai;function Uo($e){try{return JSON.stringify($e)}catch(Y){return Math.random()}}var zo=function(){};function el(){for(var $e=arguments.length,Y=new Array($e),H=0;H<$e;H++)Y[H]=arguments[H];var ae=Y[0],Q=Y[1],Ze=Q===void 0?{}:Q,lt=T(Ze)?{form:Ze}:Ze,tn=lt.form,_n=(0,a.useState)(),Hn=(0,Js.Z)(_n,2),dn=Hn[0],d=Hn[1],y=(0,a.useMemo)(function(){return Uo(dn)},[dn]),E=(0,a.useRef)(y);E.current=y;var P=(0,a.useContext)(xt),k=tn||P,N=k&&k._init,K=Fs(ae),_e=(0,a.useRef)(K);return _e.current=K,zo(K),(0,a.useEffect)(function(){if(N){var Ee=k.getFieldsValue,it=k.getInternalHooks,Ht=it(vt),gn=Ht.registerWatch,Ut=function(Br,fo){var Qs=lt.preserve?fo:Br;return typeof ae=="function"?ae(Qs):(0,Bs.Z)(Qs,_e.current)},Bn=gn(function(_r,Br){var fo=Ut(_r,Br),Qs=Uo(fo);E.current!==Qs&&(E.current=Qs,d(fo))}),Si=Ut(Ee(),Ee(!0));return dn!==Si&&d(Si),Bn}},[N]),dn}var ws=el,za=a.forwardRef(_s),Ka=za;Ka.FormProvider=Pa,Ka.Field=vo,Ka.List=bs,Ka.useForm=wa,Ka.useWatch=ws;var Ma=null;const ya=a.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),ra=null,$a=$e=>{const Y=omit($e,["prefixCls"]);return React.createElement(RcFormProvider,Object.assign({},Y))},ll=a.createContext({prefixCls:""}),Jo=a.createContext({}),ba=$e=>{let{children:Y,status:H,override:ae}=$e;const Q=a.useContext(Jo),Ze=a.useMemo(()=>{const lt=Object.assign({},Q);return ae&&delete lt.isFormItemInput,H&&(delete lt.status,delete lt.hasFeedback,delete lt.feedbackIcon),lt},[H,ae,Q]);return a.createElement(Jo.Provider,{value:Ze},Y)},hl=a.createContext(void 0)},39480:function(ji,It,M){"use strict";var a=M(75271),W=M(64113),z=M(49376);const ie=function(Pe,se){let J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var oe,fe;const{variant:Me,[Pe]:tt}=a.useContext(z.E_),Be=a.useContext(W.pg),ye=tt==null?void 0:tt.variant;let $t;typeof se!="undefined"?$t=se:J===!1?$t="borderless":$t=(fe=(oe=Be!=null?Be:ye)!==null&&oe!==void 0?oe:Me)!==null&&fe!==void 0?fe:"outlined";const qe=z.tr.includes($t);return[$t,qe]};It.Z=ie},19391:function(ji,It,M){"use strict";var a=M(75271);const W=(0,a.createContext)({});It.Z=W},4470:function(ji,It,M){"use strict";M.d(It,{VM:function(){return tt},cG:function(){return ye},hd:function(){return Be}});var a=M(47424),W=M(46007),z=M(84458);const ie=$t=>{const{componentCls:qe}=$t;return{[qe]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Pe=$t=>{const{componentCls:qe}=$t;return{[qe]:{position:"relative",maxWidth:"100%",minHeight:1}}},se=($t,qe)=>{const{prefixCls:Ye,componentCls:vt,gridColumns:Oe}=$t,ee={};for(let xt=Oe;xt>=0;xt--)xt===0?(ee[`${vt}${qe}-${xt}`]={display:"none"},ee[`${vt}-push-${xt}`]={insetInlineStart:"auto"},ee[`${vt}-pull-${xt}`]={insetInlineEnd:"auto"},ee[`${vt}${qe}-push-${xt}`]={insetInlineStart:"auto"},ee[`${vt}${qe}-pull-${xt}`]={insetInlineEnd:"auto"},ee[`${vt}${qe}-offset-${xt}`]={marginInlineStart:0},ee[`${vt}${qe}-order-${xt}`]={order:0}):(ee[`${vt}${qe}-${xt}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${xt/Oe*100}%`,maxWidth:`${xt/Oe*100}%`}],ee[`${vt}${qe}-push-${xt}`]={insetInlineStart:`${xt/Oe*100}%`},ee[`${vt}${qe}-pull-${xt}`]={insetInlineEnd:`${xt/Oe*100}%`},ee[`${vt}${qe}-offset-${xt}`]={marginInlineStart:`${xt/Oe*100}%`},ee[`${vt}${qe}-order-${xt}`]={order:xt});return ee[`${vt}${qe}-flex`]={flex:`var(--${Ye}${qe}-flex)`},ee},J=($t,qe)=>se($t,qe),oe=($t,qe,Ye)=>({[`@media (min-width: ${(0,a.bf)(qe)})`]:Object.assign({},J($t,Ye))}),fe=()=>({}),Me=()=>({}),tt=(0,W.I$)("Grid",ie,fe),Be=$t=>({xs:$t.screenXSMin,sm:$t.screenSMMin,md:$t.screenMDMin,lg:$t.screenLGMin,xl:$t.screenXLMin,xxl:$t.screenXXLMin}),ye=(0,W.I$)("Grid",$t=>{const qe=(0,z.IX)($t,{gridColumns:24}),Ye=Be(qe);return delete Ye.xs,[Pe(qe),J(qe,""),J(qe,"-xs"),Object.keys(Ye).map(vt=>oe(qe,Ye[vt],`-${vt}`)).reduce((vt,Oe)=>Object.assign(Object.assign({},vt),Oe),{})]},Me)},69085:function(ji,It,M){"use strict";M.d(It,{Z:function(){return Tn}});var a=M(75271),W=M(83843),z=M(52003),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},Pe=ie,se=M(55969),J=function(Ae,nt){return a.createElement(se.Z,(0,z.Z)({},Ae,{ref:nt,icon:Pe}))},oe=a.forwardRef(J),fe=oe,Me=M(82187),tt=M.n(Me),Be=M(65213),ye=M(74826),$t=M(75611),qe=M(99960),Ye=M(34706),vt=M(89364);function Oe(){return typeof BigInt=="function"}function ee(ve){return!ve&&ve!==0&&!Number.isNaN(ve)||!String(ve).trim()}function xt(ve){var Ae=ve.trim(),nt=Ae.startsWith("-");nt&&(Ae=Ae.slice(1)),Ae=Ae.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),Ae.startsWith(".")&&(Ae="0".concat(Ae));var fn=Ae||"0",An=fn.split("."),oi=An[0]||"0",Wi=An[1]||"0";oi==="0"&&Wi==="0"&&(nt=!1);var Cr=nt?"-":"";return{negative:nt,negativeStr:Cr,trimStr:fn,integerStr:oi,decimalStr:Wi,fullStr:"".concat(Cr).concat(fn)}}function de(ve){var Ae=String(ve);return!Number.isNaN(Number(Ae))&&Ae.includes("e")}function re(ve){var Ae=String(ve);if(de(ve)){var nt=Number(Ae.slice(Ae.indexOf("e-")+2)),fn=Ae.match(/\.(\d+)/);return fn!=null&&fn[1]&&(nt+=fn[1].length),nt}return Ae.includes(".")&&T(Ae)?Ae.length-Ae.indexOf(".")-1:0}function Rt(ve){var Ae=String(ve);if(de(ve)){if(ve>Number.MAX_SAFE_INTEGER)return String(Oe()?BigInt(ve).toString():Number.MAX_SAFE_INTEGER);if(ve<Number.MIN_SAFE_INTEGER)return String(Oe()?BigInt(ve).toString():Number.MIN_SAFE_INTEGER);Ae=ve.toFixed(re(Ae))}return xt(Ae).fullStr}function T(ve){return typeof ve=="number"?!Number.isNaN(ve):ve?/^\s*-?\d+(\.\d+)?\s*$/.test(ve)||/^\s*-?\d+\.\s*$/.test(ve)||/^\s*-?\.\d+\s*$/.test(ve):!1}var Bt=function(){function ve(Ae){if((0,Ye.Z)(this,ve),(0,Be.Z)(this,"origin",""),(0,Be.Z)(this,"negative",void 0),(0,Be.Z)(this,"integer",void 0),(0,Be.Z)(this,"decimal",void 0),(0,Be.Z)(this,"decimalLen",void 0),(0,Be.Z)(this,"empty",void 0),(0,Be.Z)(this,"nan",void 0),ee(Ae)){this.empty=!0;return}if(this.origin=String(Ae),Ae==="-"||Number.isNaN(Ae)){this.nan=!0;return}var nt=Ae;if(de(nt)&&(nt=Number(nt)),nt=typeof nt=="string"?nt:Rt(nt),T(nt)){var fn=xt(nt);this.negative=fn.negative;var An=fn.trimStr.split(".");this.integer=BigInt(An[0]);var oi=An[1]||"0";this.decimal=BigInt(oi),this.decimalLen=oi.length}else this.nan=!0}return(0,vt.Z)(ve,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(nt){var fn="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(nt,"0"));return BigInt(fn)}},{key:"negate",value:function(){var nt=new ve(this.toString());return nt.negative=!nt.negative,nt}},{key:"cal",value:function(nt,fn,An){var oi=Math.max(this.getDecimalStr().length,nt.getDecimalStr().length),Wi=this.alignDecimal(oi),Cr=nt.alignDecimal(oi),Ur=fn(Wi,Cr).toString(),Lr=An(oi),Tr=xt(Ur),Dt=Tr.negativeStr,kn=Tr.trimStr,Xn="".concat(Dt).concat(kn.padStart(Lr+1,"0"));return new ve("".concat(Xn.slice(0,-Lr),".").concat(Xn.slice(-Lr)))}},{key:"add",value:function(nt){if(this.isInvalidate())return new ve(nt);var fn=new ve(nt);return fn.isInvalidate()?this:this.cal(fn,function(An,oi){return An+oi},function(An){return An})}},{key:"multi",value:function(nt){var fn=new ve(nt);return this.isInvalidate()||fn.isInvalidate()?new ve(NaN):this.cal(fn,function(An,oi){return An*oi},function(An){return An*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(nt){return this.toString()===(nt==null?void 0:nt.toString())}},{key:"lessEquals",value:function(nt){return this.add(nt.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return nt?this.isInvalidate()?"":xt("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),ve}(),He=function(){function ve(Ae){if((0,Ye.Z)(this,ve),(0,Be.Z)(this,"origin",""),(0,Be.Z)(this,"number",void 0),(0,Be.Z)(this,"empty",void 0),ee(Ae)){this.empty=!0;return}this.origin=String(Ae),this.number=Number(Ae)}return(0,vt.Z)(ve,[{key:"negate",value:function(){return new ve(-this.toNumber())}},{key:"add",value:function(nt){if(this.isInvalidate())return new ve(nt);var fn=Number(nt);if(Number.isNaN(fn))return this;var An=this.number+fn;if(An>Number.MAX_SAFE_INTEGER)return new ve(Number.MAX_SAFE_INTEGER);if(An<Number.MIN_SAFE_INTEGER)return new ve(Number.MIN_SAFE_INTEGER);var oi=Math.max(re(this.number),re(fn));return new ve(An.toFixed(oi))}},{key:"multi",value:function(nt){var fn=Number(nt);if(this.isInvalidate()||Number.isNaN(fn))return new ve(NaN);var An=this.number*fn;if(An>Number.MAX_SAFE_INTEGER)return new ve(Number.MAX_SAFE_INTEGER);if(An<Number.MIN_SAFE_INTEGER)return new ve(Number.MIN_SAFE_INTEGER);var oi=Math.max(re(this.number),re(fn));return new ve(An.toFixed(oi))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(nt){return this.toNumber()===(nt==null?void 0:nt.toNumber())}},{key:"lessEquals",value:function(nt){return this.add(nt.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return nt?this.isInvalidate()?"":Rt(this.number):this.origin}}]),ve}();function Fe(ve){return Oe()?new Bt(ve):new He(ve)}function Vt(ve,Ae,nt){var fn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(ve==="")return"";var An=xt(ve),oi=An.negativeStr,Wi=An.integerStr,Cr=An.decimalStr,Ur="".concat(Ae).concat(Cr),Lr="".concat(oi).concat(Wi);if(nt>=0){var Tr=Number(Cr[nt]);if(Tr>=5&&!fn){var Dt=Fe(ve).add("".concat(oi,"0.").concat("0".repeat(nt)).concat(10-Tr));return Vt(Dt.toString(),Ae,nt,fn)}return nt===0?Lr:"".concat(Lr).concat(Ae).concat(Cr.padEnd(nt,"0").slice(0,nt))}return Ur===".0"?Lr:"".concat(Lr).concat(Ur)}var _t=Fe,et=M(40407),Kt=M(46694);function wt(ve,Ae){return typeof Proxy!="undefined"&&ve?new Proxy(ve,{get:function(fn,An){if(Ae[An])return Ae[An];var oi=fn[An];return typeof oi=="function"?oi.bind(fn):oi}}):ve}var pt=M(94996),je=M(69287);function Ct(ve,Ae){var nt=(0,a.useRef)(null);function fn(){try{var oi=ve.selectionStart,Wi=ve.selectionEnd,Cr=ve.value,Ur=Cr.substring(0,oi),Lr=Cr.substring(Wi);nt.current={start:oi,end:Wi,value:Cr,beforeTxt:Ur,afterTxt:Lr}}catch(Tr){}}function An(){if(ve&&nt.current&&Ae)try{var oi=ve.value,Wi=nt.current,Cr=Wi.beforeTxt,Ur=Wi.afterTxt,Lr=Wi.start,Tr=oi.length;if(oi.startsWith(Cr))Tr=Cr.length;else if(oi.endsWith(Ur))Tr=oi.length-nt.current.afterTxt.length;else{var Dt=Cr[Lr-1],kn=oi.indexOf(Dt,Lr-1);kn!==-1&&(Tr=kn+1)}ve.setSelectionRange(Tr,Tr)}catch(Xn){(0,je.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(Xn.message))}}return[fn,An]}var Le=M(6286),st=function(){var Ae=(0,a.useState)(!1),nt=(0,$t.Z)(Ae,2),fn=nt[0],An=nt[1];return(0,Kt.Z)(function(){An((0,Le.Z)())},[]),fn},zt=st,Yt=M(99824),xn=200,Zn=600;function Yn(ve){var Ae=ve.prefixCls,nt=ve.upNode,fn=ve.downNode,An=ve.upDisabled,oi=ve.downDisabled,Wi=ve.onStep,Cr=a.useRef(),Ur=a.useRef([]),Lr=a.useRef();Lr.current=Wi;var Tr=function(){clearTimeout(Cr.current)},Dt=function(Nr,Xi){Nr.preventDefault(),Tr(),Lr.current(Xi);function Zr(){Lr.current(Xi),Cr.current=setTimeout(Zr,xn)}Cr.current=setTimeout(Zr,Zn)};a.useEffect(function(){return function(){Tr(),Ur.current.forEach(function(Gr){return Yt.Z.cancel(Gr)})}},[]);var kn=zt();if(kn)return null;var Xn="".concat(Ae,"-handler"),pn=tt()(Xn,"".concat(Xn,"-up"),(0,Be.Z)({},"".concat(Xn,"-up-disabled"),An)),ci=tt()(Xn,"".concat(Xn,"-down"),(0,Be.Z)({},"".concat(Xn,"-down-disabled"),oi)),ir=function(){return Ur.current.push((0,Yt.Z)(Tr))},or={unselectable:"on",role:"button",onMouseUp:ir,onMouseLeave:ir};return a.createElement("div",{className:"".concat(Xn,"-wrap")},a.createElement("span",(0,z.Z)({},or,{onMouseDown:function(Nr){Dt(Nr,!0)},"aria-label":"Increase Value","aria-disabled":An,className:pn}),nt||a.createElement("span",{unselectable:"on",className:"".concat(Ae,"-handler-up-inner")})),a.createElement("span",(0,z.Z)({},or,{onMouseDown:function(Nr){Dt(Nr,!1)},"aria-label":"Decrease Value","aria-disabled":oi,className:ci}),fn||a.createElement("span",{unselectable:"on",className:"".concat(Ae,"-handler-down-inner")})))}function Fn(ve){var Ae=typeof ve=="number"?Rt(ve):xt(ve).fullStr,nt=Ae.includes(".");return nt?xt(Ae.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:ve+"0"}var si=M(235),qi=function(){var ve=(0,a.useRef)(0),Ae=function(){Yt.Z.cancel(ve.current)};return(0,a.useEffect)(function(){return Ae},[]),function(nt){Ae(),ve.current=(0,Yt.Z)(function(){nt()})}},li=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],fi=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Oi=function(Ae,nt){return Ae||nt.isEmpty()?nt.toString():nt.toNumber()},Ei=function(Ae){var nt=_t(Ae);return nt.isInvalidate()?null:nt},Xt=a.forwardRef(function(ve,Ae){var nt=ve.prefixCls,fn=ve.className,An=ve.style,oi=ve.min,Wi=ve.max,Cr=ve.step,Ur=Cr===void 0?1:Cr,Lr=ve.defaultValue,Tr=ve.value,Dt=ve.disabled,kn=ve.readOnly,Xn=ve.upHandler,pn=ve.downHandler,ci=ve.keyboard,ir=ve.changeOnWheel,or=ir===void 0?!1:ir,Gr=ve.controls,Nr=Gr===void 0?!0:Gr,Xi=ve.classNames,Zr=ve.stringMode,cs=ve.parser,zr=ve.formatter,io=ve.precision,Ts=ve.decimalSeparator,Ns=ve.onChange,Fo=ve.onInput,Ao=ve.onPressEnter,Po=ve.onStep,ro=ve.changeOnBlur,ua=ro===void 0?!0:ro,Mo=ve.domRef,Bs=(0,qe.Z)(ve,li),Fs="".concat(nt,"-input"),Bo=a.useRef(null),bo=a.useState(!1),$r=(0,$t.Z)(bo,2),So=$r[0],so=$r[1],mo=a.useRef(!1),Us=a.useRef(!1),ds=a.useRef(!1),Oo=a.useState(function(){return _t(Tr!=null?Tr:Lr)}),Co=(0,$t.Z)(Oo,2),Fr=Co[0],vo=Co[1];function _a($e){Tr===void 0&&vo($e)}var bs=a.useCallback(function($e,Y){if(!Y)return io>=0?io:Math.max(re($e),re(Ur))},[io,Ur]),Js=a.useCallback(function($e){var Y=String($e);if(cs)return cs(Y);var H=Y;return Ts&&(H=H.replace(Ts,".")),H.replace(/[^\w.-]+/g,"")},[cs,Ts]),js=a.useRef(""),os=a.useCallback(function($e,Y){if(zr)return zr($e,{userTyping:Y,input:String(js.current)});var H=typeof $e=="number"?Rt($e):$e;if(!Y){var ae=bs(H,Y);if(T(H)&&(Ts||ae>=0)){var Q=Ts||".";H=Vt(H,Q,ae)}}return H},[zr,bs,Ts]),hs=a.useState(function(){var $e=Lr!=null?Lr:Tr;return Fr.isInvalidate()&&["string","number"].includes((0,ye.Z)($e))?Number.isNaN($e)?"":$e:os(Fr.toString(),!1)}),qr=(0,$t.Z)(hs,2),fs=qr[0],oo=qr[1];js.current=fs;function va($e,Y){oo(os($e.isInvalidate()?$e.toString(!1):$e.toString(!Y),Y))}var qo=a.useMemo(function(){return Ei(Wi)},[Wi,io]),wa=a.useMemo(function(){return Ei(oi)},[oi,io]),Ua=a.useMemo(function(){return!qo||!Fr||Fr.isInvalidate()?!1:qo.lessEquals(Fr)},[qo,Fr]),Pa=a.useMemo(function(){return!wa||!Fr||Fr.isInvalidate()?!1:Fr.lessEquals(wa)},[wa,Fr]),Jr=Ct(Bo.current,So),fr=(0,$t.Z)(Jr,2),ai=fr[0],_s=fr[1],Uo=function(Y){return qo&&!Y.lessEquals(qo)?qo:wa&&!wa.lessEquals(Y)?wa:null},zo=function(Y){return!Uo(Y)},el=function(Y,H){var ae=Y,Q=zo(ae)||ae.isEmpty();if(!ae.isEmpty()&&!H&&(ae=Uo(ae)||ae,Q=!0),!kn&&!Dt&&Q){var Ze=ae.toString(),lt=bs(Ze,H);return lt>=0&&(ae=_t(Vt(Ze,".",lt)),zo(ae)||(ae=_t(Vt(Ze,".",lt,!0)))),ae.equals(Fr)||(_a(ae),Ns==null||Ns(ae.isEmpty()?null:Oi(Zr,ae)),Tr===void 0&&va(ae,H)),ae}return Fr},ws=qi(),za=function $e(Y){if(ai(),js.current=Y,oo(Y),!Us.current){var H=Js(Y),ae=_t(H);ae.isNaN()||el(ae,!0)}Fo==null||Fo(Y),ws(function(){var Q=Y;cs||(Q=Y.replace(/。/g,".")),Q!==Y&&$e(Q)})},Ka=function(){Us.current=!0},Ma=function(){Us.current=!1,za(Bo.current.value)},ya=function(Y){za(Y.target.value)},ra=function(Y){var H;if(!(Y&&Ua||!Y&&Pa)){mo.current=!1;var ae=_t(ds.current?Fn(Ur):Ur);Y||(ae=ae.negate());var Q=(Fr||_t(0)).add(ae.toString()),Ze=el(Q,!1);Po==null||Po(Oi(Zr,Ze),{offset:ds.current?Fn(Ur):Ur,type:Y?"up":"down"}),(H=Bo.current)===null||H===void 0||H.focus()}},$a=function(Y){var H=_t(Js(fs)),ae;H.isNaN()?ae=el(Fr,Y):ae=el(H,Y),Tr!==void 0?va(Fr,!1):ae.isNaN()||va(ae,!1)},ll=function(){mo.current=!0},Jo=function(Y){var H=Y.key,ae=Y.shiftKey;mo.current=!0,ds.current=ae,H==="Enter"&&(Us.current||(mo.current=!1),$a(!1),Ao==null||Ao(Y)),ci!==!1&&!Us.current&&["Up","ArrowUp","Down","ArrowDown"].includes(H)&&(ra(H==="Up"||H==="ArrowUp"),Y.preventDefault())},ba=function(){mo.current=!1,ds.current=!1};a.useEffect(function(){if(or&&So){var $e=function(ae){ra(ae.deltaY<0),ae.preventDefault()},Y=Bo.current;if(Y)return Y.addEventListener("wheel",$e,{passive:!1}),function(){return Y.removeEventListener("wheel",$e)}}});var hl=function(){ua&&$a(!1),so(!1),mo.current=!1};return(0,Kt.o)(function(){Fr.isInvalidate()||va(Fr,!1)},[io,zr]),(0,Kt.o)(function(){var $e=_t(Tr);vo($e);var Y=_t(Js(fs));(!$e.equals(Y)||!mo.current||zr)&&va($e,mo.current)},[Tr]),(0,Kt.o)(function(){zr&&_s()},[fs]),a.createElement("div",{ref:Mo,className:tt()(nt,fn,(0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)((0,Be.Z)({},"".concat(nt,"-focused"),So),"".concat(nt,"-disabled"),Dt),"".concat(nt,"-readonly"),kn),"".concat(nt,"-not-a-number"),Fr.isNaN()),"".concat(nt,"-out-of-range"),!Fr.isInvalidate()&&!zo(Fr))),style:An,onFocus:function(){so(!0)},onBlur:hl,onKeyDown:Jo,onKeyUp:ba,onCompositionStart:Ka,onCompositionEnd:Ma,onBeforeInput:ll},Nr&&a.createElement(Yn,{prefixCls:nt,upNode:Xn,downNode:pn,upDisabled:Ua,downDisabled:Pa,onStep:ra}),a.createElement("div",{className:"".concat(Fs,"-wrap")},a.createElement("input",(0,z.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":oi,"aria-valuemax":Wi,"aria-valuenow":Fr.isInvalidate()?null:Fr.toString(),step:Ur},Bs,{ref:(0,pt.sQ)(Bo,Ae),className:Fs,value:fs,onChange:ya,disabled:Dt,readOnly:kn}))))}),rt=a.forwardRef(function(ve,Ae){var nt=ve.disabled,fn=ve.style,An=ve.prefixCls,oi=An===void 0?"rc-input-number":An,Wi=ve.value,Cr=ve.prefix,Ur=ve.suffix,Lr=ve.addonBefore,Tr=ve.addonAfter,Dt=ve.className,kn=ve.classNames,Xn=(0,qe.Z)(ve,fi),pn=a.useRef(null),ci=a.useRef(null),ir=a.useRef(null),or=function(Nr){ir.current&&(0,si.nH)(ir.current,Nr)};return a.useImperativeHandle(Ae,function(){return wt(ir.current,{focus:or,nativeElement:pn.current.nativeElement||ci.current})}),a.createElement(et.Q,{className:Dt,triggerFocus:or,prefixCls:oi,value:Wi,disabled:nt,style:fn,prefix:Cr,suffix:Ur,addonAfter:Tr,addonBefore:Lr,classNames:kn,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:pn},a.createElement(Xt,(0,z.Z)({prefixCls:oi,disabled:nt,ref:ir,domRef:ci,className:kn==null?void 0:kn.input},Xn)))}),Pt=rt,bn=Pt,di=M(93291),en=M(79848),vr=M(49376),Er=M(60349),tr=M(91207),er=M(7821),Ui=M(57350),Et=M(64113),vn=M(39480),Mn=M(10111),gi=M(47424),$i=M(87936),hr=M(49032),Es=M(32004),vi=M(64336),Ot=M(94550),kt=M(46007),cn=M(84458),pi=M(84432);const nr=ve=>{var Ae;const nt=(Ae=ve.handleVisible)!==null&&Ae!==void 0?Ae:"auto",fn=ve.controlHeightSM-ve.lineWidth*2;return Object.assign(Object.assign({},(0,hr.T)(ve)),{controlWidth:90,handleWidth:fn,handleFontSize:ve.fontSize/2,handleVisible:nt,handleActiveBg:ve.colorFillAlter,handleBg:ve.colorBgContainer,filledHandleBg:new pi.t(ve.colorFillSecondary).onBackground(ve.colorBgContainer).toHexString(),handleHoverColor:ve.colorPrimary,handleBorderColor:ve.colorBorder,handleOpacity:nt===!0?1:0,handleVisibleWidth:nt===!0?fn:0})},mi=(ve,Ae)=>{let{componentCls:nt,borderRadiusSM:fn,borderRadiusLG:An}=ve;const oi=Ae==="lg"?An:fn;return{[`&-${Ae}`]:{[`${nt}-handler-wrap`]:{borderStartEndRadius:oi,borderEndEndRadius:oi},[`${nt}-handler-up`]:{borderStartEndRadius:oi},[`${nt}-handler-down`]:{borderEndEndRadius:oi}}}},Zi=ve=>{const{componentCls:Ae,lineWidth:nt,lineType:fn,borderRadius:An,inputFontSizeSM:oi,inputFontSizeLG:Wi,controlHeightLG:Cr,controlHeightSM:Ur,colorError:Lr,paddingInlineSM:Tr,paddingBlockSM:Dt,paddingBlockLG:kn,paddingInlineLG:Xn,colorTextDescription:pn,motionDurationMid:ci,handleHoverColor:ir,handleOpacity:or,paddingInline:Gr,paddingBlock:Nr,handleBg:Xi,handleActiveBg:Zr,colorTextDisabled:cs,borderRadiusSM:zr,borderRadiusLG:io,controlWidth:Ts,handleBorderColor:Ns,filledHandleBg:Fo,lineHeightLG:Ao,calc:Po}=ve;return[{[Ae]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,vi.Wf)(ve)),(0,$i.ik)(ve)),{display:"inline-block",width:Ts,margin:0,padding:0,borderRadius:An}),(0,Es.qG)(ve,{[`${Ae}-handler-wrap`]:{background:Xi,[`${Ae}-handler-down`]:{borderBlockStart:`${(0,gi.bf)(nt)} ${fn} ${Ns}`}}})),(0,Es.H8)(ve,{[`${Ae}-handler-wrap`]:{background:Fo,[`${Ae}-handler-down`]:{borderBlockStart:`${(0,gi.bf)(nt)} ${fn} ${Ns}`}},"&:focus-within":{[`${Ae}-handler-wrap`]:{background:Xi}}})),(0,Es.vc)(ve,{[`${Ae}-handler-wrap`]:{background:Xi,[`${Ae}-handler-down`]:{borderBlockStart:`${(0,gi.bf)(nt)} ${fn} ${Ns}`}}})),(0,Es.Mu)(ve)),{"&-rtl":{direction:"rtl",[`${Ae}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:Wi,lineHeight:Ao,borderRadius:io,[`input${Ae}-input`]:{height:Po(Cr).sub(Po(nt).mul(2)).equal(),padding:`${(0,gi.bf)(kn)} ${(0,gi.bf)(Xn)}`}},"&-sm":{padding:0,fontSize:oi,borderRadius:zr,[`input${Ae}-input`]:{height:Po(Ur).sub(Po(nt).mul(2)).equal(),padding:`${(0,gi.bf)(Dt)} ${(0,gi.bf)(Tr)}`}},"&-out-of-range":{[`${Ae}-input-wrap`]:{input:{color:Lr}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,vi.Wf)(ve)),(0,$i.s7)(ve)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${Ae}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${Ae}-group-addon`]:{borderRadius:io,fontSize:ve.fontSizeLG}},"&-sm":{[`${Ae}-group-addon`]:{borderRadius:zr}}},(0,Es.ir)(ve)),(0,Es.S5)(ve)),{[`&:not(${Ae}-compact-first-item):not(${Ae}-compact-last-item)${Ae}-compact-item`]:{[`${Ae}, ${Ae}-group-addon`]:{borderRadius:0}},[`&:not(${Ae}-compact-last-item)${Ae}-compact-first-item`]:{[`${Ae}, ${Ae}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Ae}-compact-first-item)${Ae}-compact-last-item`]:{[`${Ae}, ${Ae}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${Ae}-input`]:{cursor:"not-allowed"},[Ae]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,vi.Wf)(ve)),{width:"100%",padding:`${(0,gi.bf)(Nr)} ${(0,gi.bf)(Gr)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:An,outline:0,transition:`all ${ci} linear`,appearance:"textfield",fontSize:"inherit"}),(0,$i.nz)(ve.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,appearance:"none"}})},[`&:hover ${Ae}-handler-wrap, &-focused ${Ae}-handler-wrap`]:{width:ve.handleWidth,opacity:1}})},{[Ae]:Object.assign(Object.assign(Object.assign({[`${Ae}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:ve.handleVisibleWidth,opacity:or,height:"100%",borderStartStartRadius:0,borderStartEndRadius:An,borderEndEndRadius:An,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${ci}`,overflow:"hidden",[`${Ae}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${Ae}-handler-up-inner,
              ${Ae}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:ve.handleFontSize}}},[`${Ae}-handler`]:{height:"50%",overflow:"hidden",color:pn,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,gi.bf)(nt)} ${fn} ${Ns}`,transition:`all ${ci} linear`,"&:active":{background:Zr},"&:hover":{height:"60%",[`
              ${Ae}-handler-up-inner,
              ${Ae}-handler-down-inner
            `]:{color:ir}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,vi.Ro)()),{color:pn,transition:`all ${ci} linear`,userSelect:"none"})},[`${Ae}-handler-up`]:{borderStartEndRadius:An},[`${Ae}-handler-down`]:{borderEndEndRadius:An}},mi(ve,"lg")),mi(ve,"sm")),{"&-disabled, &-readonly":{[`${Ae}-handler-wrap`]:{display:"none"},[`${Ae}-input`]:{color:"inherit"}},[`
          ${Ae}-handler-up-disabled,
          ${Ae}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${Ae}-handler-up-disabled:hover &-handler-up-inner,
          ${Ae}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:cs}})}]},$n=ve=>{const{componentCls:Ae,paddingBlock:nt,paddingInline:fn,inputAffixPadding:An,controlWidth:oi,borderRadiusLG:Wi,borderRadiusSM:Cr,paddingInlineLG:Ur,paddingInlineSM:Lr,paddingBlockLG:Tr,paddingBlockSM:Dt,motionDurationMid:kn}=ve;return{[`${Ae}-affix-wrapper`]:Object.assign(Object.assign({[`input${Ae}-input`]:{padding:`${(0,gi.bf)(nt)} 0`}},(0,$i.ik)(ve)),{position:"relative",display:"inline-flex",alignItems:"center",width:oi,padding:0,paddingInlineStart:fn,"&-lg":{borderRadius:Wi,paddingInlineStart:Ur,[`input${Ae}-input`]:{padding:`${(0,gi.bf)(Tr)} 0`}},"&-sm":{borderRadius:Cr,paddingInlineStart:Lr,[`input${Ae}-input`]:{padding:`${(0,gi.bf)(Dt)} 0`}},[`&:not(${Ae}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${Ae}-disabled`]:{background:"transparent"},[`> div${Ae}`]:{width:"100%",border:"none",outline:"none",[`&${Ae}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${Ae}-handler-wrap`]:{zIndex:2},[Ae]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:An},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:fn,marginInlineStart:An,transition:`margin ${kn}`}},[`&:hover ${Ae}-handler-wrap, &-focused ${Ae}-handler-wrap`]:{width:ve.handleWidth,opacity:1},[`&:not(${Ae}-affix-wrapper-without-controls):hover ${Ae}-suffix`]:{marginInlineEnd:ve.calc(ve.handleWidth).add(fn).equal()}})}};var bi=(0,kt.I$)("InputNumber",ve=>{const Ae=(0,cn.IX)(ve,(0,hr.e)(ve));return[Zi(Ae),$n(Ae),(0,Ot.c)(Ae)]},nr,{unitless:{handleOpacity:!0}}),Sr=function(ve,Ae){var nt={};for(var fn in ve)Object.prototype.hasOwnProperty.call(ve,fn)&&Ae.indexOf(fn)<0&&(nt[fn]=ve[fn]);if(ve!=null&&typeof Object.getOwnPropertySymbols=="function")for(var An=0,fn=Object.getOwnPropertySymbols(ve);An<fn.length;An++)Ae.indexOf(fn[An])<0&&Object.prototype.propertyIsEnumerable.call(ve,fn[An])&&(nt[fn[An]]=ve[fn[An]]);return nt};const Ir=a.forwardRef((ve,Ae)=>{const{getPrefixCls:nt,direction:fn}=a.useContext(vr.E_),An=a.useRef(null);a.useImperativeHandle(Ae,()=>An.current);const{className:oi,rootClassName:Wi,size:Cr,disabled:Ur,prefixCls:Lr,addonBefore:Tr,addonAfter:Dt,prefix:kn,suffix:Xn,bordered:pn,readOnly:ci,status:ir,controls:or,variant:Gr}=ve,Nr=Sr(ve,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),Xi=nt("input-number",Lr),Zr=(0,er.Z)(Xi),[cs,zr,io]=bi(Xi,Zr),{compactSize:Ts,compactItemClassnames:Ns}=(0,Mn.ri)(Xi,fn);let Fo=a.createElement(fe,{className:`${Xi}-handler-up-inner`}),Ao=a.createElement(W.Z,{className:`${Xi}-handler-down-inner`});const Po=typeof or=="boolean"?or:void 0;typeof or=="object"&&(Fo=typeof or.upIcon=="undefined"?Fo:a.createElement("span",{className:`${Xi}-handler-up-inner`},or.upIcon),Ao=typeof or.downIcon=="undefined"?Ao:a.createElement("span",{className:`${Xi}-handler-down-inner`},or.downIcon));const{hasFeedback:ro,status:ua,isFormItemInput:Mo,feedbackIcon:Bs}=a.useContext(Et.aM),Fs=(0,en.F)(ua,ir),Bo=(0,Ui.Z)(Co=>{var Fr;return(Fr=Cr!=null?Cr:Ts)!==null&&Fr!==void 0?Fr:Co}),bo=a.useContext(tr.Z),$r=Ur!=null?Ur:bo,[So,so]=(0,vn.Z)("inputNumber",Gr,pn),mo=ro&&a.createElement(a.Fragment,null,Bs),Us=tt()({[`${Xi}-lg`]:Bo==="large",[`${Xi}-sm`]:Bo==="small",[`${Xi}-rtl`]:fn==="rtl",[`${Xi}-in-form-item`]:Mo},zr),ds=`${Xi}-group`,Oo=a.createElement(bn,Object.assign({ref:An,disabled:$r,className:tt()(io,Zr,oi,Wi,Ns),upHandler:Fo,downHandler:Ao,prefixCls:Xi,readOnly:ci,controls:Po,prefix:kn,suffix:mo||Xn,addonBefore:Tr&&a.createElement(di.Z,{form:!0,space:!0},Tr),addonAfter:Dt&&a.createElement(di.Z,{form:!0,space:!0},Dt),classNames:{input:Us,variant:tt()({[`${Xi}-${So}`]:so},(0,en.Z)(Xi,Fs,ro)),affixWrapper:tt()({[`${Xi}-affix-wrapper-sm`]:Bo==="small",[`${Xi}-affix-wrapper-lg`]:Bo==="large",[`${Xi}-affix-wrapper-rtl`]:fn==="rtl",[`${Xi}-affix-wrapper-without-controls`]:or===!1||$r},zr),wrapper:tt()({[`${ds}-rtl`]:fn==="rtl"},zr),groupWrapper:tt()({[`${Xi}-group-wrapper-sm`]:Bo==="small",[`${Xi}-group-wrapper-lg`]:Bo==="large",[`${Xi}-group-wrapper-rtl`]:fn==="rtl",[`${Xi}-group-wrapper-${So}`]:so},(0,en.Z)(`${Xi}-group-wrapper`,Fs,ro),zr)}},Nr));return cs(Oo)}),Z=Ir,Tt=ve=>a.createElement(Er.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},a.createElement(Ir,Object.assign({},ve)));Z._InternalPanelDoNotUseOrYouWillBeFired=Tt;var Tn=Z},25216:function(ji,It,M){"use strict";M.d(It,{Z:function(){return de}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(40407),Pe=M(94996),se=M(93291),J=M(60086),oe=M(79848),fe=M(49376),Me=M(91207),tt=M(7821),Be=M(57350),ye=M(64113),$t=M(39480),qe=M(10111),Ye=M(5965),vt=M(87936);function Oe(re){return!!(re.prefix||re.suffix||re.allowClear||re.showCount)}var ee=function(re,Rt){var T={};for(var Bt in re)Object.prototype.hasOwnProperty.call(re,Bt)&&Rt.indexOf(Bt)<0&&(T[Bt]=re[Bt]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var He=0,Bt=Object.getOwnPropertySymbols(re);He<Bt.length;He++)Rt.indexOf(Bt[He])<0&&Object.prototype.propertyIsEnumerable.call(re,Bt[He])&&(T[Bt[He]]=re[Bt[He]]);return T},de=(0,a.forwardRef)((re,Rt)=>{const{prefixCls:T,bordered:Bt=!0,status:He,size:Fe,disabled:Vt,onBlur:_t,onFocus:et,suffix:Kt,allowClear:wt,addonAfter:pt,addonBefore:je,className:Ct,style:Le,styles:st,rootClassName:zt,onChange:Yt,classNames:xn,variant:Zn}=re,Yn=ee(re,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:Fn,direction:si,allowClear:qi,autoComplete:li,className:fi,style:Oi,classNames:Ei,styles:Xt}=(0,fe.dj)("input"),rt=Fn("input",T),Pt=(0,a.useRef)(null),bn=(0,tt.Z)(rt),[di,en,vr]=(0,vt.TI)(rt,zt),[Er]=(0,vt.ZP)(rt,bn),{compactSize:tr,compactItemClassnames:er}=(0,qe.ri)(rt,si),Ui=(0,Be.Z)(bi=>{var Sr;return(Sr=Fe!=null?Fe:tr)!==null&&Sr!==void 0?Sr:bi}),Et=a.useContext(Me.Z),vn=Vt!=null?Vt:Et,{status:Mn,hasFeedback:gi,feedbackIcon:$i}=(0,a.useContext)(ye.aM),hr=(0,oe.F)(Mn,He),Es=Oe(re)||!!gi,vi=(0,a.useRef)(Es),Ot=(0,Ye.Z)(Pt,!0),kt=bi=>{Ot(),_t==null||_t(bi)},cn=bi=>{Ot(),et==null||et(bi)},pi=bi=>{Ot(),Yt==null||Yt(bi)},nr=(gi||Kt)&&a.createElement(a.Fragment,null,Kt,gi&&$i),mi=(0,J.Z)(wt!=null?wt:qi),[Zi,$n]=(0,$t.Z)("input",Zn,Bt);return di(Er(a.createElement(ie.Z,Object.assign({ref:(0,Pe.sQ)(Rt,Pt),prefixCls:rt,autoComplete:li},Yn,{disabled:vn,onBlur:kt,onFocus:cn,style:Object.assign(Object.assign({},Oi),Le),styles:Object.assign(Object.assign({},Xt),st),suffix:nr,allowClear:mi,className:z()(Ct,zt,vr,bn,er,fi),onChange:pi,addonBefore:je&&a.createElement(se.Z,{form:!0,space:!0},je),addonAfter:pt&&a.createElement(se.Z,{form:!0,space:!0},pt),classNames:Object.assign(Object.assign(Object.assign({},xn),Ei),{input:z()({[`${rt}-sm`]:Ui==="small",[`${rt}-lg`]:Ui==="large",[`${rt}-rtl`]:si==="rtl"},xn==null?void 0:xn.input,Ei.input,en),variant:z()({[`${rt}-${Zi}`]:$n},(0,oe.Z)(rt,hr)),affixWrapper:z()({[`${rt}-affix-wrapper-sm`]:Ui==="small",[`${rt}-affix-wrapper-lg`]:Ui==="large",[`${rt}-affix-wrapper-rtl`]:si==="rtl"},en),wrapper:z()({[`${rt}-group-rtl`]:si==="rtl"},en),groupWrapper:z()({[`${rt}-group-wrapper-sm`]:Ui==="small",[`${rt}-group-wrapper-lg`]:Ui==="large",[`${rt}-group-wrapper-rtl`]:si==="rtl",[`${rt}-group-wrapper-${Zi}`]:$n},(0,oe.Z)(`${rt}-group-wrapper`,hr,gi),en)})}))))})},5965:function(ji,It,M){"use strict";M.d(It,{Z:function(){return W}});var a=M(75271);function W(z,ie){const Pe=(0,a.useRef)([]),se=()=>{Pe.current.push(setTimeout(()=>{var J,oe,fe,Me;!((J=z.current)===null||J===void 0)&&J.input&&((oe=z.current)===null||oe===void 0?void 0:oe.input.getAttribute("type"))==="password"&&(!((fe=z.current)===null||fe===void 0)&&fe.input.hasAttribute("value"))&&((Me=z.current)===null||Me===void 0||Me.input.removeAttribute("value"))}))};return(0,a.useEffect)(()=>(ie&&se(),()=>Pe.current.forEach(J=>{J&&clearTimeout(J)})),[]),se}},69657:function(ji,It,M){"use strict";M.d(It,{Z:function(){return Tr}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(49376),Pe=M(64113),se=M(87936),oe=Dt=>{const{getPrefixCls:kn,direction:Xn}=(0,a.useContext)(ie.E_),{prefixCls:pn,className:ci}=Dt,ir=kn("input-group",pn),or=kn("input"),[Gr,Nr,Xi]=(0,se.ZP)(or),Zr=z()(ir,Xi,{[`${ir}-lg`]:Dt.size==="large",[`${ir}-sm`]:Dt.size==="small",[`${ir}-compact`]:Dt.compact,[`${ir}-rtl`]:Xn==="rtl"},Nr,ci),cs=(0,a.useContext)(Pe.aM),zr=(0,a.useMemo)(()=>Object.assign(Object.assign({},cs),{isFormItemInput:!1}),[cs]);return Gr(a.createElement("span",{className:Zr,style:Dt.style,onMouseEnter:Dt.onMouseEnter,onMouseLeave:Dt.onMouseLeave,onFocus:Dt.onFocus,onBlur:Dt.onBlur},a.createElement(Pe.aM.Provider,{value:zr},Dt.children)))},fe=M(25216),Me=M(81230),tt=M(57902),Be=M(22898),ye=M(79848),$t=M(57350),qe=M(46007),Ye=M(84458),vt=M(49032);const Oe=Dt=>{const{componentCls:kn,paddingXS:Xn}=Dt;return{[kn]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:Xn,"&-rtl":{direction:"rtl"},[`${kn}-input`]:{textAlign:"center",paddingInline:Dt.paddingXXS},[`&${kn}-sm ${kn}-input`]:{paddingInline:Dt.calc(Dt.paddingXXS).div(2).equal()},[`&${kn}-lg ${kn}-input`]:{paddingInline:Dt.paddingXS}}}};var ee=(0,qe.I$)(["Input","OTP"],Dt=>{const kn=(0,Ye.IX)(Dt,(0,vt.e)(Dt));return[Oe(kn)]},vt.T),xt=M(99824),de=function(Dt,kn){var Xn={};for(var pn in Dt)Object.prototype.hasOwnProperty.call(Dt,pn)&&kn.indexOf(pn)<0&&(Xn[pn]=Dt[pn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ci=0,pn=Object.getOwnPropertySymbols(Dt);ci<pn.length;ci++)kn.indexOf(pn[ci])<0&&Object.prototype.propertyIsEnumerable.call(Dt,pn[ci])&&(Xn[pn[ci]]=Dt[pn[ci]]);return Xn},Rt=a.forwardRef((Dt,kn)=>{const{value:Xn,onChange:pn,onActiveChange:ci,index:ir,mask:or}=Dt,Gr=de(Dt,["value","onChange","onActiveChange","index","mask"]),Nr=Xn&&typeof or=="string"?or:Xn,Xi=Ts=>{pn(ir,Ts.target.value)},Zr=a.useRef(null);a.useImperativeHandle(kn,()=>Zr.current);const cs=()=>{(0,xt.Z)(()=>{var Ts;const Ns=(Ts=Zr.current)===null||Ts===void 0?void 0:Ts.input;document.activeElement===Ns&&Ns&&Ns.select()})},zr=Ts=>{const{key:Ns,ctrlKey:Fo,metaKey:Ao}=Ts;Ns==="ArrowLeft"?ci(ir-1):Ns==="ArrowRight"?ci(ir+1):Ns==="z"&&(Fo||Ao)&&Ts.preventDefault(),cs()},io=Ts=>{Ts.key==="Backspace"&&!Xn&&ci(ir-1),cs()};return a.createElement(fe.Z,Object.assign({type:or===!0?"password":"text"},Gr,{ref:Zr,value:Nr,onInput:Xi,onFocus:cs,onKeyDown:zr,onKeyUp:io,onMouseDown:cs,onMouseUp:cs}))}),T=function(Dt,kn){var Xn={};for(var pn in Dt)Object.prototype.hasOwnProperty.call(Dt,pn)&&kn.indexOf(pn)<0&&(Xn[pn]=Dt[pn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ci=0,pn=Object.getOwnPropertySymbols(Dt);ci<pn.length;ci++)kn.indexOf(pn[ci])<0&&Object.prototype.propertyIsEnumerable.call(Dt,pn[ci])&&(Xn[pn[ci]]=Dt[pn[ci]]);return Xn};function Bt(Dt){return(Dt||"").split("")}const He=Dt=>{const{index:kn,prefixCls:Xn,separator:pn}=Dt,ci=typeof pn=="function"?pn(kn):pn;return ci?a.createElement("span",{className:`${Xn}-separator`},ci):null};var Vt=a.forwardRef((Dt,kn)=>{const{prefixCls:Xn,length:pn=6,size:ci,defaultValue:ir,value:or,onChange:Gr,formatter:Nr,separator:Xi,variant:Zr,disabled:cs,status:zr,autoFocus:io,mask:Ts,type:Ns,onInput:Fo,inputMode:Ao}=Dt,Po=T(Dt,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:ro,direction:ua}=a.useContext(ie.E_),Mo=ro("otp",Xn),Bs=(0,Be.Z)(Po,{aria:!0,data:!0,attr:!0}),[Fs,Bo,bo]=ee(Mo),$r=(0,$t.Z)(os=>ci!=null?ci:os),So=a.useContext(Pe.aM),so=(0,ye.F)(So.status,zr),mo=a.useMemo(()=>Object.assign(Object.assign({},So),{status:so,hasFeedback:!1,feedbackIcon:null}),[So,so]),Us=a.useRef(null),ds=a.useRef({});a.useImperativeHandle(kn,()=>({focus:()=>{var os;(os=ds.current[0])===null||os===void 0||os.focus()},blur:()=>{var os;for(let hs=0;hs<pn;hs+=1)(os=ds.current[hs])===null||os===void 0||os.blur()},nativeElement:Us.current}));const Oo=os=>Nr?Nr(os):os,[Co,Fr]=a.useState(()=>Bt(Oo(ir||"")));a.useEffect(()=>{or!==void 0&&Fr(Bt(or))},[or]);const vo=(0,tt.Z)(os=>{Fr(os),Fo&&Fo(os),Gr&&os.length===pn&&os.every(hs=>hs)&&os.some((hs,qr)=>Co[qr]!==hs)&&Gr(os.join(""))}),_a=(0,tt.Z)((os,hs)=>{let qr=(0,Me.Z)(Co);for(let oo=0;oo<os;oo+=1)qr[oo]||(qr[oo]="");hs.length<=1?qr[os]=hs:qr=qr.slice(0,os).concat(Bt(hs)),qr=qr.slice(0,pn);for(let oo=qr.length-1;oo>=0&&!qr[oo];oo-=1)qr.pop();const fs=Oo(qr.map(oo=>oo||" ").join(""));return qr=Bt(fs).map((oo,va)=>oo===" "&&!qr[va]?qr[va]:oo),qr}),bs=(os,hs)=>{var qr;const fs=_a(os,hs),oo=Math.min(os+hs.length,pn-1);oo!==os&&fs[os]!==void 0&&((qr=ds.current[oo])===null||qr===void 0||qr.focus()),vo(fs)},Js=os=>{var hs;(hs=ds.current[os])===null||hs===void 0||hs.focus()},js={variant:Zr,disabled:cs,status:so,mask:Ts,type:Ns,inputMode:Ao};return Fs(a.createElement("div",Object.assign({},Bs,{ref:Us,className:z()(Mo,{[`${Mo}-sm`]:$r==="small",[`${Mo}-lg`]:$r==="large",[`${Mo}-rtl`]:ua==="rtl"},bo,Bo)}),a.createElement(Pe.aM.Provider,{value:mo},Array.from({length:pn}).map((os,hs)=>{const qr=`otp-${hs}`,fs=Co[hs]||"";return a.createElement(a.Fragment,{key:qr},a.createElement(Rt,Object.assign({ref:oo=>{ds.current[hs]=oo},index:hs,size:$r,htmlSize:1,className:`${Mo}-input`,onChange:bs,value:fs,onActiveChange:Js,autoFocus:hs===0&&io},js)),hs<pn-1&&a.createElement(He,{separator:Xi,index:hs,prefixCls:Mo}))}))))}),_t=M(52003),et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Kt=et,wt=M(55969),pt=function(kn,Xn){return a.createElement(wt.Z,(0,_t.Z)({},kn,{ref:Xn,icon:Kt}))},je=a.forwardRef(pt),Ct=je,Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},st=Le,zt=function(kn,Xn){return a.createElement(wt.Z,(0,_t.Z)({},kn,{ref:Xn,icon:st}))},Yt=a.forwardRef(zt),xn=Yt,Zn=M(91081),Yn=M(94996),Fn=M(91207),si=M(5965),qi=function(Dt,kn){var Xn={};for(var pn in Dt)Object.prototype.hasOwnProperty.call(Dt,pn)&&kn.indexOf(pn)<0&&(Xn[pn]=Dt[pn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ci=0,pn=Object.getOwnPropertySymbols(Dt);ci<pn.length;ci++)kn.indexOf(pn[ci])<0&&Object.prototype.propertyIsEnumerable.call(Dt,pn[ci])&&(Xn[pn[ci]]=Dt[pn[ci]]);return Xn};const li=Dt=>Dt?a.createElement(xn,null):a.createElement(Ct,null),fi={click:"onClick",hover:"onMouseOver"};var Ei=a.forwardRef((Dt,kn)=>{const{disabled:Xn,action:pn="click",visibilityToggle:ci=!0,iconRender:ir=li}=Dt,or=a.useContext(Fn.Z),Gr=Xn!=null?Xn:or,Nr=typeof ci=="object"&&ci.visible!==void 0,[Xi,Zr]=(0,a.useState)(()=>Nr?ci.visible:!1),cs=(0,a.useRef)(null);a.useEffect(()=>{Nr&&Zr(ci.visible)},[Nr,ci]);const zr=(0,si.Z)(cs),io=()=>{var $r;if(Gr)return;Xi&&zr();const So=!Xi;Zr(So),typeof ci=="object"&&(($r=ci.onVisibleChange)===null||$r===void 0||$r.call(ci,So))},Ts=$r=>{const So=fi[pn]||"",so=ir(Xi),mo={[So]:io,className:`${$r}-icon`,key:"passwordIcon",onMouseDown:Us=>{Us.preventDefault()},onMouseUp:Us=>{Us.preventDefault()}};return a.cloneElement(a.isValidElement(so)?so:a.createElement("span",null,so),mo)},{className:Ns,prefixCls:Fo,inputPrefixCls:Ao,size:Po}=Dt,ro=qi(Dt,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:ua}=a.useContext(ie.E_),Mo=ua("input",Ao),Bs=ua("input-password",Fo),Fs=ci&&Ts(Bs),Bo=z()(Bs,Ns,{[`${Bs}-${Po}`]:!!Po}),bo=Object.assign(Object.assign({},(0,Zn.Z)(ro,["suffix","iconRender","visibilityToggle"])),{type:Xi?"text":"password",className:Bo,prefixCls:Mo,suffix:Fs});return Po&&(bo.size=Po),a.createElement(fe.Z,Object.assign({ref:(0,Yn.sQ)(kn,cs)},bo))}),Xt=M(67618),rt=M(1928),Pt=M(97658),bn=M(10111),di=function(Dt,kn){var Xn={};for(var pn in Dt)Object.prototype.hasOwnProperty.call(Dt,pn)&&kn.indexOf(pn)<0&&(Xn[pn]=Dt[pn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ci=0,pn=Object.getOwnPropertySymbols(Dt);ci<pn.length;ci++)kn.indexOf(pn[ci])<0&&Object.prototype.propertyIsEnumerable.call(Dt,pn[ci])&&(Xn[pn[ci]]=Dt[pn[ci]]);return Xn},vr=a.forwardRef((Dt,kn)=>{const{prefixCls:Xn,inputPrefixCls:pn,className:ci,size:ir,suffix:or,enterButton:Gr=!1,addonAfter:Nr,loading:Xi,disabled:Zr,onSearch:cs,onChange:zr,onCompositionStart:io,onCompositionEnd:Ts}=Dt,Ns=di(Dt,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:Fo,direction:Ao}=a.useContext(ie.E_),Po=a.useRef(!1),ro=Fo("input-search",Xn),ua=Fo("input",pn),{compactSize:Mo}=(0,bn.ri)(ro,Ao),Bs=(0,$t.Z)(bs=>{var Js;return(Js=ir!=null?ir:Mo)!==null&&Js!==void 0?Js:bs}),Fs=a.useRef(null),Bo=bs=>{bs!=null&&bs.target&&bs.type==="click"&&cs&&cs(bs.target.value,bs,{source:"clear"}),zr==null||zr(bs)},bo=bs=>{var Js;document.activeElement===((Js=Fs.current)===null||Js===void 0?void 0:Js.input)&&bs.preventDefault()},$r=bs=>{var Js,js;cs&&cs((js=(Js=Fs.current)===null||Js===void 0?void 0:Js.input)===null||js===void 0?void 0:js.value,bs,{source:"input"})},So=bs=>{Po.current||Xi||$r(bs)},so=typeof Gr=="boolean"?a.createElement(Xt.Z,null):null,mo=`${ro}-button`;let Us;const ds=Gr||{},Oo=ds.type&&ds.type.__ANT_BUTTON===!0;Oo||ds.type==="button"?Us=(0,rt.Tm)(ds,Object.assign({onMouseDown:bo,onClick:bs=>{var Js,js;(js=(Js=ds==null?void 0:ds.props)===null||Js===void 0?void 0:Js.onClick)===null||js===void 0||js.call(Js,bs),$r(bs)},key:"enterButton"},Oo?{className:mo,size:Bs}:{})):Us=a.createElement(Pt.ZP,{className:mo,type:Gr?"primary":void 0,size:Bs,disabled:Zr,key:"enterButton",onMouseDown:bo,onClick:$r,loading:Xi,icon:so},Gr),Nr&&(Us=[Us,(0,rt.Tm)(Nr,{key:"addonAfter"})]);const Co=z()(ro,{[`${ro}-rtl`]:Ao==="rtl",[`${ro}-${Bs}`]:!!Bs,[`${ro}-with-button`]:!!Gr},ci),Fr=Object.assign(Object.assign({},Ns),{className:Co,prefixCls:ua,type:"search"}),vo=bs=>{Po.current=!0,io==null||io(bs)},_a=bs=>{Po.current=!1,Ts==null||Ts(bs)};return a.createElement(fe.Z,Object.assign({ref:(0,Yn.sQ)(Fs,kn),onPressEnter:So},Fr,{size:Bs,onCompositionStart:vo,onCompositionEnd:_a,addonAfter:Us,suffix:or,onChange:Bo,disabled:Zr}))}),Er=M(65213),tr=M(99426),er=M(75611),Ui=M(99960),Et=M(40407),vn=M(84226),Mn=M(235),gi=M(90523),$i=M(74826),hr=M(5930),Es=M(46694),vi=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Ot=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],kt={},cn;function pi(Dt){var kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Xn=Dt.getAttribute("id")||Dt.getAttribute("data-reactid")||Dt.getAttribute("name");if(kn&&kt[Xn])return kt[Xn];var pn=window.getComputedStyle(Dt),ci=pn.getPropertyValue("box-sizing")||pn.getPropertyValue("-moz-box-sizing")||pn.getPropertyValue("-webkit-box-sizing"),ir=parseFloat(pn.getPropertyValue("padding-bottom"))+parseFloat(pn.getPropertyValue("padding-top")),or=parseFloat(pn.getPropertyValue("border-bottom-width"))+parseFloat(pn.getPropertyValue("border-top-width")),Gr=Ot.map(function(Xi){return"".concat(Xi,":").concat(pn.getPropertyValue(Xi))}).join(";"),Nr={sizingStyle:Gr,paddingSize:ir,borderSize:or,boxSizing:ci};return kn&&Xn&&(kt[Xn]=Nr),Nr}function nr(Dt){var kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Xn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,pn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;cn||(cn=document.createElement("textarea"),cn.setAttribute("tab-index","-1"),cn.setAttribute("aria-hidden","true"),cn.setAttribute("name","hiddenTextarea"),document.body.appendChild(cn)),Dt.getAttribute("wrap")?cn.setAttribute("wrap",Dt.getAttribute("wrap")):cn.removeAttribute("wrap");var ci=pi(Dt,kn),ir=ci.paddingSize,or=ci.borderSize,Gr=ci.boxSizing,Nr=ci.sizingStyle;cn.setAttribute("style","".concat(Nr,";").concat(vi)),cn.value=Dt.value||Dt.placeholder||"";var Xi=void 0,Zr=void 0,cs,zr=cn.scrollHeight;if(Gr==="border-box"?zr+=or:Gr==="content-box"&&(zr-=ir),Xn!==null||pn!==null){cn.value=" ";var io=cn.scrollHeight-ir;Xn!==null&&(Xi=io*Xn,Gr==="border-box"&&(Xi=Xi+ir+or),zr=Math.max(Xi,zr)),pn!==null&&(Zr=io*pn,Gr==="border-box"&&(Zr=Zr+ir+or),cs=zr>Zr?"":"hidden",zr=Math.min(Zr,zr))}var Ts={height:zr,overflowY:cs,resize:"none"};return Xi&&(Ts.minHeight=Xi),Zr&&(Ts.maxHeight=Zr),Ts}var mi=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],Zi=0,$n=1,bi=2,Sr=a.forwardRef(function(Dt,kn){var Xn=Dt,pn=Xn.prefixCls,ci=Xn.defaultValue,ir=Xn.value,or=Xn.autoSize,Gr=Xn.onResize,Nr=Xn.className,Xi=Xn.style,Zr=Xn.disabled,cs=Xn.onChange,zr=Xn.onInternalAutoSize,io=(0,Ui.Z)(Xn,mi),Ts=(0,gi.Z)(ci,{value:ir,postState:function(hs){return hs!=null?hs:""}}),Ns=(0,er.Z)(Ts,2),Fo=Ns[0],Ao=Ns[1],Po=function(hs){Ao(hs.target.value),cs==null||cs(hs)},ro=a.useRef();a.useImperativeHandle(kn,function(){return{textArea:ro.current}});var ua=a.useMemo(function(){return or&&(0,$i.Z)(or)==="object"?[or.minRows,or.maxRows]:[]},[or]),Mo=(0,er.Z)(ua,2),Bs=Mo[0],Fs=Mo[1],Bo=!!or,bo=function(){try{if(document.activeElement===ro.current){var hs=ro.current,qr=hs.selectionStart,fs=hs.selectionEnd,oo=hs.scrollTop;ro.current.setSelectionRange(qr,fs),ro.current.scrollTop=oo}}catch(va){}},$r=a.useState(bi),So=(0,er.Z)($r,2),so=So[0],mo=So[1],Us=a.useState(),ds=(0,er.Z)(Us,2),Oo=ds[0],Co=ds[1],Fr=function(){mo(Zi)};(0,Es.Z)(function(){Bo&&Fr()},[ir,Bs,Fs,Bo]),(0,Es.Z)(function(){if(so===Zi)mo($n);else if(so===$n){var os=nr(ro.current,!1,Bs,Fs);mo(bi),Co(os)}else bo()},[so]);var vo=a.useRef(),_a=function(){xt.Z.cancel(vo.current)},bs=function(hs){so===bi&&(Gr==null||Gr(hs),or&&(_a(),vo.current=(0,xt.Z)(function(){Fr()})))};a.useEffect(function(){return _a},[]);var Js=Bo?Oo:null,js=(0,tr.Z)((0,tr.Z)({},Xi),Js);return(so===Zi||so===$n)&&(js.overflowY="hidden",js.overflowX="hidden"),a.createElement(hr.Z,{onResize:bs,disabled:!(or||Gr)},a.createElement("textarea",(0,_t.Z)({},io,{ref:ro,style:js,className:z()(pn,Nr,(0,Er.Z)({},"".concat(pn,"-disabled"),Zr)),disabled:Zr,value:Fo,onChange:Po})))}),Ir=Sr,Z=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Tt=a.forwardRef(function(Dt,kn){var Xn,pn=Dt.defaultValue,ci=Dt.value,ir=Dt.onFocus,or=Dt.onBlur,Gr=Dt.onChange,Nr=Dt.allowClear,Xi=Dt.maxLength,Zr=Dt.onCompositionStart,cs=Dt.onCompositionEnd,zr=Dt.suffix,io=Dt.prefixCls,Ts=io===void 0?"rc-textarea":io,Ns=Dt.showCount,Fo=Dt.count,Ao=Dt.className,Po=Dt.style,ro=Dt.disabled,ua=Dt.hidden,Mo=Dt.classNames,Bs=Dt.styles,Fs=Dt.onResize,Bo=Dt.onClear,bo=Dt.onPressEnter,$r=Dt.readOnly,So=Dt.autoSize,so=Dt.onKeyDown,mo=(0,Ui.Z)(Dt,Z),Us=(0,gi.Z)(pn,{value:ci,defaultValue:pn}),ds=(0,er.Z)(Us,2),Oo=ds[0],Co=ds[1],Fr=Oo==null?"":String(Oo),vo=a.useState(!1),_a=(0,er.Z)(vo,2),bs=_a[0],Js=_a[1],js=a.useRef(!1),os=a.useState(null),hs=(0,er.Z)(os,2),qr=hs[0],fs=hs[1],oo=(0,a.useRef)(null),va=(0,a.useRef)(null),qo=function(){var H;return(H=va.current)===null||H===void 0?void 0:H.textArea},wa=function(){qo().focus()};(0,a.useImperativeHandle)(kn,function(){var Y;return{resizableTextArea:va.current,focus:wa,blur:function(){qo().blur()},nativeElement:((Y=oo.current)===null||Y===void 0?void 0:Y.nativeElement)||qo()}}),(0,a.useEffect)(function(){Js(function(Y){return!ro&&Y})},[ro]);var Ua=a.useState(null),Pa=(0,er.Z)(Ua,2),Jr=Pa[0],fr=Pa[1];a.useEffect(function(){if(Jr){var Y;(Y=qo()).setSelectionRange.apply(Y,(0,Me.Z)(Jr))}},[Jr]);var ai=(0,vn.Z)(Fo,Ns),_s=(Xn=ai.max)!==null&&Xn!==void 0?Xn:Xi,Uo=Number(_s)>0,zo=ai.strategy(Fr),el=!!_s&&zo>_s,ws=function(H,ae){var Q=ae;!js.current&&ai.exceedFormatter&&ai.max&&ai.strategy(ae)>ai.max&&(Q=ai.exceedFormatter(ae,{max:ai.max}),ae!==Q&&fr([qo().selectionStart||0,qo().selectionEnd||0])),Co(Q),(0,Mn.rJ)(H.currentTarget,H,Gr,Q)},za=function(H){js.current=!0,Zr==null||Zr(H)},Ka=function(H){js.current=!1,ws(H,H.currentTarget.value),cs==null||cs(H)},Ma=function(H){ws(H,H.target.value)},ya=function(H){H.key==="Enter"&&bo&&bo(H),so==null||so(H)},ra=function(H){Js(!0),ir==null||ir(H)},$a=function(H){Js(!1),or==null||or(H)},ll=function(H){Co(""),wa(),(0,Mn.rJ)(qo(),H,Gr)},Jo=zr,ba;ai.show&&(ai.showFormatter?ba=ai.showFormatter({value:Fr,count:zo,maxLength:_s}):ba="".concat(zo).concat(Uo?" / ".concat(_s):""),Jo=a.createElement(a.Fragment,null,Jo,a.createElement("span",{className:z()("".concat(Ts,"-data-count"),Mo==null?void 0:Mo.count),style:Bs==null?void 0:Bs.count},ba)));var hl=function(H){var ae;Fs==null||Fs(H),(ae=qo())!==null&&ae!==void 0&&ae.style.height&&fs(!0)},$e=!So&&!Ns&&!Nr;return a.createElement(Et.Q,{ref:oo,value:Fr,allowClear:Nr,handleReset:ll,suffix:Jo,prefixCls:Ts,classNames:(0,tr.Z)((0,tr.Z)({},Mo),{},{affixWrapper:z()(Mo==null?void 0:Mo.affixWrapper,(0,Er.Z)((0,Er.Z)({},"".concat(Ts,"-show-count"),Ns),"".concat(Ts,"-textarea-allow-clear"),Nr))}),disabled:ro,focused:bs,className:z()(Ao,el&&"".concat(Ts,"-out-of-range")),style:(0,tr.Z)((0,tr.Z)({},Po),qr&&!$e?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof ba=="string"?ba:void 0}},hidden:ua,readOnly:$r,onClear:Bo},a.createElement(Ir,(0,_t.Z)({},mo,{autoSize:So,maxLength:Xi,onKeyDown:ya,onChange:Ma,onFocus:ra,onBlur:$a,onCompositionStart:za,onCompositionEnd:Ka,className:z()(Mo==null?void 0:Mo.textarea),style:(0,tr.Z)((0,tr.Z)({},Bs==null?void 0:Bs.textarea),{},{resize:Po==null?void 0:Po.resize}),disabled:ro,prefixCls:Ts,onResize:hl,ref:va,readOnly:$r})))}),Tn=Tt,ve=Tn,Ae=M(60086),nt=M(7821),fn=M(39480);const An=Dt=>{const{componentCls:kn,paddingLG:Xn}=Dt,pn=`${kn}-textarea`;return{[`textarea${kn}`]:{maxWidth:"100%",height:"auto",minHeight:Dt.controlHeight,lineHeight:Dt.lineHeight,verticalAlign:"bottom",transition:`all ${Dt.motionDurationSlow}`,resize:"vertical",[`&${kn}-mouse-active`]:{transition:`all ${Dt.motionDurationSlow}, height 0s, width 0s`}},[`${kn}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[pn]:{position:"relative","&-show-count":{[`> ${kn}`]:{height:"100%"},[`${kn}-data-count`]:{position:"absolute",bottom:Dt.calc(Dt.fontSize).mul(Dt.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:Dt.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${kn},
        &-affix-wrapper${pn}-has-feedback ${kn}
      `]:{paddingInlineEnd:Xn},[`&-affix-wrapper${kn}-affix-wrapper`]:{padding:0,[`> textarea${kn}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:Dt.calc(Dt.controlHeight).sub(Dt.calc(Dt.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${kn}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${kn}-clear-icon`]:{position:"absolute",insetInlineEnd:Dt.paddingInline,insetBlockStart:Dt.paddingXS},[`${pn}-suffix`]:{position:"absolute",top:0,insetInlineEnd:Dt.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${kn}-affix-wrapper-sm`]:{[`${kn}-suffix`]:{[`${kn}-clear-icon`]:{insetInlineEnd:Dt.paddingInlineSM}}}}}};var oi=(0,qe.I$)(["Input","TextArea"],Dt=>{const kn=(0,Ye.IX)(Dt,(0,vt.e)(Dt));return[An(kn)]},vt.T,{resetFont:!1}),Wi=function(Dt,kn){var Xn={};for(var pn in Dt)Object.prototype.hasOwnProperty.call(Dt,pn)&&kn.indexOf(pn)<0&&(Xn[pn]=Dt[pn]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ci=0,pn=Object.getOwnPropertySymbols(Dt);ci<pn.length;ci++)kn.indexOf(pn[ci])<0&&Object.prototype.propertyIsEnumerable.call(Dt,pn[ci])&&(Xn[pn[ci]]=Dt[pn[ci]]);return Xn},Ur=(0,a.forwardRef)((Dt,kn)=>{var Xn;const{prefixCls:pn,bordered:ci=!0,size:ir,disabled:or,status:Gr,allowClear:Nr,classNames:Xi,rootClassName:Zr,className:cs,style:zr,styles:io,variant:Ts,showCount:Ns,onMouseDown:Fo,onResize:Ao}=Dt,Po=Wi(Dt,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:ro,direction:ua,allowClear:Mo,autoComplete:Bs,className:Fs,style:Bo,classNames:bo,styles:$r}=(0,ie.dj)("textArea"),So=a.useContext(Fn.Z),so=or!=null?or:So,{status:mo,hasFeedback:Us,feedbackIcon:ds}=a.useContext(Pe.aM),Oo=(0,ye.F)(mo,Gr),Co=a.useRef(null);a.useImperativeHandle(kn,()=>{var ai;return{resizableTextArea:(ai=Co.current)===null||ai===void 0?void 0:ai.resizableTextArea,focus:_s=>{var Uo,zo;(0,Mn.nH)((zo=(Uo=Co.current)===null||Uo===void 0?void 0:Uo.resizableTextArea)===null||zo===void 0?void 0:zo.textArea,_s)},blur:()=>{var _s;return(_s=Co.current)===null||_s===void 0?void 0:_s.blur()}}});const Fr=ro("input",pn),vo=(0,nt.Z)(Fr),[_a,bs,Js]=(0,se.TI)(Fr,Zr),[js]=oi(Fr,vo),{compactSize:os,compactItemClassnames:hs}=(0,bn.ri)(Fr,ua),qr=(0,$t.Z)(ai=>{var _s;return(_s=ir!=null?ir:os)!==null&&_s!==void 0?_s:ai}),[fs,oo]=(0,fn.Z)("textArea",Ts,ci),va=(0,Ae.Z)(Nr!=null?Nr:Mo),[qo,wa]=a.useState(!1),[Ua,Pa]=a.useState(!1),Jr=ai=>{wa(!0),Fo==null||Fo(ai);const _s=()=>{wa(!1),document.removeEventListener("mouseup",_s)};document.addEventListener("mouseup",_s)},fr=ai=>{var _s,Uo;if(Ao==null||Ao(ai),qo&&typeof getComputedStyle=="function"){const zo=(Uo=(_s=Co.current)===null||_s===void 0?void 0:_s.nativeElement)===null||Uo===void 0?void 0:Uo.querySelector("textarea");zo&&getComputedStyle(zo).resize==="both"&&Pa(!0)}};return _a(js(a.createElement(ve,Object.assign({autoComplete:Bs},Po,{style:Object.assign(Object.assign({},Bo),zr),styles:Object.assign(Object.assign({},$r),io),disabled:so,allowClear:va,className:z()(Js,vo,cs,Zr,hs,Fs,Ua&&`${Fr}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},Xi),bo),{textarea:z()({[`${Fr}-sm`]:qr==="small",[`${Fr}-lg`]:qr==="large"},bs,Xi==null?void 0:Xi.textarea,bo.textarea,qo&&`${Fr}-mouse-active`),variant:z()({[`${Fr}-${fs}`]:oo},(0,ye.Z)(Fr,Oo)),affixWrapper:z()(`${Fr}-textarea-affix-wrapper`,{[`${Fr}-affix-wrapper-rtl`]:ua==="rtl",[`${Fr}-affix-wrapper-sm`]:qr==="small",[`${Fr}-affix-wrapper-lg`]:qr==="large",[`${Fr}-textarea-show-count`]:Ns||((Xn=Dt.count)===null||Xn===void 0?void 0:Xn.show)},bs)}),prefixCls:Fr,suffix:Us&&a.createElement("span",{className:`${Fr}-textarea-suffix`},ds),showCount:Ns,ref:Co,onResize:fr,onMouseDown:Jr}))))});const Lr=fe.Z;Lr.Group=oe,Lr.Search=vr,Lr.TextArea=Ur,Lr.Password=Ei,Lr.OTP=Vt;var Tr=Lr},87936:function(ji,It,M){"use strict";M.d(It,{TI:function(){return xt},ik:function(){return Be},nz:function(){return oe},s7:function(){return ye}});var a=M(47424),W=M(64336),z=M(94550),ie=M(46007),Pe=M(84458),se=M(49032),J=M(32004);const oe=de=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:de,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),fe=de=>({borderColor:de.activeBorderColor,boxShadow:de.activeShadow,outline:0,backgroundColor:de.activeBg}),Me=de=>{const{paddingBlockLG:re,lineHeightLG:Rt,borderRadiusLG:T,paddingInlineLG:Bt}=de;return{padding:`${(0,a.bf)(re)} ${(0,a.bf)(Bt)}`,fontSize:de.inputFontSizeLG,lineHeight:Rt,borderRadius:T}},tt=de=>({padding:`${(0,a.bf)(de.paddingBlockSM)} ${(0,a.bf)(de.paddingInlineSM)}`,fontSize:de.inputFontSizeSM,borderRadius:de.borderRadiusSM}),Be=de=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,a.bf)(de.paddingBlock)} ${(0,a.bf)(de.paddingInline)}`,color:de.colorText,fontSize:de.inputFontSize,lineHeight:de.lineHeight,borderRadius:de.borderRadius,transition:`all ${de.motionDurationMid}`},oe(de.colorTextPlaceholder)),{"&-lg":Object.assign({},Me(de)),"&-sm":Object.assign({},tt(de)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),ye=de=>{const{componentCls:re,antCls:Rt}=de;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:de.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${re}, &-lg > ${re}-group-addon`]:Object.assign({},Me(de)),[`&-sm ${re}, &-sm > ${re}-group-addon`]:Object.assign({},tt(de)),[`&-lg ${Rt}-select-single ${Rt}-select-selector`]:{height:de.controlHeightLG},[`&-sm ${Rt}-select-single ${Rt}-select-selector`]:{height:de.controlHeightSM},[`> ${re}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${re}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,a.bf)(de.paddingInline)}`,color:de.colorText,fontWeight:"normal",fontSize:de.inputFontSize,textAlign:"center",borderRadius:de.borderRadius,transition:`all ${de.motionDurationSlow}`,lineHeight:1,[`${Rt}-select`]:{margin:`${(0,a.bf)(de.calc(de.paddingBlock).add(1).mul(-1).equal())} ${(0,a.bf)(de.calc(de.paddingInline).mul(-1).equal())}`,[`&${Rt}-select-single:not(${Rt}-select-customize-input):not(${Rt}-pagination-size-changer)`]:{[`${Rt}-select-selector`]:{backgroundColor:"inherit",border:`${(0,a.bf)(de.lineWidth)} ${de.lineType} transparent`,boxShadow:"none"}}},[`${Rt}-cascader-picker`]:{margin:`-9px ${(0,a.bf)(de.calc(de.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${Rt}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[re]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${re}-search-with-button &`]:{zIndex:0}}},[`> ${re}:first-child, ${re}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${Rt}-select ${Rt}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${re}-affix-wrapper`]:{[`&:not(:first-child) ${re}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${re}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${re}:last-child, ${re}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${Rt}-select ${Rt}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${re}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${re}-search &`]:{borderStartStartRadius:de.borderRadius,borderEndStartRadius:de.borderRadius}},[`&:not(:first-child), ${re}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${re}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,W.dF)()),{[`${re}-group-addon, ${re}-group-wrap, > ${re}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:de.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${re}-affix-wrapper,
        & > ${re}-number-affix-wrapper,
        & > ${Rt}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:de.calc(de.lineWidth).mul(-1).equal(),borderInlineEndWidth:de.lineWidth},[re]:{float:"none"},[`& > ${Rt}-select > ${Rt}-select-selector,
      & > ${Rt}-select-auto-complete ${re},
      & > ${Rt}-cascader-picker ${re},
      & > ${re}-group-wrapper ${re}`]:{borderInlineEndWidth:de.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${Rt}-select-focused`]:{zIndex:1},[`& > ${Rt}-select > ${Rt}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${Rt}-select:first-child > ${Rt}-select-selector,
      & > ${Rt}-select-auto-complete:first-child ${re},
      & > ${Rt}-cascader-picker:first-child ${re}`]:{borderStartStartRadius:de.borderRadius,borderEndStartRadius:de.borderRadius},[`& > *:last-child,
      & > ${Rt}-select:last-child > ${Rt}-select-selector,
      & > ${Rt}-cascader-picker:last-child ${re},
      & > ${Rt}-cascader-picker-focused:last-child ${re}`]:{borderInlineEndWidth:de.lineWidth,borderStartEndRadius:de.borderRadius,borderEndEndRadius:de.borderRadius},[`& > ${Rt}-select-auto-complete ${re}`]:{verticalAlign:"top"},[`${re}-group-wrapper + ${re}-group-wrapper`]:{marginInlineStart:de.calc(de.lineWidth).mul(-1).equal(),[`${re}-affix-wrapper`]:{borderRadius:0}},[`${re}-group-wrapper:not(:last-child)`]:{[`&${re}-search > ${re}-group`]:{[`& > ${re}-group-addon > ${re}-search-button`]:{borderRadius:0},[`& > ${re}`]:{borderStartStartRadius:de.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:de.borderRadius}}}})}},$t=de=>{const{componentCls:re,controlHeightSM:Rt,lineWidth:T,calc:Bt}=de,Fe=Bt(Rt).sub(Bt(T).mul(2)).sub(16).div(2).equal();return{[re]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,W.Wf)(de)),Be(de)),(0,J.qG)(de)),(0,J.H8)(de)),(0,J.Mu)(de)),(0,J.vc)(de)),{'&[type="color"]':{height:de.controlHeight,[`&${re}-lg`]:{height:de.controlHeightLG},[`&${re}-sm`]:{height:Rt,paddingTop:Fe,paddingBottom:Fe}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},qe=de=>{const{componentCls:re}=de;return{[`${re}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:de.colorTextQuaternary,fontSize:de.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${de.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:de.colorTextTertiary},"&:active":{color:de.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,a.bf)(de.inputAffixPadding)}`}}}},Ye=de=>{const{componentCls:re,inputAffixPadding:Rt,colorTextDescription:T,motionDurationSlow:Bt,colorIcon:He,colorIconHover:Fe,iconCls:Vt}=de,_t=`${re}-affix-wrapper`,et=`${re}-affix-wrapper-disabled`;return{[_t]:Object.assign(Object.assign(Object.assign(Object.assign({},Be(de)),{display:"inline-flex",[`&:not(${re}-disabled):hover`]:{zIndex:1,[`${re}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${re}`]:{padding:0},[`> input${re}, > textarea${re}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[re]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:de.paddingXS}},"&-show-count-suffix":{color:T},"&-show-count-has-suffix":{marginInlineEnd:de.paddingXXS},"&-prefix":{marginInlineEnd:Rt},"&-suffix":{marginInlineStart:Rt}}}),qe(de)),{[`${Vt}${re}-password-icon`]:{color:He,cursor:"pointer",transition:`all ${Bt}`,"&:hover":{color:Fe}}}),[`${re}-underlined`]:{borderRadius:0},[et]:{[`${Vt}${re}-password-icon`]:{color:He,cursor:"not-allowed","&:hover":{color:He}}}}},vt=de=>{const{componentCls:re,borderRadiusLG:Rt,borderRadiusSM:T}=de;return{[`${re}-group`]:Object.assign(Object.assign(Object.assign({},(0,W.Wf)(de)),ye(de)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${re}-group-addon`]:{borderRadius:Rt,fontSize:de.inputFontSizeLG}},"&-sm":{[`${re}-group-addon`]:{borderRadius:T}}},(0,J.ir)(de)),(0,J.S5)(de)),{[`&:not(${re}-compact-first-item):not(${re}-compact-last-item)${re}-compact-item`]:{[`${re}, ${re}-group-addon`]:{borderRadius:0}},[`&:not(${re}-compact-last-item)${re}-compact-first-item`]:{[`${re}, ${re}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${re}-compact-first-item)${re}-compact-last-item`]:{[`${re}, ${re}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${re}-compact-last-item)${re}-compact-item`]:{[`${re}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${re}-compact-first-item)${re}-compact-item`]:{[`${re}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},Oe=de=>{const{componentCls:re,antCls:Rt}=de,T=`${re}-search`;return{[T]:{[re]:{"&:hover, &:focus":{[`+ ${re}-group-addon ${T}-button:not(${Rt}-btn-primary)`]:{borderInlineStartColor:de.colorPrimaryHover}}},[`${re}-affix-wrapper`]:{height:de.controlHeight,borderRadius:0},[`${re}-lg`]:{lineHeight:de.calc(de.lineHeightLG).sub(2e-4).equal()},[`> ${re}-group`]:{[`> ${re}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${T}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${T}-button:not(${Rt}-btn-primary)`]:{color:de.colorTextDescription,"&:hover":{color:de.colorPrimaryHover},"&:active":{color:de.colorPrimaryActive},[`&${Rt}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${T}-button`]:{height:de.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${re}-affix-wrapper, ${T}-button`]:{height:de.controlHeightLG}},"&-small":{[`${re}-affix-wrapper, ${T}-button`]:{height:de.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${re}-compact-item`]:{[`&:not(${re}-compact-last-item)`]:{[`${re}-group-addon`]:{[`${re}-search-button`]:{marginInlineEnd:de.calc(de.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${re}-compact-first-item)`]:{[`${re},${re}-affix-wrapper`]:{borderRadius:0}},[`> ${re}-group-addon ${re}-search-button,
        > ${re},
        ${re}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${re}-affix-wrapper-focused`]:{zIndex:2}}}}},ee=de=>{const{componentCls:re}=de;return{[`${re}-out-of-range`]:{[`&, & input, & textarea, ${re}-show-count-suffix, ${re}-data-count`]:{color:de.colorError}}}},xt=(0,ie.I$)(["Input","Shared"],de=>{const re=(0,Pe.IX)(de,(0,se.e)(de));return[$t(re),Ye(re)]},se.T,{resetFont:!1});It.ZP=(0,ie.I$)(["Input","Component"],de=>{const re=(0,Pe.IX)(de,(0,se.e)(de));return[vt(re),Oe(re),ee(re),(0,z.c)(re)]},se.T,{resetFont:!1})},49032:function(ji,It,M){"use strict";M.d(It,{T:function(){return z},e:function(){return W}});var a=M(84458);function W(ie){return(0,a.IX)(ie,{inputAffixPadding:ie.paddingXXS})}const z=ie=>{const{controlHeight:Pe,fontSize:se,lineHeight:J,lineWidth:oe,controlHeightSM:fe,controlHeightLG:Me,fontSizeLG:tt,lineHeightLG:Be,paddingSM:ye,controlPaddingHorizontalSM:$t,controlPaddingHorizontal:qe,colorFillAlter:Ye,colorPrimaryHover:vt,colorPrimary:Oe,controlOutlineWidth:ee,controlOutline:xt,colorErrorOutline:de,colorWarningOutline:re,colorBgContainer:Rt,inputFontSize:T,inputFontSizeLG:Bt,inputFontSizeSM:He}=ie,Fe=T||se,Vt=He||Fe,_t=Bt||tt,et=Math.round((Pe-Fe*J)/2*10)/10-oe,Kt=Math.round((fe-Vt*J)/2*10)/10-oe,wt=Math.ceil((Me-_t*Be)/2*10)/10-oe;return{paddingBlock:Math.max(et,0),paddingBlockSM:Math.max(Kt,0),paddingBlockLG:Math.max(wt,0),paddingInline:ye-oe,paddingInlineSM:$t-oe,paddingInlineLG:qe-oe,addonBg:Ye,activeBorderColor:Oe,hoverBorderColor:vt,activeShadow:`0 0 0 ${ee}px ${xt}`,errorActiveShadow:`0 0 0 ${ee}px ${de}`,warningActiveShadow:`0 0 0 ${ee}px ${re}`,hoverBg:Rt,activeBg:Rt,inputFontSize:Fe,inputFontSizeLG:_t,inputFontSizeSM:Vt}}},32004:function(ji,It,M){"use strict";M.d(It,{H8:function(){return ye},Mu:function(){return Me},S5:function(){return qe},ir:function(){return fe},qG:function(){return J},vc:function(){return Oe}});var a=M(47424),W=M(84458);const z=ee=>({borderColor:ee.hoverBorderColor,backgroundColor:ee.hoverBg}),ie=ee=>({color:ee.colorTextDisabled,backgroundColor:ee.colorBgContainerDisabled,borderColor:ee.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},z((0,W.IX)(ee,{hoverBorderColor:ee.colorBorder,hoverBg:ee.colorBgContainerDisabled})))}),Pe=(ee,xt)=>({background:ee.colorBgContainer,borderWidth:ee.lineWidth,borderStyle:ee.lineType,borderColor:xt.borderColor,"&:hover":{borderColor:xt.hoverBorderColor,backgroundColor:ee.hoverBg},"&:focus, &:focus-within":{borderColor:xt.activeBorderColor,boxShadow:xt.activeShadow,outline:0,backgroundColor:ee.activeBg}}),se=(ee,xt)=>({[`&${ee.componentCls}-status-${xt.status}:not(${ee.componentCls}-disabled)`]:Object.assign(Object.assign({},Pe(ee,xt)),{[`${ee.componentCls}-prefix, ${ee.componentCls}-suffix`]:{color:xt.affixColor}}),[`&${ee.componentCls}-status-${xt.status}${ee.componentCls}-disabled`]:{borderColor:xt.borderColor}}),J=(ee,xt)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pe(ee,{borderColor:ee.colorBorder,hoverBorderColor:ee.hoverBorderColor,activeBorderColor:ee.activeBorderColor,activeShadow:ee.activeShadow})),{[`&${ee.componentCls}-disabled, &[disabled]`]:Object.assign({},ie(ee))}),se(ee,{status:"error",borderColor:ee.colorError,hoverBorderColor:ee.colorErrorBorderHover,activeBorderColor:ee.colorError,activeShadow:ee.errorActiveShadow,affixColor:ee.colorError})),se(ee,{status:"warning",borderColor:ee.colorWarning,hoverBorderColor:ee.colorWarningBorderHover,activeBorderColor:ee.colorWarning,activeShadow:ee.warningActiveShadow,affixColor:ee.colorWarning})),xt)}),oe=(ee,xt)=>({[`&${ee.componentCls}-group-wrapper-status-${xt.status}`]:{[`${ee.componentCls}-group-addon`]:{borderColor:xt.addonBorderColor,color:xt.addonColor}}}),fe=ee=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${ee.componentCls}-group`]:{"&-addon":{background:ee.addonBg,border:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},oe(ee,{status:"error",addonBorderColor:ee.colorError,addonColor:ee.colorErrorText})),oe(ee,{status:"warning",addonBorderColor:ee.colorWarning,addonColor:ee.colorWarningText})),{[`&${ee.componentCls}-group-wrapper-disabled`]:{[`${ee.componentCls}-group-addon`]:Object.assign({},ie(ee))}})}),Me=(ee,xt)=>{const{componentCls:de}=ee;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${de}-disabled, &[disabled]`]:{color:ee.colorTextDisabled,cursor:"not-allowed"},[`&${de}-status-error`]:{"&, & input, & textarea":{color:ee.colorError}},[`&${de}-status-warning`]:{"&, & input, & textarea":{color:ee.colorWarning}}},xt)}},tt=(ee,xt)=>{var de;return{background:xt.bg,borderWidth:ee.lineWidth,borderStyle:ee.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(de=xt==null?void 0:xt.inputColor)!==null&&de!==void 0?de:"unset"},"&:hover":{background:xt.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:xt.activeBorderColor,backgroundColor:ee.activeBg}}},Be=(ee,xt)=>({[`&${ee.componentCls}-status-${xt.status}:not(${ee.componentCls}-disabled)`]:Object.assign(Object.assign({},tt(ee,xt)),{[`${ee.componentCls}-prefix, ${ee.componentCls}-suffix`]:{color:xt.affixColor}})}),ye=(ee,xt)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tt(ee,{bg:ee.colorFillTertiary,hoverBg:ee.colorFillSecondary,activeBorderColor:ee.activeBorderColor})),{[`&${ee.componentCls}-disabled, &[disabled]`]:Object.assign({},ie(ee))}),Be(ee,{status:"error",bg:ee.colorErrorBg,hoverBg:ee.colorErrorBgHover,activeBorderColor:ee.colorError,inputColor:ee.colorErrorText,affixColor:ee.colorError})),Be(ee,{status:"warning",bg:ee.colorWarningBg,hoverBg:ee.colorWarningBgHover,activeBorderColor:ee.colorWarning,inputColor:ee.colorWarningText,affixColor:ee.colorWarning})),xt)}),$t=(ee,xt)=>({[`&${ee.componentCls}-group-wrapper-status-${xt.status}`]:{[`${ee.componentCls}-group-addon`]:{background:xt.addonBg,color:xt.addonColor}}}),qe=ee=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${ee.componentCls}-group`]:{"&-addon":{background:ee.colorFillTertiary},[`${ee.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorSplit}`}}}},$t(ee,{status:"error",addonBg:ee.colorErrorBg,addonColor:ee.colorErrorText})),$t(ee,{status:"warning",addonBg:ee.colorWarningBg,addonColor:ee.colorWarningText})),{[`&${ee.componentCls}-group-wrapper-disabled`]:{[`${ee.componentCls}-group`]:{"&-addon":{background:ee.colorFillTertiary,color:ee.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorBorder}`,borderTop:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorBorder}`,borderBottom:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorBorder}`,borderTop:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorBorder}`,borderBottom:`${(0,a.bf)(ee.lineWidth)} ${ee.lineType} ${ee.colorBorder}`}}}})}),Ye=(ee,xt)=>({background:ee.colorBgContainer,borderWidth:`${(0,a.bf)(ee.lineWidth)} 0`,borderStyle:`${ee.lineType} none`,borderColor:`transparent transparent ${xt.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${xt.borderColor} transparent`,backgroundColor:ee.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${xt.borderColor} transparent`,outline:0,backgroundColor:ee.activeBg}}),vt=(ee,xt)=>({[`&${ee.componentCls}-status-${xt.status}:not(${ee.componentCls}-disabled)`]:Object.assign(Object.assign({},Ye(ee,xt)),{[`${ee.componentCls}-prefix, ${ee.componentCls}-suffix`]:{color:xt.affixColor}}),[`&${ee.componentCls}-status-${xt.status}${ee.componentCls}-disabled`]:{borderColor:`transparent transparent ${xt.borderColor} transparent`}}),Oe=(ee,xt)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ye(ee,{borderColor:ee.colorBorder,hoverBorderColor:ee.hoverBorderColor,activeBorderColor:ee.activeBorderColor,activeShadow:ee.activeShadow})),{[`&${ee.componentCls}-disabled, &[disabled]`]:{color:ee.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${ee.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),vt(ee,{status:"error",borderColor:ee.colorError,hoverBorderColor:ee.colorErrorBorderHover,activeBorderColor:ee.colorError,activeShadow:ee.errorActiveShadow,affixColor:ee.colorError})),vt(ee,{status:"warning",borderColor:ee.colorWarning,hoverBorderColor:ee.colorWarningBorderHover,activeBorderColor:ee.colorWarning,activeShadow:ee.warningActiveShadow,affixColor:ee.colorWarning})),xt)})},52748:function(ji,It,M){"use strict";var a=M(75271);const W=(0,a.createContext)(void 0);It.Z=W},90977:function(ji,It,M){"use strict";M.d(It,{Z:function(){return $t}});var a={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},W=a,z=M(99426),ie={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Pe=(0,z.Z)((0,z.Z)({},ie),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),se=Pe,oe={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Me={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},se),timePickerLocale:Object.assign({},oe)},tt=Me;const Be="${label} is not a valid ${type}";var $t={locale:"en",Pagination:W,DatePicker:Me,TimePicker:oe,Calendar:tt,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Be,method:Be,array:Be,object:Be,number:Be,date:Be,boolean:Be,integer:Be,float:Be,regexp:Be,email:Be,url:Be,hex:Be},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}}},25313:function(ji,It,M){"use strict";var a=M(75271),W=M(52748),z=M(90977);const ie=(Pe,se)=>{const J=a.useContext(W.Z),oe=a.useMemo(()=>{var Me;const tt=se||z.Z[Pe],Be=(Me=J==null?void 0:J[Pe])!==null&&Me!==void 0?Me:{};return Object.assign(Object.assign({},typeof tt=="function"?tt():tt),Be||{})},[Pe,se,J]),fe=a.useMemo(()=>{const Me=J==null?void 0:J.locale;return J!=null&&J.exist&&!Me?z.Z.locale:Me},[J]);return[oe,fe]};It.Z=ie},56866:function(ji,It,M){"use strict";M.d(It,{Z:function(){return Ga}});var a=M(81230),W=M(75271),z=M(49376),ie=M(60349),Pe=M(37614),se=M(52003),J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},oe=J,fe=M(55969),Me=function(we,Je){return W.createElement(fe.Z,(0,se.Z)({},we,{ref:Je,icon:oe}))},tt=W.forwardRef(Me),Be=tt,ye=M(33487),$t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},qe=$t,Ye=function(we,Je){return W.createElement(fe.Z,(0,se.Z)({},we,{ref:Je,icon:qe}))},vt=W.forwardRef(Ye),Oe=vt,ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},xt=ee,de=function(we,Je){return W.createElement(fe.Z,(0,se.Z)({},we,{ref:Je,icon:xt}))},re=W.forwardRef(de),Rt=re,T=M(82187),Bt=M.n(T),He=M(48716),Fe=M(73760),Vt=M(25313),_t=M(83974),et=M(95245),Kt=M(97658),wt=M(99813);function pt(j){return!!(j!=null&&j.then)}var Ct=j=>{const{type:we,children:Je,prefixCls:ht,buttonProps:Ft,close:Ti,autoFocus:Ji,emitEvent:yi,isSilent:yn,quitOnNullishReturnValue:rr,actionFn:Jn}=j,Yi=W.useRef(!1),Ar=W.useRef(null),[Di,Ms]=(0,et.Z)(!1),Ws=function(){Ti==null||Ti.apply(void 0,arguments)};W.useEffect(()=>{let pr=null;return Ji&&(pr=setTimeout(()=>{var go;(go=Ar.current)===null||go===void 0||go.focus({preventScroll:!0})})),()=>{pr&&clearTimeout(pr)}},[]);const as=pr=>{pt(pr)&&(Ms(!0),pr.then(function(){Ms(!1,!0),Ws.apply(void 0,arguments),Yi.current=!1},go=>{if(Ms(!1,!0),Yi.current=!1,!(yn!=null&&yn()))return Promise.reject(go)}))},eo=pr=>{if(Yi.current)return;if(Yi.current=!0,!Jn){Ws();return}let go;if(yi){if(go=Jn(pr),rr&&!pt(go)){Yi.current=!1,Ws(pr);return}}else if(Jn.length)go=Jn(Ti),Yi.current=!1;else if(go=Jn(),!pt(go)){Ws();return}as(go)};return W.createElement(Kt.ZP,Object.assign({},(0,wt.nx)(we),{onClick:eo,loading:Di,prefixCls:ht},Ft,{ref:Ar}),Je)};const Le=W.createContext({}),{Provider:st}=Le;var Yt=()=>{const{autoFocusButton:j,cancelButtonProps:we,cancelTextLocale:Je,isSilent:ht,mergedOkCancel:Ft,rootPrefixCls:Ti,close:Ji,onCancel:yi,onConfirm:yn}=(0,W.useContext)(Le);return Ft?W.createElement(Ct,{isSilent:ht,actionFn:yi,close:function(){Ji==null||Ji.apply(void 0,arguments),yn==null||yn(!1)},autoFocus:j==="cancel",buttonProps:we,prefixCls:`${Ti}-btn`},Je):null},Zn=()=>{const{autoFocusButton:j,close:we,isSilent:Je,okButtonProps:ht,rootPrefixCls:Ft,okTextLocale:Ti,okType:Ji,onConfirm:yi,onOk:yn}=(0,W.useContext)(Le);return W.createElement(Ct,{isSilent:Je,type:Ji||"primary",actionFn:yn,close:function(){we==null||we.apply(void 0,arguments),yi==null||yi(!0)},autoFocus:j==="ok",buttonProps:ht,prefixCls:`${Ft}-btn`},Ti)},Yn=M(15409),Fn=M(75611),si=M(79440),qi=W.createContext({}),li=M(99426),fi=M(10689),Oi=M(58838),Ei=M(28114),Xt=M(22898);function rt(j,we,Je){var ht=we;return!ht&&Je&&(ht="".concat(j,"-").concat(Je)),ht}function Pt(j,we){var Je=j["page".concat(we?"Y":"X","Offset")],ht="scroll".concat(we?"Top":"Left");if(typeof Je!="number"){var Ft=j.document;Je=Ft.documentElement[ht],typeof Je!="number"&&(Je=Ft.body[ht])}return Je}function bn(j){var we=j.getBoundingClientRect(),Je={left:we.left,top:we.top},ht=j.ownerDocument,Ft=ht.defaultView||ht.parentWindow;return Je.left+=Pt(Ft),Je.top+=Pt(Ft,!0),Je}var di=M(24718),en=M(74826),vr=M(94996),Er=W.memo(function(j){var we=j.children;return we},function(j,we){var Je=we.shouldUpdate;return!Je}),tr={width:0,height:0,overflow:"hidden",outline:"none"},er={outline:"none"},Ui=W.forwardRef(function(j,we){var Je=j.prefixCls,ht=j.className,Ft=j.style,Ti=j.title,Ji=j.ariaId,yi=j.footer,yn=j.closable,rr=j.closeIcon,Jn=j.onClose,Yi=j.children,Ar=j.bodyStyle,Di=j.bodyProps,Ms=j.modalRender,Ws=j.onMouseDown,as=j.onMouseUp,eo=j.holderRef,pr=j.visible,go=j.forceRender,Ro=j.width,Qo=j.height,ea=j.classNames,Oa=j.styles,vl=W.useContext(qi),Sl=vl.panel,Ce=(0,vr.x1)(eo,Sl),Qe=(0,W.useRef)(),ot=(0,W.useRef)();W.useImperativeHandle(we,function(){return{focus:function(){var lr;(lr=Qe.current)===null||lr===void 0||lr.focus({preventScroll:!0})},changeActive:function(lr){var Ps=document,xe=Ps.activeElement;lr&&xe===ot.current?Qe.current.focus({preventScroll:!0}):!lr&&xe===Qe.current&&ot.current.focus({preventScroll:!0})}}});var bt={};Ro!==void 0&&(bt.width=Ro),Qo!==void 0&&(bt.height=Qo);var rn=yi?W.createElement("div",{className:Bt()("".concat(Je,"-footer"),ea==null?void 0:ea.footer),style:(0,li.Z)({},Oa==null?void 0:Oa.footer)},yi):null,ti=Ti?W.createElement("div",{className:Bt()("".concat(Je,"-header"),ea==null?void 0:ea.header),style:(0,li.Z)({},Oa==null?void 0:Oa.header)},W.createElement("div",{className:"".concat(Je,"-title"),id:Ji},Ti)):null,ni=(0,W.useMemo)(function(){return(0,en.Z)(yn)==="object"&&yn!==null?yn:yn?{closeIcon:rr!=null?rr:W.createElement("span",{className:"".concat(Je,"-close-x")})}:{}},[yn,rr,Je]),Ln=(0,Xt.Z)(ni,!0),Ri=(0,en.Z)(yn)==="object"&&yn.disabled,sn=yn?W.createElement("button",(0,se.Z)({type:"button",onClick:Jn,"aria-label":"Close"},Ln,{className:"".concat(Je,"-close"),disabled:Ri}),ni.closeIcon):null,ar=W.createElement("div",{className:Bt()("".concat(Je,"-content"),ea==null?void 0:ea.content),style:Oa==null?void 0:Oa.content},sn,ti,W.createElement("div",(0,se.Z)({className:Bt()("".concat(Je,"-body"),ea==null?void 0:ea.body),style:(0,li.Z)((0,li.Z)({},Ar),Oa==null?void 0:Oa.body)},Di),Yi),rn);return W.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":Ti?Ji:null,"aria-modal":"true",ref:Ce,style:(0,li.Z)((0,li.Z)({},Ft),bt),className:Bt()(Je,ht),onMouseDown:Ws,onMouseUp:as},W.createElement("div",{ref:Qe,tabIndex:0,style:er},W.createElement(Er,{shouldUpdate:pr||go},Ms?Ms(ar):ar)),W.createElement("div",{tabIndex:0,ref:ot,style:tr}))}),Et=Ui,vn=W.forwardRef(function(j,we){var Je=j.prefixCls,ht=j.title,Ft=j.style,Ti=j.className,Ji=j.visible,yi=j.forceRender,yn=j.destroyOnClose,rr=j.motionName,Jn=j.ariaId,Yi=j.onVisibleChanged,Ar=j.mousePosition,Di=(0,W.useRef)(),Ms=W.useState(),Ws=(0,Fn.Z)(Ms,2),as=Ws[0],eo=Ws[1],pr={};as&&(pr.transformOrigin=as);function go(){var Ro=bn(Di.current);eo(Ar&&(Ar.x||Ar.y)?"".concat(Ar.x-Ro.left,"px ").concat(Ar.y-Ro.top,"px"):"")}return W.createElement(di.ZP,{visible:Ji,onVisibleChanged:Yi,onAppearPrepare:go,onEnterPrepare:go,forceRender:yi,motionName:rr,removeOnLeave:yn,ref:Di},function(Ro,Qo){var ea=Ro.className,Oa=Ro.style;return W.createElement(Et,(0,se.Z)({},j,{ref:we,title:ht,ariaId:Jn,prefixCls:Je,holderRef:Qo,style:(0,li.Z)((0,li.Z)((0,li.Z)({},Oa),Ft),pr),className:Bt()(Ti,ea)}))})});vn.displayName="Content";var Mn=vn,gi=function(we){var Je=we.prefixCls,ht=we.style,Ft=we.visible,Ti=we.maskProps,Ji=we.motionName,yi=we.className;return W.createElement(di.ZP,{key:"mask",visible:Ft,motionName:Ji,leavedClassName:"".concat(Je,"-mask-hidden")},function(yn,rr){var Jn=yn.className,Yi=yn.style;return W.createElement("div",(0,se.Z)({ref:rr,style:(0,li.Z)((0,li.Z)({},Yi),ht),className:Bt()("".concat(Je,"-mask"),Jn,yi)},Ti))})},$i=gi,hr=M(69287),Es=function(we){var Je=we.prefixCls,ht=Je===void 0?"rc-dialog":Je,Ft=we.zIndex,Ti=we.visible,Ji=Ti===void 0?!1:Ti,yi=we.keyboard,yn=yi===void 0?!0:yi,rr=we.focusTriggerAfterClose,Jn=rr===void 0?!0:rr,Yi=we.wrapStyle,Ar=we.wrapClassName,Di=we.wrapProps,Ms=we.onClose,Ws=we.afterOpenChange,as=we.afterClose,eo=we.transitionName,pr=we.animation,go=we.closable,Ro=go===void 0?!0:go,Qo=we.mask,ea=Qo===void 0?!0:Qo,Oa=we.maskTransitionName,vl=we.maskAnimation,Sl=we.maskClosable,Ce=Sl===void 0?!0:Sl,Qe=we.maskStyle,ot=we.maskProps,bt=we.rootClassName,rn=we.classNames,ti=we.styles,ni=(0,W.useRef)(),Ln=(0,W.useRef)(),Ri=(0,W.useRef)(),sn=W.useState(Ji),ar=(0,Fn.Z)(sn,2),kr=ar[0],lr=ar[1],Ps=(0,Oi.Z)();function xe(){(0,fi.Z)(Ln.current,document.activeElement)||(ni.current=document.activeElement)}function Ve(){if(!(0,fi.Z)(Ln.current,document.activeElement)){var Ki;(Ki=Ri.current)===null||Ki===void 0||Ki.focus()}}function At(Ki){if(Ki)Ve();else{if(lr(!1),ea&&ni.current&&Jn){try{ni.current.focus({preventScroll:!0})}catch(ps){}ni.current=null}kr&&(as==null||as())}Ws==null||Ws(Ki)}function Gt(Ki){Ms==null||Ms(Ki)}var qt=(0,W.useRef)(!1),Vn=(0,W.useRef)(),jn=function(){clearTimeout(Vn.current),qt.current=!0},Ii=function(){Vn.current=setTimeout(function(){qt.current=!1})},ui=null;Ce&&(ui=function(ps){qt.current?qt.current=!1:Ln.current===ps.target&&Gt(ps)});function sr(Ki){if(yn&&Ki.keyCode===Ei.Z.ESC){Ki.stopPropagation(),Gt(Ki);return}Ji&&Ki.keyCode===Ei.Z.TAB&&Ri.current.changeActive(!Ki.shiftKey)}(0,W.useEffect)(function(){Ji&&(lr(!0),xe())},[Ji]),(0,W.useEffect)(function(){return function(){clearTimeout(Vn.current)}},[]);var Pr=(0,li.Z)((0,li.Z)((0,li.Z)({zIndex:Ft},Yi),ti==null?void 0:ti.wrapper),{},{display:kr?null:"none"});return W.createElement("div",(0,se.Z)({className:Bt()("".concat(ht,"-root"),bt)},(0,Xt.Z)(we,{data:!0})),W.createElement($i,{prefixCls:ht,visible:ea&&Ji,motionName:rt(ht,Oa,vl),style:(0,li.Z)((0,li.Z)({zIndex:Ft},Qe),ti==null?void 0:ti.mask),maskProps:ot,className:rn==null?void 0:rn.mask}),W.createElement("div",(0,se.Z)({tabIndex:-1,onKeyDown:sr,className:Bt()("".concat(ht,"-wrap"),Ar,rn==null?void 0:rn.wrapper),ref:Ln,onClick:ui,style:Pr},Di),W.createElement(Mn,(0,se.Z)({},we,{onMouseDown:jn,onMouseUp:Ii,ref:Ri,closable:Ro,ariaId:Ps,prefixCls:ht,visible:Ji&&kr,onClose:Gt,onVisibleChanged:At,motionName:rt(ht,eo,pr)}))))},vi=Es,Ot=function(we){var Je=we.visible,ht=we.getContainer,Ft=we.forceRender,Ti=we.destroyOnClose,Ji=Ti===void 0?!1:Ti,yi=we.afterClose,yn=we.panelRef,rr=W.useState(Je),Jn=(0,Fn.Z)(rr,2),Yi=Jn[0],Ar=Jn[1],Di=W.useMemo(function(){return{panel:yn}},[yn]);return W.useEffect(function(){Je&&Ar(!0)},[Je]),!Ft&&Ji&&!Yi?null:W.createElement(qi.Provider,{value:Di},W.createElement(si.Z,{open:Je||Ft||Yi,autoDestroy:!1,getContainer:ht,autoLock:Je||Yi},W.createElement(vi,(0,se.Z)({},we,{destroyOnClose:Ji,afterClose:function(){yi==null||yi(),Ar(!1)}}))))};Ot.displayName="Dialog";var kt=Ot,cn=kt,pi=M(93291);function nr(j){if(j)return{closable:j.closable,closeIcon:j.closeIcon}}function mi(j){const{closable:we,closeIcon:Je}=j||{};return W.useMemo(()=>{if(!we&&(we===!1||Je===!1||Je===null))return!1;if(we===void 0&&Je===void 0)return null;let ht={closeIcon:typeof Je!="boolean"&&Je!==null?Je:void 0};return we&&typeof we=="object"&&(ht=Object.assign(Object.assign({},ht),we)),ht},[we,Je])}function Zi(){const j={};for(var we=arguments.length,Je=new Array(we),ht=0;ht<we;ht++)Je[ht]=arguments[ht];return Je.forEach(Ft=>{Ft&&Object.keys(Ft).forEach(Ti=>{Ft[Ti]!==void 0&&(j[Ti]=Ft[Ti])})}),j}const $n={};function bi(j,we){let Je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$n;const ht=mi(j),Ft=mi(we),Ti=typeof ht!="boolean"?!!(ht!=null&&ht.disabled):!1,Ji=W.useMemo(()=>Object.assign({closeIcon:W.createElement(Yn.Z,null)},Je),[Je]),yi=W.useMemo(()=>ht===!1?!1:ht?Zi(Ji,Ft,ht):Ft===!1?!1:Ft?Zi(Ji,Ft):Ji.closable?Ji:!1,[ht,Ft,Ji]);return W.useMemo(()=>{if(yi===!1)return[!1,null,Ti];const{closeIconRender:yn}=Ji,{closeIcon:rr}=yi;let Jn=rr;if(Jn!=null){yn&&(Jn=yn(rr));const Yi=(0,Xt.Z)(yi,!0);Object.keys(Yi).length&&(Jn=W.isValidElement(Jn)?W.cloneElement(Jn,Yi):W.createElement("span",Object.assign({},Yi),Jn))}return[!0,Jn,Ti]},[yi,Ji])}var Sr=M(98750);const Ir=()=>(0,Sr.Z)()&&window.document.documentElement;var Z=M(27597),Tt=M(7821),Tn=M(91081),Ae=j=>{const{prefixCls:we,className:Je,style:ht,size:Ft,shape:Ti}=j,Ji=Bt()({[`${we}-lg`]:Ft==="large",[`${we}-sm`]:Ft==="small"}),yi=Bt()({[`${we}-circle`]:Ti==="circle",[`${we}-square`]:Ti==="square",[`${we}-round`]:Ti==="round"}),yn=W.useMemo(()=>typeof Ft=="number"?{width:Ft,height:Ft,lineHeight:`${Ft}px`}:{},[Ft]);return W.createElement("span",{className:Bt()(we,Ji,yi,Je),style:Object.assign(Object.assign({},yn),ht)})},nt=M(47424),fn=M(46007),An=M(84458);const oi=new nt.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Wi=j=>({height:j,lineHeight:(0,nt.bf)(j)}),Cr=j=>Object.assign({width:j},Wi(j)),Ur=j=>({background:j.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:oi,animationDuration:j.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Lr=(j,we)=>Object.assign({width:we(j).mul(5).equal(),minWidth:we(j).mul(5).equal()},Wi(j)),Tr=j=>{const{skeletonAvatarCls:we,gradientFromColor:Je,controlHeight:ht,controlHeightLG:Ft,controlHeightSM:Ti}=j;return{[we]:Object.assign({display:"inline-block",verticalAlign:"top",background:Je},Cr(ht)),[`${we}${we}-circle`]:{borderRadius:"50%"},[`${we}${we}-lg`]:Object.assign({},Cr(Ft)),[`${we}${we}-sm`]:Object.assign({},Cr(Ti))}},Dt=j=>{const{controlHeight:we,borderRadiusSM:Je,skeletonInputCls:ht,controlHeightLG:Ft,controlHeightSM:Ti,gradientFromColor:Ji,calc:yi}=j;return{[ht]:Object.assign({display:"inline-block",verticalAlign:"top",background:Ji,borderRadius:Je},Lr(we,yi)),[`${ht}-lg`]:Object.assign({},Lr(Ft,yi)),[`${ht}-sm`]:Object.assign({},Lr(Ti,yi))}},kn=j=>Object.assign({width:j},Wi(j)),Xn=j=>{const{skeletonImageCls:we,imageSizeBase:Je,gradientFromColor:ht,borderRadiusSM:Ft,calc:Ti}=j;return{[we]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:ht,borderRadius:Ft},kn(Ti(Je).mul(2).equal())),{[`${we}-path`]:{fill:"#bfbfbf"},[`${we}-svg`]:Object.assign(Object.assign({},kn(Je)),{maxWidth:Ti(Je).mul(4).equal(),maxHeight:Ti(Je).mul(4).equal()}),[`${we}-svg${we}-svg-circle`]:{borderRadius:"50%"}}),[`${we}${we}-circle`]:{borderRadius:"50%"}}},pn=(j,we,Je)=>{const{skeletonButtonCls:ht}=j;return{[`${Je}${ht}-circle`]:{width:we,minWidth:we,borderRadius:"50%"},[`${Je}${ht}-round`]:{borderRadius:we}}},ci=(j,we)=>Object.assign({width:we(j).mul(2).equal(),minWidth:we(j).mul(2).equal()},Wi(j)),ir=j=>{const{borderRadiusSM:we,skeletonButtonCls:Je,controlHeight:ht,controlHeightLG:Ft,controlHeightSM:Ti,gradientFromColor:Ji,calc:yi}=j;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[Je]:Object.assign({display:"inline-block",verticalAlign:"top",background:Ji,borderRadius:we,width:yi(ht).mul(2).equal(),minWidth:yi(ht).mul(2).equal()},ci(ht,yi))},pn(j,ht,Je)),{[`${Je}-lg`]:Object.assign({},ci(Ft,yi))}),pn(j,Ft,`${Je}-lg`)),{[`${Je}-sm`]:Object.assign({},ci(Ti,yi))}),pn(j,Ti,`${Je}-sm`))},or=j=>{const{componentCls:we,skeletonAvatarCls:Je,skeletonTitleCls:ht,skeletonParagraphCls:Ft,skeletonButtonCls:Ti,skeletonInputCls:Ji,skeletonImageCls:yi,controlHeight:yn,controlHeightLG:rr,controlHeightSM:Jn,gradientFromColor:Yi,padding:Ar,marginSM:Di,borderRadius:Ms,titleHeight:Ws,blockRadius:as,paragraphLiHeight:eo,controlHeightXS:pr,paragraphMarginTop:go}=j;return{[we]:{display:"table",width:"100%",[`${we}-header`]:{display:"table-cell",paddingInlineEnd:Ar,verticalAlign:"top",[Je]:Object.assign({display:"inline-block",verticalAlign:"top",background:Yi},Cr(yn)),[`${Je}-circle`]:{borderRadius:"50%"},[`${Je}-lg`]:Object.assign({},Cr(rr)),[`${Je}-sm`]:Object.assign({},Cr(Jn))},[`${we}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[ht]:{width:"100%",height:Ws,background:Yi,borderRadius:as,[`+ ${Ft}`]:{marginBlockStart:Jn}},[Ft]:{padding:0,"> li":{width:"100%",height:eo,listStyle:"none",background:Yi,borderRadius:as,"+ li":{marginBlockStart:pr}}},[`${Ft}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${we}-content`]:{[`${ht}, ${Ft} > li`]:{borderRadius:Ms}}},[`${we}-with-avatar ${we}-content`]:{[ht]:{marginBlockStart:Di,[`+ ${Ft}`]:{marginBlockStart:go}}},[`${we}${we}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},ir(j)),Tr(j)),Dt(j)),Xn(j)),[`${we}${we}-block`]:{width:"100%",[Ti]:{width:"100%"},[Ji]:{width:"100%"}},[`${we}${we}-active`]:{[`
        ${ht},
        ${Ft} > li,
        ${Je},
        ${Ti},
        ${Ji},
        ${yi}
      `]:Object.assign({},Ur(j))}}},Gr=j=>{const{colorFillContent:we,colorFill:Je}=j,ht=we,Ft=Je;return{color:ht,colorGradientEnd:Ft,gradientFromColor:ht,gradientToColor:Ft,titleHeight:j.controlHeight/2,blockRadius:j.borderRadiusSM,paragraphMarginTop:j.marginLG+j.marginXXS,paragraphLiHeight:j.controlHeight/2}};var Nr=(0,fn.I$)("Skeleton",j=>{const{componentCls:we,calc:Je}=j,ht=(0,An.IX)(j,{skeletonAvatarCls:`${we}-avatar`,skeletonTitleCls:`${we}-title`,skeletonParagraphCls:`${we}-paragraph`,skeletonButtonCls:`${we}-button`,skeletonInputCls:`${we}-input`,skeletonImageCls:`${we}-image`,imageSizeBase:Je(j.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${j.gradientFromColor} 25%, ${j.gradientToColor} 37%, ${j.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[or(ht)]},Gr,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Zr=j=>{const{prefixCls:we,className:Je,rootClassName:ht,active:Ft,shape:Ti="circle",size:Ji="default"}=j,{getPrefixCls:yi}=W.useContext(z.E_),yn=yi("skeleton",we),[rr,Jn,Yi]=Nr(yn),Ar=(0,Tn.Z)(j,["prefixCls","className"]),Di=Bt()(yn,`${yn}-element`,{[`${yn}-active`]:Ft},Je,ht,Jn,Yi);return rr(W.createElement("div",{className:Di},W.createElement(Ae,Object.assign({prefixCls:`${yn}-avatar`,shape:Ti,size:Ji},Ar))))},zr=j=>{const{prefixCls:we,className:Je,rootClassName:ht,active:Ft,block:Ti=!1,size:Ji="default"}=j,{getPrefixCls:yi}=W.useContext(z.E_),yn=yi("skeleton",we),[rr,Jn,Yi]=Nr(yn),Ar=(0,Tn.Z)(j,["prefixCls"]),Di=Bt()(yn,`${yn}-element`,{[`${yn}-active`]:Ft,[`${yn}-block`]:Ti},Je,ht,Jn,Yi);return rr(W.createElement("div",{className:Di},W.createElement(Ae,Object.assign({prefixCls:`${yn}-button`,size:Ji},Ar))))};const io="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var Ns=j=>{const{prefixCls:we,className:Je,rootClassName:ht,style:Ft,active:Ti}=j,{getPrefixCls:Ji}=W.useContext(z.E_),yi=Ji("skeleton",we),[yn,rr,Jn]=Nr(yi),Yi=Bt()(yi,`${yi}-element`,{[`${yi}-active`]:Ti},Je,ht,rr,Jn);return yn(W.createElement("div",{className:Yi},W.createElement("div",{className:Bt()(`${yi}-image`,Je),style:Ft},W.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${yi}-image-svg`},W.createElement("title",null,"Image placeholder"),W.createElement("path",{d:io,className:`${yi}-image-path`})))))},Ao=j=>{const{prefixCls:we,className:Je,rootClassName:ht,active:Ft,block:Ti,size:Ji="default"}=j,{getPrefixCls:yi}=W.useContext(z.E_),yn=yi("skeleton",we),[rr,Jn,Yi]=Nr(yn),Ar=(0,Tn.Z)(j,["prefixCls"]),Di=Bt()(yn,`${yn}-element`,{[`${yn}-active`]:Ft,[`${yn}-block`]:Ti},Je,ht,Jn,Yi);return rr(W.createElement("div",{className:Di},W.createElement(Ae,Object.assign({prefixCls:`${yn}-input`,size:Ji},Ar))))},ro=j=>{const{prefixCls:we,className:Je,rootClassName:ht,style:Ft,active:Ti,children:Ji}=j,{getPrefixCls:yi}=W.useContext(z.E_),yn=yi("skeleton",we),[rr,Jn,Yi]=Nr(yn),Ar=Bt()(yn,`${yn}-element`,{[`${yn}-active`]:Ti},Jn,Je,ht,Yi);return rr(W.createElement("div",{className:Ar},W.createElement("div",{className:Bt()(`${yn}-image`,Je),style:Ft},Ji)))};const ua=(j,we)=>{const{width:Je,rows:ht=2}=we;if(Array.isArray(Je))return Je[j];if(ht-1===j)return Je};var Bs=j=>{const{prefixCls:we,className:Je,style:ht,rows:Ft=0}=j,Ti=Array.from({length:Ft}).map((Ji,yi)=>W.createElement("li",{key:yi,style:{width:ua(yi,j)}}));return W.createElement("ul",{className:Bt()(we,Je),style:ht},Ti)},Bo=j=>{let{prefixCls:we,className:Je,width:ht,style:Ft}=j;return W.createElement("h3",{className:Bt()(we,Je),style:Object.assign({width:ht},Ft)})};function bo(j){return j&&typeof j=="object"?j:{}}function $r(j,we){return j&&!we?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function So(j,we){return!j&&we?{width:"38%"}:j&&we?{width:"50%"}:{}}function so(j,we){const Je={};return(!j||!we)&&(Je.width="61%"),!j&&we?Je.rows=3:Je.rows=2,Je}const mo=j=>{const{prefixCls:we,loading:Je,className:ht,rootClassName:Ft,style:Ti,children:Ji,avatar:yi=!1,title:yn=!0,paragraph:rr=!0,active:Jn,round:Yi}=j,{getPrefixCls:Ar,direction:Di,className:Ms,style:Ws}=(0,z.dj)("skeleton"),as=Ar("skeleton",we),[eo,pr,go]=Nr(as);if(Je||!("loading"in j)){const Ro=!!yi,Qo=!!yn,ea=!!rr;let Oa;if(Ro){const Ce=Object.assign(Object.assign({prefixCls:`${as}-avatar`},$r(Qo,ea)),bo(yi));Oa=W.createElement("div",{className:`${as}-header`},W.createElement(Ae,Object.assign({},Ce)))}let vl;if(Qo||ea){let Ce;if(Qo){const ot=Object.assign(Object.assign({prefixCls:`${as}-title`},So(Ro,ea)),bo(yn));Ce=W.createElement(Bo,Object.assign({},ot))}let Qe;if(ea){const ot=Object.assign(Object.assign({prefixCls:`${as}-paragraph`},so(Ro,Qo)),bo(rr));Qe=W.createElement(Bs,Object.assign({},ot))}vl=W.createElement("div",{className:`${as}-content`},Ce,Qe)}const Sl=Bt()(as,{[`${as}-with-avatar`]:Ro,[`${as}-active`]:Jn,[`${as}-rtl`]:Di==="rtl",[`${as}-round`]:Yi},Ms,ht,Ft,pr,go);return eo(W.createElement("div",{className:Sl,style:Object.assign(Object.assign({},Ws),Ti)},Oa,vl))}return Ji!=null?Ji:null};mo.Button=zr,mo.Avatar=Zr,mo.Input=Ao,mo.Image=Ns,mo.Node=ro;var Us=mo,ds=Us,Oo=M(57902);function Co(){}const Fr=W.createContext({add:Co,remove:Co});function vo(j){const we=W.useContext(Fr),Je=W.useRef(null);return(0,Oo.Z)(Ft=>{if(Ft){const Ti=j?Ft.querySelector(j):Ft;we.add(Ti),Je.current=Ti}else we.remove(Je.current)})}var _a=null,bs=M(91207),js=()=>{const{cancelButtonProps:j,cancelTextLocale:we,onCancel:Je}=(0,W.useContext)(Le);return W.createElement(Kt.ZP,Object.assign({onClick:Je},j),we)},hs=()=>{const{confirmLoading:j,okButtonProps:we,okType:Je,okTextLocale:ht,onOk:Ft}=(0,W.useContext)(Le);return W.createElement(Kt.ZP,Object.assign({},(0,wt.nx)(Je),{loading:j,onClick:Ft},we),ht)},qr=M(98798);function fs(j,we){return W.createElement("span",{className:`${j}-close-x`},we||W.createElement(Yn.Z,{className:`${j}-close-icon`}))}const oo=j=>{const{okText:we,okType:Je="primary",cancelText:ht,confirmLoading:Ft,onOk:Ti,onCancel:Ji,okButtonProps:yi,cancelButtonProps:yn,footer:rr}=j,[Jn]=(0,Vt.Z)("Modal",(0,qr.A)()),Yi=we||(Jn==null?void 0:Jn.okText),Ar=ht||(Jn==null?void 0:Jn.cancelText),Di={confirmLoading:Ft,okButtonProps:yi,cancelButtonProps:yn,okTextLocale:Yi,cancelTextLocale:Ar,okType:Je,onOk:Ti,onCancel:Ji},Ms=W.useMemo(()=>Di,(0,a.Z)(Object.values(Di)));let Ws;return typeof rr=="function"||typeof rr=="undefined"?(Ws=W.createElement(W.Fragment,null,W.createElement(js,null),W.createElement(hs,null)),typeof rr=="function"&&(Ws=rr(Ws,{OkBtn:hs,CancelBtn:js})),Ws=W.createElement(st,{value:Ms},Ws)):Ws=rr,W.createElement(bs.n,{disabled:!1},Ws)};var va=M(4470),qo=M(64336),wa=M(24195);const Ua=new nt.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Pa=new nt.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),Jr=function(j){let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:Je}=j,ht=`${Je}-fade`,Ft=we?"&":"";return[(0,wa.R)(ht,Ua,Pa,j.motionDurationMid,we),{[`
        ${Ft}${ht}-enter,
        ${Ft}${ht}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${Ft}${ht}-leave`]:{animationTimingFunction:"linear"}}]};var fr=M(93874);function ai(j){return{position:j,inset:0}}const _s=j=>{const{componentCls:we,antCls:Je}=j;return[{[`${we}-root`]:{[`${we}${Je}-zoom-enter, ${we}${Je}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:j.motionDurationSlow,userSelect:"none"},[`${we}${Je}-zoom-leave ${we}-content`]:{pointerEvents:"none"},[`${we}-mask`]:Object.assign(Object.assign({},ai("fixed")),{zIndex:j.zIndexPopupBase,height:"100%",backgroundColor:j.colorBgMask,pointerEvents:"none",[`${we}-hidden`]:{display:"none"}}),[`${we}-wrap`]:Object.assign(Object.assign({},ai("fixed")),{zIndex:j.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${we}-root`]:Jr(j)}]},Uo=j=>{const{componentCls:we}=j;return[{[`${we}-root`]:{[`${we}-wrap-rtl`]:{direction:"rtl"},[`${we}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[we]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${j.screenSMMax}px)`]:{[we]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,nt.bf)(j.marginXS)} auto`},[`${we}-centered`]:{[we]:{flex:1}}}}},{[we]:Object.assign(Object.assign({},(0,qo.Wf)(j)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,nt.bf)(j.calc(j.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:j.paddingLG,[`${we}-title`]:{margin:0,color:j.titleColor,fontWeight:j.fontWeightStrong,fontSize:j.titleFontSize,lineHeight:j.titleLineHeight,wordWrap:"break-word"},[`${we}-content`]:{position:"relative",backgroundColor:j.contentBg,backgroundClip:"padding-box",border:0,borderRadius:j.borderRadiusLG,boxShadow:j.boxShadow,pointerEvents:"auto",padding:j.contentPadding},[`${we}-close`]:Object.assign({position:"absolute",top:j.calc(j.modalHeaderHeight).sub(j.modalCloseBtnSize).div(2).equal(),insetInlineEnd:j.calc(j.modalHeaderHeight).sub(j.modalCloseBtnSize).div(2).equal(),zIndex:j.calc(j.zIndexPopupBase).add(10).equal(),padding:0,color:j.modalCloseIconColor,fontWeight:j.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:j.borderRadiusSM,width:j.modalCloseBtnSize,height:j.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${j.motionDurationMid}, background-color ${j.motionDurationMid}`,"&-x":{display:"flex",fontSize:j.fontSizeLG,fontStyle:"normal",lineHeight:(0,nt.bf)(j.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:j.modalCloseIconHoverColor,backgroundColor:j.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:j.colorBgTextActive}},(0,qo.Qy)(j)),[`${we}-header`]:{color:j.colorText,background:j.headerBg,borderRadius:`${(0,nt.bf)(j.borderRadiusLG)} ${(0,nt.bf)(j.borderRadiusLG)} 0 0`,marginBottom:j.headerMarginBottom,padding:j.headerPadding,borderBottom:j.headerBorderBottom},[`${we}-body`]:{fontSize:j.fontSize,lineHeight:j.lineHeight,wordWrap:"break-word",padding:j.bodyPadding,[`${we}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,nt.bf)(j.margin)} auto`}},[`${we}-footer`]:{textAlign:"end",background:j.footerBg,marginTop:j.footerMarginTop,padding:j.footerPadding,borderTop:j.footerBorderTop,borderRadius:j.footerBorderRadius,[`> ${j.antCls}-btn + ${j.antCls}-btn`]:{marginInlineStart:j.marginXS}},[`${we}-open`]:{overflow:"hidden"}})},{[`${we}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${we}-content,
          ${we}-body,
          ${we}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${we}-confirm-body`]:{marginBottom:"auto"}}}]},zo=j=>{const{componentCls:we}=j;return{[`${we}-root`]:{[`${we}-wrap-rtl`]:{direction:"rtl",[`${we}-confirm-body`]:{direction:"rtl"}}}}},el=j=>{const{componentCls:we}=j,Je=(0,va.hd)(j);delete Je.xs;const ht=Object.keys(Je).map(Ft=>({[`@media (min-width: ${(0,nt.bf)(Je[Ft])})`]:{width:`var(--${we.replace(".","")}-${Ft}-width)`}}));return{[`${we}-root`]:{[we]:[{width:`var(--${we.replace(".","")}-xs-width)`}].concat((0,a.Z)(ht))}}},ws=j=>{const we=j.padding,Je=j.fontSizeHeading5,ht=j.lineHeightHeading5;return(0,An.IX)(j,{modalHeaderHeight:j.calc(j.calc(ht).mul(Je).equal()).add(j.calc(we).mul(2).equal()).equal(),modalFooterBorderColorSplit:j.colorSplit,modalFooterBorderStyle:j.lineType,modalFooterBorderWidth:j.lineWidth,modalCloseIconColor:j.colorIcon,modalCloseIconHoverColor:j.colorIconHover,modalCloseBtnSize:j.controlHeight,modalConfirmIconSize:j.fontHeight,modalTitleHeight:j.calc(j.titleFontSize).mul(j.titleLineHeight).equal()})},za=j=>({footerBg:"transparent",headerBg:j.colorBgElevated,titleLineHeight:j.lineHeightHeading5,titleFontSize:j.fontSizeHeading5,contentBg:j.colorBgElevated,titleColor:j.colorTextHeading,contentPadding:j.wireframe?0:`${(0,nt.bf)(j.paddingMD)} ${(0,nt.bf)(j.paddingContentHorizontalLG)}`,headerPadding:j.wireframe?`${(0,nt.bf)(j.padding)} ${(0,nt.bf)(j.paddingLG)}`:0,headerBorderBottom:j.wireframe?`${(0,nt.bf)(j.lineWidth)} ${j.lineType} ${j.colorSplit}`:"none",headerMarginBottom:j.wireframe?0:j.marginXS,bodyPadding:j.wireframe?j.paddingLG:0,footerPadding:j.wireframe?`${(0,nt.bf)(j.paddingXS)} ${(0,nt.bf)(j.padding)}`:0,footerBorderTop:j.wireframe?`${(0,nt.bf)(j.lineWidth)} ${j.lineType} ${j.colorSplit}`:"none",footerBorderRadius:j.wireframe?`0 0 ${(0,nt.bf)(j.borderRadiusLG)} ${(0,nt.bf)(j.borderRadiusLG)}`:0,footerMarginTop:j.wireframe?0:j.marginSM,confirmBodyPadding:j.wireframe?`${(0,nt.bf)(j.padding*2)} ${(0,nt.bf)(j.padding*2)} ${(0,nt.bf)(j.paddingLG)}`:0,confirmIconMarginInlineEnd:j.wireframe?j.margin:j.marginSM,confirmBtnsMarginTop:j.wireframe?j.marginLG:j.marginSM});var Ka=(0,fn.I$)("Modal",j=>{const we=ws(j);return[Uo(we),zo(we),_s(we),(0,fr._y)(we,"zoom"),el(we)]},za,{unitless:{titleLineHeight:!0}}),Ma=function(j,we){var Je={};for(var ht in j)Object.prototype.hasOwnProperty.call(j,ht)&&we.indexOf(ht)<0&&(Je[ht]=j[ht]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ft=0,ht=Object.getOwnPropertySymbols(j);Ft<ht.length;Ft++)we.indexOf(ht[Ft])<0&&Object.prototype.propertyIsEnumerable.call(j,ht[Ft])&&(Je[ht[Ft]]=j[ht[Ft]]);return Je};let ya;const ra=j=>{ya={x:j.pageX,y:j.pageY},setTimeout(()=>{ya=null},100)};Ir()&&document.documentElement.addEventListener("click",ra,!0);var ll=j=>{const{prefixCls:we,className:Je,rootClassName:ht,open:Ft,wrapClassName:Ti,centered:Ji,getContainer:yi,focusTriggerAfterClose:yn=!0,style:rr,visible:Jn,width:Yi=520,footer:Ar,classNames:Di,styles:Ms,children:Ws,loading:as,confirmLoading:eo,zIndex:pr,mousePosition:go,onOk:Ro,onCancel:Qo}=j,ea=Ma(j,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel"]),{getPopupContainer:Oa,getPrefixCls:vl,direction:Sl,modal:Ce}=W.useContext(z.E_),Qe=jn=>{eo||Qo==null||Qo(jn)},ot=jn=>{Ro==null||Ro(jn)},bt=vl("modal",we),rn=vl(),ti=(0,Tt.Z)(bt),[ni,Ln,Ri]=Ka(bt,ti),sn=Bt()(Ti,{[`${bt}-centered`]:Ji!=null?Ji:Ce==null?void 0:Ce.centered,[`${bt}-wrap-rtl`]:Sl==="rtl"}),ar=Ar!==null&&!as?W.createElement(oo,Object.assign({},j,{onOk:ot,onCancel:Qe})):null,[kr,lr,Ps]=bi(nr(j),nr(Ce),{closable:!0,closeIcon:W.createElement(Yn.Z,{className:`${bt}-close-icon`}),closeIconRender:jn=>fs(bt,jn)}),xe=vo(`.${bt}-content`),[Ve,At]=(0,He.Cn)("Modal",pr),[Gt,qt]=W.useMemo(()=>Yi&&typeof Yi=="object"?[void 0,Yi]:[Yi,void 0],[Yi]),Vn=W.useMemo(()=>{const jn={};return qt&&Object.keys(qt).forEach(Ii=>{const ui=qt[Ii];ui!==void 0&&(jn[`--${bt}-${Ii}-width`]=typeof ui=="number"?`${ui}px`:ui)}),jn},[qt]);return ni(W.createElement(pi.Z,{form:!0,space:!0},W.createElement(Z.Z.Provider,{value:At},W.createElement(cn,Object.assign({width:Gt},ea,{zIndex:Ve,getContainer:yi===void 0?Oa:yi,prefixCls:bt,rootClassName:Bt()(Ln,ht,Ri,ti),footer:ar,visible:Ft!=null?Ft:Jn,mousePosition:go!=null?go:ya,onClose:Qe,closable:kr&&{disabled:Ps,closeIcon:lr},closeIcon:lr,focusTriggerAfterClose:yn,transitionName:(0,Fe.m)(rn,"zoom",j.transitionName),maskTransitionName:(0,Fe.m)(rn,"fade",j.maskTransitionName),className:Bt()(Ln,Je,Ce==null?void 0:Ce.className),style:Object.assign(Object.assign(Object.assign({},Ce==null?void 0:Ce.style),rr),Vn),classNames:Object.assign(Object.assign(Object.assign({},Ce==null?void 0:Ce.classNames),Di),{wrapper:Bt()(sn,Di==null?void 0:Di.wrapper)}),styles:Object.assign(Object.assign({},Ce==null?void 0:Ce.styles),Ms),panelRef:xe}),as?W.createElement(ds,{active:!0,title:!1,paragraph:{rows:4},className:`${bt}-body-skeleton`}):Ws))))};const Jo=j=>{const{componentCls:we,titleFontSize:Je,titleLineHeight:ht,modalConfirmIconSize:Ft,fontSize:Ti,lineHeight:Ji,modalTitleHeight:yi,fontHeight:yn,confirmBodyPadding:rr}=j,Jn=`${we}-confirm`;return{[Jn]:{"&-rtl":{direction:"rtl"},[`${j.antCls}-modal-header`]:{display:"none"},[`${Jn}-body-wrapper`]:Object.assign({},(0,qo.dF)()),[`&${we} ${we}-body`]:{padding:rr},[`${Jn}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${j.iconCls}`]:{flex:"none",fontSize:Ft,marginInlineEnd:j.confirmIconMarginInlineEnd,marginTop:j.calc(j.calc(yn).sub(Ft).equal()).div(2).equal()},[`&-has-title > ${j.iconCls}`]:{marginTop:j.calc(j.calc(yi).sub(Ft).equal()).div(2).equal()}},[`${Jn}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:j.marginXS,maxWidth:`calc(100% - ${(0,nt.bf)(j.marginSM)})`},[`${j.iconCls} + ${Jn}-paragraph`]:{maxWidth:`calc(100% - ${(0,nt.bf)(j.calc(j.modalConfirmIconSize).add(j.marginSM).equal())})`},[`${Jn}-title`]:{color:j.colorTextHeading,fontWeight:j.fontWeightStrong,fontSize:Je,lineHeight:ht},[`${Jn}-content`]:{color:j.colorText,fontSize:Ti,lineHeight:Ji},[`${Jn}-btns`]:{textAlign:"end",marginTop:j.confirmBtnsMarginTop,[`${j.antCls}-btn + ${j.antCls}-btn`]:{marginBottom:0,marginInlineStart:j.marginXS}}},[`${Jn}-error ${Jn}-body > ${j.iconCls}`]:{color:j.colorError},[`${Jn}-warning ${Jn}-body > ${j.iconCls},
        ${Jn}-confirm ${Jn}-body > ${j.iconCls}`]:{color:j.colorWarning},[`${Jn}-info ${Jn}-body > ${j.iconCls}`]:{color:j.colorInfo},[`${Jn}-success ${Jn}-body > ${j.iconCls}`]:{color:j.colorSuccess}}};var ba=(0,fn.bk)(["Modal","confirm"],j=>{const we=ws(j);return[Jo(we)]},za,{order:-1e3}),hl=function(j,we){var Je={};for(var ht in j)Object.prototype.hasOwnProperty.call(j,ht)&&we.indexOf(ht)<0&&(Je[ht]=j[ht]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ft=0,ht=Object.getOwnPropertySymbols(j);Ft<ht.length;Ft++)we.indexOf(ht[Ft])<0&&Object.prototype.propertyIsEnumerable.call(j,ht[Ft])&&(Je[ht[Ft]]=j[ht[Ft]]);return Je};function $e(j){const{prefixCls:we,icon:Je,okText:ht,cancelText:Ft,confirmPrefixCls:Ti,type:Ji,okCancel:yi,footer:yn,locale:rr}=j,Jn=hl(j,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let Yi=Je;if(!Je&&Je!==null)switch(Ji){case"info":Yi=W.createElement(Rt,null);break;case"success":Yi=W.createElement(Be,null);break;case"error":Yi=W.createElement(ye.Z,null);break;default:Yi=W.createElement(Oe,null)}const Ar=yi!=null?yi:Ji==="confirm",Di=j.autoFocusButton===null?!1:j.autoFocusButton||"ok",[Ms]=(0,Vt.Z)("Modal"),Ws=rr||Ms,as=ht||(Ar?Ws==null?void 0:Ws.okText:Ws==null?void 0:Ws.justOkText),eo=Ft||(Ws==null?void 0:Ws.cancelText),pr=Object.assign({autoFocusButton:Di,cancelTextLocale:eo,okTextLocale:as,mergedOkCancel:Ar},Jn),go=W.useMemo(()=>pr,(0,a.Z)(Object.values(pr))),Ro=W.createElement(W.Fragment,null,W.createElement(Yt,null),W.createElement(Zn,null)),Qo=j.title!==void 0&&j.title!==null,ea=`${Ti}-body`;return W.createElement("div",{className:`${Ti}-body-wrapper`},W.createElement("div",{className:Bt()(ea,{[`${ea}-has-title`]:Qo})},Yi,W.createElement("div",{className:`${Ti}-paragraph`},Qo&&W.createElement("span",{className:`${Ti}-title`},j.title),W.createElement("div",{className:`${Ti}-content`},j.content))),yn===void 0||typeof yn=="function"?W.createElement(st,{value:go},W.createElement("div",{className:`${Ti}-btns`},typeof yn=="function"?yn(Ro,{OkBtn:Zn,CancelBtn:Yt}):Ro)):yn,W.createElement(ba,{prefixCls:we}))}const Y=j=>{const{close:we,zIndex:Je,maskStyle:ht,direction:Ft,prefixCls:Ti,wrapClassName:Ji,rootPrefixCls:yi,bodyStyle:yn,closable:rr=!1,onConfirm:Jn,styles:Yi}=j,Ar=`${Ti}-confirm`,Di=j.width||416,Ms=j.style||{},Ws=j.mask===void 0?!0:j.mask,as=j.maskClosable===void 0?!1:j.maskClosable,eo=Bt()(Ar,`${Ar}-${j.type}`,{[`${Ar}-rtl`]:Ft==="rtl"},j.className),[,pr]=(0,_t.ZP)(),go=W.useMemo(()=>Je!==void 0?Je:pr.zIndexPopupBase+He.u6,[Je,pr]);return W.createElement(ll,Object.assign({},j,{className:eo,wrapClassName:Bt()({[`${Ar}-centered`]:!!j.centered},Ji),onCancel:()=>{we==null||we({triggerCancel:!0}),Jn==null||Jn(!1)},title:"",footer:null,transitionName:(0,Fe.m)(yi||"","zoom",j.transitionName),maskTransitionName:(0,Fe.m)(yi||"","fade",j.maskTransitionName),mask:Ws,maskClosable:as,style:Ms,styles:Object.assign({body:yn,mask:ht},Yi),width:Di,zIndex:go,closable:rr}),W.createElement($e,Object.assign({},j,{confirmPrefixCls:Ar})))};var ae=j=>{const{rootPrefixCls:we,iconPrefixCls:Je,direction:ht,theme:Ft}=j;return W.createElement(ie.ZP,{prefixCls:we,iconPrefixCls:Je,direction:ht,theme:Ft},W.createElement(Y,Object.assign({},j)))},Ze=[];let lt="";function tn(){return lt}const _n=j=>{var we,Je;const{prefixCls:ht,getContainer:Ft,direction:Ti}=j,Ji=(0,qr.A)(),yi=(0,W.useContext)(z.E_),yn=tn()||yi.getPrefixCls(),rr=ht||`${yn}-modal`;let Jn=Ft;return Jn===!1&&(Jn=void 0),W.createElement(ae,Object.assign({},j,{rootPrefixCls:yn,prefixCls:rr,iconPrefixCls:yi.iconPrefixCls,theme:yi.theme,direction:Ti!=null?Ti:yi.direction,locale:(Je=(we=yi.locale)===null||we===void 0?void 0:we.Modal)!==null&&Je!==void 0?Je:Ji,getContainer:Jn}))};function Hn(j){const we=(0,ie.w6)(),Je=document.createDocumentFragment();let ht=Object.assign(Object.assign({},j),{close:yn,open:!0}),Ft,Ti;function Ji(){for(var Jn,Yi=arguments.length,Ar=new Array(Yi),Di=0;Di<Yi;Di++)Ar[Di]=arguments[Di];if(Ar.some(as=>as==null?void 0:as.triggerCancel)){var Ws;(Jn=j.onCancel)===null||Jn===void 0||(Ws=Jn).call.apply(Ws,[j,()=>{}].concat((0,a.Z)(Ar.slice(1))))}for(let as=0;as<Ze.length;as++)if(Ze[as]===yn){Ze.splice(as,1);break}Ti()}function yi(Jn){clearTimeout(Ft),Ft=setTimeout(()=>{const Yi=we.getPrefixCls(void 0,tn()),Ar=we.getIconPrefixCls(),Di=we.getTheme(),Ms=W.createElement(_n,Object.assign({},Jn));Ti=(0,Pe.x)()(W.createElement(ie.ZP,{prefixCls:Yi,iconPrefixCls:Ar,theme:Di},we.holderRender?we.holderRender(Ms):Ms),Je)})}function yn(){for(var Jn=arguments.length,Yi=new Array(Jn),Ar=0;Ar<Jn;Ar++)Yi[Ar]=arguments[Ar];ht=Object.assign(Object.assign({},ht),{open:!1,afterClose:()=>{typeof j.afterClose=="function"&&j.afterClose(),Ji.apply(this,Yi)}}),ht.visible&&delete ht.visible,yi(ht)}function rr(Jn){typeof Jn=="function"?ht=Jn(ht):ht=Object.assign(Object.assign({},ht),Jn),yi(ht)}return yi(ht),Ze.push(yn),{destroy:yn,update:rr}}function dn(j){return Object.assign(Object.assign({},j),{type:"warning"})}function d(j){return Object.assign(Object.assign({},j),{type:"info"})}function y(j){return Object.assign(Object.assign({},j),{type:"success"})}function E(j){return Object.assign(Object.assign({},j),{type:"error"})}function P(j){return Object.assign(Object.assign({},j),{type:"confirm"})}function k(j){let{rootPrefixCls:we}=j;lt=we}var N=M(56935),K=function(j,we){var Je={};for(var ht in j)Object.prototype.hasOwnProperty.call(j,ht)&&we.indexOf(ht)<0&&(Je[ht]=j[ht]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ft=0,ht=Object.getOwnPropertySymbols(j);Ft<ht.length;Ft++)we.indexOf(ht[Ft])<0&&Object.prototype.propertyIsEnumerable.call(j,ht[Ft])&&(Je[ht[Ft]]=j[ht[Ft]]);return Je};const _e=j=>{const{prefixCls:we,className:Je,closeIcon:ht,closable:Ft,type:Ti,title:Ji,children:yi,footer:yn}=j,rr=K(j,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:Jn}=W.useContext(z.E_),Yi=Jn(),Ar=we||Jn("modal"),Di=(0,Tt.Z)(Yi),[Ms,Ws,as]=Ka(Ar,Di),eo=`${Ar}-confirm`;let pr={};return Ti?pr={closable:Ft!=null?Ft:!1,title:"",footer:"",children:W.createElement($e,Object.assign({},j,{prefixCls:Ar,confirmPrefixCls:eo,rootPrefixCls:Yi,content:yi}))}:pr={closable:Ft!=null?Ft:!0,title:Ji,footer:yn!==null&&W.createElement(oo,Object.assign({},j)),children:yi},Ms(W.createElement(Et,Object.assign({prefixCls:Ar,className:Bt()(Ws,`${Ar}-pure-panel`,Ti&&eo,Ti&&`${eo}-${Ti}`,Je,as,Di)},rr,{closeIcon:fs(Ar,ht),closable:Ft},pr)))};var Ee=(0,N.i)(_e);function it(){const[j,we]=W.useState([]),Je=W.useCallback(ht=>(we(Ft=>[].concat((0,a.Z)(Ft),[ht])),()=>{we(Ft=>Ft.filter(Ti=>Ti!==ht))}),[]);return[j,Je]}var Ht=M(90977),gn=function(j,we){var Je={};for(var ht in j)Object.prototype.hasOwnProperty.call(j,ht)&&we.indexOf(ht)<0&&(Je[ht]=j[ht]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ft=0,ht=Object.getOwnPropertySymbols(j);Ft<ht.length;Ft++)we.indexOf(ht[Ft])<0&&Object.prototype.propertyIsEnumerable.call(j,ht[Ft])&&(Je[ht[Ft]]=j[ht[Ft]]);return Je};const Ut=(j,we)=>{var Je,{afterClose:ht,config:Ft}=j,Ti=gn(j,["afterClose","config"]);const[Ji,yi]=W.useState(!0),[yn,rr]=W.useState(Ft),{direction:Jn,getPrefixCls:Yi}=W.useContext(z.E_),Ar=Yi("modal"),Di=Yi(),Ms=()=>{var pr;ht(),(pr=yn.afterClose)===null||pr===void 0||pr.call(yn)},Ws=function(){var pr;yi(!1);for(var go=arguments.length,Ro=new Array(go),Qo=0;Qo<go;Qo++)Ro[Qo]=arguments[Qo];if(Ro.some(vl=>vl==null?void 0:vl.triggerCancel)){var Oa;(pr=yn.onCancel)===null||pr===void 0||(Oa=pr).call.apply(Oa,[yn,()=>{}].concat((0,a.Z)(Ro.slice(1))))}};W.useImperativeHandle(we,()=>({destroy:Ws,update:pr=>{rr(go=>Object.assign(Object.assign({},go),pr))}}));const as=(Je=yn.okCancel)!==null&&Je!==void 0?Je:yn.type==="confirm",[eo]=(0,Vt.Z)("Modal",Ht.Z.Modal);return W.createElement(ae,Object.assign({prefixCls:Ar,rootPrefixCls:Di},yn,{close:Ws,open:Ji,afterClose:Ms,okText:yn.okText||(as?eo==null?void 0:eo.okText:eo==null?void 0:eo.justOkText),direction:yn.direction||Jn,cancelText:yn.cancelText||(eo==null?void 0:eo.cancelText)},Ti))};var Bn=W.forwardRef(Ut);let Si=0;const _r=W.memo(W.forwardRef((j,we)=>{const[Je,ht]=it();return W.useImperativeHandle(we,()=>({patchElement:ht}),[]),W.createElement(W.Fragment,null,Je)}));function Br(){const j=W.useRef(null),[we,Je]=W.useState([]);W.useEffect(()=>{we.length&&((0,a.Z)(we).forEach(Ji=>{Ji()}),Je([]))},[we]);const ht=W.useCallback(Ti=>function(yi){var yn;Si+=1;const rr=W.createRef();let Jn;const Yi=new Promise(as=>{Jn=as});let Ar=!1,Di;const Ms=W.createElement(Bn,{key:`modal-${Si}`,config:Ti(yi),ref:rr,afterClose:()=>{Di==null||Di()},isSilent:()=>Ar,onConfirm:as=>{Jn(as)}});return Di=(yn=j.current)===null||yn===void 0?void 0:yn.patchElement(Ms),Di&&Ze.push(Di),{destroy:()=>{function as(){var eo;(eo=rr.current)===null||eo===void 0||eo.destroy()}rr.current?as():Je(eo=>[].concat((0,a.Z)(eo),[as]))},update:as=>{function eo(){var pr;(pr=rr.current)===null||pr===void 0||pr.update(as)}rr.current?eo():Je(pr=>[].concat((0,a.Z)(pr),[eo]))},then:as=>(Ar=!0,Yi.then(as))}},[]);return[W.useMemo(()=>({info:ht(d),success:ht(y),error:ht(E),warning:ht(dn),confirm:ht(P)}),[]),W.createElement(_r,{key:"modal-holder",ref:j})]}var fo=Br;function Qs(j){return Hn(dn(j))}const Ys=ll;Ys.useModal=fo,Ys.info=function(we){return Hn(d(we))},Ys.success=function(we){return Hn(y(we))},Ys.error=function(we){return Hn(E(we))},Ys.warning=Qs,Ys.warn=Qs,Ys.confirm=function(we){return Hn(P(we))},Ys.destroyAll=function(){for(;Ze.length;){const we=Ze.pop();we&&we()}},Ys.config=k,Ys._InternalPanelDoNotUseOrYouWillBeFired=Ee;var Ga=Ys},98798:function(ji,It,M){"use strict";M.d(It,{A:function(){return se},f:function(){return Pe}});var a=M(90977);let W=Object.assign({},a.Z.Modal),z=[];const ie=()=>z.reduce((J,oe)=>Object.assign(Object.assign({},J),oe),a.Z.Modal);function Pe(J){if(J){const oe=Object.assign({},J);return z.push(oe),W=ie(),()=>{z=z.filter(fe=>fe!==oe),W=ie()}}W=Object.assign({},a.Z.Modal)}function se(){return W}},7905:function(ji,It,M){"use strict";M.d(It,{Z:function(){return Bt}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(83974);const Pe=["xxl","xl","lg","md","sm","xs"],se=He=>({xs:`(max-width: ${He.screenXSMax}px)`,sm:`(min-width: ${He.screenSM}px)`,md:`(min-width: ${He.screenMD}px)`,lg:`(min-width: ${He.screenLG}px)`,xl:`(min-width: ${He.screenXL}px)`,xxl:`(min-width: ${He.screenXXL}px)`}),J=He=>{const Fe=He,Vt=[].concat(Pe).reverse();return Vt.forEach((_t,et)=>{const Kt=_t.toUpperCase(),wt=`screen${Kt}Min`,pt=`screen${Kt}`;if(!(Fe[wt]<=Fe[pt]))throw new Error(`${wt}<=${pt} fails : !(${Fe[wt]}<=${Fe[pt]})`);if(et<Vt.length-1){const je=`screen${Kt}Max`;if(!(Fe[pt]<=Fe[je]))throw new Error(`${pt}<=${je} fails : !(${Fe[pt]}<=${Fe[je]})`);const Le=`screen${Vt[et+1].toUpperCase()}Min`;if(!(Fe[je]<=Fe[Le]))throw new Error(`${je}<=${Le} fails : !(${Fe[je]}<=${Fe[Le]})`)}}),He},oe=(He,Fe)=>{if(Fe){for(const Vt of Pe)if(He[Vt]&&(Fe==null?void 0:Fe[Vt])!==void 0)return Fe[Vt]}};var Me=()=>{const[,He]=(0,ie.ZP)(),Fe=se(J(He));return a.useMemo(()=>{const Vt=new Map;let _t=-1,et={};return{responsiveMap:Fe,matchHandlers:{},dispatch(Kt){return et=Kt,Vt.forEach(wt=>wt(et)),Vt.size>=1},subscribe(Kt){return Vt.size||this.register(),_t+=1,Vt.set(_t,Kt),Kt(et),_t},unsubscribe(Kt){Vt.delete(Kt),Vt.size||this.unregister()},register(){Object.keys(Fe).forEach(Kt=>{const wt=Fe[Kt],pt=Ct=>{let{matches:Le}=Ct;this.dispatch(Object.assign(Object.assign({},et),{[Kt]:Le}))},je=window.matchMedia(wt);je.addListener(pt),this.matchHandlers[wt]={mql:je,listener:pt},pt(je)})},unregister(){Object.keys(Fe).forEach(Kt=>{const wt=Fe[Kt],pt=this.matchHandlers[wt];pt==null||pt.mql.removeListener(pt==null?void 0:pt.listener)}),Vt.clear()}}},[He])},tt=M(49376),Be=M(46694);function ye(){const[,He]=a.useReducer(Fe=>Fe+1,0);return He}function $t(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Vt=(0,a.useRef)(Fe),_t=ye(),et=Me();return(0,Be.Z)(()=>{const Kt=et.subscribe(wt=>{Vt.current=wt,He&&_t()});return()=>et.unsubscribe(Kt)},[]),Vt.current}var qe=$t;function Ye(He,Fe){const Vt=[void 0,void 0],_t=Array.isArray(He)?He:[He,void 0],et=Fe||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return _t.forEach((Kt,wt)=>{if(typeof Kt=="object"&&Kt!==null)for(let pt=0;pt<Pe.length;pt++){const je=Pe[pt];if(et[je]&&Kt[je]!==void 0){Vt[wt]=Kt[je];break}}else Vt[wt]=Kt}),Vt}var vt=M(19391),Oe=M(4470),ee=function(He,Fe){var Vt={};for(var _t in He)Object.prototype.hasOwnProperty.call(He,_t)&&Fe.indexOf(_t)<0&&(Vt[_t]=He[_t]);if(He!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,_t=Object.getOwnPropertySymbols(He);et<_t.length;et++)Fe.indexOf(_t[et])<0&&Object.prototype.propertyIsEnumerable.call(He,_t[et])&&(Vt[_t[et]]=He[_t[et]]);return Vt};const xt=null,de=null;function re(He,Fe){const[Vt,_t]=a.useState(typeof He=="string"?He:""),et=()=>{if(typeof He=="string"&&_t(He),typeof He=="object")for(let Kt=0;Kt<Pe.length;Kt++){const wt=Pe[Kt];if(!Fe||!Fe[wt])continue;const pt=He[wt];if(pt!==void 0){_t(pt);return}}};return a.useEffect(()=>{et()},[JSON.stringify(He),Fe]),Vt}var T=a.forwardRef((He,Fe)=>{const{prefixCls:Vt,justify:_t,align:et,className:Kt,style:wt,children:pt,gutter:je=0,wrap:Ct}=He,Le=ee(He,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:st,direction:zt}=a.useContext(tt.E_),Yt=qe(!0,null),xn=re(et,Yt),Zn=re(_t,Yt),Yn=st("row",Vt),[Fn,si,qi]=(0,Oe.VM)(Yn),li=Ye(je,Yt),fi=z()(Yn,{[`${Yn}-no-wrap`]:Ct===!1,[`${Yn}-${Zn}`]:Zn,[`${Yn}-${xn}`]:xn,[`${Yn}-rtl`]:zt==="rtl"},Kt,si,qi),Oi={},Ei=li[0]!=null&&li[0]>0?li[0]/-2:void 0;Ei&&(Oi.marginLeft=Ei,Oi.marginRight=Ei);const[Xt,rt]=li;Oi.rowGap=rt;const Pt=a.useMemo(()=>({gutter:[Xt,rt],wrap:Ct}),[Xt,rt,Ct]);return Fn(a.createElement(vt.Z.Provider,{value:Pt},a.createElement("div",Object.assign({},Le,{className:fi,style:Object.assign(Object.assign({},Oi),wt),ref:Fe}),pt)))}),Bt=T},10111:function(ji,It,M){"use strict";M.d(It,{BR:function(){return tt},ri:function(){return Me}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(27727),Pe=M(49376),se=M(57350),J=M(3306),oe=function($t,qe){var Ye={};for(var vt in $t)Object.prototype.hasOwnProperty.call($t,vt)&&qe.indexOf(vt)<0&&(Ye[vt]=$t[vt]);if($t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Oe=0,vt=Object.getOwnPropertySymbols($t);Oe<vt.length;Oe++)qe.indexOf(vt[Oe])<0&&Object.prototype.propertyIsEnumerable.call($t,vt[Oe])&&(Ye[vt[Oe]]=$t[vt[Oe]]);return Ye};const fe=a.createContext(null),Me=($t,qe)=>{const Ye=a.useContext(fe),vt=a.useMemo(()=>{if(!Ye)return"";const{compactDirection:Oe,isFirstItem:ee,isLastItem:xt}=Ye,de=Oe==="vertical"?"-vertical-":"-";return z()(`${$t}-compact${de}item`,{[`${$t}-compact${de}first-item`]:ee,[`${$t}-compact${de}last-item`]:xt,[`${$t}-compact${de}item-rtl`]:qe==="rtl"})},[$t,qe,Ye]);return{compactSize:Ye==null?void 0:Ye.compactSize,compactDirection:Ye==null?void 0:Ye.compactDirection,compactItemClassnames:vt}},tt=$t=>{const{children:qe}=$t;return a.createElement(fe.Provider,{value:null},qe)},Be=$t=>{const{children:qe}=$t,Ye=oe($t,["children"]);return a.createElement(fe.Provider,{value:a.useMemo(()=>Ye,[Ye])},qe)},ye=$t=>{const{getPrefixCls:qe,direction:Ye}=a.useContext(Pe.E_),{size:vt,direction:Oe,block:ee,prefixCls:xt,className:de,rootClassName:re,children:Rt}=$t,T=oe($t,["size","direction","block","prefixCls","className","rootClassName","children"]),Bt=(0,se.Z)(pt=>vt!=null?vt:pt),He=qe("space-compact",xt),[Fe,Vt]=(0,J.Z)(He),_t=z()(He,Vt,{[`${He}-rtl`]:Ye==="rtl",[`${He}-block`]:ee,[`${He}-vertical`]:Oe==="vertical"},de,re),et=a.useContext(fe),Kt=(0,ie.Z)(Rt),wt=a.useMemo(()=>Kt.map((pt,je)=>{const Ct=(pt==null?void 0:pt.key)||`${He}-item-${je}`;return a.createElement(Be,{key:Ct,compactSize:Bt,compactDirection:Oe,isFirstItem:je===0&&(!et||(et==null?void 0:et.isFirstItem)),isLastItem:je===Kt.length-1&&(!et||(et==null?void 0:et.isLastItem))},pt)}),[vt,Kt,et]);return Kt.length===0?null:Fe(a.createElement("div",Object.assign({className:_t},T),wt))};It.ZP=ye},15756:function(ji,It,M){"use strict";M.d(It,{Z:function(){return vt}});var a=M(75271),W=M(82187),z=M.n(W),ie=M(27727);function Pe(Oe){return["small","middle","large"].includes(Oe)}function se(Oe){return Oe?typeof Oe=="number"&&!Number.isNaN(Oe):!1}var J=M(49376),oe=M(10111);const fe=a.createContext({latestIndex:0}),Me=fe.Provider;var Be=Oe=>{let{className:ee,index:xt,children:de,split:re,style:Rt}=Oe;const{latestIndex:T}=a.useContext(fe);return de==null?null:a.createElement(a.Fragment,null,a.createElement("div",{className:ee,style:Rt},de),xt<T&&re&&a.createElement("span",{className:`${ee}-split`},re))},ye=M(3306),$t=function(Oe,ee){var xt={};for(var de in Oe)Object.prototype.hasOwnProperty.call(Oe,de)&&ee.indexOf(de)<0&&(xt[de]=Oe[de]);if(Oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,de=Object.getOwnPropertySymbols(Oe);re<de.length;re++)ee.indexOf(de[re])<0&&Object.prototype.propertyIsEnumerable.call(Oe,de[re])&&(xt[de[re]]=Oe[de[re]]);return xt};const Ye=a.forwardRef((Oe,ee)=>{var xt;const{getPrefixCls:de,direction:re,size:Rt,className:T,style:Bt,classNames:He,styles:Fe}=(0,J.dj)("space"),{size:Vt=Rt!=null?Rt:"small",align:_t,className:et,rootClassName:Kt,children:wt,direction:pt="horizontal",prefixCls:je,split:Ct,style:Le,wrap:st=!1,classNames:zt,styles:Yt}=Oe,xn=$t(Oe,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[Zn,Yn]=Array.isArray(Vt)?Vt:[Vt,Vt],Fn=Pe(Yn),si=Pe(Zn),qi=se(Yn),li=se(Zn),fi=(0,ie.Z)(wt,{keepEmpty:!0}),Oi=_t===void 0&&pt==="horizontal"?"center":_t,Ei=de("space",je),[Xt,rt,Pt]=(0,ye.Z)(Ei),bn=z()(Ei,T,rt,`${Ei}-${pt}`,{[`${Ei}-rtl`]:re==="rtl",[`${Ei}-align-${Oi}`]:Oi,[`${Ei}-gap-row-${Yn}`]:Fn,[`${Ei}-gap-col-${Zn}`]:si},et,Kt,Pt),di=z()(`${Ei}-item`,(xt=zt==null?void 0:zt.item)!==null&&xt!==void 0?xt:He.item);let en=0;const vr=fi.map((er,Ui)=>{var Et;er!=null&&(en=Ui);const vn=(er==null?void 0:er.key)||`${di}-${Ui}`;return a.createElement(Be,{className:di,key:vn,index:Ui,split:Ct,style:(Et=Yt==null?void 0:Yt.item)!==null&&Et!==void 0?Et:Fe.item},er)}),Er=a.useMemo(()=>({latestIndex:en}),[en]);if(fi.length===0)return null;const tr={};return st&&(tr.flexWrap="wrap"),!si&&li&&(tr.columnGap=Zn),!Fn&&qi&&(tr.rowGap=Yn),Xt(a.createElement("div",Object.assign({ref:ee,className:bn,style:Object.assign(Object.assign(Object.assign({},tr),Bt),Le)},xn),a.createElement(Me,{value:Er},vr)))});Ye.Compact=oe.ZP;var vt=Ye},3306:function(ji,It,M){"use strict";M.d(It,{Z:function(){return oe}});var a=M(46007),W=M(84458),ie=fe=>{const{componentCls:Me}=fe;return{[Me]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const Pe=fe=>{const{componentCls:Me,antCls:tt}=fe;return{[Me]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${Me}-item:empty`]:{display:"none"},[`${Me}-item > ${tt}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},se=fe=>{const{componentCls:Me}=fe;return{[Me]:{"&-gap-row-small":{rowGap:fe.spaceGapSmallSize},"&-gap-row-middle":{rowGap:fe.spaceGapMiddleSize},"&-gap-row-large":{rowGap:fe.spaceGapLargeSize},"&-gap-col-small":{columnGap:fe.spaceGapSmallSize},"&-gap-col-middle":{columnGap:fe.spaceGapMiddleSize},"&-gap-col-large":{columnGap:fe.spaceGapLargeSize}}}},J=()=>({});var oe=(0,a.I$)("Space",fe=>{const Me=(0,W.IX)(fe,{spaceGapSmallSize:fe.paddingXS,spaceGapMiddleSize:fe.padding,spaceGapLargeSize:fe.paddingLG});return[Pe(Me),se(Me),ie(Me)]},()=>({}),{resetStyle:!1})},94550:function(ji,It,M){"use strict";M.d(It,{c:function(){return z}});function a(ie,Pe,se){const{focusElCls:J,focus:oe,borderElCls:fe}=se,Me=fe?"> *":"",tt=["hover",oe?"focus":null,"active"].filter(Boolean).map(Be=>`&:${Be} ${Me}`).join(",");return{[`&-item:not(${Pe}-last-item)`]:{marginInlineEnd:ie.calc(ie.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[tt]:{zIndex:2}},J?{[`&${J}`]:{zIndex:2}}:{}),{[`&[disabled] ${Me}`]:{zIndex:0}})}}function W(ie,Pe,se){const{borderElCls:J}=se,oe=J?`> ${J}`:"";return{[`&-item:not(${Pe}-first-item):not(${Pe}-last-item) ${oe}`]:{borderRadius:0},[`&-item:not(${Pe}-last-item)${Pe}-first-item`]:{[`& ${oe}, &${ie}-sm ${oe}, &${ie}-lg ${oe}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${Pe}-first-item)${Pe}-last-item`]:{[`& ${oe}, &${ie}-sm ${oe}, &${ie}-lg ${oe}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function z(ie){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:se}=ie,J=`${se}-compact`;return{[J]:Object.assign(Object.assign({},a(ie,J,Pe)),W(se,J,Pe))}}},64336:function(ji,It,M){"use strict";M.d(It,{JT:function(){return Me},Lx:function(){return se},Qy:function(){return fe},Ro:function(){return ie},Wf:function(){return z},dF:function(){return Pe},du:function(){return J},oN:function(){return oe},vS:function(){return W}});var a=M(47424);const W={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},z=function(Be){let ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:Be.colorText,fontSize:Be.fontSize,lineHeight:Be.lineHeight,listStyle:"none",fontFamily:ye?"inherit":Be.fontFamily}},ie=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Pe=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),se=Be=>({a:{color:Be.colorLink,textDecoration:Be.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${Be.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:Be.colorLinkHover},"&:active":{color:Be.colorLinkActive},"&:active, &:hover":{textDecoration:Be.linkHoverDecoration,outline:0},"&:focus":{textDecoration:Be.linkFocusDecoration,outline:0},"&[disabled]":{color:Be.colorTextDisabled,cursor:"not-allowed"}}}),J=(Be,ye,$t,qe)=>{const Ye=`[class^="${ye}"], [class*=" ${ye}"]`,vt=$t?`.${$t}`:Ye,Oe={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let ee={};return qe!==!1&&(ee={fontFamily:Be.fontFamily,fontSize:Be.fontSize}),{[vt]:Object.assign(Object.assign(Object.assign({},ee),Oe),{[Ye]:Oe})}},oe=(Be,ye)=>({outline:`${(0,a.bf)(Be.lineWidthFocus)} solid ${Be.colorPrimaryBorder}`,outlineOffset:ye!=null?ye:1,transition:"outline-offset 0s, outline 0s"}),fe=(Be,ye)=>({"&:focus-visible":Object.assign({},oe(Be,ye))}),Me=Be=>({[`.${Be}`]:Object.assign(Object.assign({},ie()),{[`.${Be} .${Be}-icon`]:{display:"block"}})}),tt=Be=>Object.assign(Object.assign({color:Be.colorLink,textDecoration:Be.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${Be.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},fe(Be)),{"&:focus, &:hover":{color:Be.colorLinkHover},"&:active":{color:Be.colorLinkActive}})},24195:function(ji,It,M){"use strict";M.d(It,{R:function(){return z}});const a=ie=>({animationDuration:ie,animationFillMode:"both"}),W=ie=>({animationDuration:ie,animationFillMode:"both"}),z=function(ie,Pe,se,J){const fe=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${fe}${ie}-enter,
      ${fe}${ie}-appear
    `]:Object.assign(Object.assign({},a(J)),{animationPlayState:"paused"}),[`${fe}${ie}-leave`]:Object.assign(Object.assign({},W(J)),{animationPlayState:"paused"}),[`
      ${fe}${ie}-enter${ie}-enter-active,
      ${fe}${ie}-appear${ie}-appear-active
    `]:{animationName:Pe,animationPlayState:"running"},[`${fe}${ie}-leave${ie}-leave-active`]:{animationName:se,animationPlayState:"running",pointerEvents:"none"}}}},93874:function(ji,It,M){"use strict";M.d(It,{_y:function(){return Ye}});var a=M(47424),W=M(24195);const z=new a.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),ie=new a.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Pe=new a.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),se=new a.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),J=new a.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),oe=new a.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),fe=new a.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Me=new a.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),tt=new a.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Be=new a.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),ye=new a.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),$t=new a.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),qe={zoom:{inKeyframes:z,outKeyframes:ie},"zoom-big":{inKeyframes:Pe,outKeyframes:se},"zoom-big-fast":{inKeyframes:Pe,outKeyframes:se},"zoom-left":{inKeyframes:fe,outKeyframes:Me},"zoom-right":{inKeyframes:tt,outKeyframes:Be},"zoom-up":{inKeyframes:J,outKeyframes:oe},"zoom-down":{inKeyframes:ye,outKeyframes:$t}},Ye=(vt,Oe)=>{const{antCls:ee}=vt,xt=`${ee}-${Oe}`,{inKeyframes:de,outKeyframes:re}=qe[Oe];return[(0,W.R)(xt,de,re,Oe==="zoom-big-fast"?vt.motionDurationFast:vt.motionDurationMid),{[`
        ${xt}-enter,
        ${xt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:vt.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${xt}-leave`]:{animationTimingFunction:vt.motionEaseInOutCirc}}]}},6712:function(ji,It,M){"use strict";M.d(It,{Z:function(){return pt}});var a=M(75271),W=M(79312),z=M(82187),ie=M.n(z),Pe=M(52003),se=M(65213),J=M(75611),oe=M(99960),fe=M(90523),Me=M(28114),tt=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],Be=a.forwardRef(function(je,Ct){var Le,st=je.prefixCls,zt=st===void 0?"rc-switch":st,Yt=je.className,xn=je.checked,Zn=je.defaultChecked,Yn=je.disabled,Fn=je.loadingIcon,si=je.checkedChildren,qi=je.unCheckedChildren,li=je.onClick,fi=je.onChange,Oi=je.onKeyDown,Ei=(0,oe.Z)(je,tt),Xt=(0,fe.Z)(!1,{value:xn,defaultValue:Zn}),rt=(0,J.Z)(Xt,2),Pt=rt[0],bn=rt[1];function di(tr,er){var Ui=Pt;return Yn||(Ui=tr,bn(Ui),fi==null||fi(Ui,er)),Ui}function en(tr){tr.which===Me.Z.LEFT?di(!1,tr):tr.which===Me.Z.RIGHT&&di(!0,tr),Oi==null||Oi(tr)}function vr(tr){var er=di(!Pt,tr);li==null||li(er,tr)}var Er=ie()(zt,Yt,(Le={},(0,se.Z)(Le,"".concat(zt,"-checked"),Pt),(0,se.Z)(Le,"".concat(zt,"-disabled"),Yn),Le));return a.createElement("button",(0,Pe.Z)({},Ei,{type:"button",role:"switch","aria-checked":Pt,disabled:Yn,className:Er,ref:Ct,onKeyDown:en,onClick:vr}),Fn,a.createElement("span",{className:"".concat(zt,"-inner")},a.createElement("span",{className:"".concat(zt,"-inner-checked")},si),a.createElement("span",{className:"".concat(zt,"-inner-unchecked")},qi)))});Be.displayName="Switch";var ye=Be,$t=M(59735),qe=M(49376),Ye=M(91207),vt=M(57350),Oe=M(47424),ee=M(84432),xt=M(64336),de=M(46007),re=M(84458);const Rt=je=>{const{componentCls:Ct,trackHeightSM:Le,trackPadding:st,trackMinWidthSM:zt,innerMinMarginSM:Yt,innerMaxMarginSM:xn,handleSizeSM:Zn,calc:Yn}=je,Fn=`${Ct}-inner`,si=(0,Oe.bf)(Yn(Zn).add(Yn(st).mul(2)).equal()),qi=(0,Oe.bf)(Yn(xn).mul(2).equal());return{[Ct]:{[`&${Ct}-small`]:{minWidth:zt,height:Le,lineHeight:(0,Oe.bf)(Le),[`${Ct}-inner`]:{paddingInlineStart:xn,paddingInlineEnd:Yt,[`${Fn}-checked, ${Fn}-unchecked`]:{minHeight:Le},[`${Fn}-checked`]:{marginInlineStart:`calc(-100% + ${si} - ${qi})`,marginInlineEnd:`calc(100% - ${si} + ${qi})`},[`${Fn}-unchecked`]:{marginTop:Yn(Le).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${Ct}-handle`]:{width:Zn,height:Zn},[`${Ct}-loading-icon`]:{top:Yn(Yn(Zn).sub(je.switchLoadingIconSize)).div(2).equal(),fontSize:je.switchLoadingIconSize},[`&${Ct}-checked`]:{[`${Ct}-inner`]:{paddingInlineStart:Yt,paddingInlineEnd:xn,[`${Fn}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${Fn}-unchecked`]:{marginInlineStart:`calc(100% - ${si} + ${qi})`,marginInlineEnd:`calc(-100% + ${si} - ${qi})`}},[`${Ct}-handle`]:{insetInlineStart:`calc(100% - ${(0,Oe.bf)(Yn(Zn).add(st).equal())})`}},[`&:not(${Ct}-disabled):active`]:{[`&:not(${Ct}-checked) ${Fn}`]:{[`${Fn}-unchecked`]:{marginInlineStart:Yn(je.marginXXS).div(2).equal(),marginInlineEnd:Yn(je.marginXXS).mul(-1).div(2).equal()}},[`&${Ct}-checked ${Fn}`]:{[`${Fn}-checked`]:{marginInlineStart:Yn(je.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:Yn(je.marginXXS).div(2).equal()}}}}}}},T=je=>{const{componentCls:Ct,handleSize:Le,calc:st}=je;return{[Ct]:{[`${Ct}-loading-icon${je.iconCls}`]:{position:"relative",top:st(st(Le).sub(je.fontSize)).div(2).equal(),color:je.switchLoadingIconColor,verticalAlign:"top"},[`&${Ct}-checked ${Ct}-loading-icon`]:{color:je.switchColor}}}},Bt=je=>{const{componentCls:Ct,trackPadding:Le,handleBg:st,handleShadow:zt,handleSize:Yt,calc:xn}=je,Zn=`${Ct}-handle`;return{[Ct]:{[Zn]:{position:"absolute",top:Le,insetInlineStart:Le,width:Yt,height:Yt,transition:`all ${je.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:st,borderRadius:xn(Yt).div(2).equal(),boxShadow:zt,transition:`all ${je.switchDuration} ease-in-out`,content:'""'}},[`&${Ct}-checked ${Zn}`]:{insetInlineStart:`calc(100% - ${(0,Oe.bf)(xn(Yt).add(Le).equal())})`},[`&:not(${Ct}-disabled):active`]:{[`${Zn}::before`]:{insetInlineEnd:je.switchHandleActiveInset,insetInlineStart:0},[`&${Ct}-checked ${Zn}::before`]:{insetInlineEnd:0,insetInlineStart:je.switchHandleActiveInset}}}}},He=je=>{const{componentCls:Ct,trackHeight:Le,trackPadding:st,innerMinMargin:zt,innerMaxMargin:Yt,handleSize:xn,calc:Zn}=je,Yn=`${Ct}-inner`,Fn=(0,Oe.bf)(Zn(xn).add(Zn(st).mul(2)).equal()),si=(0,Oe.bf)(Zn(Yt).mul(2).equal());return{[Ct]:{[Yn]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:Yt,paddingInlineEnd:zt,transition:`padding-inline-start ${je.switchDuration} ease-in-out, padding-inline-end ${je.switchDuration} ease-in-out`,[`${Yn}-checked, ${Yn}-unchecked`]:{display:"block",color:je.colorTextLightSolid,fontSize:je.fontSizeSM,transition:`margin-inline-start ${je.switchDuration} ease-in-out, margin-inline-end ${je.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:Le},[`${Yn}-checked`]:{marginInlineStart:`calc(-100% + ${Fn} - ${si})`,marginInlineEnd:`calc(100% - ${Fn} + ${si})`},[`${Yn}-unchecked`]:{marginTop:Zn(Le).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${Ct}-checked ${Yn}`]:{paddingInlineStart:zt,paddingInlineEnd:Yt,[`${Yn}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${Yn}-unchecked`]:{marginInlineStart:`calc(100% - ${Fn} + ${si})`,marginInlineEnd:`calc(-100% + ${Fn} - ${si})`}},[`&:not(${Ct}-disabled):active`]:{[`&:not(${Ct}-checked) ${Yn}`]:{[`${Yn}-unchecked`]:{marginInlineStart:Zn(st).mul(2).equal(),marginInlineEnd:Zn(st).mul(-1).mul(2).equal()}},[`&${Ct}-checked ${Yn}`]:{[`${Yn}-checked`]:{marginInlineStart:Zn(st).mul(-1).mul(2).equal(),marginInlineEnd:Zn(st).mul(2).equal()}}}}}},Fe=je=>{const{componentCls:Ct,trackHeight:Le,trackMinWidth:st}=je;return{[Ct]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,xt.Wf)(je)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:st,height:Le,lineHeight:(0,Oe.bf)(Le),verticalAlign:"middle",background:je.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${je.motionDurationMid}`,userSelect:"none",[`&:hover:not(${Ct}-disabled)`]:{background:je.colorTextTertiary}}),(0,xt.Qy)(je)),{[`&${Ct}-checked`]:{background:je.switchColor,[`&:hover:not(${Ct}-disabled)`]:{background:je.colorPrimaryHover}},[`&${Ct}-loading, &${Ct}-disabled`]:{cursor:"not-allowed",opacity:je.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${Ct}-rtl`]:{direction:"rtl"}})}},Vt=je=>{const{fontSize:Ct,lineHeight:Le,controlHeight:st,colorWhite:zt}=je,Yt=Ct*Le,xn=st/2,Zn=2,Yn=Yt-Zn*2,Fn=xn-Zn*2;return{trackHeight:Yt,trackHeightSM:xn,trackMinWidth:Yn*2+Zn*4,trackMinWidthSM:Fn*2+Zn*2,trackPadding:Zn,handleBg:zt,handleSize:Yn,handleSizeSM:Fn,handleShadow:`0 2px 4px 0 ${new ee.t("#00230b").setA(.2).toRgbString()}`,innerMinMargin:Yn/2,innerMaxMargin:Yn+Zn+Zn*2,innerMinMarginSM:Fn/2,innerMaxMarginSM:Fn+Zn+Zn*2}};var _t=(0,de.I$)("Switch",je=>{const Ct=(0,re.IX)(je,{switchDuration:je.motionDurationMid,switchColor:je.colorPrimary,switchDisabledOpacity:je.opacityLoading,switchLoadingIconSize:je.calc(je.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${je.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Fe(Ct),He(Ct),Bt(Ct),T(Ct),Rt(Ct)]},Vt),et=function(je,Ct){var Le={};for(var st in je)Object.prototype.hasOwnProperty.call(je,st)&&Ct.indexOf(st)<0&&(Le[st]=je[st]);if(je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var zt=0,st=Object.getOwnPropertySymbols(je);zt<st.length;zt++)Ct.indexOf(st[zt])<0&&Object.prototype.propertyIsEnumerable.call(je,st[zt])&&(Le[st[zt]]=je[st[zt]]);return Le};const wt=a.forwardRef((je,Ct)=>{const{prefixCls:Le,size:st,disabled:zt,loading:Yt,className:xn,rootClassName:Zn,style:Yn,checked:Fn,value:si,defaultChecked:qi,defaultValue:li,onChange:fi}=je,Oi=et(je,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[Ei,Xt]=(0,fe.Z)(!1,{value:Fn!=null?Fn:si,defaultValue:qi!=null?qi:li}),{getPrefixCls:rt,direction:Pt,switch:bn}=a.useContext(qe.E_),di=a.useContext(Ye.Z),en=(zt!=null?zt:di)||Yt,vr=rt("switch",Le),Er=a.createElement("div",{className:`${vr}-handle`},Yt&&a.createElement(W.Z,{className:`${vr}-loading-icon`})),[tr,er,Ui]=_t(vr),Et=(0,vt.Z)(st),vn=ie()(bn==null?void 0:bn.className,{[`${vr}-small`]:Et==="small",[`${vr}-loading`]:Yt,[`${vr}-rtl`]:Pt==="rtl"},xn,Zn,er,Ui),Mn=Object.assign(Object.assign({},bn==null?void 0:bn.style),Yn),gi=function(){Xt(arguments.length<=0?void 0:arguments[0]),fi==null||fi.apply(void 0,arguments)};return tr(a.createElement($t.Z,{component:"Switch"},a.createElement(ye,Object.assign({},Oi,{checked:Ei,onChange:gi,prefixCls:vr,className:vn,style:Mn,disabled:en,ref:Ct,loadingIcon:Er}))))});wt.__ANT_SWITCH=!0;var pt=wt},84212:function(ji,It,M){"use strict";M.d(It,{Mj:function(){return ie},u_:function(){return z}});var a=M(75271),W=M(67509);const z={token:W.Z,override:{override:W.Z},hashed:!0},ie=a.createContext(z)},61107:function(ji,It,M){"use strict";M.d(It,{i:function(){return a}});const a=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},30037:function(ji,It,M){"use strict";M.d(It,{Z:function(){return de}});var a=M(47424),W=M(68640),z=M(67509),ie=M(84432);function Pe(re,Rt){let{generateColorPalettes:T,generateNeutralColorPalettes:Bt}=Rt;const{colorSuccess:He,colorWarning:Fe,colorError:Vt,colorInfo:_t,colorPrimary:et,colorBgBase:Kt,colorTextBase:wt}=re,pt=T(et),je=T(He),Ct=T(Fe),Le=T(Vt),st=T(_t),zt=Bt(Kt,wt),Yt=re.colorLink||re.colorInfo,xn=T(Yt),Zn=new ie.t(Le[1]).mix(new ie.t(Le[3]),50).toHexString();return Object.assign(Object.assign({},zt),{colorPrimaryBg:pt[1],colorPrimaryBgHover:pt[2],colorPrimaryBorder:pt[3],colorPrimaryBorderHover:pt[4],colorPrimaryHover:pt[5],colorPrimary:pt[6],colorPrimaryActive:pt[7],colorPrimaryTextHover:pt[8],colorPrimaryText:pt[9],colorPrimaryTextActive:pt[10],colorSuccessBg:je[1],colorSuccessBgHover:je[2],colorSuccessBorder:je[3],colorSuccessBorderHover:je[4],colorSuccessHover:je[4],colorSuccess:je[6],colorSuccessActive:je[7],colorSuccessTextHover:je[8],colorSuccessText:je[9],colorSuccessTextActive:je[10],colorErrorBg:Le[1],colorErrorBgHover:Le[2],colorErrorBgFilledHover:Zn,colorErrorBgActive:Le[3],colorErrorBorder:Le[3],colorErrorBorderHover:Le[4],colorErrorHover:Le[5],colorError:Le[6],colorErrorActive:Le[7],colorErrorTextHover:Le[8],colorErrorText:Le[9],colorErrorTextActive:Le[10],colorWarningBg:Ct[1],colorWarningBgHover:Ct[2],colorWarningBorder:Ct[3],colorWarningBorderHover:Ct[4],colorWarningHover:Ct[4],colorWarning:Ct[6],colorWarningActive:Ct[7],colorWarningTextHover:Ct[8],colorWarningText:Ct[9],colorWarningTextActive:Ct[10],colorInfoBg:st[1],colorInfoBgHover:st[2],colorInfoBorder:st[3],colorInfoBorderHover:st[4],colorInfoHover:st[4],colorInfo:st[6],colorInfoActive:st[7],colorInfoTextHover:st[8],colorInfoText:st[9],colorInfoTextActive:st[10],colorLinkHover:xn[4],colorLink:xn[6],colorLinkActive:xn[7],colorBgMask:new ie.t("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}var J=re=>{let Rt=re,T=re,Bt=re,He=re;return re<6&&re>=5?Rt=re+1:re<16&&re>=6?Rt=re+2:re>=16&&(Rt=16),re<7&&re>=5?T=4:re<8&&re>=7?T=5:re<14&&re>=8?T=6:re<16&&re>=14?T=7:re>=16&&(T=8),re<6&&re>=2?Bt=1:re>=6&&(Bt=2),re>4&&re<8?He=4:re>=8&&(He=6),{borderRadius:re,borderRadiusXS:Bt,borderRadiusSM:T,borderRadiusLG:Rt,borderRadiusOuter:He}};function oe(re){const{motionUnit:Rt,motionBase:T,borderRadius:Bt,lineWidth:He}=re;return Object.assign({motionDurationFast:`${(T+Rt).toFixed(1)}s`,motionDurationMid:`${(T+Rt*2).toFixed(1)}s`,motionDurationSlow:`${(T+Rt*3).toFixed(1)}s`,lineWidthBold:He+1},J(Bt))}var Me=re=>{const{controlHeight:Rt}=re;return{controlHeightSM:Rt*.75,controlHeightXS:Rt*.5,controlHeightLG:Rt*1.25}},tt=M(44364),ye=re=>{const Rt=(0,tt.Z)(re),T=Rt.map(wt=>wt.size),Bt=Rt.map(wt=>wt.lineHeight),He=T[1],Fe=T[0],Vt=T[2],_t=Bt[1],et=Bt[0],Kt=Bt[2];return{fontSizeSM:Fe,fontSize:He,fontSizeLG:Vt,fontSizeXL:T[3],fontSizeHeading1:T[6],fontSizeHeading2:T[5],fontSizeHeading3:T[4],fontSizeHeading4:T[3],fontSizeHeading5:T[2],lineHeight:_t,lineHeightLG:Kt,lineHeightSM:et,fontHeight:Math.round(_t*He),fontHeightLG:Math.round(Kt*Vt),fontHeightSM:Math.round(et*Fe),lineHeightHeading1:Bt[6],lineHeightHeading2:Bt[5],lineHeightHeading3:Bt[4],lineHeightHeading4:Bt[3],lineHeightHeading5:Bt[2]}};function $t(re){const{sizeUnit:Rt,sizeStep:T}=re;return{sizeXXL:Rt*(T+8),sizeXL:Rt*(T+4),sizeLG:Rt*(T+2),sizeMD:Rt*(T+1),sizeMS:Rt*T,size:Rt*T,sizeSM:Rt*(T-1),sizeXS:Rt*(T-2),sizeXXS:Rt*(T-3)}}const qe=(re,Rt)=>new ie.t(re).setA(Rt).toRgbString(),Ye=(re,Rt)=>new ie.t(re).darken(Rt).toHexString(),vt=re=>{const Rt=(0,W.R_)(re);return{1:Rt[0],2:Rt[1],3:Rt[2],4:Rt[3],5:Rt[4],6:Rt[5],7:Rt[6],8:Rt[4],9:Rt[5],10:Rt[6]}},Oe=(re,Rt)=>{const T=re||"#fff",Bt=Rt||"#000";return{colorBgBase:T,colorTextBase:Bt,colorText:qe(Bt,.88),colorTextSecondary:qe(Bt,.65),colorTextTertiary:qe(Bt,.45),colorTextQuaternary:qe(Bt,.25),colorFill:qe(Bt,.15),colorFillSecondary:qe(Bt,.06),colorFillTertiary:qe(Bt,.04),colorFillQuaternary:qe(Bt,.02),colorBgSolid:qe(Bt,1),colorBgSolidHover:qe(Bt,.75),colorBgSolidActive:qe(Bt,.95),colorBgLayout:Ye(T,4),colorBgContainer:Ye(T,0),colorBgElevated:Ye(T,0),colorBgSpotlight:qe(Bt,.85),colorBgBlur:"transparent",colorBorder:Ye(T,15),colorBorderSecondary:Ye(T,6)}};function ee(re){W.ez.pink=W.ez.magenta,W.Ti.pink=W.Ti.magenta;const Rt=Object.keys(z.M).map(T=>{const Bt=re[T]===W.ez[T]?W.Ti[T]:(0,W.R_)(re[T]);return Array.from({length:10},()=>1).reduce((He,Fe,Vt)=>(He[`${T}-${Vt+1}`]=Bt[Vt],He[`${T}${Vt+1}`]=Bt[Vt],He),{})}).reduce((T,Bt)=>(T=Object.assign(Object.assign({},T),Bt),T),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},re),Rt),Pe(re,{generateColorPalettes:vt,generateNeutralColorPalettes:Oe})),ye(re.fontSize)),$t(re)),Me(re)),oe(re))}var de=(0,a.jG)(ee)},67509:function(ji,It,M){"use strict";M.d(It,{M:function(){return a}});const a={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},W=Object.assign(Object.assign({},a),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});It.Z=W},44364:function(ji,It,M){"use strict";M.d(It,{D:function(){return a},Z:function(){return W}});function a(z){return(z+8)/z}function W(z){const ie=Array.from({length:10}).map((Pe,se)=>{const J=se-1,oe=z*Math.pow(Math.E,J/5),fe=se>1?Math.floor(oe):Math.ceil(oe);return Math.floor(fe/2)*2});return ie[1]=z,ie.map(Pe=>({size:Pe,lineHeight:a(Pe)}))}},83974:function(ji,It,M){"use strict";M.d(It,{ZP:function(){return vt},NJ:function(){return ye}});var a=M(75271),W=M(47424),z="5.24.7",ie=z,Pe=M(84212),se=M(30037),J=M(67509),oe=M(84432),fe=M(61875),Me=function(Oe,ee){var xt={};for(var de in Oe)Object.prototype.hasOwnProperty.call(Oe,de)&&ee.indexOf(de)<0&&(xt[de]=Oe[de]);if(Oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,de=Object.getOwnPropertySymbols(Oe);re<de.length;re++)ee.indexOf(de[re])<0&&Object.prototype.propertyIsEnumerable.call(Oe,de[re])&&(xt[de[re]]=Oe[de[re]]);return xt};function tt(Oe){const{override:ee}=Oe,xt=Me(Oe,["override"]),de=Object.assign({},ee);Object.keys(J.Z).forEach(et=>{delete de[et]});const re=Object.assign(Object.assign({},xt),de),Rt=480,T=576,Bt=768,He=992,Fe=1200,Vt=1600;if(re.motion===!1){const et="0s";re.motionDurationFast=et,re.motionDurationMid=et,re.motionDurationSlow=et}return Object.assign(Object.assign(Object.assign({},re),{colorFillContent:re.colorFillSecondary,colorFillContentHover:re.colorFill,colorFillAlter:re.colorFillQuaternary,colorBgContainerDisabled:re.colorFillTertiary,colorBorderBg:re.colorBgContainer,colorSplit:(0,fe.Z)(re.colorBorderSecondary,re.colorBgContainer),colorTextPlaceholder:re.colorTextQuaternary,colorTextDisabled:re.colorTextQuaternary,colorTextHeading:re.colorText,colorTextLabel:re.colorTextSecondary,colorTextDescription:re.colorTextTertiary,colorTextLightSolid:re.colorWhite,colorHighlight:re.colorError,colorBgTextHover:re.colorFillSecondary,colorBgTextActive:re.colorFill,colorIcon:re.colorTextTertiary,colorIconHover:re.colorText,colorErrorOutline:(0,fe.Z)(re.colorErrorBg,re.colorBgContainer),colorWarningOutline:(0,fe.Z)(re.colorWarningBg,re.colorBgContainer),fontSizeIcon:re.fontSizeSM,lineWidthFocus:re.lineWidth*3,lineWidth:re.lineWidth,controlOutlineWidth:re.lineWidth*2,controlInteractiveSize:re.controlHeight/2,controlItemBgHover:re.colorFillTertiary,controlItemBgActive:re.colorPrimaryBg,controlItemBgActiveHover:re.colorPrimaryBgHover,controlItemBgActiveDisabled:re.colorFill,controlTmpOutline:re.colorFillQuaternary,controlOutline:(0,fe.Z)(re.colorPrimaryBg,re.colorBgContainer),lineType:re.lineType,borderRadius:re.borderRadius,borderRadiusXS:re.borderRadiusXS,borderRadiusSM:re.borderRadiusSM,borderRadiusLG:re.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:re.sizeXXS,paddingXS:re.sizeXS,paddingSM:re.sizeSM,padding:re.size,paddingMD:re.sizeMD,paddingLG:re.sizeLG,paddingXL:re.sizeXL,paddingContentHorizontalLG:re.sizeLG,paddingContentVerticalLG:re.sizeMS,paddingContentHorizontal:re.sizeMS,paddingContentVertical:re.sizeSM,paddingContentHorizontalSM:re.size,paddingContentVerticalSM:re.sizeXS,marginXXS:re.sizeXXS,marginXS:re.sizeXS,marginSM:re.sizeSM,margin:re.size,marginMD:re.sizeMD,marginLG:re.sizeLG,marginXL:re.sizeXL,marginXXL:re.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:Rt,screenXSMin:Rt,screenXSMax:T-1,screenSM:T,screenSMMin:T,screenSMMax:Bt-1,screenMD:Bt,screenMDMin:Bt,screenMDMax:He-1,screenLG:He,screenLGMin:He,screenLGMax:Fe-1,screenXL:Fe,screenXLMin:Fe,screenXLMax:Vt-1,screenXXL:Vt,screenXXLMin:Vt,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new oe.t("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new oe.t("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new oe.t("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),de)}var Be=function(Oe,ee){var xt={};for(var de in Oe)Object.prototype.hasOwnProperty.call(Oe,de)&&ee.indexOf(de)<0&&(xt[de]=Oe[de]);if(Oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,de=Object.getOwnPropertySymbols(Oe);re<de.length;re++)ee.indexOf(de[re])<0&&Object.prototype.propertyIsEnumerable.call(Oe,de[re])&&(xt[de[re]]=Oe[de[re]]);return xt};const ye={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},$t={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},qe={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Ye=(Oe,ee,xt)=>{const de=xt.getDerivativeToken(Oe),{override:re}=ee,Rt=Be(ee,["override"]);let T=Object.assign(Object.assign({},de),{override:re});return T=tt(T),Rt&&Object.entries(Rt).forEach(Bt=>{let[He,Fe]=Bt;const{theme:Vt}=Fe,_t=Be(Fe,["theme"]);let et=_t;Vt&&(et=Ye(Object.assign(Object.assign({},T),_t),{override:_t},Vt)),T[He]=et}),T};function vt(){const{token:Oe,hashed:ee,theme:xt,override:de,cssVar:re}=a.useContext(Pe.Mj),Rt=`${ie}-${ee||""}`,T=xt||se.Z,[Bt,He,Fe]=(0,W.fp)(T,[J.Z,Oe],{salt:Rt,override:de,getComputedToken:Ye,formatToken:tt,cssVar:re&&{prefix:re.prefix,key:re.key,unitless:ye,ignore:$t,preserve:qe}});return[T,Fe,ee?He:"",Bt,re]}},46007:function(ji,It,M){"use strict";M.d(It,{A1:function(){return J},I$:function(){return se},bk:function(){return oe}});var a=M(75271),W=M(84458),z=M(49376),ie=M(64336),Pe=M(83974);const{genStyleHooks:se,genComponentStyleHook:J,genSubStyleComponent:oe}=(0,W.rb)({usePrefix:()=>{const{getPrefixCls:fe,iconPrefixCls:Me}=(0,a.useContext)(z.E_);return{rootPrefixCls:fe(),iconPrefixCls:Me}},useToken:()=>{const[fe,Me,tt,Be,ye]=(0,Pe.ZP)();return{theme:fe,realToken:Me,hashId:tt,token:Be,cssVar:ye}},useCSP:()=>{const{csp:fe}=(0,a.useContext)(z.E_);return fe!=null?fe:{}},getResetStyles:(fe,Me)=>{var tt;const Be=(0,ie.Lx)(fe);return[Be,{"&":Be},(0,ie.JT)((tt=Me==null?void 0:Me.prefix.iconPrefixCls)!==null&&tt!==void 0?tt:z.oR)]},getCommonStyle:ie.du,getCompUnitless:()=>Pe.NJ})},61875:function(ji,It,M){"use strict";var a=M(84432);function W(ie){return ie>=0&&ie<=255}function z(ie,Pe){const{r:se,g:J,b:oe,a:fe}=new a.t(ie).toRgb();if(fe<1)return ie;const{r:Me,g:tt,b:Be}=new a.t(Pe).toRgb();for(let ye=.01;ye<=1;ye+=.01){const $t=Math.round((se-Me*(1-ye))/ye),qe=Math.round((J-tt*(1-ye))/ye),Ye=Math.round((oe-Be*(1-ye))/ye);if(W($t)&&W(qe)&&W(Ye))return new a.t({r:$t,g:qe,b:Ye,a:Math.round(ye*100)/100}).toRgbString()}return new a.t({r:se,g:J,b:oe,a:1}).toRgbString()}It.Z=z},2692:function(ji,It){var M,a;(function(W,z){"use strict";typeof ji.exports=="object"?ji.exports=W.document?z(W,!0):function(ie){if(!ie.document)throw new Error("jQuery requires a window with a document");return z(ie)}:z(W)})(typeof window!="undefined"?window:this,function(W,z){"use strict";var ie=[],Pe=Object.getPrototypeOf,se=ie.slice,J=ie.flat?function(d){return ie.flat.call(d)}:function(d){return ie.concat.apply([],d)},oe=ie.push,fe=ie.indexOf,Me={},tt=Me.toString,Be=Me.hasOwnProperty,ye=Be.toString,$t=ye.call(Object),qe={},Ye=function(y){return typeof y=="function"&&typeof y.nodeType!="number"&&typeof y.item!="function"},vt=function(y){return y!=null&&y===y.window},Oe=W.document,ee={type:!0,src:!0,nonce:!0,noModule:!0};function xt(d,y,E){E=E||Oe;var P,k,N=E.createElement("script");if(N.text=d,y)for(P in ee)k=y[P]||y.getAttribute&&y.getAttribute(P),k&&N.setAttribute(P,k);E.head.appendChild(N).parentNode.removeChild(N)}function de(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?Me[tt.call(d)]||"object":typeof d}var re="3.7.1",Rt=/HTML$/i,T=function(d,y){return new T.fn.init(d,y)};T.fn=T.prototype={jquery:re,constructor:T,length:0,toArray:function(){return se.call(this)},get:function(d){return d==null?se.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var y=T.merge(this.constructor(),d);return y.prevObject=this,y},each:function(d){return T.each(this,d)},map:function(d){return this.pushStack(T.map(this,function(y,E){return d.call(y,E,y)}))},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,function(d,y){return(y+1)%2}))},odd:function(){return this.pushStack(T.grep(this,function(d,y){return y%2}))},eq:function(d){var y=this.length,E=+d+(d<0?y:0);return this.pushStack(E>=0&&E<y?[this[E]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ie.sort,splice:ie.splice},T.extend=T.fn.extend=function(){var d,y,E,P,k,N,K=arguments[0]||{},_e=1,Ee=arguments.length,it=!1;for(typeof K=="boolean"&&(it=K,K=arguments[_e]||{},_e++),typeof K!="object"&&!Ye(K)&&(K={}),_e===Ee&&(K=this,_e--);_e<Ee;_e++)if((d=arguments[_e])!=null)for(y in d)P=d[y],!(y==="__proto__"||K===P)&&(it&&P&&(T.isPlainObject(P)||(k=Array.isArray(P)))?(E=K[y],k&&!Array.isArray(E)?N=[]:!k&&!T.isPlainObject(E)?N={}:N=E,k=!1,K[y]=T.extend(it,N,P)):P!==void 0&&(K[y]=P));return K},T.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var y,E;return!d||tt.call(d)!=="[object Object]"?!1:(y=Pe(d),y?(E=Be.call(y,"constructor")&&y.constructor,typeof E=="function"&&ye.call(E)===$t):!0)},isEmptyObject:function(d){var y;for(y in d)return!1;return!0},globalEval:function(d,y,E){xt(d,{nonce:y&&y.nonce},E)},each:function(d,y){var E,P=0;if(Bt(d))for(E=d.length;P<E&&y.call(d[P],P,d[P])!==!1;P++);else for(P in d)if(y.call(d[P],P,d[P])===!1)break;return d},text:function(d){var y,E="",P=0,k=d.nodeType;if(!k)for(;y=d[P++];)E+=T.text(y);return k===1||k===11?d.textContent:k===9?d.documentElement.textContent:k===3||k===4?d.nodeValue:E},makeArray:function(d,y){var E=y||[];return d!=null&&(Bt(Object(d))?T.merge(E,typeof d=="string"?[d]:d):oe.call(E,d)),E},inArray:function(d,y,E){return y==null?-1:fe.call(y,d,E)},isXMLDoc:function(d){var y=d&&d.namespaceURI,E=d&&(d.ownerDocument||d).documentElement;return!Rt.test(y||E&&E.nodeName||"HTML")},merge:function(d,y){for(var E=+y.length,P=0,k=d.length;P<E;P++)d[k++]=y[P];return d.length=k,d},grep:function(d,y,E){for(var P,k=[],N=0,K=d.length,_e=!E;N<K;N++)P=!y(d[N],N),P!==_e&&k.push(d[N]);return k},map:function(d,y,E){var P,k,N=0,K=[];if(Bt(d))for(P=d.length;N<P;N++)k=y(d[N],N,E),k!=null&&K.push(k);else for(N in d)k=y(d[N],N,E),k!=null&&K.push(k);return J(K)},guid:1,support:qe}),typeof Symbol=="function"&&(T.fn[Symbol.iterator]=ie[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,y){Me["[object "+y+"]"]=y.toLowerCase()});function Bt(d){var y=!!d&&"length"in d&&d.length,E=de(d);return Ye(d)||vt(d)?!1:E==="array"||y===0||typeof y=="number"&&y>0&&y-1 in d}function He(d,y){return d.nodeName&&d.nodeName.toLowerCase()===y.toLowerCase()}var Fe=ie.pop,Vt=ie.sort,_t=ie.splice,et="[\\x20\\t\\r\\n\\f]",Kt=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g");T.contains=function(d,y){var E=y&&y.parentNode;return d===E||!!(E&&E.nodeType===1&&(d.contains?d.contains(E):d.compareDocumentPosition&&d.compareDocumentPosition(E)&16))};var wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function pt(d,y){return y?d==="\0"?"\uFFFD":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d}T.escapeSelector=function(d){return(d+"").replace(wt,pt)};var je=Oe,Ct=oe;(function(){var d,y,E,P,k,N=Ct,K,_e,Ee,it,Ht,gn=T.expando,Ut=0,Bn=0,Si=go(),_r=go(),Br=go(),fo=go(),Qs=function(xe,Ve){return xe===Ve&&(k=!0),0},Ys="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ga="(?:\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+et+"*("+Ga+")(?:"+et+"*([*^$|!~]?=)"+et+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ga+"))|)"+et+"*\\]",we=":("+Ga+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+j+")*)|.*)\\)|)",Je=new RegExp(et+"+","g"),ht=new RegExp("^"+et+"*,"+et+"*"),Ft=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),Ti=new RegExp(et+"|>"),Ji=new RegExp(we),yi=new RegExp("^"+Ga+"$"),yn={ID:new RegExp("^#("+Ga+")"),CLASS:new RegExp("^\\.("+Ga+")"),TAG:new RegExp("^("+Ga+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+we),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+Ys+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},rr=/^(?:input|select|textarea|button)$/i,Jn=/^h\d$/i,Yi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ar=/[+~]/,Di=new RegExp("\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\([^\\r\\n\\f])","g"),Ms=function(xe,Ve){var At="0x"+xe.slice(1)-65536;return Ve||(At<0?String.fromCharCode(At+65536):String.fromCharCode(At>>10|55296,At&1023|56320))},Ws=function(){Qe()},as=ti(function(xe){return xe.disabled===!0&&He(xe,"fieldset")},{dir:"parentNode",next:"legend"});function eo(){try{return K.activeElement}catch(xe){}}try{N.apply(ie=se.call(je.childNodes),je.childNodes),ie[je.childNodes.length].nodeType}catch(xe){N={apply:function(Ve,At){Ct.apply(Ve,se.call(At))},call:function(Ve){Ct.apply(Ve,se.call(arguments,1))}}}function pr(xe,Ve,At,Gt){var qt,Vn,jn,Ii,ui,sr,Pr,Ki=Ve&&Ve.ownerDocument,ps=Ve?Ve.nodeType:9;if(At=At||[],typeof xe!="string"||!xe||ps!==1&&ps!==9&&ps!==11)return At;if(!Gt&&(Qe(Ve),Ve=Ve||K,Ee)){if(ps!==11&&(ui=Yi.exec(xe)))if(qt=ui[1]){if(ps===9)if(jn=Ve.getElementById(qt)){if(jn.id===qt)return N.call(At,jn),At}else return At;else if(Ki&&(jn=Ki.getElementById(qt))&&pr.contains(Ve,jn)&&jn.id===qt)return N.call(At,jn),At}else{if(ui[2])return N.apply(At,Ve.getElementsByTagName(xe)),At;if((qt=ui[3])&&Ve.getElementsByClassName)return N.apply(At,Ve.getElementsByClassName(qt)),At}if(!fo[xe+" "]&&(!it||!it.test(xe))){if(Pr=xe,Ki=Ve,ps===1&&(Ti.test(xe)||Ft.test(xe))){for(Ki=Ar.test(xe)&&Ce(Ve.parentNode)||Ve,(Ki!=Ve||!qe.scope)&&((Ii=Ve.getAttribute("id"))?Ii=T.escapeSelector(Ii):Ve.setAttribute("id",Ii=gn)),sr=bt(xe),Vn=sr.length;Vn--;)sr[Vn]=(Ii?"#"+Ii:":scope")+" "+rn(sr[Vn]);Pr=sr.join(",")}try{return N.apply(At,Ki.querySelectorAll(Pr)),At}catch(Ss){fo(xe,!0)}finally{Ii===gn&&Ve.removeAttribute("id")}}}return Ps(xe.replace(Kt,"$1"),Ve,At,Gt)}function go(){var xe=[];function Ve(At,Gt){return xe.push(At+" ")>y.cacheLength&&delete Ve[xe.shift()],Ve[At+" "]=Gt}return Ve}function Ro(xe){return xe[gn]=!0,xe}function Qo(xe){var Ve=K.createElement("fieldset");try{return!!xe(Ve)}catch(At){return!1}finally{Ve.parentNode&&Ve.parentNode.removeChild(Ve),Ve=null}}function ea(xe){return function(Ve){return He(Ve,"input")&&Ve.type===xe}}function Oa(xe){return function(Ve){return(He(Ve,"input")||He(Ve,"button"))&&Ve.type===xe}}function vl(xe){return function(Ve){return"form"in Ve?Ve.parentNode&&Ve.disabled===!1?"label"in Ve?"label"in Ve.parentNode?Ve.parentNode.disabled===xe:Ve.disabled===xe:Ve.isDisabled===xe||Ve.isDisabled!==!xe&&as(Ve)===xe:Ve.disabled===xe:"label"in Ve?Ve.disabled===xe:!1}}function Sl(xe){return Ro(function(Ve){return Ve=+Ve,Ro(function(At,Gt){for(var qt,Vn=xe([],At.length,Ve),jn=Vn.length;jn--;)At[qt=Vn[jn]]&&(At[qt]=!(Gt[qt]=At[qt]))})})}function Ce(xe){return xe&&typeof xe.getElementsByTagName!="undefined"&&xe}function Qe(xe){var Ve,At=xe?xe.ownerDocument||xe:je;return At==K||At.nodeType!==9||!At.documentElement||(K=At,_e=K.documentElement,Ee=!T.isXMLDoc(K),Ht=_e.matches||_e.webkitMatchesSelector||_e.msMatchesSelector,_e.msMatchesSelector&&je!=K&&(Ve=K.defaultView)&&Ve.top!==Ve&&Ve.addEventListener("unload",Ws),qe.getById=Qo(function(Gt){return _e.appendChild(Gt).id=T.expando,!K.getElementsByName||!K.getElementsByName(T.expando).length}),qe.disconnectedMatch=Qo(function(Gt){return Ht.call(Gt,"*")}),qe.scope=Qo(function(){return K.querySelectorAll(":scope")}),qe.cssHas=Qo(function(){try{return K.querySelector(":has(*,:jqfake)"),!1}catch(Gt){return!0}}),qe.getById?(y.filter.ID=function(Gt){var qt=Gt.replace(Di,Ms);return function(Vn){return Vn.getAttribute("id")===qt}},y.find.ID=function(Gt,qt){if(typeof qt.getElementById!="undefined"&&Ee){var Vn=qt.getElementById(Gt);return Vn?[Vn]:[]}}):(y.filter.ID=function(Gt){var qt=Gt.replace(Di,Ms);return function(Vn){var jn=typeof Vn.getAttributeNode!="undefined"&&Vn.getAttributeNode("id");return jn&&jn.value===qt}},y.find.ID=function(Gt,qt){if(typeof qt.getElementById!="undefined"&&Ee){var Vn,jn,Ii,ui=qt.getElementById(Gt);if(ui){if(Vn=ui.getAttributeNode("id"),Vn&&Vn.value===Gt)return[ui];for(Ii=qt.getElementsByName(Gt),jn=0;ui=Ii[jn++];)if(Vn=ui.getAttributeNode("id"),Vn&&Vn.value===Gt)return[ui]}return[]}}),y.find.TAG=function(Gt,qt){return typeof qt.getElementsByTagName!="undefined"?qt.getElementsByTagName(Gt):qt.querySelectorAll(Gt)},y.find.CLASS=function(Gt,qt){if(typeof qt.getElementsByClassName!="undefined"&&Ee)return qt.getElementsByClassName(Gt)},it=[],Qo(function(Gt){var qt;_e.appendChild(Gt).innerHTML="<a id='"+gn+"' href='' disabled='disabled'></a><select id='"+gn+"-\r\\' disabled='disabled'><option selected=''></option></select>",Gt.querySelectorAll("[selected]").length||it.push("\\["+et+"*(?:value|"+Ys+")"),Gt.querySelectorAll("[id~="+gn+"-]").length||it.push("~="),Gt.querySelectorAll("a#"+gn+"+*").length||it.push(".#.+[+~]"),Gt.querySelectorAll(":checked").length||it.push(":checked"),qt=K.createElement("input"),qt.setAttribute("type","hidden"),Gt.appendChild(qt).setAttribute("name","D"),_e.appendChild(Gt).disabled=!0,Gt.querySelectorAll(":disabled").length!==2&&it.push(":enabled",":disabled"),qt=K.createElement("input"),qt.setAttribute("name",""),Gt.appendChild(qt),Gt.querySelectorAll("[name='']").length||it.push("\\["+et+"*name"+et+"*="+et+`*(?:''|"")`)}),qe.cssHas||it.push(":has"),it=it.length&&new RegExp(it.join("|")),Qs=function(Gt,qt){if(Gt===qt)return k=!0,0;var Vn=!Gt.compareDocumentPosition-!qt.compareDocumentPosition;return Vn||(Vn=(Gt.ownerDocument||Gt)==(qt.ownerDocument||qt)?Gt.compareDocumentPosition(qt):1,Vn&1||!qe.sortDetached&&qt.compareDocumentPosition(Gt)===Vn?Gt===K||Gt.ownerDocument==je&&pr.contains(je,Gt)?-1:qt===K||qt.ownerDocument==je&&pr.contains(je,qt)?1:P?fe.call(P,Gt)-fe.call(P,qt):0:Vn&4?-1:1)}),K}pr.matches=function(xe,Ve){return pr(xe,null,null,Ve)},pr.matchesSelector=function(xe,Ve){if(Qe(xe),Ee&&!fo[Ve+" "]&&(!it||!it.test(Ve)))try{var At=Ht.call(xe,Ve);if(At||qe.disconnectedMatch||xe.document&&xe.document.nodeType!==11)return At}catch(Gt){fo(Ve,!0)}return pr(Ve,K,null,[xe]).length>0},pr.contains=function(xe,Ve){return(xe.ownerDocument||xe)!=K&&Qe(xe),T.contains(xe,Ve)},pr.attr=function(xe,Ve){(xe.ownerDocument||xe)!=K&&Qe(xe);var At=y.attrHandle[Ve.toLowerCase()],Gt=At&&Be.call(y.attrHandle,Ve.toLowerCase())?At(xe,Ve,!Ee):void 0;return Gt!==void 0?Gt:xe.getAttribute(Ve)},pr.error=function(xe){throw new Error("Syntax error, unrecognized expression: "+xe)},T.uniqueSort=function(xe){var Ve,At=[],Gt=0,qt=0;if(k=!qe.sortStable,P=!qe.sortStable&&se.call(xe,0),Vt.call(xe,Qs),k){for(;Ve=xe[qt++];)Ve===xe[qt]&&(Gt=At.push(qt));for(;Gt--;)_t.call(xe,At[Gt],1)}return P=null,xe},T.fn.uniqueSort=function(){return this.pushStack(T.uniqueSort(se.apply(this)))},y=T.expr={cacheLength:50,createPseudo:Ro,match:yn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(xe){return xe[1]=xe[1].replace(Di,Ms),xe[3]=(xe[3]||xe[4]||xe[5]||"").replace(Di,Ms),xe[2]==="~="&&(xe[3]=" "+xe[3]+" "),xe.slice(0,4)},CHILD:function(xe){return xe[1]=xe[1].toLowerCase(),xe[1].slice(0,3)==="nth"?(xe[3]||pr.error(xe[0]),xe[4]=+(xe[4]?xe[5]+(xe[6]||1):2*(xe[3]==="even"||xe[3]==="odd")),xe[5]=+(xe[7]+xe[8]||xe[3]==="odd")):xe[3]&&pr.error(xe[0]),xe},PSEUDO:function(xe){var Ve,At=!xe[6]&&xe[2];return yn.CHILD.test(xe[0])?null:(xe[3]?xe[2]=xe[4]||xe[5]||"":At&&Ji.test(At)&&(Ve=bt(At,!0))&&(Ve=At.indexOf(")",At.length-Ve)-At.length)&&(xe[0]=xe[0].slice(0,Ve),xe[2]=At.slice(0,Ve)),xe.slice(0,3))}},filter:{TAG:function(xe){var Ve=xe.replace(Di,Ms).toLowerCase();return xe==="*"?function(){return!0}:function(At){return He(At,Ve)}},CLASS:function(xe){var Ve=Si[xe+" "];return Ve||(Ve=new RegExp("(^|"+et+")"+xe+"("+et+"|$)"))&&Si(xe,function(At){return Ve.test(typeof At.className=="string"&&At.className||typeof At.getAttribute!="undefined"&&At.getAttribute("class")||"")})},ATTR:function(xe,Ve,At){return function(Gt){var qt=pr.attr(Gt,xe);return qt==null?Ve==="!=":Ve?(qt+="",Ve==="="?qt===At:Ve==="!="?qt!==At:Ve==="^="?At&&qt.indexOf(At)===0:Ve==="*="?At&&qt.indexOf(At)>-1:Ve==="$="?At&&qt.slice(-At.length)===At:Ve==="~="?(" "+qt.replace(Je," ")+" ").indexOf(At)>-1:Ve==="|="?qt===At||qt.slice(0,At.length+1)===At+"-":!1):!0}},CHILD:function(xe,Ve,At,Gt,qt){var Vn=xe.slice(0,3)!=="nth",jn=xe.slice(-4)!=="last",Ii=Ve==="of-type";return Gt===1&&qt===0?function(ui){return!!ui.parentNode}:function(ui,sr,Pr){var Ki,ps,Ss,Vo,Ea,pa=Vn!==jn?"nextSibling":"previousSibling",$o=ui.parentNode,ja=Ii&&ui.nodeName.toLowerCase(),Il=!Pr&&!Ii,jo=!1;if($o){if(Vn){for(;pa;){for(Ss=ui;Ss=Ss[pa];)if(Ii?He(Ss,ja):Ss.nodeType===1)return!1;Ea=pa=xe==="only"&&!Ea&&"nextSibling"}return!0}if(Ea=[jn?$o.firstChild:$o.lastChild],jn&&Il){for(ps=$o[gn]||($o[gn]={}),Ki=ps[xe]||[],Vo=Ki[0]===Ut&&Ki[1],jo=Vo&&Ki[2],Ss=Vo&&$o.childNodes[Vo];Ss=++Vo&&Ss&&Ss[pa]||(jo=Vo=0)||Ea.pop();)if(Ss.nodeType===1&&++jo&&Ss===ui){ps[xe]=[Ut,Vo,jo];break}}else if(Il&&(ps=ui[gn]||(ui[gn]={}),Ki=ps[xe]||[],Vo=Ki[0]===Ut&&Ki[1],jo=Vo),jo===!1)for(;(Ss=++Vo&&Ss&&Ss[pa]||(jo=Vo=0)||Ea.pop())&&!((Ii?He(Ss,ja):Ss.nodeType===1)&&++jo&&(Il&&(ps=Ss[gn]||(Ss[gn]={}),ps[xe]=[Ut,jo]),Ss===ui)););return jo-=qt,jo===Gt||jo%Gt===0&&jo/Gt>=0}}},PSEUDO:function(xe,Ve){var At,Gt=y.pseudos[xe]||y.setFilters[xe.toLowerCase()]||pr.error("unsupported pseudo: "+xe);return Gt[gn]?Gt(Ve):Gt.length>1?(At=[xe,xe,"",Ve],y.setFilters.hasOwnProperty(xe.toLowerCase())?Ro(function(qt,Vn){for(var jn,Ii=Gt(qt,Ve),ui=Ii.length;ui--;)jn=fe.call(qt,Ii[ui]),qt[jn]=!(Vn[jn]=Ii[ui])}):function(qt){return Gt(qt,0,At)}):Gt}},pseudos:{not:Ro(function(xe){var Ve=[],At=[],Gt=lr(xe.replace(Kt,"$1"));return Gt[gn]?Ro(function(qt,Vn,jn,Ii){for(var ui,sr=Gt(qt,null,Ii,[]),Pr=qt.length;Pr--;)(ui=sr[Pr])&&(qt[Pr]=!(Vn[Pr]=ui))}):function(qt,Vn,jn){return Ve[0]=qt,Gt(Ve,null,jn,At),Ve[0]=null,!At.pop()}}),has:Ro(function(xe){return function(Ve){return pr(xe,Ve).length>0}}),contains:Ro(function(xe){return xe=xe.replace(Di,Ms),function(Ve){return(Ve.textContent||T.text(Ve)).indexOf(xe)>-1}}),lang:Ro(function(xe){return yi.test(xe||"")||pr.error("unsupported lang: "+xe),xe=xe.replace(Di,Ms).toLowerCase(),function(Ve){var At;do if(At=Ee?Ve.lang:Ve.getAttribute("xml:lang")||Ve.getAttribute("lang"))return At=At.toLowerCase(),At===xe||At.indexOf(xe+"-")===0;while((Ve=Ve.parentNode)&&Ve.nodeType===1);return!1}}),target:function(xe){var Ve=W.location&&W.location.hash;return Ve&&Ve.slice(1)===xe.id},root:function(xe){return xe===_e},focus:function(xe){return xe===eo()&&K.hasFocus()&&!!(xe.type||xe.href||~xe.tabIndex)},enabled:vl(!1),disabled:vl(!0),checked:function(xe){return He(xe,"input")&&!!xe.checked||He(xe,"option")&&!!xe.selected},selected:function(xe){return xe.parentNode&&xe.parentNode.selectedIndex,xe.selected===!0},empty:function(xe){for(xe=xe.firstChild;xe;xe=xe.nextSibling)if(xe.nodeType<6)return!1;return!0},parent:function(xe){return!y.pseudos.empty(xe)},header:function(xe){return Jn.test(xe.nodeName)},input:function(xe){return rr.test(xe.nodeName)},button:function(xe){return He(xe,"input")&&xe.type==="button"||He(xe,"button")},text:function(xe){var Ve;return He(xe,"input")&&xe.type==="text"&&((Ve=xe.getAttribute("type"))==null||Ve.toLowerCase()==="text")},first:Sl(function(){return[0]}),last:Sl(function(xe,Ve){return[Ve-1]}),eq:Sl(function(xe,Ve,At){return[At<0?At+Ve:At]}),even:Sl(function(xe,Ve){for(var At=0;At<Ve;At+=2)xe.push(At);return xe}),odd:Sl(function(xe,Ve){for(var At=1;At<Ve;At+=2)xe.push(At);return xe}),lt:Sl(function(xe,Ve,At){var Gt;for(At<0?Gt=At+Ve:At>Ve?Gt=Ve:Gt=At;--Gt>=0;)xe.push(Gt);return xe}),gt:Sl(function(xe,Ve,At){for(var Gt=At<0?At+Ve:At;++Gt<Ve;)xe.push(Gt);return xe})}},y.pseudos.nth=y.pseudos.eq;for(d in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[d]=ea(d);for(d in{submit:!0,reset:!0})y.pseudos[d]=Oa(d);function ot(){}ot.prototype=y.filters=y.pseudos,y.setFilters=new ot;function bt(xe,Ve){var At,Gt,qt,Vn,jn,Ii,ui,sr=_r[xe+" "];if(sr)return Ve?0:sr.slice(0);for(jn=xe,Ii=[],ui=y.preFilter;jn;){(!At||(Gt=ht.exec(jn)))&&(Gt&&(jn=jn.slice(Gt[0].length)||jn),Ii.push(qt=[])),At=!1,(Gt=Ft.exec(jn))&&(At=Gt.shift(),qt.push({value:At,type:Gt[0].replace(Kt," ")}),jn=jn.slice(At.length));for(Vn in y.filter)(Gt=yn[Vn].exec(jn))&&(!ui[Vn]||(Gt=ui[Vn](Gt)))&&(At=Gt.shift(),qt.push({value:At,type:Vn,matches:Gt}),jn=jn.slice(At.length));if(!At)break}return Ve?jn.length:jn?pr.error(xe):_r(xe,Ii).slice(0)}function rn(xe){for(var Ve=0,At=xe.length,Gt="";Ve<At;Ve++)Gt+=xe[Ve].value;return Gt}function ti(xe,Ve,At){var Gt=Ve.dir,qt=Ve.next,Vn=qt||Gt,jn=At&&Vn==="parentNode",Ii=Bn++;return Ve.first?function(ui,sr,Pr){for(;ui=ui[Gt];)if(ui.nodeType===1||jn)return xe(ui,sr,Pr);return!1}:function(ui,sr,Pr){var Ki,ps,Ss=[Ut,Ii];if(Pr){for(;ui=ui[Gt];)if((ui.nodeType===1||jn)&&xe(ui,sr,Pr))return!0}else for(;ui=ui[Gt];)if(ui.nodeType===1||jn)if(ps=ui[gn]||(ui[gn]={}),qt&&He(ui,qt))ui=ui[Gt]||ui;else{if((Ki=ps[Vn])&&Ki[0]===Ut&&Ki[1]===Ii)return Ss[2]=Ki[2];if(ps[Vn]=Ss,Ss[2]=xe(ui,sr,Pr))return!0}return!1}}function ni(xe){return xe.length>1?function(Ve,At,Gt){for(var qt=xe.length;qt--;)if(!xe[qt](Ve,At,Gt))return!1;return!0}:xe[0]}function Ln(xe,Ve,At){for(var Gt=0,qt=Ve.length;Gt<qt;Gt++)pr(xe,Ve[Gt],At);return At}function Ri(xe,Ve,At,Gt,qt){for(var Vn,jn=[],Ii=0,ui=xe.length,sr=Ve!=null;Ii<ui;Ii++)(Vn=xe[Ii])&&(!At||At(Vn,Gt,qt))&&(jn.push(Vn),sr&&Ve.push(Ii));return jn}function sn(xe,Ve,At,Gt,qt,Vn){return Gt&&!Gt[gn]&&(Gt=sn(Gt)),qt&&!qt[gn]&&(qt=sn(qt,Vn)),Ro(function(jn,Ii,ui,sr){var Pr,Ki,ps,Ss,Vo=[],Ea=[],pa=Ii.length,$o=jn||Ln(Ve||"*",ui.nodeType?[ui]:ui,[]),ja=xe&&(jn||!Ve)?Ri($o,Vo,xe,ui,sr):$o;if(At?(Ss=qt||(jn?xe:pa||Gt)?[]:Ii,At(ja,Ss,ui,sr)):Ss=ja,Gt)for(Pr=Ri(Ss,Ea),Gt(Pr,[],ui,sr),Ki=Pr.length;Ki--;)(ps=Pr[Ki])&&(Ss[Ea[Ki]]=!(ja[Ea[Ki]]=ps));if(jn){if(qt||xe){if(qt){for(Pr=[],Ki=Ss.length;Ki--;)(ps=Ss[Ki])&&Pr.push(ja[Ki]=ps);qt(null,Ss=[],Pr,sr)}for(Ki=Ss.length;Ki--;)(ps=Ss[Ki])&&(Pr=qt?fe.call(jn,ps):Vo[Ki])>-1&&(jn[Pr]=!(Ii[Pr]=ps))}}else Ss=Ri(Ss===Ii?Ss.splice(pa,Ss.length):Ss),qt?qt(null,Ii,Ss,sr):N.apply(Ii,Ss)})}function ar(xe){for(var Ve,At,Gt,qt=xe.length,Vn=y.relative[xe[0].type],jn=Vn||y.relative[" "],Ii=Vn?1:0,ui=ti(function(Ki){return Ki===Ve},jn,!0),sr=ti(function(Ki){return fe.call(Ve,Ki)>-1},jn,!0),Pr=[function(Ki,ps,Ss){var Vo=!Vn&&(Ss||ps!=E)||((Ve=ps).nodeType?ui(Ki,ps,Ss):sr(Ki,ps,Ss));return Ve=null,Vo}];Ii<qt;Ii++)if(At=y.relative[xe[Ii].type])Pr=[ti(ni(Pr),At)];else{if(At=y.filter[xe[Ii].type].apply(null,xe[Ii].matches),At[gn]){for(Gt=++Ii;Gt<qt&&!y.relative[xe[Gt].type];Gt++);return sn(Ii>1&&ni(Pr),Ii>1&&rn(xe.slice(0,Ii-1).concat({value:xe[Ii-2].type===" "?"*":""})).replace(Kt,"$1"),At,Ii<Gt&&ar(xe.slice(Ii,Gt)),Gt<qt&&ar(xe=xe.slice(Gt)),Gt<qt&&rn(xe))}Pr.push(At)}return ni(Pr)}function kr(xe,Ve){var At=Ve.length>0,Gt=xe.length>0,qt=function(Vn,jn,Ii,ui,sr){var Pr,Ki,ps,Ss=0,Vo="0",Ea=Vn&&[],pa=[],$o=E,ja=Vn||Gt&&y.find.TAG("*",sr),Il=Ut+=$o==null?1:Math.random()||.1,jo=ja.length;for(sr&&(E=jn==K||jn||sr);Vo!==jo&&(Pr=ja[Vo])!=null;Vo++){if(Gt&&Pr){for(Ki=0,!jn&&Pr.ownerDocument!=K&&(Qe(Pr),Ii=!Ee);ps=xe[Ki++];)if(ps(Pr,jn||K,Ii)){N.call(ui,Pr);break}sr&&(Ut=Il)}At&&((Pr=!ps&&Pr)&&Ss--,Vn&&Ea.push(Pr))}if(Ss+=Vo,At&&Vo!==Ss){for(Ki=0;ps=Ve[Ki++];)ps(Ea,pa,jn,Ii);if(Vn){if(Ss>0)for(;Vo--;)Ea[Vo]||pa[Vo]||(pa[Vo]=Fe.call(ui));pa=Ri(pa)}N.apply(ui,pa),sr&&!Vn&&pa.length>0&&Ss+Ve.length>1&&T.uniqueSort(ui)}return sr&&(Ut=Il,E=$o),Ea};return At?Ro(qt):qt}function lr(xe,Ve){var At,Gt=[],qt=[],Vn=Br[xe+" "];if(!Vn){for(Ve||(Ve=bt(xe)),At=Ve.length;At--;)Vn=ar(Ve[At]),Vn[gn]?Gt.push(Vn):qt.push(Vn);Vn=Br(xe,kr(qt,Gt)),Vn.selector=xe}return Vn}function Ps(xe,Ve,At,Gt){var qt,Vn,jn,Ii,ui,sr=typeof xe=="function"&&xe,Pr=!Gt&&bt(xe=sr.selector||xe);if(At=At||[],Pr.length===1){if(Vn=Pr[0]=Pr[0].slice(0),Vn.length>2&&(jn=Vn[0]).type==="ID"&&Ve.nodeType===9&&Ee&&y.relative[Vn[1].type]){if(Ve=(y.find.ID(jn.matches[0].replace(Di,Ms),Ve)||[])[0],Ve)sr&&(Ve=Ve.parentNode);else return At;xe=xe.slice(Vn.shift().value.length)}for(qt=yn.needsContext.test(xe)?0:Vn.length;qt--&&(jn=Vn[qt],!y.relative[Ii=jn.type]);)if((ui=y.find[Ii])&&(Gt=ui(jn.matches[0].replace(Di,Ms),Ar.test(Vn[0].type)&&Ce(Ve.parentNode)||Ve))){if(Vn.splice(qt,1),xe=Gt.length&&rn(Vn),!xe)return N.apply(At,Gt),At;break}}return(sr||lr(xe,Pr))(Gt,Ve,!Ee,At,!Ve||Ar.test(xe)&&Ce(Ve.parentNode)||Ve),At}qe.sortStable=gn.split("").sort(Qs).join("")===gn,Qe(),qe.sortDetached=Qo(function(xe){return xe.compareDocumentPosition(K.createElement("fieldset"))&1}),T.find=pr,T.expr[":"]=T.expr.pseudos,T.unique=T.uniqueSort,pr.compile=lr,pr.select=Ps,pr.setDocument=Qe,pr.tokenize=bt,pr.escape=T.escapeSelector,pr.getText=T.text,pr.isXML=T.isXMLDoc,pr.selectors=T.expr,pr.support=T.support,pr.uniqueSort=T.uniqueSort})();var Le=function(d,y,E){for(var P=[],k=E!==void 0;(d=d[y])&&d.nodeType!==9;)if(d.nodeType===1){if(k&&T(d).is(E))break;P.push(d)}return P},st=function(d,y){for(var E=[];d;d=d.nextSibling)d.nodeType===1&&d!==y&&E.push(d);return E},zt=T.expr.match.needsContext,Yt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function xn(d,y,E){return Ye(y)?T.grep(d,function(P,k){return!!y.call(P,k,P)!==E}):y.nodeType?T.grep(d,function(P){return P===y!==E}):typeof y!="string"?T.grep(d,function(P){return fe.call(y,P)>-1!==E}):T.filter(y,d,E)}T.filter=function(d,y,E){var P=y[0];return E&&(d=":not("+d+")"),y.length===1&&P.nodeType===1?T.find.matchesSelector(P,d)?[P]:[]:T.find.matches(d,T.grep(y,function(k){return k.nodeType===1}))},T.fn.extend({find:function(d){var y,E,P=this.length,k=this;if(typeof d!="string")return this.pushStack(T(d).filter(function(){for(y=0;y<P;y++)if(T.contains(k[y],this))return!0}));for(E=this.pushStack([]),y=0;y<P;y++)T.find(d,k[y],E);return P>1?T.uniqueSort(E):E},filter:function(d){return this.pushStack(xn(this,d||[],!1))},not:function(d){return this.pushStack(xn(this,d||[],!0))},is:function(d){return!!xn(this,typeof d=="string"&&zt.test(d)?T(d):d||[],!1).length}});var Zn,Yn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Fn=T.fn.init=function(d,y,E){var P,k;if(!d)return this;if(E=E||Zn,typeof d=="string")if(d[0]==="<"&&d[d.length-1]===">"&&d.length>=3?P=[null,d,null]:P=Yn.exec(d),P&&(P[1]||!y))if(P[1]){if(y=y instanceof T?y[0]:y,T.merge(this,T.parseHTML(P[1],y&&y.nodeType?y.ownerDocument||y:Oe,!0)),Yt.test(P[1])&&T.isPlainObject(y))for(P in y)Ye(this[P])?this[P](y[P]):this.attr(P,y[P]);return this}else return k=Oe.getElementById(P[2]),k&&(this[0]=k,this.length=1),this;else return!y||y.jquery?(y||E).find(d):this.constructor(y).find(d);else{if(d.nodeType)return this[0]=d,this.length=1,this;if(Ye(d))return E.ready!==void 0?E.ready(d):d(T)}return T.makeArray(d,this)};Fn.prototype=T.fn,Zn=T(Oe);var si=/^(?:parents|prev(?:Until|All))/,qi={children:!0,contents:!0,next:!0,prev:!0};T.fn.extend({has:function(d){var y=T(d,this),E=y.length;return this.filter(function(){for(var P=0;P<E;P++)if(T.contains(this,y[P]))return!0})},closest:function(d,y){var E,P=0,k=this.length,N=[],K=typeof d!="string"&&T(d);if(!zt.test(d)){for(;P<k;P++)for(E=this[P];E&&E!==y;E=E.parentNode)if(E.nodeType<11&&(K?K.index(E)>-1:E.nodeType===1&&T.find.matchesSelector(E,d))){N.push(E);break}}return this.pushStack(N.length>1?T.uniqueSort(N):N)},index:function(d){return d?typeof d=="string"?fe.call(T(d),this[0]):fe.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,y){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(d,y))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}});function li(d,y){for(;(d=d[y])&&d.nodeType!==1;);return d}T.each({parent:function(d){var y=d.parentNode;return y&&y.nodeType!==11?y:null},parents:function(d){return Le(d,"parentNode")},parentsUntil:function(d,y,E){return Le(d,"parentNode",E)},next:function(d){return li(d,"nextSibling")},prev:function(d){return li(d,"previousSibling")},nextAll:function(d){return Le(d,"nextSibling")},prevAll:function(d){return Le(d,"previousSibling")},nextUntil:function(d,y,E){return Le(d,"nextSibling",E)},prevUntil:function(d,y,E){return Le(d,"previousSibling",E)},siblings:function(d){return st((d.parentNode||{}).firstChild,d)},children:function(d){return st(d.firstChild)},contents:function(d){return d.contentDocument!=null&&Pe(d.contentDocument)?d.contentDocument:(He(d,"template")&&(d=d.content||d),T.merge([],d.childNodes))}},function(d,y){T.fn[d]=function(E,P){var k=T.map(this,y,E);return d.slice(-5)!=="Until"&&(P=E),P&&typeof P=="string"&&(k=T.filter(P,k)),this.length>1&&(qi[d]||T.uniqueSort(k),si.test(d)&&k.reverse()),this.pushStack(k)}});var fi=/[^\x20\t\r\n\f]+/g;function Oi(d){var y={};return T.each(d.match(fi)||[],function(E,P){y[P]=!0}),y}T.Callbacks=function(d){d=typeof d=="string"?Oi(d):T.extend({},d);var y,E,P,k,N=[],K=[],_e=-1,Ee=function(){for(k=k||d.once,P=y=!0;K.length;_e=-1)for(E=K.shift();++_e<N.length;)N[_e].apply(E[0],E[1])===!1&&d.stopOnFalse&&(_e=N.length,E=!1);d.memory||(E=!1),y=!1,k&&(E?N=[]:N="")},it={add:function(){return N&&(E&&!y&&(_e=N.length-1,K.push(E)),function Ht(gn){T.each(gn,function(Ut,Bn){Ye(Bn)?(!d.unique||!it.has(Bn))&&N.push(Bn):Bn&&Bn.length&&de(Bn)!=="string"&&Ht(Bn)})}(arguments),E&&!y&&Ee()),this},remove:function(){return T.each(arguments,function(Ht,gn){for(var Ut;(Ut=T.inArray(gn,N,Ut))>-1;)N.splice(Ut,1),Ut<=_e&&_e--}),this},has:function(Ht){return Ht?T.inArray(Ht,N)>-1:N.length>0},empty:function(){return N&&(N=[]),this},disable:function(){return k=K=[],N=E="",this},disabled:function(){return!N},lock:function(){return k=K=[],!E&&!y&&(N=E=""),this},locked:function(){return!!k},fireWith:function(Ht,gn){return k||(gn=gn||[],gn=[Ht,gn.slice?gn.slice():gn],K.push(gn),y||Ee()),this},fire:function(){return it.fireWith(this,arguments),this},fired:function(){return!!P}};return it};function Ei(d){return d}function Xt(d){throw d}function rt(d,y,E,P){var k;try{d&&Ye(k=d.promise)?k.call(d).done(y).fail(E):d&&Ye(k=d.then)?k.call(d,y,E):y.apply(void 0,[d].slice(P))}catch(N){E.apply(void 0,[N])}}T.extend({Deferred:function(d){var y=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],E="pending",P={state:function(){return E},always:function(){return k.done(arguments).fail(arguments),this},catch:function(N){return P.then(null,N)},pipe:function(){var N=arguments;return T.Deferred(function(K){T.each(y,function(_e,Ee){var it=Ye(N[Ee[4]])&&N[Ee[4]];k[Ee[1]](function(){var Ht=it&&it.apply(this,arguments);Ht&&Ye(Ht.promise)?Ht.promise().progress(K.notify).done(K.resolve).fail(K.reject):K[Ee[0]+"With"](this,it?[Ht]:arguments)})}),N=null}).promise()},then:function(N,K,_e){var Ee=0;function it(Ht,gn,Ut,Bn){return function(){var Si=this,_r=arguments,Br=function(){var Qs,Ys;if(!(Ht<Ee)){if(Qs=Ut.apply(Si,_r),Qs===gn.promise())throw new TypeError("Thenable self-resolution");Ys=Qs&&(typeof Qs=="object"||typeof Qs=="function")&&Qs.then,Ye(Ys)?Bn?Ys.call(Qs,it(Ee,gn,Ei,Bn),it(Ee,gn,Xt,Bn)):(Ee++,Ys.call(Qs,it(Ee,gn,Ei,Bn),it(Ee,gn,Xt,Bn),it(Ee,gn,Ei,gn.notifyWith))):(Ut!==Ei&&(Si=void 0,_r=[Qs]),(Bn||gn.resolveWith)(Si,_r))}},fo=Bn?Br:function(){try{Br()}catch(Qs){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(Qs,fo.error),Ht+1>=Ee&&(Ut!==Xt&&(Si=void 0,_r=[Qs]),gn.rejectWith(Si,_r))}};Ht?fo():(T.Deferred.getErrorHook?fo.error=T.Deferred.getErrorHook():T.Deferred.getStackHook&&(fo.error=T.Deferred.getStackHook()),W.setTimeout(fo))}}return T.Deferred(function(Ht){y[0][3].add(it(0,Ht,Ye(_e)?_e:Ei,Ht.notifyWith)),y[1][3].add(it(0,Ht,Ye(N)?N:Ei)),y[2][3].add(it(0,Ht,Ye(K)?K:Xt))}).promise()},promise:function(N){return N!=null?T.extend(N,P):P}},k={};return T.each(y,function(N,K){var _e=K[2],Ee=K[5];P[K[1]]=_e.add,Ee&&_e.add(function(){E=Ee},y[3-N][2].disable,y[3-N][3].disable,y[0][2].lock,y[0][3].lock),_e.add(K[3].fire),k[K[0]]=function(){return k[K[0]+"With"](this===k?void 0:this,arguments),this},k[K[0]+"With"]=_e.fireWith}),P.promise(k),d&&d.call(k,k),k},when:function(d){var y=arguments.length,E=y,P=Array(E),k=se.call(arguments),N=T.Deferred(),K=function(_e){return function(Ee){P[_e]=this,k[_e]=arguments.length>1?se.call(arguments):Ee,--y||N.resolveWith(P,k)}};if(y<=1&&(rt(d,N.done(K(E)).resolve,N.reject,!y),N.state()==="pending"||Ye(k[E]&&k[E].then)))return N.then();for(;E--;)rt(k[E],K(E),N.reject);return N.promise()}});var Pt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(d,y){W.console&&W.console.warn&&d&&Pt.test(d.name)&&W.console.warn("jQuery.Deferred exception: "+d.message,d.stack,y)},T.readyException=function(d){W.setTimeout(function(){throw d})};var bn=T.Deferred();T.fn.ready=function(d){return bn.then(d).catch(function(y){T.readyException(y)}),this},T.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--T.readyWait:T.isReady)||(T.isReady=!0,!(d!==!0&&--T.readyWait>0)&&bn.resolveWith(Oe,[T]))}}),T.ready.then=bn.then;function di(){Oe.removeEventListener("DOMContentLoaded",di),W.removeEventListener("load",di),T.ready()}Oe.readyState==="complete"||Oe.readyState!=="loading"&&!Oe.documentElement.doScroll?W.setTimeout(T.ready):(Oe.addEventListener("DOMContentLoaded",di),W.addEventListener("load",di));var en=function(d,y,E,P,k,N,K){var _e=0,Ee=d.length,it=E==null;if(de(E)==="object"){k=!0;for(_e in E)en(d,y,_e,E[_e],!0,N,K)}else if(P!==void 0&&(k=!0,Ye(P)||(K=!0),it&&(K?(y.call(d,P),y=null):(it=y,y=function(Ht,gn,Ut){return it.call(T(Ht),Ut)})),y))for(;_e<Ee;_e++)y(d[_e],E,K?P:P.call(d[_e],_e,y(d[_e],E)));return k?d:it?y.call(d):Ee?y(d[0],E):N},vr=/^-ms-/,Er=/-([a-z])/g;function tr(d,y){return y.toUpperCase()}function er(d){return d.replace(vr,"ms-").replace(Er,tr)}var Ui=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function Et(){this.expando=T.expando+Et.uid++}Et.uid=1,Et.prototype={cache:function(d){var y=d[this.expando];return y||(y={},Ui(d)&&(d.nodeType?d[this.expando]=y:Object.defineProperty(d,this.expando,{value:y,configurable:!0}))),y},set:function(d,y,E){var P,k=this.cache(d);if(typeof y=="string")k[er(y)]=E;else for(P in y)k[er(P)]=y[P];return k},get:function(d,y){return y===void 0?this.cache(d):d[this.expando]&&d[this.expando][er(y)]},access:function(d,y,E){return y===void 0||y&&typeof y=="string"&&E===void 0?this.get(d,y):(this.set(d,y,E),E!==void 0?E:y)},remove:function(d,y){var E,P=d[this.expando];if(P!==void 0){if(y!==void 0)for(Array.isArray(y)?y=y.map(er):(y=er(y),y=y in P?[y]:y.match(fi)||[]),E=y.length;E--;)delete P[y[E]];(y===void 0||T.isEmptyObject(P))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var y=d[this.expando];return y!==void 0&&!T.isEmptyObject(y)}};var vn=new Et,Mn=new Et,gi=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$i=/[A-Z]/g;function hr(d){return d==="true"?!0:d==="false"?!1:d==="null"?null:d===+d+""?+d:gi.test(d)?JSON.parse(d):d}function Es(d,y,E){var P;if(E===void 0&&d.nodeType===1)if(P="data-"+y.replace($i,"-$&").toLowerCase(),E=d.getAttribute(P),typeof E=="string"){try{E=hr(E)}catch(k){}Mn.set(d,y,E)}else E=void 0;return E}T.extend({hasData:function(d){return Mn.hasData(d)||vn.hasData(d)},data:function(d,y,E){return Mn.access(d,y,E)},removeData:function(d,y){Mn.remove(d,y)},_data:function(d,y,E){return vn.access(d,y,E)},_removeData:function(d,y){vn.remove(d,y)}}),T.fn.extend({data:function(d,y){var E,P,k,N=this[0],K=N&&N.attributes;if(d===void 0){if(this.length&&(k=Mn.get(N),N.nodeType===1&&!vn.get(N,"hasDataAttrs"))){for(E=K.length;E--;)K[E]&&(P=K[E].name,P.indexOf("data-")===0&&(P=er(P.slice(5)),Es(N,P,k[P])));vn.set(N,"hasDataAttrs",!0)}return k}return typeof d=="object"?this.each(function(){Mn.set(this,d)}):en(this,function(_e){var Ee;if(N&&_e===void 0)return Ee=Mn.get(N,d),Ee!==void 0||(Ee=Es(N,d),Ee!==void 0)?Ee:void 0;this.each(function(){Mn.set(this,d,_e)})},null,y,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){Mn.remove(this,d)})}}),T.extend({queue:function(d,y,E){var P;if(d)return y=(y||"fx")+"queue",P=vn.get(d,y),E&&(!P||Array.isArray(E)?P=vn.access(d,y,T.makeArray(E)):P.push(E)),P||[]},dequeue:function(d,y){y=y||"fx";var E=T.queue(d,y),P=E.length,k=E.shift(),N=T._queueHooks(d,y),K=function(){T.dequeue(d,y)};k==="inprogress"&&(k=E.shift(),P--),k&&(y==="fx"&&E.unshift("inprogress"),delete N.stop,k.call(d,K,N)),!P&&N&&N.empty.fire()},_queueHooks:function(d,y){var E=y+"queueHooks";return vn.get(d,E)||vn.access(d,E,{empty:T.Callbacks("once memory").add(function(){vn.remove(d,[y+"queue",E])})})}}),T.fn.extend({queue:function(d,y){var E=2;return typeof d!="string"&&(y=d,d="fx",E--),arguments.length<E?T.queue(this[0],d):y===void 0?this:this.each(function(){var P=T.queue(this,d,y);T._queueHooks(this,d),d==="fx"&&P[0]!=="inprogress"&&T.dequeue(this,d)})},dequeue:function(d){return this.each(function(){T.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,y){var E,P=1,k=T.Deferred(),N=this,K=this.length,_e=function(){--P||k.resolveWith(N,[N])};for(typeof d!="string"&&(y=d,d=void 0),d=d||"fx";K--;)E=vn.get(N[K],d+"queueHooks"),E&&E.empty&&(P++,E.empty.add(_e));return _e(),k.promise(y)}});var vi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ot=new RegExp("^(?:([+-])=|)("+vi+")([a-z%]*)$","i"),kt=["Top","Right","Bottom","Left"],cn=Oe.documentElement,pi=function(d){return T.contains(d.ownerDocument,d)},nr={composed:!0};cn.getRootNode&&(pi=function(d){return T.contains(d.ownerDocument,d)||d.getRootNode(nr)===d.ownerDocument});var mi=function(d,y){return d=y||d,d.style.display==="none"||d.style.display===""&&pi(d)&&T.css(d,"display")==="none"};function Zi(d,y,E,P){var k,N,K=20,_e=P?function(){return P.cur()}:function(){return T.css(d,y,"")},Ee=_e(),it=E&&E[3]||(T.cssNumber[y]?"":"px"),Ht=d.nodeType&&(T.cssNumber[y]||it!=="px"&&+Ee)&&Ot.exec(T.css(d,y));if(Ht&&Ht[3]!==it){for(Ee=Ee/2,it=it||Ht[3],Ht=+Ee||1;K--;)T.style(d,y,Ht+it),(1-N)*(1-(N=_e()/Ee||.5))<=0&&(K=0),Ht=Ht/N;Ht=Ht*2,T.style(d,y,Ht+it),E=E||[]}return E&&(Ht=+Ht||+Ee||0,k=E[1]?Ht+(E[1]+1)*E[2]:+E[2],P&&(P.unit=it,P.start=Ht,P.end=k)),k}var $n={};function bi(d){var y,E=d.ownerDocument,P=d.nodeName,k=$n[P];return k||(y=E.body.appendChild(E.createElement(P)),k=T.css(y,"display"),y.parentNode.removeChild(y),k==="none"&&(k="block"),$n[P]=k,k)}function Sr(d,y){for(var E,P,k=[],N=0,K=d.length;N<K;N++)P=d[N],P.style&&(E=P.style.display,y?(E==="none"&&(k[N]=vn.get(P,"display")||null,k[N]||(P.style.display="")),P.style.display===""&&mi(P)&&(k[N]=bi(P))):E!=="none"&&(k[N]="none",vn.set(P,"display",E)));for(N=0;N<K;N++)k[N]!=null&&(d[N].style.display=k[N]);return d}T.fn.extend({show:function(){return Sr(this,!0)},hide:function(){return Sr(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){mi(this)?T(this).show():T(this).hide()})}});var Ir=/^(?:checkbox|radio)$/i,Z=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Tt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var d=Oe.createDocumentFragment(),y=d.appendChild(Oe.createElement("div")),E=Oe.createElement("input");E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","t"),y.appendChild(E),qe.checkClone=y.cloneNode(!0).cloneNode(!0).lastChild.checked,y.innerHTML="<textarea>x</textarea>",qe.noCloneChecked=!!y.cloneNode(!0).lastChild.defaultValue,y.innerHTML="<option></option>",qe.option=!!y.lastChild})();var Tn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Tn.tbody=Tn.tfoot=Tn.colgroup=Tn.caption=Tn.thead,Tn.th=Tn.td,qe.option||(Tn.optgroup=Tn.option=[1,"<select multiple='multiple'>","</select>"]);function ve(d,y){var E;return typeof d.getElementsByTagName!="undefined"?E=d.getElementsByTagName(y||"*"):typeof d.querySelectorAll!="undefined"?E=d.querySelectorAll(y||"*"):E=[],y===void 0||y&&He(d,y)?T.merge([d],E):E}function Ae(d,y){for(var E=0,P=d.length;E<P;E++)vn.set(d[E],"globalEval",!y||vn.get(y[E],"globalEval"))}var nt=/<|&#?\w+;/;function fn(d,y,E,P,k){for(var N,K,_e,Ee,it,Ht,gn=y.createDocumentFragment(),Ut=[],Bn=0,Si=d.length;Bn<Si;Bn++)if(N=d[Bn],N||N===0)if(de(N)==="object")T.merge(Ut,N.nodeType?[N]:N);else if(!nt.test(N))Ut.push(y.createTextNode(N));else{for(K=K||gn.appendChild(y.createElement("div")),_e=(Z.exec(N)||["",""])[1].toLowerCase(),Ee=Tn[_e]||Tn._default,K.innerHTML=Ee[1]+T.htmlPrefilter(N)+Ee[2],Ht=Ee[0];Ht--;)K=K.lastChild;T.merge(Ut,K.childNodes),K=gn.firstChild,K.textContent=""}for(gn.textContent="",Bn=0;N=Ut[Bn++];){if(P&&T.inArray(N,P)>-1){k&&k.push(N);continue}if(it=pi(N),K=ve(gn.appendChild(N),"script"),it&&Ae(K),E)for(Ht=0;N=K[Ht++];)Tt.test(N.type||"")&&E.push(N)}return gn}var An=/^([^.]*)(?:\.(.+)|)/;function oi(){return!0}function Wi(){return!1}function Cr(d,y,E,P,k,N){var K,_e;if(typeof y=="object"){typeof E!="string"&&(P=P||E,E=void 0);for(_e in y)Cr(d,_e,E,P,y[_e],N);return d}if(P==null&&k==null?(k=E,P=E=void 0):k==null&&(typeof E=="string"?(k=P,P=void 0):(k=P,P=E,E=void 0)),k===!1)k=Wi;else if(!k)return d;return N===1&&(K=k,k=function(Ee){return T().off(Ee),K.apply(this,arguments)},k.guid=K.guid||(K.guid=T.guid++)),d.each(function(){T.event.add(this,y,k,P,E)})}T.event={global:{},add:function(d,y,E,P,k){var N,K,_e,Ee,it,Ht,gn,Ut,Bn,Si,_r,Br=vn.get(d);if(Ui(d))for(E.handler&&(N=E,E=N.handler,k=N.selector),k&&T.find.matchesSelector(cn,k),E.guid||(E.guid=T.guid++),(Ee=Br.events)||(Ee=Br.events=Object.create(null)),(K=Br.handle)||(K=Br.handle=function(fo){return typeof T!="undefined"&&T.event.triggered!==fo.type?T.event.dispatch.apply(d,arguments):void 0}),y=(y||"").match(fi)||[""],it=y.length;it--;)_e=An.exec(y[it])||[],Bn=_r=_e[1],Si=(_e[2]||"").split(".").sort(),Bn&&(gn=T.event.special[Bn]||{},Bn=(k?gn.delegateType:gn.bindType)||Bn,gn=T.event.special[Bn]||{},Ht=T.extend({type:Bn,origType:_r,data:P,handler:E,guid:E.guid,selector:k,needsContext:k&&T.expr.match.needsContext.test(k),namespace:Si.join(".")},N),(Ut=Ee[Bn])||(Ut=Ee[Bn]=[],Ut.delegateCount=0,(!gn.setup||gn.setup.call(d,P,Si,K)===!1)&&d.addEventListener&&d.addEventListener(Bn,K)),gn.add&&(gn.add.call(d,Ht),Ht.handler.guid||(Ht.handler.guid=E.guid)),k?Ut.splice(Ut.delegateCount++,0,Ht):Ut.push(Ht),T.event.global[Bn]=!0)},remove:function(d,y,E,P,k){var N,K,_e,Ee,it,Ht,gn,Ut,Bn,Si,_r,Br=vn.hasData(d)&&vn.get(d);if(!(!Br||!(Ee=Br.events))){for(y=(y||"").match(fi)||[""],it=y.length;it--;){if(_e=An.exec(y[it])||[],Bn=_r=_e[1],Si=(_e[2]||"").split(".").sort(),!Bn){for(Bn in Ee)T.event.remove(d,Bn+y[it],E,P,!0);continue}for(gn=T.event.special[Bn]||{},Bn=(P?gn.delegateType:gn.bindType)||Bn,Ut=Ee[Bn]||[],_e=_e[2]&&new RegExp("(^|\\.)"+Si.join("\\.(?:.*\\.|)")+"(\\.|$)"),K=N=Ut.length;N--;)Ht=Ut[N],(k||_r===Ht.origType)&&(!E||E.guid===Ht.guid)&&(!_e||_e.test(Ht.namespace))&&(!P||P===Ht.selector||P==="**"&&Ht.selector)&&(Ut.splice(N,1),Ht.selector&&Ut.delegateCount--,gn.remove&&gn.remove.call(d,Ht));K&&!Ut.length&&((!gn.teardown||gn.teardown.call(d,Si,Br.handle)===!1)&&T.removeEvent(d,Bn,Br.handle),delete Ee[Bn])}T.isEmptyObject(Ee)&&vn.remove(d,"handle events")}},dispatch:function(d){var y,E,P,k,N,K,_e=new Array(arguments.length),Ee=T.event.fix(d),it=(vn.get(this,"events")||Object.create(null))[Ee.type]||[],Ht=T.event.special[Ee.type]||{};for(_e[0]=Ee,y=1;y<arguments.length;y++)_e[y]=arguments[y];if(Ee.delegateTarget=this,!(Ht.preDispatch&&Ht.preDispatch.call(this,Ee)===!1)){for(K=T.event.handlers.call(this,Ee,it),y=0;(k=K[y++])&&!Ee.isPropagationStopped();)for(Ee.currentTarget=k.elem,E=0;(N=k.handlers[E++])&&!Ee.isImmediatePropagationStopped();)(!Ee.rnamespace||N.namespace===!1||Ee.rnamespace.test(N.namespace))&&(Ee.handleObj=N,Ee.data=N.data,P=((T.event.special[N.origType]||{}).handle||N.handler).apply(k.elem,_e),P!==void 0&&(Ee.result=P)===!1&&(Ee.preventDefault(),Ee.stopPropagation()));return Ht.postDispatch&&Ht.postDispatch.call(this,Ee),Ee.result}},handlers:function(d,y){var E,P,k,N,K,_e=[],Ee=y.delegateCount,it=d.target;if(Ee&&it.nodeType&&!(d.type==="click"&&d.button>=1)){for(;it!==this;it=it.parentNode||this)if(it.nodeType===1&&!(d.type==="click"&&it.disabled===!0)){for(N=[],K={},E=0;E<Ee;E++)P=y[E],k=P.selector+" ",K[k]===void 0&&(K[k]=P.needsContext?T(k,this).index(it)>-1:T.find(k,this,null,[it]).length),K[k]&&N.push(P);N.length&&_e.push({elem:it,handlers:N})}}return it=this,Ee<y.length&&_e.push({elem:it,handlers:y.slice(Ee)}),_e},addProp:function(d,y){Object.defineProperty(T.Event.prototype,d,{enumerable:!0,configurable:!0,get:Ye(y)?function(){if(this.originalEvent)return y(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(E){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:E})}})},fix:function(d){return d[T.expando]?d:new T.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var y=this||d;return Ir.test(y.type)&&y.click&&He(y,"input")&&Ur(y,"click",!0),!1},trigger:function(d){var y=this||d;return Ir.test(y.type)&&y.click&&He(y,"input")&&Ur(y,"click"),!0},_default:function(d){var y=d.target;return Ir.test(y.type)&&y.click&&He(y,"input")&&vn.get(y,"click")||He(y,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}};function Ur(d,y,E){if(!E){vn.get(d,y)===void 0&&T.event.add(d,y,oi);return}vn.set(d,y,!1),T.event.add(d,y,{namespace:!1,handler:function(P){var k,N=vn.get(this,y);if(P.isTrigger&1&&this[y]){if(N)(T.event.special[y]||{}).delegateType&&P.stopPropagation();else if(N=se.call(arguments),vn.set(this,y,N),this[y](),k=vn.get(this,y),vn.set(this,y,!1),N!==k)return P.stopImmediatePropagation(),P.preventDefault(),k}else N&&(vn.set(this,y,T.event.trigger(N[0],N.slice(1),this)),P.stopPropagation(),P.isImmediatePropagationStopped=oi)}})}T.removeEvent=function(d,y,E){d.removeEventListener&&d.removeEventListener(y,E)},T.Event=function(d,y){if(!(this instanceof T.Event))return new T.Event(d,y);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?oi:Wi,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,y&&T.extend(this,y),this.timeStamp=d&&d.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Wi,isPropagationStopped:Wi,isImmediatePropagationStopped:Wi,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=oi,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=oi,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=oi,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},function(d,y){function E(P){if(Oe.documentMode){var k=vn.get(this,"handle"),N=T.event.fix(P);N.type=P.type==="focusin"?"focus":"blur",N.isSimulated=!0,k(P),N.target===N.currentTarget&&k(N)}else T.event.simulate(y,P.target,T.event.fix(P))}T.event.special[d]={setup:function(){var P;if(Ur(this,d,!0),Oe.documentMode)P=vn.get(this,y),P||this.addEventListener(y,E),vn.set(this,y,(P||0)+1);else return!1},trigger:function(){return Ur(this,d),!0},teardown:function(){var P;if(Oe.documentMode)P=vn.get(this,y)-1,P?vn.set(this,y,P):(this.removeEventListener(y,E),vn.remove(this,y));else return!1},_default:function(P){return vn.get(P.target,d)},delegateType:y},T.event.special[y]={setup:function(){var P=this.ownerDocument||this.document||this,k=Oe.documentMode?this:P,N=vn.get(k,y);N||(Oe.documentMode?this.addEventListener(y,E):P.addEventListener(d,E,!0)),vn.set(k,y,(N||0)+1)},teardown:function(){var P=this.ownerDocument||this.document||this,k=Oe.documentMode?this:P,N=vn.get(k,y)-1;N?vn.set(k,y,N):(Oe.documentMode?this.removeEventListener(y,E):P.removeEventListener(d,E,!0),vn.remove(k,y))}}}),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,y){T.event.special[d]={delegateType:y,bindType:y,handle:function(E){var P,k=this,N=E.relatedTarget,K=E.handleObj;return(!N||N!==k&&!T.contains(k,N))&&(E.type=K.origType,P=K.handler.apply(this,arguments),E.type=y),P}}}),T.fn.extend({on:function(d,y,E,P){return Cr(this,d,y,E,P)},one:function(d,y,E,P){return Cr(this,d,y,E,P,1)},off:function(d,y,E){var P,k;if(d&&d.preventDefault&&d.handleObj)return P=d.handleObj,T(d.delegateTarget).off(P.namespace?P.origType+"."+P.namespace:P.origType,P.selector,P.handler),this;if(typeof d=="object"){for(k in d)this.off(k,y,d[k]);return this}return(y===!1||typeof y=="function")&&(E=y,y=void 0),E===!1&&(E=Wi),this.each(function(){T.event.remove(this,d,E,y)})}});var Lr=/<script|<style|<link/i,Tr=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function kn(d,y){return He(d,"table")&&He(y.nodeType!==11?y:y.firstChild,"tr")&&T(d).children("tbody")[0]||d}function Xn(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function pn(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function ci(d,y){var E,P,k,N,K,_e,Ee;if(y.nodeType===1){if(vn.hasData(d)&&(N=vn.get(d),Ee=N.events,Ee)){vn.remove(y,"handle events");for(k in Ee)for(E=0,P=Ee[k].length;E<P;E++)T.event.add(y,k,Ee[k][E])}Mn.hasData(d)&&(K=Mn.access(d),_e=T.extend({},K),Mn.set(y,_e))}}function ir(d,y){var E=y.nodeName.toLowerCase();E==="input"&&Ir.test(d.type)?y.checked=d.checked:(E==="input"||E==="textarea")&&(y.defaultValue=d.defaultValue)}function or(d,y,E,P){y=J(y);var k,N,K,_e,Ee,it,Ht=0,gn=d.length,Ut=gn-1,Bn=y[0],Si=Ye(Bn);if(Si||gn>1&&typeof Bn=="string"&&!qe.checkClone&&Tr.test(Bn))return d.each(function(_r){var Br=d.eq(_r);Si&&(y[0]=Bn.call(this,_r,Br.html())),or(Br,y,E,P)});if(gn&&(k=fn(y,d[0].ownerDocument,!1,d,P),N=k.firstChild,k.childNodes.length===1&&(k=N),N||P)){for(K=T.map(ve(k,"script"),Xn),_e=K.length;Ht<gn;Ht++)Ee=k,Ht!==Ut&&(Ee=T.clone(Ee,!0,!0),_e&&T.merge(K,ve(Ee,"script"))),E.call(d[Ht],Ee,Ht);if(_e)for(it=K[K.length-1].ownerDocument,T.map(K,pn),Ht=0;Ht<_e;Ht++)Ee=K[Ht],Tt.test(Ee.type||"")&&!vn.access(Ee,"globalEval")&&T.contains(it,Ee)&&(Ee.src&&(Ee.type||"").toLowerCase()!=="module"?T._evalUrl&&!Ee.noModule&&T._evalUrl(Ee.src,{nonce:Ee.nonce||Ee.getAttribute("nonce")},it):xt(Ee.textContent.replace(Dt,""),Ee,it))}return d}function Gr(d,y,E){for(var P,k=y?T.filter(y,d):d,N=0;(P=k[N])!=null;N++)!E&&P.nodeType===1&&T.cleanData(ve(P)),P.parentNode&&(E&&pi(P)&&Ae(ve(P,"script")),P.parentNode.removeChild(P));return d}T.extend({htmlPrefilter:function(d){return d},clone:function(d,y,E){var P,k,N,K,_e=d.cloneNode(!0),Ee=pi(d);if(!qe.noCloneChecked&&(d.nodeType===1||d.nodeType===11)&&!T.isXMLDoc(d))for(K=ve(_e),N=ve(d),P=0,k=N.length;P<k;P++)ir(N[P],K[P]);if(y)if(E)for(N=N||ve(d),K=K||ve(_e),P=0,k=N.length;P<k;P++)ci(N[P],K[P]);else ci(d,_e);return K=ve(_e,"script"),K.length>0&&Ae(K,!Ee&&ve(d,"script")),_e},cleanData:function(d){for(var y,E,P,k=T.event.special,N=0;(E=d[N])!==void 0;N++)if(Ui(E)){if(y=E[vn.expando]){if(y.events)for(P in y.events)k[P]?T.event.remove(E,P):T.removeEvent(E,P,y.handle);E[vn.expando]=void 0}E[Mn.expando]&&(E[Mn.expando]=void 0)}}}),T.fn.extend({detach:function(d){return Gr(this,d,!0)},remove:function(d){return Gr(this,d)},text:function(d){return en(this,function(y){return y===void 0?T.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=y)})},null,d,arguments.length)},append:function(){return or(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=kn(this,d);y.appendChild(d)}})},prepend:function(){return or(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var y=kn(this,d);y.insertBefore(d,y.firstChild)}})},before:function(){return or(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return or(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,y=0;(d=this[y])!=null;y++)d.nodeType===1&&(T.cleanData(ve(d,!1)),d.textContent="");return this},clone:function(d,y){return d=d==null?!1:d,y=y==null?d:y,this.map(function(){return T.clone(this,d,y)})},html:function(d){return en(this,function(y){var E=this[0]||{},P=0,k=this.length;if(y===void 0&&E.nodeType===1)return E.innerHTML;if(typeof y=="string"&&!Lr.test(y)&&!Tn[(Z.exec(y)||["",""])[1].toLowerCase()]){y=T.htmlPrefilter(y);try{for(;P<k;P++)E=this[P]||{},E.nodeType===1&&(T.cleanData(ve(E,!1)),E.innerHTML=y);E=0}catch(N){}}E&&this.empty().append(y)},null,d,arguments.length)},replaceWith:function(){var d=[];return or(this,arguments,function(y){var E=this.parentNode;T.inArray(this,d)<0&&(T.cleanData(ve(this)),E&&E.replaceChild(y,this))},d)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,y){T.fn[d]=function(E){for(var P,k=[],N=T(E),K=N.length-1,_e=0;_e<=K;_e++)P=_e===K?this:this.clone(!0),T(N[_e])[y](P),oe.apply(k,P.get());return this.pushStack(k)}});var Nr=new RegExp("^("+vi+")(?!px)[a-z%]+$","i"),Xi=/^--/,Zr=function(d){var y=d.ownerDocument.defaultView;return(!y||!y.opener)&&(y=W),y.getComputedStyle(d)},cs=function(d,y,E){var P,k,N={};for(k in y)N[k]=d.style[k],d.style[k]=y[k];P=E.call(d);for(k in y)d.style[k]=N[k];return P},zr=new RegExp(kt.join("|"),"i");(function(){function d(){if(it){Ee.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",it.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",cn.appendChild(Ee).appendChild(it);var Ht=W.getComputedStyle(it);E=Ht.top!=="1%",_e=y(Ht.marginLeft)===12,it.style.right="60%",N=y(Ht.right)===36,P=y(Ht.width)===36,it.style.position="absolute",k=y(it.offsetWidth/3)===12,cn.removeChild(Ee),it=null}}function y(Ht){return Math.round(parseFloat(Ht))}var E,P,k,N,K,_e,Ee=Oe.createElement("div"),it=Oe.createElement("div");it.style&&(it.style.backgroundClip="content-box",it.cloneNode(!0).style.backgroundClip="",qe.clearCloneStyle=it.style.backgroundClip==="content-box",T.extend(qe,{boxSizingReliable:function(){return d(),P},pixelBoxStyles:function(){return d(),N},pixelPosition:function(){return d(),E},reliableMarginLeft:function(){return d(),_e},scrollboxSize:function(){return d(),k},reliableTrDimensions:function(){var Ht,gn,Ut,Bn;return K==null&&(Ht=Oe.createElement("table"),gn=Oe.createElement("tr"),Ut=Oe.createElement("div"),Ht.style.cssText="position:absolute;left:-11111px;border-collapse:separate",gn.style.cssText="box-sizing:content-box;border:1px solid",gn.style.height="1px",Ut.style.height="9px",Ut.style.display="block",cn.appendChild(Ht).appendChild(gn).appendChild(Ut),Bn=W.getComputedStyle(gn),K=parseInt(Bn.height,10)+parseInt(Bn.borderTopWidth,10)+parseInt(Bn.borderBottomWidth,10)===gn.offsetHeight,cn.removeChild(Ht)),K}}))})();function io(d,y,E){var P,k,N,K,_e=Xi.test(y),Ee=d.style;return E=E||Zr(d),E&&(K=E.getPropertyValue(y)||E[y],_e&&K&&(K=K.replace(Kt,"$1")||void 0),K===""&&!pi(d)&&(K=T.style(d,y)),!qe.pixelBoxStyles()&&Nr.test(K)&&zr.test(y)&&(P=Ee.width,k=Ee.minWidth,N=Ee.maxWidth,Ee.minWidth=Ee.maxWidth=Ee.width=K,K=E.width,Ee.width=P,Ee.minWidth=k,Ee.maxWidth=N)),K!==void 0?K+"":K}function Ts(d,y){return{get:function(){if(d()){delete this.get;return}return(this.get=y).apply(this,arguments)}}}var Ns=["Webkit","Moz","ms"],Fo=Oe.createElement("div").style,Ao={};function Po(d){for(var y=d[0].toUpperCase()+d.slice(1),E=Ns.length;E--;)if(d=Ns[E]+y,d in Fo)return d}function ro(d){var y=T.cssProps[d]||Ao[d];return y||(d in Fo?d:Ao[d]=Po(d)||d)}var ua=/^(none|table(?!-c[ea]).+)/,Mo={position:"absolute",visibility:"hidden",display:"block"},Bs={letterSpacing:"0",fontWeight:"400"};function Fs(d,y,E){var P=Ot.exec(y);return P?Math.max(0,P[2]-(E||0))+(P[3]||"px"):y}function Bo(d,y,E,P,k,N){var K=y==="width"?1:0,_e=0,Ee=0,it=0;if(E===(P?"border":"content"))return 0;for(;K<4;K+=2)E==="margin"&&(it+=T.css(d,E+kt[K],!0,k)),P?(E==="content"&&(Ee-=T.css(d,"padding"+kt[K],!0,k)),E!=="margin"&&(Ee-=T.css(d,"border"+kt[K]+"Width",!0,k))):(Ee+=T.css(d,"padding"+kt[K],!0,k),E!=="padding"?Ee+=T.css(d,"border"+kt[K]+"Width",!0,k):_e+=T.css(d,"border"+kt[K]+"Width",!0,k));return!P&&N>=0&&(Ee+=Math.max(0,Math.ceil(d["offset"+y[0].toUpperCase()+y.slice(1)]-N-Ee-_e-.5))||0),Ee+it}function bo(d,y,E){var P=Zr(d),k=!qe.boxSizingReliable()||E,N=k&&T.css(d,"boxSizing",!1,P)==="border-box",K=N,_e=io(d,y,P),Ee="offset"+y[0].toUpperCase()+y.slice(1);if(Nr.test(_e)){if(!E)return _e;_e="auto"}return(!qe.boxSizingReliable()&&N||!qe.reliableTrDimensions()&&He(d,"tr")||_e==="auto"||!parseFloat(_e)&&T.css(d,"display",!1,P)==="inline")&&d.getClientRects().length&&(N=T.css(d,"boxSizing",!1,P)==="border-box",K=Ee in d,K&&(_e=d[Ee])),_e=parseFloat(_e)||0,_e+Bo(d,y,E||(N?"border":"content"),K,P,_e)+"px"}T.extend({cssHooks:{opacity:{get:function(d,y){if(y){var E=io(d,"opacity");return E===""?"1":E}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(d,y,E,P){if(!(!d||d.nodeType===3||d.nodeType===8||!d.style)){var k,N,K,_e=er(y),Ee=Xi.test(y),it=d.style;if(Ee||(y=ro(_e)),K=T.cssHooks[y]||T.cssHooks[_e],E!==void 0){if(N=typeof E,N==="string"&&(k=Ot.exec(E))&&k[1]&&(E=Zi(d,y,k),N="number"),E==null||E!==E)return;N==="number"&&!Ee&&(E+=k&&k[3]||(T.cssNumber[_e]?"":"px")),!qe.clearCloneStyle&&E===""&&y.indexOf("background")===0&&(it[y]="inherit"),(!K||!("set"in K)||(E=K.set(d,E,P))!==void 0)&&(Ee?it.setProperty(y,E):it[y]=E)}else return K&&"get"in K&&(k=K.get(d,!1,P))!==void 0?k:it[y]}},css:function(d,y,E,P){var k,N,K,_e=er(y),Ee=Xi.test(y);return Ee||(y=ro(_e)),K=T.cssHooks[y]||T.cssHooks[_e],K&&"get"in K&&(k=K.get(d,!0,E)),k===void 0&&(k=io(d,y,P)),k==="normal"&&y in Bs&&(k=Bs[y]),E===""||E?(N=parseFloat(k),E===!0||isFinite(N)?N||0:k):k}}),T.each(["height","width"],function(d,y){T.cssHooks[y]={get:function(E,P,k){if(P)return ua.test(T.css(E,"display"))&&(!E.getClientRects().length||!E.getBoundingClientRect().width)?cs(E,Mo,function(){return bo(E,y,k)}):bo(E,y,k)},set:function(E,P,k){var N,K=Zr(E),_e=!qe.scrollboxSize()&&K.position==="absolute",Ee=_e||k,it=Ee&&T.css(E,"boxSizing",!1,K)==="border-box",Ht=k?Bo(E,y,k,it,K):0;return it&&_e&&(Ht-=Math.ceil(E["offset"+y[0].toUpperCase()+y.slice(1)]-parseFloat(K[y])-Bo(E,y,"border",!1,K)-.5)),Ht&&(N=Ot.exec(P))&&(N[3]||"px")!=="px"&&(E.style[y]=P,P=T.css(E,y)),Fs(E,P,Ht)}}}),T.cssHooks.marginLeft=Ts(qe.reliableMarginLeft,function(d,y){if(y)return(parseFloat(io(d,"marginLeft"))||d.getBoundingClientRect().left-cs(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(d,y){T.cssHooks[d+y]={expand:function(E){for(var P=0,k={},N=typeof E=="string"?E.split(" "):[E];P<4;P++)k[d+kt[P]+y]=N[P]||N[P-2]||N[0];return k}},d!=="margin"&&(T.cssHooks[d+y].set=Fs)}),T.fn.extend({css:function(d,y){return en(this,function(E,P,k){var N,K,_e={},Ee=0;if(Array.isArray(P)){for(N=Zr(E),K=P.length;Ee<K;Ee++)_e[P[Ee]]=T.css(E,P[Ee],!1,N);return _e}return k!==void 0?T.style(E,P,k):T.css(E,P)},d,y,arguments.length>1)}});function $r(d,y,E,P,k){return new $r.prototype.init(d,y,E,P,k)}T.Tween=$r,$r.prototype={constructor:$r,init:function(d,y,E,P,k,N){this.elem=d,this.prop=E,this.easing=k||T.easing._default,this.options=y,this.start=this.now=this.cur(),this.end=P,this.unit=N||(T.cssNumber[E]?"":"px")},cur:function(){var d=$r.propHooks[this.prop];return d&&d.get?d.get(this):$r.propHooks._default.get(this)},run:function(d){var y,E=$r.propHooks[this.prop];return this.options.duration?this.pos=y=T.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=y=d,this.now=(this.end-this.start)*y+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),E&&E.set?E.set(this):$r.propHooks._default.set(this),this}},$r.prototype.init.prototype=$r.prototype,$r.propHooks={_default:{get:function(d){var y;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(y=T.css(d.elem,d.prop,""),!y||y==="auto"?0:y)},set:function(d){T.fx.step[d.prop]?T.fx.step[d.prop](d):d.elem.nodeType===1&&(T.cssHooks[d.prop]||d.elem.style[ro(d.prop)]!=null)?T.style(d.elem,d.prop,d.now+d.unit):d.elem[d.prop]=d.now}}},$r.propHooks.scrollTop=$r.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},T.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},T.fx=$r.prototype.init,T.fx.step={};var So,so,mo=/^(?:toggle|show|hide)$/,Us=/queueHooks$/;function ds(){so&&(Oe.hidden===!1&&W.requestAnimationFrame?W.requestAnimationFrame(ds):W.setTimeout(ds,T.fx.interval),T.fx.tick())}function Oo(){return W.setTimeout(function(){So=void 0}),So=Date.now()}function Co(d,y){var E,P=0,k={height:d};for(y=y?1:0;P<4;P+=2-y)E=kt[P],k["margin"+E]=k["padding"+E]=d;return y&&(k.opacity=k.width=d),k}function Fr(d,y,E){for(var P,k=(bs.tweeners[y]||[]).concat(bs.tweeners["*"]),N=0,K=k.length;N<K;N++)if(P=k[N].call(E,y,d))return P}function vo(d,y,E){var P,k,N,K,_e,Ee,it,Ht,gn="width"in y||"height"in y,Ut=this,Bn={},Si=d.style,_r=d.nodeType&&mi(d),Br=vn.get(d,"fxshow");E.queue||(K=T._queueHooks(d,"fx"),K.unqueued==null&&(K.unqueued=0,_e=K.empty.fire,K.empty.fire=function(){K.unqueued||_e()}),K.unqueued++,Ut.always(function(){Ut.always(function(){K.unqueued--,T.queue(d,"fx").length||K.empty.fire()})}));for(P in y)if(k=y[P],mo.test(k)){if(delete y[P],N=N||k==="toggle",k===(_r?"hide":"show"))if(k==="show"&&Br&&Br[P]!==void 0)_r=!0;else continue;Bn[P]=Br&&Br[P]||T.style(d,P)}if(Ee=!T.isEmptyObject(y),!(!Ee&&T.isEmptyObject(Bn))){gn&&d.nodeType===1&&(E.overflow=[Si.overflow,Si.overflowX,Si.overflowY],it=Br&&Br.display,it==null&&(it=vn.get(d,"display")),Ht=T.css(d,"display"),Ht==="none"&&(it?Ht=it:(Sr([d],!0),it=d.style.display||it,Ht=T.css(d,"display"),Sr([d]))),(Ht==="inline"||Ht==="inline-block"&&it!=null)&&T.css(d,"float")==="none"&&(Ee||(Ut.done(function(){Si.display=it}),it==null&&(Ht=Si.display,it=Ht==="none"?"":Ht)),Si.display="inline-block")),E.overflow&&(Si.overflow="hidden",Ut.always(function(){Si.overflow=E.overflow[0],Si.overflowX=E.overflow[1],Si.overflowY=E.overflow[2]})),Ee=!1;for(P in Bn)Ee||(Br?"hidden"in Br&&(_r=Br.hidden):Br=vn.access(d,"fxshow",{display:it}),N&&(Br.hidden=!_r),_r&&Sr([d],!0),Ut.done(function(){_r||Sr([d]),vn.remove(d,"fxshow");for(P in Bn)T.style(d,P,Bn[P])})),Ee=Fr(_r?Br[P]:0,P,Ut),P in Br||(Br[P]=Ee.start,_r&&(Ee.end=Ee.start,Ee.start=0))}}function _a(d,y){var E,P,k,N,K;for(E in d)if(P=er(E),k=y[P],N=d[E],Array.isArray(N)&&(k=N[1],N=d[E]=N[0]),E!==P&&(d[P]=N,delete d[E]),K=T.cssHooks[P],K&&"expand"in K){N=K.expand(N),delete d[P];for(E in N)E in d||(d[E]=N[E],y[E]=k)}else y[P]=k}function bs(d,y,E){var P,k,N=0,K=bs.prefilters.length,_e=T.Deferred().always(function(){delete Ee.elem}),Ee=function(){if(k)return!1;for(var gn=So||Oo(),Ut=Math.max(0,it.startTime+it.duration-gn),Bn=Ut/it.duration||0,Si=1-Bn,_r=0,Br=it.tweens.length;_r<Br;_r++)it.tweens[_r].run(Si);return _e.notifyWith(d,[it,Si,Ut]),Si<1&&Br?Ut:(Br||_e.notifyWith(d,[it,1,0]),_e.resolveWith(d,[it]),!1)},it=_e.promise({elem:d,props:T.extend({},y),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},E),originalProperties:y,originalOptions:E,startTime:So||Oo(),duration:E.duration,tweens:[],createTween:function(gn,Ut){var Bn=T.Tween(d,it.opts,gn,Ut,it.opts.specialEasing[gn]||it.opts.easing);return it.tweens.push(Bn),Bn},stop:function(gn){var Ut=0,Bn=gn?it.tweens.length:0;if(k)return this;for(k=!0;Ut<Bn;Ut++)it.tweens[Ut].run(1);return gn?(_e.notifyWith(d,[it,1,0]),_e.resolveWith(d,[it,gn])):_e.rejectWith(d,[it,gn]),this}}),Ht=it.props;for(_a(Ht,it.opts.specialEasing);N<K;N++)if(P=bs.prefilters[N].call(it,d,Ht,it.opts),P)return Ye(P.stop)&&(T._queueHooks(it.elem,it.opts.queue).stop=P.stop.bind(P)),P;return T.map(Ht,Fr,it),Ye(it.opts.start)&&it.opts.start.call(d,it),it.progress(it.opts.progress).done(it.opts.done,it.opts.complete).fail(it.opts.fail).always(it.opts.always),T.fx.timer(T.extend(Ee,{elem:d,anim:it,queue:it.opts.queue})),it}T.Animation=T.extend(bs,{tweeners:{"*":[function(d,y){var E=this.createTween(d,y);return Zi(E.elem,d,Ot.exec(y),E),E}]},tweener:function(d,y){Ye(d)?(y=d,d=["*"]):d=d.match(fi);for(var E,P=0,k=d.length;P<k;P++)E=d[P],bs.tweeners[E]=bs.tweeners[E]||[],bs.tweeners[E].unshift(y)},prefilters:[vo],prefilter:function(d,y){y?bs.prefilters.unshift(d):bs.prefilters.push(d)}}),T.speed=function(d,y,E){var P=d&&typeof d=="object"?T.extend({},d):{complete:E||!E&&y||Ye(d)&&d,duration:d,easing:E&&y||y&&!Ye(y)&&y};return T.fx.off?P.duration=0:typeof P.duration!="number"&&(P.duration in T.fx.speeds?P.duration=T.fx.speeds[P.duration]:P.duration=T.fx.speeds._default),(P.queue==null||P.queue===!0)&&(P.queue="fx"),P.old=P.complete,P.complete=function(){Ye(P.old)&&P.old.call(this),P.queue&&T.dequeue(this,P.queue)},P},T.fn.extend({fadeTo:function(d,y,E,P){return this.filter(mi).css("opacity",0).show().end().animate({opacity:y},d,E,P)},animate:function(d,y,E,P){var k=T.isEmptyObject(d),N=T.speed(y,E,P),K=function(){var _e=bs(this,T.extend({},d),N);(k||vn.get(this,"finish"))&&_e.stop(!0)};return K.finish=K,k||N.queue===!1?this.each(K):this.queue(N.queue,K)},stop:function(d,y,E){var P=function(k){var N=k.stop;delete k.stop,N(E)};return typeof d!="string"&&(E=y,y=d,d=void 0),y&&this.queue(d||"fx",[]),this.each(function(){var k=!0,N=d!=null&&d+"queueHooks",K=T.timers,_e=vn.get(this);if(N)_e[N]&&_e[N].stop&&P(_e[N]);else for(N in _e)_e[N]&&_e[N].stop&&Us.test(N)&&P(_e[N]);for(N=K.length;N--;)K[N].elem===this&&(d==null||K[N].queue===d)&&(K[N].anim.stop(E),k=!1,K.splice(N,1));(k||!E)&&T.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var y,E=vn.get(this),P=E[d+"queue"],k=E[d+"queueHooks"],N=T.timers,K=P?P.length:0;for(E.finish=!0,T.queue(this,d,[]),k&&k.stop&&k.stop.call(this,!0),y=N.length;y--;)N[y].elem===this&&N[y].queue===d&&(N[y].anim.stop(!0),N.splice(y,1));for(y=0;y<K;y++)P[y]&&P[y].finish&&P[y].finish.call(this);delete E.finish})}}),T.each(["toggle","show","hide"],function(d,y){var E=T.fn[y];T.fn[y]=function(P,k,N){return P==null||typeof P=="boolean"?E.apply(this,arguments):this.animate(Co(y,!0),P,k,N)}}),T.each({slideDown:Co("show"),slideUp:Co("hide"),slideToggle:Co("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,y){T.fn[d]=function(E,P,k){return this.animate(y,E,P,k)}}),T.timers=[],T.fx.tick=function(){var d,y=0,E=T.timers;for(So=Date.now();y<E.length;y++)d=E[y],!d()&&E[y]===d&&E.splice(y--,1);E.length||T.fx.stop(),So=void 0},T.fx.timer=function(d){T.timers.push(d),T.fx.start()},T.fx.interval=13,T.fx.start=function(){so||(so=!0,ds())},T.fx.stop=function(){so=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(d,y){return d=T.fx&&T.fx.speeds[d]||d,y=y||"fx",this.queue(y,function(E,P){var k=W.setTimeout(E,d);P.stop=function(){W.clearTimeout(k)}})},function(){var d=Oe.createElement("input"),y=Oe.createElement("select"),E=y.appendChild(Oe.createElement("option"));d.type="checkbox",qe.checkOn=d.value!=="",qe.optSelected=E.selected,d=Oe.createElement("input"),d.value="t",d.type="radio",qe.radioValue=d.value==="t"}();var Js,js=T.expr.attrHandle;T.fn.extend({attr:function(d,y){return en(this,T.attr,d,y,arguments.length>1)},removeAttr:function(d){return this.each(function(){T.removeAttr(this,d)})}}),T.extend({attr:function(d,y,E){var P,k,N=d.nodeType;if(!(N===3||N===8||N===2)){if(typeof d.getAttribute=="undefined")return T.prop(d,y,E);if((N!==1||!T.isXMLDoc(d))&&(k=T.attrHooks[y.toLowerCase()]||(T.expr.match.bool.test(y)?Js:void 0)),E!==void 0){if(E===null){T.removeAttr(d,y);return}return k&&"set"in k&&(P=k.set(d,E,y))!==void 0?P:(d.setAttribute(y,E+""),E)}return k&&"get"in k&&(P=k.get(d,y))!==null?P:(P=T.find.attr(d,y),P==null?void 0:P)}},attrHooks:{type:{set:function(d,y){if(!qe.radioValue&&y==="radio"&&He(d,"input")){var E=d.value;return d.setAttribute("type",y),E&&(d.value=E),y}}}},removeAttr:function(d,y){var E,P=0,k=y&&y.match(fi);if(k&&d.nodeType===1)for(;E=k[P++];)d.removeAttribute(E)}}),Js={set:function(d,y,E){return y===!1?T.removeAttr(d,E):d.setAttribute(E,E),E}},T.each(T.expr.match.bool.source.match(/\w+/g),function(d,y){var E=js[y]||T.find.attr;js[y]=function(P,k,N){var K,_e,Ee=k.toLowerCase();return N||(_e=js[Ee],js[Ee]=K,K=E(P,k,N)!=null?Ee:null,js[Ee]=_e),K}});var os=/^(?:input|select|textarea|button)$/i,hs=/^(?:a|area)$/i;T.fn.extend({prop:function(d,y){return en(this,T.prop,d,y,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[T.propFix[d]||d]})}}),T.extend({prop:function(d,y,E){var P,k,N=d.nodeType;if(!(N===3||N===8||N===2))return(N!==1||!T.isXMLDoc(d))&&(y=T.propFix[y]||y,k=T.propHooks[y]),E!==void 0?k&&"set"in k&&(P=k.set(d,E,y))!==void 0?P:d[y]=E:k&&"get"in k&&(P=k.get(d,y))!==null?P:d[y]},propHooks:{tabIndex:{get:function(d){var y=T.find.attr(d,"tabindex");return y?parseInt(y,10):os.test(d.nodeName)||hs.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),qe.optSelected||(T.propHooks.selected={get:function(d){var y=d.parentNode;return y&&y.parentNode&&y.parentNode.selectedIndex,null},set:function(d){var y=d.parentNode;y&&(y.selectedIndex,y.parentNode&&y.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this});function qr(d){var y=d.match(fi)||[];return y.join(" ")}function fs(d){return d.getAttribute&&d.getAttribute("class")||""}function oo(d){return Array.isArray(d)?d:typeof d=="string"?d.match(fi)||[]:[]}T.fn.extend({addClass:function(d){var y,E,P,k,N,K;return Ye(d)?this.each(function(_e){T(this).addClass(d.call(this,_e,fs(this)))}):(y=oo(d),y.length?this.each(function(){if(P=fs(this),E=this.nodeType===1&&" "+qr(P)+" ",E){for(N=0;N<y.length;N++)k=y[N],E.indexOf(" "+k+" ")<0&&(E+=k+" ");K=qr(E),P!==K&&this.setAttribute("class",K)}}):this)},removeClass:function(d){var y,E,P,k,N,K;return Ye(d)?this.each(function(_e){T(this).removeClass(d.call(this,_e,fs(this)))}):arguments.length?(y=oo(d),y.length?this.each(function(){if(P=fs(this),E=this.nodeType===1&&" "+qr(P)+" ",E){for(N=0;N<y.length;N++)for(k=y[N];E.indexOf(" "+k+" ")>-1;)E=E.replace(" "+k+" "," ");K=qr(E),P!==K&&this.setAttribute("class",K)}}):this):this.attr("class","")},toggleClass:function(d,y){var E,P,k,N,K=typeof d,_e=K==="string"||Array.isArray(d);return Ye(d)?this.each(function(Ee){T(this).toggleClass(d.call(this,Ee,fs(this),y),y)}):typeof y=="boolean"&&_e?y?this.addClass(d):this.removeClass(d):(E=oo(d),this.each(function(){if(_e)for(N=T(this),k=0;k<E.length;k++)P=E[k],N.hasClass(P)?N.removeClass(P):N.addClass(P);else(d===void 0||K==="boolean")&&(P=fs(this),P&&vn.set(this,"__className__",P),this.setAttribute&&this.setAttribute("class",P||d===!1?"":vn.get(this,"__className__")||""))}))},hasClass:function(d){var y,E,P=0;for(y=" "+d+" ";E=this[P++];)if(E.nodeType===1&&(" "+qr(fs(E))+" ").indexOf(y)>-1)return!0;return!1}});var va=/\r/g;T.fn.extend({val:function(d){var y,E,P,k=this[0];return arguments.length?(P=Ye(d),this.each(function(N){var K;this.nodeType===1&&(P?K=d.call(this,N,T(this).val()):K=d,K==null?K="":typeof K=="number"?K+="":Array.isArray(K)&&(K=T.map(K,function(_e){return _e==null?"":_e+""})),y=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()],(!y||!("set"in y)||y.set(this,K,"value")===void 0)&&(this.value=K))})):k?(y=T.valHooks[k.type]||T.valHooks[k.nodeName.toLowerCase()],y&&"get"in y&&(E=y.get(k,"value"))!==void 0?E:(E=k.value,typeof E=="string"?E.replace(va,""):E==null?"":E)):void 0}}),T.extend({valHooks:{option:{get:function(d){var y=T.find.attr(d,"value");return y!=null?y:qr(T.text(d))}},select:{get:function(d){var y,E,P,k=d.options,N=d.selectedIndex,K=d.type==="select-one",_e=K?null:[],Ee=K?N+1:k.length;for(N<0?P=Ee:P=K?N:0;P<Ee;P++)if(E=k[P],(E.selected||P===N)&&!E.disabled&&(!E.parentNode.disabled||!He(E.parentNode,"optgroup"))){if(y=T(E).val(),K)return y;_e.push(y)}return _e},set:function(d,y){for(var E,P,k=d.options,N=T.makeArray(y),K=k.length;K--;)P=k[K],(P.selected=T.inArray(T.valHooks.option.get(P),N)>-1)&&(E=!0);return E||(d.selectedIndex=-1),N}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(d,y){if(Array.isArray(y))return d.checked=T.inArray(T(d).val(),y)>-1}},qe.checkOn||(T.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})});var qo=W.location,wa={guid:Date.now()},Ua=/\?/;T.parseXML=function(d){var y,E;if(!d||typeof d!="string")return null;try{y=new W.DOMParser().parseFromString(d,"text/xml")}catch(P){}return E=y&&y.getElementsByTagName("parsererror")[0],(!y||E)&&T.error("Invalid XML: "+(E?T.map(E.childNodes,function(P){return P.textContent}).join(`
`):d)),y};var Pa=/^(?:focusinfocus|focusoutblur)$/,Jr=function(d){d.stopPropagation()};T.extend(T.event,{trigger:function(d,y,E,P){var k,N,K,_e,Ee,it,Ht,gn,Ut=[E||Oe],Bn=Be.call(d,"type")?d.type:d,Si=Be.call(d,"namespace")?d.namespace.split("."):[];if(N=gn=K=E=E||Oe,!(E.nodeType===3||E.nodeType===8)&&!Pa.test(Bn+T.event.triggered)&&(Bn.indexOf(".")>-1&&(Si=Bn.split("."),Bn=Si.shift(),Si.sort()),Ee=Bn.indexOf(":")<0&&"on"+Bn,d=d[T.expando]?d:new T.Event(Bn,typeof d=="object"&&d),d.isTrigger=P?2:3,d.namespace=Si.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+Si.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=E),y=y==null?[d]:T.makeArray(y,[d]),Ht=T.event.special[Bn]||{},!(!P&&Ht.trigger&&Ht.trigger.apply(E,y)===!1))){if(!P&&!Ht.noBubble&&!vt(E)){for(_e=Ht.delegateType||Bn,Pa.test(_e+Bn)||(N=N.parentNode);N;N=N.parentNode)Ut.push(N),K=N;K===(E.ownerDocument||Oe)&&Ut.push(K.defaultView||K.parentWindow||W)}for(k=0;(N=Ut[k++])&&!d.isPropagationStopped();)gn=N,d.type=k>1?_e:Ht.bindType||Bn,it=(vn.get(N,"events")||Object.create(null))[d.type]&&vn.get(N,"handle"),it&&it.apply(N,y),it=Ee&&N[Ee],it&&it.apply&&Ui(N)&&(d.result=it.apply(N,y),d.result===!1&&d.preventDefault());return d.type=Bn,!P&&!d.isDefaultPrevented()&&(!Ht._default||Ht._default.apply(Ut.pop(),y)===!1)&&Ui(E)&&Ee&&Ye(E[Bn])&&!vt(E)&&(K=E[Ee],K&&(E[Ee]=null),T.event.triggered=Bn,d.isPropagationStopped()&&gn.addEventListener(Bn,Jr),E[Bn](),d.isPropagationStopped()&&gn.removeEventListener(Bn,Jr),T.event.triggered=void 0,K&&(E[Ee]=K)),d.result}},simulate:function(d,y,E){var P=T.extend(new T.Event,E,{type:d,isSimulated:!0});T.event.trigger(P,null,y)}}),T.fn.extend({trigger:function(d,y){return this.each(function(){T.event.trigger(d,y,this)})},triggerHandler:function(d,y){var E=this[0];if(E)return T.event.trigger(d,y,E,!0)}});var fr=/\[\]$/,ai=/\r?\n/g,_s=/^(?:submit|button|image|reset|file)$/i,Uo=/^(?:input|select|textarea|keygen)/i;function zo(d,y,E,P){var k;if(Array.isArray(y))T.each(y,function(N,K){E||fr.test(d)?P(d,K):zo(d+"["+(typeof K=="object"&&K!=null?N:"")+"]",K,E,P)});else if(!E&&de(y)==="object")for(k in y)zo(d+"["+k+"]",y[k],E,P);else P(d,y)}T.param=function(d,y){var E,P=[],k=function(N,K){var _e=Ye(K)?K():K;P[P.length]=encodeURIComponent(N)+"="+encodeURIComponent(_e==null?"":_e)};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!T.isPlainObject(d))T.each(d,function(){k(this.name,this.value)});else for(E in d)zo(E,d[E],y,k);return P.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=T.prop(this,"elements");return d?T.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!T(this).is(":disabled")&&Uo.test(this.nodeName)&&!_s.test(d)&&(this.checked||!Ir.test(d))}).map(function(d,y){var E=T(this).val();return E==null?null:Array.isArray(E)?T.map(E,function(P){return{name:y.name,value:P.replace(ai,`\r
`)}}):{name:y.name,value:E.replace(ai,`\r
`)}}).get()}});var el=/%20/g,ws=/#.*$/,za=/([?&])_=[^&]*/,Ka=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ma=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ya=/^(?:GET|HEAD)$/,ra=/^\/\//,$a={},ll={},Jo="*/".concat("*"),ba=Oe.createElement("a");ba.href=qo.href;function hl(d){return function(y,E){typeof y!="string"&&(E=y,y="*");var P,k=0,N=y.toLowerCase().match(fi)||[];if(Ye(E))for(;P=N[k++];)P[0]==="+"?(P=P.slice(1)||"*",(d[P]=d[P]||[]).unshift(E)):(d[P]=d[P]||[]).push(E)}}function $e(d,y,E,P){var k={},N=d===ll;function K(_e){var Ee;return k[_e]=!0,T.each(d[_e]||[],function(it,Ht){var gn=Ht(y,E,P);if(typeof gn=="string"&&!N&&!k[gn])return y.dataTypes.unshift(gn),K(gn),!1;if(N)return!(Ee=gn)}),Ee}return K(y.dataTypes[0])||!k["*"]&&K("*")}function Y(d,y){var E,P,k=T.ajaxSettings.flatOptions||{};for(E in y)y[E]!==void 0&&((k[E]?d:P||(P={}))[E]=y[E]);return P&&T.extend(!0,d,P),d}function H(d,y,E){for(var P,k,N,K,_e=d.contents,Ee=d.dataTypes;Ee[0]==="*";)Ee.shift(),P===void 0&&(P=d.mimeType||y.getResponseHeader("Content-Type"));if(P){for(k in _e)if(_e[k]&&_e[k].test(P)){Ee.unshift(k);break}}if(Ee[0]in E)N=Ee[0];else{for(k in E){if(!Ee[0]||d.converters[k+" "+Ee[0]]){N=k;break}K||(K=k)}N=N||K}if(N)return N!==Ee[0]&&Ee.unshift(N),E[N]}function ae(d,y,E,P){var k,N,K,_e,Ee,it={},Ht=d.dataTypes.slice();if(Ht[1])for(K in d.converters)it[K.toLowerCase()]=d.converters[K];for(N=Ht.shift();N;)if(d.responseFields[N]&&(E[d.responseFields[N]]=y),!Ee&&P&&d.dataFilter&&(y=d.dataFilter(y,d.dataType)),Ee=N,N=Ht.shift(),N){if(N==="*")N=Ee;else if(Ee!=="*"&&Ee!==N){if(K=it[Ee+" "+N]||it["* "+N],!K){for(k in it)if(_e=k.split(" "),_e[1]===N&&(K=it[Ee+" "+_e[0]]||it["* "+_e[0]],K)){K===!0?K=it[k]:it[k]!==!0&&(N=_e[0],Ht.unshift(_e[1]));break}}if(K!==!0)if(K&&d.throws)y=K(y);else try{y=K(y)}catch(gn){return{state:"parsererror",error:K?gn:"No conversion from "+Ee+" to "+N}}}}return{state:"success",data:y}}T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qo.href,type:"GET",isLocal:Ma.test(qo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,y){return y?Y(Y(d,T.ajaxSettings),y):Y(T.ajaxSettings,d)},ajaxPrefilter:hl($a),ajaxTransport:hl(ll),ajax:function(d,y){typeof d=="object"&&(y=d,d=void 0),y=y||{};var E,P,k,N,K,_e,Ee,it,Ht,gn,Ut=T.ajaxSetup({},y),Bn=Ut.context||Ut,Si=Ut.context&&(Bn.nodeType||Bn.jquery)?T(Bn):T.event,_r=T.Deferred(),Br=T.Callbacks("once memory"),fo=Ut.statusCode||{},Qs={},Ys={},Ga="canceled",j={readyState:0,getResponseHeader:function(Je){var ht;if(Ee){if(!N)for(N={};ht=Ka.exec(k);)N[ht[1].toLowerCase()+" "]=(N[ht[1].toLowerCase()+" "]||[]).concat(ht[2]);ht=N[Je.toLowerCase()+" "]}return ht==null?null:ht.join(", ")},getAllResponseHeaders:function(){return Ee?k:null},setRequestHeader:function(Je,ht){return Ee==null&&(Je=Ys[Je.toLowerCase()]=Ys[Je.toLowerCase()]||Je,Qs[Je]=ht),this},overrideMimeType:function(Je){return Ee==null&&(Ut.mimeType=Je),this},statusCode:function(Je){var ht;if(Je)if(Ee)j.always(Je[j.status]);else for(ht in Je)fo[ht]=[fo[ht],Je[ht]];return this},abort:function(Je){var ht=Je||Ga;return E&&E.abort(ht),we(0,ht),this}};if(_r.promise(j),Ut.url=((d||Ut.url||qo.href)+"").replace(ra,qo.protocol+"//"),Ut.type=y.method||y.type||Ut.method||Ut.type,Ut.dataTypes=(Ut.dataType||"*").toLowerCase().match(fi)||[""],Ut.crossDomain==null){_e=Oe.createElement("a");try{_e.href=Ut.url,_e.href=_e.href,Ut.crossDomain=ba.protocol+"//"+ba.host!=_e.protocol+"//"+_e.host}catch(Je){Ut.crossDomain=!0}}if(Ut.data&&Ut.processData&&typeof Ut.data!="string"&&(Ut.data=T.param(Ut.data,Ut.traditional)),$e($a,Ut,y,j),Ee)return j;it=T.event&&Ut.global,it&&T.active++===0&&T.event.trigger("ajaxStart"),Ut.type=Ut.type.toUpperCase(),Ut.hasContent=!ya.test(Ut.type),P=Ut.url.replace(ws,""),Ut.hasContent?Ut.data&&Ut.processData&&(Ut.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ut.data=Ut.data.replace(el,"+")):(gn=Ut.url.slice(P.length),Ut.data&&(Ut.processData||typeof Ut.data=="string")&&(P+=(Ua.test(P)?"&":"?")+Ut.data,delete Ut.data),Ut.cache===!1&&(P=P.replace(za,"$1"),gn=(Ua.test(P)?"&":"?")+"_="+wa.guid+++gn),Ut.url=P+gn),Ut.ifModified&&(T.lastModified[P]&&j.setRequestHeader("If-Modified-Since",T.lastModified[P]),T.etag[P]&&j.setRequestHeader("If-None-Match",T.etag[P])),(Ut.data&&Ut.hasContent&&Ut.contentType!==!1||y.contentType)&&j.setRequestHeader("Content-Type",Ut.contentType),j.setRequestHeader("Accept",Ut.dataTypes[0]&&Ut.accepts[Ut.dataTypes[0]]?Ut.accepts[Ut.dataTypes[0]]+(Ut.dataTypes[0]!=="*"?", "+Jo+"; q=0.01":""):Ut.accepts["*"]);for(Ht in Ut.headers)j.setRequestHeader(Ht,Ut.headers[Ht]);if(Ut.beforeSend&&(Ut.beforeSend.call(Bn,j,Ut)===!1||Ee))return j.abort();if(Ga="abort",Br.add(Ut.complete),j.done(Ut.success),j.fail(Ut.error),E=$e(ll,Ut,y,j),!E)we(-1,"No Transport");else{if(j.readyState=1,it&&Si.trigger("ajaxSend",[j,Ut]),Ee)return j;Ut.async&&Ut.timeout>0&&(K=W.setTimeout(function(){j.abort("timeout")},Ut.timeout));try{Ee=!1,E.send(Qs,we)}catch(Je){if(Ee)throw Je;we(-1,Je)}}function we(Je,ht,Ft,Ti){var Ji,yi,yn,rr,Jn,Yi=ht;Ee||(Ee=!0,K&&W.clearTimeout(K),E=void 0,k=Ti||"",j.readyState=Je>0?4:0,Ji=Je>=200&&Je<300||Je===304,Ft&&(rr=H(Ut,j,Ft)),!Ji&&T.inArray("script",Ut.dataTypes)>-1&&T.inArray("json",Ut.dataTypes)<0&&(Ut.converters["text script"]=function(){}),rr=ae(Ut,rr,j,Ji),Ji?(Ut.ifModified&&(Jn=j.getResponseHeader("Last-Modified"),Jn&&(T.lastModified[P]=Jn),Jn=j.getResponseHeader("etag"),Jn&&(T.etag[P]=Jn)),Je===204||Ut.type==="HEAD"?Yi="nocontent":Je===304?Yi="notmodified":(Yi=rr.state,yi=rr.data,yn=rr.error,Ji=!yn)):(yn=Yi,(Je||!Yi)&&(Yi="error",Je<0&&(Je=0))),j.status=Je,j.statusText=(ht||Yi)+"",Ji?_r.resolveWith(Bn,[yi,Yi,j]):_r.rejectWith(Bn,[j,Yi,yn]),j.statusCode(fo),fo=void 0,it&&Si.trigger(Ji?"ajaxSuccess":"ajaxError",[j,Ut,Ji?yi:yn]),Br.fireWith(Bn,[j,Yi]),it&&(Si.trigger("ajaxComplete",[j,Ut]),--T.active||T.event.trigger("ajaxStop")))}return j},getJSON:function(d,y,E){return T.get(d,y,E,"json")},getScript:function(d,y){return T.get(d,void 0,y,"script")}}),T.each(["get","post"],function(d,y){T[y]=function(E,P,k,N){return Ye(P)&&(N=N||k,k=P,P=void 0),T.ajax(T.extend({url:E,type:y,dataType:N,data:P,success:k},T.isPlainObject(E)&&E))}}),T.ajaxPrefilter(function(d){var y;for(y in d.headers)y.toLowerCase()==="content-type"&&(d.contentType=d.headers[y]||"")}),T._evalUrl=function(d,y,E){return T.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(P){T.globalEval(P,y,E)}})},T.fn.extend({wrapAll:function(d){var y;return this[0]&&(Ye(d)&&(d=d.call(this[0])),y=T(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&y.insertBefore(this[0]),y.map(function(){for(var E=this;E.firstElementChild;)E=E.firstElementChild;return E}).append(this)),this},wrapInner:function(d){return Ye(d)?this.each(function(y){T(this).wrapInner(d.call(this,y))}):this.each(function(){var y=T(this),E=y.contents();E.length?E.wrapAll(d):y.append(d)})},wrap:function(d){var y=Ye(d);return this.each(function(E){T(this).wrapAll(y?d.call(this,E):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(d){return!T.expr.pseudos.visible(d)},T.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new W.XMLHttpRequest}catch(d){}};var Q={0:200,1223:204},Ze=T.ajaxSettings.xhr();qe.cors=!!Ze&&"withCredentials"in Ze,qe.ajax=Ze=!!Ze,T.ajaxTransport(function(d){var y,E;if(qe.cors||Ze&&!d.crossDomain)return{send:function(P,k){var N,K=d.xhr();if(K.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(N in d.xhrFields)K[N]=d.xhrFields[N];d.mimeType&&K.overrideMimeType&&K.overrideMimeType(d.mimeType),!d.crossDomain&&!P["X-Requested-With"]&&(P["X-Requested-With"]="XMLHttpRequest");for(N in P)K.setRequestHeader(N,P[N]);y=function(_e){return function(){y&&(y=E=K.onload=K.onerror=K.onabort=K.ontimeout=K.onreadystatechange=null,_e==="abort"?K.abort():_e==="error"?typeof K.status!="number"?k(0,"error"):k(K.status,K.statusText):k(Q[K.status]||K.status,K.statusText,(K.responseType||"text")!=="text"||typeof K.responseText!="string"?{binary:K.response}:{text:K.responseText},K.getAllResponseHeaders()))}},K.onload=y(),E=K.onerror=K.ontimeout=y("error"),K.onabort!==void 0?K.onabort=E:K.onreadystatechange=function(){K.readyState===4&&W.setTimeout(function(){y&&E()})},y=y("abort");try{K.send(d.hasContent&&d.data||null)}catch(_e){if(y)throw _e}},abort:function(){y&&y()}}}),T.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return T.globalEval(d),d}}}),T.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),T.ajaxTransport("script",function(d){if(d.crossDomain||d.scriptAttrs){var y,E;return{send:function(P,k){y=T("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",E=function(N){y.remove(),E=null,N&&k(N.type==="error"?404:200,N.type)}),Oe.head.appendChild(y[0])},abort:function(){E&&E()}}}});var lt=[],tn=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=lt.pop()||T.expando+"_"+wa.guid++;return this[d]=!0,d}}),T.ajaxPrefilter("json jsonp",function(d,y,E){var P,k,N,K=d.jsonp!==!1&&(tn.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&tn.test(d.data)&&"data");if(K||d.dataTypes[0]==="jsonp")return P=d.jsonpCallback=Ye(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,K?d[K]=d[K].replace(tn,"$1"+P):d.jsonp!==!1&&(d.url+=(Ua.test(d.url)?"&":"?")+d.jsonp+"="+P),d.converters["script json"]=function(){return N||T.error(P+" was not called"),N[0]},d.dataTypes[0]="json",k=W[P],W[P]=function(){N=arguments},E.always(function(){k===void 0?T(W).removeProp(P):W[P]=k,d[P]&&(d.jsonpCallback=y.jsonpCallback,lt.push(P)),N&&Ye(k)&&k(N[0]),N=k=void 0}),"script"}),qe.createHTMLDocument=function(){var d=Oe.implementation.createHTMLDocument("").body;return d.innerHTML="<form></form><form></form>",d.childNodes.length===2}(),T.parseHTML=function(d,y,E){if(typeof d!="string")return[];typeof y=="boolean"&&(E=y,y=!1);var P,k,N;return y||(qe.createHTMLDocument?(y=Oe.implementation.createHTMLDocument(""),P=y.createElement("base"),P.href=Oe.location.href,y.head.appendChild(P)):y=Oe),k=Yt.exec(d),N=!E&&[],k?[y.createElement(k[1])]:(k=fn([d],y,N),N&&N.length&&T(N).remove(),T.merge([],k.childNodes))},T.fn.load=function(d,y,E){var P,k,N,K=this,_e=d.indexOf(" ");return _e>-1&&(P=qr(d.slice(_e)),d=d.slice(0,_e)),Ye(y)?(E=y,y=void 0):y&&typeof y=="object"&&(k="POST"),K.length>0&&T.ajax({url:d,type:k||"GET",dataType:"html",data:y}).done(function(Ee){N=arguments,K.html(P?T("<div>").append(T.parseHTML(Ee)).find(P):Ee)}).always(E&&function(Ee,it){K.each(function(){E.apply(this,N||[Ee.responseText,it,Ee])})}),this},T.expr.pseudos.animated=function(d){return T.grep(T.timers,function(y){return d===y.elem}).length},T.offset={setOffset:function(d,y,E){var P,k,N,K,_e,Ee,it,Ht=T.css(d,"position"),gn=T(d),Ut={};Ht==="static"&&(d.style.position="relative"),_e=gn.offset(),N=T.css(d,"top"),Ee=T.css(d,"left"),it=(Ht==="absolute"||Ht==="fixed")&&(N+Ee).indexOf("auto")>-1,it?(P=gn.position(),K=P.top,k=P.left):(K=parseFloat(N)||0,k=parseFloat(Ee)||0),Ye(y)&&(y=y.call(d,E,T.extend({},_e))),y.top!=null&&(Ut.top=y.top-_e.top+K),y.left!=null&&(Ut.left=y.left-_e.left+k),"using"in y?y.using.call(d,Ut):gn.css(Ut)}},T.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(k){T.offset.setOffset(this,d,k)});var y,E,P=this[0];if(P)return P.getClientRects().length?(y=P.getBoundingClientRect(),E=P.ownerDocument.defaultView,{top:y.top+E.pageYOffset,left:y.left+E.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var d,y,E,P=this[0],k={top:0,left:0};if(T.css(P,"position")==="fixed")y=P.getBoundingClientRect();else{for(y=this.offset(),E=P.ownerDocument,d=P.offsetParent||E.documentElement;d&&(d===E.body||d===E.documentElement)&&T.css(d,"position")==="static";)d=d.parentNode;d&&d!==P&&d.nodeType===1&&(k=T(d).offset(),k.top+=T.css(d,"borderTopWidth",!0),k.left+=T.css(d,"borderLeftWidth",!0))}return{top:y.top-k.top-T.css(P,"marginTop",!0),left:y.left-k.left-T.css(P,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&T.css(d,"position")==="static";)d=d.offsetParent;return d||cn})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,y){var E=y==="pageYOffset";T.fn[d]=function(P){return en(this,function(k,N,K){var _e;if(vt(k)?_e=k:k.nodeType===9&&(_e=k.defaultView),K===void 0)return _e?_e[y]:k[N];_e?_e.scrollTo(E?_e.pageXOffset:K,E?K:_e.pageYOffset):k[N]=K},d,P,arguments.length)}}),T.each(["top","left"],function(d,y){T.cssHooks[y]=Ts(qe.pixelPosition,function(E,P){if(P)return P=io(E,y),Nr.test(P)?T(E).position()[y]+"px":P})}),T.each({Height:"height",Width:"width"},function(d,y){T.each({padding:"inner"+d,content:y,"":"outer"+d},function(E,P){T.fn[P]=function(k,N){var K=arguments.length&&(E||typeof k!="boolean"),_e=E||(k===!0||N===!0?"margin":"border");return en(this,function(Ee,it,Ht){var gn;return vt(Ee)?P.indexOf("outer")===0?Ee["inner"+d]:Ee.document.documentElement["client"+d]:Ee.nodeType===9?(gn=Ee.documentElement,Math.max(Ee.body["scroll"+d],gn["scroll"+d],Ee.body["offset"+d],gn["offset"+d],gn["client"+d])):Ht===void 0?T.css(Ee,it,_e):T.style(Ee,it,Ht,_e)},y,K?k:void 0,K)}})}),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,y){T.fn[y]=function(E){return this.on(y,E)}}),T.fn.extend({bind:function(d,y,E){return this.on(d,null,y,E)},unbind:function(d,y){return this.off(d,null,y)},delegate:function(d,y,E,P){return this.on(y,d,E,P)},undelegate:function(d,y,E){return arguments.length===1?this.off(d,"**"):this.off(y,d||"**",E)},hover:function(d,y){return this.on("mouseenter",d).on("mouseleave",y||d)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,y){T.fn[y]=function(E,P){return arguments.length>0?this.on(y,null,E,P):this.trigger(y)}});var _n=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;T.proxy=function(d,y){var E,P,k;if(typeof y=="string"&&(E=d[y],y=d,d=E),!!Ye(d))return P=se.call(arguments,2),k=function(){return d.apply(y||this,P.concat(se.call(arguments)))},k.guid=d.guid=d.guid||T.guid++,k},T.holdReady=function(d){d?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=He,T.isFunction=Ye,T.isWindow=vt,T.camelCase=er,T.type=de,T.now=Date.now,T.isNumeric=function(d){var y=T.type(d);return(y==="number"||y==="string")&&!isNaN(d-parseFloat(d))},T.trim=function(d){return d==null?"":(d+"").replace(_n,"$1")},M=[],a=function(){return T}.apply(It,M),a!==void 0&&(ji.exports=a);var Hn=W.jQuery,dn=W.$;return T.noConflict=function(d){return W.$===T&&(W.$=dn),d&&W.jQuery===T&&(W.jQuery=Hn),T},typeof z=="undefined"&&(W.jQuery=W.$=T),T})},14224:function(ji){var It=ji.exports={},M,a;function W(){throw new Error("setTimeout has not been defined")}function z(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?M=setTimeout:M=W}catch($t){M=W}try{typeof clearTimeout=="function"?a=clearTimeout:a=z}catch($t){a=z}})();function ie($t){if(M===setTimeout)return setTimeout($t,0);if((M===W||!M)&&setTimeout)return M=setTimeout,setTimeout($t,0);try{return M($t,0)}catch(qe){try{return M.call(null,$t,0)}catch(Ye){return M.call(this,$t,0)}}}function Pe($t){if(a===clearTimeout)return clearTimeout($t);if((a===z||!a)&&clearTimeout)return a=clearTimeout,clearTimeout($t);try{return a($t)}catch(qe){try{return a.call(null,$t)}catch(Ye){return a.call(this,$t)}}}var se=[],J=!1,oe,fe=-1;function Me(){!J||!oe||(J=!1,oe.length?se=oe.concat(se):fe=-1,se.length&&tt())}function tt(){if(!J){var $t=ie(Me);J=!0;for(var qe=se.length;qe;){for(oe=se,se=[];++fe<qe;)oe&&oe[fe].run();fe=-1,qe=se.length}oe=null,J=!1,Pe($t)}}It.nextTick=function($t){var qe=new Array(arguments.length-1);if(arguments.length>1)for(var Ye=1;Ye<arguments.length;Ye++)qe[Ye-1]=arguments[Ye];se.push(new Be($t,qe)),se.length===1&&!J&&ie(tt)};function Be($t,qe){this.fun=$t,this.array=qe}Be.prototype.run=function(){this.fun.apply(null,this.array)},It.title="browser",It.browser=!0,It.env={},It.argv=[],It.version="",It.versions={};function ye(){}It.on=ye,It.addListener=ye,It.once=ye,It.off=ye,It.removeListener=ye,It.removeAllListeners=ye,It.emit=ye,It.prependListener=ye,It.prependOnceListener=ye,It.listeners=function($t){return[]},It.binding=function($t){throw new Error("process.binding is not supported")},It.cwd=function(){return"/"},It.chdir=function($t){throw new Error("process.chdir is not supported")},It.umask=function(){return 0}},84226:function(ji,It,M){"use strict";M.d(It,{Z:function(){return J}});var a=M(99960),W=M(99426),z=M(74826),ie=M(75271),Pe=["show"];function se(oe,fe){if(!fe.max)return!0;var Me=fe.strategy(oe);return Me<=fe.max}function J(oe,fe){return ie.useMemo(function(){var Me={};fe&&(Me.show=(0,z.Z)(fe)==="object"&&fe.formatter?fe.formatter:!!fe),Me=(0,W.Z)((0,W.Z)({},Me),oe);var tt=Me,Be=tt.show,ye=(0,a.Z)(tt,Pe);return(0,W.Z)((0,W.Z)({},ye),{},{show:!!Be,showFormatter:typeof Be=="function"?Be:void 0,strategy:ye.strategy||function($t){return $t.length}})},[oe,fe])}},40407:function(ji,It,M){"use strict";M.d(It,{Q:function(){return Me},Z:function(){return xt}});var a=M(99426),W=M(52003),z=M(65213),ie=M(74826),Pe=M(82187),se=M.n(Pe),J=M(75271),oe=M(235),fe=J.forwardRef(function(de,re){var Rt,T,Bt,He=de.inputElement,Fe=de.children,Vt=de.prefixCls,_t=de.prefix,et=de.suffix,Kt=de.addonBefore,wt=de.addonAfter,pt=de.className,je=de.style,Ct=de.disabled,Le=de.readOnly,st=de.focused,zt=de.triggerFocus,Yt=de.allowClear,xn=de.value,Zn=de.handleReset,Yn=de.hidden,Fn=de.classes,si=de.classNames,qi=de.dataAttrs,li=de.styles,fi=de.components,Oi=de.onClear,Ei=Fe!=null?Fe:He,Xt=(fi==null?void 0:fi.affixWrapper)||"span",rt=(fi==null?void 0:fi.groupWrapper)||"span",Pt=(fi==null?void 0:fi.wrapper)||"span",bn=(fi==null?void 0:fi.groupAddon)||"span",di=(0,J.useRef)(null),en=function(pi){var nr;(nr=di.current)!==null&&nr!==void 0&&nr.contains(pi.target)&&(zt==null||zt())},vr=(0,oe.X3)(de),Er=(0,J.cloneElement)(Ei,{value:xn,className:se()((Rt=Ei.props)===null||Rt===void 0?void 0:Rt.className,!vr&&(si==null?void 0:si.variant))||null}),tr=(0,J.useRef)(null);if(J.useImperativeHandle(re,function(){return{nativeElement:tr.current||di.current}}),vr){var er=null;if(Yt){var Ui=!Ct&&!Le&&xn,Et="".concat(Vt,"-clear-icon"),vn=(0,ie.Z)(Yt)==="object"&&Yt!==null&&Yt!==void 0&&Yt.clearIcon?Yt.clearIcon:"\u2716";er=J.createElement("button",{type:"button",tabIndex:-1,onClick:function(pi){Zn==null||Zn(pi),Oi==null||Oi()},onMouseDown:function(pi){return pi.preventDefault()},className:se()(Et,(0,z.Z)((0,z.Z)({},"".concat(Et,"-hidden"),!Ui),"".concat(Et,"-has-suffix"),!!et))},vn)}var Mn="".concat(Vt,"-affix-wrapper"),gi=se()(Mn,(0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)((0,z.Z)({},"".concat(Vt,"-disabled"),Ct),"".concat(Mn,"-disabled"),Ct),"".concat(Mn,"-focused"),st),"".concat(Mn,"-readonly"),Le),"".concat(Mn,"-input-with-clear-btn"),et&&Yt&&xn),Fn==null?void 0:Fn.affixWrapper,si==null?void 0:si.affixWrapper,si==null?void 0:si.variant),$i=(et||Yt)&&J.createElement("span",{className:se()("".concat(Vt,"-suffix"),si==null?void 0:si.suffix),style:li==null?void 0:li.suffix},er,et);Er=J.createElement(Xt,(0,W.Z)({className:gi,style:li==null?void 0:li.affixWrapper,onClick:en},qi==null?void 0:qi.affixWrapper,{ref:di}),_t&&J.createElement("span",{className:se()("".concat(Vt,"-prefix"),si==null?void 0:si.prefix),style:li==null?void 0:li.prefix},_t),Er,$i)}if((0,oe.He)(de)){var hr="".concat(Vt,"-group"),Es="".concat(hr,"-addon"),vi="".concat(hr,"-wrapper"),Ot=se()("".concat(Vt,"-wrapper"),hr,Fn==null?void 0:Fn.wrapper,si==null?void 0:si.wrapper),kt=se()(vi,(0,z.Z)({},"".concat(vi,"-disabled"),Ct),Fn==null?void 0:Fn.group,si==null?void 0:si.groupWrapper);Er=J.createElement(rt,{className:kt,ref:tr},J.createElement(Pt,{className:Ot},Kt&&J.createElement(bn,{className:Es},Kt),Er,wt&&J.createElement(bn,{className:Es},wt)))}return J.cloneElement(Er,{className:se()((T=Er.props)===null||T===void 0?void 0:T.className,pt)||null,style:(0,a.Z)((0,a.Z)({},(Bt=Er.props)===null||Bt===void 0?void 0:Bt.style),je),hidden:Yn})}),Me=fe,tt=M(81230),Be=M(75611),ye=M(99960),$t=M(90523),qe=M(91081),Ye=M(84226),vt=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],Oe=(0,J.forwardRef)(function(de,re){var Rt=de.autoComplete,T=de.onChange,Bt=de.onFocus,He=de.onBlur,Fe=de.onPressEnter,Vt=de.onKeyDown,_t=de.onKeyUp,et=de.prefixCls,Kt=et===void 0?"rc-input":et,wt=de.disabled,pt=de.htmlSize,je=de.className,Ct=de.maxLength,Le=de.suffix,st=de.showCount,zt=de.count,Yt=de.type,xn=Yt===void 0?"text":Yt,Zn=de.classes,Yn=de.classNames,Fn=de.styles,si=de.onCompositionStart,qi=de.onCompositionEnd,li=(0,ye.Z)(de,vt),fi=(0,J.useState)(!1),Oi=(0,Be.Z)(fi,2),Ei=Oi[0],Xt=Oi[1],rt=(0,J.useRef)(!1),Pt=(0,J.useRef)(!1),bn=(0,J.useRef)(null),di=(0,J.useRef)(null),en=function(Tt){bn.current&&(0,oe.nH)(bn.current,Tt)},vr=(0,$t.Z)(de.defaultValue,{value:de.value}),Er=(0,Be.Z)(vr,2),tr=Er[0],er=Er[1],Ui=tr==null?"":String(tr),Et=(0,J.useState)(null),vn=(0,Be.Z)(Et,2),Mn=vn[0],gi=vn[1],$i=(0,Ye.Z)(zt,st),hr=$i.max||Ct,Es=$i.strategy(Ui),vi=!!hr&&Es>hr;(0,J.useImperativeHandle)(re,function(){var Z;return{focus:en,blur:function(){var Tn;(Tn=bn.current)===null||Tn===void 0||Tn.blur()},setSelectionRange:function(Tn,ve,Ae){var nt;(nt=bn.current)===null||nt===void 0||nt.setSelectionRange(Tn,ve,Ae)},select:function(){var Tn;(Tn=bn.current)===null||Tn===void 0||Tn.select()},input:bn.current,nativeElement:((Z=di.current)===null||Z===void 0?void 0:Z.nativeElement)||bn.current}}),(0,J.useEffect)(function(){Pt.current&&(Pt.current=!1),Xt(function(Z){return Z&&wt?!1:Z})},[wt]);var Ot=function(Tt,Tn,ve){var Ae=Tn;if(!rt.current&&$i.exceedFormatter&&$i.max&&$i.strategy(Tn)>$i.max){if(Ae=$i.exceedFormatter(Tn,{max:$i.max}),Tn!==Ae){var nt,fn;gi([((nt=bn.current)===null||nt===void 0?void 0:nt.selectionStart)||0,((fn=bn.current)===null||fn===void 0?void 0:fn.selectionEnd)||0])}}else if(ve.source==="compositionEnd")return;er(Ae),bn.current&&(0,oe.rJ)(bn.current,Tt,T,Ae)};(0,J.useEffect)(function(){if(Mn){var Z;(Z=bn.current)===null||Z===void 0||Z.setSelectionRange.apply(Z,(0,tt.Z)(Mn))}},[Mn]);var kt=function(Tt){Ot(Tt,Tt.target.value,{source:"change"})},cn=function(Tt){rt.current=!1,Ot(Tt,Tt.currentTarget.value,{source:"compositionEnd"}),qi==null||qi(Tt)},pi=function(Tt){Fe&&Tt.key==="Enter"&&!Pt.current&&(Pt.current=!0,Fe(Tt)),Vt==null||Vt(Tt)},nr=function(Tt){Tt.key==="Enter"&&(Pt.current=!1),_t==null||_t(Tt)},mi=function(Tt){Xt(!0),Bt==null||Bt(Tt)},Zi=function(Tt){Pt.current&&(Pt.current=!1),Xt(!1),He==null||He(Tt)},$n=function(Tt){er(""),en(),bn.current&&(0,oe.rJ)(bn.current,Tt,T)},bi=vi&&"".concat(Kt,"-out-of-range"),Sr=function(){var Tt=(0,qe.Z)(de,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return J.createElement("input",(0,W.Z)({autoComplete:Rt},Tt,{onChange:kt,onFocus:mi,onBlur:Zi,onKeyDown:pi,onKeyUp:nr,className:se()(Kt,(0,z.Z)({},"".concat(Kt,"-disabled"),wt),Yn==null?void 0:Yn.input),style:Fn==null?void 0:Fn.input,ref:bn,size:pt,type:xn,onCompositionStart:function(ve){rt.current=!0,si==null||si(ve)},onCompositionEnd:cn}))},Ir=function(){var Tt=Number(hr)>0;if(Le||$i.show){var Tn=$i.showFormatter?$i.showFormatter({value:Ui,count:Es,maxLength:hr}):"".concat(Es).concat(Tt?" / ".concat(hr):"");return J.createElement(J.Fragment,null,$i.show&&J.createElement("span",{className:se()("".concat(Kt,"-show-count-suffix"),(0,z.Z)({},"".concat(Kt,"-show-count-has-suffix"),!!Le),Yn==null?void 0:Yn.count),style:(0,a.Z)({},Fn==null?void 0:Fn.count)},Tn),Le)}return null};return J.createElement(Me,(0,W.Z)({},li,{prefixCls:Kt,className:se()(je,bi),handleReset:$n,value:Ui,focused:Ei,triggerFocus:en,suffix:Ir(),disabled:wt,classes:Zn,classNames:Yn,styles:Fn,ref:di}),Sr())}),ee=Oe,xt=ee},235:function(ji,It,M){"use strict";M.d(It,{He:function(){return a},X3:function(){return W},nH:function(){return Pe},rJ:function(){return ie}});function a(se){return!!(se.addonBefore||se.addonAfter)}function W(se){return!!(se.prefix||se.suffix||se.allowClear)}function z(se,J,oe){var fe=J.cloneNode(!0),Me=Object.create(se,{target:{value:fe},currentTarget:{value:fe}});return fe.value=oe,typeof J.selectionStart=="number"&&typeof J.selectionEnd=="number"&&(fe.selectionStart=J.selectionStart,fe.selectionEnd=J.selectionEnd),fe.setSelectionRange=function(){J.setSelectionRange.apply(J,arguments)},Me}function ie(se,J,oe,fe){if(oe){var Me=J;if(J.type==="click"){Me=z(J,se,""),oe(Me);return}if(se.type!=="file"&&fe!==void 0){Me=z(J,se,fe),oe(Me);return}oe(Me)}}function Pe(se,J){if(se){se.focus(J);var oe=J||{},fe=oe.cursor;if(fe){var Me=se.value.length;switch(fe){case"start":se.setSelectionRange(0,0);break;case"end":se.setSelectionRange(Me,Me);break;default:se.setSelectionRange(0,Me)}}}}},335:function(ji,It,M){var a=M(31479);function W(z,ie){var Pe=typeof Symbol!="undefined"&&z[Symbol.iterator]||z["@@iterator"];if(!Pe){if(Array.isArray(z)||(Pe=a(z))||ie&&z&&typeof z.length=="number"){Pe&&(z=Pe);var se=0,J=function(){};return{s:J,n:function(){return se>=z.length?{done:!0}:{done:!1,value:z[se++]}},e:function(Be){throw Be},f:J}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oe=!0,fe=!1,Me;return{s:function(){Pe=Pe.call(z)},n:function(){var Be=Pe.next();return oe=Be.done,Be},e:function(Be){fe=!0,Me=Be},f:function(){try{!oe&&Pe.return!=null&&Pe.return()}finally{if(fe)throw Me}}}}ji.exports=W,ji.exports.__esModule=!0,ji.exports.default=ji.exports},86669:function(ji,It,M){"use strict";M.d(It,{Z:function(){return W}});function a(z,ie,Pe,se,J,oe,fe){try{var Me=z[oe](fe),tt=Me.value}catch(Be){return void Pe(Be)}Me.done?ie(tt):Promise.resolve(tt).then(se,J)}function W(z){return function(){var ie=this,Pe=arguments;return new Promise(function(se,J){var oe=z.apply(ie,Pe);function fe(tt){a(oe,se,J,fe,Me,"next",tt)}function Me(tt){a(oe,se,J,fe,Me,"throw",tt)}fe(void 0)})}}},61818:function(ji,It,M){"use strict";M.d(It,{Z:function(){return W}});var a=M(74826);function W(){"use strict";W=function(){return ie};var z,ie={},Pe=Object.prototype,se=Pe.hasOwnProperty,J=Object.defineProperty||function(Ct,Le,st){Ct[Le]=st.value},oe=typeof Symbol=="function"?Symbol:{},fe=oe.iterator||"@@iterator",Me=oe.asyncIterator||"@@asyncIterator",tt=oe.toStringTag||"@@toStringTag";function Be(Ct,Le,st){return Object.defineProperty(Ct,Le,{value:st,enumerable:!0,configurable:!0,writable:!0}),Ct[Le]}try{Be({},"")}catch(Ct){Be=function(st,zt,Yt){return st[zt]=Yt}}function ye(Ct,Le,st,zt){var Yt=Le&&Le.prototype instanceof xt?Le:xt,xn=Object.create(Yt.prototype),Zn=new pt(zt||[]);return J(xn,"_invoke",{value:_t(Ct,st,Zn)}),xn}function $t(Ct,Le,st){try{return{type:"normal",arg:Ct.call(Le,st)}}catch(zt){return{type:"throw",arg:zt}}}ie.wrap=ye;var qe="suspendedStart",Ye="suspendedYield",vt="executing",Oe="completed",ee={};function xt(){}function de(){}function re(){}var Rt={};Be(Rt,fe,function(){return this});var T=Object.getPrototypeOf,Bt=T&&T(T(je([])));Bt&&Bt!==Pe&&se.call(Bt,fe)&&(Rt=Bt);var He=re.prototype=xt.prototype=Object.create(Rt);function Fe(Ct){["next","throw","return"].forEach(function(Le){Be(Ct,Le,function(st){return this._invoke(Le,st)})})}function Vt(Ct,Le){function st(Yt,xn,Zn,Yn){var Fn=$t(Ct[Yt],Ct,xn);if(Fn.type!=="throw"){var si=Fn.arg,qi=si.value;return qi&&(0,a.Z)(qi)=="object"&&se.call(qi,"__await")?Le.resolve(qi.__await).then(function(li){st("next",li,Zn,Yn)},function(li){st("throw",li,Zn,Yn)}):Le.resolve(qi).then(function(li){si.value=li,Zn(si)},function(li){return st("throw",li,Zn,Yn)})}Yn(Fn.arg)}var zt;J(this,"_invoke",{value:function(xn,Zn){function Yn(){return new Le(function(Fn,si){st(xn,Zn,Fn,si)})}return zt=zt?zt.then(Yn,Yn):Yn()}})}function _t(Ct,Le,st){var zt=qe;return function(Yt,xn){if(zt===vt)throw Error("Generator is already running");if(zt===Oe){if(Yt==="throw")throw xn;return{value:z,done:!0}}for(st.method=Yt,st.arg=xn;;){var Zn=st.delegate;if(Zn){var Yn=et(Zn,st);if(Yn){if(Yn===ee)continue;return Yn}}if(st.method==="next")st.sent=st._sent=st.arg;else if(st.method==="throw"){if(zt===qe)throw zt=Oe,st.arg;st.dispatchException(st.arg)}else st.method==="return"&&st.abrupt("return",st.arg);zt=vt;var Fn=$t(Ct,Le,st);if(Fn.type==="normal"){if(zt=st.done?Oe:Ye,Fn.arg===ee)continue;return{value:Fn.arg,done:st.done}}Fn.type==="throw"&&(zt=Oe,st.method="throw",st.arg=Fn.arg)}}}function et(Ct,Le){var st=Le.method,zt=Ct.iterator[st];if(zt===z)return Le.delegate=null,st==="throw"&&Ct.iterator.return&&(Le.method="return",Le.arg=z,et(Ct,Le),Le.method==="throw")||st!=="return"&&(Le.method="throw",Le.arg=new TypeError("The iterator does not provide a '"+st+"' method")),ee;var Yt=$t(zt,Ct.iterator,Le.arg);if(Yt.type==="throw")return Le.method="throw",Le.arg=Yt.arg,Le.delegate=null,ee;var xn=Yt.arg;return xn?xn.done?(Le[Ct.resultName]=xn.value,Le.next=Ct.nextLoc,Le.method!=="return"&&(Le.method="next",Le.arg=z),Le.delegate=null,ee):xn:(Le.method="throw",Le.arg=new TypeError("iterator result is not an object"),Le.delegate=null,ee)}function Kt(Ct){var Le={tryLoc:Ct[0]};1 in Ct&&(Le.catchLoc=Ct[1]),2 in Ct&&(Le.finallyLoc=Ct[2],Le.afterLoc=Ct[3]),this.tryEntries.push(Le)}function wt(Ct){var Le=Ct.completion||{};Le.type="normal",delete Le.arg,Ct.completion=Le}function pt(Ct){this.tryEntries=[{tryLoc:"root"}],Ct.forEach(Kt,this),this.reset(!0)}function je(Ct){if(Ct||Ct===""){var Le=Ct[fe];if(Le)return Le.call(Ct);if(typeof Ct.next=="function")return Ct;if(!isNaN(Ct.length)){var st=-1,zt=function Yt(){for(;++st<Ct.length;)if(se.call(Ct,st))return Yt.value=Ct[st],Yt.done=!1,Yt;return Yt.value=z,Yt.done=!0,Yt};return zt.next=zt}}throw new TypeError((0,a.Z)(Ct)+" is not iterable")}return de.prototype=re,J(He,"constructor",{value:re,configurable:!0}),J(re,"constructor",{value:de,configurable:!0}),de.displayName=Be(re,tt,"GeneratorFunction"),ie.isGeneratorFunction=function(Ct){var Le=typeof Ct=="function"&&Ct.constructor;return!!Le&&(Le===de||(Le.displayName||Le.name)==="GeneratorFunction")},ie.mark=function(Ct){return Object.setPrototypeOf?Object.setPrototypeOf(Ct,re):(Ct.__proto__=re,Be(Ct,tt,"GeneratorFunction")),Ct.prototype=Object.create(He),Ct},ie.awrap=function(Ct){return{__await:Ct}},Fe(Vt.prototype),Be(Vt.prototype,Me,function(){return this}),ie.AsyncIterator=Vt,ie.async=function(Ct,Le,st,zt,Yt){Yt===void 0&&(Yt=Promise);var xn=new Vt(ye(Ct,Le,st,zt),Yt);return ie.isGeneratorFunction(Le)?xn:xn.next().then(function(Zn){return Zn.done?Zn.value:xn.next()})},Fe(He),Be(He,tt,"Generator"),Be(He,fe,function(){return this}),Be(He,"toString",function(){return"[object Generator]"}),ie.keys=function(Ct){var Le=Object(Ct),st=[];for(var zt in Le)st.push(zt);return st.reverse(),function Yt(){for(;st.length;){var xn=st.pop();if(xn in Le)return Yt.value=xn,Yt.done=!1,Yt}return Yt.done=!0,Yt}},ie.values=je,pt.prototype={constructor:pt,reset:function(Le){if(this.prev=0,this.next=0,this.sent=this._sent=z,this.done=!1,this.delegate=null,this.method="next",this.arg=z,this.tryEntries.forEach(wt),!Le)for(var st in this)st.charAt(0)==="t"&&se.call(this,st)&&!isNaN(+st.slice(1))&&(this[st]=z)},stop:function(){this.done=!0;var Le=this.tryEntries[0].completion;if(Le.type==="throw")throw Le.arg;return this.rval},dispatchException:function(Le){if(this.done)throw Le;var st=this;function zt(si,qi){return Zn.type="throw",Zn.arg=Le,st.next=si,qi&&(st.method="next",st.arg=z),!!qi}for(var Yt=this.tryEntries.length-1;Yt>=0;--Yt){var xn=this.tryEntries[Yt],Zn=xn.completion;if(xn.tryLoc==="root")return zt("end");if(xn.tryLoc<=this.prev){var Yn=se.call(xn,"catchLoc"),Fn=se.call(xn,"finallyLoc");if(Yn&&Fn){if(this.prev<xn.catchLoc)return zt(xn.catchLoc,!0);if(this.prev<xn.finallyLoc)return zt(xn.finallyLoc)}else if(Yn){if(this.prev<xn.catchLoc)return zt(xn.catchLoc,!0)}else{if(!Fn)throw Error("try statement without catch or finally");if(this.prev<xn.finallyLoc)return zt(xn.finallyLoc)}}}},abrupt:function(Le,st){for(var zt=this.tryEntries.length-1;zt>=0;--zt){var Yt=this.tryEntries[zt];if(Yt.tryLoc<=this.prev&&se.call(Yt,"finallyLoc")&&this.prev<Yt.finallyLoc){var xn=Yt;break}}xn&&(Le==="break"||Le==="continue")&&xn.tryLoc<=st&&st<=xn.finallyLoc&&(xn=null);var Zn=xn?xn.completion:{};return Zn.type=Le,Zn.arg=st,xn?(this.method="next",this.next=xn.finallyLoc,ee):this.complete(Zn)},complete:function(Le,st){if(Le.type==="throw")throw Le.arg;return Le.type==="break"||Le.type==="continue"?this.next=Le.arg:Le.type==="return"?(this.rval=this.arg=Le.arg,this.method="return",this.next="end"):Le.type==="normal"&&st&&(this.next=st),ee},finish:function(Le){for(var st=this.tryEntries.length-1;st>=0;--st){var zt=this.tryEntries[st];if(zt.finallyLoc===Le)return this.complete(zt.completion,zt.afterLoc),wt(zt),ee}},catch:function(Le){for(var st=this.tryEntries.length-1;st>=0;--st){var zt=this.tryEntries[st];if(zt.tryLoc===Le){var Yt=zt.completion;if(Yt.type==="throw"){var xn=Yt.arg;wt(zt)}return xn}}throw Error("illegal catch attempt")},delegateYield:function(Le,st,zt){return this.delegate={iterator:je(Le),resultName:st,nextLoc:zt},this.method==="next"&&(this.arg=z),ee}},ie}},8511:function(ji,It,M){"use strict";M.d(It,{Xz:function(){return yo},ZA:function(){return tl},pJ:function(){return pe},x1:function(){return is}});function a(v,t,i){return(t=function(s){var l=function(u,g){if(typeof u!="object"||!u)return u;var b=u[Symbol.toPrimitive];if(b!==void 0){var A=b.call(u,g||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(u)}(s,"string");return typeof l=="symbol"?l:l+""}(t))in v?Object.defineProperty(v,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):v[t]=i,v}function W(v,t){var i=Object.keys(v);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(v);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(v,l).enumerable})),i.push.apply(i,s)}return i}function z(v){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?W(Object(i),!0).forEach(function(s){a(v,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach(function(s){Object.defineProperty(v,s,Object.getOwnPropertyDescriptor(i,s))})}return v}function ie(v,t){if(v==null)return{};var i,s,l=function(g,b){if(g==null)return{};var A={};for(var L in g)if({}.hasOwnProperty.call(g,L)){if(b.indexOf(L)>=0)continue;A[L]=g[L]}return A}(v,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(v);for(s=0;s<u.length;s++)i=u[s],t.indexOf(i)>=0||{}.propertyIsEnumerable.call(v,i)&&(l[i]=v[i])}return l}function Pe(v,t){return t||(t=v.slice(0)),Object.freeze(Object.defineProperties(v,{raw:{value:Object.freeze(t)}}))}class se{constructor(){a(this,"browserShadowBlurConstant",1),a(this,"DPI",96),a(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),a(this,"perfLimitSizeTotal",2097152),a(this,"maxCacheSideLimit",4096),a(this,"minCacheSideLimit",256),a(this,"disableStyleCopyPaste",!1),a(this,"enableGLFiltering",!0),a(this,"textureSize",4096),a(this,"forceGLPutImageData",!1),a(this,"cachesBoundsOfCurve",!1),a(this,"fontPaths",{}),a(this,"NUM_FRACTION_DIGITS",4)}}const J=new class extends se{constructor(v){super(),this.configure(v)}configure(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,v)}addFonts(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=z(z({},this.fontPaths),v)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(v=>{delete this.fontPaths[v]})}clearFonts(){this.fontPaths={}}restoreDefaults(v){const t=new se,i=(v==null?void 0:v.reduce((s,l)=>(s[l]=t[l],s),{}))||t;this.configure(i)}},oe=function(v){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return console[v]("fabric",...i)};class fe extends Error{constructor(t,i){super("fabric: ".concat(t),i)}}class Me extends fe{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}}class tt{}class Be extends tt{testPrecision(t,i){const s="precision ".concat(i,` float;
void main(){}`),l=t.createShader(t.FRAGMENT_SHADER);return!!l&&(t.shaderSource(l,s),t.compileShader(l),!!t.getShaderParameter(l,t.COMPILE_STATUS))}queryWebGL(t){const i=t.getContext("webgl");i&&(this.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(s=>this.testPrecision(i,s)),i.getExtension("WEBGL_lose_context").loseContext(),oe("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}}const ye={};let $t;const qe=v=>{$t=v},Ye=()=>$t||($t={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Be,dispose(){},copyPasteData:ye}),vt=()=>Ye().document,Oe=()=>Ye().window,ee=()=>{var v;return Math.max((v=J.devicePixelRatio)!==null&&v!==void 0?v:Oe().devicePixelRatio,1)},xt=new class{constructor(){a(this,"charWidthsCache",{}),a(this,"boundsOfCurveCache",{})}getFontCache(v){let{fontFamily:t,fontStyle:i,fontWeight:s}=v;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const l=this.charWidthsCache[t],u="".concat(i.toLowerCase(),"_").concat((s+"").toLowerCase());return l[u]||(l[u]={}),l[u]}clearFontCache(v){(v=(v||"").toLowerCase())?this.charWidthsCache[v]&&delete this.charWidthsCache[v]:this.charWidthsCache={}}limitDimsByArea(v){const{perfLimitSizeTotal:t}=J,i=Math.sqrt(t*v);return[Math.floor(i),Math.floor(t/i)]}},de="6.6.4";function re(){}const Rt=Math.PI/2,T=2*Math.PI,Bt=Math.PI/180,He=Object.freeze([1,0,0,1,0,0]),Fe=16,Vt=.4477152502,_t="center",et="left",Kt="top",wt="bottom",pt="right",je="none",Ct=/\r?\n/,Le="moving",st="scaling",zt="rotating",Yt="rotate",xn="skewing",Zn="resizing",Yn="modifyPoly",Fn="modifyPath",si="changed",qi="scale",li="scaleX",fi="scaleY",Oi="skewX",Ei="skewY",Xt="fill",rt="stroke",Pt="modified",bn="json",di="svg",en=new class{constructor(){this[bn]=new Map,this[di]=new Map}has(v){return this[bn].has(v)}getClass(v){const t=this[bn].get(v);if(!t)throw new fe("No class registered for ".concat(v));return t}setClass(v,t){t?this[bn].set(t,v):(this[bn].set(v.type,v),this[bn].set(v.type.toLowerCase(),v))}getSVGClass(v){return this[di].get(v)}setSVGClass(v,t){this[di].set(t!=null?t:v.type.toLowerCase(),v)}},vr=new class extends Array{remove(v){const t=this.indexOf(v);t>-1&&this.splice(t,1)}cancelAll(){const v=this.splice(0);return v.forEach(t=>t.abort()),v}cancelByCanvas(v){if(!v)return[];const t=this.filter(i=>{var s;return i.target===v||typeof i.target=="object"&&((s=i.target)===null||s===void 0?void 0:s.canvas)===v});return t.forEach(i=>i.abort()),t}cancelByTarget(v){if(!v)return[];const t=this.filter(i=>i.target===v);return t.forEach(i=>i.abort()),t}};class Er{constructor(){a(this,"__eventListeners",{})}on(t,i){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(s=>{let[l,u]=s;this.on(l,u)}),()=>this.off(t);if(i){const s=t;return this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(i),()=>this.off(s,i)}return()=>!1}once(t,i){if(typeof t=="object"){const s=[];return Object.entries(t).forEach(l=>{let[u,g]=l;s.push(this.once(u,g))}),()=>s.forEach(l=>l())}if(i){const s=this.on(t,function(){for(var l=arguments.length,u=new Array(l),g=0;g<l;g++)u[g]=arguments[g];i.call(this,...u),s()});return s}return()=>!1}_removeEventListener(t,i){if(this.__eventListeners[t])if(i){const s=this.__eventListeners[t],l=s.indexOf(i);l>-1&&s.splice(l,1)}else this.__eventListeners[t]=[]}off(t,i){if(this.__eventListeners)if(t===void 0)for(const s in this.__eventListeners)this._removeEventListener(s);else typeof t=="object"?Object.entries(t).forEach(s=>{let[l,u]=s;this._removeEventListener(l,u)}):this._removeEventListener(t,i)}fire(t,i){var s;if(!this.__eventListeners)return;const l=(s=this.__eventListeners[t])===null||s===void 0?void 0:s.concat();if(l)for(let u=0;u<l.length;u++)l[u].call(this,i||{})}}const tr=(v,t)=>{const i=v.indexOf(t);return i!==-1&&v.splice(i,1),v},er=v=>{if(v===0)return 1;switch(Math.abs(v)/Rt){case 1:case 3:return 0;case 2:return-1}return Math.cos(v)},Ui=v=>{if(v===0)return 0;const t=v/Rt,i=Math.sign(v);switch(t){case 1:return i;case 2:return 0;case 3:return-i}return Math.sin(v)};class Et{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=i)}add(t){return new Et(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new Et(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new Et(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new Et(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new Et(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new Et(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new Et(this.x/t.x,this.y/t.y)}scalarDivide(t){return new Et(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return i=Math.max(Math.min(1,i),0),new Et(this.x+(t.x-this.x)*i,this.y+(t.y-this.y)*i)}distanceFrom(t){const i=this.x-t.x,s=this.y-t.y;return Math.sqrt(i*i+s*s)}midPointFrom(t){return this.lerp(t)}min(t){return new Et(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new Et(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,i){return this.x=t,this.y=i,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const i=this.x,s=this.y;this.x=t.x,this.y=t.y,t.x=i,t.y=s}clone(){return new Et(this.x,this.y)}rotate(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vn;const s=Ui(t),l=er(t),u=this.subtract(i);return new Et(u.x*l-u.y*s,u.x*s+u.y*l).add(i)}transform(t){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new Et(t[0]*this.x+t[2]*this.y+(i?0:t[4]),t[1]*this.x+t[3]*this.y+(i?0:t[5]))}}const vn=new Et(0,0),Mn=v=>!!v&&Array.isArray(v._objects);function gi(v){class t extends v{constructor(){super(...arguments),a(this,"_objects",[])}_onObjectAdded(s){}_onObjectRemoved(s){}_onStackOrderChanged(s){}add(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];const g=this._objects.push(...l);return l.forEach(b=>this._onObjectAdded(b)),g}insertAt(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),g=1;g<l;g++)u[g-1]=arguments[g];return this._objects.splice(s,0,...u),u.forEach(b=>this._onObjectAdded(b)),this._objects.length}remove(){const s=this._objects,l=[];for(var u=arguments.length,g=new Array(u),b=0;b<u;b++)g[b]=arguments[b];return g.forEach(A=>{const L=s.indexOf(A);L!==-1&&(s.splice(L,1),l.push(A),this._onObjectRemoved(A))}),l}forEachObject(s){this.getObjects().forEach((l,u,g)=>s(l,u,g))}getObjects(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return l.length===0?[...this._objects]:this._objects.filter(g=>g.isType(...l))}item(s){return this._objects[s]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(s,l){return!!this._objects.includes(s)||!!l&&this._objects.some(u=>u instanceof t&&u.contains(s,!0))}complexity(){return this._objects.reduce((s,l)=>s+=l.complexity?l.complexity():0,0)}sendObjectToBack(s){return!(!s||s===this._objects[0])&&(tr(this._objects,s),this._objects.unshift(s),this._onStackOrderChanged(s),!0)}bringObjectToFront(s){return!(!s||s===this._objects[this._objects.length-1])&&(tr(this._objects,s),this._objects.push(s),this._onStackOrderChanged(s),!0)}sendObjectBackwards(s,l){if(!s)return!1;const u=this._objects.indexOf(s);if(u!==0){const g=this.findNewLowerIndex(s,u,l);return tr(this._objects,s),this._objects.splice(g,0,s),this._onStackOrderChanged(s),!0}return!1}bringObjectForward(s,l){if(!s)return!1;const u=this._objects.indexOf(s);if(u!==this._objects.length-1){const g=this.findNewUpperIndex(s,u,l);return tr(this._objects,s),this._objects.splice(g,0,s),this._onStackOrderChanged(s),!0}return!1}moveObjectTo(s,l){return s!==this._objects[l]&&(tr(this._objects,s),this._objects.splice(l,0,s),this._onStackOrderChanged(s),!0)}findNewLowerIndex(s,l,u){let g;if(u){g=l;for(let b=l-1;b>=0;--b)if(s.isOverlapping(this._objects[b])){g=b;break}}else g=l-1;return g}findNewUpperIndex(s,l,u){let g;if(u){g=l;for(let b=l+1;b<this._objects.length;++b)if(s.isOverlapping(this._objects[b])){g=b;break}}else g=l+1;return g}collectObjects(s){let{left:l,top:u,width:g,height:b}=s,{includeIntersecting:A=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const L=[],B=new Et(l,u),te=B.add(new Et(g,b));for(let ge=this._objects.length-1;ge>=0;ge--){const Ne=this._objects[ge];Ne.selectable&&Ne.visible&&(A&&Ne.intersectsWithRect(B,te)||Ne.isContainedWithinRect(B,te)||A&&Ne.containsPoint(B)||A&&Ne.containsPoint(te))&&L.push(Ne)}return L}}return t}class $i extends Er{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const i in t)this.set(i,t[i])}_setObject(t){for(const i in t)this._set(i,t[i])}set(t,i){return typeof t=="object"?this._setObject(t):this._set(t,i),this}_set(t,i){this[t]=i}toggle(t){const i=this.get(t);return typeof i=="boolean"&&this.set(t,!i),this}get(t){return this[t]}}function hr(v){return Oe().requestAnimationFrame(v)}function Es(v){return Oe().cancelAnimationFrame(v)}let vi=0;const Ot=()=>vi++,kt=()=>{const v=vt().createElement("canvas");if(!v||v.getContext===void 0)throw new fe("Failed to create `canvas` element");return v},cn=()=>vt().createElement("img"),pi=v=>{const t=kt();return t.width=v.width,t.height=v.height,t},nr=(v,t,i)=>v.toDataURL("image/".concat(t),i),mi=(v,t,i)=>new Promise((s,l)=>{v.toBlob(s,"image/".concat(t),i)}),Zi=v=>v*Bt,$n=v=>v/Bt,bi=v=>v.every((t,i)=>t===He[i]),Sr=(v,t,i)=>new Et(v).transform(t,i),Ir=v=>{const t=1/(v[0]*v[3]-v[1]*v[2]),i=[t*v[3],-t*v[1],-t*v[2],t*v[0],0,0],{x:s,y:l}=new Et(v[4],v[5]).transform(i,!0);return i[4]=-s,i[5]=-l,i},Z=(v,t,i)=>[v[0]*t[0]+v[2]*t[1],v[1]*t[0]+v[3]*t[1],v[0]*t[2]+v[2]*t[3],v[1]*t[2]+v[3]*t[3],i?0:v[0]*t[4]+v[2]*t[5]+v[4],i?0:v[1]*t[4]+v[3]*t[5]+v[5]],Tt=(v,t)=>v.reduceRight((i,s)=>s&&i?Z(s,i,t):s||i,void 0)||He.concat(),Tn=v=>{let[t,i]=v;return Math.atan2(i,t)},ve=v=>{const t=Tn(v),i=Math.pow(v[0],2)+Math.pow(v[1],2),s=Math.sqrt(i),l=(v[0]*v[3]-v[2]*v[1])/s,u=Math.atan2(v[0]*v[2]+v[1]*v[3],i);return{angle:$n(t),scaleX:s,scaleY:l,skewX:$n(u),skewY:0,translateX:v[4]||0,translateY:v[5]||0}},Ae=function(v){return[1,0,0,1,v,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function nt(){let{angle:v=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:i=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=Zi(v),l=er(s),u=Ui(s);return[l,u,-u,l,t?t-(l*t-u*i):0,i?i-(u*t+l*i):0]}const fn=function(v){return[v,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,0,0]},An=v=>Math.tan(Zi(v)),oi=v=>[1,0,An(v),1,0,0],Wi=v=>[1,An(v),0,1,0,0],Cr=v=>{let{scaleX:t=1,scaleY:i=1,flipX:s=!1,flipY:l=!1,skewX:u=0,skewY:g=0}=v,b=fn(s?-t:t,l?-i:i);return u&&(b=Z(b,oi(u),!0)),g&&(b=Z(b,Wi(g),!0)),b},Ur=v=>{const{translateX:t=0,translateY:i=0,angle:s=0}=v;let l=Ae(t,i);s&&(l=Z(l,nt({angle:s})));const u=Cr(v);return bi(u)||(l=Z(l,u)),l},Lr=function(v){let{signal:t,crossOrigin:i=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(s,l){if(t&&t.aborted)return l(new Me("loadImage"));const u=cn();let g;t&&(g=function(A){u.src="",l(A)},t.addEventListener("abort",g,{once:!0}));const b=function(){u.onload=u.onerror=null,g&&(t==null||t.removeEventListener("abort",g)),s(u)};v?(u.onload=b,u.onerror=function(){g&&(t==null||t.removeEventListener("abort",g)),l(new fe("Error loading ".concat(u.src)))},i&&(u.crossOrigin=i),u.src=v):b()})},Tr=function(v){let{signal:t,reviver:i=re}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((s,l)=>{const u=[];t&&t.addEventListener("abort",l,{once:!0}),Promise.all(v.map(g=>en.getClass(g.type).fromObject(g,{signal:t}).then(b=>(i(g,b),u.push(b),b)))).then(s).catch(g=>{u.forEach(b=>{b.dispose&&b.dispose()}),l(g)}).finally(()=>{t&&t.removeEventListener("abort",l)})})},Dt=function(v){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((i,s)=>{const l=[];t&&t.addEventListener("abort",s,{once:!0});const u=Object.values(v).map(b=>b&&b.type&&en.has(b.type)?Tr([b],{signal:t}).then(A=>{let[L]=A;return l.push(L),L}):b),g=Object.keys(v);Promise.all(u).then(b=>b.reduce((A,L,B)=>(A[g[B]]=L,A),{})).then(i).catch(b=>{l.forEach(A=>{A.dispose&&A.dispose()}),s(b)}).finally(()=>{t&&t.removeEventListener("abort",s)})})},kn=function(v){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,i)=>(i in v&&(t[i]=v[i]),t),{})},Xn=(v,t)=>Object.keys(v).reduce((i,s)=>(t(v[s],s,v)&&(i[s]=v[s]),i),{}),pn=(v,t)=>parseFloat(Number(v).toFixed(t)),ci=v=>"matrix("+v.map(t=>pn(t,J.NUM_FRACTION_DIGITS)).join(" ")+")",ir=v=>!!v&&v.toLive!==void 0,or=v=>!!v&&typeof v.toObject=="function",Gr=v=>!!v&&v.offsetX!==void 0&&"source"in v,Nr=v=>!!v&&"multiSelectionStacking"in v;function Xi(v){const t=v&&Zr(v);let i=0,s=0;if(!v||!t)return{left:i,top:s};let l=v;const u=t.documentElement,g=t.body||{scrollLeft:0,scrollTop:0};for(;l&&(l.parentNode||l.host)&&(l=l.parentNode||l.host,l===t?(i=g.scrollLeft||u.scrollLeft||0,s=g.scrollTop||u.scrollTop||0):(i+=l.scrollLeft||0,s+=l.scrollTop||0),l.nodeType!==1||l.style.position!=="fixed"););return{left:i,top:s}}const Zr=v=>v.ownerDocument||null,cs=v=>{var t;return((t=v.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},zr=function(v,t,i){let{width:s,height:l}=i,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;v.width=s,v.height=l,u>1&&(v.setAttribute("width",(s*u).toString()),v.setAttribute("height",(l*u).toString()),t.scale(u,u))},io=(v,t)=>{let{width:i,height:s}=t;i&&(v.style.width=typeof i=="number"?"".concat(i,"px"):i),s&&(v.style.height=typeof s=="number"?"".concat(s,"px"):s)};function Ts(v){return v.onselectstart!==void 0&&(v.onselectstart=()=>!1),v.style.userSelect=je,v}class Ns{constructor(t){a(this,"_originalCanvasStyle",void 0),a(this,"lower",void 0);const i=this.createLowerCanvas(t);this.lower={el:i,ctx:i.getContext("2d")}}createLowerCanvas(t){const i=(s=t)&&s.getContext!==void 0?t:t&&vt().getElementById(t)||kt();var s;if(i.hasAttribute("data-fabric"))throw new fe("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=i.style.cssText,i.setAttribute("data-fabric","main"),i.classList.add("lower-canvas"),i}cleanupDOM(t){let{width:i,height:s}=t;const{el:l}=this.lower;l.classList.remove("lower-canvas"),l.removeAttribute("data-fabric"),l.setAttribute("width","".concat(i)),l.setAttribute("height","".concat(s)),l.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,i){const{el:s,ctx:l}=this.lower;zr(s,l,t,i)}setCSSDimensions(t){io(this.lower.el,t)}calcOffset(){return function(t){var i;const s=t&&Zr(t),l={left:0,top:0};if(!s)return l;const u=((i=cs(t))===null||i===void 0?void 0:i.getComputedStyle(t,null))||{};l.left+=parseInt(u.borderLeftWidth,10)||0,l.top+=parseInt(u.borderTopWidth,10)||0,l.left+=parseInt(u.paddingLeft,10)||0,l.top+=parseInt(u.paddingTop,10)||0;let g={left:0,top:0};const b=s.documentElement;t.getBoundingClientRect!==void 0&&(g=t.getBoundingClientRect());const A=Xi(t);return{left:g.left+A.left-(b.clientLeft||0)+l.left,top:g.top+A.top-(b.clientTop||0)+l.top}}(this.lower.el)}dispose(){Ye().dispose(this.lower.el),delete this.lower}}const Fo={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...He]};class Ao extends gi($i){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return Ao.ownDefaults}constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(i),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new Ns(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];const u=super.insertAt(t,...s);return s.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),u}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(oe("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?ee():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,i){return this.setDimensions({width:t},i)}setHeight(t,i){return this.setDimensions({height:t},i)}_setDimensionsImpl(t){let{cssOnly:i=!1,backstoreOnly:s=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i){const l=z({width:this.width,height:this.height},t);this.elements.setDimensions(l,this.getRetinaScaling()),this.hasLostContext=!0,this.width=l.width,this.height=l.height}s||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,i){this._setDimensionsImpl(t,i),i&&i.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,i){const s=t,l=[...this.viewportTransform],u=Sr(t,Ir(l));l[0]=i,l[3]=i;const g=Sr(u,l);l[4]+=s.x-g.x,l[5]+=s.y-g.y,this.setViewportTransform(l)}setZoom(t){this.zoomToPoint(new Et(0,0),t)}absolutePan(t){const i=[...this.viewportTransform];return i[4]=-t.x,i[5]=-t.y,this.setViewportTransform(i)}relativePan(t){return this.absolutePan(new Et(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=hr(()=>this.renderAndReset()))}calcViewportBoundaries(){const t=this.width,i=this.height,s=Ir(this.viewportTransform),l=Sr({x:0,y:0},s),u=Sr({x:t,y:i},s),g=l.min(u),b=l.max(u);return this.vptCoords={tl:g,tr:new Et(b.x,g.y),bl:new Et(g.x,b.y),br:b}}cancelRequestedRender(){this.nextRenderHandle&&(Es(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,i){if(this.destroyed)return;const s=this.viewportTransform,l=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._renderObjects(t,i),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),l&&(l._set("canvas",this),l.shouldCache(),l._transformDone=!0,l.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,l)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,i){const s=this.viewportTransform;t.save(),t.transform(...s),t.globalCompositeOperation="destination-in",i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()}_renderObjects(t,i){for(let s=0,l=i.length;s<l;++s)i[s]&&i[s].render(t)}_renderBackgroundOrOverlay(t,i){const s=this["".concat(i,"Color")],l=this["".concat(i,"Image")],u=this.viewportTransform,g=this["".concat(i,"Vpt")];if(!s&&!l)return;const b=ir(s);if(s){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=b?s.toLive(t):s,g&&t.transform(...u),b){t.transform(1,0,0,1,s.offsetX||0,s.offsetY||0);const A=s.gradientTransform||s.patternTransform;A&&t.transform(...A)}t.fill(),t.restore()}if(l){t.save();const{skipOffscreen:A}=this;this.skipOffscreen=g,g&&t.transform(...u),l.render(t),this.skipOffscreen=A,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Et(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new Et(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new Et(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new Et(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new Et(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return Sr(this.getCenterPoint(),Ir(this.viewportTransform))}_centerObject(t,i){t.setXY(i,_t,_t),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,i){const s=this.clipPath,l=s&&!s.excludeFromExport?this._toObject(s,t,i):null;return z(z(z({version:de},kn(this,i)),{},{objects:this._objects.filter(u=>!u.excludeFromExport).map(u=>this._toObject(u,t,i))},this.__serializeBgOverlay(t,i)),l?{clipPath:l}:null)}_toObject(t,i,s){let l;this.includeDefaultValues||(l=t.includeDefaultValues,t.includeDefaultValues=!1);const u=t[i](s);return this.includeDefaultValues||(t.includeDefaultValues=!!l),u}__serializeBgOverlay(t,i){const s={},l=this.backgroundImage,u=this.overlayImage,g=this.backgroundColor,b=this.overlayColor;return ir(g)?g.excludeFromExport||(s.background=g.toObject(i)):g&&(s.background=g),ir(b)?b.excludeFromExport||(s.overlay=b.toObject(i)):b&&(s.overlay=b),l&&!l.excludeFromExport&&(s.backgroundImage=this._toObject(l,t,i)),u&&!u.excludeFromExport&&(s.overlayImage=this._toObject(u,t,i)),s}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;t.reviver=i;const s=[];return this._setSVGPreamble(s,t),this._setSVGHeader(s,t),this.clipPath&&s.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(s,"background"),this._setSVGBgOverlayImage(s,"backgroundImage",i),this._setSVGObjects(s,i),this.clipPath&&s.push(`</g>
`),this._setSVGBgOverlayColor(s,"overlay"),this._setSVGBgOverlayImage(s,"overlayImage",i),s.push("</svg>"),s.join("")}_setSVGPreamble(t,i){i.suppressPreamble||t.push('<?xml version="1.0" encoding="',i.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,i){const s=i.width||"".concat(this.width),l=i.height||"".concat(this.height),u=J.NUM_FRACTION_DIGITS,g=i.viewBox;let b;if(g)b='viewBox="'.concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height,'" ');else if(this.svgViewportTransformation){const A=this.viewportTransform;b='viewBox="'.concat(pn(-A[4]/A[0],u)," ").concat(pn(-A[5]/A[3],u)," ").concat(pn(this.width/A[0],u)," ").concat(pn(this.height/A[3],u),'" ')}else b='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',s,'" ','height="',l,'" ',b,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",de,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(i),`</defs>
`)}createSVGClipPathMarkup(t){const i=this.clipPath;return i?(i.clipPathId="CLIPPATH_".concat(Ot()),'<clipPath id="'.concat(i.clipPathId,`" >
`).concat(i.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{const i=this["".concat(t,"Color")];if(ir(i)){const s=this["".concat(t,"Vpt")],l=this.viewportTransform,u={isType:()=>!1,width:this.width/(s?l[0]:1),height:this.height/(s?l[3]:1)};return i.toSVG(u,{additionalTransform:s?ci(l):""})}}).join("")}createSVGFontFacesMarkup(){const t=[],i={},s=J.fontPaths;this._objects.forEach(function u(g){t.push(g),Mn(g)&&g._objects.forEach(u)}),t.forEach(u=>{if(!(g=u)||typeof g._renderText!="function")return;var g;const{styles:b,fontFamily:A}=u;!i[A]&&s[A]&&(i[A]=!0,b&&Object.values(b).forEach(L=>{Object.values(L).forEach(B=>{let{fontFamily:te=""}=B;!i[te]&&s[te]&&(i[te]=!0)})}))});const l=Object.keys(i).map(u=>`		@font-face {
			font-family: '`.concat(u,`';
			src: url('`).concat(s[u],`');
		}
`)).join("");return l?`	<style type="text/css"><![CDATA[
`.concat(l,`]]></style>
`):""}_setSVGObjects(t,i){this.forEachObject(s=>{s.excludeFromExport||this._setSVGObject(t,s,i)})}_setSVGObject(t,i,s){t.push(i.toSVG(s))}_setSVGBgOverlayImage(t,i,s){const l=this[i];l&&!l.excludeFromExport&&l.toSVG&&t.push(l.toSVG(s))}_setSVGBgOverlayColor(t,i){const s=this["".concat(i,"Color")];if(s)if(ir(s)){const l=s.repeat||"",u=this.width,g=this.height,b=this["".concat(i,"Vpt")]?ci(Ir(this.viewportTransform)):"";t.push('<rect transform="'.concat(b," translate(").concat(u/2,",").concat(g/2,')" x="').concat(s.offsetX-u/2,'" y="').concat(s.offsetY-g/2,'" width="').concat(l!=="repeat-y"&&l!=="no-repeat"||!Gr(s)?u:s.source.width,'" height="').concat(l!=="repeat-x"&&l!=="no-repeat"||!Gr(s)?g:s.source.height,'" fill="url(#SVGID_').concat(s.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',s,'"',`></rect>
`)}loadFromJSON(t,i){let{signal:s}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new fe("`json` is undefined"));const l=typeof t=="string"?JSON.parse(t):t,{objects:u=[],backgroundImage:g,background:b,overlayImage:A,overlay:L,clipPath:B}=l,te=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Tr(u,{reviver:i,signal:s}),Dt({backgroundImage:g,backgroundColor:b,overlayImage:A,overlayColor:L,clipPath:B},{signal:s})]).then(ge=>{let[Ne,at]=ge;return this.clear(),this.add(...Ne),this.set(l),this.set(at),this.renderOnAddRemove=te,this})}clone(t){const i=this.toObject(t);return this.cloneWithoutData().loadFromJSON(i)}cloneWithoutData(){const t=pi(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:i="png",quality:s=1,multiplier:l=1,enableRetinaScaling:u=!1}=t,g=l*(u?this.getRetinaScaling():1);return nr(this.toCanvasElement(g,t),i,s)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:i="png",quality:s=1,multiplier:l=1,enableRetinaScaling:u=!1}=t,g=l*(u?this.getRetinaScaling():1);return mi(this.toCanvasElement(g,t),i,s)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:i,height:s,left:l,top:u,filter:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=(i||this.width)*t,A=(s||this.height)*t,L=this.getZoom(),B=this.width,te=this.height,ge=this.skipControlsDrawing,Ne=L*t,at=this.viewportTransform,Jt=[Ne,0,0,Ne,(at[4]-(l||0))*t,(at[5]-(u||0))*t],mn=this.enableRetinaScaling,En=pi({width:b,height:A}),Vi=g?this._objects.filter(Mr=>g(Mr)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=Jt,this.width=b,this.height=A,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(En.getContext("2d"),Vi),this.viewportTransform=at,this.width=B,this.height=te,this.calcViewportBoundaries(),this.enableRetinaScaling=mn,this.skipControlsDrawing=ge,En}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),vr.cancelByCanvas(this),this.disposed=!0,new Promise((t,i)=>{const s=()=>{this.destroy(),t(!0)};s.kill=i,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=s:s()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}a(Ao,"ownDefaults",Fo);const Po=["touchstart","touchmove","touchend"],ro=v=>{const t=Xi(v.target),i=function(s){const l=s.changedTouches;return l&&l[0]?l[0]:s}(v);return new Et(i.clientX+t.left,i.clientY+t.top)},ua=v=>Po.includes(v.type)||v.pointerType==="touch",Mo=v=>{v.preventDefault(),v.stopPropagation()},Bs=v=>{let t=0,i=0,s=0,l=0;for(let u=0,g=v.length;u<g;u++){const{x:b,y:A}=v[u];(b>s||!u)&&(s=b),(b<t||!u)&&(t=b),(A>l||!u)&&(l=A),(A<i||!u)&&(i=A)}return{left:t,top:i,width:s-t,height:l-i}},Fs=["translateX","translateY","scaleX","scaleY"],Bo=(v,t)=>bo(v,Z(t,v.calcOwnMatrix())),bo=(v,t)=>{const i=ve(t),{translateX:s,translateY:l,scaleX:u,scaleY:g}=i,b=ie(i,Fs),A=new Et(s,l);v.flipX=!1,v.flipY=!1,Object.assign(v,b),v.set({scaleX:u,scaleY:g}),v.setPositionByOrigin(A,_t,_t)},$r=v=>{v.scaleX=1,v.scaleY=1,v.skewX=0,v.skewY=0,v.flipX=!1,v.flipY=!1,v.rotate(0)},So=v=>({scaleX:v.scaleX,scaleY:v.scaleY,skewX:v.skewX,skewY:v.skewY,angle:v.angle,left:v.left,flipX:v.flipX,flipY:v.flipY,top:v.top}),so=(v,t,i)=>{const s=v/2,l=t/2,u=[new Et(-s,-l),new Et(s,-l),new Et(-s,l),new Et(s,l)].map(b=>b.transform(i)),g=Bs(u);return new Et(g.width,g.height)},mo=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:He;return Z(Ir(arguments.length>1&&arguments[1]!==void 0?arguments[1]:He),v)},Us=function(v){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He;return v.transform(mo(t,i))},ds=function(v){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He;return v.transform(mo(t,i),!0)},Oo=(v,t,i)=>{const s=mo(t,i);return bo(v,Z(s,v.calcOwnMatrix())),s},Co=(v,t)=>{var i;const{transform:{target:s}}=t;(i=s.canvas)===null||i===void 0||i.fire("object:".concat(v),z(z({},t),{},{target:s})),s.fire(v,t)},Fr={left:-.5,top:-.5,center:0,bottom:.5,right:.5},vo=v=>typeof v=="string"?Fr[v]:v-.5,_a="not-allowed";function bs(v){return vo(v.originX)===vo(_t)&&vo(v.originY)===vo(_t)}function Js(v){return .5-vo(v)}const js=(v,t)=>v[t],os=(v,t,i,s)=>({e:v,transform:t,pointer:new Et(i,s)});function hs(v,t){const i=v.getTotalAngle()+$n(Math.atan2(t.y,t.x))+360;return Math.round(i%360/45)}function qr(v,t,i,s,l){var u;let{target:g,corner:b}=v;const A=g.controls[b],L=((u=g.canvas)===null||u===void 0?void 0:u.getZoom())||1,B=g.padding/L,te=function(ge,Ne,at,Jt){const mn=ge.getRelativeCenterPoint(),En=at!==void 0&&Jt!==void 0?ge.translateToGivenOrigin(mn,_t,_t,at,Jt):new Et(ge.left,ge.top);return(ge.angle?Ne.rotate(-Zi(ge.angle),mn):Ne).subtract(En)}(g,new Et(s,l),t,i);return te.x>=B&&(te.x-=B),te.x<=-B&&(te.x+=B),te.y>=B&&(te.y-=B),te.y<=B&&(te.y+=B),te.x-=A.offsetX,te.y-=A.offsetY,te}const fs=(v,t,i,s)=>{const{target:l,offsetX:u,offsetY:g}=t,b=i-u,A=s-g,L=!js(l,"lockMovementX")&&l.left!==b,B=!js(l,"lockMovementY")&&l.top!==A;return L&&l.set(et,b),B&&l.set(Kt,A),(L||B)&&Co(Le,os(v,t,i,s)),L||B},oo={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},va=(v,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?v+6*(t-v)*i:i<.5?t:i<2/3?v+(t-v)*(2/3-i)*6:v),qo=(v,t,i,s)=>{v/=255,t/=255,i/=255;const l=Math.max(v,t,i),u=Math.min(v,t,i);let g,b;const A=(l+u)/2;if(l===u)g=b=0;else{const L=l-u;switch(b=A>.5?L/(2-l-u):L/(l+u),l){case v:g=(t-i)/L+(t<i?6:0);break;case t:g=(i-v)/L+2;break;case i:g=(v-t)/L+4}g/=6}return[Math.round(360*g),Math.round(100*b),Math.round(100*A),s]},wa=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(v)/(v.endsWith("%")?100:1)},Ua=v=>Math.min(Math.round(v),255).toString(16).toUpperCase().padStart(2,"0"),Pa=v=>{let[t,i,s,l=1]=v;const u=Math.round(.3*t+.59*i+.11*s);return[u,u,u,l]};class Jr{constructor(t){if(a(this,"isUnrecognised",!1),t)if(t instanceof Jr)this.setSource([...t._source]);else if(Array.isArray(t)){const[i,s,l,u=1]=t;this.setSource([i,s,l,u])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in oo&&(t=oo[t]),t==="transparent"?[255,255,255,0]:Jr.sourceFromHex(t)||Jr.sourceFromRgb(t)||Jr.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,i,s]=this.getSource();return"rgb(".concat(t,",").concat(i,",").concat(s,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[t,i,s]=qo(...this.getSource());return"hsl(".concat(t,",").concat(i,"%,").concat(s,"%)")}toHsla(){const[t,i,s,l]=qo(...this.getSource());return"hsla(".concat(t,",").concat(i,"%,").concat(s,"%,").concat(l,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,i,s,l]=this.getSource();return"".concat(Ua(t)).concat(Ua(i)).concat(Ua(s)).concat(Ua(Math.round(255*l)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(Pa(this.getSource())),this}toBlackWhite(t){const[i,,,s]=Pa(this.getSource()),l=i<(t||127)?0:255;return this.setSource([l,l,l,s]),this}overlayWith(t){t instanceof Jr||(t=new Jr(t));const i=this.getSource(),s=t.getSource(),[l,u,g]=i.map((b,A)=>Math.round(.5*b+.5*s[A]));return this.setSource([l,u,g,i[3]]),this}static fromRgb(t){return Jr.fromRgba(t)}static fromRgba(t){return new Jr(Jr.sourceFromRgb(t))}static sourceFromRgb(t){const i=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(i){const[s,l,u]=i.slice(1,4).map(g=>{const b=parseFloat(g);return g.endsWith("%")?Math.round(2.55*b):b});return[s,l,u,wa(i[4])]}}static fromHsl(t){return Jr.fromHsla(t)}static fromHsla(t){return new Jr(Jr.sourceFromHsl(t))}static sourceFromHsl(t){const i=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!i)return;const s=(Jr.parseAngletoDegrees(i[1])%360+360)%360/360,l=parseFloat(i[2])/100,u=parseFloat(i[3])/100;let g,b,A;if(l===0)g=b=A=u;else{const L=u<=.5?u*(l+1):u+l-u*l,B=2*u-L;g=va(B,L,s+1/3),b=va(B,L,s),A=va(B,L,s-1/3)}return[Math.round(255*g),Math.round(255*b),Math.round(255*A),wa(i[4])]}static fromHex(t){return new Jr(Jr.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const i=t.slice(t.indexOf("#")+1);let s;s=i.length<=4?i.split("").map(A=>A+A):i.match(/.{2}/g);const[l,u,g,b=255]=s.map(A=>parseInt(A,16));return[l,u,g,b/255]}}static parseAngletoDegrees(t){const i=t.toLowerCase(),s=parseFloat(i);return i.includes("rad")?$n(s):i.includes("turn")?360*s:s}}const fr=function(v){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe;const i=/\D{0,2}$/.exec(v),s=parseFloat(v),l=J.DPI;switch(i==null?void 0:i[0]){case"mm":return s*l/25.4;case"cm":return s*l/2.54;case"in":return s*l;case"pt":return s*l/72;case"pc":return s*l/72*12;case"em":return s*t;default:return s}},ai=v=>{const[t,i]=v.trim().split(" "),[s,l]=(u=t)&&u!==je?[u.slice(1,4),u.slice(5,8)]:u===je?[u,u]:["Mid","Mid"];var u;return{meetOrSlice:i||"meet",alignX:s,alignY:l}},_s=function(v,t){let i,s,l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)i="url(#SVGID_".concat(t.id,")");else{const u=new Jr(t),g=u.getAlpha();i=u.toRgb(),g!==1&&(s=g.toString())}else i="none";return l?"".concat(v,": ").concat(i,"; ").concat(s?"".concat(v,"-opacity: ").concat(s,"; "):""):"".concat(v,'="').concat(i,'" ').concat(s?"".concat(v,'-opacity="').concat(s,'" '):"")};class Uo{getSvgStyles(t){const i=this.fillRule?this.fillRule:"nonzero",s=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):je,u=this.strokeDashOffset?this.strokeDashOffset:"0",g=this.strokeLineCap?this.strokeLineCap:"butt",b=this.strokeLineJoin?this.strokeLineJoin:"miter",A=this.strokeMiterLimit?this.strokeMiterLimit:"4",L=this.opacity!==void 0?this.opacity:"1",B=this.visible?"":" visibility: hidden;",te=t?"":this.getSvgFilter(),ge=_s(Xt,this.fill);return[_s(rt,this.stroke),"stroke-width: ",s,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",g,"; ","stroke-dashoffset: ",u,"; ","stroke-linejoin: ",b,"; ","stroke-miterlimit: ",A,"; ",ge,"fill-rule: ",i,"; ","opacity: ",L,";",te,B].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=t?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'.concat(ci(s));return"".concat(l).concat(i,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:i,additionalTransform:s=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(""),u=t.indexOf("COMMON_PARTS");return t[u]=l,i?i(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:i,reviver:s,withShadow:l,additionalTransform:u}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g=i?"":'style="'.concat(this.getSvgStyles(),'" '),b=l?'style="'.concat(this.getSvgFilter(),'" '):"",A=this.clipPath,L=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",B=A&&A.absolutePositioned,te=this.stroke,ge=this.fill,Ne=this.shadow,at=[],Jt=t.indexOf("COMMON_PARTS");let mn;A&&(A.clipPathId="CLIPPATH_".concat(Ot()),mn='<clipPath id="'.concat(A.clipPathId,`" >
`).concat(A.toClipPathSVG(s),`</clipPath>
`)),B&&at.push("<g ",b,this.getSvgCommons(),` >
`),at.push("<g ",this.getSvgTransform(!1),B?"":b+this.getSvgCommons(),` >
`);const En=[g,L,i?"":this.addPaintOrder()," ",u?'transform="'.concat(u,'" '):""].join("");return t[Jt]=En,ir(ge)&&at.push(ge.toSVG(this)),ir(te)&&at.push(te.toSVG(this)),Ne&&at.push(Ne.toSVG(this)),A&&at.push(mn),at.push(t.join("")),at.push(`</g>
`),B&&at.push(`</g>
`),s?s(at.join("")):at.join("")}addPaintOrder(){return this.paintFirst!==Xt?' paint-order="'.concat(this.paintFirst,'" '):""}}function zo(v){return new RegExp("^("+v.join("|")+")\\b","i")}var el;const ws=String.raw(el||(el=Pe(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"]))),za="http://www.w3.org/2000/svg",Ka=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+ws+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+ws+"))?\\s+(.*)"),Ma={cx:et,x:et,r:"radius",cy:Kt,y:Kt,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},ya="font-size",ra="clip-path",$a=zo(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),ll=zo(["symbol","image","marker","pattern","view","svg"]),Jo=zo(["symbol","g","a","svg","clipPath","defs"]),ba=new RegExp("^\\s*("+ws+"+)\\s*,?\\s*("+ws+"+)\\s*,?\\s*("+ws+"+)\\s*,?\\s*("+ws+"+)\\s*$"),hl=new Et(1,0),$e=new Et,Y=(v,t)=>v.rotate(t),H=(v,t)=>new Et(t).subtract(v),ae=v=>v.distanceFrom($e),Q=(v,t)=>Math.atan2(_n(v,t),Hn(v,t)),Ze=v=>Q(hl,v),lt=v=>v.eq($e)?v:v.scalarDivide(ae(v)),tn=function(v){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return lt(new Et(-v.y,v.x).scalarMultiply(t?1:-1))},_n=(v,t)=>v.x*t.y-v.y*t.x,Hn=(v,t)=>v.x*t.x+v.y*t.y,dn=(v,t,i)=>{if(v.eq(t)||v.eq(i))return!0;const s=_n(t,i),l=_n(t,v),u=_n(i,v);return s>=0?l>=0&&u<=0:!(l<=0&&u>=0)},d="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",y=new RegExp("(?:\\s|^)"+d+d+"("+ws+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class E{constructor(t){const i=typeof t=="string"?E.parseShadow(t):t;Object.assign(this,E.ownDefaults,i),this.id=Ot()}static parseShadow(t){const i=t.trim(),[,s=0,l=0,u=0]=(y.exec(i)||[]).map(g=>parseFloat(g)||0);return{color:(i.replace(y,"")||"rgb(0,0,0)").trim(),offsetX:s,offsetY:l,blur:u}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){const i=Y(new Et(this.offsetX,this.offsetY),Zi(-t.angle)),s=new Jr(this.color);let l=40,u=40;return t.width&&t.height&&(l=100*pn((Math.abs(i.x)+this.blur)/t.width,J.NUM_FRACTION_DIGITS)+20,u=100*pn((Math.abs(i.y)+this.blur)/t.height,J.NUM_FRACTION_DIGITS)+20),t.flipX&&(i.x*=-1),t.flipY&&(i.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(u,'%" height="').concat(100+2*u,'%" x="-').concat(l,'%" width="').concat(100+2*l,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(pn(this.blur?this.blur/2:0,J.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(pn(i.x,J.NUM_FRACTION_DIGITS),'" dy="').concat(pn(i.y,J.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(s.toRgb(),'" flood-opacity="').concat(s.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},i=E.ownDefaults;return this.includeDefaultValues?t:Xn(t,(s,l)=>s!==i[l])}static fromObject(t){return Rl(this,null,function*(){return new this(t)})}}a(E,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),a(E,"type","shadow"),en.setClass(E,"shadow");const P=(v,t,i)=>Math.max(v,Math.min(t,i)),k=[Kt,et,li,fi,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",Oi,Ei],N=[Xt,rt,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],K={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:et,originY:Kt,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Xt,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},_e=(v,t,i,s)=>(v<Math.abs(t)?(v=t,s=i/4):s=t===0&&v===0?i/T*Math.asin(1):i/T*Math.asin(t/v),{a:v,c:t,p:i,s}),Ee=(v,t,i,s,l)=>v*Math.pow(2,10*(s-=1))*Math.sin((s*l-t)*T/i),it=(v,t,i,s)=>-i*Math.cos(v/s*Rt)+i+t,Ht=(v,t,i,s)=>(v/=s)<1/2.75?i*(7.5625*v*v)+t:v<2/2.75?i*(7.5625*(v-=1.5/2.75)*v+.75)+t:v<2.5/2.75?i*(7.5625*(v-=2.25/2.75)*v+.9375)+t:i*(7.5625*(v-=2.625/2.75)*v+.984375)+t,gn=(v,t,i,s)=>i-Ht(s-v,0,i,s)+t;var Ut=Object.freeze({__proto__:null,defaultEasing:it,easeInBack:function(v,t,i,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return i*(v/=s)*v*((l+1)*v-l)+t},easeInBounce:gn,easeInCirc:(v,t,i,s)=>-i*(Math.sqrt(1-(v/=s)*v)-1)+t,easeInCubic:(v,t,i,s)=>i*Ko(v/s,3)+t,easeInElastic:(v,t,i,s)=>{const l=i;let u=0;if(v===0)return t;if((v/=s)===1)return t+i;u||(u=.3*s);const{a:g,s:b,p:A}=_e(l,i,u,1.70158);return-Ee(g,b,A,v,s)+t},easeInExpo:(v,t,i,s)=>v===0?t:i*Ko(2,10*(v/s-1))+t,easeInOutBack:function(v,t,i,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(v/=s/2)<1?i/2*(v*v*((1+(l*=1.525))*v-l))+t:i/2*((v-=2)*v*((1+(l*=1.525))*v+l)+2)+t},easeInOutBounce:(v,t,i,s)=>v<s/2?.5*gn(2*v,0,i,s)+t:.5*Ht(2*v-s,0,i,s)+.5*i+t,easeInOutCirc:(v,t,i,s)=>(v/=s/2)<1?-i/2*(Math.sqrt(1-Ko(v,2))-1)+t:i/2*(Math.sqrt(1-(v-=2)*v)+1)+t,easeInOutCubic:(v,t,i,s)=>(v/=s/2)<1?i/2*Ko(v,3)+t:i/2*(Ko(v-2,3)+2)+t,easeInOutElastic:(v,t,i,s)=>{const l=i;let u=0;if(v===0)return t;if((v/=s/2)===2)return t+i;u||(u=s*(.3*1.5));const{a:g,s:b,p:A,c:L}=_e(l,i,u,1.70158);return v<1?-.5*Ee(g,b,A,v,s)+t:g*Math.pow(2,-10*(v-=1))*Math.sin((v*s-b)*T/A)*.5+L+t},easeInOutExpo:(v,t,i,s)=>v===0?t:v===s?t+i:(v/=s/2)<1?i/2*Ko(2,10*(v-1))+t:i/2*-(Ko(2,-10*--v)+2)+t,easeInOutQuad:(v,t,i,s)=>(v/=s/2)<1?i/2*Ko(v,2)+t:-i/2*(--v*(v-2)-1)+t,easeInOutQuart:(v,t,i,s)=>(v/=s/2)<1?i/2*Ko(v,4)+t:-i/2*((v-=2)*Ko(v,3)-2)+t,easeInOutQuint:(v,t,i,s)=>(v/=s/2)<1?i/2*Ko(v,5)+t:i/2*(Ko(v-2,5)+2)+t,easeInOutSine:(v,t,i,s)=>-i/2*(Math.cos(Math.PI*v/s)-1)+t,easeInQuad:(v,t,i,s)=>i*(v/=s)*v+t,easeInQuart:(v,t,i,s)=>i*(v/=s)*Ko(v,3)+t,easeInQuint:(v,t,i,s)=>i*Ko(v/s,5)+t,easeInSine:(v,t,i,s)=>-i*Math.cos(v/s*Rt)+i+t,easeOutBack:function(v,t,i,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return i*((v=v/s-1)*v*((l+1)*v+l)+1)+t},easeOutBounce:Ht,easeOutCirc:(v,t,i,s)=>i*Math.sqrt(1-(v=v/s-1)*v)+t,easeOutCubic:(v,t,i,s)=>i*(Ko(v/s-1,3)+1)+t,easeOutElastic:(v,t,i,s)=>{const l=i;let u=0;if(v===0)return t;if((v/=s)===1)return t+i;u||(u=.3*s);const{a:g,s:b,p:A,c:L}=_e(l,i,u,1.70158);return g*Ko(2,-10*v)*Math.sin((v*s-b)*T/A)+L+t},easeOutExpo:(v,t,i,s)=>v===s?t+i:i*-(Ko(2,-10*v/s)+1)+t,easeOutQuad:(v,t,i,s)=>-i*(v/=s)*(v-2)+t,easeOutQuart:(v,t,i,s)=>-i*((v=v/s-1)*Ko(v,3)-1)+t,easeOutQuint:(v,t,i,s)=>i*(Ko(v/s-1,5)+1)+t,easeOutSine:(v,t,i,s)=>i*Math.sin(v/s*Rt)+t});const Bn=()=>!1;class Si{constructor(t){let{startValue:i,byValue:s,duration:l=500,delay:u=0,easing:g=it,onStart:b=re,onChange:A=re,onComplete:L=re,abort:B=Bn,target:te}=t;a(this,"_state","pending"),a(this,"durationProgress",0),a(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=l,this.delay=u,this.easing=g,this._onStart=b,this._onChange=A,this._onComplete=L,this._abort=B,this.target=te,this.startValue=i,this.byValue=s,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const t=i=>{this._state==="pending"&&(this.startTime=i||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>hr(t),this.delay):hr(t)}tick(t){const i=(t||+new Date)-this.startTime,s=Math.min(i,this.duration);this.durationProgress=s/this.duration;const{value:l,valueProgress:u}=this.calculate(s);this.value=Object.freeze(l),this.valueProgress=u,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):i>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),hr(this.tick)))}register(){vr.push(this)}unregister(){vr.remove(this)}abort(){this._state="aborted",this.unregister()}}const _r=["startValue","endValue"];class Br extends Si{constructor(t){let{startValue:i=0,endValue:s=100}=t;super(z(z({},ie(t,_r)),{},{startValue:i,byValue:s-i}))}calculate(t){const i=this.easing(t,this.startValue,this.byValue,this.duration);return{value:i,valueProgress:Math.abs((i-this.startValue)/this.byValue)}}}const fo=["startValue","endValue"];class Qs extends Si{constructor(t){let{startValue:i=[0],endValue:s=[100]}=t;super(z(z({},ie(t,fo)),{},{startValue:i,byValue:s.map((l,u)=>l-i[u])}))}calculate(t){const i=this.startValue.map((s,l)=>this.easing(t,s,this.byValue[l],this.duration,l));return{value:i,valueProgress:Math.abs((i[0]-this.startValue[0])/this.byValue[0])}}}const Ys=["startValue","endValue","easing","onChange","onComplete","abort"],Ga=(v,t,i,s)=>t+i*(1-Math.cos(v/s*Rt)),j=v=>v&&((t,i,s)=>v(new Jr(t).toRgba(),i,s));class we extends Si{constructor(t){let{startValue:i,endValue:s,easing:l=Ga,onChange:u,onComplete:g,abort:b}=t,A=ie(t,Ys);const L=new Jr(i).getSource(),B=new Jr(s).getSource();super(z(z({},A),{},{startValue:L,byValue:B.map((te,ge)=>te-L[ge]),easing:l,onChange:j(u),onComplete:j(g),abort:j(b)}))}calculate(t){const[i,s,l,u]=this.startValue.map((b,A)=>this.easing(t,b,this.byValue[A],this.duration,A)),g=[...[i,s,l].map(Math.round),P(0,u,1)];return{value:g,valueProgress:g.map((b,A)=>this.byValue[A]!==0?Math.abs((b-this.startValue[A])/this.byValue[A]):0).find(b=>b!==0)||0}}}function Je(v){const t=(i=>Array.isArray(i.startValue)||Array.isArray(i.endValue))(v)?new Qs(v):new Br(v);return t.start(),t}function ht(v){const t=new we(v);return t.start(),t}class Ft{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(i=>i.eq(t))}append(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return this.points=this.points.concat(i.filter(l=>!this.includes(l))),this}static isPointContained(t,i,s){let l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(i.eq(s))return t.eq(i);if(i.x===s.x)return t.x===i.x&&(l||t.y>=Math.min(i.y,s.y)&&t.y<=Math.max(i.y,s.y));if(i.y===s.y)return t.y===i.y&&(l||t.x>=Math.min(i.x,s.x)&&t.x<=Math.max(i.x,s.x));{const u=H(i,s),g=H(i,t).divide(u);return l?Math.abs(g.x)===Math.abs(g.y):g.x===g.y&&g.x>=0&&g.x<=1}}static isPointInPolygon(t,i){const s=new Et(t).setX(Math.min(t.x-1,...i.map(u=>u.x)));let l=0;for(let u=0;u<i.length;u++){const g=this.intersectSegmentSegment(i[u],i[(u+1)%i.length],t,s);if(g.includes(t))return!0;l+=+(g.status==="Intersection")}return l%2==1}static intersectLineLine(t,i,s,l){let u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],g=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const b=i.x-t.x,A=i.y-t.y,L=l.x-s.x,B=l.y-s.y,te=t.x-s.x,ge=t.y-s.y,Ne=L*ge-B*te,at=b*ge-A*te,Jt=B*b-L*A;if(Jt!==0){const mn=Ne/Jt,En=at/Jt;return(u||0<=mn&&mn<=1)&&(g||0<=En&&En<=1)?new Ft("Intersection").append(new Et(t.x+mn*b,t.y+mn*A)):new Ft}if(Ne===0||at===0){const mn=u||g||Ft.isPointContained(t,s,l)||Ft.isPointContained(i,s,l)||Ft.isPointContained(s,t,i)||Ft.isPointContained(l,t,i);return new Ft(mn?"Coincident":void 0)}return new Ft("Parallel")}static intersectSegmentLine(t,i,s,l){return Ft.intersectLineLine(t,i,s,l,!1,!0)}static intersectSegmentSegment(t,i,s,l){return Ft.intersectLineLine(t,i,s,l,!1,!1)}static intersectLinePolygon(t,i,s){let l=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const u=new Ft,g=s.length;for(let b,A,L,B=0;B<g;B++){if(b=s[B],A=s[(B+1)%g],L=Ft.intersectLineLine(t,i,b,A,l,!1),L.status==="Coincident")return L;u.append(...L.points)}return u.points.length>0&&(u.status="Intersection"),u}static intersectSegmentPolygon(t,i,s){return Ft.intersectLinePolygon(t,i,s,!1)}static intersectPolygonPolygon(t,i){const s=new Ft,l=t.length,u=[];for(let g=0;g<l;g++){const b=t[g],A=t[(g+1)%l],L=Ft.intersectSegmentPolygon(b,A,i);L.status==="Coincident"?(u.push(L),s.append(b,A)):s.append(...L.points)}return u.length>0&&u.length===t.length?new Ft("Coincident"):(s.points.length>0&&(s.status="Intersection"),s)}static intersectPolygonRectangle(t,i,s){const l=i.min(s),u=i.max(s),g=new Et(u.x,l.y),b=new Et(l.x,u.y);return Ft.intersectPolygonPolygon(t,[l,g,u,b])}}class Ti extends $i{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?Sr(t,this.group.calcTransformMatrix()):t}setXY(t,i,s){this.group&&(t=Sr(t,Ir(this.group.calcTransformMatrix()))),this.setRelativeXY(t,i,s)}getRelativeXY(){return new Et(this.left,this.top)}setRelativeXY(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,i,s)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:i,br:s,bl:l}=this.aCoords||(this.aCoords=this.calcACoords()),u=[t,i,s,l];if(this.group){const g=this.group.calcTransformMatrix();return u.map(b=>Sr(b,g))}return u}intersectsWithRect(t,i){return Ft.intersectPolygonRectangle(this.getCoords(),t,i).status==="Intersection"}intersectsWithObject(t){const i=Ft.intersectPolygonPolygon(this.getCoords(),t.getCoords());return i.status==="Intersection"||i.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(i=>t.containsPoint(i))}isContainedWithinRect(t,i){const{left:s,top:l,width:u,height:g}=this.getBoundingRect();return s>=t.x&&s+u<=i.x&&l>=t.y&&l+g<=i.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return Ft.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:i}=this.canvas.vptCoords;return!!this.getCoords().some(s=>s.x<=i.x&&s.x>=t.x&&s.y<=i.y&&s.y>=t.y)||!!this.intersectsWithRect(t,i)||this.containsPoint(t.midPointFrom(i))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:i}=this.canvas.vptCoords;return this.intersectsWithRect(t,i)?!0:this.getCoords().every(s=>(s.x>=i.x||s.x<=t.x)&&(s.y>=i.y||s.y<=t.y))&&this.containsPoint(t.midPointFrom(i))}getBoundingRect(){return Bs(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(li,t),this._set(fi,t),this.setCoords()}scaleToWidth(t){const i=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/i)}scaleToHeight(t){const i=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/i)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?$n(Tn(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||He.concat()}calcACoords(){const t=nt({angle:this.angle}),{x:i,y:s}=this.getRelativeCenterPoint(),l=Ae(i,s),u=Z(l,t),g=this._getTransformedDimensions(),b=g.x/2,A=g.y/2;return{tl:Sr({x:-b,y:-A},u),tr:Sr({x:b,y:-A},u),bl:Sr({x:-b,y:A},u),br:Sr({x:b,y:A},u)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=[];return!t&&this.group&&(i=this.group.transformMatrixKey(t)),i.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,vo(this.originX),vo(this.originY)),i}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=this.calcOwnMatrix();if(t||!this.group)return i;const s=this.transformMatrixKey(t),l=this.matrixCache;return l&&l.key.every((u,g)=>u===s[g])?l.value:(this.group&&(i=Z(this.group.calcTransformMatrix(!1),i)),this.matrixCache={key:s,value:i},i)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),i=this.ownMatrixCache;if(i&&i.key===t)return i.value;const s=this.getRelativeCenterPoint(),l={angle:this.angle,translateX:s.x,translateY:s.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},u=Ur(l);return this.ownMatrixCache={key:t,value:u},u}_getNonTransformedDimensions(){return new Et(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=z({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),s=i.strokeWidth;let l=s,u=0;this.strokeUniform&&(l=0,u=s);const g=i.width+l,b=i.height+l;let A;return A=i.skewX===0&&i.skewY===0?new Et(g*i.scaleX,b*i.scaleY):so(g,b,Cr(i)),A.scalarAdd(u)}translateToGivenOrigin(t,i,s,l,u){let g=t.x,b=t.y;const A=vo(l)-vo(i),L=vo(u)-vo(s);if(A||L){const B=this._getTransformedDimensions();g+=A*B.x,b+=L*B.y}return new Et(g,b)}translateToCenterPoint(t,i,s){if(i===_t&&s===_t)return t;const l=this.translateToGivenOrigin(t,i,s,_t,_t);return this.angle?l.rotate(Zi(this.angle),t):l}translateToOriginPoint(t,i,s){const l=this.translateToGivenOrigin(t,_t,_t,i,s);return this.angle?l.rotate(Zi(this.angle),t):l}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?Sr(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new Et(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,i){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,i)}setPositionByOrigin(t,i,s){const l=this.translateToCenterPoint(t,i,s),u=this.translateToOriginPoint(l,this.originX,this.originY);this.set({left:u.x,top:u.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),et,Kt)}}const Ji=["type"],yi=["extraParam"];let yn=class dd extends Ti{static getDefaults(){return dd.ownDefaults}get type(){const t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){oe("warn","Setting type has no effect",t)}constructor(t){super(),a(this,"_cacheContext",null),Object.assign(this,dd.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=kt(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const i=t.width,s=t.height,l=J.maxCacheSideLimit,u=J.minCacheSideLimit;if(i<=l&&s<=l&&i*s<=J.perfLimitSizeTotal)return i<u&&(t.width=u),s<u&&(t.height=u),t;const g=i/s,[b,A]=xt.limitDimsByArea(g),L=P(u,b,l),B=P(u,A,l);return i>L&&(t.zoomX/=i/L,t.width=L,t.capped=!0),s>B&&(t.zoomY/=s/B,t.height=B,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),i=this._getTransformedDimensions({skewX:0,skewY:0}),s=i.x*t.x/this.scaleX,l=i.y*t.y/this.scaleY;return{width:Math.ceil(s+2),height:Math.ceil(l+2),zoomX:t.x,zoomY:t.y,x:s,y:l}}_updateCacheCanvas(){const t=this._cacheCanvas,i=this._cacheContext,{width:s,height:l,zoomX:u,zoomY:g,x:b,y:A}=this._limitCacheSize(this._getCacheCanvasDimensions()),L=s!==t.width||l!==t.height,B=this.zoomX!==u||this.zoomY!==g;if(!t||!i)return!1;if(L||B){s!==t.width||l!==t.height?(t.width=s,t.height=l):(i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height));const te=b/2,ge=A/2;return this.cacheTranslationX=Math.round(t.width/2-te)+te,this.cacheTranslationY=Math.round(t.height/2-ge)+ge,i.translate(this.cacheTranslationX,this.cacheTranslationY),i.scale(u,g),this.zoomX=u,this.zoomY=g,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){const i=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,s=this.calcTransformMatrix(!i);t.transform(s[0],s[1],s[2],s[3],s[4],s[5])}getObjectScaling(){if(!this.group)return new Et(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=ve(this.calcTransformMatrix());return new Et(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const i=this.canvas.getZoom(),s=this.getCanvasRetinaScaling();return t.scalarMultiply(i*s)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,i){t!==li&&t!==fi||(i=this._constrainScale(i)),t===li&&i<0?(this.flipX=!this.flipX,i*=-1):t==="scaleY"&&i<0?(this.flipY=!this.flipY,i*=-1):t!=="shadow"||!i||i instanceof E||(i=new E(i));const s=this[t]!==i;return this[t]=i,s&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||s&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:i,zoomY:s,cacheTranslationX:l,cacheTranslationY:u}=this,{width:g,height:b}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:i,zoomY:s,cacheTranslationX:l,cacheTranslationY:u,width:g,height:b,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===rt&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,i,s){t.save(),i.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(s,0,0),t.restore()}drawObject(t,i,s){const l=this.fill,u=this.stroke;i?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,s),this.fill=l,this.stroke=u}createClipPathLayer(t,i){const s=pi(i),l=s.getContext("2d");if(l.translate(i.cacheTranslationX,i.cacheTranslationY),l.scale(i.zoomX,i.zoomY),t._cacheCanvas=s,i.parentClipPaths.forEach(u=>{u.transform(l)}),i.parentClipPaths.push(t),t.absolutePositioned){const u=Ir(this.calcTransformMatrix());l.transform(u[0],u[1],u[2],u[3],u[4],u[5])}return t.transform(l),t.drawObject(l,!0,i),s}_drawClipPath(t,i,s){if(!i)return;i._transformDone=!0;const l=this.createClipPathLayer(i,s);this.drawClipPathOnCache(t,i,l)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const i=this._cacheCanvas,s=this._cacheContext;return!(!i||!s||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(i&&s&&!t&&(s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,i.width,i.height),s.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const i=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,i){const s=i.stroke;s&&(t.lineWidth=i.strokeWidth,t.lineCap=i.strokeLineCap,t.lineDashOffset=i.strokeDashOffset,t.lineJoin=i.strokeLineJoin,t.miterLimit=i.strokeMiterLimit,ir(s)?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?this._applyPatternForTransformedGradient(t,s):(t.strokeStyle=s.toLive(t),this._applyPatternGradientTransform(t,s)):t.strokeStyle=i.stroke)}_setFillStyles(t,i){let{fill:s}=i;s&&(ir(s)?(t.fillStyle=s.toLive(t),this._applyPatternGradientTransform(t,s)):t.fillStyle=s)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,i){i&&i.length!==0&&t.setLineDash(i)}_setShadow(t){if(!this.shadow)return;const i=this.shadow,s=this.canvas,l=this.getCanvasRetinaScaling(),[u,,,g]=(s==null?void 0:s.viewportTransform)||He,b=u*l,A=g*l,L=i.nonScaling?new Et(1,1):this.getObjectScaling();t.shadowColor=i.color,t.shadowBlur=i.blur*J.browserShadowBlurConstant*(b+A)*(L.x+L.y)/4,t.shadowOffsetX=i.offsetX*b*L.x,t.shadowOffsetY=i.offsetY*A*L.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,i){if(!ir(i))return{offsetX:0,offsetY:0};const s=i.gradientTransform||i.patternTransform,l=-this.width/2+i.offsetX||0,u=-this.height/2+i.offsetY||0;return i.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,l,u):t.transform(1,0,0,1,l,u),s&&t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),{offsetX:l,offsetY:u}}_renderPaintInOrder(t){this.paintFirst===rt?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const i=this.getObjectScaling();t.scale(1/i.x,1/i.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,i){var s;const l=this._limitCacheSize(this._getCacheCanvasDimensions()),u=this.getCanvasRetinaScaling(),g=l.x/this.scaleX/u,b=l.y/this.scaleY/u,A=pi({width:Math.ceil(g),height:Math.ceil(b)}),L=A.getContext("2d");L&&(L.beginPath(),L.moveTo(0,0),L.lineTo(g,0),L.lineTo(g,b),L.lineTo(0,b),L.closePath(),L.translate(g/2,b/2),L.scale(l.zoomX/this.scaleX/u,l.zoomY/this.scaleY/u),this._applyPatternGradientTransform(L,i),L.fillStyle=i.toLive(t),L.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(u*this.scaleX/l.zoomX,u*this.scaleY/l.zoomY),t.strokeStyle=(s=L.createPattern(A,"no-repeat"))!==null&&s!==void 0?s:"")}_findCenterFromElement(){return new Et(this.left+this.width/2,this.top+this.height/2)}clone(t){const i=this.toObject(t);return this.constructor.fromObject(i)}cloneAsImage(t){const i=this.toCanvasElement(t);return new(en.getClass("image"))(i)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=So(this),s=this.group,l=this.shadow,u=Math.abs,g=t.enableRetinaScaling?ee():1,b=(t.multiplier||1)*g,A=t.canvasProvider||(Vi=>new Ao(Vi,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&$r(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Oo(this,this.getViewportTransform()),this.setCoords();const L=kt(),B=this.getBoundingRect(),te=this.shadow,ge=new Et;if(te){const Vi=te.blur,Mr=te.nonScaling?new Et(1,1):this.getObjectScaling();ge.x=2*Math.round(u(te.offsetX)+Vi)*u(Mr.x),ge.y=2*Math.round(u(te.offsetY)+Vi)*u(Mr.y)}const Ne=B.width+ge.x,at=B.height+ge.y;L.width=Math.ceil(Ne),L.height=Math.ceil(at);const Jt=A(L);t.format==="jpeg"&&(Jt.backgroundColor="#fff"),this.setPositionByOrigin(new Et(Jt.width/2,Jt.height/2),_t,_t);const mn=this.canvas;Jt._objects=[this],this.set("canvas",Jt),this.setCoords();const En=Jt.toCanvasElement(b||1,t);return this.set("canvas",mn),this.shadow=l,s&&(this.group=s),this.set(i),this.setCoords(),Jt._objects=[],Jt.destroy(),En}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return nr(this.toCanvasElement(t),t.format||"png",t.quality||1)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return mi(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return i.includes(this.constructor.type)||i.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:i,originX:s,originY:l}=this;if(i){const{x:u,y:g}=this.getRelativeCenterPoint();this.originX=_t,this.originY=_t,this.left=u,this.top=g}if(this.set("angle",t),i){const{x:u,y:g}=this.translateToOriginPoint(this.getRelativeCenterPoint(),s,l);this.left=u,this.top=g,this.originX=s,this.originY=l}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){vr.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Ye().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,i){return Object.entries(t).reduce((s,l)=>{let[u,g]=l;return s[u]=this._animate(u,g,i),s},{})}_animate(t,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=t.split("."),u=this.constructor.colorProperties.includes(l[l.length-1]),{abort:g,startValue:b,onChange:A,onComplete:L}=s,B=z(z({},s),{},{target:this,startValue:b!=null?b:l.reduce((te,ge)=>te[ge],this),endValue:i,abort:g==null?void 0:g.bind(this),onChange:(te,ge,Ne)=>{l.reduce((at,Jt,mn)=>(mn===l.length-1&&(at[Jt]=te),at[Jt]),this),A&&A(te,ge,Ne)},onComplete:(te,ge,Ne)=>{this.setCoords(),L&&L(te,ge,Ne)}});return u?ht(B):Je(B)}isDescendantOf(t){const{parent:i,group:s}=this;return i===t||s===t||!!i&&i.isDescendantOf(t)||!!s&&s!==i&&s.isDescendantOf(t)}getAncestors(){const t=[];let i=this;do i=i.parent,i&&t.push(i);while(i);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const i=this.getAncestors(),s=t.getAncestors();if(i.length===0&&s.length>0&&this===s[s.length-1])return{fork:[],otherFork:[t,...s.slice(0,s.length-1)],common:[this]};for(let l,u=0;u<i.length;u++){if(l=i[u],l===t)return{fork:[this,...i.slice(0,u)],otherFork:[],common:i.slice(u)};for(let g=0;g<s.length;g++){if(this===s[g])return{fork:[],otherFork:[t,...s.slice(0,g)],common:[this,...i]};if(l===s[g])return{fork:[this,...i.slice(0,u)],otherFork:[t,...s.slice(0,g)],common:i.slice(u)}}}return{fork:[this,...i],otherFork:[t,...s],common:[]}}hasCommonAncestors(t){const i=this.findCommonAncestors(t);return i&&!!i.common.length}isInFrontOf(t){if(this===t)return;const i=this.findCommonAncestors(t);if(i.fork.includes(t))return!0;if(i.otherFork.includes(this))return!1;const s=i.common[0]||this.canvas;if(!s)return;const l=i.fork.pop(),u=i.otherFork.pop(),g=s._objects.indexOf(l),b=s._objects.indexOf(u);return g>-1&&g>b}toObject(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(dd.customProperties,this.constructor.customProperties||[]);let i;const s=J.NUM_FRACTION_DIGITS,{clipPath:l,fill:u,stroke:g,shadow:b,strokeDashArray:A,left:L,top:B,originX:te,originY:ge,width:Ne,height:at,strokeWidth:Jt,strokeLineCap:mn,strokeDashOffset:En,strokeLineJoin:Vi,strokeUniform:Mr,strokeMiterLimit:dr,scaleX:ns,scaleY:no,angle:Yo,flipX:Zs,flipY:Aa,opacity:ol,visible:ga,backgroundColor:La,fillRule:xs,paintFirst:us,globalCompositeOperation:Xa,skewX:Na,skewY:Ca}=this;l&&!l.excludeFromExport&&(i=l.toObject(t.concat("inverted","absolutePositioned")));const aa=wl=>pn(wl,s),_l=z(z({},kn(this,t)),{},{type:this.constructor.type,version:de,originX:te,originY:ge,left:aa(L),top:aa(B),width:aa(Ne),height:aa(at),fill:or(u)?u.toObject():u,stroke:or(g)?g.toObject():g,strokeWidth:aa(Jt),strokeDashArray:A&&A.concat(),strokeLineCap:mn,strokeDashOffset:En,strokeLineJoin:Vi,strokeUniform:Mr,strokeMiterLimit:aa(dr),scaleX:aa(ns),scaleY:aa(no),angle:aa(Yo),flipX:Zs,flipY:Aa,opacity:aa(ol),shadow:b&&b.toObject(),visible:ga,backgroundColor:La,fillRule:xs,paintFirst:us,globalCompositeOperation:Xa,skewX:aa(Na),skewY:aa(Ca)},i?{clipPath:i}:null);return this.includeDefaultValues?_l:this._removeDefaultValues(_l)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const i=this.constructor.getDefaults(),s=Object.keys(i).length>0?i:Object.getPrototypeOf(this);return Xn(t,(l,u)=>{if(u===et||u===Kt||u==="type")return!0;const g=s[u];return l!==g&&!(Array.isArray(l)&&Array.isArray(g)&&l.length===0&&g.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let i=ie(t,Ji),s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:l}=s,u=ie(s,yi);return Dt(i,u).then(g=>l?(delete g[l],new this(i[l],g)):new this(g))}static fromObject(t,i){return this._fromObject(t,i)}};a(yn,"stateProperties",k),a(yn,"cacheProperties",N),a(yn,"ownDefaults",K),a(yn,"type","FabricObject"),a(yn,"colorProperties",[Xt,rt,"backgroundColor"]),a(yn,"customProperties",[]),en.setClass(yn),en.setClass(yn,"object");const rr=(v,t,i)=>(s,l,u,g)=>{const b=t(s,l,u,g);return b&&Co(v,z(z({},os(s,l,u,g)),i)),b};function Jn(v){return(t,i,s,l)=>{const{target:u,originX:g,originY:b}=i,A=u.getRelativeCenterPoint(),L=u.translateToOriginPoint(A,g,b),B=v(t,i,s,l);return u.setPositionByOrigin(L,i.originX,i.originY),B}}const Yi=rr(Zn,Jn((v,t,i,s)=>{const l=qr(t,t.originX,t.originY,i,s);if(vo(t.originX)===vo(_t)||vo(t.originX)===vo(pt)&&l.x<0||vo(t.originX)===vo(et)&&l.x>0){const{target:u}=t,g=u.strokeWidth/(u.strokeUniform?u.scaleX:1),b=bs(t)?2:1,A=u.width,L=Math.abs(l.x*b/u.scaleX)-g;return u.set("width",Math.max(L,1)),A!==u.width}return!1}));function Ar(v,t,i,s,l){s=s||{};const u=this.sizeX||s.cornerSize||l.cornerSize,g=this.sizeY||s.cornerSize||l.cornerSize,b=s.transparentCorners!==void 0?s.transparentCorners:l.transparentCorners,A=b?rt:Xt,L=!b&&(s.cornerStrokeColor||l.cornerStrokeColor);let B,te=t,ge=i;v.save(),v.fillStyle=s.cornerColor||l.cornerColor||"",v.strokeStyle=s.cornerStrokeColor||l.cornerStrokeColor||"",u>g?(B=u,v.scale(1,g/u),ge=i*u/g):g>u?(B=g,v.scale(u/g,1),te=t*g/u):B=u,v.beginPath(),v.arc(te,ge,B/2,0,T,!1),v[A](),L&&v.stroke(),v.restore()}function Di(v,t,i,s,l){s=s||{};const u=this.sizeX||s.cornerSize||l.cornerSize,g=this.sizeY||s.cornerSize||l.cornerSize,b=s.transparentCorners!==void 0?s.transparentCorners:l.transparentCorners,A=b?rt:Xt,L=!b&&(s.cornerStrokeColor||l.cornerStrokeColor),B=u/2,te=g/2;v.save(),v.fillStyle=s.cornerColor||l.cornerColor||"",v.strokeStyle=s.cornerStrokeColor||l.cornerStrokeColor||"",v.translate(t,i);const ge=l.getTotalAngle();v.rotate(Zi(ge)),v["".concat(A,"Rect")](-B,-te,u,g),L&&v.strokeRect(-B,-te,u,g),v.restore()}class Ms{constructor(t){a(this,"visible",!0),a(this,"actionName",qi),a(this,"angle",0),a(this,"x",0),a(this,"y",0),a(this,"offsetX",0),a(this,"offsetY",0),a(this,"sizeX",0),a(this,"sizeY",0),a(this,"touchSizeX",0),a(this,"touchSizeY",0),a(this,"cursorStyle","crosshair"),a(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,i,s,l){var u;let{tl:g,tr:b,br:A,bl:L}=l;return((u=i.canvas)===null||u===void 0?void 0:u.getActiveObject())===i&&i.isControlVisible(t)&&Ft.isPointInPolygon(s,[g,b,A,L])}getActionHandler(t,i,s){return this.actionHandler}getMouseDownHandler(t,i,s){return this.mouseDownHandler}getMouseUpHandler(t,i,s){return this.mouseUpHandler}cursorStyleHandler(t,i,s){return i.cursorStyle}getActionName(t,i,s){return i.actionName}getVisibility(t,i){var s,l;return(s=(l=t._controlsVisibility)===null||l===void 0?void 0:l[i])!==null&&s!==void 0?s:this.visible}setVisibility(t,i,s){this.visible=t}positionHandler(t,i,s,l){return new Et(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(i)}calcCornerCoords(t,i,s,l,u,g){const b=Tt([Ae(s,l),nt({angle:t}),fn((u?this.touchSizeX:this.sizeX)||i,(u?this.touchSizeY:this.sizeY)||i)]);return{tl:new Et(-.5,-.5).transform(b),tr:new Et(.5,-.5).transform(b),br:new Et(.5,.5).transform(b),bl:new Et(-.5,.5).transform(b)}}render(t,i,s,l,u){((l=l||{}).cornerStyle||u.cornerStyle)==="circle"?Ar.call(this,t,i,s,l,u):Di.call(this,t,i,s,l,u)}}const Ws=(v,t,i)=>i.lockRotation?_a:t.cursorStyle,as=rr(zt,Jn((v,t,i,s)=>{let{target:l,ex:u,ey:g,theta:b,originX:A,originY:L}=t;const B=l.translateToOriginPoint(l.getRelativeCenterPoint(),A,L);if(js(l,"lockRotation"))return!1;const te=Math.atan2(g-B.y,u-B.x),ge=Math.atan2(s-B.y,i-B.x);let Ne=$n(ge-te+b);if(l.snapAngle&&l.snapAngle>0){const Jt=l.snapAngle,mn=l.snapThreshold||Jt,En=Math.ceil(Ne/Jt)*Jt,Vi=Math.floor(Ne/Jt)*Jt;Math.abs(Ne-Vi)<mn?Ne=Vi:Math.abs(Ne-En)<mn&&(Ne=En)}Ne<0&&(Ne=360+Ne),Ne%=360;const at=l.angle!==Ne;return l.angle=Ne,at}));function eo(v,t){const i=t.canvas,s=v[i.uniScaleKey];return i.uniformScaling&&!s||!i.uniformScaling&&s}function pr(v,t,i){const s=js(v,"lockScalingX"),l=js(v,"lockScalingY");if(s&&l||!t&&(s||l)&&i||s&&t==="x"||l&&t==="y")return!0;const{width:u,height:g,strokeWidth:b}=v;return u===0&&b===0&&t!=="y"||g===0&&b===0&&t!=="x"}const go=["e","se","s","sw","w","nw","n","ne","e"],Ro=(v,t,i)=>{const s=eo(v,i);if(pr(i,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",s))return _a;const l=hs(i,t);return"".concat(go[l],"-resize")};function Qo(v,t,i,s){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const u=t.target,g=l.by,b=eo(v,u);let A,L,B,te,ge,Ne;if(pr(u,g,b))return!1;if(t.gestureScale)L=t.scaleX*t.gestureScale,B=t.scaleY*t.gestureScale;else{if(A=qr(t,t.originX,t.originY,i,s),ge=g!=="y"?Math.sign(A.x||t.signX||1):1,Ne=g!=="x"?Math.sign(A.y||t.signY||1):1,t.signX||(t.signX=ge),t.signY||(t.signY=Ne),js(u,"lockScalingFlip")&&(t.signX!==ge||t.signY!==Ne))return!1;if(te=u._getTransformedDimensions(),b&&!g){const mn=Math.abs(A.x)+Math.abs(A.y),{original:En}=t,Vi=mn/(Math.abs(te.x*En.scaleX/u.scaleX)+Math.abs(te.y*En.scaleY/u.scaleY));L=En.scaleX*Vi,B=En.scaleY*Vi}else L=Math.abs(A.x*u.scaleX/te.x),B=Math.abs(A.y*u.scaleY/te.y);bs(t)&&(L*=2,B*=2),t.signX!==ge&&g!=="y"&&(t.originX=Js(t.originX),L*=-1,t.signX=ge),t.signY!==Ne&&g!=="x"&&(t.originY=Js(t.originY),B*=-1,t.signY=Ne)}const at=u.scaleX,Jt=u.scaleY;return g?(g==="x"&&u.set(li,L),g==="y"&&u.set(fi,B)):(!js(u,"lockScalingX")&&u.set(li,L),!js(u,"lockScalingY")&&u.set(fi,B)),at!==u.scaleX||Jt!==u.scaleY}const ea=rr(st,Jn((v,t,i,s)=>Qo(v,t,i,s))),Oa=rr(st,Jn((v,t,i,s)=>Qo(v,t,i,s,{by:"x"}))),vl=rr(st,Jn((v,t,i,s)=>Qo(v,t,i,s,{by:"y"}))),Sl=["target","ex","ey","skewingSide"],Ce={x:{counterAxis:"y",scale:li,skew:Oi,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:fi,skew:Ei,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Qe=["ns","nesw","ew","nwse"],ot=(v,t,i)=>{if(t.x!==0&&js(i,"lockSkewingY")||t.y!==0&&js(i,"lockSkewingX"))return _a;const s=hs(i,t)%4;return"".concat(Qe[s],"-resize")};function bt(v,t,i,s,l){const{target:u}=i,{counterAxis:g,origin:b,lockSkewing:A,skew:L,flip:B}=Ce[v];if(js(u,A))return!1;const{origin:te,flip:ge}=Ce[g],Ne=vo(i[te])*(u[ge]?-1:1),at=-Math.sign(Ne)*(u[B]?-1:1),Jt=.5*-((u[L]===0&&qr(i,_t,_t,s,l)[v]>0||u[L]>0?1:-1)*at)+.5;return rr(xn,Jn((En,Vi,Mr,dr)=>function(ns,no,Yo){let{target:Zs,ex:Aa,ey:ol,skewingSide:ga}=no,La=ie(no,Sl);const{skew:xs}=Ce[ns],us=Yo.subtract(new Et(Aa,ol)).divide(new Et(Zs.scaleX,Zs.scaleY))[ns],Xa=Zs[xs],Na=La[xs],Ca=Math.tan(Zi(Na)),aa=ns==="y"?Zs._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:Zs._getTransformedDimensions({scaleX:1,scaleY:1}).y,_l=2*us*ga/Math.max(aa,1)+Ca,wl=$n(Math.atan(_l));Zs.set(xs,wl);const vc=Xa!==Zs[xs];if(vc&&ns==="y"){const{skewX:Ac,scaleX:Kl}=Zs,oc=Zs._getTransformedDimensions({skewY:Xa}),ac=Zs._getTransformedDimensions(),Kc=Ac!==0?oc.x/ac.x:1;Kc!==1&&Zs.set(li,Kc*Kl)}return vc}(v,Vi,new Et(Mr,dr))))(t,z(z({},i),{},{[b]:Jt,skewingSide:at}),s,l)}const rn=(v,t,i,s)=>bt("x",v,t,i,s),ti=(v,t,i,s)=>bt("y",v,t,i,s);function ni(v,t){return v[t.canvas.altActionKey]}const Ln=(v,t,i)=>{const s=ni(v,i);return t.x===0?s?Oi:fi:t.y===0?s?Ei:li:""},Ri=(v,t,i)=>ni(v,i)?ot(0,t,i):Ro(v,t,i),sn=(v,t,i,s)=>ni(v,t.target)?ti(v,t,i,s):Oa(v,t,i,s),ar=(v,t,i,s)=>ni(v,t.target)?rn(v,t,i,s):vl(v,t,i,s),kr=()=>({ml:new Ms({x:-.5,y:0,cursorStyleHandler:Ri,actionHandler:sn,getActionName:Ln}),mr:new Ms({x:.5,y:0,cursorStyleHandler:Ri,actionHandler:sn,getActionName:Ln}),mb:new Ms({x:0,y:.5,cursorStyleHandler:Ri,actionHandler:ar,getActionName:Ln}),mt:new Ms({x:0,y:-.5,cursorStyleHandler:Ri,actionHandler:ar,getActionName:Ln}),tl:new Ms({x:-.5,y:-.5,cursorStyleHandler:Ro,actionHandler:ea}),tr:new Ms({x:.5,y:-.5,cursorStyleHandler:Ro,actionHandler:ea}),bl:new Ms({x:-.5,y:.5,cursorStyleHandler:Ro,actionHandler:ea}),br:new Ms({x:.5,y:.5,cursorStyleHandler:Ro,actionHandler:ea}),mtr:new Ms({x:0,y:-.5,actionHandler:as,cursorStyleHandler:Ws,offsetY:-40,withConnection:!0,actionName:Yt})}),lr=()=>({mr:new Ms({x:.5,y:0,actionHandler:Yi,cursorStyleHandler:Ri,actionName:Zn}),ml:new Ms({x:-.5,y:0,actionHandler:Yi,cursorStyleHandler:Ri,actionName:Zn})}),Ps=()=>z(z({},kr()),lr());class xe extends yn{static getDefaults(){return z(z({},super.getDefaults()),xe.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),xe.ownDefaults),this.setOptions(t)}static createControls(){return{controls:kr()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const i=t._currentTransform,s=i.target,l=i.action;if(this===s&&l&&l.startsWith(qi))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const s=Object.entries(this.oCoords);for(let l=s.length-1;l>=0;l--){const[u,g]=s[l],b=this.controls[u];if(b.shouldActivate(u,this,t,i?g.touchCorner:g.corner))return this.__corner=u,{key:u,control:b,coord:this.oCoords[u]}}}calcOCoords(){const t=this.getViewportTransform(),i=this.getCenterPoint(),s=Ae(i.x,i.y),l=nt({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),u=Z(s,l),g=Z(t,u),b=Z(g,[1/t[0],0,0,1/t[3],0,0]),A=this.group?ve(this.calcTransformMatrix()):void 0;A&&(A.scaleX=Math.abs(A.scaleX),A.scaleY=Math.abs(A.scaleY));const L=this._calculateCurrentDimensions(A),B={};return this.forEachControl((te,ge)=>{const Ne=te.positionHandler(L,b,this,te);B[ge]=Object.assign(Ne,this._calcCornerCoords(te,Ne))}),B}_calcCornerCoords(t,i){const s=this.getTotalAngle();return{corner:t.calcCornerCoords(s,this.cornerSize,i.x,i.y,!1,this),touchCorner:t.calcCornerCoords(s,this.touchCornerSize,i.x,i.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const i in this.controls)t(this.controls[i],i,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const i=this.getRelativeCenterPoint(),s=this._calculateCurrentDimensions(),l=this.getViewportTransform();t.translate(i.x,i.y),t.scale(1/l[0],1/l[3]),t.rotate(Zi(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-s.x/2,-s.y/2,s.x,s.y),t.restore()}strokeBorders(t,i){t.strokeRect(-i.x/2,-i.y/2,i.x,i.y)}_drawBorders(t,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const l=z({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},s);t.save(),t.strokeStyle=l.borderColor,this._setLineDash(t,l.borderDashArray),this.strokeBorders(t,i),l.hasControls&&this.drawControlsConnectingLines(t,i),t.restore()}_renderControls(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:s,hasControls:l}=this,u=z({hasBorders:s,hasControls:l},i),g=this.getViewportTransform(),b=u.hasBorders,A=u.hasControls,L=Z(g,this.calcTransformMatrix()),B=ve(L);t.save(),t.translate(B.translateX,B.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(B.angle-=180),t.rotate(Zi(this.group?B.angle:this.angle)),b&&this.drawBorders(t,B,i),A&&this.drawControls(t,i),t.restore()}drawBorders(t,i,s){let l;if(s&&s.forActiveSelection||this.group){const u=so(this.width,this.height,Cr(i)),g=this.isStrokeAccountedForInDimensions()?vn:(this.strokeUniform?new Et().scalarAdd(this.canvas?this.canvas.getZoom():1):new Et(i.scaleX,i.scaleY)).scalarMultiply(this.strokeWidth);l=u.add(g).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else l=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,l,s)}drawControlsConnectingLines(t,i){let s=!1;t.beginPath(),this.forEachControl((l,u)=>{l.withConnection&&l.getVisibility(this,u)&&(s=!0,t.moveTo(l.x*i.x,l.y*i.y),t.lineTo(l.x*i.x+l.offsetX,l.y*i.y+l.offsetY))}),s&&t.stroke()}drawControls(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();const s=this.getCanvasRetinaScaling(),{cornerStrokeColor:l,cornerDashArray:u,cornerColor:g}=this,b=z({cornerStrokeColor:l,cornerDashArray:u,cornerColor:g},i);t.setTransform(s,0,0,s,0,0),t.strokeStyle=t.fillStyle=b.cornerColor,this.transparentCorners||(t.strokeStyle=b.cornerStrokeColor),this._setLineDash(t,b.cornerDashArray),this.forEachControl((A,L)=>{if(A.getVisibility(this,L)){const B=this.oCoords[L];A.render(t,B.x,B.y,b,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,i){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=i}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(i=>{let[s,l]=i;return this.setControlVisible(s,l)})}clearContextTop(t){if(!this.canvas)return;const i=this.canvas.contextTop;if(!i)return;const s=this.canvas.viewportTransform;i.save(),i.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this.transform(i);const l=this.width+4,u=this.height+4;return i.clearRect(-l/2,-u/2,l,u),t||i.restore(),i}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function Ve(v,t){return t.forEach(i=>{Object.getOwnPropertyNames(i.prototype).forEach(s=>{s!=="constructor"&&Object.defineProperty(v.prototype,s,Object.getOwnPropertyDescriptor(i.prototype,s)||Object.create(null))})}),v}a(xe,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class At extends xe{}Ve(At,[Uo]),en.setClass(At),en.setClass(At,"object");const Gt=(v,t,i,s)=>{const l=2*(s=Math.round(s))+1,{data:u}=v.getImageData(t-s,i-s,l,l);for(let g=3;g<u.length;g+=4)if(u[g]>0)return!1;return!0};class qt{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Et(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Et(1/this.options.scaleX,1/this.options.scaleY):new Et(1,1)}createSideVector(t,i){const s=H(t,i);return this.options.strokeUniform?s.multiply(this.scale):s}projectOrthogonally(t,i,s){return this.applySkew(t.add(this.calcOrthogonalProjection(t,i,s)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){const i=new Et(t);return i.y+=i.x*Math.tan(Zi(this.options.skewY)),i.x+=i.y*Math.tan(Zi(this.options.skewX)),i}scaleUnitVector(t,i){return t.multiply(this.strokeUniformScalar).scalarMultiply(i)}}const Vn=new Et;class jn extends qt{static getOrthogonalRotationFactor(t,i){const s=i?Q(t,i):Ze(t);return Math.abs(s)<Rt?-1:1}constructor(t,i,s,l){super(l),a(this,"AB",void 0),a(this,"AC",void 0),a(this,"alpha",void 0),a(this,"bisector",void 0),this.A=new Et(t),this.B=new Et(i),this.C=new Et(s),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=Q(this.AB,this.AC),this.bisector=lt(Y(this.AB.eq(Vn)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const l=this.createSideVector(t,i),u=tn(l),g=jn.getOrthogonalRotationFactor(u,this.bisector);return this.scaleUnitVector(u,s*g)}projectBevel(){const t=[];return(this.alpha%T==0?[this.B]:[this.B,this.C]).forEach(i=>{t.push(this.projectOrthogonally(this.A,i)),t.push(this.projectOrthogonally(this.A,i,-this.strokeProjectionMagnitude))}),t}projectMiter(){const t=[],i=Math.abs(this.alpha),s=1/Math.sin(i/2),l=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*s),u=this.options.strokeUniform?ae(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return ae(l)/this.strokeProjectionMagnitude<=u&&t.push(this.applySkew(this.A.add(l))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,i){const s=[],l=new Et(jn.getOrthogonalRotationFactor(this.bisector),jn.getOrthogonalRotationFactor(new Et(this.bisector.y,this.bisector.x)));return[new Et(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(l),new Et(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(l)].forEach(u=>{dn(u,t,i)&&s.push(this.A.add(u))}),s}projectRoundWithSkew(t,i){const s=[],{skewX:l,skewY:u,scaleX:g,scaleY:b,strokeUniform:A}=this.options,L=new Et(Math.tan(Zi(l)),Math.tan(Zi(u))),B=this.strokeProjectionMagnitude,te=A?B/b/Math.sqrt(1/Ko(b,2)+1/Ko(g,2)*Ko(L.y,2)):B/Math.sqrt(1+Ko(L.y,2)),ge=new Et(Math.sqrt(Math.max(Ko(B,2)-Ko(te,2),0)),te),Ne=A?B/Math.sqrt(1+Ko(L.x,2)*Ko(1/b,2)/Ko(1/g+1/g*L.x*L.y,2)):B/Math.sqrt(1+Ko(L.x,2)/Ko(1+L.x*L.y,2)),at=new Et(Ne,Math.sqrt(Math.max(Ko(B,2)-Ko(Ne,2),0)));return[at,at.scalarMultiply(-1),ge,ge.scalarMultiply(-1)].map(Jt=>this.applySkew(A?Jt.multiply(this.strokeUniformScalar):Jt)).forEach(Jt=>{dn(Jt,t,i)&&s.push(this.applySkew(this.A).add(Jt))}),s}projectRound(){const t=[];t.push(...this.projectBevel());const i=this.alpha%T==0,s=this.applySkew(this.A),l=t[i?0:2].subtract(s),u=t[i?1:0].subtract(s),g=i?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),b=_n(l,g)>0,A=b?l:u,L=b?u:l;return this.isSkewed()?t.push(...this.projectRoundWithSkew(A,L)):t.push(...this.projectRoundNoSkew(A,L)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class Ii extends qt{constructor(t,i,s){super(s),this.A=new Et(t),this.T=new Et(i)}calcOrthogonalProjection(t,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const l=this.createSideVector(t,i);return this.scaleUnitVector(tn(l),s)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const i=new Et(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(i)),this.applySkew(this.A.subtract(i)))}else t.push(...new jn(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const i=new Et(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(i),this.A.subtract(i))}else{const i=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),s=this.scaleUnitVector(lt(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),l=this.A.add(s);t.push(l.add(i),l.subtract(i))}return t.map(i=>this.applySkew(i))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}const ui=function(v,t){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=[];if(v.length===0)return s;const l=v.reduce((u,g)=>(u[u.length-1].eq(g)||u.push(new Et(g)),u),[new Et(v[0])]);if(l.length===1)i=!0;else if(!i){const u=l[0],g=((b,A)=>{for(let L=b.length-1;L>=0;L--)if(A(b[L],L,b))return L;return-1})(l,b=>!b.eq(u));l.splice(g+1)}return l.forEach((u,g,b)=>{let A,L;g===0?(L=b[1],A=i?u:b[b.length-1]):g===b.length-1?(A=b[g-1],L=i?u:b[0]):(A=b[g-1],L=b[g+1]),i&&b.length===1?s.push(...new Ii(u,u,t).project()):!i||g!==0&&g!==b.length-1?s.push(...new jn(u,A,L,t).project()):s.push(...new Ii(u,g===0?L:A,t).project())}),s},sr=v=>{const t={};return Object.keys(v).forEach(i=>{t[i]={},Object.keys(v[i]).forEach(s=>{t[i][s]=z({},v[i][s])})}),t},Pr=v=>v.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Ki=v=>{const t=[];for(let i,s=0;s<v.length;s++)(i=ps(v,s))!==!1&&t.push(i);return t},ps=(v,t)=>{const i=v.charCodeAt(t);if(isNaN(i))return"";if(i<55296||i>57343)return v.charAt(t);if(55296<=i&&i<=56319){if(v.length<=t+1)throw"High surrogate without following low surrogate";const l=v.charCodeAt(t+1);if(56320>l||l>57343)throw"High surrogate without following low surrogate";return v.charAt(t)+v.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";const s=v.charCodeAt(t-1);if(55296>s||s>56319)throw"Low surrogate without preceding high surrogate";return!1};var Ss=Object.freeze({__proto__:null,capitalize:function(v){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(v.charAt(0).toUpperCase()).concat(t?v.slice(1):v.slice(1).toLowerCase())},escapeXml:Pr,graphemeSplit:Ki});const Vo=function(v,t){let i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return v.fill!==t.fill||v.stroke!==t.stroke||v.strokeWidth!==t.strokeWidth||v.fontSize!==t.fontSize||v.fontFamily!==t.fontFamily||v.fontWeight!==t.fontWeight||v.fontStyle!==t.fontStyle||v.textBackgroundColor!==t.textBackgroundColor||v.deltaY!==t.deltaY||i&&(v.overline!==t.overline||v.underline!==t.underline||v.linethrough!==t.linethrough)},Ea=(v,t)=>{const i=t.split(`
`),s=[];let l=-1,u={};v=sr(v);for(let g=0;g<i.length;g++){const b=Ki(i[g]);if(v[g])for(let A=0;A<b.length;A++){l++;const L=v[g][A];L&&Object.keys(L).length>0&&(Vo(u,L,!0)?s.push({start:l,end:l+1,style:L}):s[s.length-1].end++),u=L||{}}else l+=b.length,u={}}return s},pa=(v,t)=>{if(!Array.isArray(v))return sr(v);const i=t.split(Ct),s={};let l=-1,u=0;for(let g=0;g<i.length;g++){const b=Ki(i[g]);for(let A=0;A<b.length;A++)l++,v[u]&&v[u].start<=l&&l<v[u].end&&(s[g]=s[g]||{},s[g][A]=z({},v[u].style),l===v[u].end-1&&u++)}return s},$o=["display","transform",Xt,"fill-opacity","fill-rule","opacity",rt,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function ja(v,t){const i=v.nodeName,s=v.getAttribute("class"),l=v.getAttribute("id"),u="(?![a-zA-Z\\-]+)";let g;if(g=new RegExp("^"+i,"i"),t=t.replace(g,""),l&&t.length&&(g=new RegExp("#"+l+u,"i"),t=t.replace(g,"")),s&&t.length){const b=s.split(" ");for(let A=b.length;A--;)g=new RegExp("\\."+b[A]+u,"i"),t=t.replace(g,"")}return t.length===0}function Il(v,t){let i=!0;const s=ja(v,t.pop());return s&&t.length&&(i=function(l,u){let g,b=!0;for(;l.parentElement&&l.parentElement.nodeType===1&&u.length;)b&&(g=u.pop()),b=ja(l=l.parentElement,g);return u.length===0}(v,t)),s&&i&&t.length===0}const jo=v=>{var t;return(t=Ma[v])!==null&&t!==void 0?t:v},la=new RegExp("(".concat(ws,")"),"gi"),Ul=v=>v.replace(la," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var cc,El,uc,yl,hu,Tl,ct;const Cl="(".concat(ws,")"),bu=String.raw(cc||(cc=Pe(["(skewX)(",")"],["(skewX)\\(","\\)"])),Cl),zl=String.raw(El||(El=Pe(["(skewY)(",")"],["(skewY)\\(","\\)"])),Cl),yc=String.raw(uc||(uc=Pe(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Cl,Cl,Cl),Jl=String.raw(yl||(yl=Pe(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Cl,Cl),eu=String.raw(hu||(hu=Pe(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Cl,Cl),Pc=String.raw(Tl||(Tl=Pe(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Cl,Cl,Cl,Cl,Cl,Cl),_c="(?:".concat(Pc,"|").concat(eu,"|").concat(yc,"|").concat(Jl,"|").concat(bu,"|").concat(zl,")"),Fc="(?:".concat(_c,"*)"),wc=String.raw(ct||(ct=Pe(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Fc),Mc=new RegExp(wc),Oc=new RegExp(_c),Hc=new RegExp(_c,"g");function Rc(v){const t=[];if(!(v=Ul(v).replace(/\s*([()])\s*/gi,"$1"))||v&&!Mc.test(v))return[...He];for(const i of v.matchAll(Hc)){const s=Oc.exec(i[0]);if(!s)continue;let l=He;const u=s.filter(at=>!!at),[,g,...b]=u,[A,L,B,te,ge,Ne]=b.map(at=>parseFloat(at));switch(g){case"translate":l=Ae(A,L);break;case Yt:l=nt({angle:A},{x:L,y:B});break;case qi:l=fn(A,L);break;case Oi:l=oi(A);break;case Ei:l=Wi(A);break;case"matrix":l=[A,L,B,te,ge,Ne]}t.push(l)}return Tt(t)}function tu(v,t,i,s){const l=Array.isArray(t);let u,g=t;if(v!==Xt&&v!==rt||t!==je){if(v==="strokeUniform")return t==="non-scaling-stroke";if(v==="strokeDashArray")g=t===je?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(v==="transformMatrix")g=i&&i.transformMatrix?Z(i.transformMatrix,Rc(t)):Rc(t);else if(v==="visible")g=t!==je&&t!=="hidden",i&&i.visible===!1&&(g=!1);else if(v==="opacity")g=parseFloat(t),i&&i.opacity!==void 0&&(g*=i.opacity);else if(v==="textAnchor")g=t==="start"?et:t==="end"?pt:_t;else if(v==="charSpacing")u=fr(t,s)/s*1e3;else if(v==="paintFirst"){const b=t.indexOf(Xt),A=t.indexOf(rt);g=Xt,(b>-1&&A>-1&&A<b||b===-1&&A>-1)&&(g=rt)}else{if(v==="href"||v==="xlink:href"||v==="font"||v==="id")return t;if(v==="imageSmoothing")return t==="optimizeQuality";u=l?t.map(fr):fr(t,s)}}else g="";return!l&&isNaN(u)?g:u}function Ic(v,t){const i=v.match(Ka);if(!i)return;const s=i[1],l=i[3],u=i[4],g=i[5],b=i[6];s&&(t.fontStyle=s),l&&(t.fontWeight=isNaN(parseFloat(l))?l:parseFloat(l)),u&&(t.fontSize=fr(u)),b&&(t.fontFamily=b),g&&(t.lineHeight=g==="normal"?1:g)}function Vc(v,t){v.replace(/;\s*$/,"").split(";").forEach(i=>{if(!i)return;const[s,l]=i.split(":");t[s.trim().toLowerCase()]=l.trim()})}function Su(v){const t={},i=v.getAttribute("style");return i&&(typeof i=="string"?Vc(i,t):function(s,l){Object.entries(s).forEach(u=>{let[g,b]=u;b!==void 0&&(l[g.toLowerCase()]=b)})}(i,t)),t}const jc={stroke:"strokeOpacity",fill:"fillOpacity"};function Ql(v,t,i){if(!v)return{};let s,l={},u=Fe;v.parentNode&&Jo.test(v.parentNode.nodeName)&&(l=Ql(v.parentElement,t,i),l.fontSize&&(s=u=fr(l.fontSize)));const g=z(z(z({},t.reduce((L,B)=>{const te=v.getAttribute(B);return te&&(L[B]=te),L},{})),function(L){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te={};for(const ge in B)Il(L,ge.split(" "))&&(te=z(z({},te),B[ge]));return te}(v,i)),Su(v));g[ra]&&v.setAttribute(ra,g[ra]),g[ya]&&(s=fr(g[ya],u),g[ya]="".concat(s));const b={};for(const L in g){const B=jo(L),te=tu(B,g[L],l,s);b[B]=te}b&&b.font&&Ic(b.font,b);const A=z(z({},l),b);return Jo.test(v.nodeName)?A:function(L){const B=At.getDefaults();return Object.entries(jc).forEach(te=>{let[ge,Ne]=te;if(L[Ne]===void 0||L[ge]==="")return;if(L[ge]===void 0){if(!B[ge])return;L[ge]=B[ge]}if(L[ge].indexOf("url(")===0)return;const at=new Jr(L[ge]);L[ge]=at.setAlpha(pn(at.getAlpha()*L[Ne],2)).toRgba()}),L}(A)}const Al=["left","top","width","height","visible"],dc=["rx","ry"];class jl extends At{static getDefaults(){return z(z({},super.getDefaults()),jl.ownDefaults)}constructor(t){super(),Object.assign(this,jl.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:i}=this;t&&!i?this.ry=t:i&&!t&&(this.rx=i)}_render(t){const{width:i,height:s}=this,l=-i/2,u=-s/2,g=this.rx?Math.min(this.rx,i/2):0,b=this.ry?Math.min(this.ry,s/2):0,A=g!==0||b!==0;t.beginPath(),t.moveTo(l+g,u),t.lineTo(l+i-g,u),A&&t.bezierCurveTo(l+i-Vt*g,u,l+i,u+Vt*b,l+i,u+b),t.lineTo(l+i,u+s-b),A&&t.bezierCurveTo(l+i,u+s-Vt*b,l+i-Vt*g,u+s,l+i-g,u+s),t.lineTo(l+g,u+s),A&&t.bezierCurveTo(l+Vt*g,u+s,l,u+s-Vt*b,l,u+s-b),t.lineTo(l,u+b),A&&t.bezierCurveTo(l,u+Vt*b,l+Vt*g,u,l+g,u),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...dc,...t])}_toSVG(){const{width:t,height:i,rx:s,ry:l}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-i/2,'" rx="').concat(s,'" ry="').concat(l,'" width="').concat(t,'" height="').concat(i,`" />
`)]}static fromElement(t,i,s){return Rl(this,null,function*(){const l=Ql(t,this.ATTRIBUTE_NAMES,s),{left:u=0,top:g=0,width:b=0,height:A=0,visible:L=!0}=l,B=ie(l,Al);return new this(z(z(z({},i),B),{},{left:u,top:g,width:b,height:A,visible:!!(L&&b&&A)}))})}}a(jl,"type","Rect"),a(jl,"cacheProperties",[...N,...dc]),a(jl,"ownDefaults",{rx:0,ry:0}),a(jl,"ATTRIBUTE_NAMES",[...$o,"x","y","rx","ry","width","height"]),en.setClass(jl),en.setSVGClass(jl);const ec="initialization",Dl="added",Wc="removed",Dc="imperative",Bc=(v,t)=>{const{strokeUniform:i,strokeWidth:s,width:l,height:u,group:g}=t,b=g&&g!==v?mo(g.calcTransformMatrix(),v.calcTransformMatrix()):null,A=b?t.getRelativeCenterPoint().transform(b):t.getRelativeCenterPoint(),L=!t.isStrokeAccountedForInDimensions(),B=i&&L?ds(new Et(s,s),void 0,v.calcTransformMatrix()):vn,te=!i&&L?s:0,ge=so(l+te,u+te,Tt([b,t.calcOwnMatrix()],!0)).add(B).scalarDivide(2);return[A.subtract(ge),A.add(ge)]};class xc{calcLayoutResult(t,i){if(this.shouldPerformLayout(t))return this.calcBoundingBox(i,t)}shouldPerformLayout(t){let{type:i,prevStrategy:s,strategy:l}=t;return i===ec||i===Dc||!!s&&l!==s}shouldLayoutClipPath(t){let{type:i,target:{clipPath:s}}=t;return i!==ec&&s&&!s.absolutePositioned}getInitialSize(t,i){return i.size}calcBoundingBox(t,i){const{type:s,target:l}=i;if(s===Dc&&i.overrides)return i.overrides;if(t.length===0)return;const{left:u,top:g,width:b,height:A}=Bs(t.map(te=>Bc(l,te)).reduce((te,ge)=>te.concat(ge),[])),L=new Et(b,A),B=new Et(u,g).add(L.scalarDivide(2));if(s===ec){const te=this.getInitialSize(i,{size:L,center:B});return{center:B,relativeCorrection:new Et(0,0),size:te}}return{center:B.transform(l.calcOwnMatrix()),size:L}}}a(xc,"type","strategy");class Io extends xc{shouldPerformLayout(t){return!0}}a(Io,"type","fit-content"),en.setClass(Io);const Uc=["strategy"],hc=["target","strategy","bubbles","prevStrategy"],Ec="layoutManager";class nu{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Io;a(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){const i=z(z({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(i);const s=this.getLayoutResult(i);s&&this.commitLayout(i,s),this.onAfterLayout(i,s),this._prevLayoutStrategy=i.strategy}attachHandlers(t,i){const{target:s}=i;return[Pt,Le,Zn,zt,st,xn,si,Yn,Fn].map(l=>t.on(l,u=>this.performLayout(l===Pt?{type:"object_modified",trigger:l,e:u,target:s}:{type:"object_modifying",trigger:l,e:u,target:s})))}subscribe(t,i){this.unsubscribe(t,i);const s=this.attachHandlers(t,i);this._subscriptions.set(t,s)}unsubscribe(t,i){(this._subscriptions.get(t)||[]).forEach(s=>s()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(i=>this.unsubscribe(i,t))}subscribeTargets(t){t.targets.forEach(i=>this.subscribe(i,t))}onBeforeLayout(t){const{target:i,type:s}=t,{canvas:l}=i;if(s===ec||s===Dl?this.subscribeTargets(t):s===Wc&&this.unsubscribeTargets(t),i.fire("layout:before",{context:t}),l&&l.fire("object:layout:before",{target:i,context:t}),s===Dc&&t.deep){const u=ie(t,Uc);i.forEachObject(g=>g.layoutManager&&g.layoutManager.performLayout(z(z({},u),{},{bubbles:!1,target:g})))}}getLayoutResult(t){const{target:i,strategy:s,type:l}=t,u=s.calcLayoutResult(t,i.getObjects());if(!u)return;const g=l===ec?new Et:i.getRelativeCenterPoint(),{center:b,correction:A=new Et,relativeCorrection:L=new Et}=u,B=g.subtract(b).add(A).transform(l===ec?He:Ir(i.calcOwnMatrix()),!0).add(L);return{result:u,prevCenter:g,nextCenter:b,offset:B}}commitLayout(t,i){const{target:s}=t,{result:{size:l},nextCenter:u}=i;var g,b;s.set({width:l.x,height:l.y}),this.layoutObjects(t,i),t.type===ec?s.set({left:(g=t.x)!==null&&g!==void 0?g:u.x+l.x*vo(s.originX),top:(b=t.y)!==null&&b!==void 0?b:u.y+l.y*vo(s.originY)}):(s.setPositionByOrigin(u,_t,_t),s.setCoords(),s.set("dirty",!0))}layoutObjects(t,i){const{target:s}=t;s.forEachObject(l=>{l.group===s&&this.layoutObject(t,i,l)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,i,s.clipPath)}layoutObject(t,i,s){let{offset:l}=i;s.set({left:s.left+l.x,top:s.top+l.y})}onAfterLayout(t,i){const{target:s,strategy:l,bubbles:u,prevStrategy:g}=t,b=ie(t,hc),{canvas:A}=s;s.fire("layout:after",{context:t,result:i}),A&&A.fire("object:layout:after",{context:t,result:i,target:s});const L=s.parent;u&&L!=null&&L.layoutManager&&((b.path||(b.path=[])).push(s),L.layoutManager.performLayout(z(z({},b),{},{target:L}))),s.set("dirty",!0)}dispose(){const{_subscriptions:t}=this;t.forEach(i=>i.forEach(s=>s())),t.clear()}toObject(){return{type:Ec,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}en.setClass(nu,Ec);const Tc=["type","objects","layoutManager"];class iu extends nu{performLayout(){}}class tl extends gi(At){static getDefaults(){return z(z({},super.getDefaults()),tl.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),a(this,"_activeObjects",[]),a(this,"__objectSelectionTracker",void 0),a(this,"__objectSelectionDisposer",void 0),Object.assign(this,tl.ownDefaults),this.setOptions(i),this.groupInit(t,i)}groupInit(t,i){var s;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(l=>{this.enterGroup(l,!1)}),this.layoutManager=(s=i.layoutManager)!==null&&s!==void 0?s:new nu,this.layoutManager.performLayout({type:ec,target:this,targets:[...t],x:i.left,y:i.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(oe("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(oe("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((i,s,l)=>this.canEnterGroup(i)&&l.indexOf(i)===s)}add(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const l=this._filterObjectsBeforeEnteringGroup(i),u=super.add(...l);return this._onAfterObjectsChange(Dl,l),u}insertAt(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];const u=this._filterObjectsBeforeEnteringGroup(s),g=super.insertAt(t,...u);return this._onAfterObjectsChange(Dl,u),g}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(Wc,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,i){this.exitGroup(t,i),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,i){this.layoutManager.performLayout({type:t,targets:i,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,i){const s=this[t];return super._set(t,i),t==="canvas"&&s!==i&&(this._objects||[]).forEach(l=>{l._set(t,i)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,i){let{target:s}=i;const l=this._activeObjects;if(t)l.push(s),this._set("dirty",!0);else if(l.length>0){const u=l.indexOf(s);u>-1&&(l.splice(u,1),this._set("dirty",!0))}}_watchObject(t,i){t&&this._watchObject(!1,i),t?(i.on("selected",this.__objectSelectionTracker),i.on("deselected",this.__objectSelectionDisposer)):(i.off("selected",this.__objectSelectionTracker),i.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,i){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,i)}_enterGroup(t,i){i&&bo(t,Z(Ir(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);const s=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();s&&(s===t||t.isDescendantOf(s))&&this._activeObjects.push(t)}exitGroup(t,i){this._exitGroup(t,i),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,i){t._set("group",void 0),i||(bo(t,Z(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const s=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;s>-1&&this._activeObjects.splice(s,1)}shouldCache(){const t=At.prototype.shouldCache.call(this);if(t){for(let i=0;i<this._objects.length;i++)if(this._objects[i].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,i,s){this._renderBackground(t);for(let u=0;u<this._objects.length;u++){var l;const g=this._objects[u];(l=this.canvas)!==null&&l!==void 0&&l.preserveObjectStacking&&g.group!==this?(t.save(),t.transform(...Ir(this.calcTransformMatrix())),g.render(t),t.restore()):g.group===this&&g.render(t)}this._drawClipPath(t,this.clipPath,s)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(z({target:this,type:Dc},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,i){const s=this.includeDefaultValues;return this._objects.filter(function(l){return!l.excludeFromExport}).map(function(l){const u=l.includeDefaultValues;l.includeDefaultValues=s;const g=l[t||"toObject"](i);return l.includeDefaultValues=u,g})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const i=this.layoutManager.toObject();return z(z(z({},super.toObject(["subTargetCheck","interactive",...t])),i.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:i}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";const i=jl.prototype._toSVG.call(this),s=i.indexOf("COMMON_PARTS");i[s]='for="group" ';const l=i.join("");return t?t(l):l}_toSVG(t){const i=["<g ","COMMON_PARTS",` >
`],s=this._createSVGBgRect(t);s&&i.push("		",s);for(let l=0;l<this._objects.length;l++)i.push("		",this._objects[l].toSVG(t));return i.push(`</g>
`),i}getSvgStyles(){const t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",i=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),i].join("")}toClipPathSVG(t){const i=[],s=this._createSVGBgRect(t);s&&i.push("	",s);for(let l=0;l<this._objects.length;l++)i.push("	",this._objects[l].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(i,{reviver:t})}static fromObject(t,i){let{type:s,objects:l=[],layoutManager:u}=t,g=ie(t,Tc);return Promise.all([Tr(l,i),Dt(g,i)]).then(b=>{let[A,L]=b;const B=new this(A,z(z(z({},g),L),{},{layoutManager:new iu}));if(u){const te=en.getClass(u.type),ge=en.getClass(u.strategy);B.layoutManager=new te(new ge)}else B.layoutManager=new nu;return B.layoutManager.subscribeTargets({type:ec,target:B,targets:B.getObjects()}),B.setCoords(),B})}}a(tl,"type","Group"),a(tl,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),en.setClass(tl);const su=(v,t)=>Math.min(t.width/v.width,t.height/v.height),fu=(v,t)=>Math.max(t.width/v.width,t.height/v.height),Xl="\\s*,?\\s*",tc="".concat(Xl,"(").concat(ws,")"),Cu="".concat(tc).concat(tc).concat(tc).concat(Xl,"([01])").concat(Xl,"([01])").concat(tc).concat(tc),_u={m:"l",M:"L"},zc=(v,t,i,s,l,u,g,b,A,L,B)=>{const te=er(v),ge=Ui(v),Ne=er(t),at=Ui(t),Jt=i*l*Ne-s*u*at+g,mn=s*l*Ne+i*u*at+b;return["C",L+A*(-i*l*ge-s*u*te),B+A*(-s*l*ge+i*u*te),Jt+A*(i*l*at+s*u*Ne),mn+A*(s*l*at-i*u*Ne),Jt,mn]},fc=(v,t,i,s)=>{const l=Math.atan2(t,v),u=Math.atan2(s,i);return u>=l?u-l:2*Math.PI-(l-u)};function m(v,t,i,s,l,u,g,b){let A;if(J.cachesBoundsOfCurve&&(A=[...arguments].join(),xt.boundsOfCurveCache[A]))return xt.boundsOfCurveCache[A];const L=Math.sqrt,B=Math.abs,te=[],ge=[[0,0],[0,0]];let Ne=6*v-12*i+6*l,at=-3*v+9*i-9*l+3*g,Jt=3*i-3*v;for(let dr=0;dr<2;++dr){if(dr>0&&(Ne=6*t-12*s+6*u,at=-3*t+9*s-9*u+3*b,Jt=3*s-3*t),B(at)<1e-12){if(B(Ne)<1e-12)continue;const Aa=-Jt/Ne;0<Aa&&Aa<1&&te.push(Aa);continue}const ns=Ne*Ne-4*Jt*at;if(ns<0)continue;const no=L(ns),Yo=(-Ne+no)/(2*at);0<Yo&&Yo<1&&te.push(Yo);const Zs=(-Ne-no)/(2*at);0<Zs&&Zs<1&&te.push(Zs)}let mn=te.length;const En=mn,Vi=Te(v,t,i,s,l,u,g,b);for(;mn--;){const{x:dr,y:ns}=Vi(te[mn]);ge[0][mn]=dr,ge[1][mn]=ns}ge[0][En]=v,ge[1][En]=t,ge[0][En+1]=g,ge[1][En+1]=b;const Mr=[new Et(Math.min(...ge[0]),Math.min(...ge[1])),new Et(Math.max(...ge[0]),Math.max(...ge[1]))];return J.cachesBoundsOfCurve&&(xt.boundsOfCurveCache[A]=Mr),Mr}const R=(v,t,i)=>{let[s,l,u,g,b,A,L,B]=i;const te=((ge,Ne,at,Jt,mn,En,Vi)=>{if(at===0||Jt===0)return[];let Mr=0,dr=0,ns=0;const no=Math.PI,Yo=Vi*Bt,Zs=Ui(Yo),Aa=er(Yo),ol=.5*(-Aa*ge-Zs*Ne),ga=.5*(-Aa*Ne+Zs*ge),La=Ko(at,2),xs=Ko(Jt,2),us=Ko(ga,2),Xa=Ko(ol,2),Na=La*xs-La*us-xs*Xa;let Ca=Math.abs(at),aa=Math.abs(Jt);if(Na<0){const Nc=Math.sqrt(1-Na/(La*xs));Ca*=Nc,aa*=Nc}else ns=(mn===En?-1:1)*Math.sqrt(Na/(La*us+xs*Xa));const _l=ns*Ca*ga/aa,wl=-ns*aa*ol/Ca,vc=Aa*_l-Zs*wl+.5*ge,Ac=Zs*_l+Aa*wl+.5*Ne;let Kl=fc(1,0,(ol-_l)/Ca,(ga-wl)/aa),oc=fc((ol-_l)/Ca,(ga-wl)/aa,(-ol-_l)/Ca,(-ga-wl)/aa);En===0&&oc>0?oc-=2*no:En===1&&oc<0&&(oc+=2*no);const ac=Math.ceil(Math.abs(oc/no*2)),Kc=[],ru=oc/ac,Du=8/3*Math.sin(ru/4)*Math.sin(ru/4)/Math.sin(ru/2);let wu=Kl+ru;for(let Nc=0;Nc<ac;Nc++)Kc[Nc]=zc(Kl,wu,Aa,Zs,Ca,aa,vc,Ac,Du,Mr,dr),Mr=Kc[Nc][5],dr=Kc[Nc][6],Kl=wu,wu+=ru;return Kc})(L-v,B-t,l,u,b,A,g);for(let ge=0,Ne=te.length;ge<Ne;ge++)te[ge][1]+=v,te[ge][2]+=t,te[ge][3]+=v,te[ge][4]+=t,te[ge][5]+=v,te[ge][6]+=t;return te},C=v=>{let t=0,i=0,s=0,l=0;const u=[];let g,b=0,A=0;for(const L of v){const B=[...L];let te;switch(B[0]){case"l":B[1]+=t,B[2]+=i;case"L":t=B[1],i=B[2],te=["L",t,i];break;case"h":B[1]+=t;case"H":t=B[1],te=["L",t,i];break;case"v":B[1]+=i;case"V":i=B[1],te=["L",t,i];break;case"m":B[1]+=t,B[2]+=i;case"M":t=B[1],i=B[2],s=B[1],l=B[2],te=["M",t,i];break;case"c":B[1]+=t,B[2]+=i,B[3]+=t,B[4]+=i,B[5]+=t,B[6]+=i;case"C":b=B[3],A=B[4],t=B[5],i=B[6],te=["C",B[1],B[2],b,A,t,i];break;case"s":B[1]+=t,B[2]+=i,B[3]+=t,B[4]+=i;case"S":g==="C"?(b=2*t-b,A=2*i-A):(b=t,A=i),t=B[3],i=B[4],te=["C",b,A,B[1],B[2],t,i],b=te[3],A=te[4];break;case"q":B[1]+=t,B[2]+=i,B[3]+=t,B[4]+=i;case"Q":b=B[1],A=B[2],t=B[3],i=B[4],te=["Q",b,A,t,i];break;case"t":B[1]+=t,B[2]+=i;case"T":g==="Q"?(b=2*t-b,A=2*i-A):(b=t,A=i),t=B[1],i=B[2],te=["Q",b,A,t,i];break;case"a":B[6]+=t,B[7]+=i;case"A":R(t,i,B).forEach(ge=>u.push(ge)),t=B[6],i=B[7];break;case"z":case"Z":t=s,i=l,te=["Z"]}te?(u.push(te),g=te[0]):g=""}return u},X=(v,t,i,s)=>Math.sqrt(Ko(i-v,2)+Ko(s-t,2)),Te=(v,t,i,s,l,u,g,b)=>A=>{const L=Ko(A,3),B=(Ne=>3*Ko(Ne,2)*(1-Ne))(A),te=(Ne=>3*Ne*Ko(1-Ne,2))(A),ge=(Ne=>Ko(1-Ne,3))(A);return new Et(g*L+l*B+i*te+v*ge,b*L+u*B+s*te+t*ge)},be=v=>Ko(v,2),St=v=>2*v*(1-v),We=v=>Ko(1-v,2),wn=(v,t,i,s,l,u,g,b)=>A=>{const L=be(A),B=St(A),te=We(A),ge=3*(te*(i-v)+B*(l-i)+L*(g-l)),Ne=3*(te*(s-t)+B*(u-s)+L*(b-u));return Math.atan2(Ne,ge)},nn=(v,t,i,s,l,u)=>g=>{const b=be(g),A=St(g),L=We(g);return new Et(l*b+i*A+v*L,u*b+s*A+t*L)},On=(v,t,i,s,l,u)=>g=>{const b=1-g,A=2*(b*(i-v)+g*(l-i)),L=2*(b*(s-t)+g*(u-s));return Math.atan2(L,A)},Zt=(v,t,i)=>{let s=new Et(t,i),l=0;for(let u=1;u<=100;u+=1){const g=v(u/100);l+=X(s.x,s.y,g.x,g.y),s=g}return l},Qt=(v,t)=>{let i,s=0,l=0,u={x:v.x,y:v.y},g=z({},u),b=.01,A=0;const L=v.iterator,B=v.angleFinder;for(;l<t&&b>1e-4;)g=L(s),A=s,i=X(u.x,u.y,g.x,g.y),i+l>t?(s-=b,b/=2):(u=g,s+=b,l+=i);return z(z({},g),{},{angle:B(A)})},on=v=>{let t,i,s=0,l=0,u=0,g=0,b=0;const A=[];for(const L of v){const B={x:l,y:u,command:L[0],length:0};switch(L[0]){case"M":i=B,i.x=g=l=L[1],i.y=b=u=L[2];break;case"L":i=B,i.length=X(l,u,L[1],L[2]),l=L[1],u=L[2];break;case"C":t=Te(l,u,L[1],L[2],L[3],L[4],L[5],L[6]),i=B,i.iterator=t,i.angleFinder=wn(l,u,L[1],L[2],L[3],L[4],L[5],L[6]),i.length=Zt(t,l,u),l=L[5],u=L[6];break;case"Q":t=nn(l,u,L[1],L[2],L[3],L[4]),i=B,i.iterator=t,i.angleFinder=On(l,u,L[1],L[2],L[3],L[4]),i.length=Zt(t,l,u),l=L[3],u=L[4];break;case"Z":i=B,i.destX=g,i.destY=b,i.length=X(l,u,g,b),l=g,u=b}s+=i.length,A.push(i)}return A.push({length:s,x:l,y:u}),A},Qn=function(v,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:on(v),s=0;for(;t-i[s].length>0&&s<i.length-2;)t-=i[s].length,s++;const l=i[s],u=t/l.length,g=v[s];switch(l.command){case"M":return{x:l.x,y:l.y,angle:0};case"Z":return z(z({},new Et(l.x,l.y).lerp(new Et(l.destX,l.destY),u)),{},{angle:Math.atan2(l.destY-l.y,l.destX-l.x)});case"L":return z(z({},new Et(l.x,l.y).lerp(new Et(g[1],g[2]),u)),{},{angle:Math.atan2(g[2]-l.y,g[1]-l.x)});case"C":case"Q":return Qt(l,t)}},Sn=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Re=new RegExp(Cu,"g"),he=new RegExp(ws,"gi"),Pn={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},ln=v=>{var t;const i=[],s=(t=v.match(Sn))!==null&&t!==void 0?t:[];for(const l of s){const u=l[0];if(u==="z"||u==="Z"){i.push([u]);continue}const g=Pn[u.toLowerCase()];let b=[];if(u==="a"||u==="A"){Re.lastIndex=0;for(let A=null;A=Re.exec(l);)b.push(...A.slice(1))}else b=l.match(he)||[];for(let A=0;A<b.length;A+=g){const L=new Array(g),B=_u[u];L[0]=A>0&&B?B:u;for(let te=0;te<g;te++)L[te+1]=parseFloat(b[A+te]);i.push(L)}}return i},jt=function(v){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=new Et(v[0]),s=new Et(v[1]),l=1,u=0;const g=[],b=v.length,A=b>2;let L;for(A&&(l=v[2].x<s.x?-1:v[2].x===s.x?0:1,u=v[2].y<s.y?-1:v[2].y===s.y?0:1),g.push(["M",i.x-l*t,i.y-u*t]),L=1;L<b;L++){if(!i.eq(s)){const B=i.midPointFrom(s);g.push(["Q",i.x,i.y,B.x,B.y])}i=v[L],L+1<v.length&&(s=v[L+1])}return A&&(l=i.x>v[L-2].x?1:i.x===v[L-2].x?0:-1,u=i.y>v[L-2].y?1:i.y===v[L-2].y?0:-1),g.push(["L",i.x+l*t,i.y+u*t]),g},_i=(v,t)=>v.map(i=>i.map((s,l)=>l===0||t===void 0?s:pn(s,t)).join(" ")).join(" ");function Cn(v,t){const i=v.style;i&&t&&(typeof t=="string"?i.cssText+=";"+t:Object.entries(t).forEach(s=>{let[l,u]=s;return i.setProperty(l,u)}))}const Nn=(v,t)=>Math.floor(Math.random()*(t-v+1))+v;function wi(v){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=t.onComplete||re,s=new(Oe()).XMLHttpRequest,l=t.signal,u=function(){s.abort()},g=function(){l&&l.removeEventListener("abort",u),s.onerror=s.ontimeout=re};if(l&&l.aborted)throw new Me("request");return l&&l.addEventListener("abort",u,{once:!0}),s.onreadystatechange=function(){s.readyState===4&&(g(),i(s),s.onreadystatechange=re)},s.onerror=s.ontimeout=g,s.open("get",v,!0),s.send(),s}const Ke=(v,t)=>{let i=v._findCenterFromElement();v.transformMatrix&&((s=>{if(s.transformMatrix){const{scaleX:l,scaleY:u,angle:g,skewX:b}=ve(s.transformMatrix);s.flipX=!1,s.flipY=!1,s.set(li,l),s.set(fi,u),s.angle=g,s.skewX=b,s.skewY=0}})(v),i=i.transform(v.transformMatrix)),delete v.transformMatrix,t&&(v.scaleX*=t.scaleX,v.scaleY*=t.scaleY,v.cropX=t.cropX,v.cropY=t.cropY,i.x+=t.offsetLeft,i.y+=t.offsetTop,v.width=t.width,v.height=t.height),v.setPositionByOrigin(i,_t,_t)};var Ue=Object.freeze({__proto__:null,addTransformToObject:Bo,animate:Je,animateColor:ht,applyTransformToObject:bo,calcAngleBetweenVectors:Q,calcDimensionsMatrix:Cr,calcPlaneChangeMatrix:mo,calcVectorRotation:Ze,cancelAnimFrame:Es,capValue:P,composeMatrix:Ur,copyCanvasElement:v=>{var t;const i=pi(v);return(t=i.getContext("2d"))===null||t===void 0||t.drawImage(v,0,0),i},cos:er,createCanvasElement:kt,createImage:cn,createRotateMatrix:nt,createScaleMatrix:fn,createSkewXMatrix:oi,createSkewYMatrix:Wi,createTranslateMatrix:Ae,createVector:H,crossProduct:_n,degreesToRadians:Zi,dotProduct:Hn,ease:Ut,enlivenObjectEnlivables:Dt,enlivenObjects:Tr,findScaleToCover:fu,findScaleToFit:su,getBoundsOfCurve:m,getOrthonormalVector:tn,getPathSegmentsInfo:on,getPointOnPath:Qn,getPointer:ro,getRandomInt:Nn,getRegularPolygonPath:(v,t)=>{const i=2*Math.PI/v;let s=-Rt;v%2==0&&(s+=i/2);const l=new Array(v+1);for(let u=0;u<v;u++){const g=u*i+s,{x:b,y:A}=new Et(er(g),Ui(g)).scalarMultiply(t);l[u]=[u===0?"M":"L",b,A]}return l[v]=["Z"],l},getSmoothPathFromPoints:jt,getSvgAttributes:v=>{const t=["instantiated_by_use","style","id","class"];switch(v){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:lt,groupSVGElements:(v,t)=>v&&v.length===1?v[0]:new tl(v,t),hasStyleChanged:Vo,invertTransform:Ir,isBetweenVectors:dn,isIdentityMatrix:bi,isTouchEvent:ua,isTransparent:Gt,joinPath:_i,loadImage:Lr,magnitude:ae,makeBoundingBoxFromPoints:Bs,makePathSimpler:C,matrixToSVG:ci,mergeClipPaths:(v,t)=>{var i;let s=v,l=t;s.inverted&&!l.inverted&&(s=t,l=v),Oo(l,(i=l.group)===null||i===void 0?void 0:i.calcTransformMatrix(),s.calcTransformMatrix());const u=s.inverted&&l.inverted;return u&&(s.inverted=l.inverted=!1),new tl([s],{clipPath:l,inverted:u})},multiplyTransformMatrices:Z,multiplyTransformMatrixArray:Tt,parsePath:ln,parsePreserveAspectRatioAttribute:ai,parseUnit:fr,pick:kn,projectStrokeOnPoints:ui,qrDecompose:ve,radiansToDegrees:$n,removeFromArray:tr,removeTransformFromObject:(v,t)=>{const i=Ir(t),s=Z(i,v.calcOwnMatrix());bo(v,s)},removeTransformMatrixForSvgParsing:Ke,request:wi,requestAnimFrame:hr,resetObjectTransform:$r,rotatePoint:(v,t,i)=>v.rotate(i,t),rotateVector:Y,saveObjectTransform:So,sendObjectToPlane:Oo,sendPointToPlane:Us,sendVectorToPlane:ds,setStyle:Cn,sin:Ui,sizeAfterTransform:so,string:Ss,stylesFromArray:pa,stylesToArray:Ea,toBlob:mi,toDataURL:nr,toFixed:pn,transformPath:(v,t,i)=>(i&&(t=Z(t,[1,0,0,1,-i.x,-i.y])),v.map(s=>{const l=[...s];for(let u=1;u<s.length-1;u+=2){const{x:g,y:b}=Sr({x:s[u],y:s[u+1]},t);l[u]=g,l[u+1]=b}return l})),transformPoint:Sr});class un extends Ns{constructor(t){let{allowTouchScrolling:i=!1,containerClass:s=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),a(this,"upper",void 0),a(this,"container",void 0);const{el:l}=this.lower,u=this.createUpperCanvas();this.upper={el:u,ctx:u.getContext("2d")},this.applyCanvasStyle(l,{allowTouchScrolling:i}),this.applyCanvasStyle(u,{allowTouchScrolling:i,styles:{position:"absolute",left:"0",top:"0"}});const g=this.createContainerElement();g.classList.add(s),l.parentNode&&l.parentNode.replaceChild(g,l),g.append(l,u),this.container=g}createUpperCanvas(){const{el:t}=this.lower,i=kt();return i.className=t.className,i.classList.remove("lower-canvas"),i.classList.add("upper-canvas"),i.setAttribute("data-fabric","top"),i.style.cssText=t.style.cssText,i.setAttribute("draggable","true"),i}createContainerElement(){const t=vt().createElement("div");return t.setAttribute("data-fabric","wrapper"),Cn(t,{position:"relative"}),Ts(t),t}applyCanvasStyle(t,i){const{styles:s,allowTouchScrolling:l}=i;Cn(t,z(z({},s),{},{"touch-action":l?"manipulation":je})),Ts(t)}setDimensions(t,i){super.setDimensions(t,i);const{el:s,ctx:l}=this.upper;zr(s,l,t,i)}setCSSDimensions(t){super.setCSSDimensions(t),io(this.upper.el,t),io(this.container,t)}cleanupDOM(t){const i=this.container,{el:s}=this.lower,{el:l}=this.upper;super.cleanupDOM(t),i.removeChild(l),i.removeChild(s),i.parentNode&&i.parentNode.replaceChild(s,i)}dispose(){super.dispose(),Ye().dispose(this.upper.el),delete this.upper,delete this.container}}class ki extends Ao{constructor(){super(...arguments),a(this,"targets",[]),a(this,"_hoveredTargets",[]),a(this,"_objectsToRender",void 0),a(this,"_currentTransform",null),a(this,"_groupSelector",null),a(this,"contextTopDirty",!1)}static getDefaults(){return z(z({},super.getDefaults()),ki.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new un(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(i=>!i.group&&i!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const i=this.getRetinaScaling(),s=Math.ceil((2*t+1)*i);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=s,this.pixelFindContext.scale(i,i)}isTargetTransparent(t,i,s){const l=this.targetFindTolerance,u=this.pixelFindContext;this.clearContext(u),u.save(),u.translate(-i+l,-s+l),u.transform(...this.viewportTransform);const g=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(u),t.selectionBackgroundColor=g,u.restore();const b=Math.round(l*this.getRetinaScaling());return Gt(u,b,b,b)}_isSelectionKeyPressed(t){const i=this.selectionKey;return!!i&&(Array.isArray(i)?!!i.find(s=>!!s&&t[s]===!0):t[i])}_shouldClearSelection(t,i){const s=this.getActiveObjects(),l=this._activeObject;return!!(!i||i&&l&&s.length>1&&s.indexOf(i)===-1&&l!==i&&!this._isSelectionKeyPressed(t)||i&&!i.evented||i&&!i.selectable&&l&&l!==i)}_shouldCenterTransform(t,i,s){if(!t)return;let l;return i===qi||i===li||i===fi||i===Zn?l=this.centeredScaling||t.centeredScaling:i===Yt&&(l=this.centeredRotation||t.centeredRotation),l?!s:s}_getOriginFromCorner(t,i){const s={x:t.originX,y:t.originY};return i&&(["ml","tl","bl"].includes(i)?s.x=pt:["mr","tr","br"].includes(i)&&(s.x=et),["tl","mt","tr"].includes(i)?s.y=wt:["bl","mb","br"].includes(i)&&(s.y=Kt)),s}_setupCurrentTransform(t,i,s){var l;const u=i.group?Us(this.getScenePoint(t),void 0,i.group.calcTransformMatrix()):this.getScenePoint(t),{key:g="",control:b}=i.getActiveControl()||{},A=s&&b?(l=b.getActionHandler(t,i,b))===null||l===void 0?void 0:l.bind(b):fs,L=((Ne,at,Jt,mn)=>{if(!at||!Ne)return"drag";const En=mn.controls[at];return En.getActionName(Jt,En,mn)})(s,g,t,i),B=t[this.centeredKey],te=this._shouldCenterTransform(i,L,B)?{x:_t,y:_t}:this._getOriginFromCorner(i,g),ge={target:i,action:L,actionHandler:A,actionPerformed:!1,corner:g,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,offsetX:u.x-i.left,offsetY:u.y-i.top,originX:te.x,originY:te.y,ex:u.x,ey:u.y,lastX:u.x,lastY:u.y,theta:Zi(i.angle),width:i.width,height:i.height,shiftKey:t.shiftKey,altKey:B,original:z(z({},So(i)),{},{originX:te.x,originY:te.y})};this._currentTransform=ge,this.fire("before:transform",{e:t,transform:ge})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:i,y:s,deltaX:l,deltaY:u}=this._groupSelector,g=new Et(i,s).transform(this.viewportTransform),b=new Et(i+l,s+u).transform(this.viewportTransform),A=this.selectionLineWidth/2;let L=Math.min(g.x,b.x),B=Math.min(g.y,b.y),te=Math.max(g.x,b.x),ge=Math.max(g.y,b.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(L,B,te-L,ge-B)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,L+=A,B+=A,te-=A,ge-=A,At.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(L,B,te-L,ge-B))}findTarget(t){if(this.skipTargetFind)return;const i=this.getViewportPoint(t),s=this._activeObject,l=this.getActiveObjects();if(this.targets=[],s&&l.length>=1){if(s.findControl(i,ua(t))||l.length>1&&this.searchPossibleTargets([s],i))return s;if(s===this.searchPossibleTargets([s],i)){if(this.preserveObjectStacking){const u=this.targets;this.targets=[];const g=this.searchPossibleTargets(this._objects,i);return t[this.altSelectionKey]&&g&&g!==s?(this.targets=u,s):g}return s}}return this.searchPossibleTargets(this._objects,i)}_pointIsInObjectSelectionArea(t,i){let s=t.getCoords();const l=this.getZoom(),u=t.padding/l;if(u){const[g,b,A,L]=s,B=Math.atan2(b.y-g.y,b.x-g.x),te=er(B)*u,ge=Ui(B)*u,Ne=te+ge,at=te-ge;s=[new Et(g.x-at,g.y-Ne),new Et(b.x+Ne,b.y-at),new Et(A.x+at,A.y+Ne),new Et(L.x-Ne,L.y+at)]}return Ft.isPointInPolygon(i,s)}_checkTarget(t,i){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,Us(i,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,i.x,i.y)))}_searchPossibleTargets(t,i){let s=t.length;for(;s--;){const l=t[s];if(this._checkTarget(l,i)){if(Mn(l)&&l.subTargetCheck){const u=this._searchPossibleTargets(l._objects,i);u&&this.targets.push(u)}return l}}}searchPossibleTargets(t,i){const s=this._searchPossibleTargets(t,i);if(s&&Mn(s)&&s.interactive&&this.targets[0]){const l=this.targets;for(let u=l.length-1;u>0;u--){const g=l[u];if(!Mn(g)||!g.interactive)return g}return l[0]}return s}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const s=this.upperCanvasEl,l=s.getBoundingClientRect();let u=ro(t),g=l.width||0,b=l.height||0;g&&b||(Kt in l&&wt in l&&(b=Math.abs(l.top-l.bottom)),pt in l&&et in l&&(g=Math.abs(l.right-l.left))),this.calcOffset(),u.x=u.x-this._offset.left,u.y=u.y-this._offset.top,i||(u=Us(u,void 0,this.viewportTransform));const A=this.getRetinaScaling();A!==1&&(u.x/=A,u.y/=A);const L=g===0||b===0?new Et(1,1):new Et(s.width/g,s.height/b);return u.multiply(L)}_setDimensionsImpl(t,i){this._resetTransformEventData(),super._setDimensionsImpl(t,i),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=kt(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return Nr(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,i){let s=!1,l=!1;const u=this.getActiveObjects(),g=[],b=[];t.forEach(A=>{u.includes(A)||(s=!0,A.fire("deselected",{e:i,target:A}),b.push(A))}),u.forEach(A=>{t.includes(A)||(s=!0,A.fire("selected",{e:i,target:A}),g.push(A))}),t.length>0&&u.length>0?(l=!0,s&&this.fire("selection:updated",{e:i,selected:g,deselected:b})):u.length>0?(l=!0,this.fire("selection:created",{e:i,selected:g})):t.length>0&&(l=!0,this.fire("selection:cleared",{e:i,deselected:b})),l&&(this._objectsToRender=void 0)}setActiveObject(t,i){const s=this.getActiveObjects(),l=this._setActiveObject(t,i);return this._fireSelectionEvents(s,i),l}_setActiveObject(t,i){const s=this._activeObject;return s!==t&&!(!this._discardActiveObject(i,t)&&this._activeObject)&&!t.onSelect({e:i})&&(this._activeObject=t,Nr(t)&&s!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,i){const s=this._activeObject;return!!s&&!s.onDeselect({e:t,object:i})&&(this._currentTransform&&this._currentTransform.target===s&&this.endCurrentTransform(t),Nr(s)&&s===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){const i=this.getActiveObjects(),s=this.getActiveObject();i.length&&this.fire("before:selection:cleared",{e:t,deselected:[s]});const l=this._discardActiveObject(t);return this._fireSelectionEvents(i,t),l}endCurrentTransform(t){const i=this._currentTransform;this._finalizeCurrentTransform(t),i&&i.target&&(i.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const i=this._currentTransform,s=i.target,l={e:t,target:s,transform:i,action:i.action};s._scaling&&(s._scaling=!1),s.setCoords(),i.actionPerformed&&(this.fire("object:modified",l),s.fire(Pt,l))}setViewportTransform(t){super.setViewportTransform(t);const i=this._activeObject;i&&i.setCoords()}destroy(){const t=this._activeObject;Nr(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const i=this._activeObject;i&&i._renderControls(t)}_toObject(t,i,s){const l=this._realizeGroupTransformOnObject(t),u=super._toObject(t,i,s);return t.set(l),u}_realizeGroupTransformOnObject(t){const{group:i}=t;if(i&&Nr(i)&&this._activeObject===i){const s=kn(t,["angle","flipX","flipY",et,li,fi,Oi,Ei,Kt]);return Bo(t,i.calcOwnMatrix()),s}return{}}_setSVGObject(t,i,s){const l=this._realizeGroupTransformOnObject(i);super._setSVGObject(t,i,s),i.set(l)}}a(ki,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class Mi{constructor(t){a(this,"targets",[]),a(this,"__disposer",void 0);const i=()=>{const{hiddenTextarea:l}=t.getActiveObject()||{};l&&l.focus()},s=t.upperCanvasEl;s.addEventListener("click",i),this.__disposer=()=>s.removeEventListener("click",i)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),tr(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var i;!((i=this.target)===null||i===void 0)&&i.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const Rn=["target","oldTarget","fireCanvas","e"],Li={passive:!1},Ai=(v,t)=>{const i=v.getViewportPoint(t),s=v.getScenePoint(t);return{viewportPoint:i,scenePoint:s,pointer:i,absolutePointer:s}},yr=function(v){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return v.addEventListener(...i)},Wn=function(v){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return v.removeEventListener(...i)},Os={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class yo extends ki{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),a(this,"_isClick",void 0),a(this,"textEditingManager",new Mi(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(i=>{this[i]=this[i].bind(this)}),this.addOrRemove(yr,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,i){const s=this.upperCanvasEl,l=this._getEventPrefix();t(cs(s),"resize",this._onResize),t(s,l+"down",this._onMouseDown),t(s,"".concat(l,"move"),this._onMouseMove,Li),t(s,"".concat(l,"out"),this._onMouseOut),t(s,"".concat(l,"enter"),this._onMouseEnter),t(s,"wheel",this._onMouseWheel),t(s,"contextmenu",this._onContextMenu),t(s,"click",this._onClick),t(s,"dblclick",this._onClick),t(s,"dragstart",this._onDragStart),t(s,"dragend",this._onDragEnd),t(s,"dragover",this._onDragOver),t(s,"dragenter",this._onDragEnter),t(s,"dragleave",this._onDragLeave),t(s,"drop",this._onDrop),this.enablePointerEvents||t(s,"touchstart",this._onTouchStart,Li)}removeListeners(){this.addOrRemove(Wn,"remove");const t=this._getEventPrefix(),i=Zr(this.upperCanvasEl);Wn(i,"".concat(t,"up"),this._onMouseUp),Wn(i,"touchend",this._onTouchEnd,Li),Wn(i,"".concat(t,"move"),this._onMouseMove,Li),Wn(i,"touchmove",this._onMouseMove,Li),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const i=this._hoveredTarget,s=z({e:t},Ai(this,t));this.fire("mouse:out",z(z({},s),{},{target:i})),this._hoveredTarget=void 0,i&&i.fire("mouseout",z({},s)),this._hoveredTargets.forEach(l=>{this.fire("mouse:out",z(z({},s),{},{target:l})),l&&l.fire("mouseout",z({},s))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",z({e:t},Ai(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const i=this.getActiveObject();if(i&&i.onDragStart(t)){this._dragSource=i;const s={e:t,target:i};return this.fire("dragstart",s),i.fire("dragstart",s),void yr(this.upperCanvasEl,"drag",this._onDragProgress)}Mo(t)}_renderDragEffects(t,i,s){let l=!1;const u=this._dropTarget;u&&u!==i&&u!==s&&(u.clearContextTop(),l=!0),i==null||i.clearContextTop(),s!==i&&(s==null||s.clearContextTop());const g=this.contextTop;g.save(),g.transform(...this.viewportTransform),i&&(g.save(),i.transform(g),i.renderDragSourceEffect(t),g.restore(),l=!0),s&&(g.save(),s.transform(g),s.renderDropTargetEffect(t),g.restore(),l=!0),g.restore(),l&&(this.contextTopDirty=!0)}_onDragEnd(t){const i=!!t.dataTransfer&&t.dataTransfer.dropEffect!==je,s=i?this._activeObject:void 0,l={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:i,dropTarget:s};Wn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",l),this._dragSource&&this._dragSource.fire("dragend",l),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const i={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",i),this._dragSource&&this._dragSource.fire("drag",i)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const i="dragover",{target:s,targets:l}=this.findDragTargets(t),u=this._dragSource,g={e:t,target:s,subTargets:l,dragSource:u,canDrop:!1,dropTarget:void 0};let b;this.fire(i,g),this._fireEnterLeaveEvents(s,g),s&&(s.canDrop(t)&&(b=s),s.fire(i,g));for(let A=0;A<l.length;A++){const L=l[A];L.canDrop(t)&&(b=L),L.fire(i,g)}this._renderDragEffects(t,u,b),this._dropTarget=b}_onDragEnter(t){const{target:i,targets:s}=this.findDragTargets(t),l={e:t,target:i,subTargets:s,dragSource:this._dragSource};this.fire("dragenter",l),this._fireEnterLeaveEvents(i,l)}_onDragLeave(t){const i={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",i),this._fireEnterLeaveEvents(void 0,i),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:i,targets:s}=this.findDragTargets(t),l=this._basicEventHandler("drop:before",z({e:t,target:i,subTargets:s,dragSource:this._dragSource},Ai(this,t)));l.didDrop=!1,l.dropTarget=void 0,this._basicEventHandler("drop",l),this.fire("drop:after",l)}_onContextMenu(t){const i=this.findTarget(t),s=this.targets||[],l=this._basicEventHandler("contextmenu:before",{e:t,target:i,subTargets:s});return this.stopContextMenu&&Mo(t),this._basicEventHandler("contextmenu",l),!1}_onClick(t){const i=t.detail;i>3||i<2||(this._cacheTransformEventData(t),i==2&&t.type==="dblclick"&&this._handleEvent(t,"dblclick"),i==3&&this._handleEvent(t,"tripleclick"),this._resetTransformEventData())}getPointerId(t){const i=t.changedTouches;return i?i[0]&&i[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let i=!this.allowTouchScrolling;const s=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||s&&this._target===s)&&(i=!0),i&&t.preventDefault(),this._resetTransformEventData();const l=this.upperCanvasEl,u=this._getEventPrefix(),g=Zr(l);yr(g,"touchend",this._onTouchEnd,Li),i&&yr(g,"touchmove",this._onMouseMove,Li),Wn(l,"".concat(u,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix();Wn(i,"".concat(s,"move"),this._onMouseMove,Li);const l=Zr(i);yr(l,"".concat(s,"up"),this._onMouseUp),yr(l,"".concat(s,"move"),this._onMouseMove,Li)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const i=this._getEventPrefix(),s=Zr(this.upperCanvasEl);Wn(s,"touchend",this._onTouchEnd,Li),Wn(s,"touchmove",this._onMouseMove,Li),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{yr(this.upperCanvasEl,"".concat(i,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const i=this.upperCanvasEl,s=this._getEventPrefix();if(this._isMainEvent(t)){const l=Zr(this.upperCanvasEl);Wn(l,"".concat(s,"up"),this._onMouseUp),Wn(l,"".concat(s,"move"),this._onMouseMove,Li),yr(i,"".concat(s,"move"),this._onMouseMove,Li)}}_onMouseMove(t){const i=this.getActiveObject();!this.allowTouchScrolling&&(!i||!i.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const i=this.getActiveObject();return!!i!=!!t||i&&t&&i!==t}__onMouseUp(t){var i;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");const s=this._currentTransform,l=this._isClick,u=this._target,{button:g}=t;if(g)return(this.fireMiddleClick&&g===1||this.fireRightClick&&g===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let b,A,L=!1;if(s&&(this._finalizeCurrentTransform(t),L=s.actionPerformed),!l){const B=u===this._activeObject;this.handleSelection(t),L||(L=this._shouldRender(u)||!B&&u===this._activeObject)}if(u){const B=u.findControl(this.getViewportPoint(t),ua(t)),{key:te,control:ge}=B||{};if(A=te,u.selectable&&u!==this._activeObject&&u.activeOn==="up")this.setActiveObject(u,t),L=!0;else if(ge){const Ne=ge.getMouseUpHandler(t,u,ge);Ne&&(b=this.getScenePoint(t),Ne.call(ge,t,s,b.x,b.y))}u.isMoving=!1}if(s&&(s.target!==u||s.corner!==A)){const B=s.target&&s.target.controls[s.corner],te=B&&B.getMouseUpHandler(t,s.target,B);b=b||this.getScenePoint(t),te&&te.call(B,t,s,b.x,b.y)}this._setCursorFromEvent(t,u),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,u&&(u.__corner=void 0),L?this.requestRenderAll():l||(i=this._activeObject)!==null&&i!==void 0&&i.isEditing||this.renderTop()}_basicEventHandler(t,i){const{target:s,subTargets:l=[]}=i;this.fire(t,i),s&&s.fire(t,i);for(let u=0;u<l.length;u++)l[u]!==s&&l[u].fire(t,i);return i}_handleEvent(t,i,s){const l=this._target,u=this.targets||[],g=z(z(z({e:t,target:l,subTargets:u},Ai(this,t)),{},{transform:this._currentTransform},i==="up:before"||i==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{}),i==="down:before"||i==="down"?s:{});this.fire("mouse:".concat(i),g),l&&l.fire("mouse".concat(i),g);for(let b=0;b<u.length;b++)u[b]!==l&&u[b].fire("mouse".concat(i),g)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const i=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(i,{e:t,pointer:i}),this._handleEvent(t,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const i=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(i,{e:t,pointer:i})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){const i=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:i}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let i=this._target,s=!!i&&i===this._activeObject;const{button:l}=t;if(l)return(this.fireMiddleClick&&l===1||this.fireRightClick&&l===2)&&this._handleEvent(t,"down",{alreadySelected:s}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let u=this._shouldRender(i),g=!1;if(this.handleMultiSelection(t,i)?(i=this._activeObject,g=!0,u=!0):this._shouldClearSelection(t,i)&&this.discardActiveObject(t),this.selection&&(!i||!i.selectable&&!i.isEditing&&i!==this._activeObject)){const b=this.getScenePoint(t);this._groupSelector={x:b.x,y:b.y,deltaY:0,deltaX:0}}if(s=!!i&&i===this._activeObject,i){i.selectable&&i.activeOn==="down"&&this.setActiveObject(i,t);const b=i.findControl(this.getViewportPoint(t),ua(t));if(i===this._activeObject&&(b||!g)){this._setupCurrentTransform(t,i,s);const A=b?b.control:void 0,L=this.getScenePoint(t),B=A&&A.getMouseDownHandler(t,i,A);B&&B.call(A,t,this._currentTransform,L.x,L.y)}}u&&(this._objectsToRender=void 0),this._handleEvent(t,"down",{alreadySelected:s}),u&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=Us(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const i=this._groupSelector;if(i){const s=this.getScenePoint(t);i.deltaX=s.x-i.x,i.deltaY=s.y-i.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const s=this.findTarget(t);this._setCursorFromEvent(t,s),this._fireOverOutEvents(t,s)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,i){const s=this._hoveredTarget,l=this._hoveredTargets,u=this.targets,g=Math.max(l.length,u.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:i,oldTarget:s,fireCanvas:!0});for(let b=0;b<g;b++)this.fireSyntheticInOutEvents("mouse",{e:t,target:u[b],oldTarget:l[b]});this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,i){const s=this._draggedoverTarget,l=this._hoveredTargets,u=this.targets,g=Math.max(l.length,u.length);this.fireSyntheticInOutEvents("drag",z(z({},i),{},{target:t,oldTarget:s,fireCanvas:!0}));for(let b=0;b<g;b++)this.fireSyntheticInOutEvents("drag",z(z({},i),{},{target:u[b],oldTarget:l[b]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,i){let{target:s,oldTarget:l,fireCanvas:u,e:g}=i,b=ie(i,Rn);const{targetIn:A,targetOut:L,canvasIn:B,canvasOut:te}=Os[t],ge=l!==s;if(l&&ge){const Ne=z(z({},b),{},{e:g,target:l,nextTarget:s},Ai(this,g));u&&this.fire(te,Ne),l.fire(L,Ne)}if(s&&ge){const Ne=z(z({},b),{},{e:g,target:s,previousTarget:l},Ai(this,g));u&&this.fire(B,Ne),s.fire(A,Ne)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){const i=this.getScenePoint(t),s=this._currentTransform,l=s.target,u=l.group?Us(i,void 0,l.group.calcTransformMatrix()):i;s.shiftKey=t.shiftKey,s.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,s,u),s.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,i,s){const{action:l,actionHandler:u,target:g}=i,b=!!u&&u(t,i,s.x,s.y);b&&g.setCoords(),l==="drag"&&b&&(i.target.isMoving=!0,this.setCursor(i.target.moveCursor||this.moveCursor)),i.actionPerformed=i.actionPerformed||b}_setCursorFromEvent(t,i){if(!i)return void this.setCursor(this.defaultCursor);let s=i.hoverCursor||this.hoverCursor;const l=Nr(this._activeObject)?this._activeObject:null,u=(!l||i.group!==l)&&i.findControl(this.getViewportPoint(t));if(u){const g=u.control;this.setCursor(g.cursorStyleHandler(t,g,i))}else i.subTargetCheck&&this.targets.concat().reverse().map(g=>{s=g.hoverCursor||s}),this.setCursor(s)}handleMultiSelection(t,i){const s=this._activeObject,l=Nr(s);if(s&&this._isSelectionKeyPressed(t)&&this.selection&&i&&i.selectable&&(s!==i||l)&&(l||!i.isDescendantOf(s)&&!s.isDescendantOf(i))&&!i.onSelect({e:t})&&!s.getActiveControl()){if(l){const u=s.getObjects();if(i===s){const g=this.getViewportPoint(t);if(!(i=this.searchPossibleTargets(u,g)||this.searchPossibleTargets(this._objects,g))||!i.selectable)return!1}i.group===s?(s.remove(i),this._hoveredTarget=i,this._hoveredTargets=[...this.targets],s.size()===1&&this._setActiveObject(s.item(0),t)):(s.multiSelectAdd(i),this._hoveredTarget=s,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(u,t)}else{s.isEditing&&s.exitEditing();const u=new(en.getClass("ActiveSelection"))([],{canvas:this});u.multiSelectAdd(s,i),this._hoveredTarget=u,this._setActiveObject(u,t),this._fireSelectionEvents([s],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:i,y:s,deltaX:l,deltaY:u}=this._groupSelector,g=new Et(i,s),b=g.add(new Et(l,u)),A=g.min(b),L=g.max(b).subtract(A),B=this.collectObjects({left:A.x,top:A.y,width:L.x,height:L.y},{includeIntersecting:!this.selectionFullyContained}),te=g.eq(b)?B[0]?[B[0]]:[]:B.length>1?B.filter(ge=>!ge.onSelect({e:t})).reverse():B;if(te.length===1)this.setActiveObject(te[0],t);else if(te.length>1){const ge=en.getClass("ActiveSelection");this.setActiveObject(new ge(te,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const to={x1:0,y1:0,x2:0,y2:0},ta=z(z({},to),{},{r1:0,r2:0}),nl=(v,t)=>isNaN(v)&&typeof t=="number"?t:v,Kn=/^(\d+\.\d+)%|(\d+)%$/;function Hr(v){return v&&Kn.test(v)}function Rs(v,t){const i=typeof v=="number"?v:typeof v=="string"?parseFloat(v)/(Hr(v)?100:1):NaN;return P(0,nl(i,t),1)}const xr=/\s*;\s*/,xo=/\s*:\s*/;function Ra(v,t){let i,s;const l=v.getAttribute("style");if(l){const g=l.split(xr);g[g.length-1]===""&&g.pop();for(let b=g.length;b--;){const[A,L]=g[b].split(xo).map(B=>B.trim());A==="stop-color"?i=L:A==="stop-opacity"&&(s=L)}}const u=new Jr(i||v.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:Rs(v.getAttribute("offset"),0),color:u.toRgb(),opacity:nl(parseFloat(s||v.getAttribute("stop-opacity")||""),1)*u.getAlpha()*t}}function Do(v,t){const i=[],s=v.getElementsByTagName("stop"),l=Rs(t,1);for(let u=s.length;u--;)i.push(Ra(s[u],l));return i}function pl(v){return v.nodeName==="linearGradient"||v.nodeName==="LINEARGRADIENT"?"linear":"radial"}function il(v){return v.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Lo(v,t){return v.getAttribute(t)}function Lt(v,t){return function(i,s){let l,{width:u,height:g,gradientUnits:b}=s;return Object.keys(i).reduce((A,L)=>{const B=i[L];return B==="Infinity"?l=1:B==="-Infinity"?l=0:(l=typeof B=="string"?parseFloat(B):B,typeof B=="string"&&Hr(B)&&(l*=.01,b==="pixels"&&(L!=="x1"&&L!=="x2"&&L!=="r2"||(l*=u),L!=="y1"&&L!=="y2"||(l*=g)))),A[L]=l,A},{})}(pl(v)==="linear"?function(i){return{x1:Lo(i,"x1")||0,y1:Lo(i,"y1")||0,x2:Lo(i,"x2")||"100%",y2:Lo(i,"y2")||0}}(v):function(i){return{x1:Lo(i,"fx")||Lo(i,"cx")||"50%",y1:Lo(i,"fy")||Lo(i,"cy")||"50%",r1:0,x2:Lo(i,"cx")||"50%",y2:Lo(i,"cy")||"50%",r2:Lo(i,"r")||"50%"}}(v),z(z({},t),{},{gradientUnits:il(v)}))}class $l{constructor(t){const{type:i="linear",gradientUnits:s="pixels",coords:l={},colorStops:u=[],offsetX:g=0,offsetY:b=0,gradientTransform:A,id:L}=t||{};Object.assign(this,{type:i,gradientUnits:s,coords:z(z({},i==="radial"?ta:to),l),colorStops:u,offsetX:g,offsetY:b,gradientTransform:A,id:L?"".concat(L,"_").concat(Ot()):Ot()})}addColorStop(t){for(const i in t){const s=new Jr(t[i]);this.colorStops.push({offset:parseFloat(i),color:s.toRgb(),opacity:s.getAlpha()})}return this}toObject(t){return z(z({},kn(this,t)),{},{type:this.type,coords:z({},this.coords),colorStops:this.colorStops.map(i=>z({},i)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=[],l=this.gradientTransform?this.gradientTransform.concat():He.concat(),u=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",g=this.colorStops.map(te=>z({},te)).sort((te,ge)=>te.offset-ge.offset);let b=-this.offsetX,A=-this.offsetY;var L;u==="objectBoundingBox"?(b/=t.width,A/=t.height):(b+=t.width/2,A+=t.height/2),(L=t)&&typeof L._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(b-=t.pathOffset.x,A-=t.pathOffset.y),l[4]-=b,l[5]-=A;const B=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(u,'"'),'gradientTransform="'.concat(i?i+" ":"").concat(ci(l),'"'),""].join(" ");if(this.type==="linear"){const{x1:te,y1:ge,x2:Ne,y2:at}=this.coords;s.push("<linearGradient ",B,' x1="',te,'" y1="',ge,'" x2="',Ne,'" y2="',at,`">
`)}else if(this.type==="radial"){const{x1:te,y1:ge,x2:Ne,y2:at,r1:Jt,r2:mn}=this.coords,En=Jt>mn;s.push("<radialGradient ",B,' cx="',En?te:Ne,'" cy="',En?ge:at,'" r="',En?Jt:mn,'" fx="',En?Ne:te,'" fy="',En?at:ge,`">
`),En&&(g.reverse(),g.forEach(Mr=>{Mr.offset=1-Mr.offset}));const Vi=Math.min(Jt,mn);if(Vi>0){const Mr=Vi/Math.max(Jt,mn);g.forEach(dr=>{dr.offset+=Mr*(1-dr.offset)})}}return g.forEach(te=>{let{color:ge,offset:Ne,opacity:at}=te;s.push("<stop ",'offset="',100*Ne+"%",'" style="stop-color:',ge,at!==void 0?";stop-opacity: "+at:";",`"/>
`)}),s.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),s.join("")}toLive(t){const{x1:i,y1:s,x2:l,y2:u,r1:g,r2:b}=this.coords,A=this.type==="linear"?t.createLinearGradient(i,s,l,u):t.createRadialGradient(i,s,g,l,u,b);return this.colorStops.forEach(L=>{let{color:B,opacity:te,offset:ge}=L;A.addColorStop(ge,te!==void 0?new Jr(B).setAlpha(te).toRgba():B)}),A}static fromObject(t){return Rl(this,null,function*(){const{colorStops:i,gradientTransform:s}=t;return new this(z(z({},t),{},{colorStops:i?i.map(l=>z({},l)):void 0,gradientTransform:s?[...s]:void 0}))})}static fromElement(t,i,s){const l=il(t),u=i._findCenterFromElement();return new this(z({id:t.getAttribute("id")||void 0,type:pl(t),coords:Lt(t,{width:s.viewBoxWidth||s.width,height:s.viewBoxHeight||s.height}),colorStops:Do(t,s.opacity),gradientUnits:l,gradientTransform:Rc(t.getAttribute("gradientTransform")||"")},l==="pixels"?{offsetX:i.width/2-u.x,offsetY:i.height/2-u.y}:{offsetX:0,offsetY:0}))}}a($l,"type","Gradient"),en.setClass($l,"gradient"),en.setClass($l,"linear"),en.setClass($l,"radial");const cr=["type","source","patternTransform"];class sa{get type(){return"pattern"}set type(t){oe("warn","Setting type has no effect",t)}constructor(t){a(this,"repeat","repeat"),a(this,"offsetX",0),a(this,"offsetY",0),a(this,"crossOrigin",""),this.id=Ot(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:i,crossOrigin:s}=this;return z(z({},kn(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:i,crossOrigin:s,offsetX:pn(this.offsetX,J.NUM_FRACTION_DIGITS),offsetY:pn(this.offsetY,J.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:i,height:s}=t;const{source:l,repeat:u,id:g}=this,b=nl(this.offsetX/i,0),A=nl(this.offsetY/s,0),L=u==="repeat-y"||u==="no-repeat"?1+Math.abs(b||0):nl(l.width/i,0),B=u==="repeat-x"||u==="no-repeat"?1+Math.abs(A||0):nl(l.height/s,0);return['<pattern id="SVGID_'.concat(g,'" x="').concat(b,'" y="').concat(A,'" width="').concat(L,'" height="').concat(B,'">'),'<image x="0" y="0" width="'.concat(l.width,'" height="').concat(l.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static fromObject(t,i){return Rl(this,null,function*(){let{type:s,source:l,patternTransform:u}=t,g=ie(t,cr);const b=yield Lr(l,z(z({},i),{},{crossOrigin:g.crossOrigin}));return new this(z(z({},g),{},{patternTransform:u&&u.slice(0),source:b}))})}}a(sa,"type","Pattern"),en.setClass(sa),en.setClass(sa,"pattern");class Cs{constructor(t){a(this,"color","rgb(0, 0, 0)"),a(this,"width",1),a(this,"shadow",null),a(this,"strokeLineCap","round"),a(this,"strokeLineJoin","round"),a(this,"strokeMiterLimit",10),a(this,"strokeDashArray",null),a(this,"limitedToCanvasSize",!1),this.canvas=t}_setBrushStyles(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])}_saveAndTransform(t){const i=this.canvas.viewportTransform;t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}needsFullRender(){return new Jr(this.color).getAlpha()<1||!!this.shadow}_setShadow(){if(!this.shadow||!this.canvas)return;const t=this.canvas,i=this.shadow,s=t.contextTop,l=t.getZoom()*t.getRetinaScaling();s.shadowColor=i.color,s.shadowBlur=i.blur*l,s.shadowOffsetX=i.offsetX*l,s.shadowOffsetY=i.offsetY*l}_resetShadow(){const t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}_isOutSideCanvas(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}const Wa=["path","left","top"],zs=["d"];class ze extends At{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:s,left:l,top:u}=i,g=ie(i,Wa);super(),Object.assign(this,ze.ownDefaults),this.setOptions(g),this._setPath(t||[],!0),typeof l=="number"&&this.set(et,l),typeof u=="number"&&this.set(Kt,u)}_setPath(t,i){this.path=C(Array.isArray(t)?t:ln(t)),this.setBoundingBox(i)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new Et(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const i=-this.pathOffset.x,s=-this.pathOffset.y;t.beginPath();for(const l of this.path)switch(l[0]){case"L":t.lineTo(l[1]+i,l[2]+s);break;case"M":t.moveTo(l[1]+i,l[2]+s);break;case"C":t.bezierCurveTo(l[1]+i,l[2]+s,l[3]+i,l[4]+s,l[5]+i,l[6]+s);break;case"Q":t.quadraticCurveTo(l[1]+i,l[2]+s,l[3]+i,l[4]+s);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z(z({},super.toObject(t)),{},{path:this.path.map(i=>i.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const i=this.toObject(t);return this.sourcePath&&(delete i.path,i.sourcePath=this.sourcePath),i}_toSVG(){const t=_i(this.path,J.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const t=J.NUM_FRACTION_DIGITS;return" translate(".concat(pn(-this.pathOffset.x,t),", ").concat(pn(-this.pathOffset.y,t),")")}toClipPathSVG(t){const i=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:i})}toSVG(t){const i=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:i})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:i,height:s,pathOffset:l}=this._calcDimensions();this.set({width:i,height:s,pathOffset:l}),t&&this.setPositionByOrigin(l,_t,_t)}_calcBoundsFromPath(){const t=[];let i=0,s=0,l=0,u=0;for(const g of this.path)switch(g[0]){case"L":l=g[1],u=g[2],t.push({x:i,y:s},{x:l,y:u});break;case"M":l=g[1],u=g[2],i=l,s=u;break;case"C":t.push(...m(l,u,g[1],g[2],g[3],g[4],g[5],g[6])),l=g[5],u=g[6];break;case"Q":t.push(...m(l,u,g[1],g[2],g[1],g[2],g[3],g[4])),l=g[3],u=g[4];break;case"Z":l=i,u=s}return Bs(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return z(z({},t),{},{pathOffset:new Et(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static fromElement(t,i,s){return Rl(this,null,function*(){const l=Ql(t,this.ATTRIBUTE_NAMES,s),{d:u}=l;return new this(u,z(z(z({},ie(l,zs)),i),{},{left:void 0,top:void 0}))})}}a(ze,"type","Path"),a(ze,"cacheProperties",[...N,"path","fillRule"]),a(ze,"ATTRIBUTE_NAMES",[...$o,"d"]),en.setClass(ze),en.setSVGClass(ze);class pe extends Cs{constructor(t){super(t),a(this,"decimate",.4),a(this,"drawStraightLine",!1),a(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(t,i,s){const l=i.midPointFrom(s);return t.quadraticCurveTo(i.x,i.y,l.x,l.y),l}onMouseDown(t,i){let{e:s}=i;this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],this._prepareForDrawing(t),this._addPoint(t),this._render())}onMouseMove(t,i){let{e:s}=i;if(this.canvas._isMainEvent(s)&&(this.drawStraightLine=!!this.straightLineKey&&s[this.straightLineKey],(this.limitedToCanvasSize!==!0||!this._isOutSideCanvas(t))&&this._addPoint(t)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{const l=this._points,u=l.length,g=this.canvas.contextTop;this._saveAndTransform(g),this.oldEnd&&(g.beginPath(),g.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=pe.drawSegment(g,l[u-2],l[u-1]),g.stroke(),g.restore()}}onMouseUp(t){let{e:i}=t;return!this.canvas._isMainEvent(i)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(t){this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)}_addPoint(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),!0)}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.canvas.contextTop,i=this._points[0],s=this._points[1];if(this._saveAndTransform(t),t.beginPath(),this._points.length===2&&i.x===s.x&&i.y===s.y){const l=this.width/1e3;i.x-=l,s.x+=l}t.moveTo(i.x,i.y);for(let l=1;l<this._points.length;l++)pe.drawSegment(t,i,s),i=this._points[l],s=this._points[l+1];t.lineTo(i.x,i.y),t.stroke(),t.restore()}convertPointsToSVGPath(t){const i=this.width/1e3;return jt(t,i)}createPath(t){const i=new ze(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new E(this.shadow)),i}decimatePoints(t,i){if(t.length<=2)return t;let s,l=t[0];const u=this.canvas.getZoom(),g=Math.pow(i/u,2),b=t.length-1,A=[l];for(let L=1;L<b-1;L++)s=Math.pow(l.x-t[L].x,2)+Math.pow(l.y-t[L].y,2),s>=g&&(l=t[L],A.push(l));return A.push(t[b]),A}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));const t=this.convertPointsToSVGPath(this._points);if(function(s){return _i(s)==="M 0 0 Q 0 0 0 0 L 0 0"}(t))return void this.canvas.requestRenderAll();const i=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:i}),this.canvas.add(i),this.canvas.requestRenderAll(),i.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:i})}}const hn=["left","top","radius"],In=["radius","startAngle","endAngle","counterClockwise"];class Ni extends At{static getDefaults(){return z(z({},super.getDefaults()),Ni.ownDefaults)}constructor(t){super(),Object.assign(this,Ni.ownDefaults),this.setOptions(t)}_set(t,i){return super._set(t,i),t==="radius"&&this.setRadius(i),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,Zi(this.startAngle),Zi(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(li)}getRadiusY(){return this.get("radius")*this.get(fi)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...In,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:i}=this,s=Zi(this.startAngle),l=Zi(this.endAngle),u=er(s)*i,g=Ui(s)*i,b=er(l)*i,A=Ui(l)*i,L=t>180?1:0,B=this.counterClockwise?0:1;return['<path d="M '.concat(u," ").concat(g," A ").concat(i," ").concat(i," 0 ").concat(L," ").concat(B," ").concat(b," ").concat(A,'" '),"COMMON_PARTS",` />
`]}}static fromElement(t,i,s){return Rl(this,null,function*(){const l=Ql(t,this.ATTRIBUTE_NAMES,s),{left:u=0,top:g=0,radius:b=0}=l;return new this(z(z({},ie(l,hn)),{},{radius:b,left:u-b,top:g-b}))})}static fromObject(t){return super._fromObject(t)}}a(Ni,"type","Circle"),a(Ni,"cacheProperties",[...N,...In]),a(Ni,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),a(Ni,"ATTRIBUTE_NAMES",["cx","cy","r",...$o]),en.setClass(Ni),en.setSVGClass(Ni);class xi extends null{constructor(t){super(t),a(this,"width",10),this.points=[]}drawDot(t){const i=this.addPoint(t),s=this.canvas.contextTop;this._saveAndTransform(s),this.dot(s,i),s.restore()}dot(t,i){t.fillStyle=i.fill,t.beginPath(),t.arc(i.x,i.y,i.radius,0,2*Math.PI,!1),t.closePath(),t.fill()}onMouseDown(t){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)}_render(){const t=this.canvas.contextTop,i=this.points;this._saveAndTransform(t);for(let s=0;s<i.length;s++)this.dot(t,i[s]);t.restore()}onMouseMove(t){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))}onMouseUp(){const t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const i=[];for(let l=0;l<this.points.length;l++){const u=this.points[l],g=new Ni({radius:u.radius,left:u.x,top:u.y,originX:_t,originY:_t,fill:u.fill});this.shadow&&(g.shadow=new E(this.shadow)),i.push(g)}const s=new tl(i,{canvas:this.canvas});this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}addPoint(t){let{x:i,y:s}=t;const l={x:i,y:s,radius:Nn(Math.max(0,this.width-20),this.width+20)/2,fill:new Jr(this.color).setAlpha(Nn(0,100)/100).toRgba()};return this.points.push(l),l}}class $s extends null{constructor(t){super(t),a(this,"width",10),a(this,"density",20),a(this,"dotWidth",1),a(this,"dotWidthVariance",1),a(this,"randomOpacity",!1),a(this,"optimizeOverlapping",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(t){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.renderChunck(this.sprayChunk)}onMouseMove(t){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.renderChunck(this.sprayChunk))}onMouseUp(){const t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;const i=[];for(let l=0;l<this.sprayChunks.length;l++){const u=this.sprayChunks[l];for(let g=0;g<u.length;g++){const b=u[g],A=new jl({width:b.width,height:b.width,left:b.x+1,top:b.y+1,originX:_t,originY:_t,fill:this.color});i.push(A)}}const s=new tl(this.optimizeOverlapping?function(l){const u={},g=[];for(let b,A=0;A<l.length;A++)b="".concat(l[A].left).concat(l[A].top),u[b]||(u[b]=!0,g.push(l[A]));return g}(i):i,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&s.set("shadow",new E(this.shadow)),this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}renderChunck(t){const i=this.canvas.contextTop;i.fillStyle=this.color,this._saveAndTransform(i);for(let s=0;s<t.length;s++){const l=t[s];i.globalAlpha=l.opacity,i.fillRect(l.x,l.y,l.width,l.width)}i.restore()}_render(){const t=this.canvas.contextTop;t.fillStyle=this.color,this._saveAndTransform(t);for(let i=0;i<this.sprayChunks.length;i++)this.renderChunck(this.sprayChunks[i]);t.restore()}addSprayChunk(t){this.sprayChunk=[];const i=this.width/2;for(let s=0;s<this.density;s++)this.sprayChunk.push({x:Nn(t.x-i,t.x+i),y:Nn(t.y-i,t.y+i),width:this.dotWidthVariance?Nn(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?Nn(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}}class Qr extends null{constructor(t){super(t)}getPatternSrc(){const t=kt(),i=t.getContext("2d");return t.width=t.height=25,i&&(i.fillStyle=this.color,i.beginPath(),i.arc(10,10,10,0,2*Math.PI,!1),i.closePath(),i.fill()),t}getPattern(t){return t.createPattern(this.source||this.getPatternSrc(),"repeat")}_setBrushStyles(t){super._setBrushStyles(t);const i=this.getPattern(t);i&&(t.strokeStyle=i)}createPath(t){const i=super.createPath(t),s=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new sa({source:this.source||this.getPatternSrc(),offsetX:-s.x,offsetY:-s.y}),i}}const ms=["x1","y1","x2","y2"],da=["x1","y1","x2","y2"],ur=["x1","x2","y1","y2"];class is extends At{constructor(){let[t,i,s,l]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,is.ownDefaults),this.setOptions(u),this.x1=t,this.x2=s,this.y1=i,this.y2=l,this._setWidthHeight();const{left:g,top:b}=u;typeof g=="number"&&this.set(et,g),typeof b=="number"&&this.set(Kt,b)}_setWidthHeight(){const{x1:t,y1:i,x2:s,y2:l}=this;this.width=Math.abs(s-t),this.height=Math.abs(l-i);const{left:u,top:g,width:b,height:A}=Bs([{x:t,y:i},{x:s,y:l}]),L=new Et(u+b/2,g+A/2);this.setPositionByOrigin(L,_t,_t)}_set(t,i){return super._set(t,i),ur.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const i=this.calcLinePoints();t.moveTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineWidth=this.strokeWidth;const s=t.strokeStyle;var l;ir(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(l=this.stroke)!==null&&l!==void 0?l:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=s}_findCenterFromElement(){return new Et((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z(z({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:i,y1:s,y2:l,width:u,height:g}=this,b=t<=i?-1:1,A=s<=l?-1:1;return{x1:b*u/2,x2:b*-u/2,y1:A*g/2,y2:A*-g/2}}_toSVG(){const{x1:t,x2:i,y1:s,y2:l}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(s,'" x2="').concat(i,'" y2="').concat(l,`" />
`)]}static fromElement(t,i,s){return Rl(this,null,function*(){const l=Ql(t,this.ATTRIBUTE_NAMES,s),{x1:u=0,y1:g=0,x2:b=0,y2:A=0}=l;return new this([u,g,b,A],ie(l,ms))})}static fromObject(t){let{x1:i,y1:s,x2:l,y2:u}=t,g=ie(t,da);return this._fromObject(z(z({},g),{},{points:[i,s,l,u]}),{extraParam:"points"})}}a(is,"type","Line"),a(is,"cacheProperties",[...N,...ur]),a(is,"ATTRIBUTE_NAMES",$o.concat(ur)),en.setClass(is),en.setSVGClass(is);class Gs extends At{static getDefaults(){return z(z({},super.getDefaults()),Gs.ownDefaults)}constructor(t){super(),Object.assign(this,Gs.ownDefaults),this.setOptions(t)}_render(t){const i=this.width/2,s=this.height/2;t.beginPath(),t.moveTo(-i,s),t.lineTo(0,-s),t.lineTo(i,s),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,i=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(i,",0 ").concat(-i,",").concat(t," ").concat(i),'" />']}}a(Gs,"type","Triangle"),a(Gs,"ownDefaults",{width:100,height:100}),en.setClass(Gs),en.setSVGClass(Gs);const _o=["rx","ry"];class Kr extends At{static getDefaults(){return z(z({},super.getDefaults()),Kr.ownDefaults)}constructor(t){super(),Object.assign(this,Kr.ownDefaults),this.setOptions(t)}_set(t,i){switch(super._set(t,i),t){case"rx":this.rx=i,this.set("width",2*i);break;case"ry":this.ry=i,this.set("height",2*i)}return this}getRx(){return this.get("rx")*this.get(li)}getRy(){return this.get("ry")*this.get(fi)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([..._o,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,T,!1),t.restore(),this._renderPaintInOrder(t)}static fromElement(t,i,s){return Rl(this,null,function*(){const l=Ql(t,this.ATTRIBUTE_NAMES,s);return l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,new this(l)})}}function ko(v){if(!v)return[];const t=v.replace(/,/g," ").trim().split(/\s+/),i=[];for(let s=0;s<t.length;s+=2)i.push({x:parseFloat(t[s]),y:parseFloat(t[s+1])});return i}a(Kr,"type","Ellipse"),a(Kr,"cacheProperties",[...N,..._o]),a(Kr,"ownDefaults",{rx:0,ry:0}),a(Kr,"ATTRIBUTE_NAMES",[...$o,"cx","cy","rx","ry"]),en.setClass(Kr),en.setSVGClass(Kr);const Wo=["left","top"],Ta={exactBoundingBox:!1};class Wt extends At{static getDefaults(){return z(z({},super.getDefaults()),Wt.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),a(this,"strokeDiff",void 0),Object.assign(this,Wt.ownDefaults),this.setOptions(i),this.points=t;const{left:s,top:l}=i;this.initialized=!0,this.setBoundingBox(!0),typeof s=="number"&&this.set(et,s),typeof l=="number"&&this.set(Kt,l)}isOpen(){return!0}_projectStrokeOnPoints(t){return ui(this.points,t,this.isOpen())}_calcDimensions(t){t=z({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const i=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(L=>L.projectedPoint):this.points;if(i.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Et,strokeOffset:new Et,strokeDiff:new Et};const s=Bs(i),l=Cr(z(z({},t),{},{scaleX:1,scaleY:1})),u=Bs(this.points.map(L=>Sr(L,l,!0))),g=new Et(this.scaleX,this.scaleY);let b=s.left+s.width/2,A=s.top+s.height/2;return this.exactBoundingBox&&(b-=A*Math.tan(Zi(this.skewX)),A-=b*Math.tan(Zi(this.skewY))),z(z({},s),{},{pathOffset:new Et(b,A),strokeOffset:new Et(u.left,u.top).subtract(new Et(s.left,s.top)).multiply(g),strokeDiff:new Et(s.width,s.height).subtract(new Et(u.width,u.height)).multiply(g)})}_findCenterFromElement(){const t=Bs(this.points);return new Et(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:i,top:s,width:l,height:u,pathOffset:g,strokeOffset:b,strokeDiff:A}=this._calcDimensions();this.set({width:l,height:u,pathOffset:g,strokeOffset:b,strokeDiff:A}),t&&this.setPositionByOrigin(new Et(i+l/2,s+u/2),_t,_t)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Et(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let g;if(Object.keys(t).some(b=>this.strokeUniform||this.constructor.layoutProperties.includes(b))){var i,s;const{width:b,height:A}=this._calcDimensions(t);g=new Et((i=t.width)!==null&&i!==void 0?i:b,(s=t.height)!==null&&s!==void 0?s:A)}else{var l,u;g=new Et((l=t.width)!==null&&l!==void 0?l:this.width,(u=t.height)!==null&&u!==void 0?u:this.height)}return g.multiply(new Et(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,i){const s=this.initialized&&this[t]!==i,l=super._set(t,i);return this.exactBoundingBox&&s&&((t===li||t===fi)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),l}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z(z({},super.toObject(t)),{},{points:this.points.map(i=>{let{x:s,y:l}=i;return{x:s,y:l}})})}_toSVG(){const t=[],i=this.pathOffset.x,s=this.pathOffset.y,l=J.NUM_FRACTION_DIGITS;for(let u=0,g=this.points.length;u<g;u++)t.push(pn(this.points[u].x-i,l),",",pn(this.points[u].y-s,l)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){const i=this.points.length,s=this.pathOffset.x,l=this.pathOffset.y;if(i&&!isNaN(this.points[i-1].y)){t.beginPath(),t.moveTo(this.points[0].x-s,this.points[0].y-l);for(let u=0;u<i;u++){const g=this.points[u];t.lineTo(g.x-s,g.y-l)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static fromElement(t,i,s){return Rl(this,null,function*(){return new this(ko(t.getAttribute("points")),z(z({},ie(Ql(t,this.ATTRIBUTE_NAMES,s),Wo)),i))})}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}a(Wt,"ownDefaults",Ta),a(Wt,"type","Polyline"),a(Wt,"layoutProperties",[Oi,Ei,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),a(Wt,"cacheProperties",[...N,"points"]),a(Wt,"ATTRIBUTE_NAMES",[...$o]),en.setClass(Wt),en.setSVGClass(Wt);class Vr extends Wt{isOpen(){return!1}}a(Vr,"ownDefaults",Ta),a(Vr,"type","Polygon"),en.setClass(Vr),en.setSVGClass(Vr);const ei=["fontSize","fontWeight","fontFamily","fontStyle"],Fi=["underline","overline","linethrough"],ls=[...ei,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],es=[...ls,...Fi,"textBackgroundColor","direction"],Go=[...ei,...Fi,rt,"strokeWidth",Xt,"deltaY","textBackgroundColor"],fl={_reNewline:Ct,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:et,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:et,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},qa="justify",ma="justify-left",cl="justify-right",Wl="justify-center";class Gc extends At{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;const i=t===void 0?this.styles:{line:this.styles[t]};for(const s in i)for(const l in i[s])for(const u in i[s][l])return!1;return!0}styleHas(t,i){if(!this.styles||i!==void 0&&!this.styles[i])return!1;const s=i===void 0?this.styles:{0:this.styles[i]};for(const l in s)for(const u in s[l])if(s[l][u][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const i=this.styles;let s,l,u=0,g=!0,b=0;for(const A in i){s=0;for(const L in i[A]){const B=i[A][L]||{};u++,B[t]!==void 0?(l?B[t]!==l&&(g=!1):l=B[t],B[t]===this[t]&&delete B[t]):g=!1,Object.keys(B).length!==0?s++:delete i[A][L]}s===0&&delete i[A]}for(let A=0;A<this._textLines.length;A++)b+=this._textLines[A].length;g&&u===b&&(this[t]=l,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const i=this.styles;let s,l,u;for(l in i){for(u in s=i[l],s)delete s[u][t],Object.keys(s[u]).length===0&&delete s[u];Object.keys(s).length===0&&delete i[l]}}_extendStyles(t,i){const{lineIndex:s,charIndex:l}=this.get2DCursorLocation(t);this._getLineStyle(s)||this._setLineStyle(s);const u=Xn(z(z({},this._getStyleDeclaration(s,l)),i),g=>g!==void 0);this._setStyleDeclaration(s,l,u)}getSelectionStyles(t,i,s){const l=[];for(let u=t;u<(i||t);u++)l.push(this.getStyleAtPosition(u,s));return l}getStyleAtPosition(t,i){const{lineIndex:s,charIndex:l}=this.get2DCursorLocation(t);return i?this.getCompleteStyleDeclaration(s,l):this._getStyleDeclaration(s,l)}setSelectionStyles(t,i,s){for(let l=i;l<(s||i);l++)this._extendStyles(l,t);this._forceClearCache=!0}_getStyleDeclaration(t,i){var s;const l=this.styles&&this.styles[t];return l&&(s=l[i])!==null&&s!==void 0?s:{}}getCompleteStyleDeclaration(t,i){return z(z({},kn(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,i))}_setStyleDeclaration(t,i,s){this.styles[t][i]=s}_deleteStyleDeclaration(t,i){delete this.styles[t][i]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}a(Gc,"_styleProperties",Go);const Gl=/  +/g,nc=/"/g;function pc(v,t,i,s,l){return"		".concat(function(u,g){let{left:b,top:A,width:L,height:B}=g,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.NUM_FRACTION_DIGITS;const ge=_s(Xt,u,!1),[Ne,at,Jt,mn]=[b,A,L,B].map(En=>pn(En,te));return"<rect ".concat(ge,' x="').concat(Ne,'" y="').concat(at,'" width="').concat(Jt,'" height="').concat(mn,'"></rect>')}(v,{left:t,top:i,width:s,height:l}),`
`)}const pu=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Lc;class xl extends Gc{static getDefaults(){return z(z({},super.getDefaults()),xl.ownDefaults)}constructor(t,i){super(),a(this,"__charBounds",[]),Object.assign(this,xl.ownDefaults),this.setOptions(i),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=on(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(qa)&&this.enlargeSpaces()}enlargeSpaces(){let t,i,s,l,u,g,b;for(let A=0,L=this._textLines.length;A<L;A++)if((this.textAlign===qa||A!==L-1&&!this.isEndOfWrapping(A))&&(l=0,u=this._textLines[A],i=this.getLineWidth(A),i<this.width&&(b=this.textLines[A].match(this._reSpacesAndTabs)))){s=b.length,t=(this.width-i)/s;for(let B=0;B<=u.length;B++)g=this.__charBounds[A][B],this._reSpaceAndTab.test(u[B])?(g.width+=t,g.kernedWidth+=t,g.left+=l,l+=t):g.left+=l}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,i){const s=i?this._unwrappedTextLines:this._textLines;let l;for(l=0;l<s.length;l++){if(t<=s[l].length)return{lineIndex:l,charIndex:t};t-=s[l].length+this.missingNewlineOffset(l,i)}return{lineIndex:l-1,charIndex:s[l-1].length<t?s[l-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),i=this.fontSize;return t.width+=i*t.zoomX,t.height+=i*t.zoomY,t}_render(t){const i=this.path;i&&!i.isNotVisible()&&i._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===rt?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,i,s){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case _t:t.textBaseline="middle";break;case"ascender":t.textBaseline=Kt;break;case"descender":t.textBaseline=wt}t.font=this._getFontDeclaration(i,s)}calcTextWidth(){let t=this.getLineWidth(0);for(let i=1,s=this._textLines.length;i<s;i++){const l=this.getLineWidth(i);l>t&&(t=l)}return t}_renderTextLine(t,i,s,l,u,g){this._renderChars(t,i,s,l,u,g)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const i=t.fillStyle,s=this._getLeftOffset();let l=this._getTopOffset();for(let u=0,g=this._textLines.length;u<g;u++){const b=this.getHeightOfLine(u);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",u)){l+=b;continue}const A=this._textLines[u].length,L=this._getLineLeftOffset(u);let B,te,ge=0,Ne=0,at=this.getValueOfPropertyAt(u,0,"textBackgroundColor");for(let Jt=0;Jt<A;Jt++){const mn=this.__charBounds[u][Jt];te=this.getValueOfPropertyAt(u,Jt,"textBackgroundColor"),this.path?(t.save(),t.translate(mn.renderLeft,mn.renderTop),t.rotate(mn.angle),t.fillStyle=te,te&&t.fillRect(-mn.width/2,-b/this.lineHeight*(1-this._fontSizeFraction),mn.width,b/this.lineHeight),t.restore()):te!==at?(B=s+L+Ne,this.direction==="rtl"&&(B=this.width-B-ge),t.fillStyle=at,at&&t.fillRect(B,l,ge,b/this.lineHeight),Ne=mn.left,ge=mn.width,at=te):ge+=mn.kernedWidth}te&&!this.path&&(B=s+L+Ne,this.direction==="rtl"&&(B=this.width-B-ge),t.fillStyle=te,t.fillRect(B,l,ge,b/this.lineHeight)),l+=b}t.fillStyle=i,this._removeShadow(t)}_measureChar(t,i,s,l){const u=xt.getFontCache(i),g=this._getFontDeclaration(i),b=s+t,A=s&&g===this._getFontDeclaration(l),L=i.fontSize/this.CACHE_FONT_SIZE;let B,te,ge,Ne;if(s&&u[s]!==void 0&&(ge=u[s]),u[t]!==void 0&&(Ne=B=u[t]),A&&u[b]!==void 0&&(te=u[b],Ne=te-ge),B===void 0||ge===void 0||te===void 0){const at=function(){return Lc||(Lc=pi({width:0,height:0}).getContext("2d")),Lc}();this._setTextStyles(at,i,!0),B===void 0&&(Ne=B=at.measureText(t).width,u[t]=B),ge===void 0&&A&&s&&(ge=at.measureText(s).width,u[s]=ge),A&&te===void 0&&(te=at.measureText(b).width,u[b]=te,Ne=te-ge)}return{width:B*L,kernedWidth:Ne*L}}getHeightOfChar(t,i){return this.getValueOfPropertyAt(t,i,"fontSize")}measureLine(t){const i=this._measureLine(t);return this.charSpacing!==0&&(i.width-=this._getWidthOfCharSpacing()),i.width<0&&(i.width=0),i}_measureLine(t){let i,s,l=0;const u=this.pathSide===pt,g=this.path,b=this._textLines[t],A=b.length,L=new Array(A);this.__charBounds[t]=L;for(let B=0;B<A;B++){const te=b[B];s=this._getGraphemeBox(te,t,B,i),L[B]=s,l+=s.kernedWidth,i=te}if(L[A]={left:s?s.left+s.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},g&&g.segmentsInfo){let B=0;const te=g.segmentsInfo[g.segmentsInfo.length-1].length;switch(this.textAlign){case et:B=u?te-l:0;break;case _t:B=(te-l)/2;break;case pt:B=u?0:te-l}B+=this.pathStartOffset*(u?-1:1);for(let ge=u?A-1:0;u?ge>=0:ge<A;u?ge--:ge++)s=L[ge],B>te?B%=te:B<0&&(B+=te),this._setGraphemeOnPath(B,s),B+=s.kernedWidth}return{width:l,numOfSpaces:0}}_setGraphemeOnPath(t,i){const s=t+i.kernedWidth/2,l=this.path,u=Qn(l.path,s,l.segmentsInfo);i.renderLeft=u.x-l.pathOffset.x,i.renderTop=u.y-l.pathOffset.y,i.angle=u.angle+(this.pathSide===pt?Math.PI:0)}_getGraphemeBox(t,i,s,l,u){const g=this.getCompleteStyleDeclaration(i,s),b=l?this.getCompleteStyleDeclaration(i,s-1):{},A=this._measureChar(t,g,l,b);let L,B=A.kernedWidth,te=A.width;this.charSpacing!==0&&(L=this._getWidthOfCharSpacing(),te+=L,B+=L);const ge={width:te,left:0,height:g.fontSize,kernedWidth:B,deltaY:g.deltaY};if(s>0&&!u){const Ne=this.__charBounds[i][s-1];ge.left=Ne.left+Ne.width+A.kernedWidth-A.width}return ge}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let i=this.getHeightOfChar(t,0);for(let s=1,l=this._textLines[t].length;s<l;s++)i=Math.max(this.getHeightOfChar(t,s),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,i=0;for(let s=0,l=this._textLines.length;s<l;s++)t=this.getHeightOfLine(s),i+=s===l-1?t/this.lineHeight:t;return i}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,i){t.save();let s=0;const l=this._getLeftOffset(),u=this._getTopOffset();for(let g=0,b=this._textLines.length;g<b;g++){const A=this.getHeightOfLine(g),L=A/this.lineHeight,B=this._getLineLeftOffset(g);this._renderTextLine(i,t,this._textLines[g],l+B,u+s+L,g),s+=A}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(Xt))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,i,s,l,u,g){const b=this.getHeightOfLine(g),A=this.textAlign.includes(qa),L=this.path,B=!A&&this.charSpacing===0&&this.isEmptyStyles(g)&&!L,te=this.direction==="ltr",ge=this.direction==="ltr"?1:-1,Ne=i.direction;let at,Jt,mn,En,Vi,Mr="",dr=0;if(i.save(),Ne!==this.direction&&(i.canvas.setAttribute("dir",te?"ltr":"rtl"),i.direction=te?"ltr":"rtl",i.textAlign=te?et:pt),u-=b*this._fontSizeFraction/this.lineHeight,B)return this._renderChar(t,i,g,0,s.join(""),l,u),void i.restore();for(let ns=0,no=s.length-1;ns<=no;ns++)En=ns===no||this.charSpacing||L,Mr+=s[ns],mn=this.__charBounds[g][ns],dr===0?(l+=ge*(mn.kernedWidth-mn.width),dr+=mn.width):dr+=mn.kernedWidth,A&&!En&&this._reSpaceAndTab.test(s[ns])&&(En=!0),En||(at=at||this.getCompleteStyleDeclaration(g,ns),Jt=this.getCompleteStyleDeclaration(g,ns+1),En=Vo(at,Jt,!1)),En&&(L?(i.save(),i.translate(mn.renderLeft,mn.renderTop),i.rotate(mn.angle),this._renderChar(t,i,g,ns,Mr,-dr/2,0),i.restore()):(Vi=l,this._renderChar(t,i,g,ns,Mr,Vi,u)),Mr="",at=Jt,l+=ge*dr,dr=0);i.restore()}_applyPatternGradientTransformText(t){const i=this.width+this.strokeWidth,s=this.height+this.strokeWidth,l=pi({width:i,height:s}),u=l.getContext("2d");return l.width=i,l.height=s,u.beginPath(),u.moveTo(0,0),u.lineTo(i,0),u.lineTo(i,s),u.lineTo(0,s),u.closePath(),u.translate(i/2,s/2),u.fillStyle=t.toLive(u),this._applyPatternGradientTransform(u,t),u.fill(),u.createPattern(l,"no-repeat")}handleFiller(t,i,s){let l,u;return ir(s)?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(l=-this.width/2,u=-this.height/2,t.translate(l,u),t[i]=this._applyPatternGradientTransformText(s),{offsetX:l,offsetY:u}):(t[i]=s.toLive(t),this._applyPatternGradientTransform(t,s)):(t[i]=s,{offsetX:0,offsetY:0})}_setStrokeStyles(t,i){let{stroke:s,strokeWidth:l}=i;return t.lineWidth=l,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",s)}_setFillStyles(t,i){let{fill:s}=i;return this.handleFiller(t,"fillStyle",s)}_renderChar(t,i,s,l,u,g,b){const A=this._getStyleDeclaration(s,l),L=this.getCompleteStyleDeclaration(s,l),B=t==="fillText"&&L.fill,te=t==="strokeText"&&L.stroke&&L.strokeWidth;if(te||B){if(i.save(),i.font=this._getFontDeclaration(L),A.textBackgroundColor&&this._removeShadow(i),A.deltaY&&(b+=A.deltaY),B){const ge=this._setFillStyles(i,L);i.fillText(u,g-ge.offsetX,b-ge.offsetY)}if(te){const ge=this._setStrokeStyles(i,L);i.strokeText(u,g-ge.offsetX,b-ge.offsetY)}i.restore()}}setSuperscript(t,i){this._setScript(t,i,this.superscript)}setSubscript(t,i){this._setScript(t,i,this.subscript)}_setScript(t,i,s){const l=this.get2DCursorLocation(t,!0),u=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"fontSize"),g=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"deltaY"),b={fontSize:u*s.size,deltaY:g+u*s.baseline};this.setSelectionStyles(b,t,i)}_getLineLeftOffset(t){const i=this.getLineWidth(t),s=this.width-i,l=this.textAlign,u=this.direction,g=this.isEndOfWrapping(t);let b=0;return l===qa||l===Wl&&!g||l===cl&&!g||l===ma&&!g?0:(l===_t&&(b=s/2),l===pt&&(b=s),l===Wl&&(b=s/2),l===cl&&(b=s),u==="rtl"&&(l===pt||l===qa||l===cl?b=0:l===et||l===ma?b=-s:l!==_t&&l!==Wl||(b=-s/2)),b)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];const{width:i}=this.measureLine(t);return this.__lineWidths[t]=i,i}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,i,s){var l;return(l=this._getStyleDeclaration(t,i)[s])!==null&&l!==void 0?l:this[s]}_renderTextDecoration(t,i){if(!this[i]&&!this.styleHas(i))return;let s=this._getTopOffset();const l=this._getLeftOffset(),u=this.path,g=this._getWidthOfCharSpacing(),b=this.offsets[i];for(let A=0,L=this._textLines.length;A<L;A++){const B=this.getHeightOfLine(A);if(!this[i]&&!this.styleHas(i,A)){s+=B;continue}const te=this._textLines[A],ge=B/this.lineHeight,Ne=this._getLineLeftOffset(A);let at,Jt,mn=0,En=0,Vi=this.getValueOfPropertyAt(A,0,i),Mr=this.getValueOfPropertyAt(A,0,Xt);const dr=s+ge*(1-this._fontSizeFraction);let ns=this.getHeightOfChar(A,0),no=this.getValueOfPropertyAt(A,0,"deltaY");for(let Zs=0,Aa=te.length;Zs<Aa;Zs++){const ol=this.__charBounds[A][Zs];at=this.getValueOfPropertyAt(A,Zs,i),Jt=this.getValueOfPropertyAt(A,Zs,Xt);const ga=this.getHeightOfChar(A,Zs),La=this.getValueOfPropertyAt(A,Zs,"deltaY");if(u&&at&&Jt)t.save(),t.fillStyle=Mr,t.translate(ol.renderLeft,ol.renderTop),t.rotate(ol.angle),t.fillRect(-ol.kernedWidth/2,b*ga+La,ol.kernedWidth,this.fontSize/15),t.restore();else if((at!==Vi||Jt!==Mr||ga!==ns||La!==no)&&En>0){let xs=l+Ne+mn;this.direction==="rtl"&&(xs=this.width-xs-En),Vi&&Mr&&(t.fillStyle=Mr,t.fillRect(xs,dr+b*ns+no,En,this.fontSize/15)),mn=ol.left,En=ol.width,Vi=at,Mr=Jt,ns=ga,no=La}else En+=ol.kernedWidth}let Yo=l+Ne+mn;this.direction==="rtl"&&(Yo=this.width-Yo-En),t.fillStyle=Jt,at&&Jt&&t.fillRect(Yo,dr+b*ns+no,En-g,this.fontSize/15),s+=B}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:i=this.fontStyle,fontWeight:s=this.fontWeight,fontSize:l=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;const g=t.includes("'")||t.includes('"')||t.includes(",")||xl.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[i,s,"".concat(u?this.CACHE_FONT_SIZE:l,"px"),g].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Ki(t)}_splitTextIntoLines(t){const i=t.split(this._reNewline),s=new Array(i.length),l=[`
`];let u=[];for(let g=0;g<i.length;g++)s[g]=this.graphemeSplit(i[g]),u=u.concat(s[g],l);return u.pop(),{_unwrappedLines:s,lines:i,graphemeText:u,graphemeLines:s}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z(z({},super.toObject([...es,...t])),{},{styles:Ea(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,i){const{textLayoutProperties:s}=this.constructor;super.set(t,i);let l=!1,u=!1;if(typeof t=="object")for(const g in t)g==="path"&&this.setPathInfo(),l=l||s.includes(g),u=u||g==="path";else l=s.includes(t),u=t==="path";return u&&this.setPathInfo(),l&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static fromElement(t,i,s){return Rl(this,null,function*(){const l=Ql(t,xl.ATTRIBUTE_NAMES,s),u=z(z({},i),l),{textAnchor:g=et,textDecoration:b="",dx:A=0,dy:L=0,top:B=0,left:te=0,fontSize:ge=Fe,strokeWidth:Ne=1}=u,at=ie(u,pu),Jt=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),z({left:te+A,top:B+L,underline:b.includes("underline"),overline:b.includes("overline"),linethrough:b.includes("line-through"),strokeWidth:0,fontSize:ge},at)),mn=Jt.getScaledHeight()/Jt.height,En=((Jt.height+Jt.strokeWidth)*Jt.lineHeight-Jt.height)*mn,Vi=Jt.getScaledHeight()+En;let Mr=0;return g===_t&&(Mr=Jt.getScaledWidth()/2),g===pt&&(Mr=Jt.getScaledWidth()),Jt.set({left:Jt.left-Mr,top:Jt.top-(Vi-Jt.fontSize*(.07+Jt._fontSizeFraction))/Jt.lineHeight,strokeWidth:Ne}),Jt})}static fromObject(t){return this._fromObject(z(z({},t),{},{styles:pa(t.styles||{},t.text)}),{extraParam:"text"})}}a(xl,"textLayoutProperties",ls),a(xl,"cacheProperties",[...N,...es]),a(xl,"ownDefaults",fl),a(xl,"type","Text"),a(xl,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),a(xl,"ATTRIBUTE_NAMES",$o.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),Ve(xl,[class extends Uo{_toSVG(){const v=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(v.textTop,v.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(v){const t=this._createBaseSVGMarkup(this._toSVG(),{reviver:v,noStyle:!0,withShadow:!0}),i=this.path;return i?t+i._createBaseSVGMarkup(i._toSVG(),{reviver:v,withShadow:!0,additionalTransform:ci(this.calcOwnMatrix())}):t}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(v){let{textBgRects:t,textSpans:i}=v;const s=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(nc,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",s?'text-decoration="'.concat(s,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",i.join(""),`</text>
`]}_getSVGTextAndBg(v,t){const i=[],s=[];let l,u=v;this.backgroundColor&&s.push(...pc(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let g=0,b=this._textLines.length;g<b;g++)l=this._getLineLeftOffset(g),this.direction==="rtl"&&(l+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(s,g,t+l,u),this._setSVGTextLineText(i,g,t+l,u),u+=this.getHeightOfLine(g);return{textSpans:i,textBgRects:s}}_createTextCharSpan(v,t,i,s,l){const u=J.NUM_FRACTION_DIGITS,g=this.getSvgSpanStyles(t,v!==v.trim()||!!v.match(Gl)),b=g?'style="'.concat(g,'"'):"",A=t.deltaY,L=A?' dy="'.concat(pn(A,u),'" '):"",{angle:B,renderLeft:te,renderTop:ge,width:Ne}=l;let at="";if(te!==void 0){const Jt=Ne/2;B&&(at=' rotate="'.concat(pn($n(B),u),'"'));const mn=nt({angle:$n(B)});mn[4]=te,mn[5]=ge;const En=new Et(-Jt,0).transform(mn);i=En.x,s=En.y}return'<tspan x="'.concat(pn(i,u),'" y="').concat(pn(s,u),'" ').concat(L).concat(at).concat(b,">").concat(Pr(v),"</tspan>")}_setSVGTextLineText(v,t,i,s){const l=this.getHeightOfLine(t),u=this.textAlign.includes(qa),g=this._textLines[t];let b,A,L,B,te,ge="",Ne=0;s+=l*(1-this._fontSizeFraction)/this.lineHeight;for(let at=0,Jt=g.length-1;at<=Jt;at++)te=at===Jt||this.charSpacing||this.path,ge+=g[at],L=this.__charBounds[t][at],Ne===0?(i+=L.kernedWidth-L.width,Ne+=L.width):Ne+=L.kernedWidth,u&&!te&&this._reSpaceAndTab.test(g[at])&&(te=!0),te||(b=b||this.getCompleteStyleDeclaration(t,at),A=this.getCompleteStyleDeclaration(t,at+1),te=Vo(b,A,!0)),te&&(B=this._getStyleDeclaration(t,at),v.push(this._createTextCharSpan(ge,B,i,s,L)),ge="",b=A,this.direction==="rtl"?i-=Ne:i+=Ne,Ne=0)}_setSVGTextLineBg(v,t,i,s){const l=this._textLines[t],u=this.getHeightOfLine(t)/this.lineHeight;let g,b=0,A=0,L=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let B=0;B<l.length;B++){const{left:te,width:ge,kernedWidth:Ne}=this.__charBounds[t][B];g=this.getValueOfPropertyAt(t,B,"textBackgroundColor"),g!==L?(L&&v.push(...pc(L,i+A,s,b,u)),A=te,b=ge,L=g):b+=Ne}g&&v.push(...pc(L,i+A,s,b,u))}_getSVGLineTopOffset(v){let t,i=0;for(t=0;t<v;t++)i+=this.getHeightOfLine(t);const s=this.getHeightOfLine(t);return{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(v){return"".concat(super.getSvgStyles(v)," white-space: pre;")}getSvgSpanStyles(v,t){const{fontFamily:i,strokeWidth:s,stroke:l,fill:u,fontSize:g,fontStyle:b,fontWeight:A,deltaY:L}=v,B=this.getSvgTextDecoration(v);return[l?_s(rt,l):"",s?"stroke-width: ".concat(s,"; "):"",i?"font-family: ".concat(i.includes("'")||i.includes('"')?i:"'".concat(i,"'"),"; "):"",g?"font-size: ".concat(g,"px; "):"",b?"font-style: ".concat(b,"; "):"",A?"font-weight: ".concat(A,"; "):"",B&&"text-decoration: ".concat(B,"; "),u?_s(Xt,u):"",L?"baseline-shift: ".concat(-L,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(v){return["overline","underline","line-through"].filter(t=>v[t.replace("-","")]).join(" ")}}]),en.setClass(xl),en.setSVGClass(xl);class $c{constructor(t){a(this,"target",void 0),a(this,"__mouseDownInPlace",!1),a(this,"__dragStartFired",!1),a(this,"__isDraggingOver",!1),a(this,"__dragStartSelection",void 0),a(this,"__dragImageDisposer",void 0),a(this,"_dispose",void 0),this.target=t;const i=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{i.forEach(s=>s()),this._dispose=void 0}}isPointerOverSelection(t){const i=this.target,s=i.getSelectionStartFromPointer(t);return i.isEditing&&s>=i.selectionStart&&s<=i.selectionEnd&&i.selectionStart<i.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const i=this.isActive();return i&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,i}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,i){var s;let{selectionStart:l,selectionEnd:u}=i;const g=this.target,b=g.canvas,A=new Et(g.flipX?-1:1,g.flipY?-1:1),L=g._getCursorBoundaries(l),B=new Et(L.left+L.leftOffset,L.top+L.topOffset).multiply(A).transform(g.calcTransformMatrix()),te=b.getScenePoint(t).subtract(B),ge=g.getCanvasRetinaScaling(),Ne=g.getBoundingRect(),at=B.subtract(new Et(Ne.left,Ne.top)),Jt=b.viewportTransform,mn=at.add(te).transform(Jt,!0),En=g.backgroundColor,Vi=sr(g.styles);g.backgroundColor="";const Mr={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};g.setSelectionStyles(Mr,0,l),g.setSelectionStyles(Mr,u,g.text.length),g.dirty=!0;const dr=g.toCanvasElement({enableRetinaScaling:b.enableRetinaScaling,viewportTransform:!0});g.backgroundColor=En,g.styles=Vi,g.dirty=!0,Cn(dr,{position:"fixed",left:"".concat(-dr.width,"px"),border:je,width:"".concat(dr.width/ge,"px"),height:"".concat(dr.height/ge,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{dr.remove()},Zr(t.target||this.target.hiddenTextarea).body.appendChild(dr),(s=t.dataTransfer)===null||s===void 0||s.setDragImage(dr,mn.x,mn.y)}onDragStart(t){this.__dragStartFired=!0;const i=this.target,s=this.isActive();if(s&&t.dataTransfer){const l=this.__dragStartSelection={selectionStart:i.selectionStart,selectionEnd:i.selectionEnd},u=i._text.slice(l.selectionStart,l.selectionEnd).join(""),g=z({text:i.text,value:u},l);t.dataTransfer.setData("text/plain",u),t.dataTransfer.setData("application/fabric",JSON.stringify({value:u,styles:i.getSelectionStyles(l.selectionStart,l.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,g)}return i.abortCursorAnimation(),s}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const i=this.target.getSelectionStartFromPointer(t),s=this.__dragStartSelection;return i<s.selectionStart||i>s.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e:i}=t;const s=this.targetCanDrop(i);!this.__isDraggingOver&&s&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e:i}=t,s=this.targetCanDrop(i);!this.__isDraggingOver&&s?this.__isDraggingOver=!0:this.__isDraggingOver&&!s&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(i.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var i;const{e:s}=t,l=s.defaultPrevented;this.__isDraggingOver=!1,s.preventDefault();let u=(i=s.dataTransfer)===null||i===void 0?void 0:i.getData("text/plain");if(u&&!l){const g=this.target,b=g.canvas;let A=g.getSelectionStartFromPointer(s);const{styles:L}=s.dataTransfer.types.includes("application/fabric")?JSON.parse(s.dataTransfer.getData("application/fabric")):{},B=u[Math.max(0,u.length-1)],te=0;if(this.__dragStartSelection){const ge=this.__dragStartSelection.selectionStart,Ne=this.__dragStartSelection.selectionEnd;A>ge&&A<=Ne?A=ge:A>Ne&&(A-=Ne-ge),g.removeChars(ge,Ne),delete this.__dragStartSelection}g._reNewline.test(B)&&(g._reNewline.test(g._text[A])||A===g._text.length)&&(u=u.trimEnd()),t.didDrop=!0,t.dropTarget=g,g.insertChars(u,L,A),b.setActiveObject(g),g.enterEditing(s),g.selectionStart=Math.min(A+te,g._text.length),g.selectionEnd=Math.min(g.selectionStart+u.length,g._text.length),g.hiddenTextarea.value=g.text,g._updateTextarea(),g.hiddenTextarea.focus(),g.fire(si,{index:A+te,action:"drop"}),b.fire("text:changed",{target:g}),b.contextTopDirty=!0,b.requestRenderAll()}}dragEndHandler(t){let{e:i}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var s;const l=this.target,u=this.target.canvas,{selectionStart:g,selectionEnd:b}=this.__dragStartSelection,A=((s=i.dataTransfer)===null||s===void 0?void 0:s.dropEffect)||je;A===je?(l.selectionStart=g,l.selectionEnd=b,l._updateTextarea(),l.hiddenTextarea.focus()):(l.clearContextTop(),A==="move"&&(l.removeChars(g,b),l.selectionStart=l.selectionEnd=g,l.hiddenTextarea&&(l.hiddenTextarea.value=l.text),l._updateTextarea(),l.fire(si,{index:g,action:"dragend"}),u.fire("text:changed",{target:l}),u.requestRenderAll()),l.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const Zc=/[ \n\.,;!\?\-]/;class mu extends xl{constructor(){super(...arguments),a(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:i,duration:s,delay:l,onComplete:u}=t;return Je({startValue:this._currentCursorOpacity,endValue:i,duration:s,delay:l,onComplete:u,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:g=>{this._currentCursorOpacity=g,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(i=>{i&&!i.isDone()&&(t=!0,i.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let i=0,s=t-1;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)i++,s--;for(;/\S/.test(this._text[s])&&s>-1;)i++,s--;return t-i}findWordBoundaryRight(t){let i=0,s=t;if(this._reSpace.test(this._text[s]))for(;this._reSpace.test(this._text[s]);)i++,s++;for(;/\S/.test(this._text[s])&&s<this._text.length;)i++,s++;return t+i}findLineBoundaryLeft(t){let i=0,s=t-1;for(;!/\n/.test(this._text[s])&&s>-1;)i++,s--;return t-i}findLineBoundaryRight(t){let i=0,s=t;for(;!/\n/.test(this._text[s])&&s<this._text.length;)i++,s++;return t+i}searchWordBoundary(t,i){const s=this._text;let l=t>0&&this._reSpace.test(s[t])&&(i===-1||!Ct.test(s[t-1]))?t-1:t,u=s[l];for(;l>0&&l<s.length&&!Zc.test(u);)l+=i,u=s[l];return i===-1&&Zc.test(u)&&l++,l}selectWord(t){var i;t=(i=t)!==null&&i!==void 0?i:this.selectionStart;const s=this.searchWordBoundary(t,-1),l=Math.max(s,this.searchWordBoundary(t,1));this.selectionStart=s,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){var i;t=(i=t)!==null&&i!==void 0?i:this.selectionStart;const s=this.findLineBoundaryLeft(t),l=this.findLineBoundaryRight(t);this.selectionStart=s,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const i=this.hiddenTextarea;Zr(i).activeElement!==i&&i.focus();const s=this.getSelectionStartFromPointer(t),l=this.selectionStart,u=this.selectionEnd;(s===this.__selectionStartOnMouseDown&&l!==u||l!==s&&u!==s)&&(s>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=s):(this.selectionStart=s,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===l&&this.selectionEnd===u||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,i,s){const l=s.slice(0,t),u=this.graphemeSplit(l).length;if(t===i)return{selectionStart:u,selectionEnd:u};const g=s.slice(t,i);return{selectionStart:u,selectionEnd:u+this.graphemeSplit(g).length}}fromGraphemeToStringSelection(t,i,s){const l=s.slice(0,t).join("").length;return t===i?{selectionStart:l,selectionEnd:l}:{selectionStart:l,selectionEnd:l+s.slice(t,i).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const i=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,i=this._getCursorBoundaries(t),s=this.get2DCursorLocation(t),l=s.lineIndex,u=s.charIndex,g=this.getValueOfPropertyAt(l,u,"fontSize")*this.lineHeight,b=i.leftOffset,A=this.getCanvasRetinaScaling(),L=this.canvas.upperCanvasEl,B=L.width/A,te=L.height/A,ge=B-g,Ne=te-g,at=new Et(i.left+b,i.top+i.topOffset+g).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Et(L.clientWidth/B,L.clientHeight/te));return at.x<0&&(at.x=0),at.x>ge&&(at.x=ge),at.y<0&&(at.y=0),at.y>Ne&&(at.y=Ne),at.x+=this.canvas._offset.left,at.y+=this.canvas._offset.top,{left:"".concat(at.x,"px"),top:"".concat(at.y,"px"),fontSize:"".concat(g,"px"),charHeight:g}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(Pt),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,i){const{lineIndex:s,charIndex:l}=this.get2DCursorLocation(t,!0),{lineIndex:u,charIndex:g}=this.get2DCursorLocation(i,!0);if(s!==u){if(this.styles[s])for(let b=l;b<this._unwrappedTextLines[s].length;b++)delete this.styles[s][b];if(this.styles[u])for(let b=g;b<this._unwrappedTextLines[u].length;b++){const A=this.styles[u][b];A&&(this.styles[s]||(this.styles[s]={}),this.styles[s][l+b-g]=A)}for(let b=s+1;b<=u;b++)delete this.styles[b];this.shiftLineStyles(u,s-u)}else if(this.styles[s]){const b=this.styles[s],A=g-l;for(let L=l;L<g;L++)delete b[L];for(const L in this.styles[s]){const B=parseInt(L,10);B>=g&&(b[B-A]=b[L],delete b[L])}}}shiftLineStyles(t,i){const s=Object.assign({},this.styles);for(const l in this.styles){const u=parseInt(l,10);u>t&&(this.styles[u+i]=s[u],s[u-i]||delete this.styles[u])}}insertNewlineStyleObject(t,i,s,l){const u={},g=this._unwrappedTextLines[t].length,b=g===i;let A=!1;s||(s=1),this.shiftLineStyles(t,s);const L=this.styles[t]?this.styles[t][i===0?i:i-1]:void 0;for(const te in this.styles[t]){const ge=parseInt(te,10);ge>=i&&(A=!0,u[ge-i]=this.styles[t][te],b&&i===0||delete this.styles[t][te])}let B=!1;for(A&&!b&&(this.styles[t+s]=u,B=!0),(B||g>i)&&s--;s>0;)l&&l[s-1]?this.styles[t+s]={0:z({},l[s-1])}:L?this.styles[t+s]={0:z({},L)}:delete this.styles[t+s],s--;this._forceClearCache=!0}insertCharStyleObject(t,i,s,l){this.styles||(this.styles={});const u=this.styles[t],g=u?z({},u):{};s||(s=1);for(const A in g){const L=parseInt(A,10);L>=i&&(u[L+s]=g[L],g[L-s]||delete u[L])}if(this._forceClearCache=!0,l){for(;s--;)Object.keys(l[s]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][i+s]=z({},l[s]));return}if(!u)return;const b=u[i?i-1:1];for(;b&&s--;)this.styles[t][i+s]=z({},b)}insertNewStyleBlock(t,i,s){const l=this.get2DCursorLocation(i,!0),u=[0];let g,b=0;for(let A=0;A<t.length;A++)t[A]===`
`?(b++,u[b]=0):u[b]++;for(u[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,u[0],s),s=s&&s.slice(u[0]+1)),b&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+u[0],b),g=1;g<b;g++)u[g]>0?this.insertCharStyleObject(l.lineIndex+g,0,u[g],s):s&&this.styles[l.lineIndex+g]&&s[0]&&(this.styles[l.lineIndex+g][0]=s[0]),s=s&&s.slice(u[g]+1);u[g]>0&&this.insertCharStyleObject(l.lineIndex+g,0,u[g],s)}removeChars(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,i),this._text.splice(t,i-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,i,s){let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s;l>s&&this.removeStyleFromTo(s,l);const u=this.graphemeSplit(t);this.insertNewStyleBlock(u,s,i),this._text=[...this._text.slice(0,s),...u,...this._text.slice(l)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,i,s){s<=t?(i===t?this._selectionDirection=et:this._selectionDirection===pt&&(this._selectionDirection=et,this.selectionEnd=t),this.selectionStart=s):s>t&&s<i?this._selectionDirection===pt?this.selectionEnd=s:this.selectionStart=s:(i===t?this._selectionDirection=pt:this._selectionDirection===et&&(this._selectionDirection=pt,this.selectionStart=i),this.selectionEnd=s)}}class f extends mu{initHiddenTextarea(){const t=this.canvas&&Zr(this.canvas.getElement())||vt(),i=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(g=>{let[b,A]=g;return i.setAttribute(b,A)});const{top:s,left:l,fontSize:u}=this._calcTextareaPosition();i.style.cssText="position: absolute; top: ".concat(s,"; left: ").concat(l,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(u,";"),(this.hiddenTextareaContainer||t.body).appendChild(i),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(g=>{let[b,A]=g;return i.addEventListener(b,this[A].bind(this))}),this.hiddenTextarea=i}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in i)this[i[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const i=this.fromPaste,{value:s,selectionStart:l,selectionEnd:u}=this.hiddenTextarea;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const g=()=>{this.updateFromTextArea(),this.fire(si),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void g();const b=this._splitTextIntoLines(s).graphemeText,A=this._text.length,L=b.length,B=this.selectionStart,te=this.selectionEnd,ge=B!==te;let Ne,at,Jt,mn,En=L-A;const Vi=this.fromStringToGraphemeSelection(l,u,s),Mr=B>Vi.selectionStart;ge?(at=this._text.slice(B,te),En+=te-B):L<A&&(at=Mr?this._text.slice(te+En,te):this._text.slice(B,B-En));const dr=b.slice(Vi.selectionEnd-En,Vi.selectionEnd);if(at&&at.length&&(dr.length&&(Ne=this.getSelectionStyles(B,B+1,!1),Ne=dr.map(()=>Ne[0])),ge?(Jt=B,mn=te):Mr?(Jt=te-at.length,mn=te):(Jt=te,mn=te+at.length),this.removeStyleFromTo(Jt,mn)),dr.length){const{copyPasteData:ns}=Ye();i&&dr.join("")===ns.copiedText&&!J.disableStyleCopyPaste&&(Ne=ns.copiedTextStyle),this.insertNewStyleBlock(dr,B,Ne)}g()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:i}=t;const{selectionStart:s,selectionEnd:l}=i;this.compositionStart=s,this.compositionEnd=l,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=Ye();t.copiedText=this.getSelectedText(),J.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,i){let s,l=this._getLineLeftOffset(t);return i>0&&(s=this.__charBounds[t][i-1],l+=s.left+s.width),l}getDownCursorOffset(t,i){const s=this._getSelectionForOffset(t,i),l=this.get2DCursorLocation(s),u=l.lineIndex;if(u===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-s;const g=l.charIndex,b=this._getWidthBeforeCursor(u,g),A=this._getIndexOnLine(u+1,b);return this._textLines[u].slice(g).length+A+1+this.missingNewlineOffset(u)}_getSelectionForOffset(t,i){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,i){const s=this._getSelectionForOffset(t,i),l=this.get2DCursorLocation(s),u=l.lineIndex;if(u===0||t.metaKey||t.keyCode===33)return-s;const g=l.charIndex,b=this._getWidthBeforeCursor(u,g),A=this._getIndexOnLine(u-1,b),L=this._textLines[u].slice(0,g),B=this.missingNewlineOffset(u-1);return-this._textLines[u-1].length+A-L.length+(1-B)}_getIndexOnLine(t,i){const s=this._textLines[t];let l,u,g=this._getLineLeftOffset(t),b=0;for(let A=0,L=s.length;A<L;A++)if(l=this.__charBounds[t][A].width,g+=l,g>i){u=!0;const B=g-l,te=g,ge=Math.abs(B-i);b=Math.abs(te-i)<ge?A:A-1;break}return u||(b=s.length-1),b}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,i){const s=this["get".concat(t,"CursorOffset")](i,this._selectionDirection===pt);if(i.shiftKey?this.moveCursorWithShift(s):this.moveCursorWithoutShift(s),s!==0){const l=this.text.length;this.selectionStart=P(0,this.selectionStart,l),this.selectionEnd=P(0,this.selectionEnd,l),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const i=this._selectionDirection===et?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,i,s){let l;if(t.altKey)l=this["findWordBoundary".concat(s)](this[i]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[i]+=s==="Left"?-1:1,!0;l=this["findLineBoundary".concat(s)](this[i])}return l!==void 0&&this[i]!==l&&(this[i]=l,!0)}_moveLeft(t,i){return this._move(t,i,"Left")}_moveRight(t,i){return this._move(t,i,"Right")}moveCursorLeftWithoutShift(t){let i=!0;return this._selectionDirection=et,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,i}moveCursorLeftWithShift(t){return this._selectionDirection===pt&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=et,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,i){const s="moveCursor".concat(t).concat(i.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[s](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===et&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=pt,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let i=!0;return this._selectionDirection=pt,this.selectionStart===this.selectionEnd?(i=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i}}const _=v=>!!v.button;class U extends f{constructor(){super(...arguments),a(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new $c(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}doubleClickHandler(t){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}tripleClickHandler(t){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}_mouseDownHandler(t){let{e:i,alreadySelected:s}=t;this.canvas&&this.editable&&!_(i)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(i)||(this.canvas.textEditingManager.register(this),s&&(this.inCompositionMode=!1,this.setCursorByClick(i)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=s||this.isEditing)))}mouseUpHandler(t){let{e:i,transform:s}=t;const l=this.draggableTextDelegate.end(i);if(this.canvas){this.canvas.textEditingManager.unregister(this);const u=this.canvas._activeObject;if(u&&u!==this)return}!this.editable||this.group&&!this.group.interactive||s&&s.actionPerformed||_(i)||l||this.selected&&!this.getActiveControl()&&(this.enterEditing(i),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(t){const i=this.getSelectionStartFromPointer(t),s=this.selectionStart,l=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(s,l,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const i=this.canvas.getScenePoint(t).transform(Ir(this.calcTransformMatrix())).add(new Et(-this._getLeftOffset(),-this._getTopOffset()));let s=0,l=0,u=0;for(let L=0;L<this._textLines.length&&s<=i.y;L++)s+=this.getHeightOfLine(L),u=L,L>0&&(l+=this._textLines[L-1].length+this.missingNewlineOffset(L-1));let g=Math.abs(this._getLineLeftOffset(u));const b=this._textLines[u].length,A=this.__charBounds[u];for(let L=0;L<b;L++){const B=g+A[L].kernedWidth;if(i.x<=B){Math.abs(i.x-B)<=Math.abs(i.x-g)&&l++;break}g=B,l++}return Math.min(this.flipX?b-l:l,this._text.length)}}const I="moveCursorUp",q="moveCursorDown",Se="moveCursorLeft",Ie="moveCursorRight",D="exitEditing",ne=(v,t)=>{const i=t.getRetinaScaling();v.setTransform(i,0,0,i,0,0);const s=t.viewportTransform;v.transform(s[0],s[1],s[2],s[3],s[4],s[5])},ue=z({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:D,27:D,33:I,34:q,35:Ie,36:Se,37:Se,38:I,39:Ie,40:q},keysMapRtl:{9:D,27:D,33:I,34:q,35:Se,36:Ie,37:Ie,38:I,39:Se,40:q},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class le extends U{static getDefaults(){return z(z({},super.getDefaults()),le.ownDefaults)}get type(){const t=super.type;return t==="itext"?"i-text":t}constructor(t,i){super(t,z(z({},le.ownDefaults),i)),this.initBehavior()}_set(t,i){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=i,this):(t==="canvas"&&(this.canvas instanceof yo&&this.canvas.textEditingManager.remove(this),i instanceof yo&&i.textEditingManager.add(this)),super._set(t,i))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,i){this[t]!==i&&(this._fireSelectionChanged(),this[t]=i),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,s=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,i,s)}setSelectionStyles(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,i,s)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,i=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,i)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const i=this.isEditing;this.isEditing=!1;const s=super.toCanvasElement(t);return this.isEditing=i,s}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const t=this.clearContextTop(!0);if(!t)return;const i=this._getCursorBoundaries(),s=this.findAncestorsWithClipPath(),l=s.length>0;let u,g=t;if(l){u=pi(t.canvas),g=u.getContext("2d"),ne(g,this.canvas);const b=this.calcTransformMatrix();g.transform(b[0],b[1],b[2],b[3],b[4],b[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(g,i):this.renderCursor(g,i),l)for(const b of s){const A=b.clipPath,L=pi(t.canvas),B=L.getContext("2d");if(ne(B,this.canvas),!A.absolutePositioned){const te=b.calcTransformMatrix();B.transform(te[0],te[1],te[2],te[3],te[4],te[5])}A.transform(B),A.drawObject(B,!0,{}),this.drawClipPathOnCache(g,A,L)}l&&(t.setTransform(1,0,0,1,0,0),t.drawImage(u,0,0)),this.canvas.contextTopDirty=!0,t.restore()}findAncestorsWithClipPath(){const t=[];let i=this;for(;i;)i.clipPath&&t.push(i),i=i.parent;return t}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,i=arguments.length>1?arguments[1]:void 0;const s=this._getLeftOffset(),l=this._getTopOffset(),u=this._getCursorBoundariesOffsets(t,i);return{left:s,top:l,leftOffset:u.left,topOffset:u.top}}_getCursorBoundariesOffsets(t,i){return i?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let i=0,s=0;const{charIndex:l,lineIndex:u}=this.get2DCursorLocation(t);for(let L=0;L<u;L++)i+=this.getHeightOfLine(L);const g=this._getLineLeftOffset(u),b=this.__charBounds[u][l];b&&(s=b.left),this.charSpacing!==0&&l===this._textLines[u].length&&(s-=this._getWidthOfCharSpacing());const A={top:i,left:g+(s>0?s:0)};return this.direction==="rtl"&&(this.textAlign===pt||this.textAlign===qa||this.textAlign===cl?A.left*=-1:this.textAlign===et||this.textAlign===ma?A.left=g-(s>0?s:0):this.textAlign!==_t&&this.textAlign!==Wl||(A.left=g-(s>0?s:0))),A}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,i){this._renderCursor(t,i,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t);const s=this.get2DCursorLocation(t),l=s.lineIndex,u=s.charIndex>0?s.charIndex-1:0,g=this.getValueOfPropertyAt(l,u,"fontSize"),b=this.getObjectScaling().x*this.canvas.getZoom(),A=this.cursorWidth/b,L=this.getValueOfPropertyAt(l,u,"deltaY"),B=i.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-g*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(l,u,"fill"),opacity:this._currentCursorOpacity,left:i.left+i.leftOffset-A/2,top:B+i.top+L,width:A,height:g}}_renderCursor(t,i,s){const{color:l,opacity:u,left:g,top:b,width:A,height:L}=this.getCursorRenderingData(s,i);t.fillStyle=l,t.globalAlpha=u,t.fillRect(g,b,A,L)}renderSelection(t,i){const s={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,s,i)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const i=this.getSelectionStartFromPointer(t);this.renderCursorAt(i)}_renderSelection(t,i,s){const l=i.selectionStart,u=i.selectionEnd,g=this.textAlign.includes(qa),b=this.get2DCursorLocation(l),A=this.get2DCursorLocation(u),L=b.lineIndex,B=A.lineIndex,te=b.charIndex<0?0:b.charIndex,ge=A.charIndex<0?0:A.charIndex;for(let Ne=L;Ne<=B;Ne++){const at=this._getLineLeftOffset(Ne)||0;let Jt=this.getHeightOfLine(Ne),mn=0,En=0,Vi=0;if(Ne===L&&(En=this.__charBounds[L][te].left),Ne>=L&&Ne<B)Vi=g&&!this.isEndOfWrapping(Ne)?this.width:this.getLineWidth(Ne)||5;else if(Ne===B)if(ge===0)Vi=this.__charBounds[B][ge].left;else{const Yo=this._getWidthOfCharSpacing();Vi=this.__charBounds[B][ge-1].left+this.__charBounds[B][ge-1].width-Yo}mn=Jt,(this.lineHeight<1||Ne===B&&this.lineHeight>1)&&(Jt/=this.lineHeight);let Mr=s.left+at+En,dr=Jt,ns=0;const no=Vi-En;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",dr=1,ns=Jt):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===pt||this.textAlign===qa||this.textAlign===cl?Mr=this.width-Mr-no:this.textAlign===et||this.textAlign===ma?Mr=s.left+at-Vi:this.textAlign!==_t&&this.textAlign!==Wl||(Mr=s.left+at-Vi)),t.fillRect(Mr,s.top+s.topOffset+ns,no,dr),s.topOffset+=mn}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,Xt)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),i=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:i}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}a(le,"ownDefaults",ue),a(le,"type","IText"),en.setClass(le),en.setClass(le,"i-text");class ce extends le{static getDefaults(){return z(z({},super.getDefaults()),ce.ownDefaults)}constructor(t,i){super(t,z(z({},ce.ownDefaults),i))}static createControls(){return{controls:Ps()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(qa)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let i=0,s=0,l=0;const u={};for(let g=0;g<t.graphemeLines.length;g++)t.graphemeText[l]===`
`&&g>0?(s=0,l++,i++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[l])&&g>0&&(s++,l++),u[g]={line:i,offset:s},l+=t.graphemeLines[g].length,s+=t.graphemeLines[g].length;return u}styleHas(t,i){if(this._styleMap&&!this.isWrapping){const s=this._styleMap[i];s&&(i=s.line)}return super.styleHas(t,i)}isEmptyStyles(t){if(!this.styles)return!0;let i,s=0,l=t+1,u=!1;const g=this._styleMap[t],b=this._styleMap[t+1];g&&(t=g.line,s=g.offset),b&&(l=b.line,u=l===t,i=b.offset);const A=t===void 0?this.styles:{line:this.styles[t]};for(const L in A)for(const B in A[L]){const te=parseInt(B,10);if(te>=s&&(!u||te<i))for(const ge in A[L][B])return!1}return!0}_getStyleDeclaration(t,i){if(this._styleMap&&!this.isWrapping){const s=this._styleMap[t];if(!s)return{};t=s.line,i=s.offset+i}return super._getStyleDeclaration(t,i)}_setStyleDeclaration(t,i,s){const l=this._styleMap[t];super._setStyleDeclaration(l.line,l.offset+i,s)}_deleteStyleDeclaration(t,i){const s=this._styleMap[t];super._deleteStyleDeclaration(s.line,s.offset+i)}_getLineStyle(t){const i=this._styleMap[t];return!!this.styles[i.line]}_setLineStyle(t){const i=this._styleMap[t];super._setLineStyle(i.line)}_wrapText(t,i){this.isWrapping=!0;const s=this.getGraphemeDataForRender(t),l=[];for(let u=0;u<s.wordsData.length;u++)l.push(...this._wrapLine(u,i,s));return this.isWrapping=!1,l}getGraphemeDataForRender(t){const i=this.splitByGrapheme,s=i?"":" ";let l=0;return{wordsData:t.map((u,g)=>{let b=0;const A=i?this.graphemeSplit(u):this.wordSplit(u);return A.length===0?[{word:[],width:0}]:A.map(L=>{const B=i?[L]:this.graphemeSplit(L),te=this._measureWord(B,g,b);return l=Math.max(te,l),b+=B.length+s.length,{word:B,width:te}})}),largestWordWidth:l}}_measureWord(t,i){let s,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=0;for(let g=0,b=t.length;g<b;g++)u+=this._getGraphemeBox(t[g],i,g+l,s,!0).kernedWidth,s=t[g];return u}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,i,s){let{largestWordWidth:l,wordsData:u}=s,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const b=this._getWidthOfCharSpacing(),A=this.splitByGrapheme,L=[],B=A?"":" ";let te=0,ge=[],Ne=0,at=0,Jt=!0;i-=g;const mn=Math.max(i,l,this.dynamicMinWidth),En=u[t];let Vi;for(Ne=0,Vi=0;Vi<En.length;Vi++){const{word:Mr,width:dr}=En[Vi];Ne+=Mr.length,te+=at+dr-b,te>mn&&!Jt?(L.push(ge),ge=[],te=dr,Jt=!0):te+=b,Jt||A||ge.push(B),ge=ge.concat(Mr),at=A?0:this._measureWord([B],t,Ne),Ne++,Jt=!1}return Vi&&L.push(ge),l+g>this.dynamicMinWidth&&(this.dynamicMinWidth=l-b+g),L}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,i){return this.splitByGrapheme&&!i?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const i=super._splitTextIntoLines(t),s=this._wrapText(i.lines,this.width),l=new Array(s.length);for(let u=0;u<s.length;u++)l[u]=s[u].join("");return i.lines=l,i.graphemeLines=s,i}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const i in this._styleMap){const s=parseInt(i,10);if(this._textLines[s]){const l=this._styleMap[i].line;t.set("".concat(l),!0)}}for(const i in this.styles)t.has(i)||delete this.styles[i]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}}a(ce,"type","Textbox"),a(ce,"textLayoutProperties",[...le.textLayoutProperties,"width"]),a(ce,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),en.setClass(ce);class ut extends xc{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,i){const{target:s}=t,{clipPath:l,group:u}=s;if(!l||!this.shouldPerformLayout(t))return;const{width:g,height:b}=Bs(Bc(s,l)),A=new Et(g,b);if(l.absolutePositioned)return{center:Us(l.getRelativeCenterPoint(),void 0,u?u.calcTransformMatrix():void 0),size:A};{const L=l.getRelativeCenterPoint().transform(s.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:B=new Et,correction:te=new Et}=this.calcBoundingBox(i,t)||{};return{center:B.add(L),correction:te.subtract(L),size:A}}return{center:s.getRelativeCenterPoint().add(L),size:A}}}}a(ut,"type","clip-path"),en.setClass(ut);class Ge extends xc{getInitialSize(t,i){let{target:s}=t,{size:l}=i;return new Et(s.width||l.x,s.height||l.y)}}a(Ge,"type","fixed"),en.setClass(Ge);class yt extends nu{subscribeTargets(t){const i=t.target;t.targets.reduce((s,l)=>(l.parent&&s.add(l.parent),s),new Set).forEach(s=>{s.layoutManager.subscribeTargets({target:s,targets:[i]})})}unsubscribeTargets(t){const i=t.target,s=i.getObjects();t.targets.reduce((l,u)=>(u.parent&&l.add(u.parent),l),new Set).forEach(l=>{!s.some(u=>u.parent===l)&&l.layoutManager.unsubscribeTargets({target:l,targets:[i]})})}}class Xe extends tl{static getDefaults(){return z(z({},super.getDefaults()),Xe.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Xe.ownDefaults),this.setOptions(i);const{left:s,top:l,layoutManager:u}=i;this.groupInit(t,{left:s,top:l,layoutManager:u!=null?u:new yt})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];this.multiSelectionStacking==="selection-order"?this.add(...i):i.forEach(l=>{const u=this._objects.findIndex(b=>b.isInFrontOf(l)),g=u===-1?this.size():u;this.insertAt(g,l)})}canEnterGroup(t){return this.getObjects().some(i=>i.isDescendantOf(t)||t.isDescendantOf(i))?(oe("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,i){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,i)}exitGroup(t,i){this._exitGroup(t,i),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,i){super._onAfterObjectsChange(t,i);const s=new Set;i.forEach(l=>{const{parent:u}=l;u&&s.add(u)}),t===Wc?s.forEach(l=>{l._onAfterObjectsChange(Dl,i)}):s.forEach(l=>{l._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,i,s){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const l=z(z({hasControls:!1},s),{},{forActiveSelection:!0});for(let u=0;u<this._objects.length;u++)this._objects[u]._renderControls(t,l);super._renderControls(t,i),t.restore()}}a(Xe,"type","ActiveSelection"),a(Xe,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),en.setClass(Xe),en.setClass(Xe,"activeSelection");class dt{constructor(){a(this,"resources",{})}applyFilters(t,i,s,l,u){const g=u.getContext("2d");if(!g)return;g.drawImage(i,0,0,s,l);const b={sourceWidth:s,sourceHeight:l,imageData:g.getImageData(0,0,s,l),originalEl:i,originalImageData:g.getImageData(0,0,s,l),canvasEl:u,ctx:g,filterBackend:this};t.forEach(L=>{L.applyTo(b)});const{imageData:A}=b;return A.width===s&&A.height===l||(u.width=A.width,u.height=A.height),g.putImageData(A,0,0),b}}class Nt{constructor(){let{tileSize:t=J.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),a(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,i){this.dispose(),this.createWebGLCanvas(t,i)}createWebGLCanvas(t,i){const s=pi({width:t,height:i}),l=s.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});l&&(l.clearColor(0,0,0,0),this.canvas=s,this.gl=l)}applyFilters(t,i,s,l,u,g){const b=this.gl,A=u.getContext("2d");if(!b||!A)return;let L;g&&(L=this.getCachedTexture(g,i));const B={originalWidth:i.width||i.naturalWidth||0,originalHeight:i.height||i.naturalHeight||0,sourceWidth:s,sourceHeight:l,destinationWidth:s,destinationHeight:l,context:b,sourceTexture:this.createTexture(b,s,l,L?void 0:i),targetTexture:this.createTexture(b,s,l),originalTexture:L||this.createTexture(b,s,l,L?void 0:i),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:u},te=b.createFramebuffer();return b.bindFramebuffer(b.FRAMEBUFFER,te),t.forEach(ge=>{ge&&ge.applyTo(B)}),function(ge){const Ne=ge.targetCanvas,at=Ne.width,Jt=Ne.height,mn=ge.destinationWidth,En=ge.destinationHeight;at===mn&&Jt===En||(Ne.width=mn,Ne.height=En)}(B),this.copyGLTo2D(b,B),b.bindTexture(b.TEXTURE_2D,null),b.deleteTexture(B.sourceTexture),b.deleteTexture(B.targetTexture),b.deleteFramebuffer(te),A.setTransform(1,0,0,1,0,0),B}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,i,s,l,u){const{NEAREST:g,TEXTURE_2D:b,RGBA:A,UNSIGNED_BYTE:L,CLAMP_TO_EDGE:B,TEXTURE_MAG_FILTER:te,TEXTURE_MIN_FILTER:ge,TEXTURE_WRAP_S:Ne,TEXTURE_WRAP_T:at}=t,Jt=t.createTexture();return t.bindTexture(b,Jt),t.texParameteri(b,te,u||g),t.texParameteri(b,ge,u||g),t.texParameteri(b,Ne,B),t.texParameteri(b,at,B),l?t.texImage2D(b,0,A,A,L,l):t.texImage2D(b,0,A,i,s,0,A,L,null),Jt}getCachedTexture(t,i,s){const{textureCache:l}=this;if(l[t])return l[t];{const u=this.createTexture(this.gl,i.width,i.height,i,s);return u&&(l[t]=u),u}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,i){const s=t.canvas,l=i.targetCanvas,u=l.getContext("2d");if(!u)return;u.translate(0,l.height),u.scale(1,-1);const g=s.height-l.height;u.drawImage(s,0,g,l.width,l.height,0,0,l.width,l.height)}copyGLTo2DPutImageData(t,i){const s=i.targetCanvas.getContext("2d"),l=i.destinationWidth,u=i.destinationHeight,g=l*u*4;if(!s)return;const b=new Uint8Array(this.imageBuffer,0,g),A=new Uint8ClampedArray(this.imageBuffer,0,g);t.readPixels(0,0,l,u,t.RGBA,t.UNSIGNED_BYTE,b);const L=new ImageData(A,l,u);s.putImageData(L,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,i={renderer:"",vendor:""};if(!t)return i;const s=t.getExtension("WEBGL_debug_renderer_info");if(s){const l=t.getParameter(s.UNMASKED_RENDERER_WEBGL),u=t.getParameter(s.UNMASKED_VENDOR_WEBGL);l&&(i.renderer=l.toLowerCase()),u&&(i.vendor=u.toLowerCase())}return this.gpuInfo=i,i}}let ft;function an(){const{WebGLProbe:v}=Ye();return v.queryWebGL(kt()),J.enableGLFiltering&&v.isSupported(J.textureSize)?new Nt({tileSize:J.textureSize}):new dt}function Dn(){return!ft&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(ft=an()),ft}function ii(v){ft=v}const Un=["filters","resizeFilter","src","crossOrigin","type"],Gn=["cropX","cropY"];class zn extends At{static getDefaults(){return z(z({},super.getDefaults()),zn.ownDefaults)}constructor(t,i){super(),a(this,"_lastScaleX",1),a(this,"_lastScaleY",1),a(this,"_filterScalingX",1),a(this,"_filterScalingY",1),this.filters=[],Object.assign(this,zn.ownDefaults),this.setOptions(i),this.cacheKey="texture".concat(Ot()),this.setElement(typeof t=="string"?(this.canvas&&Zr(this.canvas.getElement())||vt()).getElementById(t):t,i)}getElement(){return this._element}setElement(t){var i;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(s),(i=t.classList)===null||i===void 0||i.add(zn.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const i=Dn(!1);i instanceof Nt&&i.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{const i=this[t];i&&Ye().dispose(i),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;const i=this.width/2,s=this.height/2;t.beginPath(),t.moveTo(-i,-s),t.lineTo(i,-s),t.lineTo(i,s),t.lineTo(-i,s),t.lineTo(-i,-s),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const i=[];return this.filters.forEach(s=>{s&&i.push(s.toObject())}),z(z({},super.toObject([...Gn,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:i},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],i=this._element,s=-this.width/2,l=-this.height/2;let u=[],g=[],b="",A="";if(!i)return[];if(this.hasCrop()){const L=Ot();u.push('<clipPath id="imageCrop_'+L+`">
`,'	<rect x="'+s+'" y="'+l+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),b=' clip-path="url(#imageCrop_'+L+')" '}if(this.imageSmoothing||(A=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(s-this.cropX,'" y="').concat(l-this.cropY,'" width="').concat(i.width||i.naturalWidth,'" height="').concat(i.height||i.naturalHeight,'"').concat(A).concat(b,`></image>
`)),this.stroke||this.strokeDashArray){const L=this.fill;this.fill=null,g=['	<rect x="'.concat(s,'" y="').concat(l,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=L}return u=this.paintFirst!==Xt?u.concat(g,t):u.concat(t,g),u}getSrc(t){const i=t?this._element:this._originalElement;return i?i.toDataURL?i.toDataURL():this.srcFromAttribute?i.getAttribute("src")||"":i.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:i,signal:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Lr(t,{crossOrigin:i,signal:s}).then(l=>{i!==void 0&&this.set({crossOrigin:i}),this.setElement(l)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const t=this.resizeFilter,i=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),l=s.x,u=s.y,g=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||l>i&&u>i)return this._element=g,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,void(this._lastScaleY=u);const b=pi(g),{width:A,height:L}=g;this._element=b,this._lastScaleX=t.scaleX=l,this._lastScaleY=t.scaleY=u,Dn().applyFilters([t],g,A,L,this._element),this._filterScalingX=b.width/this._originalElement.width,this._filterScalingY=b.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(u=>u&&!u.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const i=this._originalElement,s=i.naturalWidth||i.width,l=i.naturalHeight||i.height;if(this._element===this._originalElement){const u=pi({width:s,height:l});this._element=u,this._filteredEl=u}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,s,l),this._lastScaleX=1,this._lastScaleY=1);Dn().applyFilters(t,this._originalElement,s,l,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const i=this._element;if(!i)return;const s=this._filterScalingX,l=this._filterScalingY,u=this.width,g=this.height,b=Math.max(this.cropX,0),A=Math.max(this.cropY,0),L=i.naturalWidth||i.width,B=i.naturalHeight||i.height,te=b*s,ge=A*l,Ne=Math.min(u*s,L-te),at=Math.min(g*l,B-ge),Jt=-u/2,mn=-g/2,En=Math.min(u,L/s-b),Vi=Math.min(g,B/l-A);i&&t.drawImage(i,te,ge,Ne,at,Jt,mn,En,Vi)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=this.getOriginalSize();this.width=t||s.width,this.height=i||s.height}parsePreserveAspectRatioAttribute(){const t=ai(this.preserveAspectRatio||""),i=this.width,s=this.height,l={width:i,height:s};let u,g=this._element.width,b=this._element.height,A=1,L=1,B=0,te=0,ge=0,Ne=0;return!t||t.alignX===je&&t.alignY===je?(A=i/g,L=s/b):(t.meetOrSlice==="meet"&&(A=L=su(this._element,l),u=(i-g*A)/2,t.alignX==="Min"&&(B=-u),t.alignX==="Max"&&(B=u),u=(s-b*L)/2,t.alignY==="Min"&&(te=-u),t.alignY==="Max"&&(te=u)),t.meetOrSlice==="slice"&&(A=L=fu(this._element,l),u=g-i/A,t.alignX==="Mid"&&(ge=u/2),t.alignX==="Max"&&(ge=u),u=b-s/L,t.alignY==="Mid"&&(Ne=u/2),t.alignY==="Max"&&(Ne=u),g=i/A,b=s/L)),{width:g,height:b,scaleX:A,scaleY:L,offsetLeft:B,offsetTop:te,cropX:ge,cropY:Ne}}static fromObject(t,i){let{filters:s,resizeFilter:l,src:u,crossOrigin:g,type:b}=t,A=ie(t,Un);return Promise.all([Lr(u,z(z({},i),{},{crossOrigin:g})),s&&Tr(s,i),l&&Tr([l],i),Dt(A,i)]).then(L=>{let[B,te=[],[ge]=[],Ne={}]=L;return new this(B,z(z({},A),{},{src:u,filters:te,resizeFilter:ge},Ne))})}static fromURL(t){let{crossOrigin:i=null,signal:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;return Lr(t,{crossOrigin:i,signal:s}).then(u=>new this(u,l))}static fromElement(i){return Rl(this,arguments,function*(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2?arguments[2]:void 0;const u=Ql(t,this.ATTRIBUTE_NAMES,l);return this.fromURL(u["xlink:href"]||u.href,s,u).catch(g=>(oe("log","Unable to parse Image",g),null))})}}function zi(v){if(!ll.test(v.nodeName))return{};const t=v.getAttribute("viewBox");let i,s,l=1,u=1,g=0,b=0;const A=v.getAttribute("width"),L=v.getAttribute("height"),B=v.getAttribute("x")||0,te=v.getAttribute("y")||0,ge=!(t&&ba.test(t)),Ne=!A||!L||A==="100%"||L==="100%";let at="",Jt=0,mn=0;if(ge&&(B||te)&&v.parentNode&&v.parentNode.nodeName!=="#document"&&(at=" translate("+fr(B||"0")+" "+fr(te||"0")+") ",i=(v.getAttribute("transform")||"")+at,v.setAttribute("transform",i),v.removeAttribute("x"),v.removeAttribute("y")),ge&&Ne)return{width:0,height:0};const En={width:0,height:0};if(ge)return En.width=fr(A),En.height=fr(L),En;const Vi=t.match(ba);g=-parseFloat(Vi[1]),b=-parseFloat(Vi[2]);const Mr=parseFloat(Vi[3]),dr=parseFloat(Vi[4]);En.minX=g,En.minY=b,En.viewBoxWidth=Mr,En.viewBoxHeight=dr,Ne?(En.width=Mr,En.height=dr):(En.width=fr(A),En.height=fr(L),l=En.width/Mr,u=En.height/dr);const ns=ai(v.getAttribute("preserveAspectRatio")||"");if(ns.alignX!==je&&(ns.meetOrSlice==="meet"&&(u=l=l>u?u:l),ns.meetOrSlice==="slice"&&(u=l=l>u?l:u),Jt=En.width-Mr*l,mn=En.height-dr*l,ns.alignX==="Mid"&&(Jt/=2),ns.alignY==="Mid"&&(mn/=2),ns.alignX==="Min"&&(Jt=0),ns.alignY==="Min"&&(mn=0)),l===1&&u===1&&g===0&&b===0&&B===0&&te===0)return En;if((B||te)&&v.parentNode.nodeName!=="#document"&&(at=" translate("+fr(B||"0")+" "+fr(te||"0")+") "),i=at+" matrix("+l+" 0 0 "+u+" "+(g*l+Jt)+" "+(b*u+mn)+") ",v.nodeName==="svg"){for(s=v.ownerDocument.createElementNS(za,"g");v.firstChild;)s.appendChild(v.firstChild);v.appendChild(s)}else s=v,s.removeAttribute("x"),s.removeAttribute("y"),i=s.getAttribute("transform")+i;return s.setAttribute("transform",i),En}a(zn,"type","Image"),a(zn,"cacheProperties",[...N,...Gn]),a(zn,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),a(zn,"CSS_CANVAS","canvas-img"),a(zn,"ATTRIBUTE_NAMES",[...$o,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),en.setClass(zn),en.setSVGClass(zn);const Ci=v=>v.tagName.replace("svg:",""),Hi=zo(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function Qi(v,t){let i,s,l,u,g=[];for(l=0,u=t.length;l<u;l++)i=t[l],s=v.getElementsByTagNameNS("http://www.w3.org/2000/svg",i),g=g.concat(Array.from(s));return g}const Wr=null,Gi="xlink:href";function Bi(v,t){var i;const s=((i=t.getAttribute(Gi))===null||i===void 0?void 0:i.slice(1))||"",l=v.getElementById(s);if(l&&l.getAttribute(Gi)&&Bi(v,l),l&&(Wr.forEach(u=>{const g=l.getAttribute(u);!t.hasAttribute(u)&&g&&t.setAttribute(u,g)}),!t.children.length)){const u=l.cloneNode(!0);for(;u.firstChild;)t.appendChild(u.firstChild)}t.removeAttribute(Gi)}const Or=null;function Rr(v){const t=v.getElementsByTagName("style");let i,s;const l={};for(i=0,s=t.length;i<s;i++){const u=(t[i].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");u.trim()!==""&&u.split("}").filter((g,b,A)=>A.length>1&&g.trim()).forEach(g=>{if((g.match(/{/g)||[]).length>1&&g.trim().startsWith("@"))return;const b=g.split("{"),A={},L=b[1].trim().split(";").filter(function(B){return B.trim()});for(i=0,s=L.length;i<s;i++){const B=L[i].split(":"),te=B[0].trim(),ge=B[1].trim();A[te]=ge}(g=b[0].trim()).split(",").forEach(B=>{(B=B.replace(/^svg/i,"").trim())!==""&&(l[B]=z(z({},l[B]||{}),A))})})}return l}const ts=v=>en.getSVGClass(Ci(v).toLowerCase());class jr{constructor(t,i,s,l,u){this.elements=t,this.options=i,this.reviver=s,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l,this.clipPaths=u,this.gradientDefs=function(g){const b=Qi(g,Or),A={};let L=b.length;for(;L--;){const B=b[L];B.getAttribute("xlink:href")&&Bi(g,B);const te=B.getAttribute("id");te&&(A[te]=B)}return A}(l),this.cssRules=Rr(l)}parse(){return Promise.all(this.elements.map(t=>this.createObject(t)))}createObject(t){return Rl(this,null,function*(){const i=ts(t);if(i){const s=yield i.fromElement(t,this.options,this.cssRules);return this.resolveGradient(s,t,Xt),this.resolveGradient(s,t,rt),s instanceof zn&&s._originalElement?Ke(s,s.parsePreserveAspectRatioAttribute()):Ke(s),yield this.resolveClipPath(s,t),this.reviver&&this.reviver(t,s),s}return null})}extractPropertyDefinition(t,i,s){const l=t[i],u=this.regexUrl;if(!u.test(l))return;u.lastIndex=0;const g=u.exec(l)[1];return u.lastIndex=0,s[g]}resolveGradient(t,i,s){const l=this.extractPropertyDefinition(t,s,this.gradientDefs);if(l){const u=i.getAttribute(s+"-opacity"),g=$l.fromElement(l,t,z(z({},this.options),{},{opacity:u}));t.set(s,g)}}resolveClipPath(t,i,s){return Rl(this,null,function*(){const l=this.extractPropertyDefinition(t,"clipPath",this.clipPaths);if(l){const u=Ir(t.calcTransformMatrix()),g=l[0].parentElement;let b=i;for(;!s&&b.parentElement&&b.getAttribute("clip-path")!==t.clipPath;)b=b.parentElement;b.parentElement.appendChild(g);const A=Rc("".concat(b.getAttribute("transform")||""," ").concat(g.getAttribute("originalTransform")||""));g.setAttribute("transform","matrix(".concat(A.join(","),")"));const L=yield Promise.all(l.map(Vi=>ts(Vi).fromElement(Vi,this.options,this.cssRules).then(Mr=>(Ke(Mr),Mr.fillRule=Mr.clipRule,delete Mr.clipRule,Mr)))),B=L.length===1?L[0]:new tl(L),te=Z(u,B.calcTransformMatrix());B.clipPath&&(yield this.resolveClipPath(B,b,g.getAttribute("clip-path")?b:void 0));const{scaleX:ge,scaleY:Ne,angle:at,skewX:Jt,translateX:mn,translateY:En}=ve(te);B.set({flipX:!1,flipY:!1}),B.set({scaleX:ge,scaleY:Ne,angle:at,skewX:Jt,skewY:0}),B.setPositionByOrigin(new Et(mn,En),_t,_t),t.clipPath=B}else delete t.clipPath})}}const br=v=>$a.test(Ci(v)),Dr=()=>({objects:[],elements:[],options:{},allElements:[]});function ao(i,s){return Rl(this,arguments,function*(v,t){let{crossOrigin:l,signal:u}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(u&&u.aborted)return oe("log",new Me("parseSVGDocument")),Dr();const g=v.documentElement;(function(ge){const Ne=Qi(ge,["use","svg:use"]),at=["x","y","xlink:href","href","transform"];for(const Jt of Ne){const mn=Jt.attributes,En={};for(const ga of mn)ga.value&&(En[ga.name]=ga.value);const Vi=(En["xlink:href"]||En.href||"").slice(1);if(Vi==="")return;const Mr=ge.getElementById(Vi);if(Mr===null)return;let dr=Mr.cloneNode(!0);const ns=dr.attributes,no={};for(const ga of ns)ga.value&&(no[ga.name]=ga.value);const{x:Yo=0,y:Zs=0,transform:Aa=""}=En,ol="".concat(Aa," ").concat(no.transform||""," translate(").concat(Yo,", ").concat(Zs,")");if(zi(dr),/^svg$/i.test(dr.nodeName)){const ga=dr.ownerDocument.createElementNS(za,"g");Object.entries(no).forEach(La=>{let[xs,us]=La;return ga.setAttributeNS(za,xs,us)}),ga.append(...dr.childNodes),dr=ga}for(const ga of mn){if(!ga)continue;const{name:La,value:xs}=ga;if(!at.includes(La))if(La==="style"){const us={};Vc(xs,us),Object.entries(no).forEach(Na=>{let[Ca,aa]=Na;us[Ca]=aa}),Vc(no.style||"",us);const Xa=Object.entries(us).map(Na=>Na.join(":")).join(";");dr.setAttribute(La,Xa)}else!no[La]&&dr.setAttribute(La,xs)}dr.setAttribute("transform",ol),dr.setAttribute("instantiated_by_use","1"),dr.removeAttribute("id"),Jt.parentNode.replaceChild(dr,Jt)}})(v);const b=Array.from(g.getElementsByTagName("*")),A=z(z({},zi(g)),{},{crossOrigin:l,signal:u}),L=b.filter(ge=>(zi(ge),br(ge)&&!function(Ne){let at=Ne;for(;at&&(at=at.parentElement);)if(at&&at.nodeName&&Hi.test(Ci(at))&&!at.getAttribute("instantiated_by_use"))return!0;return!1}(ge)));if(!L||L&&!L.length)return z(z({},Dr()),{},{options:A,allElements:b});const B={};return b.filter(ge=>Ci(ge)==="clipPath").forEach(ge=>{ge.setAttribute("originalTransform",ge.getAttribute("transform")||"");const Ne=ge.getAttribute("id");B[Ne]=Array.from(ge.getElementsByTagName("*")).filter(at=>br(at))}),{objects:yield new jr(L,A,t,v,B).parse(),elements:L,options:A,allElements:b}})}function ha(v,t,i){return ao(new(Oe()).DOMParser().parseFromString(v.trim(),"text/xml"),t,i)}function Ks(v,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((s,l)=>{wi(v.replace(/^\n\s*/,"").trim(),{onComplete:u=>{const g=u.responseXML;g&&s(g),l()},signal:i.signal})}).then(s=>ao(s,t,i)).catch(()=>Dr())}const Is=Yn,gs=v=>function(t,i,s){const{points:l,pathOffset:u}=s;return new Et(l[v]).subtract(u).transform(Z(s.getViewportTransform(),s.calcTransformMatrix()))},Ds=(v,t,i,s)=>{const{target:l,pointIndex:u}=t,g=l,b=Us(new Et(i,s),void 0,g.calcOwnMatrix());return g.points[u]=b.add(g.pathOffset),g.setDimensions(),!0},Ho=(v,t)=>function(i,s,l,u){const g=s.target,b=new Et(g.points[(v>0?v:g.points.length)-1]),A=b.subtract(g.pathOffset).transform(g.calcOwnMatrix()),L=t(i,z(z({},s),{},{pointIndex:v}),l,u),B=b.subtract(g.pathOffset).transform(g.calcOwnMatrix()).subtract(A);return g.left-=B.x,g.top-=B.y,L},fa=v=>rr(Is,Ho(v,Ds)),lo=(v,t,i)=>{const{path:s,pathOffset:l}=v,u=s[t];return new Et(u[i]-l.x,u[i+1]-l.y).transform(Z(v.getViewportTransform(),v.calcTransformMatrix()))};function mr(v,t,i){const{commandIndex:s,pointIndex:l}=this;return lo(i,s,l)}function gr(v,t,i,s){const{target:l}=t,{commandIndex:u,pointIndex:g}=this,b=((A,L,B,te,ge)=>{const{path:Ne,pathOffset:at}=A,Jt=Ne[(te>0?te:Ne.length)-1],mn=new Et(Jt[ge],Jt[ge+1]),En=mn.subtract(at).transform(A.calcOwnMatrix()),Vi=Us(new Et(L,B),void 0,A.calcOwnMatrix());Ne[te][ge]=Vi.x+at.x,Ne[te][ge+1]=Vi.y+at.y,A.setDimensions();const Mr=mn.subtract(A.pathOffset).transform(A.calcOwnMatrix()).subtract(En);return A.left-=Mr.x,A.top-=Mr.y,A.set("dirty",!0),!0})(l,i,s,u,g);return Co(this.actionName,z(z({},os(v,t,i,s)),{},{commandIndex:u,pointIndex:g})),b}class rs extends Ms{constructor(t){super(t)}render(t,i,s,l,u){const g=z(z({},l),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,i,s,g,u)}}class co extends rs{constructor(t){super(t)}render(t,i,s,l,u){const{path:g}=u,{commandIndex:b,pointIndex:A,connectToCommandIndex:L,connectToPointIndex:B}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);const[te]=g[b],ge=lo(u,L,B);if(te==="Q"){const Ne=lo(u,b,A+2);t.moveTo(Ne.x,Ne.y),t.lineTo(i,s)}else t.moveTo(i,s);t.lineTo(ge.x,ge.y),t.stroke(),t.restore(),super.render(t,i,s,l,u)}}const Xr=(v,t,i,s,l,u)=>new(i?co:rs)(z(z({commandIndex:v,pointIndex:t,actionName:"modifyPath",positionHandler:mr,actionHandler:gr,connectToCommandIndex:l,connectToPointIndex:u},s),i?s.controlPointStyle:s.pointStyle));var ys=Object.freeze({__proto__:null,changeWidth:Yi,createObjectDefaultControls:kr,createPathControls:function(v){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i={};let s="M";return v.path.forEach((l,u)=>{const g=l[0];switch(g!=="Z"&&(i["c_".concat(u,"_").concat(g)]=Xr(u,l.length-2,!1,t)),g){case"C":i["c_".concat(u,"_C_CP_1")]=Xr(u,1,!0,t,u-1,(b=>b==="C"?5:b==="Q"?3:1)(s)),i["c_".concat(u,"_C_CP_2")]=Xr(u,3,!0,t,u,5);break;case"Q":i["c_".concat(u,"_Q_CP_1")]=Xr(u,1,!0,t,u,3)}s=g}),i},createPolyActionHandler:fa,createPolyControls:function(v){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i={};for(let s=0;s<(typeof v=="number"?v:v.points.length);s++)i["p".concat(s)]=new Ms(z({actionName:Is,positionHandler:gs(s),actionHandler:fa(s)},t));return i},createPolyPositionHandler:gs,createResizeControls:lr,createTextboxDefaultControls:Ps,dragHandler:fs,factoryPolyActionHandler:Ho,getLocalPoint:qr,polyActionHandler:Ds,renderCircleControl:Ar,renderSquareControl:Di,rotationStyleHandler:Ws,rotationWithSnapping:as,scaleCursorStyleHandler:Ro,scaleOrSkewActionName:Ln,scaleSkewCursorStyleHandler:Ri,scalingEqually:ea,scalingX:Oa,scalingXOrSkewingY:sn,scalingY:vl,scalingYOrSkewingX:ar,skewCursorStyleHandler:ot,skewHandlerX:rn,skewHandlerY:ti,wrapWithFireEvent:rr,wrapWithFixedAnchor:Jn});const ks=v=>v.webgl!==void 0,Eo=(v,t)=>{const i=pi({width:v,height:t}),s=kt().getContext("webgl"),l={imageBuffer:new ArrayBuffer(v*t*4)},u={destinationWidth:v,destinationHeight:t,targetCanvas:i};let g;g=Oe().performance.now(),Nt.prototype.copyGLTo2D.call(l,s,u);const b=Oe().performance.now()-g;return g=Oe().performance.now(),Nt.prototype.copyGLTo2DPutImageData.call(l,s,u),b>Oe().performance.now()-g},uo="precision highp float",Sa=`
    `.concat(uo,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),rl=["type"],ul=["type"],ka=new RegExp(uo,"g");class wr{get type(){return this.constructor.type}constructor(){let t=ie(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rl);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return Sa}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:l="highp"}}=Ye();l!=="highp"&&(i=i.replace(ka,uo.replace("highp",l)));const u=t.createShader(t.VERTEX_SHADER),g=t.createShader(t.FRAGMENT_SHADER),b=t.createProgram();if(!u||!g||!b)throw new fe("Vertex, fragment shader or program creation error");if(t.shaderSource(u,s),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS))throw new fe("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(u)));if(t.shaderSource(g,i),t.compileShader(g),!t.getShaderParameter(g,t.COMPILE_STATUS))throw new fe("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(g)));if(t.attachShader(b,u),t.attachShader(b,g),t.linkProgram(b),!t.getProgramParameter(b,t.LINK_STATUS))throw new fe('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(b)));const A=this.getUniformLocations(t,b)||{};return A.uStepW=t.getUniformLocation(b,"uStepW"),A.uStepH=t.getUniformLocation(b,"uStepH"),{program:b,attributeLocations:this.getAttributeLocations(t,b),uniformLocations:A}}getAttributeLocations(t,i){return{aPosition:t.getAttribLocation(i,"aPosition")}}getUniformLocations(t,i){const s=this.constructor.uniformLocations,l={};for(let u=0;u<s.length;u++)l[s[u]]=t.getUniformLocation(i,s[u]);return l}sendAttributeData(t,i,s){const l=i.aPosition,u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.enableVertexAttribArray(l),t.vertexAttribPointer(l,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,s,t.STATIC_DRAW)}_setupFrameBuffer(t){const i=t.context;if(t.passes>1){const s=t.destinationWidth,l=t.destinationHeight;t.sourceWidth===s&&t.sourceHeight===l||(i.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(i,s,l)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.targetTexture,0)}else i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish()}_swapTextures(t){t.passes--,t.pass++;const i=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=i}isNeutralState(t){return!1}applyTo(t){ks(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const i=this.getCacheKey();return t.programCache[i]||(t.programCache[i]=this.createProgram(t.context)),t.programCache[i]}applyToWebGL(t){const i=t.context,s=this.retrieveShader(t);t.pass===0&&t.originalTexture?i.bindTexture(i.TEXTURE_2D,t.originalTexture):i.bindTexture(i.TEXTURE_2D,t.sourceTexture),i.useProgram(s.program),this.sendAttributeData(i,s.attributeLocations,t.aPosition),i.uniform1f(s.uniformLocations.uStepW,1/t.sourceWidth),i.uniform1f(s.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(i,s.uniformLocations),i.viewport(0,0,t.destinationWidth,t.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,i,s){t.activeTexture(s),t.bindTexture(t.TEXTURE_2D,i),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,i){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:i,sourceHeight:s}=t,l=pi({width:i,height:s});t.helpLayer=l}}toObject(){const t=Object.keys(this.constructor.defaults||{});return z({type:this.type},t.reduce((i,s)=>(i[s]=this[s],i),{}))}toJSON(){return this.toObject()}static fromObject(t,i){return Rl(this,null,function*(){return new this(ie(t,ul))})}}a(wr,"type","BaseFilter"),a(wr,"uniformLocations",[]);const Za={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Ha extends wr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(Za[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:i}}=t;const s=new Jr(this.color).getSource(),l=this.alpha,u=s[0]*l,g=s[1]*l,b=s[2]*l,A=1-l;for(let L=0;L<i.length;L+=4){const B=i[L],te=i[L+1],ge=i[L+2];let Ne,at,Jt;switch(this.mode){case"multiply":Ne=B*u/255,at=te*g/255,Jt=ge*b/255;break;case"screen":Ne=255-(255-B)*(255-u)/255,at=255-(255-te)*(255-g)/255,Jt=255-(255-ge)*(255-b)/255;break;case"add":Ne=B+u,at=te+g,Jt=ge+b;break;case"difference":Ne=Math.abs(B-u),at=Math.abs(te-g),Jt=Math.abs(ge-b);break;case"subtract":Ne=B-u,at=te-g,Jt=ge-b;break;case"darken":Ne=Math.min(B,u),at=Math.min(te,g),Jt=Math.min(ge,b);break;case"lighten":Ne=Math.max(B,u),at=Math.max(te,g),Jt=Math.max(ge,b);break;case"overlay":Ne=u<128?2*B*u/255:255-2*(255-B)*(255-u)/255,at=g<128?2*te*g/255:255-2*(255-te)*(255-g)/255,Jt=b<128?2*ge*b/255:255-2*(255-ge)*(255-b)/255;break;case"exclusion":Ne=u+B-2*u*B/255,at=g+te-2*g*te/255,Jt=b+ge-2*b*ge/255;break;case"tint":Ne=u+B*A,at=g+te*A,Jt=b+ge*A}i[L]=Ne,i[L+1]=at,i[L+2]=Jt}}sendUniformData(t,i){const s=new Jr(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,t.uniform4fv(i.uColor,s)}}a(Ha,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),a(Ha,"type","BlendColor"),a(Ha,"uniformLocations",["uColor"]),en.setClass(Ha);const Ia={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},Zo=["type","image"];class Xo extends wr{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Ia[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){const i=t.context,s=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(i,s,i.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(i,i.TEXTURE1)}createTexture(t,i){return t.getCachedTexture(i.cacheKey,i.getElement())}calculateMatrix(){const t=this.image,{width:i,height:s}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/i,-t.top/s,1]}applyTo2d(t){let{imageData:{data:i,width:s,height:l},filterBackend:{resources:u}}=t;const g=this.image;u.blendImage||(u.blendImage=kt());const b=u.blendImage,A=b.getContext("2d");b.width!==s||b.height!==l?(b.width=s,b.height=l):A.clearRect(0,0,s,l),A.setTransform(g.scaleX,0,0,g.scaleY,g.left,g.top),A.drawImage(g.getElement(),0,0,s,l);const L=A.getImageData(0,0,s,l).data;for(let B=0;B<i.length;B+=4){const te=i[B],ge=i[B+1],Ne=i[B+2],at=i[B+3],Jt=L[B],mn=L[B+1],En=L[B+2],Vi=L[B+3];switch(this.mode){case"multiply":i[B]=te*Jt/255,i[B+1]=ge*mn/255,i[B+2]=Ne*En/255,i[B+3]=at*Vi/255;break;case"mask":i[B+3]=Vi}}}sendUniformData(t,i){const s=this.calculateMatrix();t.uniform1i(i.uImage,1),t.uniformMatrix3fv(i.uTransformMatrix,!1,s)}toObject(){return z(z({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static fromObject(t,i){return Rl(this,null,function*(){let{type:s,image:l}=t,u=ie(t,Zo);return zn.fromObject(l,i).then(g=>new this(z(z({},u),{},{image:g})))})}}a(Xo,"type","BlendImage"),a(Xo,"defaults",{mode:"multiply",alpha:1}),a(Xo,"uniformLocations",["uTransformMatrix","uImage"]),en.setClass(Xo);class ho extends wr{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(t){ks(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){let{ctx:i,imageData:s,filterBackend:{resources:l}}=t;const{width:u,height:g}=s;l.blurLayer1||(l.blurLayer1=kt(),l.blurLayer2=kt());const b=l.blurLayer1,A=l.blurLayer2;b.width===u&&b.height===g||(A.width=b.width=u,A.height=b.height=g);const L=b.getContext("2d"),B=A.getContext("2d"),te=15,ge=.06*this.blur*.5;let Ne,at,Jt,mn;for(L.putImageData(s,0,0),B.clearRect(0,0,u,g),mn=-15;mn<=te;mn++)Ne=(Math.random()-.5)/4,at=mn/te,Jt=ge*at*u+Ne,B.globalAlpha=1-Math.abs(at),B.drawImage(b,Jt,Ne),L.drawImage(A,0,0),B.globalAlpha=1,B.clearRect(0,0,A.width,A.height);for(mn=-15;mn<=te;mn++)Ne=(Math.random()-.5)/4,at=mn/te,Jt=ge*at*g+Ne,B.globalAlpha=1-Math.abs(at),B.drawImage(b,Ne,Jt),L.drawImage(A,0,0),B.globalAlpha=1,B.clearRect(0,0,A.width,A.height);i.drawImage(b,0,0);const En=i.getImageData(0,0,b.width,b.height);return L.globalAlpha=1,L.clearRect(0,0,b.width,b.height),En}sendUniformData(t,i){const s=this.chooseRightDelta();t.uniform2fv(i.uDelta,s)}isNeutralState(){return this.blur===0}chooseRightDelta(){let t=1;const i=[0,0];this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio);const s=t*this.blur*.12;return this.horizontal?i[0]=s:i[1]=s,i}}a(ho,"type","Blur"),a(ho,"defaults",{blur:0}),a(ho,"uniformLocations",["uDelta"]),en.setClass(ho);class na extends wr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:i}}=t;const s=Math.round(255*this.brightness);for(let l=0;l<i.length;l+=4)i[l]+=s,i[l+1]+=s,i[l+2]+=s}isNeutralState(){return this.brightness===0}sendUniformData(t,i){t.uniform1f(i.uBrightness,this.brightness)}}a(na,"type","Brightness"),a(na,"defaults",{brightness:0}),a(na,"uniformLocations",["uBrightness"]),en.setClass(na);const oa={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class wo extends wr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){const i=t.imageData.data,s=this.matrix,l=this.colorsOnly;for(let u=0;u<i.length;u+=4){const g=i[u],b=i[u+1],A=i[u+2];if(i[u]=g*s[0]+b*s[1]+A*s[2]+255*s[4],i[u+1]=g*s[5]+b*s[6]+A*s[7]+255*s[9],i[u+2]=g*s[10]+b*s[11]+A*s[12]+255*s[14],!l){const L=i[u+3];i[u]+=L*s[3],i[u+1]+=L*s[8],i[u+2]+=L*s[13],i[u+3]=g*s[15]+b*s[16]+A*s[17]+L*s[18]+255*s[19]}}}sendUniformData(t,i){const s=this.matrix,l=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],u=[s[4],s[9],s[14],s[19]];t.uniformMatrix4fv(i.uColorMatrix,!1,l),t.uniform4fv(i.uConstants,u)}toObject(){return z(z({},super.toObject()),{},{matrix:[...this.matrix]})}}function Ja(v,t){var i;const s=(a(i=class extends wo{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",v),a(i,"defaults",{colorsOnly:!1,matrix:t}),i);return en.setClass(s,v),s}a(wo,"type","ColorMatrix"),a(wo,"defaults",oa),a(wo,"uniformLocations",["uColorMatrix","uConstants"]),en.setClass(wo);const bl=Ja("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),ca=Ja("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),Va=Ja("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),xa=Ja("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),ml=Ja("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),Yl=Ja("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),Xc=Ja("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class dl extends wr{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){ks(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(i=>{i.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,i){return Promise.all((t.subFilters||[]).map(s=>en.getClass(s.type).fromObject(s,i))).then(s=>new this({subFilters:s}))}}a(dl,"type","Composed"),en.setClass(dl);class kl extends wr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:i}}=t;const s=Math.floor(255*this.contrast),l=259*(s+255)/(255*(259-s));for(let u=0;u<i.length;u+=4)i[u]=l*(i[u]-128)+128,i[u+1]=l*(i[u+1]-128)+128,i[u+2]=l*(i[u+2]-128)+128}sendUniformData(t,i){t.uniform1f(i.uContrast,this.contrast)}}a(kl,"type","Contrast"),a(kl,"defaults",{contrast:0}),a(kl,"uniformLocations",["uContrast"]),en.setClass(kl);const bc={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class mc extends wr{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return bc[this.getCacheKey()]}applyTo2d(t){const i=t.imageData,s=i.data,l=this.matrix,u=Math.round(Math.sqrt(l.length)),g=Math.floor(u/2),b=i.width,A=i.height,L=t.ctx.createImageData(b,A),B=L.data,te=this.opaque?1:0;let ge,Ne,at,Jt,mn,En,Vi,Mr,dr,ns,no,Yo,Zs;for(no=0;no<A;no++)for(ns=0;ns<b;ns++){for(mn=4*(no*b+ns),ge=0,Ne=0,at=0,Jt=0,Zs=0;Zs<u;Zs++)for(Yo=0;Yo<u;Yo++)Vi=no+Zs-g,En=ns+Yo-g,Vi<0||Vi>=A||En<0||En>=b||(Mr=4*(Vi*b+En),dr=l[Zs*u+Yo],ge+=s[Mr]*dr,Ne+=s[Mr+1]*dr,at+=s[Mr+2]*dr,te||(Jt+=s[Mr+3]*dr));B[mn]=ge,B[mn+1]=Ne,B[mn+2]=at,B[mn+3]=te?s[mn+3]:Jt}t.imageData=L}sendUniformData(t,i){t.uniform1fv(i.uMatrix,this.matrix)}toObject(){return z(z({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}a(mc,"type","Convolute"),a(mc,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),a(mc,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),en.setClass(mc);const sc="Gamma";class ic extends wr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:i}}=t;const s=this.gamma,l=1/s[0],u=1/s[1],g=1/s[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const b=this.rgbValues;for(let A=0;A<256;A++)b.r[A]=255*Math.pow(A/255,l),b.g[A]=255*Math.pow(A/255,u),b.b[A]=255*Math.pow(A/255,g);for(let A=0;A<i.length;A+=4)i[A]=b.r[i[A]],i[A+1]=b.g[i[A+1]],i[A+2]=b.b[i[A+2]]}sendUniformData(t,i){t.uniform3fv(i.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:sc,gamma:this.gamma.concat()}}}a(ic,"type",sc),a(ic,"defaults",{gamma:[1,1,1]}),a(ic,"uniformLocations",["uGamma"]),en.setClass(ic);const gc={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class sl extends wr{applyTo2d(t){let{imageData:{data:i}}=t;for(let s,l=0;l<i.length;l+=4){const u=i[l],g=i[l+1],b=i[l+2];switch(this.mode){case"average":s=(u+g+b)/3;break;case"lightness":s=(Math.min(u,g,b)+Math.max(u,g,b))/2;break;case"luminosity":s=.21*u+.72*g+.07*b}i[l+2]=i[l+1]=i[l]=s}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return gc[this.mode]}sendUniformData(t,i){t.uniform1i(i.uMode,1)}isNeutralState(){return!1}}a(sl,"type","Grayscale"),a(sl,"defaults",{mode:"average"}),a(sl,"uniformLocations",["uMode"]),en.setClass(sl);const Yc=z(z({},oa),{},{rotation:0});class Sc extends wo{calculateMatrix(){const t=this.rotation*Math.PI,i=er(t),s=Ui(t),l=1/3,u=Math.sqrt(l)*s,g=1-i;this.matrix=[i+g/3,l*g-u,l*g+u,0,0,l*g+u,i+l*g,l*g-u,0,0,l*g-u,l*g+u,i+l*g,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}a(Sc,"type","HueRotation"),a(Sc,"defaults",Yc),en.setClass(Sc);class Ls extends wr{applyTo2d(t){let{imageData:{data:i}}=t;for(let s=0;s<i.length;s+=4)i[s]=255-i[s],i[s+1]=255-i[s+1],i[s+2]=255-i[s+2],this.alpha&&(i[s+3]=255-i[s+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,i){t.uniform1i(i.uInvert,Number(this.invert)),t.uniform1i(i.uAlpha,Number(this.alpha))}}a(Ls,"type","Invert"),a(Ls,"defaults",{alpha:!1,invert:!0}),a(Ls,"uniformLocations",["uInvert","uAlpha"]),en.setClass(Ls);class po extends wr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:i}}=t;const s=this.noise;for(let l=0;l<i.length;l+=4){const u=(.5-Math.random())*s;i[l]+=u,i[l+1]+=u,i[l+2]+=u}}sendUniformData(t,i){t.uniform1f(i.uNoise,this.noise/255),t.uniform1f(i.uSeed,Math.random())}isNeutralState(){return this.noise===0}}a(po,"type","Noise"),a(po,"defaults",{noise:0}),a(po,"uniformLocations",["uNoise","uSeed"]),en.setClass(po);class Hs extends wr{applyTo2d(t){let{imageData:{data:i,width:s,height:l}}=t;for(let u=0;u<l;u+=this.blocksize)for(let g=0;g<s;g+=this.blocksize){const b=4*u*s+4*g,A=i[b],L=i[b+1],B=i[b+2],te=i[b+3];for(let ge=u;ge<Math.min(u+this.blocksize,l);ge++)for(let Ne=g;Ne<Math.min(g+this.blocksize,s);Ne++){const at=4*ge*s+4*Ne;i[at]=A,i[at+1]=L,i[at+2]=B,i[at+3]=te}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,i){t.uniform1f(i.uBlocksize,this.blocksize)}}a(Hs,"type","Pixelate"),a(Hs,"defaults",{blocksize:4}),a(Hs,"uniformLocations",["uBlocksize"]),en.setClass(Hs);class qs extends wr{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:i}}=t;const s=255*this.distance,l=new Jr(this.color).getSource(),u=[l[0]-s,l[1]-s,l[2]-s],g=[l[0]+s,l[1]+s,l[2]+s];for(let b=0;b<i.length;b+=4){const A=i[b],L=i[b+1],B=i[b+2];A>u[0]&&L>u[1]&&B>u[2]&&A<g[0]&&L<g[1]&&B<g[2]&&(i[b+3]=0)}}sendUniformData(t,i){const s=new Jr(this.color).getSource(),l=this.distance,u=[0+s[0]/255-l,0+s[1]/255-l,0+s[2]/255-l,1],g=[s[0]/255+l,s[1]/255+l,s[2]/255+l,1];t.uniform4fv(i.uLow,u),t.uniform4fv(i.uHigh,g)}}a(qs,"type","RemoveColor"),a(qs,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),a(qs,"uniformLocations",["uLow","uHigh"]),en.setClass(qs);class ia extends wr{sendUniformData(t,i){t.uniform2fv(i.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(i.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),i=this.tempScale,s=this.getFilterWindow(),l=new Array(s);for(let u=1;u<=s;u++)l[u-1]=t(u*i);return l}generateShader(t){const i=new Array(t);for(let s=1;s<=t;s++)i[s-1]="".concat(s,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(i.map((s,l)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(s,") * uTaps[").concat(l,"] + texture2D(uTexture, vTexCoord - ").concat(s,") * uTaps[").concat(l,`];
              sum += 2.0 * uTaps[`).concat(l,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){ks(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return i=>{if(i>=t||i<=-t)return 0;if(i<11920929e-14&&i>-11920929e-14)return 1;const s=(i*=Math.PI)/t;return Math.sin(i)/i*Math.sin(s)/s}}applyTo2d(t){const i=t.imageData,s=this.scaleX,l=this.scaleY;this.rcpScaleX=1/s,this.rcpScaleY=1/l;const u=i.width,g=i.height,b=Math.round(u*s),A=Math.round(g*l);let L;L=this.resizeType==="sliceHack"?this.sliceByTwo(t,u,g,b,A):this.resizeType==="hermite"?this.hermiteFastResize(t,u,g,b,A):this.resizeType==="bilinear"?this.bilinearFiltering(t,u,g,b,A):this.resizeType==="lanczos"?this.lanczosResize(t,u,g,b,A):new ImageData(b,A),t.imageData=L}sliceByTwo(t,i,s,l,u){const g=t.imageData,b=.5;let A=!1,L=!1,B=i*b,te=s*b;const ge=t.filterBackend.resources;let Ne=0,at=0;const Jt=i;let mn=0;ge.sliceByTwo||(ge.sliceByTwo=kt());const En=ge.sliceByTwo;(En.width<1.5*i||En.height<s)&&(En.width=1.5*i,En.height=s);const Vi=En.getContext("2d");for(Vi.clearRect(0,0,1.5*i,s),Vi.putImageData(g,0,0),l=Math.floor(l),u=Math.floor(u);!A||!L;)i=B,s=te,l<Math.floor(B*b)?B=Math.floor(B*b):(B=l,A=!0),u<Math.floor(te*b)?te=Math.floor(te*b):(te=u,L=!0),Vi.drawImage(En,Ne,at,i,s,Jt,mn,B,te),Ne=Jt,at=mn,mn+=te;return Vi.getImageData(Ne,at,l,u)}lanczosResize(t,i,s,l,u){const g=t.imageData.data,b=t.ctx.createImageData(l,u),A=b.data,L=this.lanczosCreate(this.lanczosLobes),B=this.rcpScaleX,te=this.rcpScaleY,ge=2/this.rcpScaleX,Ne=2/this.rcpScaleY,at=Math.ceil(B*this.lanczosLobes/2),Jt=Math.ceil(te*this.lanczosLobes/2),mn={},En={x:0,y:0},Vi={x:0,y:0};return function Mr(dr){let ns,no,Yo,Zs,Aa,ol,ga,La,xs,us,Xa;for(En.x=(dr+.5)*B,Vi.x=Math.floor(En.x),ns=0;ns<u;ns++){for(En.y=(ns+.5)*te,Vi.y=Math.floor(En.y),Aa=0,ol=0,ga=0,La=0,xs=0,no=Vi.x-at;no<=Vi.x+at;no++)if(!(no<0||no>=i)){us=Math.floor(1e3*Math.abs(no-En.x)),mn[us]||(mn[us]={});for(let Na=Vi.y-Jt;Na<=Vi.y+Jt;Na++)Na<0||Na>=s||(Xa=Math.floor(1e3*Math.abs(Na-En.y)),mn[us][Xa]||(mn[us][Xa]=L(Math.sqrt(Math.pow(us*ge,2)+Math.pow(Xa*Ne,2))/1e3)),Yo=mn[us][Xa],Yo>0&&(Zs=4*(Na*i+no),Aa+=Yo,ol+=Yo*g[Zs],ga+=Yo*g[Zs+1],La+=Yo*g[Zs+2],xs+=Yo*g[Zs+3]))}Zs=4*(ns*l+dr),A[Zs]=ol/Aa,A[Zs+1]=ga/Aa,A[Zs+2]=La/Aa,A[Zs+3]=xs/Aa}return++dr<l?Mr(dr):b}(0)}bilinearFiltering(t,i,s,l,u){let g,b,A,L,B,te,ge,Ne,at,Jt,mn,En,Vi,Mr=0;const dr=this.rcpScaleX,ns=this.rcpScaleY,no=4*(i-1),Yo=t.imageData.data,Zs=t.ctx.createImageData(l,u),Aa=Zs.data;for(ge=0;ge<u;ge++)for(Ne=0;Ne<l;Ne++)for(B=Math.floor(dr*Ne),te=Math.floor(ns*ge),at=dr*Ne-B,Jt=ns*ge-te,Vi=4*(te*i+B),mn=0;mn<4;mn++)g=Yo[Vi+mn],b=Yo[Vi+4+mn],A=Yo[Vi+no+mn],L=Yo[Vi+no+4+mn],En=g*(1-at)*(1-Jt)+b*at*(1-Jt)+A*Jt*(1-at)+L*at*Jt,Aa[Mr++]=En;return Zs}hermiteFastResize(t,i,s,l,u){const g=this.rcpScaleX,b=this.rcpScaleY,A=Math.ceil(g/2),L=Math.ceil(b/2),B=t.imageData.data,te=t.ctx.createImageData(l,u),ge=te.data;for(let Ne=0;Ne<u;Ne++)for(let at=0;at<l;at++){const Jt=4*(at+Ne*l);let mn=0,En=0,Vi=0,Mr=0,dr=0,ns=0,no=0;const Yo=(Ne+.5)*b;for(let Zs=Math.floor(Ne*b);Zs<(Ne+1)*b;Zs++){const Aa=Math.abs(Yo-(Zs+.5))/L,ol=(at+.5)*g,ga=Aa*Aa;for(let La=Math.floor(at*g);La<(at+1)*g;La++){let xs=Math.abs(ol-(La+.5))/A;const us=Math.sqrt(ga+xs*xs);us>1&&us<-1||(mn=2*us*us*us-3*us*us+1,mn>0&&(xs=4*(La+Zs*i),no+=mn*B[xs+3],Vi+=mn,B[xs+3]<255&&(mn=mn*B[xs+3]/250),Mr+=mn*B[xs],dr+=mn*B[xs+1],ns+=mn*B[xs+2],En+=mn))}}ge[Jt]=Mr/En,ge[Jt+1]=dr/En,ge[Jt+2]=ns/En,ge[Jt+3]=no/Vi}return te}}a(ia,"type","Resize"),a(ia,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),a(ia,"uniformLocations",["uDelta","uTaps"]),en.setClass(ia);class Da extends wr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:i}}=t;const s=-this.saturation;for(let l=0;l<i.length;l+=4){const u=i[l],g=i[l+1],b=i[l+2],A=Math.max(u,g,b);i[l]+=A!==u?(A-u)*s:0,i[l+1]+=A!==g?(A-g)*s:0,i[l+2]+=A!==b?(A-b)*s:0}}sendUniformData(t,i){t.uniform1f(i.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}a(Da,"type","Saturation"),a(Da,"defaults",{saturation:0}),a(Da,"uniformLocations",["uSaturation"]),en.setClass(Da);class Ll extends wr{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:i}}=t;const s=-this.vibrance;for(let l=0;l<i.length;l+=4){const u=i[l],g=i[l+1],b=i[l+2],A=Math.max(u,g,b),L=(u+g+b)/3,B=2*Math.abs(A-L)/255*s;i[l]+=A!==u?(A-u)*B:0,i[l+1]+=A!==g?(A-g)*B:0,i[l+2]+=A!==b?(A-b)*B:0}}sendUniformData(t,i){t.uniform1f(i.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}a(Ll,"type","Vibrance"),a(Ll,"defaults",{vibrance:0}),a(Ll,"uniformLocations",["uVibrance"]),en.setClass(Ll);var Cc=Object.freeze({__proto__:null,BaseFilter:wr,BlackWhite:Xc,BlendColor:Ha,BlendImage:Xo,Blur:ho,Brightness:na,Brownie:bl,ColorMatrix:wo,Composed:dl,Contrast:kl,Convolute:mc,Gamma:ic,Grayscale:sl,HueRotation:Sc,Invert:Ls,Kodachrome:Va,Noise:po,Pixelate:Hs,Polaroid:ml,RemoveColor:qs,Resize:ia,Saturation:Da,Sepia:Yl,Technicolor:xa,Vibrance:Ll,Vintage:ca})},89888:function(ji,It,M){"use strict";M.d(It,{$TI:function(){return Qf},$YQ:function(){return g},BFQ:function(){return io},BG$:function(){return so},BVF:function(){return Zn},Bf4:function(){return hr},Bgp:function(){return tr},BtG:function(){return Lc},CaW:function(){return ro},CdI:function(){return di},CtA:function(){return Xi},Cy:function(){return zt},D1R:function(){return Ir},D67:function(){return _e},D9w:function(){return Gr},Djp:function(){return So},DvJ:function(){return Wt},E2K:function(){return cs},EcG:function(){return _h},EoG:function(){return bn},F1y:function(){return Ee},FM8:function(){return sn},FUD:function(){return Fr},GG6:function(){return Oo},GUF:function(){return ba},Gih:function(){return Co},H7L:function(){return lr},HdW:function(){return os},HkE:function(){return Ff},Hy8:function(){return pt},I3e:function(){return Yi},ILR:function(){return Ns},IOt:function(){return ra},Ilk:function(){return Rn},JOQ:function(){return ys},JQ4:function(){return fn},JUT:function(){return yl},Jjb:function(){return Ut},KI_:function(){return Jo},KhW:function(){return Vt},Kj0:function(){return ko},Kz5:function(){return nt},L5s:function(){return th},LSk:function(){return ht},LY2:function(){return vr},LgZ:function(){return Kt},LsT:function(){return Ae},Ltg:function(){return la},Lun:function(){return Wd},M$G:function(){return it},M5h:function(){return ee},M6v:function(){return Oi},M8C:function(){return Ri},N4l:function(){return Oe},NDo:function(){return rt},NKc:function(){return xn},NYV:function(){return mo},NiX:function(){return mu},Ns1:function(){return Ei},O4K:function(){return qt},O5A:function(){return At},O78:function(){return gn},ORg:function(){return er},OTo:function(){return Tr},OoA:function(){return kt},PA7:function(){return $a},Pa4:function(){return ct},PeU:function(){return ie},QO2:function(){return js},Qey:function(){return Vn},Rhp:function(){return ei},RlZ:function(){return Le},RsA:function(){return W},S2y:function(){return se},S9g:function(){return tc},Se2:function(){return Yn},Sm8:function(){return Bt},SvJ:function(){return _a},T6w:function(){return Bn},T95:function(){return Tn},TlE:function(){return xr},Tme:function(){return Zt},TyD:function(){return cn},UCm:function(){return Dt},USm:function(){return Xl},UZH:function(){return a},Uk6:function(){return kd},Vdb:function(){return je},Vkp:function(){return ar},VzW:function(){return An},WMw:function(){return vt},Wbm:function(){return re},Wl3:function(){return Be},Wpd:function(){return Ct},Xaj:function(){return xt},Y8D:function(){return Xn},YGz:function(){return en},YLQ:function(){return pi},YT8:function(){return Jt},ZTh:function(){return qr},ZXd:function(){return ip},Zen:function(){return Ht},Zr5:function(){return Fn},ZzF:function(){return zl},Zzh:function(){return ep},_12:function(){return Zu},_AM:function(){return Fo},_Li:function(){return ye},_RZ:function(){return Ft},_fP:function(){return Tl},_iA:function(){return fe},_wr:function(){return st},a$l:function(){return cr},aCh:function(){return ll},aH4:function(){return mi},aLr:function(){return Al},av9:function(){return Nr},bGH:function(){return de},bdR:function(){return Ye},brP:function(){return ir},bsb:function(){return bs},c8b:function(){return He},cLu:function(){return oi},cPb:function(){return Gl},cRx:function(){return pn},cac:function(){return Ve},dSO:function(){return $i},dZ3:function(){return Er},dd2:function(){return cc},dwf:function(){return Vr},dwk:function(){return tt},eD:function(){return qi},eaV:function(){return Po},ehD:function(){return $t},ekQ:function(){return Bs},epp:function(){return Ki},f2y:function(){return Js},fSK:function(){return wt},fY$:function(){return Mn},fto:function(){return ua},g8_:function(){return Es},ghN:function(){return Fe},gi4:function(){return $r},hEm:function(){return or},iAb:function(){return ve},iKG:function(){return Ed},iWC:function(){return _t},iWj:function(){return uo},iiP:function(){return vo},irR:function(){return Cr},j17:function(){return $e},jFi:function(){return qe},jZA:function(){return Bo},jes:function(){return Yt},jyz:function(){return qa},k0A:function(){return Wi},k74:function(){return et},kB5:function(){return Se},ksN:function(){return li},l0P:function(){return Mo},l6D:function(){return hl},lCJ:function(){return Lt},lGU:function(){return fs},lRF:function(){return jd},mSO:function(){return Ka},ntZ:function(){return Me},oAp:function(){return xl},oDz:function(){return ls},p3g:function(){return El},pBf:function(){return yi},pKu:function(){return ds},ptH:function(){return Fs},qhX:function(){return Xt},qkB:function(){return ci},qlB:function(){return il},qyh:function(){return bi},rDY:function(){return es},rOj:function(){return Rt},r_:function(){return T},rpg:function(){return vi},tGC:function(){return np},tNt:function(){return jn},tQZ:function(){return Lr},tm_:function(){return Pe},u9r:function(){return In},uL9:function(){return Pt},uWy:function(){return Ot},v3W:function(){return Ts},vBJ:function(){return Wn},vCF:function(){return si},vCx:function(){return Ao},vuL:function(){return hs},vxC:function(){return gi},w$m:function(){return fi},wJv:function(){return Ur},wem:function(){return $n},wk1:function(){return kn},wuA:function(){return zr},xEZ:function(){return jo},xJs:function(){return Us},xoQ:function(){return K},xsS:function(){return U},y2t:function(){return bo},yGw:function(){return Io},yHo:function(){return Ii},yj7:function(){return ga},ywz:function(){return Tt}});const a="175",W={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},z={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ie=0,Pe=1,se=2,J=3,oe=0,fe=1,Me=2,tt=3,Be=0,ye=1,$t=2,qe=0,Ye=1,vt=2,Oe=3,ee=4,xt=5,de=100,re=101,Rt=102,T=103,Bt=104,He=200,Fe=201,Vt=202,_t=203,et=204,Kt=205,wt=206,pt=207,je=208,Ct=209,Le=210,st=211,zt=212,Yt=213,xn=214,Zn=0,Yn=1,Fn=2,si=3,qi=4,li=5,fi=6,Oi=7,Ei=0,Xt=1,rt=2,Pt=0,bn=1,di=2,en=3,vr=4,Er=5,tr=6,er=7,Ui="attached",Et="detached",vn=300,Mn=301,gi=302,$i=303,hr=304,Es=306,vi=1e3,Ot=1001,kt=1002,cn=1003,pi=1004,nr=1004,mi=1005,Zi=1005,$n=1006,bi=1007,Sr=1007,Ir=1008,Z=1008,Tt=1009,Tn=1010,ve=1011,Ae=1012,nt=1013,fn=1014,An=1015,oi=1016,Wi=1017,Cr=1018,Ur=1020,Lr=35902,Tr=1021,Dt=1022,kn=1023,Xn=1024,pn=1025,ci=1026,ir=1027,or=1028,Gr=1029,Nr=1030,Xi=1031,Zr=1032,cs=1033,zr=33776,io=33777,Ts=33778,Ns=33779,Fo=35840,Ao=35841,Po=35842,ro=35843,ua=36196,Mo=37492,Bs=37496,Fs=37808,Bo=37809,bo=37810,$r=37811,So=37812,so=37813,mo=37814,Us=37815,ds=37816,Oo=37817,Co=37818,Fr=37819,vo=37820,_a=37821,bs=36492,Js=36494,js=36495,os=36283,hs=36284,qr=36285,fs=36286,oo=2200,va=2201,qo=2202,wa=2300,Ua=2301,Pa=2302,Jr=2400,fr=2401,ai=2402,_s=2500,Uo=2501,zo=0,el=1,ws=2,za=3200,Ka=3201,Ma=3202,ya=3203,ra=0,$a=1,ll="",Jo="srgb",ba="srgb-linear",hl="linear",$e="srgb",Y=0,H=7680,ae=7681,Q=7682,Ze=7683,lt=34055,tn=34056,_n=5386,Hn=512,dn=513,d=514,y=515,E=516,P=517,k=518,N=519,K=512,_e=513,Ee=514,it=515,Ht=516,gn=517,Ut=518,Bn=519,Si=35044,_r=35048,Br=35040,fo=35045,Qs=35049,Ys=35041,Ga=35046,j=35050,we=35042,Je="100",ht="300 es",Ft=2e3,Ti=2001,Ji={COMPUTE:"compute",RENDER:"render"};class yi{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const o=r[e];if(o!==void 0){const c=o.indexOf(n);c!==-1&&o.splice(c,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const o=r.slice(0);for(let c=0,h=o.length;c<h;c++)o[c].call(this,e);e.target=null}}}const yn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let rr=1234567;const Jn=Math.PI/180,Yi=180/Math.PI;function Ar(){const w=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(yn[w&255]+yn[w>>8&255]+yn[w>>16&255]+yn[w>>24&255]+"-"+yn[e&255]+yn[e>>8&255]+"-"+yn[e>>16&15|64]+yn[e>>24&255]+"-"+yn[n&63|128]+yn[n>>8&255]+"-"+yn[n>>16&255]+yn[n>>24&255]+yn[r&255]+yn[r>>8&255]+yn[r>>16&255]+yn[r>>24&255]).toLowerCase()}function Di(w,e,n){return Math.max(e,Math.min(n,w))}function Ms(w,e){return(w%e+e)%e}function Ws(w,e,n,r,o){return r+(w-e)*(o-r)/(n-e)}function as(w,e,n){return w!==e?(n-w)/(e-w):0}function eo(w,e,n){return(1-n)*w+n*e}function pr(w,e,n,r){return eo(w,e,1-Math.exp(-n*r))}function go(w,e=1){return e-Math.abs(Ms(w,e*2)-e)}function Ro(w,e,n){return w<=e?0:w>=n?1:(w=(w-e)/(n-e),w*w*(3-2*w))}function Qo(w,e,n){return w<=e?0:w>=n?1:(w=(w-e)/(n-e),w*w*w*(w*(w*6-15)+10))}function ea(w,e){return w+Math.floor(Math.random()*(e-w+1))}function Oa(w,e){return w+Math.random()*(e-w)}function vl(w){return w*(.5-Math.random())}function Sl(w){w!==void 0&&(rr=w);let e=rr+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Ce(w){return w*Jn}function Qe(w){return w*Yi}function ot(w){return(w&w-1)===0&&w!==0}function bt(w){return Math.pow(2,Math.ceil(Math.log(w)/Math.LN2))}function rn(w){return Math.pow(2,Math.floor(Math.log(w)/Math.LN2))}function ti(w,e,n,r,o){const c=Math.cos,h=Math.sin,p=c(n/2),x=h(n/2),S=c((e+r)/2),O=h((e+r)/2),F=c((e-r)/2),$=h((e-r)/2),V=c((r-e)/2),G=h((r-e)/2);switch(o){case"XYX":w.set(p*O,x*F,x*$,p*S);break;case"YZY":w.set(x*$,p*O,x*F,p*S);break;case"ZXZ":w.set(x*F,x*$,p*O,p*S);break;case"XZX":w.set(p*O,x*G,x*V,p*S);break;case"YXY":w.set(x*V,p*O,x*G,p*S);break;case"ZYZ":w.set(x*G,x*V,p*O,p*S);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function ni(w,e){switch(e.constructor){case Float32Array:return w;case Uint32Array:return w/4294967295;case Uint16Array:return w/65535;case Uint8Array:return w/255;case Int32Array:return Math.max(w/2147483647,-1);case Int16Array:return Math.max(w/32767,-1);case Int8Array:return Math.max(w/127,-1);default:throw new Error("Invalid component type.")}}function Ln(w,e){switch(e.constructor){case Float32Array:return w;case Uint32Array:return Math.round(w*4294967295);case Uint16Array:return Math.round(w*65535);case Uint8Array:return Math.round(w*255);case Int32Array:return Math.round(w*2147483647);case Int16Array:return Math.round(w*32767);case Int8Array:return Math.round(w*127);default:throw new Error("Invalid component type.")}}const Ri={DEG2RAD:Jn,RAD2DEG:Yi,generateUUID:Ar,clamp:Di,euclideanModulo:Ms,mapLinear:Ws,inverseLerp:as,lerp:eo,damp:pr,pingpong:go,smoothstep:Ro,smootherstep:Qo,randInt:ea,randFloat:Oa,randFloatSpread:vl,seededRandom:Sl,degToRad:Ce,radToDeg:Qe,isPowerOfTwo:ot,ceilPowerOfTwo:bt,floorPowerOfTwo:rn,setQuaternionFromProperEuler:ti,normalize:Ln,denormalize:ni};class sn{constructor(e=0,n=0){sn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6],this.y=o[1]*n+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Di(this.x,e.x,n.x),this.y=Di(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Di(this.x,e,n),this.y=Di(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Di(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Di(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),o=Math.sin(n),c=this.x-e.x,h=this.y-e.y;return this.x=c*r-h*o+e.x,this.y=c*o+h*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ar{constructor(e,n,r,o,c,h,p,x,S){ar.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,o,c,h,p,x,S)}set(e,n,r,o,c,h,p,x,S){const O=this.elements;return O[0]=e,O[1]=o,O[2]=p,O[3]=n,O[4]=c,O[5]=x,O[6]=r,O[7]=h,O[8]=S,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,c=this.elements,h=r[0],p=r[3],x=r[6],S=r[1],O=r[4],F=r[7],$=r[2],V=r[5],G=r[8],me=o[0],De=o[3],ke=o[6],mt=o[1],gt=o[4],Mt=o[7],qn=o[2],ri=o[5],Pi=o[8];return c[0]=h*me+p*mt+x*qn,c[3]=h*De+p*gt+x*ri,c[6]=h*ke+p*Mt+x*Pi,c[1]=S*me+O*mt+F*qn,c[4]=S*De+O*gt+F*ri,c[7]=S*ke+O*Mt+F*Pi,c[2]=$*me+V*mt+G*qn,c[5]=$*De+V*gt+G*ri,c[8]=$*ke+V*Mt+G*Pi,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],o=e[2],c=e[3],h=e[4],p=e[5],x=e[6],S=e[7],O=e[8];return n*h*O-n*p*S-r*c*O+r*p*x+o*c*S-o*h*x}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],c=e[3],h=e[4],p=e[5],x=e[6],S=e[7],O=e[8],F=O*h-p*S,$=p*x-O*c,V=S*c-h*x,G=n*F+r*$+o*V;if(G===0)return this.set(0,0,0,0,0,0,0,0,0);const me=1/G;return e[0]=F*me,e[1]=(o*S-O*r)*me,e[2]=(p*r-o*h)*me,e[3]=$*me,e[4]=(O*n-o*x)*me,e[5]=(o*c-p*n)*me,e[6]=V*me,e[7]=(r*x-S*n)*me,e[8]=(h*n-r*c)*me,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,o,c,h,p){const x=Math.cos(c),S=Math.sin(c);return this.set(r*x,r*S,-r*(x*h+S*p)+h+e,-o*S,o*x,-o*(-S*h+x*p)+p+n,0,0,1),this}scale(e,n){return this.premultiply(kr.makeScale(e,n)),this}rotate(e){return this.premultiply(kr.makeRotation(-e)),this}translate(e,n){return this.premultiply(kr.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<9;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const kr=new ar;function lr(w){for(let e=w.length-1;e>=0;--e)if(w[e]>=65535)return!0;return!1}const Ps={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function xe(w,e){return new Ps[w](e)}function Ve(w){return document.createElementNS("http://www.w3.org/1999/xhtml",w)}function At(){const w=Ve("canvas");return w.style.display="block",w}const Gt={};function qt(w){w in Gt||(Gt[w]=!0,console.warn(w))}function Vn(w,e,n){return new Promise(function(r,o){function c(){switch(w.clientWaitSync(e,w.SYNC_FLUSH_COMMANDS_BIT,0)){case w.WAIT_FAILED:o();break;case w.TIMEOUT_EXPIRED:setTimeout(c,n);break;default:r()}}setTimeout(c,n)})}function jn(w){const e=w.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Ii(w){const e=w.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const ui=new ar().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),sr=new ar().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Pr(){const w={enabled:!0,workingColorSpace:ba,spaces:{},convert:function(o,c,h){return this.enabled===!1||c===h||!c||!h||(this.spaces[c].transfer===$e&&(o.r=ps(o.r),o.g=ps(o.g),o.b=ps(o.b)),this.spaces[c].primaries!==this.spaces[h].primaries&&(o.applyMatrix3(this.spaces[c].toXYZ),o.applyMatrix3(this.spaces[h].fromXYZ)),this.spaces[h].transfer===$e&&(o.r=Ss(o.r),o.g=Ss(o.g),o.b=Ss(o.b))),o},fromWorkingColorSpace:function(o,c){return this.convert(o,this.workingColorSpace,c)},toWorkingColorSpace:function(o,c){return this.convert(o,c,this.workingColorSpace)},getPrimaries:function(o){return this.spaces[o].primaries},getTransfer:function(o){return o===ll?hl:this.spaces[o].transfer},getLuminanceCoefficients:function(o,c=this.workingColorSpace){return o.fromArray(this.spaces[c].luminanceCoefficients)},define:function(o){Object.assign(this.spaces,o)},_getMatrix:function(o,c,h){return o.copy(this.spaces[c].toXYZ).multiply(this.spaces[h].fromXYZ)},_getDrawingBufferColorSpace:function(o){return this.spaces[o].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(o=this.workingColorSpace){return this.spaces[o].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return w.define({[ba]:{primaries:e,whitePoint:r,transfer:hl,toXYZ:ui,fromXYZ:sr,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Jo},outputColorSpaceConfig:{drawingBufferColorSpace:Jo}},[Jo]:{primaries:e,whitePoint:r,transfer:$e,toXYZ:ui,fromXYZ:sr,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Jo}}}),w}const Ki=Pr();function ps(w){return w<.04045?w*.0773993808:Math.pow(w*.9478672986+.0521327014,2.4)}function Ss(w){return w<.0031308?w*12.92:1.055*Math.pow(w,.41666)-.055}let Vo;class Ea{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Vo===void 0&&(Vo=Ve("canvas")),Vo.width=e.width,Vo.height=e.height;const o=Vo.getContext("2d");e instanceof ImageData?o.putImageData(e,0,0):o.drawImage(e,0,0,e.width,e.height),r=Vo}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const n=Ve("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),c=o.data;for(let h=0;h<c.length;h++)c[h]=ps(c[h]/255)*255;return r.putImageData(o,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(ps(n[r]/255)*255):n[r]=ps(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pa=0;class $o{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pa++}),this.uuid=Ar(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(o!==null){let c;if(Array.isArray(o)){c=[];for(let h=0,p=o.length;h<p;h++)o[h].isDataTexture?c.push(ja(o[h].image)):c.push(ja(o[h]))}else c=ja(o);r.url=c}return n||(e.images[this.uuid]=r),r}}function ja(w){return typeof HTMLImageElement!="undefined"&&w instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&w instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&w instanceof ImageBitmap?Ea.getDataURL(w):w.data?{data:Array.from(w.data),width:w.width,height:w.height,type:w.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Il=0;class jo extends yi{constructor(e=jo.DEFAULT_IMAGE,n=jo.DEFAULT_MAPPING,r=Ot,o=Ot,c=$n,h=Ir,p=kn,x=Tt,S=jo.DEFAULT_ANISOTROPY,O=ll){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Il++}),this.uuid=Ar(),this.name="",this.source=new $o(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=c,this.minFilter=h,this.anisotropy=S,this.format=p,this.internalFormat=null,this.type=x,this.offset=new sn(0,0),this.repeat=new sn(1,1),this.center=new sn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ar,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=O,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==vn)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vi:e.x=e.x-Math.floor(e.x);break;case Ot:e.x=e.x<0?0:1;break;case kt:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vi:e.y=e.y-Math.floor(e.y);break;case Ot:e.y=e.y<0?0:1;break;case kt:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}jo.DEFAULT_IMAGE=null,jo.DEFAULT_MAPPING=vn,jo.DEFAULT_ANISOTROPY=1;class la{constructor(e=0,n=0,r=0,o=1){la.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,o){return this.x=e,this.y=n,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,c=this.w,h=e.elements;return this.x=h[0]*n+h[4]*r+h[8]*o+h[12]*c,this.y=h[1]*n+h[5]*r+h[9]*o+h[13]*c,this.z=h[2]*n+h[6]*r+h[10]*o+h[14]*c,this.w=h[3]*n+h[7]*r+h[11]*o+h[15]*c,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,o,c;const x=e.elements,S=x[0],O=x[4],F=x[8],$=x[1],V=x[5],G=x[9],me=x[2],De=x[6],ke=x[10];if(Math.abs(O-$)<.01&&Math.abs(F-me)<.01&&Math.abs(G-De)<.01){if(Math.abs(O+$)<.1&&Math.abs(F+me)<.1&&Math.abs(G+De)<.1&&Math.abs(S+V+ke-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const gt=(S+1)/2,Mt=(V+1)/2,qn=(ke+1)/2,ri=(O+$)/4,Pi=(F+me)/4,hi=(G+De)/4;return gt>Mt&&gt>qn?gt<.01?(r=0,o=.707106781,c=.707106781):(r=Math.sqrt(gt),o=ri/r,c=Pi/r):Mt>qn?Mt<.01?(r=.707106781,o=0,c=.707106781):(o=Math.sqrt(Mt),r=ri/o,c=hi/o):qn<.01?(r=.707106781,o=.707106781,c=0):(c=Math.sqrt(qn),r=Pi/c,o=hi/c),this.set(r,o,c,n),this}let mt=Math.sqrt((De-G)*(De-G)+(F-me)*(F-me)+($-O)*($-O));return Math.abs(mt)<.001&&(mt=1),this.x=(De-G)/mt,this.y=(F-me)/mt,this.z=($-O)/mt,this.w=Math.acos((S+V+ke-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Di(this.x,e.x,n.x),this.y=Di(this.y,e.y,n.y),this.z=Di(this.z,e.z,n.z),this.w=Di(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Di(this.x,e,n),this.y=Di(this.y,e,n),this.z=Di(this.z,e,n),this.w=Di(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Di(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ul extends yi{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new la(0,0,e,n),this.scissorTest=!1,this.viewport=new la(0,0,e,n);const o={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$n,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const c=new jo(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);c.flipY=!1,c.generateMipmaps=r.generateMipmaps,c.internalFormat=r.internalFormat,this.textures=[];const h=r.count;for(let p=0;p<h;p++)this.textures[p]=c.clone(),this.textures[p].isRenderTargetTexture=!0,this.textures[p].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let o=0,c=this.textures.length;o<c;o++)this.textures[o].image.width=e,this.textures[o].image.height=n,this.textures[o].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const o=Object.assign({},e.textures[n].image);this.textures[n].source=new $o(o)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cc extends Ul{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class El extends jo{constructor(e=null,n=1,r=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:o},this.magFilter=cn,this.minFilter=cn,this.wrapR=Ot,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class uc extends null{constructor(e=1,n=1,r=1,o={}){super(e,n,o),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new El(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class yl extends jo{constructor(e=null,n=1,r=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:o},this.magFilter=cn,this.minFilter=cn,this.wrapR=Ot,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hu extends null{constructor(e=1,n=1,r=1,o={}){super(e,n,o),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new yl(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Tl{constructor(e=0,n=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=o}static slerpFlat(e,n,r,o,c,h,p){let x=r[o+0],S=r[o+1],O=r[o+2],F=r[o+3];const $=c[h+0],V=c[h+1],G=c[h+2],me=c[h+3];if(p===0){e[n+0]=x,e[n+1]=S,e[n+2]=O,e[n+3]=F;return}if(p===1){e[n+0]=$,e[n+1]=V,e[n+2]=G,e[n+3]=me;return}if(F!==me||x!==$||S!==V||O!==G){let De=1-p;const ke=x*$+S*V+O*G+F*me,mt=ke>=0?1:-1,gt=1-ke*ke;if(gt>Number.EPSILON){const qn=Math.sqrt(gt),ri=Math.atan2(qn,ke*mt);De=Math.sin(De*ri)/qn,p=Math.sin(p*ri)/qn}const Mt=p*mt;if(x=x*De+$*Mt,S=S*De+V*Mt,O=O*De+G*Mt,F=F*De+me*Mt,De===1-p){const qn=1/Math.sqrt(x*x+S*S+O*O+F*F);x*=qn,S*=qn,O*=qn,F*=qn}}e[n]=x,e[n+1]=S,e[n+2]=O,e[n+3]=F}static multiplyQuaternionsFlat(e,n,r,o,c,h){const p=r[o],x=r[o+1],S=r[o+2],O=r[o+3],F=c[h],$=c[h+1],V=c[h+2],G=c[h+3];return e[n]=p*G+O*F+x*V-S*$,e[n+1]=x*G+O*$+S*F-p*V,e[n+2]=S*G+O*V+p*$-x*F,e[n+3]=O*G-p*F-x*$-S*V,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,o){return this._x=e,this._y=n,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,o=e._y,c=e._z,h=e._order,p=Math.cos,x=Math.sin,S=p(r/2),O=p(o/2),F=p(c/2),$=x(r/2),V=x(o/2),G=x(c/2);switch(h){case"XYZ":this._x=$*O*F+S*V*G,this._y=S*V*F-$*O*G,this._z=S*O*G+$*V*F,this._w=S*O*F-$*V*G;break;case"YXZ":this._x=$*O*F+S*V*G,this._y=S*V*F-$*O*G,this._z=S*O*G-$*V*F,this._w=S*O*F+$*V*G;break;case"ZXY":this._x=$*O*F-S*V*G,this._y=S*V*F+$*O*G,this._z=S*O*G+$*V*F,this._w=S*O*F-$*V*G;break;case"ZYX":this._x=$*O*F-S*V*G,this._y=S*V*F+$*O*G,this._z=S*O*G-$*V*F,this._w=S*O*F+$*V*G;break;case"YZX":this._x=$*O*F+S*V*G,this._y=S*V*F+$*O*G,this._z=S*O*G-$*V*F,this._w=S*O*F-$*V*G;break;case"XZY":this._x=$*O*F-S*V*G,this._y=S*V*F-$*O*G,this._z=S*O*G+$*V*F,this._w=S*O*F+$*V*G;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+h)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],o=n[4],c=n[8],h=n[1],p=n[5],x=n[9],S=n[2],O=n[6],F=n[10],$=r+p+F;if($>0){const V=.5/Math.sqrt($+1);this._w=.25/V,this._x=(O-x)*V,this._y=(c-S)*V,this._z=(h-o)*V}else if(r>p&&r>F){const V=2*Math.sqrt(1+r-p-F);this._w=(O-x)/V,this._x=.25*V,this._y=(o+h)/V,this._z=(c+S)/V}else if(p>F){const V=2*Math.sqrt(1+p-r-F);this._w=(c-S)/V,this._x=(o+h)/V,this._y=.25*V,this._z=(x+O)/V}else{const V=2*Math.sqrt(1+F-r-p);this._w=(h-o)/V,this._x=(c+S)/V,this._y=(x+O)/V,this._z=.25*V}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Di(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const o=Math.min(1,n/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,o=e._y,c=e._z,h=e._w,p=n._x,x=n._y,S=n._z,O=n._w;return this._x=r*O+h*p+o*S-c*x,this._y=o*O+h*x+c*p-r*S,this._z=c*O+h*S+r*x-o*p,this._w=h*O-r*p-o*x-c*S,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,o=this._y,c=this._z,h=this._w;let p=h*e._w+r*e._x+o*e._y+c*e._z;if(p<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,p=-p):this.copy(e),p>=1)return this._w=h,this._x=r,this._y=o,this._z=c,this;const x=1-p*p;if(x<=Number.EPSILON){const V=1-n;return this._w=V*h+n*this._w,this._x=V*r+n*this._x,this._y=V*o+n*this._y,this._z=V*c+n*this._z,this.normalize(),this}const S=Math.sqrt(x),O=Math.atan2(S,p),F=Math.sin((1-n)*O)/S,$=Math.sin(n*O)/S;return this._w=h*F+this._w*$,this._x=r*F+this._x*$,this._y=o*F+this._y*$,this._z=c*F+this._z*$,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),c=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),c*Math.sin(n),c*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ct{constructor(e=0,n=0,r=0){ct.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(bu.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(bu.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,o=this.z,c=e.elements;return this.x=c[0]*n+c[3]*r+c[6]*o,this.y=c[1]*n+c[4]*r+c[7]*o,this.z=c[2]*n+c[5]*r+c[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,c=e.elements,h=1/(c[3]*n+c[7]*r+c[11]*o+c[15]);return this.x=(c[0]*n+c[4]*r+c[8]*o+c[12])*h,this.y=(c[1]*n+c[5]*r+c[9]*o+c[13])*h,this.z=(c[2]*n+c[6]*r+c[10]*o+c[14])*h,this}applyQuaternion(e){const n=this.x,r=this.y,o=this.z,c=e.x,h=e.y,p=e.z,x=e.w,S=2*(h*o-p*r),O=2*(p*n-c*o),F=2*(c*r-h*n);return this.x=n+x*S+h*F-p*O,this.y=r+x*O+p*S-c*F,this.z=o+x*F+c*O-h*S,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,o=this.z,c=e.elements;return this.x=c[0]*n+c[4]*r+c[8]*o,this.y=c[1]*n+c[5]*r+c[9]*o,this.z=c[2]*n+c[6]*r+c[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Di(this.x,e.x,n.x),this.y=Di(this.y,e.y,n.y),this.z=Di(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Di(this.x,e,n),this.y=Di(this.y,e,n),this.z=Di(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Di(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,o=e.y,c=e.z,h=n.x,p=n.y,x=n.z;return this.x=o*x-c*p,this.y=c*h-r*x,this.z=r*p-o*h,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Cl.copy(this).projectOnVector(e),this.sub(Cl)}reflect(e){return this.sub(Cl.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Di(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return n*n+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const o=Math.sin(n)*e;return this.x=o*Math.sin(r),this.y=Math.cos(n)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=o,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Cl=new ct,bu=new Tl;class zl{constructor(e=new ct(1/0,1/0,1/0),n=new ct(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Jl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Jl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Jl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const c=r.getAttribute("position");if(n===!0&&c!==void 0&&e.isInstancedMesh!==!0)for(let h=0,p=c.count;h<p;h++)e.isMesh===!0?e.getVertexPosition(h,Jl):Jl.fromBufferAttribute(c,h),Jl.applyMatrix4(e.matrixWorld),this.expandByPoint(Jl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),eu.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),eu.copy(r.boundingBox)),eu.applyMatrix4(e.matrixWorld),this.union(eu)}const o=e.children;for(let c=0,h=o.length;c<h;c++)this.expandByObject(o[c],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Jl),Jl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Hc),Rc.subVectors(this.max,Hc),Pc.subVectors(e.a,Hc),_c.subVectors(e.b,Hc),Fc.subVectors(e.c,Hc),wc.subVectors(_c,Pc),Mc.subVectors(Fc,_c),Oc.subVectors(Pc,Fc);let n=[0,-wc.z,wc.y,0,-Mc.z,Mc.y,0,-Oc.z,Oc.y,wc.z,0,-wc.x,Mc.z,0,-Mc.x,Oc.z,0,-Oc.x,-wc.y,wc.x,0,-Mc.y,Mc.x,0,-Oc.y,Oc.x,0];return!Vc(n,Pc,_c,Fc,Rc)||(n=[1,0,0,0,1,0,0,0,1],!Vc(n,Pc,_c,Fc,Rc))?!1:(tu.crossVectors(wc,Mc),n=[tu.x,tu.y,tu.z],Vc(n,Pc,_c,Fc,Rc))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Jl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Jl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(yc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yc=[new ct,new ct,new ct,new ct,new ct,new ct,new ct,new ct],Jl=new ct,eu=new zl,Pc=new ct,_c=new ct,Fc=new ct,wc=new ct,Mc=new ct,Oc=new ct,Hc=new ct,Rc=new ct,tu=new ct,Ic=new ct;function Vc(w,e,n,r,o){for(let c=0,h=w.length-3;c<=h;c+=3){Ic.fromArray(w,c);const p=o.x*Math.abs(Ic.x)+o.y*Math.abs(Ic.y)+o.z*Math.abs(Ic.z),x=e.dot(Ic),S=n.dot(Ic),O=r.dot(Ic);if(Math.max(-Math.max(x,S,O),Math.min(x,S,O))>p)return!1}return!0}const Su=new zl,jc=new ct,Ql=new ct;class Al{constructor(e=new ct,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Su.setFromPoints(e).getCenter(r);let o=0;for(let c=0,h=e.length;c<h;c++)o=Math.max(o,r.distanceToSquared(e[c]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jc.subVectors(e,this.center);const n=jc.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),o=(r-this.radius)*.5;this.center.addScaledVector(jc,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Ql.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jc.copy(e.center).add(Ql)),this.expandByPoint(jc.copy(e.center).sub(Ql))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const dc=new ct,jl=new ct,ec=new ct,Dl=new ct,Wc=new ct,Dc=new ct,Bc=new ct;class xc{constructor(e=new ct,n=new ct(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,dc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=dc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(dc.copy(this.origin).addScaledVector(this.direction,n),dc.distanceToSquared(e))}distanceSqToSegment(e,n,r,o){jl.copy(e).add(n).multiplyScalar(.5),ec.copy(n).sub(e).normalize(),Dl.copy(this.origin).sub(jl);const c=e.distanceTo(n)*.5,h=-this.direction.dot(ec),p=Dl.dot(this.direction),x=-Dl.dot(ec),S=Dl.lengthSq(),O=Math.abs(1-h*h);let F,$,V,G;if(O>0)if(F=h*x-p,$=h*p-x,G=c*O,F>=0)if($>=-G)if($<=G){const me=1/O;F*=me,$*=me,V=F*(F+h*$+2*p)+$*(h*F+$+2*x)+S}else $=c,F=Math.max(0,-(h*$+p)),V=-F*F+$*($+2*x)+S;else $=-c,F=Math.max(0,-(h*$+p)),V=-F*F+$*($+2*x)+S;else $<=-G?(F=Math.max(0,-(-h*c+p)),$=F>0?-c:Math.min(Math.max(-c,-x),c),V=-F*F+$*($+2*x)+S):$<=G?(F=0,$=Math.min(Math.max(-c,-x),c),V=$*($+2*x)+S):(F=Math.max(0,-(h*c+p)),$=F>0?c:Math.min(Math.max(-c,-x),c),V=-F*F+$*($+2*x)+S);else $=h>0?-c:c,F=Math.max(0,-(h*$+p)),V=-F*F+$*($+2*x)+S;return r&&r.copy(this.origin).addScaledVector(this.direction,F),o&&o.copy(jl).addScaledVector(ec,$),V}intersectSphere(e,n){dc.subVectors(e.center,this.origin);const r=dc.dot(this.direction),o=dc.dot(dc)-r*r,c=e.radius*e.radius;if(o>c)return null;const h=Math.sqrt(c-o),p=r-h,x=r+h;return x<0?null:p<0?this.at(x,n):this.at(p,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,o,c,h,p,x;const S=1/this.direction.x,O=1/this.direction.y,F=1/this.direction.z,$=this.origin;return S>=0?(r=(e.min.x-$.x)*S,o=(e.max.x-$.x)*S):(r=(e.max.x-$.x)*S,o=(e.min.x-$.x)*S),O>=0?(c=(e.min.y-$.y)*O,h=(e.max.y-$.y)*O):(c=(e.max.y-$.y)*O,h=(e.min.y-$.y)*O),r>h||c>o||((c>r||isNaN(r))&&(r=c),(h<o||isNaN(o))&&(o=h),F>=0?(p=(e.min.z-$.z)*F,x=(e.max.z-$.z)*F):(p=(e.max.z-$.z)*F,x=(e.min.z-$.z)*F),r>x||p>o)||((p>r||r!==r)&&(r=p),(x<o||o!==o)&&(o=x),o<0)?null:this.at(r>=0?r:o,n)}intersectsBox(e){return this.intersectBox(e,dc)!==null}intersectTriangle(e,n,r,o,c){Wc.subVectors(n,e),Dc.subVectors(r,e),Bc.crossVectors(Wc,Dc);let h=this.direction.dot(Bc),p;if(h>0){if(o)return null;p=1}else if(h<0)p=-1,h=-h;else return null;Dl.subVectors(this.origin,e);const x=p*this.direction.dot(Dc.crossVectors(Dl,Dc));if(x<0)return null;const S=p*this.direction.dot(Wc.cross(Dl));if(S<0||x+S>h)return null;const O=-p*Dl.dot(Bc);return O<0?null:this.at(O/h,c)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Io{constructor(e,n,r,o,c,h,p,x,S,O,F,$,V,G,me,De){Io.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,o,c,h,p,x,S,O,F,$,V,G,me,De)}set(e,n,r,o,c,h,p,x,S,O,F,$,V,G,me,De){const ke=this.elements;return ke[0]=e,ke[4]=n,ke[8]=r,ke[12]=o,ke[1]=c,ke[5]=h,ke[9]=p,ke[13]=x,ke[2]=S,ke[6]=O,ke[10]=F,ke[14]=$,ke[3]=V,ke[7]=G,ke[11]=me,ke[15]=De,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Io().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,o=1/Uc.setFromMatrixColumn(e,0).length(),c=1/Uc.setFromMatrixColumn(e,1).length(),h=1/Uc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*o,n[1]=r[1]*o,n[2]=r[2]*o,n[3]=0,n[4]=r[4]*c,n[5]=r[5]*c,n[6]=r[6]*c,n[7]=0,n[8]=r[8]*h,n[9]=r[9]*h,n[10]=r[10]*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,o=e.y,c=e.z,h=Math.cos(r),p=Math.sin(r),x=Math.cos(o),S=Math.sin(o),O=Math.cos(c),F=Math.sin(c);if(e.order==="XYZ"){const $=h*O,V=h*F,G=p*O,me=p*F;n[0]=x*O,n[4]=-x*F,n[8]=S,n[1]=V+G*S,n[5]=$-me*S,n[9]=-p*x,n[2]=me-$*S,n[6]=G+V*S,n[10]=h*x}else if(e.order==="YXZ"){const $=x*O,V=x*F,G=S*O,me=S*F;n[0]=$+me*p,n[4]=G*p-V,n[8]=h*S,n[1]=h*F,n[5]=h*O,n[9]=-p,n[2]=V*p-G,n[6]=me+$*p,n[10]=h*x}else if(e.order==="ZXY"){const $=x*O,V=x*F,G=S*O,me=S*F;n[0]=$-me*p,n[4]=-h*F,n[8]=G+V*p,n[1]=V+G*p,n[5]=h*O,n[9]=me-$*p,n[2]=-h*S,n[6]=p,n[10]=h*x}else if(e.order==="ZYX"){const $=h*O,V=h*F,G=p*O,me=p*F;n[0]=x*O,n[4]=G*S-V,n[8]=$*S+me,n[1]=x*F,n[5]=me*S+$,n[9]=V*S-G,n[2]=-S,n[6]=p*x,n[10]=h*x}else if(e.order==="YZX"){const $=h*x,V=h*S,G=p*x,me=p*S;n[0]=x*O,n[4]=me-$*F,n[8]=G*F+V,n[1]=F,n[5]=h*O,n[9]=-p*O,n[2]=-S*O,n[6]=V*F+G,n[10]=$-me*F}else if(e.order==="XZY"){const $=h*x,V=h*S,G=p*x,me=p*S;n[0]=x*O,n[4]=-F,n[8]=S*O,n[1]=$*F+me,n[5]=h*O,n[9]=V*F-G,n[2]=G*F-V,n[6]=p*O,n[10]=me*F+$}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ec,e,nu)}lookAt(e,n,r){const o=this.elements;return tl.subVectors(e,n),tl.lengthSq()===0&&(tl.z=1),tl.normalize(),Tc.crossVectors(r,tl),Tc.lengthSq()===0&&(Math.abs(r.z)===1?tl.x+=1e-4:tl.z+=1e-4,tl.normalize(),Tc.crossVectors(r,tl)),Tc.normalize(),iu.crossVectors(tl,Tc),o[0]=Tc.x,o[4]=iu.x,o[8]=tl.x,o[1]=Tc.y,o[5]=iu.y,o[9]=tl.y,o[2]=Tc.z,o[6]=iu.z,o[10]=tl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,c=this.elements,h=r[0],p=r[4],x=r[8],S=r[12],O=r[1],F=r[5],$=r[9],V=r[13],G=r[2],me=r[6],De=r[10],ke=r[14],mt=r[3],gt=r[7],Mt=r[11],qn=r[15],ri=o[0],Pi=o[4],hi=o[8],Yr=o[12],vs=o[1],To=o[5],Fa=o[9],al=o[13],Ml=o[2],gl=o[6],ql=o[10],lc=o[14],Jc=o[3],Fl=o[7],Zl=o[11],Bl=o[15];return c[0]=h*ri+p*vs+x*Ml+S*Jc,c[4]=h*Pi+p*To+x*gl+S*Fl,c[8]=h*hi+p*Fa+x*ql+S*Zl,c[12]=h*Yr+p*al+x*lc+S*Bl,c[1]=O*ri+F*vs+$*Ml+V*Jc,c[5]=O*Pi+F*To+$*gl+V*Fl,c[9]=O*hi+F*Fa+$*ql+V*Zl,c[13]=O*Yr+F*al+$*lc+V*Bl,c[2]=G*ri+me*vs+De*Ml+ke*Jc,c[6]=G*Pi+me*To+De*gl+ke*Fl,c[10]=G*hi+me*Fa+De*ql+ke*Zl,c[14]=G*Yr+me*al+De*lc+ke*Bl,c[3]=mt*ri+gt*vs+Mt*Ml+qn*Jc,c[7]=mt*Pi+gt*To+Mt*gl+qn*Fl,c[11]=mt*hi+gt*Fa+Mt*ql+qn*Zl,c[15]=mt*Yr+gt*al+Mt*lc+qn*Bl,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],o=e[8],c=e[12],h=e[1],p=e[5],x=e[9],S=e[13],O=e[2],F=e[6],$=e[10],V=e[14],G=e[3],me=e[7],De=e[11],ke=e[15];return G*(+c*x*F-o*S*F-c*p*$+r*S*$+o*p*V-r*x*V)+me*(+n*x*V-n*S*$+c*h*$-o*h*V+o*S*O-c*x*O)+De*(+n*S*F-n*p*V-c*h*F+r*h*V+c*p*O-r*S*O)+ke*(-o*p*O-n*x*F+n*p*$+o*h*F-r*h*$+r*x*O)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=n,o[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],c=e[3],h=e[4],p=e[5],x=e[6],S=e[7],O=e[8],F=e[9],$=e[10],V=e[11],G=e[12],me=e[13],De=e[14],ke=e[15],mt=F*De*S-me*$*S+me*x*V-p*De*V-F*x*ke+p*$*ke,gt=G*$*S-O*De*S-G*x*V+h*De*V+O*x*ke-h*$*ke,Mt=O*me*S-G*F*S+G*p*V-h*me*V-O*p*ke+h*F*ke,qn=G*F*x-O*me*x-G*p*$+h*me*$+O*p*De-h*F*De,ri=n*mt+r*gt+o*Mt+c*qn;if(ri===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Pi=1/ri;return e[0]=mt*Pi,e[1]=(me*$*c-F*De*c-me*o*V+r*De*V+F*o*ke-r*$*ke)*Pi,e[2]=(p*De*c-me*x*c+me*o*S-r*De*S-p*o*ke+r*x*ke)*Pi,e[3]=(F*x*c-p*$*c-F*o*S+r*$*S+p*o*V-r*x*V)*Pi,e[4]=gt*Pi,e[5]=(O*De*c-G*$*c+G*o*V-n*De*V-O*o*ke+n*$*ke)*Pi,e[6]=(G*x*c-h*De*c-G*o*S+n*De*S+h*o*ke-n*x*ke)*Pi,e[7]=(h*$*c-O*x*c+O*o*S-n*$*S-h*o*V+n*x*V)*Pi,e[8]=Mt*Pi,e[9]=(G*F*c-O*me*c-G*r*V+n*me*V+O*r*ke-n*F*ke)*Pi,e[10]=(h*me*c-G*p*c+G*r*S-n*me*S-h*r*ke+n*p*ke)*Pi,e[11]=(O*p*c-h*F*c-O*r*S+n*F*S+h*r*V-n*p*V)*Pi,e[12]=qn*Pi,e[13]=(O*me*o-G*F*o+G*r*$-n*me*$-O*r*De+n*F*De)*Pi,e[14]=(G*p*o-h*me*o-G*r*x+n*me*x+h*r*De-n*p*De)*Pi,e[15]=(h*F*o-O*p*o+O*r*x-n*F*x-h*r*$+n*p*$)*Pi,this}scale(e){const n=this.elements,r=e.x,o=e.y,c=e.z;return n[0]*=r,n[4]*=o,n[8]*=c,n[1]*=r,n[5]*=o,n[9]*=c,n[2]*=r,n[6]*=o,n[10]*=c,n[3]*=r,n[7]*=o,n[11]*=c,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,o))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),o=Math.sin(n),c=1-r,h=e.x,p=e.y,x=e.z,S=c*h,O=c*p;return this.set(S*h+r,S*p-o*x,S*x+o*p,0,S*p+o*x,O*p+r,O*x-o*h,0,S*x-o*p,O*x+o*h,c*x*x+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,o,c,h){return this.set(1,r,c,0,e,1,h,0,n,o,1,0,0,0,0,1),this}compose(e,n,r){const o=this.elements,c=n._x,h=n._y,p=n._z,x=n._w,S=c+c,O=h+h,F=p+p,$=c*S,V=c*O,G=c*F,me=h*O,De=h*F,ke=p*F,mt=x*S,gt=x*O,Mt=x*F,qn=r.x,ri=r.y,Pi=r.z;return o[0]=(1-(me+ke))*qn,o[1]=(V+Mt)*qn,o[2]=(G-gt)*qn,o[3]=0,o[4]=(V-Mt)*ri,o[5]=(1-($+ke))*ri,o[6]=(De+mt)*ri,o[7]=0,o[8]=(G+gt)*Pi,o[9]=(De-mt)*Pi,o[10]=(1-($+me))*Pi,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,n,r){const o=this.elements;let c=Uc.set(o[0],o[1],o[2]).length();const h=Uc.set(o[4],o[5],o[6]).length(),p=Uc.set(o[8],o[9],o[10]).length();this.determinant()<0&&(c=-c),e.x=o[12],e.y=o[13],e.z=o[14],hc.copy(this);const S=1/c,O=1/h,F=1/p;return hc.elements[0]*=S,hc.elements[1]*=S,hc.elements[2]*=S,hc.elements[4]*=O,hc.elements[5]*=O,hc.elements[6]*=O,hc.elements[8]*=F,hc.elements[9]*=F,hc.elements[10]*=F,n.setFromRotationMatrix(hc),r.x=c,r.y=h,r.z=p,this}makePerspective(e,n,r,o,c,h,p=Ft){const x=this.elements,S=2*c/(n-e),O=2*c/(r-o),F=(n+e)/(n-e),$=(r+o)/(r-o);let V,G;if(p===Ft)V=-(h+c)/(h-c),G=-2*h*c/(h-c);else if(p===Ti)V=-h/(h-c),G=-h*c/(h-c);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+p);return x[0]=S,x[4]=0,x[8]=F,x[12]=0,x[1]=0,x[5]=O,x[9]=$,x[13]=0,x[2]=0,x[6]=0,x[10]=V,x[14]=G,x[3]=0,x[7]=0,x[11]=-1,x[15]=0,this}makeOrthographic(e,n,r,o,c,h,p=Ft){const x=this.elements,S=1/(n-e),O=1/(r-o),F=1/(h-c),$=(n+e)*S,V=(r+o)*O;let G,me;if(p===Ft)G=(h+c)*F,me=-2*F;else if(p===Ti)G=c*F,me=-1*F;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+p);return x[0]=2*S,x[4]=0,x[8]=0,x[12]=-$,x[1]=0,x[5]=2*O,x[9]=0,x[13]=-V,x[2]=0,x[6]=0,x[10]=me,x[14]=-G,x[3]=0,x[7]=0,x[11]=0,x[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<16;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Uc=new ct,hc=new Io,Ec=new ct(0,0,0),nu=new ct(1,1,1),Tc=new ct,iu=new ct,tl=new ct,su=new Io,fu=new Tl;class Xl{constructor(e=0,n=0,r=0,o=Xl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,o=this._order){return this._x=e,this._y=n,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const o=e.elements,c=o[0],h=o[4],p=o[8],x=o[1],S=o[5],O=o[9],F=o[2],$=o[6],V=o[10];switch(n){case"XYZ":this._y=Math.asin(Di(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-O,V),this._z=Math.atan2(-h,c)):(this._x=Math.atan2($,S),this._z=0);break;case"YXZ":this._x=Math.asin(-Di(O,-1,1)),Math.abs(O)<.9999999?(this._y=Math.atan2(p,V),this._z=Math.atan2(x,S)):(this._y=Math.atan2(-F,c),this._z=0);break;case"ZXY":this._x=Math.asin(Di($,-1,1)),Math.abs($)<.9999999?(this._y=Math.atan2(-F,V),this._z=Math.atan2(-h,S)):(this._y=0,this._z=Math.atan2(x,c));break;case"ZYX":this._y=Math.asin(-Di(F,-1,1)),Math.abs(F)<.9999999?(this._x=Math.atan2($,V),this._z=Math.atan2(x,c)):(this._x=0,this._z=Math.atan2(-h,S));break;case"YZX":this._z=Math.asin(Di(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(-O,S),this._y=Math.atan2(-F,c)):(this._x=0,this._y=Math.atan2(p,V));break;case"XZY":this._z=Math.asin(-Di(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2($,S),this._y=Math.atan2(p,c)):(this._x=Math.atan2(-O,V),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return su.makeRotationFromQuaternion(e),this.setFromRotationMatrix(su,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return fu.setFromEuler(this),this.setFromQuaternion(fu,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Xl.DEFAULT_ORDER="XYZ";class tc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Cu=0;const _u=new ct,zc=new Tl,fc=new Io,m=new ct,R=new ct,C=new ct,X=new Tl,Te=new ct(1,0,0),be=new ct(0,1,0),St=new ct(0,0,1),We={type:"added"},wn={type:"removed"},nn={type:"childadded",child:null},On={type:"childremoved",child:null};class Zt extends yi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Cu++}),this.uuid=Ar(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zt.DEFAULT_UP.clone();const e=new ct,n=new Xl,r=new Tl,o=new ct(1,1,1);function c(){r.setFromEuler(n,!1)}function h(){n.setFromQuaternion(r,void 0,!1)}n._onChange(c),r._onChange(h),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Io},normalMatrix:{value:new ar}}),this.matrix=new Io,this.matrixWorld=new Io,this.matrixAutoUpdate=Zt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new tc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return zc.setFromAxisAngle(e,n),this.quaternion.multiply(zc),this}rotateOnWorldAxis(e,n){return zc.setFromAxisAngle(e,n),this.quaternion.premultiply(zc),this}rotateX(e){return this.rotateOnAxis(Te,e)}rotateY(e){return this.rotateOnAxis(be,e)}rotateZ(e){return this.rotateOnAxis(St,e)}translateOnAxis(e,n){return _u.copy(e).applyQuaternion(this.quaternion),this.position.add(_u.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Te,e)}translateY(e){return this.translateOnAxis(be,e)}translateZ(e){return this.translateOnAxis(St,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?m.copy(e):m.set(e,n,r);const o=this.parent;this.updateWorldMatrix(!0,!1),R.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fc.lookAt(R,m,this.up):fc.lookAt(m,R,this.up),this.quaternion.setFromRotationMatrix(fc),o&&(fc.extractRotation(o.matrixWorld),zc.setFromRotationMatrix(fc),this.quaternion.premultiply(zc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(We),nn.child=e,this.dispatchEvent(nn),nn.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(wn),On.child=e,this.dispatchEvent(On),On.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),fc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fc.multiply(e.parent.matrixWorld)),e.applyMatrix4(fc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(We),nn.child=e,this.dispatchEvent(nn),nn.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,o=this.children.length;r<o;r++){const h=this.children[r].getObjectByProperty(e,n);if(h!==void 0)return h}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const o=this.children;for(let c=0,h=o.length;c<h;c++)o[c].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R,e,C),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R,X,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const o=this.children;for(let c=0,h=o.length;c<h;c++)o[c].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.visibility=this._visibility,o.active=this._active,o.bounds=this._bounds.map(p=>({boxInitialized:p.boxInitialized,boxMin:p.box.min.toArray(),boxMax:p.box.max.toArray(),sphereInitialized:p.sphereInitialized,sphereRadius:p.sphere.radius,sphereCenter:p.sphere.center.toArray()})),o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.geometryCount=this._geometryCount,o.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(o.boundingSphere={center:o.boundingSphere.center.toArray(),radius:o.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}));function c(p,x){return p[x.uuid]===void 0&&(p[x.uuid]=x.toJSON(e)),x.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=c(e.geometries,this.geometry);const p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0){const x=p.shapes;if(Array.isArray(x))for(let S=0,O=x.length;S<O;S++){const F=x[S];c(e.shapes,F)}else c(e.shapes,x)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(c(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const p=[];for(let x=0,S=this.material.length;x<S;x++)p.push(c(e.materials,this.material[x]));o.material=p}else o.material=c(e.materials,this.material);if(this.children.length>0){o.children=[];for(let p=0;p<this.children.length;p++)o.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let p=0;p<this.animations.length;p++){const x=this.animations[p];o.animations.push(c(e.animations,x))}}if(n){const p=h(e.geometries),x=h(e.materials),S=h(e.textures),O=h(e.images),F=h(e.shapes),$=h(e.skeletons),V=h(e.animations),G=h(e.nodes);p.length>0&&(r.geometries=p),x.length>0&&(r.materials=x),S.length>0&&(r.textures=S),O.length>0&&(r.images=O),F.length>0&&(r.shapes=F),$.length>0&&(r.skeletons=$),V.length>0&&(r.animations=V),G.length>0&&(r.nodes=G)}return r.object=o,r;function h(p){const x=[];for(const S in p){const O=p[S];delete O.metadata,x.push(O)}return x}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const o=e.children[r];this.add(o.clone())}return this}}Zt.DEFAULT_UP=new ct(0,1,0),Zt.DEFAULT_MATRIX_AUTO_UPDATE=!0,Zt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qt=new ct,on=new ct,Qn=new ct,Sn=new ct,Re=new ct,he=new ct,Pn=new ct,ln=new ct,jt=new ct,_i=new ct,Cn=new la,Nn=new la,wi=new la;class Ke{constructor(e=new ct,n=new ct,r=new ct){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,o){o.subVectors(r,n),Qt.subVectors(e,n),o.cross(Qt);const c=o.lengthSq();return c>0?o.multiplyScalar(1/Math.sqrt(c)):o.set(0,0,0)}static getBarycoord(e,n,r,o,c){Qt.subVectors(o,n),on.subVectors(r,n),Qn.subVectors(e,n);const h=Qt.dot(Qt),p=Qt.dot(on),x=Qt.dot(Qn),S=on.dot(on),O=on.dot(Qn),F=h*S-p*p;if(F===0)return c.set(0,0,0),null;const $=1/F,V=(S*x-p*O)*$,G=(h*O-p*x)*$;return c.set(1-V-G,G,V)}static containsPoint(e,n,r,o){return this.getBarycoord(e,n,r,o,Sn)===null?!1:Sn.x>=0&&Sn.y>=0&&Sn.x+Sn.y<=1}static getInterpolation(e,n,r,o,c,h,p,x){return this.getBarycoord(e,n,r,o,Sn)===null?(x.x=0,x.y=0,"z"in x&&(x.z=0),"w"in x&&(x.w=0),null):(x.setScalar(0),x.addScaledVector(c,Sn.x),x.addScaledVector(h,Sn.y),x.addScaledVector(p,Sn.z),x)}static getInterpolatedAttribute(e,n,r,o,c,h){return Cn.setScalar(0),Nn.setScalar(0),wi.setScalar(0),Cn.fromBufferAttribute(e,n),Nn.fromBufferAttribute(e,r),wi.fromBufferAttribute(e,o),h.setScalar(0),h.addScaledVector(Cn,c.x),h.addScaledVector(Nn,c.y),h.addScaledVector(wi,c.z),h}static isFrontFacing(e,n,r,o){return Qt.subVectors(r,n),on.subVectors(e,n),Qt.cross(on).dot(o)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,o){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,n,r,o){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qt.subVectors(this.c,this.b),on.subVectors(this.a,this.b),Qt.cross(on).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ke.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ke.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,o,c){return Ke.getInterpolation(e,this.a,this.b,this.c,n,r,o,c)}containsPoint(e){return Ke.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ke.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,o=this.b,c=this.c;let h,p;Re.subVectors(o,r),he.subVectors(c,r),ln.subVectors(e,r);const x=Re.dot(ln),S=he.dot(ln);if(x<=0&&S<=0)return n.copy(r);jt.subVectors(e,o);const O=Re.dot(jt),F=he.dot(jt);if(O>=0&&F<=O)return n.copy(o);const $=x*F-O*S;if($<=0&&x>=0&&O<=0)return h=x/(x-O),n.copy(r).addScaledVector(Re,h);_i.subVectors(e,c);const V=Re.dot(_i),G=he.dot(_i);if(G>=0&&V<=G)return n.copy(c);const me=V*S-x*G;if(me<=0&&S>=0&&G<=0)return p=S/(S-G),n.copy(r).addScaledVector(he,p);const De=O*G-V*F;if(De<=0&&F-O>=0&&V-G>=0)return Pn.subVectors(c,o),p=(F-O)/(F-O+(V-G)),n.copy(o).addScaledVector(Pn,p);const ke=1/(De+me+$);return h=me*ke,p=$*ke,n.copy(r).addScaledVector(Re,h).addScaledVector(he,p)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},un={h:0,s:0,l:0},ki={h:0,s:0,l:0};function Mi(w,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?w+(e-w)*6*n:n<1/2?e:n<2/3?w+(e-w)*6*(2/3-n):w}class Rn{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Jo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ki.toWorkingColorSpace(this,n),this}setRGB(e,n,r,o=Ki.workingColorSpace){return this.r=e,this.g=n,this.b=r,Ki.toWorkingColorSpace(this,o),this}setHSL(e,n,r,o=Ki.workingColorSpace){if(e=Ms(e,1),n=Di(n,0,1),r=Di(r,0,1),n===0)this.r=this.g=this.b=r;else{const c=r<=.5?r*(1+n):r+n-r*n,h=2*r-c;this.r=Mi(h,c,e+1/3),this.g=Mi(h,c,e),this.b=Mi(h,c,e-1/3)}return Ki.toWorkingColorSpace(this,o),this}setStyle(e,n=Jo){function r(c){c!==void 0&&parseFloat(c)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let c;const h=o[1],p=o[2];switch(h){case"rgb":case"rgba":if(c=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return r(c[4]),this.setRGB(Math.min(255,parseInt(c[1],10))/255,Math.min(255,parseInt(c[2],10))/255,Math.min(255,parseInt(c[3],10))/255,n);if(c=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return r(c[4]),this.setRGB(Math.min(100,parseInt(c[1],10))/100,Math.min(100,parseInt(c[2],10))/100,Math.min(100,parseInt(c[3],10))/100,n);break;case"hsl":case"hsla":if(c=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return r(c[4]),this.setHSL(parseFloat(c[1])/360,parseFloat(c[2])/100,parseFloat(c[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const c=o[1],h=c.length;if(h===3)return this.setRGB(parseInt(c.charAt(0),16)/15,parseInt(c.charAt(1),16)/15,parseInt(c.charAt(2),16)/15,n);if(h===6)return this.setHex(parseInt(c,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Jo){const r=Ue[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ps(e.r),this.g=ps(e.g),this.b=ps(e.b),this}copyLinearToSRGB(e){return this.r=Ss(e.r),this.g=Ss(e.g),this.b=Ss(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Jo){return Ki.fromWorkingColorSpace(Li.copy(this),e),Math.round(Di(Li.r*255,0,255))*65536+Math.round(Di(Li.g*255,0,255))*256+Math.round(Di(Li.b*255,0,255))}getHexString(e=Jo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ki.workingColorSpace){Ki.fromWorkingColorSpace(Li.copy(this),n);const r=Li.r,o=Li.g,c=Li.b,h=Math.max(r,o,c),p=Math.min(r,o,c);let x,S;const O=(p+h)/2;if(p===h)x=0,S=0;else{const F=h-p;switch(S=O<=.5?F/(h+p):F/(2-h-p),h){case r:x=(o-c)/F+(o<c?6:0);break;case o:x=(c-r)/F+2;break;case c:x=(r-o)/F+4;break}x/=6}return e.h=x,e.s=S,e.l=O,e}getRGB(e,n=Ki.workingColorSpace){return Ki.fromWorkingColorSpace(Li.copy(this),n),e.r=Li.r,e.g=Li.g,e.b=Li.b,e}getStyle(e=Jo){Ki.fromWorkingColorSpace(Li.copy(this),e);const n=Li.r,r=Li.g,o=Li.b;return e!==Jo?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(o*255)})`}offsetHSL(e,n,r){return this.getHSL(un),this.setHSL(un.h+e,un.s+n,un.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(un),e.getHSL(ki);const r=eo(un.h,ki.h,n),o=eo(un.s,ki.s,n),c=eo(un.l,ki.l,n);return this.setHSL(r,o,c),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,o=this.b,c=e.elements;return this.r=c[0]*n+c[3]*r+c[6]*o,this.g=c[1]*n+c[4]*r+c[7]*o,this.b=c[2]*n+c[5]*r+c[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Li=new Rn;Rn.NAMES=Ue;let Ai=0;class yr extends yi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Ai++}),this.uuid=Ar(),this.name="",this.type="Material",this.blending=Ye,this.side=Be,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=et,this.blendDst=Kt,this.blendEquation=de,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rn(0,0,0),this.blendAlpha=0,this.depthFunc=si,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=N,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=H,this.stencilZFail=H,this.stencilZPass=H,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const o=this[n];if(o===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ye&&(r.blending=this.blending),this.side!==Be&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==et&&(r.blendSrc=this.blendSrc),this.blendDst!==Kt&&(r.blendDst=this.blendDst),this.blendEquation!==de&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==si&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==N&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==H&&(r.stencilFail=this.stencilFail),this.stencilZFail!==H&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==H&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function o(c){const h=[];for(const p in c){const x=c[p];delete x.metadata,h.push(x)}return h}if(n){const c=o(e.textures),h=o(e.images);c.length>0&&(r.textures=c),h.length>0&&(r.images=h)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const o=n.length;r=new Array(o);for(let c=0;c!==o;++c)r[c]=n[c].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Wn extends yr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.combine=Ei,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Os=null;function yo(){const w=new ArrayBuffer(4),e=new Float32Array(w),n=new Uint32Array(w),r=new Uint32Array(512),o=new Uint32Array(512);for(let x=0;x<256;++x){const S=x-127;S<-27?(r[x]=0,r[x|256]=32768,o[x]=24,o[x|256]=24):S<-14?(r[x]=1024>>-S-14,r[x|256]=1024>>-S-14|32768,o[x]=-S-1,o[x|256]=-S-1):S<=15?(r[x]=S+15<<10,r[x|256]=S+15<<10|32768,o[x]=13,o[x|256]=13):S<128?(r[x]=31744,r[x|256]=64512,o[x]=24,o[x|256]=24):(r[x]=31744,r[x|256]=64512,o[x]=13,o[x|256]=13)}const c=new Uint32Array(2048),h=new Uint32Array(64),p=new Uint32Array(64);for(let x=1;x<1024;++x){let S=x<<13,O=0;for(;!(S&8388608);)S<<=1,O-=8388608;S&=-8388609,O+=947912704,c[x]=S|O}for(let x=1024;x<2048;++x)c[x]=939524096+(x-1024<<13);for(let x=1;x<31;++x)h[x]=x<<23;h[31]=1199570944,h[32]=2147483648;for(let x=33;x<63;++x)h[x]=2147483648+(x-32<<23);h[63]=3347054592;for(let x=1;x<64;++x)x!==32&&(p[x]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:o,mantissaTable:c,exponentTable:h,offsetTable:p}}function to(w){Math.abs(w)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),w=Di(w,-65504,65504),Os.floatView[0]=w;const e=Os.uint32View[0],n=e>>23&511;return Os.baseTable[n]+((e&8388607)>>Os.shiftTable[n])}function ta(w){const e=w>>10;return Os.uint32View[0]=Os.mantissaTable[Os.offsetTable[e]+(w&1023)]+Os.exponentTable[e],Os.floatView[0]}class nl{static toHalfFloat(e){return to(e)}static fromHalfFloat(e){return ta(e)}}const Kn=new ct,Hr=new sn;let Rs=0;class xr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Rs++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Si,this.updateRanges=[],this.gpuType=An,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let o=0,c=this.itemSize;o<c;o++)this.array[e+o]=n.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Hr.fromBufferAttribute(this,n),Hr.applyMatrix3(e),this.setXY(n,Hr.x,Hr.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Kn.fromBufferAttribute(this,n),Kn.applyMatrix3(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Kn.fromBufferAttribute(this,n),Kn.applyMatrix4(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Kn.fromBufferAttribute(this,n),Kn.applyNormalMatrix(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Kn.fromBufferAttribute(this,n),Kn.transformDirection(e),this.setXYZ(n,Kn.x,Kn.y,Kn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ni(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ln(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ni(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ni(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ni(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ni(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,o){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),o=Ln(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,n,r,o,c){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),o=Ln(o,this.array),c=Ln(c,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=c,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Si&&(e.usage=this.usage),e}}class xo extends null{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Ra extends null{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Do extends null{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class pl extends null{constructor(e,n,r){super(new Int16Array(e),n,r)}}class il extends xr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Lo extends null{constructor(e,n,r){super(new Int32Array(e),n,r)}}class Lt extends xr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class $l extends null{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=ta(this.array[e*this.itemSize]);return this.normalized&&(n=ni(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize]=to(n),this}getY(e){let n=ta(this.array[e*this.itemSize+1]);return this.normalized&&(n=ni(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+1]=to(n),this}getZ(e){let n=ta(this.array[e*this.itemSize+2]);return this.normalized&&(n=ni(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+2]=to(n),this}getW(e){let n=ta(this.array[e*this.itemSize+3]);return this.normalized&&(n=ni(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ln(n,this.array)),this.array[e*this.itemSize+3]=to(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array)),this.array[e+0]=to(n),this.array[e+1]=to(r),this}setXYZ(e,n,r,o){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),o=Ln(o,this.array)),this.array[e+0]=to(n),this.array[e+1]=to(r),this.array[e+2]=to(o),this}setXYZW(e,n,r,o,c){return e*=this.itemSize,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),o=Ln(o,this.array),c=Ln(c,this.array)),this.array[e+0]=to(n),this.array[e+1]=to(r),this.array[e+2]=to(o),this.array[e+3]=to(c),this}}class cr extends xr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let sa=0;const Cs=new Io,Wa=new Zt,zs=new ct,ze=new zl,pe=new zl,hn=new ct;class In extends yi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sa++}),this.uuid=Ar(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lr(e)?Lt:il)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const c=new ar().getNormalMatrix(e);r.applyNormalMatrix(c),r.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Cs.makeRotationFromQuaternion(e),this.applyMatrix4(Cs),this}rotateX(e){return Cs.makeRotationX(e),this.applyMatrix4(Cs),this}rotateY(e){return Cs.makeRotationY(e),this.applyMatrix4(Cs),this}rotateZ(e){return Cs.makeRotationZ(e),this.applyMatrix4(Cs),this}translate(e,n,r){return Cs.makeTranslation(e,n,r),this.applyMatrix4(Cs),this}scale(e,n,r){return Cs.makeScale(e,n,r),this.applyMatrix4(Cs),this}lookAt(e){return Wa.lookAt(e),Wa.updateMatrix(),this.applyMatrix4(Wa.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zs).negate(),this.translate(zs.x,zs.y,zs.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let o=0,c=e.length;o<c;o++){const h=e[o];r.push(h.x,h.y,h.z||0)}this.setAttribute("position",new cr(r,3))}else{const r=Math.min(e.length,n.count);for(let o=0;o<r;o++){const c=e[o];n.setXYZ(o,c.x,c.y,c.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ct(-1/0,-1/0,-1/0),new ct(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const c=n[r];ze.setFromBufferAttribute(c),this.morphTargetsRelative?(hn.addVectors(this.boundingBox.min,ze.min),this.boundingBox.expandByPoint(hn),hn.addVectors(this.boundingBox.max,ze.max),this.boundingBox.expandByPoint(hn)):(this.boundingBox.expandByPoint(ze.min),this.boundingBox.expandByPoint(ze.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Al);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ct,1/0);return}if(e){const r=this.boundingSphere.center;if(ze.setFromBufferAttribute(e),n)for(let c=0,h=n.length;c<h;c++){const p=n[c];pe.setFromBufferAttribute(p),this.morphTargetsRelative?(hn.addVectors(ze.min,pe.min),ze.expandByPoint(hn),hn.addVectors(ze.max,pe.max),ze.expandByPoint(hn)):(ze.expandByPoint(pe.min),ze.expandByPoint(pe.max))}ze.getCenter(r);let o=0;for(let c=0,h=e.count;c<h;c++)hn.fromBufferAttribute(e,c),o=Math.max(o,r.distanceToSquared(hn));if(n)for(let c=0,h=n.length;c<h;c++){const p=n[c],x=this.morphTargetsRelative;for(let S=0,O=p.count;S<O;S++)hn.fromBufferAttribute(p,S),x&&(zs.fromBufferAttribute(e,S),hn.add(zs)),o=Math.max(o,r.distanceToSquared(hn))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,o=n.normal,c=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new xr(new Float32Array(4*r.count),4));const h=this.getAttribute("tangent"),p=[],x=[];for(let hi=0;hi<r.count;hi++)p[hi]=new ct,x[hi]=new ct;const S=new ct,O=new ct,F=new ct,$=new sn,V=new sn,G=new sn,me=new ct,De=new ct;function ke(hi,Yr,vs){S.fromBufferAttribute(r,hi),O.fromBufferAttribute(r,Yr),F.fromBufferAttribute(r,vs),$.fromBufferAttribute(c,hi),V.fromBufferAttribute(c,Yr),G.fromBufferAttribute(c,vs),O.sub(S),F.sub(S),V.sub($),G.sub($);const To=1/(V.x*G.y-G.x*V.y);isFinite(To)&&(me.copy(O).multiplyScalar(G.y).addScaledVector(F,-V.y).multiplyScalar(To),De.copy(F).multiplyScalar(V.x).addScaledVector(O,-G.x).multiplyScalar(To),p[hi].add(me),p[Yr].add(me),p[vs].add(me),x[hi].add(De),x[Yr].add(De),x[vs].add(De))}let mt=this.groups;mt.length===0&&(mt=[{start:0,count:e.count}]);for(let hi=0,Yr=mt.length;hi<Yr;++hi){const vs=mt[hi],To=vs.start,Fa=vs.count;for(let al=To,Ml=To+Fa;al<Ml;al+=3)ke(e.getX(al+0),e.getX(al+1),e.getX(al+2))}const gt=new ct,Mt=new ct,qn=new ct,ri=new ct;function Pi(hi){qn.fromBufferAttribute(o,hi),ri.copy(qn);const Yr=p[hi];gt.copy(Yr),gt.sub(qn.multiplyScalar(qn.dot(Yr))).normalize(),Mt.crossVectors(ri,Yr);const To=Mt.dot(x[hi])<0?-1:1;h.setXYZW(hi,gt.x,gt.y,gt.z,To)}for(let hi=0,Yr=mt.length;hi<Yr;++hi){const vs=mt[hi],To=vs.start,Fa=vs.count;for(let al=To,Ml=To+Fa;al<Ml;al+=3)Pi(e.getX(al+0)),Pi(e.getX(al+1)),Pi(e.getX(al+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new xr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let $=0,V=r.count;$<V;$++)r.setXYZ($,0,0,0);const o=new ct,c=new ct,h=new ct,p=new ct,x=new ct,S=new ct,O=new ct,F=new ct;if(e)for(let $=0,V=e.count;$<V;$+=3){const G=e.getX($+0),me=e.getX($+1),De=e.getX($+2);o.fromBufferAttribute(n,G),c.fromBufferAttribute(n,me),h.fromBufferAttribute(n,De),O.subVectors(h,c),F.subVectors(o,c),O.cross(F),p.fromBufferAttribute(r,G),x.fromBufferAttribute(r,me),S.fromBufferAttribute(r,De),p.add(O),x.add(O),S.add(O),r.setXYZ(G,p.x,p.y,p.z),r.setXYZ(me,x.x,x.y,x.z),r.setXYZ(De,S.x,S.y,S.z)}else for(let $=0,V=n.count;$<V;$+=3)o.fromBufferAttribute(n,$+0),c.fromBufferAttribute(n,$+1),h.fromBufferAttribute(n,$+2),O.subVectors(h,c),F.subVectors(o,c),O.cross(F),r.setXYZ($+0,O.x,O.y,O.z),r.setXYZ($+1,O.x,O.y,O.z),r.setXYZ($+2,O.x,O.y,O.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)hn.fromBufferAttribute(e,n),hn.normalize(),e.setXYZ(n,hn.x,hn.y,hn.z)}toNonIndexed(){function e(p,x){const S=p.array,O=p.itemSize,F=p.normalized,$=new S.constructor(x.length*O);let V=0,G=0;for(let me=0,De=x.length;me<De;me++){p.isInterleavedBufferAttribute?V=x[me]*p.data.stride+p.offset:V=x[me]*O;for(let ke=0;ke<O;ke++)$[G++]=S[V++]}return new xr($,O,F)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new In,r=this.index.array,o=this.attributes;for(const p in o){const x=o[p],S=e(x,r);n.setAttribute(p,S)}const c=this.morphAttributes;for(const p in c){const x=[],S=c[p];for(let O=0,F=S.length;O<F;O++){const $=S[O],V=e($,r);x.push(V)}n.morphAttributes[p]=x}n.morphTargetsRelative=this.morphTargetsRelative;const h=this.groups;for(let p=0,x=h.length;p<x;p++){const S=h[p];n.addGroup(S.start,S.count,S.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const x=this.parameters;for(const S in x)x[S]!==void 0&&(e[S]=x[S]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const x in r){const S=r[x];e.data.attributes[x]=S.toJSON(e.data)}const o={};let c=!1;for(const x in this.morphAttributes){const S=this.morphAttributes[x],O=[];for(let F=0,$=S.length;F<$;F++){const V=S[F];O.push(V.toJSON(e.data))}O.length>0&&(o[x]=O,c=!0)}c&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const h=this.groups;h.length>0&&(e.data.groups=JSON.parse(JSON.stringify(h)));const p=this.boundingSphere;return p!==null&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const o=e.attributes;for(const S in o){const O=o[S];this.setAttribute(S,O.clone(n))}const c=e.morphAttributes;for(const S in c){const O=[],F=c[S];for(let $=0,V=F.length;$<V;$++)O.push(F[$].clone(n));this.morphAttributes[S]=O}this.morphTargetsRelative=e.morphTargetsRelative;const h=e.groups;for(let S=0,O=h.length;S<O;S++){const F=h[S];this.addGroup(F.start,F.count,F.materialIndex)}const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const x=e.boundingSphere;return x!==null&&(this.boundingSphere=x.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ni=new Io,xi=new xc,$s=new Al,Qr=new ct,ms=new ct,da=new ct,ur=new ct,is=new ct,Gs=new ct,_o=new ct,Kr=new ct;class ko extends Zt{constructor(e=new In,n=new Wn){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let c=0,h=o.length;c<h;c++){const p=o[c].name||String(c);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=c}}}}getVertexPosition(e,n){const r=this.geometry,o=r.attributes.position,c=r.morphAttributes.position,h=r.morphTargetsRelative;n.fromBufferAttribute(o,e);const p=this.morphTargetInfluences;if(c&&p){Gs.set(0,0,0);for(let x=0,S=c.length;x<S;x++){const O=p[x],F=c[x];O!==0&&(is.fromBufferAttribute(F,e),h?Gs.addScaledVector(is,O):Gs.addScaledVector(is.sub(n),O))}n.add(Gs)}return n}raycast(e,n){const r=this.geometry,o=this.material,c=this.matrixWorld;o!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$s.copy(r.boundingSphere),$s.applyMatrix4(c),xi.copy(e.ray).recast(e.near),!($s.containsPoint(xi.origin)===!1&&(xi.intersectSphere($s,Qr)===null||xi.origin.distanceToSquared(Qr)>Ko(e.far-e.near,2)))&&(Ni.copy(c).invert(),xi.copy(e.ray).applyMatrix4(Ni),!(r.boundingBox!==null&&xi.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,xi)))}_computeIntersections(e,n,r){let o;const c=this.geometry,h=this.material,p=c.index,x=c.attributes.position,S=c.attributes.uv,O=c.attributes.uv1,F=c.attributes.normal,$=c.groups,V=c.drawRange;if(p!==null)if(Array.isArray(h))for(let G=0,me=$.length;G<me;G++){const De=$[G],ke=h[De.materialIndex],mt=Math.max(De.start,V.start),gt=Math.min(p.count,Math.min(De.start+De.count,V.start+V.count));for(let Mt=mt,qn=gt;Mt<qn;Mt+=3){const ri=p.getX(Mt),Pi=p.getX(Mt+1),hi=p.getX(Mt+2);o=Ta(this,ke,e,r,S,O,F,ri,Pi,hi),o&&(o.faceIndex=Math.floor(Mt/3),o.face.materialIndex=De.materialIndex,n.push(o))}}else{const G=Math.max(0,V.start),me=Math.min(p.count,V.start+V.count);for(let De=G,ke=me;De<ke;De+=3){const mt=p.getX(De),gt=p.getX(De+1),Mt=p.getX(De+2);o=Ta(this,h,e,r,S,O,F,mt,gt,Mt),o&&(o.faceIndex=Math.floor(De/3),n.push(o))}}else if(x!==void 0)if(Array.isArray(h))for(let G=0,me=$.length;G<me;G++){const De=$[G],ke=h[De.materialIndex],mt=Math.max(De.start,V.start),gt=Math.min(x.count,Math.min(De.start+De.count,V.start+V.count));for(let Mt=mt,qn=gt;Mt<qn;Mt+=3){const ri=Mt,Pi=Mt+1,hi=Mt+2;o=Ta(this,ke,e,r,S,O,F,ri,Pi,hi),o&&(o.faceIndex=Math.floor(Mt/3),o.face.materialIndex=De.materialIndex,n.push(o))}}else{const G=Math.max(0,V.start),me=Math.min(x.count,V.start+V.count);for(let De=G,ke=me;De<ke;De+=3){const mt=De,gt=De+1,Mt=De+2;o=Ta(this,h,e,r,S,O,F,mt,gt,Mt),o&&(o.faceIndex=Math.floor(De/3),n.push(o))}}}}function Wo(w,e,n,r,o,c,h,p){let x;if(e.side===ye?x=r.intersectTriangle(h,c,o,!0,p):x=r.intersectTriangle(o,c,h,e.side===Be,p),x===null)return null;Kr.copy(p),Kr.applyMatrix4(w.matrixWorld);const S=n.ray.origin.distanceTo(Kr);return S<n.near||S>n.far?null:{distance:S,point:Kr.clone(),object:w}}function Ta(w,e,n,r,o,c,h,p,x,S){w.getVertexPosition(p,ms),w.getVertexPosition(x,da),w.getVertexPosition(S,ur);const O=Wo(w,e,n,r,ms,da,ur,_o);if(O){const F=new ct;Ke.getBarycoord(_o,ms,da,ur,F),o&&(O.uv=Ke.getInterpolatedAttribute(o,p,x,S,F,new sn)),c&&(O.uv1=Ke.getInterpolatedAttribute(c,p,x,S,F,new sn)),h&&(O.normal=Ke.getInterpolatedAttribute(h,p,x,S,F,new ct),O.normal.dot(r.direction)>0&&O.normal.multiplyScalar(-1));const $={a:p,b:x,c:S,normal:new ct,materialIndex:0};Ke.getNormal(ms,da,ur,$.normal),O.face=$,O.barycoord=F}return O}class Wt extends In{constructor(e=1,n=1,r=1,o=1,c=1,h=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:o,heightSegments:c,depthSegments:h};const p=this;o=Math.floor(o),c=Math.floor(c),h=Math.floor(h);const x=[],S=[],O=[],F=[];let $=0,V=0;G("z","y","x",-1,-1,r,n,e,h,c,0),G("z","y","x",1,-1,r,n,-e,h,c,1),G("x","z","y",1,1,e,r,n,o,h,2),G("x","z","y",1,-1,e,r,-n,o,h,3),G("x","y","z",1,-1,e,n,r,o,c,4),G("x","y","z",-1,-1,e,n,-r,o,c,5),this.setIndex(x),this.setAttribute("position",new cr(S,3)),this.setAttribute("normal",new cr(O,3)),this.setAttribute("uv",new cr(F,2));function G(me,De,ke,mt,gt,Mt,qn,ri,Pi,hi,Yr){const vs=Mt/Pi,To=qn/hi,Fa=Mt/2,al=qn/2,Ml=ri/2,gl=Pi+1,ql=hi+1;let lc=0,Jc=0;const Fl=new ct;for(let Zl=0;Zl<ql;Zl++){const Bl=Zl*To-al;for(let Qc=0;Qc<gl;Qc++){const Iu=Qc*vs-Fa;Fl[me]=Iu*mt,Fl[De]=Bl*gt,Fl[ke]=Ml,S.push(Fl.x,Fl.y,Fl.z),Fl[me]=0,Fl[De]=0,Fl[ke]=ri>0?1:-1,O.push(Fl.x,Fl.y,Fl.z),F.push(Qc/Pi),F.push(1-Zl/hi),lc+=1}}for(let Zl=0;Zl<hi;Zl++)for(let Bl=0;Bl<Pi;Bl++){const Qc=$+Bl+gl*Zl,Iu=$+Bl+gl*(Zl+1),ld=$+(Bl+1)+gl*(Zl+1),xu=$+(Bl+1)+gl*Zl;x.push(Qc,Iu,xu),x.push(Iu,ld,xu),Jc+=6}p.addGroup(V,Jc,Yr),V+=Jc,$+=lc}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wt(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Vr(w){const e={};for(const n in w){e[n]={};for(const r in w[n]){const o=w[n][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=o.clone():Array.isArray(o)?e[n][r]=o.slice():e[n][r]=o}}return e}function ei(w){const e={};for(let n=0;n<w.length;n++){const r=Vr(w[n]);for(const o in r)e[o]=r[o]}return e}function Fi(w){const e=[];for(let n=0;n<w.length;n++)e.push(w[n].clone());return e}function ls(w){const e=w.getRenderTarget();return e===null?w.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ki.workingColorSpace}const es={clone:Vr,merge:ei};var Go=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fl=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qa extends yr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Go,this.fragmentShader=fl,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vr(e.uniforms),this.uniformsGroups=Fi(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const h=this.uniforms[o].value;h&&h.isTexture?n.uniforms[o]={type:"t",value:h.toJSON(e).uuid}:h&&h.isColor?n.uniforms[o]={type:"c",value:h.getHex()}:h&&h.isVector2?n.uniforms[o]={type:"v2",value:h.toArray()}:h&&h.isVector3?n.uniforms[o]={type:"v3",value:h.toArray()}:h&&h.isVector4?n.uniforms[o]={type:"v4",value:h.toArray()}:h&&h.isMatrix3?n.uniforms[o]={type:"m3",value:h.toArray()}:h&&h.isMatrix4?n.uniforms[o]={type:"m4",value:h.toArray()}:n.uniforms[o]={value:h}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const o in this.extensions)this.extensions[o]===!0&&(r[o]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class ma extends Zt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Io,this.projectionMatrix=new Io,this.projectionMatrixInverse=new Io,this.coordinateSystem=Ft}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const cl=new ct,Wl=new sn,Gc=new sn;class Gl extends ma{constructor(e=50,n=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Yi*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jn*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Yi*2*Math.atan(Math.tan(Jn*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){cl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(cl.x,cl.y).multiplyScalar(-e/cl.z),cl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(cl.x,cl.y).multiplyScalar(-e/cl.z)}getViewSize(e,n){return this.getViewBounds(e,Wl,Gc),n.subVectors(Gc,Wl)}setViewOffset(e,n,r,o,c,h){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=c,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Jn*.5*this.fov)/this.zoom,r=2*n,o=this.aspect*r,c=-.5*o;const h=this.view;if(this.view!==null&&this.view.enabled){const x=h.fullWidth,S=h.fullHeight;c+=h.offsetX*o/x,n-=h.offsetY*r/S,o*=h.width/x,r*=h.height/S}const p=this.filmOffset;p!==0&&(c+=e*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(c,c+o,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const nc=-90,pc=1;class pu extends Zt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new Gl(nc,pc,e,n);o.layers=this.layers,this.add(o);const c=new Gl(nc,pc,e,n);c.layers=this.layers,this.add(c);const h=new Gl(nc,pc,e,n);h.layers=this.layers,this.add(h);const p=new Gl(nc,pc,e,n);p.layers=this.layers,this.add(p);const x=new Gl(nc,pc,e,n);x.layers=this.layers,this.add(x);const S=new Gl(nc,pc,e,n);S.layers=this.layers,this.add(S)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,o,c,h,p,x]=n;for(const S of n)this.remove(S);if(e===Ft)r.up.set(0,1,0),r.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),c.up.set(0,0,-1),c.lookAt(0,1,0),h.up.set(0,0,1),h.lookAt(0,-1,0),p.up.set(0,1,0),p.lookAt(0,0,1),x.up.set(0,1,0),x.lookAt(0,0,-1);else if(e===Ti)r.up.set(0,-1,0),r.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),c.up.set(0,0,1),c.lookAt(0,1,0),h.up.set(0,0,-1),h.lookAt(0,-1,0),p.up.set(0,-1,0),p.lookAt(0,0,1),x.up.set(0,-1,0),x.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const S of n)this.add(S),S.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[c,h,p,x,S,O]=this.children,F=e.getRenderTarget(),$=e.getActiveCubeFace(),V=e.getActiveMipmapLevel(),G=e.xr.enabled;e.xr.enabled=!1;const me=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,o),e.render(n,c),e.setRenderTarget(r,1,o),e.render(n,h),e.setRenderTarget(r,2,o),e.render(n,p),e.setRenderTarget(r,3,o),e.render(n,x),e.setRenderTarget(r,4,o),e.render(n,S),r.texture.generateMipmaps=me,e.setRenderTarget(r,5,o),e.render(n,O),e.setRenderTarget(F,$,V),e.xr.enabled=G,r.texture.needsPMREMUpdate=!0}}class Lc extends jo{constructor(e=[],n=Mn,r,o,c,h,p,x,S,O){super(e,n,r,o,c,h,p,x,S,O),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class xl extends cc{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},o=[r,r,r,r,r,r];this.texture=new Lc(o,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:$n}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new Wt(5,5,5),c=new qa({name:"CubemapFromEquirect",uniforms:Vr(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ye,blending:qe});c.uniforms.tEquirect.value=n;const h=new ko(o,c),p=n.minFilter;return n.minFilter===Ir&&(n.minFilter=$n),new pu(1,10,this).update(e,h),n.minFilter=p,h.geometry.dispose(),h.material.dispose(),this}clear(e,n=!0,r=!0,o=!0){const c=e.getRenderTarget();for(let h=0;h<6;h++)e.setRenderTarget(this,h),e.clear(n,r,o);e.setRenderTarget(c)}}class $c extends Zt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Zc={type:"move"};class mu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new $c,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new $c,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ct,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ct),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new $c,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ct,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ct),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let o=null,c=null,h=null;const p=this._targetRay,x=this._grip,S=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(S&&e.hand){h=!0;for(const me of e.hand.values()){const De=n.getJointPose(me,r),ke=this._getHandJoint(S,me);De!==null&&(ke.matrix.fromArray(De.transform.matrix),ke.matrix.decompose(ke.position,ke.rotation,ke.scale),ke.matrixWorldNeedsUpdate=!0,ke.jointRadius=De.radius),ke.visible=De!==null}const O=S.joints["index-finger-tip"],F=S.joints["thumb-tip"],$=O.position.distanceTo(F.position),V=.02,G=.005;S.inputState.pinching&&$>V+G?(S.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!S.inputState.pinching&&$<=V-G&&(S.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else x!==null&&e.gripSpace&&(c=n.getPose(e.gripSpace,r),c!==null&&(x.matrix.fromArray(c.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,c.linearVelocity?(x.hasLinearVelocity=!0,x.linearVelocity.copy(c.linearVelocity)):x.hasLinearVelocity=!1,c.angularVelocity?(x.hasAngularVelocity=!0,x.angularVelocity.copy(c.angularVelocity)):x.hasAngularVelocity=!1));p!==null&&(o=n.getPose(e.targetRaySpace,r),o===null&&c!==null&&(o=c),o!==null&&(p.matrix.fromArray(o.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,o.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(o.linearVelocity)):p.hasLinearVelocity=!1,o.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(o.angularVelocity)):p.hasAngularVelocity=!1,this.dispatchEvent(Zc)))}return p!==null&&(p.visible=o!==null),x!==null&&(x.visible=c!==null),S!==null&&(S.visible=h!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new $c;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class f{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Rn(e),this.density=n}clone(){return new f(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class _{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Rn(e),this.near=n,this.far=r}clone(){return new _(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class U extends Zt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Xl,this.environmentIntensity=1,this.environmentRotation=new Xl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class I{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Si,this.updateRanges=[],this.version=0,this.uuid=Ar()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let o=0,c=this.stride;o<c;o++)this.array[e+o]=n.array[r+o];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ar()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ar()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const q=new ct;class Se{constructor(e,n,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)q.fromBufferAttribute(this,n),q.applyMatrix4(e),this.setXYZ(n,q.x,q.y,q.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)q.fromBufferAttribute(this,n),q.applyNormalMatrix(e),this.setXYZ(n,q.x,q.y,q.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)q.fromBufferAttribute(this,n),q.transformDirection(e),this.setXYZ(n,q.x,q.y,q.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ni(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ln(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Ln(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ni(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ni(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ni(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ni(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),o=Ln(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,n,r,o,c){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ln(n,this.array),r=Ln(r,this.array),o=Ln(o,this.array),c=Ln(c,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=c,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let c=0;c<this.itemSize;c++)n.push(this.data.array[o+c])}return new xr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Se(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let c=0;c<this.itemSize;c++)n.push(this.data.array[o+c])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Ie extends null{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let D;const ne=new ct,ue=new ct,le=new ct,ce=new sn,ut=new sn,Ge=new Io,yt=new ct,Xe=new ct,dt=new ct,Nt=new sn,ft=new sn,an=new sn;class Dn extends null{constructor(e=new Ie){if(super(),this.isSprite=!0,this.type="Sprite",D===void 0){D=new In;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new I(n,5);D.setIndex([0,1,2,0,2,3]),D.setAttribute("position",new Se(r,3,0,!1)),D.setAttribute("uv",new Se(r,2,3,!1))}this.geometry=D,this.material=e,this.center=new sn(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ue.setFromMatrixScale(this.matrixWorld),Ge.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),le.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ue.multiplyScalar(-le.z);const r=this.material.rotation;let o,c;r!==0&&(c=Math.cos(r),o=Math.sin(r));const h=this.center;ii(yt.set(-.5,-.5,0),le,h,ue,o,c),ii(Xe.set(.5,-.5,0),le,h,ue,o,c),ii(dt.set(.5,.5,0),le,h,ue,o,c),Nt.set(0,0),ft.set(1,0),an.set(1,1);let p=e.ray.intersectTriangle(yt,Xe,dt,!1,ne);if(p===null&&(ii(Xe.set(-.5,.5,0),le,h,ue,o,c),ft.set(0,1),p=e.ray.intersectTriangle(yt,dt,Xe,!1,ne),p===null))return;const x=e.ray.origin.distanceTo(ne);x<e.near||x>e.far||n.push({distance:x,point:ne.clone(),uv:Ke.getInterpolation(ne,yt,Xe,dt,Nt,ft,an,new sn),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ii(w,e,n,r,o,c){ce.subVectors(w,n).addScalar(.5).multiply(r),o!==void 0?(ut.x=c*ce.x-o*ce.y,ut.y=o*ce.x+c*ce.y):ut.copy(ce),w.copy(e),w.x+=ut.x,w.y+=ut.y,w.applyMatrix4(Ge)}const Un=new ct,Gn=new ct;class zn extends null{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,o=n.length;r<o;r++){const c=n[r];this.addLevel(c.object.clone(),c.distance,c.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const o=this.levels;let c;for(c=0;c<o.length&&!(n<o[c].distance);c++);return o.splice(c,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const o=n.splice(r,1);return this.remove(o[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,o;for(r=1,o=n.length;r<o;r++){let c=n[r].distance;if(n[r].object.visible&&(c-=c*n[r].hysteresis),e<c)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Un.setFromMatrixPosition(this.matrixWorld);const o=e.ray.origin.distanceTo(Un);this.getObjectForDistance(o).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Un.setFromMatrixPosition(e.matrixWorld),Gn.setFromMatrixPosition(this.matrixWorld);const r=Un.distanceTo(Gn)/e.zoom;n[0].object.visible=!0;let o,c;for(o=1,c=n.length;o<c;o++){let h=n[o].distance;if(n[o].object.visible&&(h-=h*n[o].hysteresis),r>=h)n[o-1].object.visible=!1,n[o].object.visible=!0;else break}for(this._currentLevel=o-1;o<c;o++)n[o].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let o=0,c=r.length;o<c;o++){const h=r[o];n.object.levels.push({object:h.object.uuid,distance:h.distance,hysteresis:h.hysteresis})}return n}}const zi=new ct,Ci=new la,Hi=new la,Qi=new ct,Wr=new Io,Gi=new ct,Bi=new Al,Or=new Io,Rr=new xc;class ts extends null{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Ui,this.bindMatrix=new Io,this.bindMatrixInverse=new Io,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new zl),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Gi),this.boundingBox.expandByPoint(Gi)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Al),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Gi),this.boundingSphere.expandByPoint(Gi)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,o=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Bi.copy(this.boundingSphere),Bi.applyMatrix4(o),e.ray.intersectsSphere(Bi)!==!1&&(Or.copy(o).invert(),Rr.copy(e.ray).applyMatrix4(Or),!(this.boundingBox!==null&&Rr.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Rr)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new la,n=this.geometry.attributes.skinWeight;for(let r=0,o=n.count;r<o;r++){e.fromBufferAttribute(n,r);const c=1/e.manhattanLength();c!==1/0?e.multiplyScalar(c):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Ui?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Et?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,o=this.geometry;Ci.fromBufferAttribute(o.attributes.skinIndex,e),Hi.fromBufferAttribute(o.attributes.skinWeight,e),zi.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let c=0;c<4;c++){const h=Hi.getComponent(c);if(h!==0){const p=Ci.getComponent(c);Wr.multiplyMatrices(r.bones[p].matrixWorld,r.boneInverses[p]),n.addScaledVector(Qi.copy(zi).applyMatrix4(Wr),h)}}return n.applyMatrix4(this.bindMatrixInverse)}}class jr extends null{constructor(){super(),this.isBone=!0,this.type="Bone"}}class br extends null{constructor(e=null,n=1,r=1,o,c,h,p,x,S=cn,O=cn,F,$){super(null,h,p,x,S,O,o,c,F,$),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Dr=new Io,ao=new Io;class ha{constructor(e=[],n=[]){this.uuid=Ar(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new Io)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Io;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,o=this.boneTexture;for(let c=0,h=e.length;c<h;c++){const p=e[c]?e[c].matrixWorld:ao;Dr.multiplyMatrices(p,n[c]),Dr.toArray(r,c*16)}o!==null&&(o.needsUpdate=!0)}clone(){return new ha(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new br(n,e,e,kn,An);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const o=this.bones[n];if(o.name===e)return o}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,o=e.bones.length;r<o;r++){const c=e.bones[r];let h=n[c];h===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",c),h=new jr),this.bones.push(h),this.boneInverses.push(new Io().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let o=0,c=n.length;o<c;o++){const h=n[o];e.bones.push(h.uuid);const p=r[o];e.boneInverses.push(p.toArray())}return e}}class Ks extends null{constructor(e,n,r,o=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Is=new Io,gs=new Io,Ds=null,Ho=new zl,fa=new Io,lo=new ko,mr=new Al;class gr extends null{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Ks(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let o=0;o<r;o++)this.setMatrixAt(o,fa)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new zl),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Is),Ho.copy(e.boundingBox).applyMatrix4(Is),this.boundingBox.union(Ho)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Al),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Is),mr.copy(e.boundingSphere).applyMatrix4(Is),this.boundingSphere.union(mr)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,o=this.morphTexture.source.data.data,c=r.length+1,h=e*c+1;for(let p=0;p<r.length;p++)r[p]=o[h+p]}raycast(e,n){const r=this.matrixWorld,o=this.count;if(lo.geometry=this.geometry,lo.material=this.material,lo.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),mr.copy(this.boundingSphere),mr.applyMatrix4(r),e.ray.intersectsSphere(mr)!==!1))for(let c=0;c<o;c++){this.getMatrixAt(c,Is),gs.multiplyMatrices(r,Is),lo.matrixWorld=gs,lo.raycast(e,Ds);for(let h=0,p=Ds.length;h<p;h++){const x=Ds[h];x.instanceId=c,x.object=this,n.push(x)}Ds.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Ks(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,o=r.length+1;this.morphTexture===null&&(this.morphTexture=new br(new Float32Array(o*this.count),o,this.count,or,An));const c=this.morphTexture.source.data.data;let h=0;for(let S=0;S<r.length;S++)h+=r[S];const p=this.geometry.morphTargetsRelative?1:1-h,x=o*e;c[x]=p,c.set(r,x+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const rs=new ct,co=new ct,Xr=new ar;class ys{constructor(e=new ct(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,o){return this.normal.set(e,n,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const o=rs.subVectors(r,n).cross(co.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(rs),o=this.normal.dot(r);if(o===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const c=-(e.start.dot(this.normal)+this.constant)/o;return c<0||c>1?null:n.copy(e.start).addScaledVector(r,c)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Xr.getNormalMatrix(e),o=this.coplanarPoint(rs).applyMatrix4(e),c=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(c),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ks=new Al,Eo=new ct;class uo{constructor(e=new ys,n=new ys,r=new ys,o=new ys,c=new ys,h=new ys){this.planes=[e,n,r,o,c,h]}set(e,n,r,o,c,h){const p=this.planes;return p[0].copy(e),p[1].copy(n),p[2].copy(r),p[3].copy(o),p[4].copy(c),p[5].copy(h),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ft){const r=this.planes,o=e.elements,c=o[0],h=o[1],p=o[2],x=o[3],S=o[4],O=o[5],F=o[6],$=o[7],V=o[8],G=o[9],me=o[10],De=o[11],ke=o[12],mt=o[13],gt=o[14],Mt=o[15];if(r[0].setComponents(x-c,$-S,De-V,Mt-ke).normalize(),r[1].setComponents(x+c,$+S,De+V,Mt+ke).normalize(),r[2].setComponents(x+h,$+O,De+G,Mt+mt).normalize(),r[3].setComponents(x-h,$-O,De-G,Mt-mt).normalize(),r[4].setComponents(x-p,$-F,De-me,Mt-gt).normalize(),n===Ft)r[5].setComponents(x+p,$+F,De+me,Mt+gt).normalize();else if(n===Ti)r[5].setComponents(p,F,me,gt).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ks.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ks.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ks)}intersectsSprite(e){return ks.center.set(0,0,0),ks.radius=.7071067811865476,ks.applyMatrix4(e.matrixWorld),this.intersectsSphere(ks)}intersectsSphere(e){const n=this.planes,r=e.center,o=-e.radius;for(let c=0;c<6;c++)if(n[c].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const o=n[r];if(Eo.x=o.normal.x>0?e.max.x:e.min.x,Eo.y=o.normal.y>0?e.max.y:e.min.y,Eo.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(Eo)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Sa(w,e){return w-e}function rl(w,e){return w.z-e.z}function ul(w,e){return e.z-w.z}class ka{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,o){const c=this.pool,h=this.list;this.index>=c.length&&c.push({start:-1,count:-1,z:-1,index:-1});const p=c[this.index];h.push(p),this.index++,p.start=e,p.count=n,p.z=r,p.index=o}reset(){this.list.length=0,this.index=0}}const wr=new Io,Za=new Rn(1,1,1),Ha=new uo,Ia=new zl,Zo=new Al,Xo=new ct,ho=new ct,na=new ct,oa=new ka,wo=new ko,Ja=null;function bl(w,e,n=0){const r=e.itemSize;if(w.isInterleavedBufferAttribute||w.array.constructor!==e.array.constructor){const o=w.count;for(let c=0;c<o;c++)for(let h=0;h<r;h++)e.setComponent(c+n,h,w.getComponent(c,h))}else e.array.set(w.array,n*r);e.needsUpdate=!0}function ca(w,e){if(w.constructor!==e.constructor){const n=Math.min(w.length,e.length);for(let r=0;r<n;r++)e[r]=w[r]}else{const n=Math.min(w.length,e.length);e.set(new w.constructor(w.buffer,0,n))}}class Va extends null{constructor(e,n,r=n*2,o){super(new In,o),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new br(n,e,e,kn,An);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new br(n,e,e,Gr,fn);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new br(n,e,e,kn,An);r.colorSpace=Ki.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const c in e.attributes){const h=e.getAttribute(c),{array:p,itemSize:x,normalized:S}=h,O=new p.constructor(r*x),F=new xr(O,x,S);n.setAttribute(c,F)}if(e.getIndex()!==null){const c=r>65535?new Uint32Array(o):new Uint16Array(o);n.setIndex(new xr(c,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const o=e.getAttribute(r),c=n.getAttribute(r);if(o.itemSize!==c.itemSize||o.normalized!==c.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zl);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,o=n.length;r<o;r++){if(n[r].active===!1)continue;const c=n[r].geometryIndex;this.getMatrixAt(r,wr),this.getBoundingBoxAt(c,Ia).applyMatrix4(wr),e.union(Ia)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Al);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,o=n.length;r<o;r++){if(n[r].active===!1)continue;const c=n[r].geometryIndex;this.getMatrixAt(r,wr),this.getBoundingSphereAt(c,Zo).applyMatrix4(wr),e.union(Zo)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let o=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(Sa),o=this._availableInstanceIds.shift(),this._instanceInfo[o]=r):(o=this._instanceInfo.length,this._instanceInfo.push(r));const c=this._matricesTexture;wr.identity().toArray(c.image.data,o*16),c.needsUpdate=!0;const h=this._colorsTexture;return h&&(Za.toArray(h.image.data,o*4),h.needsUpdate=!0),this._visibilityChanged=!0,o}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const o={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},c=this._geometryInfo;o.vertexStart=this._nextVertexStart,o.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const h=e.getIndex();if(h!==null&&(o.indexStart=this._nextIndexStart,o.reservedIndexCount=r===-1?h.count:r),o.indexStart!==-1&&o.indexStart+o.reservedIndexCount>this._maxIndexCount||o.vertexStart+o.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let x;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(Sa),x=this._availableGeometryIds.shift(),c[x]=o):(x=this._geometryCount,this._geometryCount++,c.push(o)),this.setGeometryAt(x,e),this._nextIndexStart=o.indexStart+o.reservedIndexCount,this._nextVertexStart=o.vertexStart+o.reservedVertexCount,x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,o=r.getIndex()!==null,c=r.getIndex(),h=n.getIndex(),p=this._geometryInfo[e];if(o&&h.count>p.reservedIndexCount||n.attributes.position.count>p.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const x=p.vertexStart,S=p.reservedVertexCount;p.vertexCount=n.getAttribute("position").count;for(const O in r.attributes){const F=n.getAttribute(O),$=r.getAttribute(O);bl(F,$,x);const V=F.itemSize;for(let G=F.count,me=S;G<me;G++){const De=x+G;for(let ke=0;ke<V;ke++)$.setComponent(De,ke,0)}$.needsUpdate=!0,$.addUpdateRange(x*V,S*V)}if(o){const O=p.indexStart,F=p.reservedIndexCount;p.indexCount=n.getIndex().count;for(let $=0;$<h.count;$++)c.setX(O+$,x+h.getX($));for(let $=h.count,V=F;$<V;$++)c.setX(O+$,x);c.needsUpdate=!0,c.addUpdateRange(O,p.reservedIndexCount)}return p.start=o?p.indexStart:p.vertexStart,p.count=o?p.indexCount:p.vertexCount,p.boundingBox=null,n.boundingBox!==null&&(p.boundingBox=n.boundingBox.clone()),p.boundingSphere=null,n.boundingSphere!==null&&(p.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let o=0,c=r.length;o<c;o++)r[o].active&&r[o].geometryIndex===e&&this.deleteInstance(o);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,o=r.map((h,p)=>p).sort((h,p)=>r[h].vertexStart-r[p].vertexStart),c=this.geometry;for(let h=0,p=r.length;h<p;h++){const x=o[h],S=r[x];if(S.active!==!1){if(c.index!==null){if(S.indexStart!==n){const{indexStart:O,vertexStart:F,reservedIndexCount:$}=S,V=c.index,G=V.array,me=e-F;for(let De=O;De<O+$;De++)G[De]=G[De]+me;V.array.copyWithin(n,O,O+$),V.addUpdateRange(n,$),S.indexStart=n}n+=S.reservedIndexCount}if(S.vertexStart!==e){const{vertexStart:O,reservedVertexCount:F}=S,$=c.attributes;for(const V in $){const G=$[V],{array:me,itemSize:De}=G;me.copyWithin(e*De,O*De,(O+F)*De),G.addUpdateRange(e*De,F*De)}S.vertexStart=e}e+=S.reservedVertexCount,S.start=c.index?S.indexStart:S.vertexStart,this._nextIndexStart=c.index?S.indexStart+S.reservedIndexCount:0,this._nextVertexStart=S.vertexStart+S.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,o=this._geometryInfo[e];if(o.boundingBox===null){const c=new zl,h=r.index,p=r.attributes.position;for(let x=o.start,S=o.start+o.count;x<S;x++){let O=x;h&&(O=h.getX(O)),c.expandByPoint(Xo.fromBufferAttribute(p,O))}o.boundingBox=c}return n.copy(o.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,o=this._geometryInfo[e];if(o.boundingSphere===null){const c=new Al;this.getBoundingBoxAt(e,Ia),Ia.getCenter(c.center);const h=r.index,p=r.attributes.position;let x=0;for(let S=o.start,O=o.start+o.count;S<O;S++){let F=S;h&&(F=h.getX(F)),Xo.fromBufferAttribute(p,F),x=Math.max(x,c.center.distanceToSquared(Xo))}c.radius=Math.sqrt(x),o.boundingSphere=c}return n.copy(o.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,o=this._matricesTexture.image.data;return n.toArray(o,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(Sa);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const o=new Int32Array(e),c=new Int32Array(e);ca(this._multiDrawCounts,o),ca(this._multiDrawStarts,c),this._multiDrawCounts=o,this._multiDrawStarts=c,this._maxInstanceCount=e;const h=this._indirectTexture,p=this._matricesTexture,x=this._colorsTexture;h.dispose(),this._initIndirectTexture(),ca(h.image.data,this._indirectTexture.image.data),p.dispose(),this._initMatricesTexture(),ca(p.image.data,this._matricesTexture.image.data),x&&(x.dispose(),this._initColorsTexture(),ca(x.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(p=>p.active);if(Math.max(...r.map(p=>p.vertexStart+p.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(x=>x.indexStart+x.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const c=this.geometry;c.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new In,this._initializeGeometry(c));const h=this.geometry;c.index&&ca(c.index.array,h.index.array);for(const p in c.attributes)ca(c.attributes[p].array,h.attributes[p].array)}raycast(e,n){const r=this._instanceInfo,o=this._geometryInfo,c=this.matrixWorld,h=this.geometry;wo.material=this.material,wo.geometry.index=h.index,wo.geometry.attributes=h.attributes,wo.geometry.boundingBox===null&&(wo.geometry.boundingBox=new zl),wo.geometry.boundingSphere===null&&(wo.geometry.boundingSphere=new Al);for(let p=0,x=r.length;p<x;p++){if(!r[p].visible||!r[p].active)continue;const S=r[p].geometryIndex,O=o[S];wo.geometry.setDrawRange(O.start,O.count),this.getMatrixAt(p,wo.matrixWorld).premultiply(c),this.getBoundingBoxAt(S,wo.geometry.boundingBox),this.getBoundingSphereAt(S,wo.geometry.boundingSphere),wo.raycast(e,Ja);for(let F=0,$=Ja.length;F<$;F++){const V=Ja[F];V.object=this,V.batchId=p,n.push(V)}Ja.length=0}wo.material=null,wo.geometry.index=null,wo.geometry.attributes={},wo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>Dh(Dd({},n),{boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>Dd({},n)),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,o,c){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const h=o.getIndex(),p=h===null?1:h.array.BYTES_PER_ELEMENT,x=this._instanceInfo,S=this._multiDrawStarts,O=this._multiDrawCounts,F=this._geometryInfo,$=this.perObjectFrustumCulled,V=this._indirectTexture,G=V.image.data;$&&(wr.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),Ha.setFromProjectionMatrix(wr,e.coordinateSystem));let me=0;if(this.sortObjects){wr.copy(this.matrixWorld).invert(),Xo.setFromMatrixPosition(r.matrixWorld).applyMatrix4(wr),ho.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(wr);for(let mt=0,gt=x.length;mt<gt;mt++)if(x[mt].visible&&x[mt].active){const Mt=x[mt].geometryIndex;this.getMatrixAt(mt,wr),this.getBoundingSphereAt(Mt,Zo).applyMatrix4(wr);let qn=!1;if($&&(qn=!Ha.intersectsSphere(Zo)),!qn){const ri=F[Mt],Pi=na.subVectors(Zo.center,Xo).dot(ho);oa.push(ri.start,ri.count,Pi,mt)}}const De=oa.list,ke=this.customSort;ke===null?De.sort(c.transparent?ul:rl):ke.call(this,De,r);for(let mt=0,gt=De.length;mt<gt;mt++){const Mt=De[mt];S[me]=Mt.start*p,O[me]=Mt.count,G[me]=Mt.index,me++}oa.reset()}else for(let De=0,ke=x.length;De<ke;De++)if(x[De].visible&&x[De].active){const mt=x[De].geometryIndex;let gt=!1;if($&&(this.getMatrixAt(De,wr),this.getBoundingSphereAt(mt,Zo).applyMatrix4(wr),gt=!Ha.intersectsSphere(Zo)),!gt){const Mt=F[mt];S[me]=Mt.start*p,O[me]=Mt.count,G[me]=De,me++}}V.needsUpdate=!0,this._multiDrawCount=me,this._visibilityChanged=!1}onBeforeShadow(e,n,r,o,c,h){this.onBeforeRender(e,null,o,c,h)}}class xa extends yr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ml=new ct,Yl=new ct,Xc=new Io,dl=new xc,kl=new Al,bc=new ct,mc=new ct;class sc extends Zt{constructor(e=new In,n=new xa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let o=1,c=n.count;o<c;o++)ml.fromBufferAttribute(n,o-1),Yl.fromBufferAttribute(n,o),r[o]=r[o-1],r[o]+=ml.distanceTo(Yl);e.setAttribute("lineDistance",new cr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,c=e.params.Line.threshold,h=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),kl.copy(r.boundingSphere),kl.applyMatrix4(o),kl.radius+=c,e.ray.intersectsSphere(kl)===!1)return;Xc.copy(o).invert(),dl.copy(e.ray).applyMatrix4(Xc);const p=c/((this.scale.x+this.scale.y+this.scale.z)/3),x=p*p,S=this.isLineSegments?2:1,O=r.index,$=r.attributes.position;if(O!==null){const V=Math.max(0,h.start),G=Math.min(O.count,h.start+h.count);for(let me=V,De=G-1;me<De;me+=S){const ke=O.getX(me),mt=O.getX(me+1),gt=ic(this,e,dl,x,ke,mt,me);gt&&n.push(gt)}if(this.isLineLoop){const me=O.getX(G-1),De=O.getX(V),ke=ic(this,e,dl,x,me,De,G-1);ke&&n.push(ke)}}else{const V=Math.max(0,h.start),G=Math.min($.count,h.start+h.count);for(let me=V,De=G-1;me<De;me+=S){const ke=ic(this,e,dl,x,me,me+1,me);ke&&n.push(ke)}if(this.isLineLoop){const me=ic(this,e,dl,x,G-1,V,G-1);me&&n.push(me)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let c=0,h=o.length;c<h;c++){const p=o[c].name||String(c);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=c}}}}}function ic(w,e,n,r,o,c,h){const p=w.geometry.attributes.position;if(ml.fromBufferAttribute(p,o),Yl.fromBufferAttribute(p,c),n.distanceSqToSegment(ml,Yl,bc,mc)>r)return;bc.applyMatrix4(w.matrixWorld);const S=e.ray.origin.distanceTo(bc);if(!(S<e.near||S>e.far))return{distance:S,point:mc.clone().applyMatrix4(w.matrixWorld),index:h,face:null,faceIndex:null,barycoord:null,object:w}}const gc=new ct,sl=new ct;class Yc extends null{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let o=0,c=n.count;o<c;o+=2)gc.fromBufferAttribute(n,o),sl.fromBufferAttribute(n,o+1),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+gc.distanceTo(sl);e.setAttribute("lineDistance",new cr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Sc extends null{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Ls extends null{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Rn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const po=new Io,Hs=new xc,qs=new Al,ia=new ct;class Da extends null{constructor(e=new In,n=new Ls){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,c=e.params.Points.threshold,h=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),qs.copy(r.boundingSphere),qs.applyMatrix4(o),qs.radius+=c,e.ray.intersectsSphere(qs)===!1)return;po.copy(o).invert(),Hs.copy(e.ray).applyMatrix4(po);const p=c/((this.scale.x+this.scale.y+this.scale.z)/3),x=p*p,S=r.index,F=r.attributes.position;if(S!==null){const $=Math.max(0,h.start),V=Math.min(S.count,h.start+h.count);for(let G=$,me=V;G<me;G++){const De=S.getX(G);ia.fromBufferAttribute(F,De),Ll(ia,De,x,o,e,n,this)}}else{const $=Math.max(0,h.start),V=Math.min(F.count,h.start+h.count);for(let G=$,me=V;G<me;G++)ia.fromBufferAttribute(F,G),Ll(ia,G,x,o,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let c=0,h=o.length;c<h;c++){const p=o[c].name||String(c);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=c}}}}}function Ll(w,e,n,r,o,c,h){const p=Hs.distanceSqToPoint(w);if(p<n){const x=new ct;Hs.closestPointToPoint(w,x),x.applyMatrix4(r);const S=o.ray.origin.distanceTo(x);if(S<o.near||S>o.far)return;c.push({distance:S,distanceToRay:Math.sqrt(p),point:x,index:e,face:null,faceIndex:null,barycoord:null,object:h})}}class Cc extends null{constructor(e,n,r,o,c=$n,h=$n,p,x,S){super(e,n,r,o,c,h,p,x,S),this.isVideoTexture=!0,this.generateMipmaps=!1;const O=this;function F(){O.needsUpdate=!0,e.requestVideoFrameCallback(F)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(F)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class v extends null{constructor(e,n,r,o,c,h,p,x){super({},e,n,r,o,c,h,p,x),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class t extends null{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=cn,this.minFilter=cn,this.generateMipmaps=!1,this.needsUpdate=!0}}class i extends null{constructor(e,n,r,o,c,h,p,x,S,O,F,$){super(null,h,p,x,S,O,o,c,F,$),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class s extends null{constructor(e,n,r,o,c,h){super(e,n,r,c,h),this.isCompressedArrayTexture=!0,this.image.depth=o,this.wrapR=Ot,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class l extends null{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Mn),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class u extends null{constructor(e,n,r,o,c,h,p,x,S){super(e,n,r,o,c,h,p,x,S),this.isCanvasTexture=!0,this.needsUpdate=!0}}class g extends jo{constructor(e,n,r=fn,o,c,h,p=cn,x=cn,S,O=ci){if(O!==ci&&O!==ir)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,o,c,h,p,x,O,r,S),this.isDepthTexture=!0,this.image={width:e,height:n},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new $o(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class b{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,o=this.getPoint(0),c=0;n.push(0);for(let h=1;h<=e;h++)r=this.getPoint(h/e),c+=r.distanceTo(o),n.push(c),o=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let o=0;const c=r.length;let h;n?h=n:h=e*r[c-1];let p=0,x=c-1,S;for(;p<=x;)if(o=Math.floor(p+(x-p)/2),S=r[o]-h,S<0)p=o+1;else if(S>0)x=o-1;else{x=o;break}if(o=x,r[o]===h)return o/(c-1);const O=r[o],$=r[o+1]-O,V=(h-O)/$;return(o+V)/(c-1)}getTangent(e,n){let o=e-1e-4,c=e+1e-4;o<0&&(o=0),c>1&&(c=1);const h=this.getPoint(o),p=this.getPoint(c),x=n||(h.isVector2?new sn:new ct);return x.copy(p).sub(h).normalize(),x}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new ct,o=[],c=[],h=[],p=new ct,x=new Io;for(let V=0;V<=e;V++){const G=V/e;o[V]=this.getTangentAt(G,new ct)}c[0]=new ct,h[0]=new ct;let S=Number.MAX_VALUE;const O=Math.abs(o[0].x),F=Math.abs(o[0].y),$=Math.abs(o[0].z);O<=S&&(S=O,r.set(1,0,0)),F<=S&&(S=F,r.set(0,1,0)),$<=S&&r.set(0,0,1),p.crossVectors(o[0],r).normalize(),c[0].crossVectors(o[0],p),h[0].crossVectors(o[0],c[0]);for(let V=1;V<=e;V++){if(c[V]=c[V-1].clone(),h[V]=h[V-1].clone(),p.crossVectors(o[V-1],o[V]),p.length()>Number.EPSILON){p.normalize();const G=Math.acos(Di(o[V-1].dot(o[V]),-1,1));c[V].applyMatrix4(x.makeRotationAxis(p,G))}h[V].crossVectors(o[V],c[V])}if(n===!0){let V=Math.acos(Di(c[0].dot(c[e]),-1,1));V/=e,o[0].dot(p.crossVectors(c[0],c[e]))>0&&(V=-V);for(let G=1;G<=e;G++)c[G].applyMatrix4(x.makeRotationAxis(o[G],V*G)),h[G].crossVectors(o[G],c[G])}return{tangents:o,normals:c,binormals:h}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class A extends b{constructor(e=0,n=0,r=1,o=1,c=0,h=Math.PI*2,p=!1,x=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=o,this.aStartAngle=c,this.aEndAngle=h,this.aClockwise=p,this.aRotation=x}getPoint(e,n=new sn){const r=n,o=Math.PI*2;let c=this.aEndAngle-this.aStartAngle;const h=Math.abs(c)<Number.EPSILON;for(;c<0;)c+=o;for(;c>o;)c-=o;c<Number.EPSILON&&(h?c=0:c=o),this.aClockwise===!0&&!h&&(c===o?c=-o:c=c-o);const p=this.aStartAngle+e*c;let x=this.aX+this.xRadius*Math.cos(p),S=this.aY+this.yRadius*Math.sin(p);if(this.aRotation!==0){const O=Math.cos(this.aRotation),F=Math.sin(this.aRotation),$=x-this.aX,V=S-this.aY;x=$*O-V*F+this.aX,S=$*F+V*O+this.aY}return r.set(x,S)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class L extends A{constructor(e,n,r,o,c,h){super(e,n,r,r,o,c,h),this.isArcCurve=!0,this.type="ArcCurve"}}function B(){let w=0,e=0,n=0,r=0;function o(c,h,p,x){w=c,e=p,n=-3*c+3*h-2*p-x,r=2*c-2*h+p+x}return{initCatmullRom:function(c,h,p,x,S){o(h,p,S*(p-c),S*(x-h))},initNonuniformCatmullRom:function(c,h,p,x,S,O,F){let $=(h-c)/S-(p-c)/(S+O)+(p-h)/O,V=(p-h)/O-(x-h)/(O+F)+(x-p)/F;$*=O,V*=O,o(h,p,$,V)},calc:function(c){const h=c*c,p=h*c;return w+e*c+n*h+r*p}}}const te=new ct,ge=new B,Ne=new B,at=new B;class Jt extends b{constructor(e=[],n=!1,r="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=o}getPoint(e,n=new ct){const r=n,o=this.points,c=o.length,h=(c-(this.closed?0:1))*e;let p=Math.floor(h),x=h-p;this.closed?p+=p>0?0:(Math.floor(Math.abs(p)/c)+1)*c:x===0&&p===c-1&&(p=c-2,x=1);let S,O;this.closed||p>0?S=o[(p-1)%c]:(te.subVectors(o[0],o[1]).add(o[0]),S=te);const F=o[p%c],$=o[(p+1)%c];if(this.closed||p+2<c?O=o[(p+2)%c]:(te.subVectors(o[c-1],o[c-2]).add(o[c-1]),O=te),this.curveType==="centripetal"||this.curveType==="chordal"){const V=this.curveType==="chordal"?.5:.25;let G=Math.pow(S.distanceToSquared(F),V),me=Math.pow(F.distanceToSquared($),V),De=Math.pow($.distanceToSquared(O),V);me<1e-4&&(me=1),G<1e-4&&(G=me),De<1e-4&&(De=me),ge.initNonuniformCatmullRom(S.x,F.x,$.x,O.x,G,me,De),Ne.initNonuniformCatmullRom(S.y,F.y,$.y,O.y,G,me,De),at.initNonuniformCatmullRom(S.z,F.z,$.z,O.z,G,me,De)}else this.curveType==="catmullrom"&&(ge.initCatmullRom(S.x,F.x,$.x,O.x,this.tension),Ne.initCatmullRom(S.y,F.y,$.y,O.y,this.tension),at.initCatmullRom(S.z,F.z,$.z,O.z,this.tension));return r.set(ge.calc(x),Ne.calc(x),at.calc(x)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const o=e.points[n];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const o=this.points[n];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const o=e.points[n];this.points.push(new ct().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function mn(w,e,n,r,o){const c=(r-e)*.5,h=(o-n)*.5,p=w*w,x=w*p;return(2*n-2*r+c+h)*x+(-3*n+3*r-2*c-h)*p+c*w+n}function En(w,e){const n=1-w;return n*n*e}function Vi(w,e){return 2*(1-w)*w*e}function Mr(w,e){return w*w*e}function dr(w,e,n,r){return En(w,e)+Vi(w,n)+Mr(w,r)}function ns(w,e){const n=1-w;return n*n*n*e}function no(w,e){const n=1-w;return 3*n*n*w*e}function Yo(w,e){return 3*(1-w)*w*w*e}function Zs(w,e){return w*w*w*e}function Aa(w,e,n,r,o){return ns(w,e)+no(w,n)+Yo(w,r)+Zs(w,o)}class ol extends b{constructor(e=new sn,n=new sn,r=new sn,o=new sn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=o}getPoint(e,n=new sn){const r=n,o=this.v0,c=this.v1,h=this.v2,p=this.v3;return r.set(Aa(e,o.x,c.x,h.x,p.x),Aa(e,o.y,c.y,h.y,p.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ga extends b{constructor(e=new ct,n=new ct,r=new ct,o=new ct){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=o}getPoint(e,n=new ct){const r=n,o=this.v0,c=this.v1,h=this.v2,p=this.v3;return r.set(Aa(e,o.x,c.x,h.x,p.x),Aa(e,o.y,c.y,h.y,p.y),Aa(e,o.z,c.z,h.z,p.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class La extends b{constructor(e=new sn,n=new sn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new sn){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new sn){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xs extends b{constructor(e=new ct,n=new ct){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ct){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ct){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class us extends b{constructor(e=new sn,n=new sn,r=new sn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new sn){const r=n,o=this.v0,c=this.v1,h=this.v2;return r.set(dr(e,o.x,c.x,h.x),dr(e,o.y,c.y,h.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xa extends b{constructor(e=new ct,n=new ct,r=new ct){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ct){const r=n,o=this.v0,c=this.v1,h=this.v2;return r.set(dr(e,o.x,c.x,h.x),dr(e,o.y,c.y,h.y),dr(e,o.z,c.z,h.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Na extends b{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new sn){const r=n,o=this.points,c=(o.length-1)*e,h=Math.floor(c),p=c-h,x=o[h===0?h:h-1],S=o[h],O=o[h>o.length-2?o.length-1:h+1],F=o[h>o.length-3?o.length-1:h+2];return r.set(mn(p,x.x,S.x,O.x,F.x),mn(p,x.y,S.y,O.y,F.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const o=e.points[n];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const o=this.points[n];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const o=e.points[n];this.points.push(new sn().fromArray(o))}return this}}var Ca=Object.freeze({__proto__:null,ArcCurve:L,CatmullRomCurve3:Jt,CubicBezierCurve:ol,CubicBezierCurve3:ga,EllipseCurve:A,LineCurve:La,LineCurve3:xs,QuadraticBezierCurve:us,QuadraticBezierCurve3:Xa,SplineCurve:Na});class aa extends b{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ca[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),o=this.getCurveLengths();let c=0;for(;c<o.length;){if(o[c]>=r){const h=o[c]-r,p=this.curves[c],x=p.getLength(),S=x===0?0:1-h/x;return p.getPointAt(S,n)}c++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,o=this.curves.length;r<o;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let o=0,c=this.curves;o<c.length;o++){const h=c[o],p=h.isEllipseCurve?e*2:h.isLineCurve||h.isLineCurve3?1:h.isSplineCurve?e*h.points.length:e,x=h.getPoints(p);for(let S=0;S<x.length;S++){const O=x[S];r&&r.equals(O)||(n.push(O),r=O)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const o=e.curves[n];this.curves.push(o.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const o=this.curves[n];e.curves.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const o=e.curves[n];this.curves.push(new Ca[o.type]().fromJSON(o))}return this}}class _l extends aa{constructor(e){super(),this.type="Path",this.currentPoint=new sn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new La(this.currentPoint.clone(),new sn(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,o){const c=new us(this.currentPoint.clone(),new sn(e,n),new sn(r,o));return this.curves.push(c),this.currentPoint.set(r,o),this}bezierCurveTo(e,n,r,o,c,h){const p=new ol(this.currentPoint.clone(),new sn(e,n),new sn(r,o),new sn(c,h));return this.curves.push(p),this.currentPoint.set(c,h),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new Na(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,o,c,h){const p=this.currentPoint.x,x=this.currentPoint.y;return this.absarc(e+p,n+x,r,o,c,h),this}absarc(e,n,r,o,c,h){return this.absellipse(e,n,r,r,o,c,h),this}ellipse(e,n,r,o,c,h,p,x){const S=this.currentPoint.x,O=this.currentPoint.y;return this.absellipse(e+S,n+O,r,o,c,h,p,x),this}absellipse(e,n,r,o,c,h,p,x){const S=new A(e,n,r,o,c,h,p,x);if(this.curves.length>0){const F=S.getPoint(0);F.equals(this.currentPoint)||this.lineTo(F.x,F.y)}this.curves.push(S);const O=S.getPoint(1);return this.currentPoint.copy(O),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wl extends In{constructor(e=[new sn(0,-.5),new sn(.5,0),new sn(0,.5)],n=12,r=0,o=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:o},n=Math.floor(n),o=Di(o,0,Math.PI*2);const c=[],h=[],p=[],x=[],S=[],O=1/n,F=new ct,$=new sn,V=new ct,G=new ct,me=new ct;let De=0,ke=0;for(let mt=0;mt<=e.length-1;mt++)switch(mt){case 0:De=e[mt+1].x-e[mt].x,ke=e[mt+1].y-e[mt].y,V.x=ke*1,V.y=-De,V.z=ke*0,me.copy(V),V.normalize(),x.push(V.x,V.y,V.z);break;case e.length-1:x.push(me.x,me.y,me.z);break;default:De=e[mt+1].x-e[mt].x,ke=e[mt+1].y-e[mt].y,V.x=ke*1,V.y=-De,V.z=ke*0,G.copy(V),V.x+=me.x,V.y+=me.y,V.z+=me.z,V.normalize(),x.push(V.x,V.y,V.z),me.copy(G)}for(let mt=0;mt<=n;mt++){const gt=r+mt*O*o,Mt=Math.sin(gt),qn=Math.cos(gt);for(let ri=0;ri<=e.length-1;ri++){F.x=e[ri].x*Mt,F.y=e[ri].y,F.z=e[ri].x*qn,h.push(F.x,F.y,F.z),$.x=mt/n,$.y=ri/(e.length-1),p.push($.x,$.y);const Pi=x[3*ri+0]*Mt,hi=x[3*ri+1],Yr=x[3*ri+0]*qn;S.push(Pi,hi,Yr)}}for(let mt=0;mt<n;mt++)for(let gt=0;gt<e.length-1;gt++){const Mt=gt+mt*e.length,qn=Mt,ri=Mt+e.length,Pi=Mt+e.length+1,hi=Mt+1;c.push(qn,ri,hi),c.push(Pi,hi,ri)}this.setIndex(c),this.setAttribute("position",new cr(h,3)),this.setAttribute("uv",new cr(p,2)),this.setAttribute("normal",new cr(S,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wl(e.points,e.segments,e.phiStart,e.phiLength)}}class vc extends wl{constructor(e=1,n=1,r=4,o=8){const c=new _l;c.absarc(0,-n/2,e,Math.PI*1.5,0),c.absarc(0,n/2,e,0,Math.PI*.5),super(c.getPoints(r),o),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:o}}static fromJSON(e){return new vc(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ac extends In{constructor(e=1,n=32,r=0,o=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:o},n=Math.max(3,n);const c=[],h=[],p=[],x=[],S=new ct,O=new sn;h.push(0,0,0),p.push(0,0,1),x.push(.5,.5);for(let F=0,$=3;F<=n;F++,$+=3){const V=r+F/n*o;S.x=e*Math.cos(V),S.y=e*Math.sin(V),h.push(S.x,S.y,S.z),p.push(0,0,1),O.x=(h[$]/e+1)/2,O.y=(h[$+1]/e+1)/2,x.push(O.x,O.y)}for(let F=1;F<=n;F++)c.push(F,F+1,0);this.setIndex(c),this.setAttribute("position",new cr(h,3)),this.setAttribute("normal",new cr(p,3)),this.setAttribute("uv",new cr(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ac(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Kl extends In{constructor(e=1,n=1,r=1,o=32,c=1,h=!1,p=0,x=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:o,heightSegments:c,openEnded:h,thetaStart:p,thetaLength:x};const S=this;o=Math.floor(o),c=Math.floor(c);const O=[],F=[],$=[],V=[];let G=0;const me=[],De=r/2;let ke=0;mt(),h===!1&&(e>0&&gt(!0),n>0&&gt(!1)),this.setIndex(O),this.setAttribute("position",new cr(F,3)),this.setAttribute("normal",new cr($,3)),this.setAttribute("uv",new cr(V,2));function mt(){const Mt=new ct,qn=new ct;let ri=0;const Pi=(n-e)/r;for(let hi=0;hi<=c;hi++){const Yr=[],vs=hi/c,To=vs*(n-e)+e;for(let Fa=0;Fa<=o;Fa++){const al=Fa/o,Ml=al*x+p,gl=Math.sin(Ml),ql=Math.cos(Ml);qn.x=To*gl,qn.y=-vs*r+De,qn.z=To*ql,F.push(qn.x,qn.y,qn.z),Mt.set(gl,Pi,ql).normalize(),$.push(Mt.x,Mt.y,Mt.z),V.push(al,1-vs),Yr.push(G++)}me.push(Yr)}for(let hi=0;hi<o;hi++)for(let Yr=0;Yr<c;Yr++){const vs=me[Yr][hi],To=me[Yr+1][hi],Fa=me[Yr+1][hi+1],al=me[Yr][hi+1];(e>0||Yr!==0)&&(O.push(vs,To,al),ri+=3),(n>0||Yr!==c-1)&&(O.push(To,Fa,al),ri+=3)}S.addGroup(ke,ri,0),ke+=ri}function gt(Mt){const qn=G,ri=new sn,Pi=new ct;let hi=0;const Yr=Mt===!0?e:n,vs=Mt===!0?1:-1;for(let Fa=1;Fa<=o;Fa++)F.push(0,De*vs,0),$.push(0,vs,0),V.push(.5,.5),G++;const To=G;for(let Fa=0;Fa<=o;Fa++){const Ml=Fa/o*x+p,gl=Math.cos(Ml),ql=Math.sin(Ml);Pi.x=Yr*ql,Pi.y=De*vs,Pi.z=Yr*gl,F.push(Pi.x,Pi.y,Pi.z),$.push(0,vs,0),ri.x=gl*.5+.5,ri.y=ql*.5*vs+.5,V.push(ri.x,ri.y),G++}for(let Fa=0;Fa<o;Fa++){const al=qn+Fa,Ml=To+Fa;Mt===!0?O.push(Ml,Ml+1,al):O.push(Ml+1,Ml,al),hi+=3}S.addGroup(ke,hi,Mt===!0?1:2),ke+=hi}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kl(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class oc extends Kl{constructor(e=1,n=1,r=32,o=1,c=!1,h=0,p=Math.PI*2){super(0,e,n,r,o,c,h,p),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:o,openEnded:c,thetaStart:h,thetaLength:p}}static fromJSON(e){return new oc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ac extends In{constructor(e=[],n=[],r=1,o=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:o};const c=[],h=[];p(o),S(r),O(),this.setAttribute("position",new cr(c,3)),this.setAttribute("normal",new cr(c.slice(),3)),this.setAttribute("uv",new cr(h,2)),o===0?this.computeVertexNormals():this.normalizeNormals();function p(mt){const gt=new ct,Mt=new ct,qn=new ct;for(let ri=0;ri<n.length;ri+=3)V(n[ri+0],gt),V(n[ri+1],Mt),V(n[ri+2],qn),x(gt,Mt,qn,mt)}function x(mt,gt,Mt,qn){const ri=qn+1,Pi=[];for(let hi=0;hi<=ri;hi++){Pi[hi]=[];const Yr=mt.clone().lerp(Mt,hi/ri),vs=gt.clone().lerp(Mt,hi/ri),To=ri-hi;for(let Fa=0;Fa<=To;Fa++)Fa===0&&hi===ri?Pi[hi][Fa]=Yr:Pi[hi][Fa]=Yr.clone().lerp(vs,Fa/To)}for(let hi=0;hi<ri;hi++)for(let Yr=0;Yr<2*(ri-hi)-1;Yr++){const vs=Math.floor(Yr/2);Yr%2===0?($(Pi[hi][vs+1]),$(Pi[hi+1][vs]),$(Pi[hi][vs])):($(Pi[hi][vs+1]),$(Pi[hi+1][vs+1]),$(Pi[hi+1][vs]))}}function S(mt){const gt=new ct;for(let Mt=0;Mt<c.length;Mt+=3)gt.x=c[Mt+0],gt.y=c[Mt+1],gt.z=c[Mt+2],gt.normalize().multiplyScalar(mt),c[Mt+0]=gt.x,c[Mt+1]=gt.y,c[Mt+2]=gt.z}function O(){const mt=new ct;for(let gt=0;gt<c.length;gt+=3){mt.x=c[gt+0],mt.y=c[gt+1],mt.z=c[gt+2];const Mt=De(mt)/2/Math.PI+.5,qn=ke(mt)/Math.PI+.5;h.push(Mt,1-qn)}G(),F()}function F(){for(let mt=0;mt<h.length;mt+=6){const gt=h[mt+0],Mt=h[mt+2],qn=h[mt+4],ri=Math.max(gt,Mt,qn),Pi=Math.min(gt,Mt,qn);ri>.9&&Pi<.1&&(gt<.2&&(h[mt+0]+=1),Mt<.2&&(h[mt+2]+=1),qn<.2&&(h[mt+4]+=1))}}function $(mt){c.push(mt.x,mt.y,mt.z)}function V(mt,gt){const Mt=mt*3;gt.x=e[Mt+0],gt.y=e[Mt+1],gt.z=e[Mt+2]}function G(){const mt=new ct,gt=new ct,Mt=new ct,qn=new ct,ri=new sn,Pi=new sn,hi=new sn;for(let Yr=0,vs=0;Yr<c.length;Yr+=9,vs+=6){mt.set(c[Yr+0],c[Yr+1],c[Yr+2]),gt.set(c[Yr+3],c[Yr+4],c[Yr+5]),Mt.set(c[Yr+6],c[Yr+7],c[Yr+8]),ri.set(h[vs+0],h[vs+1]),Pi.set(h[vs+2],h[vs+3]),hi.set(h[vs+4],h[vs+5]),qn.copy(mt).add(gt).add(Mt).divideScalar(3);const To=De(qn);me(ri,vs+0,mt,To),me(Pi,vs+2,gt,To),me(hi,vs+4,Mt,To)}}function me(mt,gt,Mt,qn){qn<0&&mt.x===1&&(h[gt]=mt.x-1),Mt.x===0&&Mt.z===0&&(h[gt]=qn/2/Math.PI+.5)}function De(mt){return Math.atan2(mt.z,-mt.x)}function ke(mt){return Math.atan2(-mt.y,Math.sqrt(mt.x*mt.x+mt.z*mt.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ac(e.vertices,e.indices,e.radius,e.details)}}class Kc extends ac{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,o=1/r,c=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-r,0,-o,r,0,o,-r,0,o,r,-o,-r,0,-o,r,0,o,-r,0,o,r,0,-r,0,-o,r,0,-o,-r,0,o,r,0,o],h=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(c,h,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Kc(e.radius,e.detail)}}const ru=new ct,Du=new ct,wu=new ct,Nc=new Ke;class Lh extends In{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const o=Math.pow(10,4),c=Math.cos(Jn*n),h=e.getIndex(),p=e.getAttribute("position"),x=h?h.count:p.count,S=[0,0,0],O=["a","b","c"],F=new Array(3),$={},V=[];for(let G=0;G<x;G+=3){h?(S[0]=h.getX(G),S[1]=h.getX(G+1),S[2]=h.getX(G+2)):(S[0]=G,S[1]=G+1,S[2]=G+2);const{a:me,b:De,c:ke}=Nc;if(me.fromBufferAttribute(p,S[0]),De.fromBufferAttribute(p,S[1]),ke.fromBufferAttribute(p,S[2]),Nc.getNormal(wu),F[0]=`${Math.round(me.x*o)},${Math.round(me.y*o)},${Math.round(me.z*o)}`,F[1]=`${Math.round(De.x*o)},${Math.round(De.y*o)},${Math.round(De.z*o)}`,F[2]=`${Math.round(ke.x*o)},${Math.round(ke.y*o)},${Math.round(ke.z*o)}`,!(F[0]===F[1]||F[1]===F[2]||F[2]===F[0]))for(let mt=0;mt<3;mt++){const gt=(mt+1)%3,Mt=F[mt],qn=F[gt],ri=Nc[O[mt]],Pi=Nc[O[gt]],hi=`${Mt}_${qn}`,Yr=`${qn}_${Mt}`;Yr in $&&$[Yr]?(wu.dot($[Yr].normal)<=c&&(V.push(ri.x,ri.y,ri.z),V.push(Pi.x,Pi.y,Pi.z)),$[Yr]=null):hi in $||($[hi]={index0:S[mt],index1:S[gt],normal:wu.clone()})}}for(const G in $)if($[G]){const{index0:me,index1:De}=$[G];ru.fromBufferAttribute(p,me),Du.fromBufferAttribute(p,De),V.push(ru.x,ru.y,ru.z),V.push(Du.x,Du.y,Du.z)}this.setAttribute("position",new cr(V,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Lu extends _l{constructor(e){super(e),this.uuid=Ar(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,o=this.holes.length;r<o;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const o=e.holes[n];this.holes.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const o=this.holes[n];e.holes.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const o=e.holes[n];this.holes.push(new _l().fromJSON(o))}return this}}function Nh(w,e,n=2){const r=e&&e.length,o=r?e[0]*n:w.length;let c=Ld(w,0,o,n,!0);const h=[];if(!c||c.next===c.prev)return h;let p,x,S;if(r&&(c=$h(w,e,c,n)),w.length>80*n){p=1/0,x=1/0;let O=-1/0,F=-1/0;for(let $=n;$<o;$+=n){const V=w[$],G=w[$+1];V<p&&(p=V),G<x&&(x=G),V>O&&(O=V),G>F&&(F=G)}S=Math.max(O-p,F-x),S=S!==0?32767/S:0}return Uu(c,h,n,p,x,S,0),h}function Ld(w,e,n,r,o){let c;if(o===qh(w,e,n,r)>0)for(let h=e;h<n;h+=r)c=Ud(h/r|0,w[h],w[h+1],c);else for(let h=n-r;h>=e;h-=r)c=Ud(h/r|0,w[h],w[h+1],c);return c&&Nu(c,c.next)&&(ku(c),c=c.next),c}function Mu(w,e){if(!w)return w;e||(e=w);let n=w,r;do if(r=!1,!n.steiner&&(Nu(n,n.next)||Pl(n.prev,n,n.next)===0)){if(ku(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Uu(w,e,n,r,o,c,h){if(!w)return;!h&&c&&Wh(w,r,o,c);let p=w;for(;w.prev!==w.next;){const x=w.prev,S=w.next;if(c?Bh(w,r,o,c):Fh(w)){e.push(x.i,w.i,S.i),ku(w),w=S.next,p=S.next;continue}if(w=S,w===p){h?h===1?(w=Uh(Mu(w),e),Uu(w,e,n,r,o,c,2)):h===2&&zh(w,e,n,r,o,c):Uu(Mu(w),e,n,r,o,c,1);break}}}function Fh(w){const e=w.prev,n=w,r=w.next;if(Pl(e,n,r)>=0)return!1;const o=e.x,c=n.x,h=r.x,p=e.y,x=n.y,S=r.y,O=Math.min(o,c,h),F=Math.min(p,x,S),$=Math.max(o,c,h),V=Math.max(p,x,S);let G=r.next;for(;G!==e;){if(G.x>=O&&G.x<=$&&G.y>=F&&G.y<=V&&zu(o,p,c,x,h,S,G.x,G.y)&&Pl(G.prev,G,G.next)>=0)return!1;G=G.next}return!0}function Bh(w,e,n,r){const o=w.prev,c=w,h=w.next;if(Pl(o,c,h)>=0)return!1;const p=o.x,x=c.x,S=h.x,O=o.y,F=c.y,$=h.y,V=Math.min(p,x,S),G=Math.min(O,F,$),me=Math.max(p,x,S),De=Math.max(O,F,$),ke=hd(V,G,e,n,r),mt=hd(me,De,e,n,r);let gt=w.prevZ,Mt=w.nextZ;for(;gt&&gt.z>=ke&&Mt&&Mt.z<=mt;){if(gt.x>=V&&gt.x<=me&&gt.y>=G&&gt.y<=De&&gt!==o&&gt!==h&&zu(p,O,x,F,S,$,gt.x,gt.y)&&Pl(gt.prev,gt,gt.next)>=0||(gt=gt.prevZ,Mt.x>=V&&Mt.x<=me&&Mt.y>=G&&Mt.y<=De&&Mt!==o&&Mt!==h&&zu(p,O,x,F,S,$,Mt.x,Mt.y)&&Pl(Mt.prev,Mt,Mt.next)>=0))return!1;Mt=Mt.nextZ}for(;gt&&gt.z>=ke;){if(gt.x>=V&&gt.x<=me&&gt.y>=G&&gt.y<=De&&gt!==o&&gt!==h&&zu(p,O,x,F,S,$,gt.x,gt.y)&&Pl(gt.prev,gt,gt.next)>=0)return!1;gt=gt.prevZ}for(;Mt&&Mt.z<=mt;){if(Mt.x>=V&&Mt.x<=me&&Mt.y>=G&&Mt.y<=De&&Mt!==o&&Mt!==h&&zu(p,O,x,F,S,$,Mt.x,Mt.y)&&Pl(Mt.prev,Mt,Mt.next)>=0)return!1;Mt=Mt.nextZ}return!0}function Uh(w,e){let n=w;do{const r=n.prev,o=n.next.next;!Nu(r,o)&&Fd(r,n,n.next,o)&&$u(r,o)&&$u(o,r)&&(e.push(r.i,n.i,o.i),ku(n),ku(n.next),n=w=o),n=n.next}while(n!==w);return Mu(n)}function zh(w,e,n,r,o,c){let h=w;do{let p=h.next.next;for(;p!==h.prev;){if(h.i!==p.i&&Xh(h,p)){let x=Bd(h,p);h=Mu(h,h.next),x=Mu(x,x.next),Uu(h,e,n,r,o,c,0),Uu(x,e,n,r,o,c,0);return}p=p.next}h=h.next}while(h!==w)}function $h(w,e,n,r){const o=[];for(let c=0,h=e.length;c<h;c++){const p=e[c]*r,x=c<h-1?e[c+1]*r:w.length,S=Ld(w,p,x,r,!1);S===S.next&&(S.steiner=!0),o.push(Zh(S))}o.sort(kh);for(let c=0;c<o.length;c++)n=Hh(o[c],n);return n}function kh(w,e){let n=w.x-e.x;if(n===0&&(n=w.y-e.y,n===0)){const r=(w.next.y-w.y)/(w.next.x-w.x),o=(e.next.y-e.y)/(e.next.x-e.x);n=r-o}return n}function Hh(w,e){const n=Vh(w,e);if(!n)return e;const r=Bd(n,w);return Mu(r,r.next),Mu(n,n.next)}function Vh(w,e){let n=e;const r=w.x,o=w.y;let c=-1/0,h;if(Nu(w,n))return n;do{if(Nu(w,n.next))return n.next;if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const F=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(F<=r&&F>c&&(c=F,h=n.x<n.next.x?n:n.next,F===r))return h}n=n.next}while(n!==e);if(!h)return null;const p=h,x=h.x,S=h.y;let O=1/0;n=h;do{if(r>=n.x&&n.x>=x&&r!==n.x&&Nd(o<S?r:c,o,x,S,o<S?c:r,o,n.x,n.y)){const F=Math.abs(o-n.y)/(r-n.x);$u(n,w)&&(F<O||F===O&&(n.x>h.x||n.x===h.x&&jh(h,n)))&&(h=n,O=F)}n=n.next}while(n!==p);return h}function jh(w,e){return Pl(w.prev,w,e.prev)<0&&Pl(e.next,w,w.next)<0}function Wh(w,e,n,r){let o=w;do o.z===0&&(o.z=hd(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==w);o.prevZ.nextZ=null,o.prevZ=null,Gh(o)}function Gh(w){let e,n=1;do{let r=w,o;w=null;let c=null;for(e=0;r;){e++;let h=r,p=0;for(let S=0;S<n&&(p++,h=h.nextZ,!!h);S++);let x=n;for(;p>0||x>0&&h;)p!==0&&(x===0||!h||r.z<=h.z)?(o=r,r=r.nextZ,p--):(o=h,h=h.nextZ,x--),c?c.nextZ=o:w=o,o.prevZ=c,c=o;r=h}c.nextZ=null,n*=2}while(e>1);return w}function hd(w,e,n,r,o){return w=(w-n)*o|0,e=(e-r)*o|0,w=(w|w<<8)&16711935,w=(w|w<<4)&252645135,w=(w|w<<2)&858993459,w=(w|w<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,w|e<<1}function Zh(w){let e=w,n=w;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==w);return n}function Nd(w,e,n,r,o,c,h,p){return(o-h)*(e-p)>=(w-h)*(c-p)&&(w-h)*(r-p)>=(n-h)*(e-p)&&(n-h)*(c-p)>=(o-h)*(r-p)}function zu(w,e,n,r,o,c,h,p){return!(w===h&&e===p)&&Nd(w,e,n,r,o,c,h,p)}function Xh(w,e){return w.next.i!==e.i&&w.prev.i!==e.i&&!Yh(w,e)&&($u(w,e)&&$u(e,w)&&Kh(w,e)&&(Pl(w.prev,w,e.prev)||Pl(w,e.prev,e))||Nu(w,e)&&Pl(w.prev,w,w.next)>0&&Pl(e.prev,e,e.next)>0)}function Pl(w,e,n){return(e.y-w.y)*(n.x-e.x)-(e.x-w.x)*(n.y-e.y)}function Nu(w,e){return w.x===e.x&&w.y===e.y}function Fd(w,e,n,r){const o=Wu(Pl(w,e,n)),c=Wu(Pl(w,e,r)),h=Wu(Pl(n,r,w)),p=Wu(Pl(n,r,e));return!!(o!==c&&h!==p||o===0&&ju(w,n,e)||c===0&&ju(w,r,e)||h===0&&ju(n,w,r)||p===0&&ju(n,e,r))}function ju(w,e,n){return e.x<=Math.max(w.x,n.x)&&e.x>=Math.min(w.x,n.x)&&e.y<=Math.max(w.y,n.y)&&e.y>=Math.min(w.y,n.y)}function Wu(w){return w>0?1:w<0?-1:0}function Yh(w,e){let n=w;do{if(n.i!==w.i&&n.next.i!==w.i&&n.i!==e.i&&n.next.i!==e.i&&Fd(n,n.next,w,e))return!0;n=n.next}while(n!==w);return!1}function $u(w,e){return Pl(w.prev,w,w.next)<0?Pl(w,e,w.next)>=0&&Pl(w,w.prev,e)>=0:Pl(w,e,w.prev)<0||Pl(w,w.next,e)<0}function Kh(w,e){let n=w,r=!1;const o=(w.x+e.x)/2,c=(w.y+e.y)/2;do n.y>c!=n.next.y>c&&n.next.y!==n.y&&o<(n.next.x-n.x)*(c-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==w);return r}function Bd(w,e){const n=fd(w.i,w.x,w.y),r=fd(e.i,e.x,e.y),o=w.next,c=e.prev;return w.next=e,e.prev=w,n.next=o,o.prev=n,r.next=n,n.prev=r,c.next=r,r.prev=c,r}function Ud(w,e,n,r){const o=fd(w,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function ku(w){w.next.prev=w.prev,w.prev.next=w.next,w.prevZ&&(w.prevZ.nextZ=w.nextZ),w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function fd(w,e,n){return{i:w,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function qh(w,e,n,r){let o=0;for(let c=e,h=n-r;c<n;c+=r)o+=(w[h]-w[c])*(w[c+1]+w[h+1]),h=c;return o}class Jh{static triangulate(e,n,r=2){return Nh(e,n,r)}}class ou{static area(e){const n=e.length;let r=0;for(let o=n-1,c=0;c<n;o=c++)r+=e[o].x*e[c].y-e[c].x*e[o].y;return r*.5}static isClockWise(e){return ou.area(e)<0}static triangulateShape(e,n){const r=[],o=[],c=[];zd(e),$d(r,e);let h=e.length;n.forEach(zd);for(let x=0;x<n.length;x++)o.push(h),h+=n[x].length,$d(r,n[x]);const p=Jh.triangulate(r,o);for(let x=0;x<p.length;x+=3)c.push(p.slice(x,x+3));return c}}function zd(w){const e=w.length;e>2&&w[e-1].equals(w[0])&&w.pop()}function $d(w,e){for(let n=0;n<e.length;n++)w.push(e[n].x),w.push(e[n].y)}class pd extends In{constructor(e=new Lu([new sn(.5,.5),new sn(-.5,.5),new sn(-.5,-.5),new sn(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,o=[],c=[];for(let p=0,x=e.length;p<x;p++){const S=e[p];h(S)}this.setAttribute("position",new cr(o,3)),this.setAttribute("uv",new cr(c,2)),this.computeVertexNormals();function h(p){const x=[],S=n.curveSegments!==void 0?n.curveSegments:12,O=n.steps!==void 0?n.steps:1,F=n.depth!==void 0?n.depth:1;let $=n.bevelEnabled!==void 0?n.bevelEnabled:!0,V=n.bevelThickness!==void 0?n.bevelThickness:.2,G=n.bevelSize!==void 0?n.bevelSize:V-.1,me=n.bevelOffset!==void 0?n.bevelOffset:0,De=n.bevelSegments!==void 0?n.bevelSegments:3;const ke=n.extrudePath,mt=n.UVGenerator!==void 0?n.UVGenerator:Qh;let gt,Mt=!1,qn,ri,Pi,hi;ke&&(gt=ke.getSpacedPoints(O),Mt=!0,$=!1,qn=ke.computeFrenetFrames(O,!1),ri=new ct,Pi=new ct,hi=new ct),$||(De=0,V=0,G=0,me=0);const Yr=p.extractPoints(S);let vs=Yr.shape;const To=Yr.holes;if(!ou.isClockWise(vs)){vs=vs.reverse();for(let ss=0,As=To.length;ss<As;ss++){const Vs=To[ss];ou.isClockWise(Vs)&&(To[ss]=Vs.reverse())}}function al(ss){const Vs=10000000000000001e-36;let No=ss[0];for(let Xs=1;Xs<=ss.length;Xs++){const Ya=Xs%ss.length,Ba=ss[Ya],Ol=Ba.x-No.x,Vl=Ba.y-No.y,rc=Ol*Ol+Vl*Vl,kc=Math.max(Math.abs(Ba.x),Math.abs(Ba.y),Math.abs(No.x),Math.abs(No.y)),Vu=Vs*kc*kc;if(rc<=Vu){ss.splice(Ya,1),Xs--;continue}No=Ba}}al(vs),To.forEach(al);const Ml=To.length,gl=vs;for(let ss=0;ss<Ml;ss++){const As=To[ss];vs=vs.concat(As)}function ql(ss,As,Vs){return As||console.error("THREE.ExtrudeGeometry: vec does not exist"),ss.clone().addScaledVector(As,Vs)}const lc=vs.length;function Jc(ss,As,Vs){let No,Xs,Ya;const Ba=ss.x-As.x,Ol=ss.y-As.y,Vl=Vs.x-ss.x,rc=Vs.y-ss.y,kc=Ba*Ba+Ol*Ol,Vu=Ba*rc-Ol*Vl;if(Math.abs(Vu)>Number.EPSILON){const du=Math.sqrt(kc),Eh=Math.sqrt(Vl*Vl+rc*rc),Th=As.x-Ol/du,Ah=As.y+Ba/du,dp=Vs.x-rc/Eh,hp=Vs.y+Vl/Eh,Ph=((dp-Th)*rc-(hp-Ah)*Vl)/(Ba*rc-Ol*Vl);No=Th+Ba*Ph-ss.x,Xs=Ah+Ol*Ph-ss.y;const Oh=No*No+Xs*Xs;if(Oh<=2)return new sn(No,Xs);Ya=Math.sqrt(Oh/2)}else{let du=!1;Ba>Number.EPSILON?Vl>Number.EPSILON&&(du=!0):Ba<-Number.EPSILON?Vl<-Number.EPSILON&&(du=!0):Math.sign(Ol)===Math.sign(rc)&&(du=!0),du?(No=-Ol,Xs=Ba,Ya=Math.sqrt(kc)):(No=Ba,Xs=Ol,Ya=Math.sqrt(kc/2))}return new sn(No/Ya,Xs/Ya)}const Fl=[];for(let ss=0,As=gl.length,Vs=As-1,No=ss+1;ss<As;ss++,Vs++,No++)Vs===As&&(Vs=0),No===As&&(No=0),Fl[ss]=Jc(gl[ss],gl[Vs],gl[No]);const Zl=[];let Bl,Qc=Fl.concat();for(let ss=0,As=Ml;ss<As;ss++){const Vs=To[ss];Bl=[];for(let No=0,Xs=Vs.length,Ya=Xs-1,Ba=No+1;No<Xs;No++,Ya++,Ba++)Ya===Xs&&(Ya=0),Ba===Xs&&(Ba=0),Bl[No]=Jc(Vs[No],Vs[Ya],Vs[Ba]);Zl.push(Bl),Qc=Qc.concat(Bl)}const Iu=[],ld=[];for(let ss=0;ss<De;ss++){const As=ss/De,Vs=V*Math.cos(As*Math.PI/2),No=G*Math.sin(As*Math.PI/2)+me;for(let Xs=0,Ya=gl.length;Xs<Ya;Xs++){const Ba=ql(gl[Xs],Fl[Xs],No);lu(Ba.x,Ba.y,-Vs),As==0&&Iu.push(Ba)}for(let Xs=0,Ya=Ml;Xs<Ya;Xs++){const Ba=To[Xs];Bl=Zl[Xs];const Ol=[];for(let Vl=0,rc=Ba.length;Vl<rc;Vl++){const kc=ql(Ba[Vl],Bl[Vl],No);lu(kc.x,kc.y,-Vs),As==0&&Ol.push(kc)}As==0&&ld.push(Ol)}}const xu=ou.triangulateShape(Iu,ld),cd=xu.length,wh=G+me;for(let ss=0;ss<lc;ss++){const As=$?ql(vs[ss],Qc[ss],wh):vs[ss];Mt?(Pi.copy(qn.normals[0]).multiplyScalar(As.x),ri.copy(qn.binormals[0]).multiplyScalar(As.y),hi.copy(gt[0]).add(Pi).add(ri),lu(hi.x,hi.y,hi.z)):lu(As.x,As.y,0)}for(let ss=1;ss<=O;ss++)for(let As=0;As<lc;As++){const Vs=$?ql(vs[As],Qc[As],wh):vs[As];Mt?(Pi.copy(qn.normals[ss]).multiplyScalar(Vs.x),ri.copy(qn.binormals[ss]).multiplyScalar(Vs.y),hi.copy(gt[ss]).add(Pi).add(ri),lu(hi.x,hi.y,hi.z)):lu(Vs.x,Vs.y,F/O*ss)}for(let ss=De-1;ss>=0;ss--){const As=ss/De,Vs=V*Math.cos(As*Math.PI/2),No=G*Math.sin(As*Math.PI/2)+me;for(let Xs=0,Ya=gl.length;Xs<Ya;Xs++){const Ba=ql(gl[Xs],Fl[Xs],No);lu(Ba.x,Ba.y,F+Vs)}for(let Xs=0,Ya=To.length;Xs<Ya;Xs++){const Ba=To[Xs];Bl=Zl[Xs];for(let Ol=0,Vl=Ba.length;Ol<Vl;Ol++){const rc=ql(Ba[Ol],Bl[Ol],No);Mt?lu(rc.x,rc.y+gt[O-1].y,gt[O-1].x+Vs):lu(rc.x,rc.y,F+Vs)}}}lp(),cp();function lp(){const ss=o.length/3;if($){let As=0,Vs=lc*As;for(let No=0;No<cd;No++){const Xs=xu[No];ud(Xs[2]+Vs,Xs[1]+Vs,Xs[0]+Vs)}As=O+De*2,Vs=lc*As;for(let No=0;No<cd;No++){const Xs=xu[No];ud(Xs[0]+Vs,Xs[1]+Vs,Xs[2]+Vs)}}else{for(let As=0;As<cd;As++){const Vs=xu[As];ud(Vs[2],Vs[1],Vs[0])}for(let As=0;As<cd;As++){const Vs=xu[As];ud(Vs[0]+lc*O,Vs[1]+lc*O,Vs[2]+lc*O)}}r.addGroup(ss,o.length/3-ss,0)}function cp(){const ss=o.length/3;let As=0;Mh(gl,As),As+=gl.length;for(let Vs=0,No=To.length;Vs<No;Vs++){const Xs=To[Vs];Mh(Xs,As),As+=Xs.length}r.addGroup(ss,o.length/3-ss,1)}function Mh(ss,As){let Vs=ss.length;for(;--Vs>=0;){const No=Vs;let Xs=Vs-1;Xs<0&&(Xs=ss.length-1);for(let Ya=0,Ba=O+De*2;Ya<Ba;Ya++){const Ol=lc*Ya,Vl=lc*(Ya+1),rc=As+No+Ol,kc=As+Xs+Ol,Vu=As+Xs+Vl,du=As+No+Vl;up(rc,kc,Vu,du)}}}function lu(ss,As,Vs){x.push(ss),x.push(As),x.push(Vs)}function ud(ss,As,Vs){cu(ss),cu(As),cu(Vs);const No=o.length/3,Xs=mt.generateTopUV(r,o,No-3,No-2,No-1);uu(Xs[0]),uu(Xs[1]),uu(Xs[2])}function up(ss,As,Vs,No){cu(ss),cu(As),cu(No),cu(As),cu(Vs),cu(No);const Xs=o.length/3,Ya=mt.generateSideWallUV(r,o,Xs-6,Xs-3,Xs-2,Xs-1);uu(Ya[0]),uu(Ya[1]),uu(Ya[3]),uu(Ya[1]),uu(Ya[2]),uu(Ya[3])}function cu(ss){o.push(x[ss*3+0]),o.push(x[ss*3+1]),o.push(x[ss*3+2])}function uu(ss){c.push(ss.x),c.push(ss.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return ef(n,r,e)}static fromJSON(e,n){const r=[];for(let c=0,h=e.shapes.length;c<h;c++){const p=n[e.shapes[c]];r.push(p)}const o=e.options.extrudePath;return o!==void 0&&(e.options.extrudePath=new Ca[o.type]().fromJSON(o)),new pd(r,e.options)}}const Qh={generateTopUV:function(w,e,n,r,o){const c=e[n*3],h=e[n*3+1],p=e[r*3],x=e[r*3+1],S=e[o*3],O=e[o*3+1];return[new sn(c,h),new sn(p,x),new sn(S,O)]},generateSideWallUV:function(w,e,n,r,o,c){const h=e[n*3],p=e[n*3+1],x=e[n*3+2],S=e[r*3],O=e[r*3+1],F=e[r*3+2],$=e[o*3],V=e[o*3+1],G=e[o*3+2],me=e[c*3],De=e[c*3+1],ke=e[c*3+2];return Math.abs(p-O)<Math.abs(h-S)?[new sn(h,1-x),new sn(S,1-F),new sn($,1-G),new sn(me,1-ke)]:[new sn(p,1-x),new sn(O,1-F),new sn(V,1-G),new sn(De,1-ke)]}};function ef(w,e,n){if(n.shapes=[],Array.isArray(w))for(let r=0,o=w.length;r<o;r++){const c=w[r];n.shapes.push(c.uuid)}else n.shapes.push(w.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class md extends ac{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,o=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],c=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(o,c,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new md(e.radius,e.detail)}}class Gu extends ac{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,o,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Gu(e.radius,e.detail)}}class Zu extends In{constructor(e=1,n=1,r=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:o};const c=e/2,h=n/2,p=Math.floor(r),x=Math.floor(o),S=p+1,O=x+1,F=e/p,$=n/x,V=[],G=[],me=[],De=[];for(let ke=0;ke<O;ke++){const mt=ke*$-h;for(let gt=0;gt<S;gt++){const Mt=gt*F-c;G.push(Mt,-mt,0),me.push(0,0,1),De.push(gt/p),De.push(1-ke/x)}}for(let ke=0;ke<x;ke++)for(let mt=0;mt<p;mt++){const gt=mt+S*ke,Mt=mt+S*(ke+1),qn=mt+1+S*(ke+1),ri=mt+1+S*ke;V.push(gt,Mt,ri),V.push(Mt,qn,ri)}this.setIndex(V),this.setAttribute("position",new cr(G,3)),this.setAttribute("normal",new cr(me,3)),this.setAttribute("uv",new cr(De,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zu(e.width,e.height,e.widthSegments,e.heightSegments)}}class gd extends In{constructor(e=.5,n=1,r=32,o=1,c=0,h=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:o,thetaStart:c,thetaLength:h},r=Math.max(3,r),o=Math.max(1,o);const p=[],x=[],S=[],O=[];let F=e;const $=(n-e)/o,V=new ct,G=new sn;for(let me=0;me<=o;me++){for(let De=0;De<=r;De++){const ke=c+De/r*h;V.x=F*Math.cos(ke),V.y=F*Math.sin(ke),x.push(V.x,V.y,V.z),S.push(0,0,1),G.x=(V.x/n+1)/2,G.y=(V.y/n+1)/2,O.push(G.x,G.y)}F+=$}for(let me=0;me<o;me++){const De=me*(r+1);for(let ke=0;ke<r;ke++){const mt=ke+De,gt=mt,Mt=mt+r+1,qn=mt+r+2,ri=mt+1;p.push(gt,Mt,ri),p.push(Mt,qn,ri)}}this.setIndex(p),this.setAttribute("position",new cr(x,3)),this.setAttribute("normal",new cr(S,3)),this.setAttribute("uv",new cr(O,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vd extends In{constructor(e=new Lu([new sn(0,.5),new sn(-.5,-.5),new sn(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],o=[],c=[],h=[];let p=0,x=0;if(Array.isArray(e)===!1)S(e);else for(let O=0;O<e.length;O++)S(e[O]),this.addGroup(p,x,O),p+=x,x=0;this.setIndex(r),this.setAttribute("position",new cr(o,3)),this.setAttribute("normal",new cr(c,3)),this.setAttribute("uv",new cr(h,2));function S(O){const F=o.length/3,$=O.extractPoints(n);let V=$.shape;const G=$.holes;ou.isClockWise(V)===!1&&(V=V.reverse());for(let De=0,ke=G.length;De<ke;De++){const mt=G[De];ou.isClockWise(mt)===!0&&(G[De]=mt.reverse())}const me=ou.triangulateShape(V,G);for(let De=0,ke=G.length;De<ke;De++){const mt=G[De];V=V.concat(mt)}for(let De=0,ke=V.length;De<ke;De++){const mt=V[De];o.push(mt.x,mt.y,0),c.push(0,0,1),h.push(mt.x,mt.y)}for(let De=0,ke=me.length;De<ke;De++){const mt=me[De],gt=mt[0]+F,Mt=mt[1]+F,qn=mt[2]+F;r.push(gt,Mt,qn),x+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return tf(n,e)}static fromJSON(e,n){const r=[];for(let o=0,c=e.shapes.length;o<c;o++){const h=n[e.shapes[o]];r.push(h)}return new vd(r,e.curveSegments)}}function tf(w,e){if(e.shapes=[],Array.isArray(w))for(let n=0,r=w.length;n<r;n++){const o=w[n];e.shapes.push(o.uuid)}else e.shapes.push(w.uuid);return e}class Xu extends In{constructor(e=1,n=32,r=16,o=0,c=Math.PI*2,h=0,p=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:o,phiLength:c,thetaStart:h,thetaLength:p},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const x=Math.min(h+p,Math.PI);let S=0;const O=[],F=new ct,$=new ct,V=[],G=[],me=[],De=[];for(let ke=0;ke<=r;ke++){const mt=[],gt=ke/r;let Mt=0;ke===0&&h===0?Mt=.5/n:ke===r&&x===Math.PI&&(Mt=-.5/n);for(let qn=0;qn<=n;qn++){const ri=qn/n;F.x=-e*Math.cos(o+ri*c)*Math.sin(h+gt*p),F.y=e*Math.cos(h+gt*p),F.z=e*Math.sin(o+ri*c)*Math.sin(h+gt*p),G.push(F.x,F.y,F.z),$.copy(F).normalize(),me.push($.x,$.y,$.z),De.push(ri+Mt,1-gt),mt.push(S++)}O.push(mt)}for(let ke=0;ke<r;ke++)for(let mt=0;mt<n;mt++){const gt=O[ke][mt+1],Mt=O[ke][mt],qn=O[ke+1][mt],ri=O[ke+1][mt+1];(ke!==0||h>0)&&V.push(gt,Mt,ri),(ke!==r-1||x<Math.PI)&&V.push(Mt,qn,ri)}this.setIndex(V),this.setAttribute("position",new cr(G,3)),this.setAttribute("normal",new cr(me,3)),this.setAttribute("uv",new cr(De,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class yd extends ac{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,o,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yd(e.radius,e.detail)}}class xd extends In{constructor(e=1,n=.4,r=12,o=48,c=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:o,arc:c},r=Math.floor(r),o=Math.floor(o);const h=[],p=[],x=[],S=[],O=new ct,F=new ct,$=new ct;for(let V=0;V<=r;V++)for(let G=0;G<=o;G++){const me=G/o*c,De=V/r*Math.PI*2;F.x=(e+n*Math.cos(De))*Math.cos(me),F.y=(e+n*Math.cos(De))*Math.sin(me),F.z=n*Math.sin(De),p.push(F.x,F.y,F.z),O.x=e*Math.cos(me),O.y=e*Math.sin(me),$.subVectors(F,O).normalize(),x.push($.x,$.y,$.z),S.push(G/o),S.push(V/r)}for(let V=1;V<=r;V++)for(let G=1;G<=o;G++){const me=(o+1)*V+G-1,De=(o+1)*(V-1)+G-1,ke=(o+1)*(V-1)+G,mt=(o+1)*V+G;h.push(me,De,mt),h.push(De,ke,mt)}this.setIndex(h),this.setAttribute("position",new cr(p,3)),this.setAttribute("normal",new cr(x,3)),this.setAttribute("uv",new cr(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xd(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class bd extends In{constructor(e=1,n=.4,r=64,o=8,c=2,h=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:o,p:c,q:h},r=Math.floor(r),o=Math.floor(o);const p=[],x=[],S=[],O=[],F=new ct,$=new ct,V=new ct,G=new ct,me=new ct,De=new ct,ke=new ct;for(let gt=0;gt<=r;++gt){const Mt=gt/r*c*Math.PI*2;mt(Mt,c,h,e,V),mt(Mt+.01,c,h,e,G),De.subVectors(G,V),ke.addVectors(G,V),me.crossVectors(De,ke),ke.crossVectors(me,De),me.normalize(),ke.normalize();for(let qn=0;qn<=o;++qn){const ri=qn/o*Math.PI*2,Pi=-n*Math.cos(ri),hi=n*Math.sin(ri);F.x=V.x+(Pi*ke.x+hi*me.x),F.y=V.y+(Pi*ke.y+hi*me.y),F.z=V.z+(Pi*ke.z+hi*me.z),x.push(F.x,F.y,F.z),$.subVectors(F,V).normalize(),S.push($.x,$.y,$.z),O.push(gt/r),O.push(qn/o)}}for(let gt=1;gt<=r;gt++)for(let Mt=1;Mt<=o;Mt++){const qn=(o+1)*(gt-1)+(Mt-1),ri=(o+1)*gt+(Mt-1),Pi=(o+1)*gt+Mt,hi=(o+1)*(gt-1)+Mt;p.push(qn,ri,hi),p.push(ri,Pi,hi)}this.setIndex(p),this.setAttribute("position",new cr(x,3)),this.setAttribute("normal",new cr(S,3)),this.setAttribute("uv",new cr(O,2));function mt(gt,Mt,qn,ri,Pi){const hi=Math.cos(gt),Yr=Math.sin(gt),vs=qn/Mt*gt,To=Math.cos(vs);Pi.x=ri*(2+To)*.5*hi,Pi.y=ri*(2+To)*Yr*.5,Pi.z=ri*Math.sin(vs)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Sd extends In{constructor(e=new Xa(new ct(-1,-1,0),new ct(-1,1,0),new ct(1,1,0)),n=64,r=1,o=8,c=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:o,closed:c};const h=e.computeFrenetFrames(n,c);this.tangents=h.tangents,this.normals=h.normals,this.binormals=h.binormals;const p=new ct,x=new ct,S=new sn;let O=new ct;const F=[],$=[],V=[],G=[];me(),this.setIndex(G),this.setAttribute("position",new cr(F,3)),this.setAttribute("normal",new cr($,3)),this.setAttribute("uv",new cr(V,2));function me(){for(let gt=0;gt<n;gt++)De(gt);De(c===!1?n:0),mt(),ke()}function De(gt){O=e.getPointAt(gt/n,O);const Mt=h.normals[gt],qn=h.binormals[gt];for(let ri=0;ri<=o;ri++){const Pi=ri/o*Math.PI*2,hi=Math.sin(Pi),Yr=-Math.cos(Pi);x.x=Yr*Mt.x+hi*qn.x,x.y=Yr*Mt.y+hi*qn.y,x.z=Yr*Mt.z+hi*qn.z,x.normalize(),$.push(x.x,x.y,x.z),p.x=O.x+r*x.x,p.y=O.y+r*x.y,p.z=O.z+r*x.z,F.push(p.x,p.y,p.z)}}function ke(){for(let gt=1;gt<=n;gt++)for(let Mt=1;Mt<=o;Mt++){const qn=(o+1)*(gt-1)+(Mt-1),ri=(o+1)*gt+(Mt-1),Pi=(o+1)*gt+Mt,hi=(o+1)*(gt-1)+Mt;G.push(qn,ri,hi),G.push(ri,Pi,hi)}}function mt(){for(let gt=0;gt<=n;gt++)for(let Mt=0;Mt<=o;Mt++)S.x=gt/n,S.y=Mt/o,V.push(S.x,S.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Sd(new Ca[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class kd extends In{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,o=new ct,c=new ct;if(e.index!==null){const h=e.attributes.position,p=e.index;let x=e.groups;x.length===0&&(x=[{start:0,count:p.count,materialIndex:0}]);for(let S=0,O=x.length;S<O;++S){const F=x[S],$=F.start,V=F.count;for(let G=$,me=$+V;G<me;G+=3)for(let De=0;De<3;De++){const ke=p.getX(G+De),mt=p.getX(G+(De+1)%3);o.fromBufferAttribute(h,ke),c.fromBufferAttribute(h,mt),Hd(o,c,r)===!0&&(n.push(o.x,o.y,o.z),n.push(c.x,c.y,c.z))}}}else{const h=e.attributes.position;for(let p=0,x=h.count/3;p<x;p++)for(let S=0;S<3;S++){const O=3*p+S,F=3*p+(S+1)%3;o.fromBufferAttribute(h,O),c.fromBufferAttribute(h,F),Hd(o,c,r)===!0&&(n.push(o.x,o.y,o.z),n.push(c.x,c.y,c.z))}}this.setAttribute("position",new cr(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Hd(w,e,n){const r=`${w.x},${w.y},${w.z}-${e.x},${e.y},${e.z}`,o=`${e.x},${e.y},${e.z}-${w.x},${w.y},${w.z}`;return n.has(r)===!0||n.has(o)===!0?!1:(n.add(r),n.add(o),!0)}var Vd=Object.freeze({__proto__:null,BoxGeometry:Wt,CapsuleGeometry:vc,CircleGeometry:Ac,ConeGeometry:oc,CylinderGeometry:Kl,DodecahedronGeometry:Kc,EdgesGeometry:Lh,ExtrudeGeometry:pd,IcosahedronGeometry:md,LatheGeometry:wl,OctahedronGeometry:Gu,PlaneGeometry:Zu,PolyhedronGeometry:ac,RingGeometry:gd,ShapeGeometry:vd,SphereGeometry:Xu,TetrahedronGeometry:yd,TorusGeometry:xd,TorusKnotGeometry:bd,TubeGeometry:Sd,WireframeGeometry:kd});class nf extends null{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Rn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class rf extends null{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class sf extends null{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Rn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class of extends null{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new sn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Di(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class af extends null{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Rn(16777215),this.specular=new Rn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.combine=Ei,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lf extends null{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Rn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class cf extends null{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class uf extends null{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Rn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.combine=Ei,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jd extends yr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=za,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Wd extends yr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class df extends null{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ra,this.normalScale=new sn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hf extends null{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Eu(w,e){return!w||w.constructor===e?w:typeof e.BYTES_PER_ELEMENT=="number"?new e(w):Array.prototype.slice.call(w)}function Gd(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)}function Zd(w){function e(o,c){return w[o]-w[c]}const n=w.length,r=new Array(n);for(let o=0;o!==n;++o)r[o]=o;return r.sort(e),r}function Cd(w,e,n){const r=w.length,o=new w.constructor(r);for(let c=0,h=0;h!==r;++c){const p=n[c]*e;for(let x=0;x!==e;++x)o[h++]=w[p+x]}return o}function _d(w,e,n,r){let o=1,c=w[0];for(;c!==void 0&&c[r]===void 0;)c=w[o++];if(c===void 0)return;let h=c[r];if(h!==void 0)if(Array.isArray(h))do h=c[r],h!==void 0&&(e.push(c.time),n.push(...h)),c=w[o++];while(c!==void 0);else if(h.toArray!==void 0)do h=c[r],h!==void 0&&(e.push(c.time),h.toArray(n,n.length)),c=w[o++];while(c!==void 0);else do h=c[r],h!==void 0&&(e.push(c.time),n.push(h)),c=w[o++];while(c!==void 0)}function ff(w,e,n,r,o=30){const c=w.clone();c.name=e;const h=[];for(let x=0;x<c.tracks.length;++x){const S=c.tracks[x],O=S.getValueSize(),F=[],$=[];for(let V=0;V<S.times.length;++V){const G=S.times[V]*o;if(!(G<n||G>=r)){F.push(S.times[V]);for(let me=0;me<O;++me)$.push(S.values[V*O+me])}}F.length!==0&&(S.times=Eu(F,S.times.constructor),S.values=Eu($,S.values.constructor),h.push(S))}c.tracks=h;let p=1/0;for(let x=0;x<c.tracks.length;++x)p>c.tracks[x].times[0]&&(p=c.tracks[x].times[0]);for(let x=0;x<c.tracks.length;++x)c.tracks[x].shift(-1*p);return c.resetDuration(),c}function pf(w,e=0,n=w,r=30){r<=0&&(r=30);const o=n.tracks.length,c=e/r;for(let h=0;h<o;++h){const p=n.tracks[h],x=p.ValueTypeName;if(x==="bool"||x==="string")continue;const S=w.tracks.find(function(ke){return ke.name===p.name&&ke.ValueTypeName===x});if(S===void 0)continue;let O=0;const F=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(O=F/3);let $=0;const V=S.getValueSize();S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&($=V/3);const G=p.times.length-1;let me;if(c<=p.times[0]){const ke=O,mt=F-O;me=p.values.slice(ke,mt)}else if(c>=p.times[G]){const ke=G*F+O,mt=ke+F-O;me=p.values.slice(ke,mt)}else{const ke=p.createInterpolant(),mt=O,gt=F-O;ke.evaluate(c),me=ke.resultBuffer.slice(mt,gt)}x==="quaternion"&&new Tl().fromArray(me).normalize().conjugate().toArray(me);const De=S.times.length;for(let ke=0;ke<De;++ke){const mt=ke*V+$;if(x==="quaternion")Tl.multiplyQuaternionsFlat(S.values,mt,me,0,S.values,mt);else{const gt=V-$*2;for(let Mt=0;Mt<gt;++Mt)S.values[mt+Mt]-=me[Mt]}}}return w.blendMode=Uo,w}class yp{static convertArray(e,n){return Eu(e,n)}static isTypedArray(e){return Gd(e)}static getKeyframeOrder(e){return Zd(e)}static sortedArray(e,n,r){return Cd(e,n,r)}static flattenJSON(e,n,r,o){_d(e,n,r,o)}static subclip(e,n,r,o,c=30){return ff(e,n,r,o,c)}static makeClipAdditive(e,n=0,r=e,o=30){return pf(e,n,r,o)}}class Yu{constructor(e,n,r,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,o=n[r],c=n[r-1];e:{t:{let h;n:{i:if(!(e<o)){for(let p=r+2;;){if(o===void 0){if(e<c)break i;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===p)break;if(c=o,o=n[++r],e<o)break t}h=n.length;break n}if(!(e>=c)){const p=n[1];e<p&&(r=2,c=p);for(let x=r-2;;){if(c===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===x)break;if(o=c,c=n[--r-1],e>=c)break t}h=r,r=0;break n}break e}for(;r<h;){const p=r+h>>>1;e<n[p]?h=p:r=p+1}if(o=n[r],c=n[r-1],c===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,c,o)}return this.interpolate_(r,c,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,c=e*o;for(let h=0;h!==o;++h)n[h]=r[c+h];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mf extends Yu{constructor(e,n,r,o){super(e,n,r,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Jr,endingEnd:Jr}}intervalChanged_(e,n,r){const o=this.parameterPositions;let c=e-2,h=e+1,p=o[c],x=o[h];if(p===void 0)switch(this.getSettings_().endingStart){case fr:c=e,p=2*n-r;break;case ai:c=o.length-2,p=n+o[c]-o[c+1];break;default:c=e,p=r}if(x===void 0)switch(this.getSettings_().endingEnd){case fr:h=e,x=2*r-n;break;case ai:h=1,x=r+o[1]-o[0];break;default:h=e-1,x=n}const S=(r-n)*.5,O=this.valueSize;this._weightPrev=S/(n-p),this._weightNext=S/(x-r),this._offsetPrev=c*O,this._offsetNext=h*O}interpolate_(e,n,r,o){const c=this.resultBuffer,h=this.sampleValues,p=this.valueSize,x=e*p,S=x-p,O=this._offsetPrev,F=this._offsetNext,$=this._weightPrev,V=this._weightNext,G=(r-n)/(o-n),me=G*G,De=me*G,ke=-$*De+2*$*me-$*G,mt=(1+$)*De+(-1.5-2*$)*me+(-.5+$)*G+1,gt=(-1-V)*De+(1.5+V)*me+.5*G,Mt=V*De-V*me;for(let qn=0;qn!==p;++qn)c[qn]=ke*h[O+qn]+mt*h[S+qn]+gt*h[x+qn]+Mt*h[F+qn];return c}}class Xd extends Yu{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const c=this.resultBuffer,h=this.sampleValues,p=this.valueSize,x=e*p,S=x-p,O=(r-n)/(o-n),F=1-O;for(let $=0;$!==p;++$)c[$]=h[S+$]*F+h[x+$]*O;return c}}class gf extends Yu{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class qc{constructor(e,n,r,o){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Eu(n,this.TimeBufferType),this.values=Eu(r,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Eu(e.times,Array),values:Eu(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(r.interpolation=o)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new gf(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Xd(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mf(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case wa:n=this.InterpolantFactoryMethodDiscrete;break;case Ua:n=this.InterpolantFactoryMethodLinear;break;case Pa:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return wa;case this.InterpolantFactoryMethodLinear:return Ua;case this.InterpolantFactoryMethodSmooth:return Pa}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]*=e}return this}trim(e,n){const r=this.times,o=r.length;let c=0,h=o-1;for(;c!==o&&r[c]<e;)++c;for(;h!==-1&&r[h]>n;)--h;if(++h,c!==0||h!==o){c>=h&&(h=Math.max(h,1),c=h-1);const p=this.getValueSize();this.times=r.slice(c,h),this.values=this.values.slice(c*p,h*p)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,o=this.values,c=r.length;c===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let h=null;for(let p=0;p!==c;p++){const x=r[p];if(typeof x=="number"&&isNaN(x)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,p,x),e=!1;break}if(h!==null&&h>x){console.error("THREE.KeyframeTrack: Out of order keys.",this,p,x,h),e=!1;break}h=x}if(o!==void 0&&Gd(o))for(let p=0,x=o.length;p!==x;++p){const S=o[p];if(isNaN(S)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,p,S),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),o=this.getInterpolation()===Pa,c=e.length-1;let h=1;for(let p=1;p<c;++p){let x=!1;const S=e[p],O=e[p+1];if(S!==O&&(p!==1||S!==e[0]))if(o)x=!0;else{const F=p*r,$=F-r,V=F+r;for(let G=0;G!==r;++G){const me=n[F+G];if(me!==n[$+G]||me!==n[V+G]){x=!0;break}}}if(x){if(p!==h){e[h]=e[p];const F=p*r,$=h*r;for(let V=0;V!==r;++V)n[$+V]=n[F+V]}++h}}if(c>0){e[h]=e[c];for(let p=c*r,x=h*r,S=0;S!==r;++S)n[x+S]=n[p+S];++h}return h!==e.length?(this.times=e.slice(0,h),this.values=n.slice(0,h*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,o=new r(this.name,e,n);return o.createInterpolant=this.createInterpolant,o}}qc.prototype.ValueTypeName="",qc.prototype.TimeBufferType=Float32Array,qc.prototype.ValueBufferType=Float32Array,qc.prototype.DefaultInterpolation=Ua;class Fu extends qc{constructor(e,n,r){super(e,n,r)}}Fu.prototype.ValueTypeName="bool",Fu.prototype.ValueBufferType=Array,Fu.prototype.DefaultInterpolation=wa,Fu.prototype.InterpolantFactoryMethodLinear=void 0,Fu.prototype.InterpolantFactoryMethodSmooth=void 0;class Yd extends qc{constructor(e,n,r,o){super(e,n,r,o)}}Yd.prototype.ValueTypeName="color";class Ku extends qc{constructor(e,n,r,o){super(e,n,r,o)}}Ku.prototype.ValueTypeName="number";class vf extends Yu{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const c=this.resultBuffer,h=this.sampleValues,p=this.valueSize,x=(r-n)/(o-n);let S=e*p;for(let O=S+p;S!==O;S+=4)Tl.slerpFlat(c,0,h,S-p,h,S,x);return c}}class qu extends qc{constructor(e,n,r,o){super(e,n,r,o)}InterpolantFactoryMethodLinear(e){return new vf(this.times,this.values,this.getValueSize(),e)}}qu.prototype.ValueTypeName="quaternion",qu.prototype.InterpolantFactoryMethodSmooth=void 0;class Bu extends qc{constructor(e,n,r){super(e,n,r)}}Bu.prototype.ValueTypeName="string",Bu.prototype.ValueBufferType=Array,Bu.prototype.DefaultInterpolation=wa,Bu.prototype.InterpolantFactoryMethodLinear=void 0,Bu.prototype.InterpolantFactoryMethodSmooth=void 0;class Ju extends qc{constructor(e,n,r,o){super(e,n,r,o)}}Ju.prototype.ValueTypeName="vector";class Qu{constructor(e="",n=-1,r=[],o=_s){this.name=e,this.tracks=r,this.duration=n,this.blendMode=o,this.uuid=Ar(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,o=1/(e.fps||1);for(let h=0,p=r.length;h!==p;++h)n.push(xf(r[h]).scale(o));const c=new this(e.name,e.duration,n,e.blendMode);return c.uuid=e.uuid,c}static toJSON(e){const n=[],r=e.tracks,o={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let c=0,h=r.length;c!==h;++c)n.push(qc.toJSON(r[c]));return o}static CreateFromMorphTargetSequence(e,n,r,o){const c=n.length,h=[];for(let p=0;p<c;p++){let x=[],S=[];x.push((p+c-1)%c,p,(p+1)%c),S.push(0,1,0);const O=Zd(x);x=Cd(x,1,O),S=Cd(S,1,O),!o&&x[0]===0&&(x.push(c),S.push(S[0])),h.push(new Ku(".morphTargetInfluences["+n[p].name+"]",x,S).scale(1/r))}return new this(e,-1,h)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const o=e;r=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<r.length;o++)if(r[o].name===n)return r[o];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const o={},c=/^([\w-]*?)([\d]+)$/;for(let p=0,x=e.length;p<x;p++){const S=e[p],O=S.name.match(c);if(O&&O.length>1){const F=O[1];let $=o[F];$||(o[F]=$=[]),$.push(S)}}const h=[];for(const p in o)h.push(this.CreateFromMorphTargetSequence(p,o[p],n,r));return h}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(F,$,V,G,me){if(V.length!==0){const De=[],ke=[];_d(V,De,ke,G),De.length!==0&&me.push(new F($,De,ke))}},o=[],c=e.name||"default",h=e.fps||30,p=e.blendMode;let x=e.length||-1;const S=e.hierarchy||[];for(let F=0;F<S.length;F++){const $=S[F].keys;if(!(!$||$.length===0))if($[0].morphTargets){const V={};let G;for(G=0;G<$.length;G++)if($[G].morphTargets)for(let me=0;me<$[G].morphTargets.length;me++)V[$[G].morphTargets[me]]=-1;for(const me in V){const De=[],ke=[];for(let mt=0;mt!==$[G].morphTargets.length;++mt){const gt=$[G];De.push(gt.time),ke.push(gt.morphTarget===me?1:0)}o.push(new Ku(".morphTargetInfluence["+me+"]",De,ke))}x=V.length*h}else{const V=".bones["+n[F].name+"]";r(Ju,V+".position",$,"pos",o),r(qu,V+".quaternion",$,"rot",o),r(Ju,V+".scale",$,"scl",o)}}return o.length===0?null:new this(c,x,o,p)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,o=e.length;r!==o;++r){const c=this.tracks[r];n=Math.max(n,c.times[c.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function yf(w){switch(w.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ku;case"vector":case"vector2":case"vector3":case"vector4":return Ju;case"color":return Yd;case"quaternion":return qu;case"bool":case"boolean":return Fu;case"string":return Bu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+w)}function xf(w){if(w.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=yf(w.type);if(w.times===void 0){const n=[],r=[];_d(w.keys,n,r,"value"),w.times=n,w.values=r}return e.parse!==void 0?e.parse(w):new e(w.name,w.times,w.values,w.interpolation)}const gu={enabled:!1,files:{},add:function(w,e){this.enabled!==!1&&(this.files[w]=e)},get:function(w){if(this.enabled!==!1)return this.files[w]},remove:function(w){delete this.files[w]},clear:function(){this.files={}}};class Kd{constructor(e,n,r){const o=this;let c=!1,h=0,p=0,x;const S=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(O){p++,c===!1&&o.onStart!==void 0&&o.onStart(O,h,p),c=!0},this.itemEnd=function(O){h++,o.onProgress!==void 0&&o.onProgress(O,h,p),h===p&&(c=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(O){o.onError!==void 0&&o.onError(O)},this.resolveURL=function(O){return x?x(O):O},this.setURLModifier=function(O){return x=O,this},this.addHandler=function(O,F){return S.push(O,F),this},this.removeHandler=function(O){const F=S.indexOf(O);return F!==-1&&S.splice(F,2),this},this.getHandler=function(O){for(let F=0,$=S.length;F<$;F+=2){const V=S[F],G=S[F+1];if(V.global&&(V.lastIndex=0),V.test(O))return G}return null}}}const bf=new Kd;class Sf{constructor(e){this.manager=e!==void 0?e:bf,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(o,c){r.load(e,o,n,c)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Sf.DEFAULT_MATERIAL_NAME="__DEFAULT";const au={};class Cf extends null{constructor(e,n){super(e),this.response=n}}class vu extends null{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const c=gu.get(e);if(c!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(c),this.manager.itemEnd(e)},0),c;if(au[e]!==void 0){au[e].push({onLoad:n,onProgress:r,onError:o});return}au[e]=[],au[e].push({onLoad:n,onProgress:r,onError:o});const h=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),p=this.mimeType,x=this.responseType;fetch(h).then(S=>{if(S.status===200||S.status===0){if(S.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||S.body===void 0||S.body.getReader===void 0)return S;const O=au[e],F=S.body.getReader(),$=S.headers.get("X-File-Size")||S.headers.get("Content-Length"),V=$?parseInt($):0,G=V!==0;let me=0;const De=new ReadableStream({start(ke){mt();function mt(){F.read().then(({done:gt,value:Mt})=>{if(gt)ke.close();else{me+=Mt.byteLength;const qn=new ProgressEvent("progress",{lengthComputable:G,loaded:me,total:V});for(let ri=0,Pi=O.length;ri<Pi;ri++){const hi=O[ri];hi.onProgress&&hi.onProgress(qn)}ke.enqueue(Mt),mt()}},gt=>{ke.error(gt)})}}});return new Response(De)}else throw new Cf(`fetch for "${S.url}" responded with ${S.status}: ${S.statusText}`,S)}).then(S=>{switch(x){case"arraybuffer":return S.arrayBuffer();case"blob":return S.blob();case"document":return S.text().then(O=>new DOMParser().parseFromString(O,p));case"json":return S.json();default:if(p==="")return S.text();{const F=/charset="?([^;"\s]*)"?/i.exec(p),$=F&&F[1]?F[1].toLowerCase():void 0,V=new TextDecoder($);return S.arrayBuffer().then(G=>V.decode(G))}}}).then(S=>{gu.add(e,S);const O=au[e];delete au[e];for(let F=0,$=O.length;F<$;F++){const V=O[F];V.onLoad&&V.onLoad(S)}}).catch(S=>{const O=au[e];if(O===void 0)throw this.manager.itemError(e),S;delete au[e];for(let F=0,$=O.length;F<$;F++){const V=O[F];V.onError&&V.onError(S)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xp extends null{constructor(e){super(e)}load(e,n,r,o){const c=this,h=new vu(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(p){try{n(c.parse(JSON.parse(p)))}catch(x){o?o(x):console.error(x),c.manager.itemError(e)}},r,o)}parse(e){const n=[];for(let r=0;r<e.length;r++){const o=Qu.parse(e[r]);n.push(o)}return n}}class bp extends null{constructor(e){super(e)}load(e,n,r,o){const c=this,h=[],p=new i,x=new vu(this.manager);x.setPath(this.path),x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setWithCredentials(c.withCredentials);let S=0;function O(F){x.load(e[F],function($){const V=c.parse($,!0);h[F]={width:V.width,height:V.height,format:V.format,mipmaps:V.mipmaps},S+=1,S===6&&(V.mipmapCount===1&&(p.minFilter=$n),p.image=h,p.format=V.format,p.needsUpdate=!0,n&&n(p))},r,o)}if(Array.isArray(e))for(let F=0,$=e.length;F<$;++F)O(F);else x.load(e,function(F){const $=c.parse(F,!0);if($.isCubemap){const V=$.mipmaps.length/$.mipmapCount;for(let G=0;G<V;G++){h[G]={mipmaps:[]};for(let me=0;me<$.mipmapCount;me++)h[G].mipmaps.push($.mipmaps[G*$.mipmapCount+me]),h[G].format=$.format,h[G].width=$.width,h[G].height=$.height}p.image=h}else p.image.width=$.width,p.image.height=$.height,p.mipmaps=$.mipmaps;$.mipmapCount===1&&(p.minFilter=$n),p.format=$.format,p.needsUpdate=!0,n&&n(p)},r,o);return p}}class ed extends null{constructor(e){super(e)}load(e,n,r,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const c=this,h=gu.get(e);if(h!==void 0)return c.manager.itemStart(e),setTimeout(function(){n&&n(h),c.manager.itemEnd(e)},0),h;const p=Ve("img");function x(){O(),gu.add(e,this),n&&n(this),c.manager.itemEnd(e)}function S(F){O(),o&&o(F),c.manager.itemError(e),c.manager.itemEnd(e)}function O(){p.removeEventListener("load",x,!1),p.removeEventListener("error",S,!1)}return p.addEventListener("load",x,!1),p.addEventListener("error",S,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(p.crossOrigin=this.crossOrigin),c.manager.itemStart(e),p.src=e,p}}class Sp extends null{constructor(e){super(e)}load(e,n,r,o){const c=new Lc;c.colorSpace=Jo;const h=new ed(this.manager);h.setCrossOrigin(this.crossOrigin),h.setPath(this.path);let p=0;function x(S){h.load(e[S],function(O){c.images[S]=O,p++,p===6&&(c.needsUpdate=!0,n&&n(c))},void 0,o)}for(let S=0;S<e.length;++S)x(S);return c}}class Cp extends null{constructor(e){super(e)}load(e,n,r,o){const c=this,h=new br,p=new vu(this.manager);return p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setPath(this.path),p.setWithCredentials(c.withCredentials),p.load(e,function(x){let S;try{S=c.parse(x)}catch(O){if(o!==void 0)o(O);else{console.error(O);return}}S.image!==void 0?h.image=S.image:S.data!==void 0&&(h.image.width=S.width,h.image.height=S.height,h.image.data=S.data),h.wrapS=S.wrapS!==void 0?S.wrapS:Ot,h.wrapT=S.wrapT!==void 0?S.wrapT:Ot,h.magFilter=S.magFilter!==void 0?S.magFilter:$n,h.minFilter=S.minFilter!==void 0?S.minFilter:$n,h.anisotropy=S.anisotropy!==void 0?S.anisotropy:1,S.colorSpace!==void 0&&(h.colorSpace=S.colorSpace),S.flipY!==void 0&&(h.flipY=S.flipY),S.format!==void 0&&(h.format=S.format),S.type!==void 0&&(h.type=S.type),S.mipmaps!==void 0&&(h.mipmaps=S.mipmaps,h.minFilter=Ir),S.mipmapCount===1&&(h.minFilter=$n),S.generateMipmaps!==void 0&&(h.generateMipmaps=S.generateMipmaps),h.needsUpdate=!0,n&&n(h,S)},r,o),h}}class _p extends null{constructor(e){super(e)}load(e,n,r,o){const c=new jo,h=new ed(this.manager);return h.setCrossOrigin(this.crossOrigin),h.setPath(this.path),h.load(e,function(p){c.image=p,c.needsUpdate=!0,n!==void 0&&n(c)},r,o),c}}class wp extends null{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Rn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class _f extends null{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rn(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const wd=new Io,qd=new ct,Jd=new ct;class Mp{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new sn(512,512),this.map=null,this.mapPass=null,this.matrix=new Io,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new uo,this._frameExtents=new sn(1,1),this._viewportCount=1,this._viewports=[new la(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;qd.setFromMatrixPosition(e.matrixWorld),n.position.copy(qd),Jd.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Jd),n.updateMatrixWorld(),wd.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wd),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(wd)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class wf extends null{constructor(){super(new Gl(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Yi*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,c=e.distance||n.far;(r!==n.fov||o!==n.aspect||c!==n.far)&&(n.fov=r,n.aspect=o,n.far=c,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Mf extends null{constructor(e,n,r=0,o=Math.PI/3,c=0,h=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zt.DEFAULT_UP),this.updateMatrix(),this.target=new Zt,this.distance=r,this.angle=o,this.penumbra=c,this.decay=h,this.map=null,this.shadow=new wf}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Qd=new Io,Hu=new ct,Md=new ct;class Ef extends null{constructor(){super(new Gl(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new sn(4,2),this._viewportCount=6,this._viewports=[new la(2,1,1,1),new la(0,1,1,1),new la(3,1,1,1),new la(1,1,1,1),new la(3,0,1,1),new la(1,0,1,1)],this._cubeDirections=[new ct(1,0,0),new ct(-1,0,0),new ct(0,0,1),new ct(0,0,-1),new ct(0,1,0),new ct(0,-1,0)],this._cubeUps=[new ct(0,1,0),new ct(0,1,0),new ct(0,1,0),new ct(0,1,0),new ct(0,0,1),new ct(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,o=this.matrix,c=e.distance||r.far;c!==r.far&&(r.far=c,r.updateProjectionMatrix()),Hu.setFromMatrixPosition(e.matrixWorld),r.position.copy(Hu),Md.copy(r.position),Md.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(Md),r.updateMatrixWorld(),o.makeTranslation(-Hu.x,-Hu.y,-Hu.z),Qd.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qd)}}class Tf extends null{constructor(e,n,r=0,o=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new Ef}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ed extends ma{constructor(e=-1,n=1,r=1,o=-1,c=.1,h=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=o,this.near=c,this.far=h,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,o,c,h){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=c,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let c=r-e,h=r+e,p=o+n,x=o-n;if(this.view!==null&&this.view.enabled){const S=(this.right-this.left)/this.view.fullWidth/this.zoom,O=(this.top-this.bottom)/this.view.fullHeight/this.zoom;c+=S*this.view.offsetX,h=c+S*this.view.width,p-=O*this.view.offsetY,x=p-O*this.view.height}this.projectionMatrix.makeOrthographic(c,h,p,x,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Af extends null{constructor(){super(new Ed(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Pf extends null{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zt.DEFAULT_UP),this.updateMatrix(),this.target=new Zt,this.shadow=new Af}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Of extends null{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Rf extends null{constructor(e,n,r=10,o=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=o}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class If{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ct)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,o=e.y,c=e.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.282095),n.addScaledVector(h[1],.488603*o),n.addScaledVector(h[2],.488603*c),n.addScaledVector(h[3],.488603*r),n.addScaledVector(h[4],1.092548*(r*o)),n.addScaledVector(h[5],1.092548*(o*c)),n.addScaledVector(h[6],.315392*(3*c*c-1)),n.addScaledVector(h[7],1.092548*(r*c)),n.addScaledVector(h[8],.546274*(r*r-o*o)),n}getIrradianceAt(e,n){const r=e.x,o=e.y,c=e.z,h=this.coefficients;return n.copy(h[0]).multiplyScalar(.886227),n.addScaledVector(h[1],2*.511664*o),n.addScaledVector(h[2],2*.511664*c),n.addScaledVector(h[3],2*.511664*r),n.addScaledVector(h[4],2*.429043*r*o),n.addScaledVector(h[5],2*.429043*o*c),n.addScaledVector(h[6],.743125*c*c-.247708),n.addScaledVector(h[7],2*.429043*r*c),n.addScaledVector(h[8],.429043*(r*r-o*o)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].fromArray(e,n+o*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].toArray(e,n+o*3);return e}static getBasisAt(e,n){const r=e.x,o=e.y,c=e.z;n[0]=.282095,n[1]=.488603*o,n[2]=.488603*c,n[3]=.488603*r,n[4]=1.092548*r*o,n[5]=1.092548*o*c,n[6]=.315392*(3*c*c-1),n[7]=1.092548*r*c,n[8]=.546274*(r*r-o*o)}}class Df extends null{constructor(e=new If,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Td extends null{constructor(e){super(e),this.textures={}}load(e,n,r,o){const c=this,h=new vu(c.manager);h.setPath(c.path),h.setRequestHeader(c.requestHeader),h.setWithCredentials(c.withCredentials),h.load(e,function(p){try{n(c.parse(JSON.parse(p)))}catch(x){o?o(x):console.error(x),c.manager.itemError(e)}},r,o)}parse(e){const n=this.textures;function r(c){return n[c]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",c),n[c]}const o=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(o.uuid=e.uuid),e.name!==void 0&&(o.name=e.name),e.color!==void 0&&o.color!==void 0&&o.color.setHex(e.color),e.roughness!==void 0&&(o.roughness=e.roughness),e.metalness!==void 0&&(o.metalness=e.metalness),e.sheen!==void 0&&(o.sheen=e.sheen),e.sheenColor!==void 0&&(o.sheenColor=new Rn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(o.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&o.emissive!==void 0&&o.emissive.setHex(e.emissive),e.specular!==void 0&&o.specular!==void 0&&o.specular.setHex(e.specular),e.specularIntensity!==void 0&&(o.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&o.specularColor!==void 0&&o.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(o.shininess=e.shininess),e.clearcoat!==void 0&&(o.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(o.dispersion=e.dispersion),e.iridescence!==void 0&&(o.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(o.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(o.transmission=e.transmission),e.thickness!==void 0&&(o.thickness=e.thickness),e.attenuationDistance!==void 0&&(o.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&o.attenuationColor!==void 0&&o.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(o.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(o.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(o.fog=e.fog),e.flatShading!==void 0&&(o.flatShading=e.flatShading),e.blending!==void 0&&(o.blending=e.blending),e.combine!==void 0&&(o.combine=e.combine),e.side!==void 0&&(o.side=e.side),e.shadowSide!==void 0&&(o.shadowSide=e.shadowSide),e.opacity!==void 0&&(o.opacity=e.opacity),e.transparent!==void 0&&(o.transparent=e.transparent),e.alphaTest!==void 0&&(o.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(o.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(o.depthFunc=e.depthFunc),e.depthTest!==void 0&&(o.depthTest=e.depthTest),e.depthWrite!==void 0&&(o.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(o.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(o.blendSrc=e.blendSrc),e.blendDst!==void 0&&(o.blendDst=e.blendDst),e.blendEquation!==void 0&&(o.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(o.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(o.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(o.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&o.blendColor!==void 0&&o.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(o.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(o.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(o.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(o.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(o.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(o.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(o.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(o.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(o.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(o.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(o.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(o.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(o.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(o.rotation=e.rotation),e.linewidth!==void 0&&(o.linewidth=e.linewidth),e.dashSize!==void 0&&(o.dashSize=e.dashSize),e.gapSize!==void 0&&(o.gapSize=e.gapSize),e.scale!==void 0&&(o.scale=e.scale),e.polygonOffset!==void 0&&(o.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(o.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(o.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(o.dithering=e.dithering),e.alphaToCoverage!==void 0&&(o.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(o.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(o.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(o.visible=e.visible),e.toneMapped!==void 0&&(o.toneMapped=e.toneMapped),e.userData!==void 0&&(o.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?o.vertexColors=e.vertexColors>0:o.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const c in e.uniforms){const h=e.uniforms[c];switch(o.uniforms[c]={},h.type){case"t":o.uniforms[c].value=r(h.value);break;case"c":o.uniforms[c].value=new Rn().setHex(h.value);break;case"v2":o.uniforms[c].value=new sn().fromArray(h.value);break;case"v3":o.uniforms[c].value=new ct().fromArray(h.value);break;case"v4":o.uniforms[c].value=new la().fromArray(h.value);break;case"m3":o.uniforms[c].value=new ar().fromArray(h.value);break;case"m4":o.uniforms[c].value=new Io().fromArray(h.value);break;default:o.uniforms[c].value=h.value}}if(e.defines!==void 0&&(o.defines=e.defines),e.vertexShader!==void 0&&(o.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(o.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(o.glslVersion=e.glslVersion),e.extensions!==void 0)for(const c in e.extensions)o.extensions[c]=e.extensions[c];if(e.lights!==void 0&&(o.lights=e.lights),e.clipping!==void 0&&(o.clipping=e.clipping),e.size!==void 0&&(o.size=e.size),e.sizeAttenuation!==void 0&&(o.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(o.map=r(e.map)),e.matcap!==void 0&&(o.matcap=r(e.matcap)),e.alphaMap!==void 0&&(o.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(o.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(o.bumpScale=e.bumpScale),e.normalMap!==void 0&&(o.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(o.normalMapType=e.normalMapType),e.normalScale!==void 0){let c=e.normalScale;Array.isArray(c)===!1&&(c=[c,c]),o.normalScale=new sn().fromArray(c)}return e.displacementMap!==void 0&&(o.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(o.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(o.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(o.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(o.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(o.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(o.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(o.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(o.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(o.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(o.envMap=r(e.envMap)),e.envMapRotation!==void 0&&o.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(o.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(o.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(o.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(o.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(o.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(o.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(o.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(o.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(o.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(o.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(o.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(o.clearcoatNormalScale=new sn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(o.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(o.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(o.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(o.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(o.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(o.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(o.sheenRoughnessMap=r(e.sheenRoughnessMap)),o}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Td.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:nf,SpriteMaterial:Ie,RawShaderMaterial:rf,ShaderMaterial:qa,PointsMaterial:Ls,MeshPhysicalMaterial:of,MeshStandardMaterial:sf,MeshPhongMaterial:af,MeshToonMaterial:lf,MeshNormalMaterial:cf,MeshLambertMaterial:uf,MeshDepthMaterial:jd,MeshDistanceMaterial:Wd,MeshBasicMaterial:Wn,MeshMatcapMaterial:df,LineDashedMaterial:hf,LineBasicMaterial:xa,Material:yr};return new n[e]}}class eh{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class th extends In{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Lf extends null{constructor(e){super(e)}load(e,n,r,o){const c=this,h=new vu(c.manager);h.setPath(c.path),h.setRequestHeader(c.requestHeader),h.setWithCredentials(c.withCredentials),h.load(e,function(p){try{n(c.parse(JSON.parse(p)))}catch(x){o?o(x):console.error(x),c.manager.itemError(e)}},r,o)}parse(e){const n={},r={};function o(V,G){if(n[G]!==void 0)return n[G];const De=V.interleavedBuffers[G],ke=c(V,De.buffer),mt=xe(De.type,ke),gt=new I(mt,De.stride);return gt.uuid=De.uuid,n[G]=gt,gt}function c(V,G){if(r[G]!==void 0)return r[G];const De=V.arrayBuffers[G],ke=new Uint32Array(De).buffer;return r[G]=ke,ke}const h=e.isInstancedBufferGeometry?new th:new In,p=e.data.index;if(p!==void 0){const V=xe(p.type,p.array);h.setIndex(new xr(V,1))}const x=e.data.attributes;for(const V in x){const G=x[V];let me;if(G.isInterleavedBufferAttribute){const De=o(e.data,G.data);me=new Se(De,G.itemSize,G.offset,G.normalized)}else{const De=xe(G.type,G.array),ke=G.isInstancedBufferAttribute?Ks:xr;me=new ke(De,G.itemSize,G.normalized)}G.name!==void 0&&(me.name=G.name),G.usage!==void 0&&me.setUsage(G.usage),h.setAttribute(V,me)}const S=e.data.morphAttributes;if(S)for(const V in S){const G=S[V],me=[];for(let De=0,ke=G.length;De<ke;De++){const mt=G[De];let gt;if(mt.isInterleavedBufferAttribute){const Mt=o(e.data,mt.data);gt=new Se(Mt,mt.itemSize,mt.offset,mt.normalized)}else{const Mt=xe(mt.type,mt.array);gt=new xr(Mt,mt.itemSize,mt.normalized)}mt.name!==void 0&&(gt.name=mt.name),me.push(gt)}h.morphAttributes[V]=me}e.data.morphTargetsRelative&&(h.morphTargetsRelative=!0);const F=e.data.groups||e.data.drawcalls||e.data.offsets;if(F!==void 0)for(let V=0,G=F.length;V!==G;++V){const me=F[V];h.addGroup(me.start,me.count,me.materialIndex)}const $=e.data.boundingSphere;if($!==void 0){const V=new ct;$.center!==void 0&&V.fromArray($.center),h.boundingSphere=new Al(V,$.radius)}return e.name&&(h.name=e.name),e.userData&&(h.userData=e.userData),h}}class Ep extends null{constructor(e){super(e)}load(e,n,r,o){const c=this,h=this.path===""?eh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||h;const p=new vu(this.manager);p.setPath(this.path),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials),p.load(e,function(x){let S=null;try{S=JSON.parse(x)}catch(F){o!==void 0&&o(F),console.error("THREE:ObjectLoader: Can't parse "+e+".",F.message);return}const O=S.metadata;if(O===void 0||O.type===void 0||O.type.toLowerCase()==="geometry"){o!==void 0&&o(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}c.parse(S,n)},r,o)}loadAsync(e,n){return Rl(this,null,function*(){const r=this,o=this.path===""?eh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new vu(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials);const h=yield c.loadAsync(e,n),p=JSON.parse(h),x=p.metadata;if(x===void 0||x.type===void 0||x.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield r.parseAsync(p)})}parse(e,n){const r=this.parseAnimations(e.animations),o=this.parseShapes(e.shapes),c=this.parseGeometries(e.geometries,o),h=this.parseImages(e.images,function(){n!==void 0&&n(S)}),p=this.parseTextures(e.textures,h),x=this.parseMaterials(e.materials,p),S=this.parseObject(e.object,c,x,p,r),O=this.parseSkeletons(e.skeletons,S);if(this.bindSkeletons(S,O),this.bindLightTargets(S),n!==void 0){let F=!1;for(const $ in h)if(h[$].data instanceof HTMLImageElement){F=!0;break}F===!1&&n(S)}return S}parseAsync(e){return Rl(this,null,function*(){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),c=yield this.parseImagesAsync(e.images),h=this.parseTextures(e.textures,c),p=this.parseMaterials(e.materials,h),x=this.parseObject(e.object,o,p,h,n),S=this.parseSkeletons(e.skeletons,x);return this.bindSkeletons(x,S),this.bindLightTargets(x),x})}parseShapes(e){const n={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const c=new Lu().fromJSON(e[r]);n[c.uuid]=c}return n}parseSkeletons(e,n){const r={},o={};if(n.traverse(function(c){c.isBone&&(o[c.uuid]=c)}),e!==void 0)for(let c=0,h=e.length;c<h;c++){const p=new ha().fromJSON(e[c],o);r[p.uuid]=p}return r}parseGeometries(e,n){const r={};if(e!==void 0){const o=new Lf;for(let c=0,h=e.length;c<h;c++){let p;const x=e[c];switch(x.type){case"BufferGeometry":case"InstancedBufferGeometry":p=o.parse(x);break;default:x.type in Vd?p=Vd[x.type].fromJSON(x,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${x.type}"`)}p.uuid=x.uuid,x.name!==void 0&&(p.name=x.name),x.userData!==void 0&&(p.userData=x.userData),r[x.uuid]=p}}return r}parseMaterials(e,n){const r={},o={};if(e!==void 0){const c=new Td;c.setTextures(n);for(let h=0,p=e.length;h<p;h++){const x=e[h];r[x.uuid]===void 0&&(r[x.uuid]=c.parse(x)),o[x.uuid]=r[x.uuid]}}return o}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const o=e[r],c=Qu.parse(o);n[c.uuid]=c}return n}parseImages(e,n){const r=this,o={};let c;function h(x){return r.manager.itemStart(x),c.load(x,function(){r.manager.itemEnd(x)},void 0,function(){r.manager.itemError(x),r.manager.itemEnd(x)})}function p(x){if(typeof x=="string"){const S=x,O=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(S)?S:r.resourcePath+S;return h(O)}else return x.data?{data:xe(x.type,x.data),width:x.width,height:x.height}:null}if(e!==void 0&&e.length>0){const x=new Kd(n);c=new ed(x),c.setCrossOrigin(this.crossOrigin);for(let S=0,O=e.length;S<O;S++){const F=e[S],$=F.url;if(Array.isArray($)){const V=[];for(let G=0,me=$.length;G<me;G++){const De=$[G],ke=p(De);ke!==null&&(ke instanceof HTMLImageElement?V.push(ke):V.push(new br(ke.data,ke.width,ke.height)))}o[F.uuid]=new $o(V)}else{const V=p(F.url);o[F.uuid]=new $o(V)}}}return o}parseImagesAsync(e){return Rl(this,null,function*(){const n=this,r={};let o;function c(h){return Rl(this,null,function*(){if(typeof h=="string"){const p=h,x=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return yield o.loadAsync(x)}else return h.data?{data:xe(h.type,h.data),width:h.width,height:h.height}:null})}if(e!==void 0&&e.length>0){o=new ed(this.manager),o.setCrossOrigin(this.crossOrigin);for(let h=0,p=e.length;h<p;h++){const x=e[h],S=x.url;if(Array.isArray(S)){const O=[];for(let F=0,$=S.length;F<$;F++){const V=S[F],G=yield c(V);G!==null&&(G instanceof HTMLImageElement?O.push(G):O.push(new br(G.data,G.width,G.height)))}r[x.uuid]=new $o(O)}else{const O=yield c(x.url);r[x.uuid]=new $o(O)}}}return r})}parseTextures(e,n){function r(c,h){return typeof c=="number"?c:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",c),h[c])}const o={};if(e!==void 0)for(let c=0,h=e.length;c<h;c++){const p=e[c];p.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',p.uuid),n[p.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",p.image);const x=n[p.image],S=x.data;let O;Array.isArray(S)?(O=new Lc,S.length===6&&(O.needsUpdate=!0)):(S&&S.data?O=new br:O=new jo,S&&(O.needsUpdate=!0)),O.source=x,O.uuid=p.uuid,p.name!==void 0&&(O.name=p.name),p.mapping!==void 0&&(O.mapping=r(p.mapping,Nf)),p.channel!==void 0&&(O.channel=p.channel),p.offset!==void 0&&O.offset.fromArray(p.offset),p.repeat!==void 0&&O.repeat.fromArray(p.repeat),p.center!==void 0&&O.center.fromArray(p.center),p.rotation!==void 0&&(O.rotation=p.rotation),p.wrap!==void 0&&(O.wrapS=r(p.wrap[0],nh),O.wrapT=r(p.wrap[1],nh)),p.format!==void 0&&(O.format=p.format),p.internalFormat!==void 0&&(O.internalFormat=p.internalFormat),p.type!==void 0&&(O.type=p.type),p.colorSpace!==void 0&&(O.colorSpace=p.colorSpace),p.minFilter!==void 0&&(O.minFilter=r(p.minFilter,ih)),p.magFilter!==void 0&&(O.magFilter=r(p.magFilter,ih)),p.anisotropy!==void 0&&(O.anisotropy=p.anisotropy),p.flipY!==void 0&&(O.flipY=p.flipY),p.generateMipmaps!==void 0&&(O.generateMipmaps=p.generateMipmaps),p.premultiplyAlpha!==void 0&&(O.premultiplyAlpha=p.premultiplyAlpha),p.unpackAlignment!==void 0&&(O.unpackAlignment=p.unpackAlignment),p.compareFunction!==void 0&&(O.compareFunction=p.compareFunction),p.userData!==void 0&&(O.userData=p.userData),o[p.uuid]=O}return o}parseObject(e,n,r,o,c){let h;function p($){return n[$]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",$),n[$]}function x($){if($!==void 0){if(Array.isArray($)){const V=[];for(let G=0,me=$.length;G<me;G++){const De=$[G];r[De]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",De),V.push(r[De])}return V}return r[$]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",$),r[$]}}function S($){return o[$]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",$),o[$]}let O,F;switch(e.type){case"Scene":h=new U,e.background!==void 0&&(Number.isInteger(e.background)?h.background=new Rn(e.background):h.background=S(e.background)),e.environment!==void 0&&(h.environment=S(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?h.fog=new _(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(h.fog=new f(e.fog.color,e.fog.density)),e.fog.name!==""&&(h.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(h.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(h.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&h.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(h.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&h.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":h=new Gl(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(h.focus=e.focus),e.zoom!==void 0&&(h.zoom=e.zoom),e.filmGauge!==void 0&&(h.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(h.filmOffset=e.filmOffset),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"OrthographicCamera":h=new Ed(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(h.zoom=e.zoom),e.view!==void 0&&(h.view=Object.assign({},e.view));break;case"AmbientLight":h=new Of(e.color,e.intensity);break;case"DirectionalLight":h=new Pf(e.color,e.intensity),h.target=e.target||"";break;case"PointLight":h=new Tf(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":h=new Rf(e.color,e.intensity,e.width,e.height);break;case"SpotLight":h=new Mf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),h.target=e.target||"";break;case"HemisphereLight":h=new _f(e.color,e.groundColor,e.intensity);break;case"LightProbe":h=new Df().fromJSON(e);break;case"SkinnedMesh":O=p(e.geometry),F=x(e.material),h=new ts(O,F),e.bindMode!==void 0&&(h.bindMode=e.bindMode),e.bindMatrix!==void 0&&h.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(h.skeleton=e.skeleton);break;case"Mesh":O=p(e.geometry),F=x(e.material),h=new ko(O,F);break;case"InstancedMesh":O=p(e.geometry),F=x(e.material);const $=e.count,V=e.instanceMatrix,G=e.instanceColor;h=new gr(O,F,$),h.instanceMatrix=new Ks(new Float32Array(V.array),16),G!==void 0&&(h.instanceColor=new Ks(new Float32Array(G.array),G.itemSize));break;case"BatchedMesh":O=p(e.geometry),F=x(e.material),h=new Va(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,F),h.geometry=O,h.perObjectFrustumCulled=e.perObjectFrustumCulled,h.sortObjects=e.sortObjects,h._drawRanges=e.drawRanges,h._reservedRanges=e.reservedRanges,h._visibility=e.visibility,h._active=e.active,h._bounds=e.bounds.map(me=>{const De=new zl;De.min.fromArray(me.boxMin),De.max.fromArray(me.boxMax);const ke=new Al;return ke.radius=me.sphereRadius,ke.center.fromArray(me.sphereCenter),{boxInitialized:me.boxInitialized,box:De,sphereInitialized:me.sphereInitialized,sphere:ke}}),h._maxInstanceCount=e.maxInstanceCount,h._maxVertexCount=e.maxVertexCount,h._maxIndexCount=e.maxIndexCount,h._geometryInitialized=e.geometryInitialized,h._geometryCount=e.geometryCount,h._matricesTexture=S(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(h._colorsTexture=S(e.colorsTexture.uuid));break;case"LOD":h=new zn;break;case"Line":h=new sc(p(e.geometry),x(e.material));break;case"LineLoop":h=new Sc(p(e.geometry),x(e.material));break;case"LineSegments":h=new Yc(p(e.geometry),x(e.material));break;case"PointCloud":case"Points":h=new Da(p(e.geometry),x(e.material));break;case"Sprite":h=new Dn(x(e.material));break;case"Group":h=new $c;break;case"Bone":h=new jr;break;default:h=new Zt}if(h.uuid=e.uuid,e.name!==void 0&&(h.name=e.name),e.matrix!==void 0?(h.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(h.matrixAutoUpdate=e.matrixAutoUpdate),h.matrixAutoUpdate&&h.matrix.decompose(h.position,h.quaternion,h.scale)):(e.position!==void 0&&h.position.fromArray(e.position),e.rotation!==void 0&&h.rotation.fromArray(e.rotation),e.quaternion!==void 0&&h.quaternion.fromArray(e.quaternion),e.scale!==void 0&&h.scale.fromArray(e.scale)),e.up!==void 0&&h.up.fromArray(e.up),e.castShadow!==void 0&&(h.castShadow=e.castShadow),e.receiveShadow!==void 0&&(h.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(h.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(h.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(h.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(h.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&h.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(h.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(h.visible=e.visible),e.frustumCulled!==void 0&&(h.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(h.renderOrder=e.renderOrder),e.userData!==void 0&&(h.userData=e.userData),e.layers!==void 0&&(h.layers.mask=e.layers),e.children!==void 0){const $=e.children;for(let V=0;V<$.length;V++)h.add(this.parseObject($[V],n,r,o,c))}if(e.animations!==void 0){const $=e.animations;for(let V=0;V<$.length;V++){const G=$[V];h.animations.push(c[G])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(h.autoUpdate=e.autoUpdate);const $=e.levels;for(let V=0;V<$.length;V++){const G=$[V],me=h.getObjectByProperty("uuid",G.object);me!==void 0&&h.addLevel(me,G.distance,G.hysteresis)}}return h}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const o=n[r.skeleton];o===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(o,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,o=e.getObjectByProperty("uuid",r);o!==void 0?n.target=o:n.target=new Zt}})}}const Nf={UVMapping:vn,CubeReflectionMapping:Mn,CubeRefractionMapping:gi,EquirectangularReflectionMapping:$i,EquirectangularRefractionMapping:hr,CubeUVReflectionMapping:Es},nh={RepeatWrapping:vi,ClampToEdgeWrapping:Ot,MirroredRepeatWrapping:kt},ih={NearestFilter:cn,NearestMipmapNearestFilter:pi,NearestMipmapLinearFilter:mi,LinearFilter:$n,LinearMipmapNearestFilter:bi,LinearMipmapLinearFilter:Ir};class Tp extends null{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const c=this,h=gu.get(e);if(h!==void 0){if(c.manager.itemStart(e),h.then){h.then(S=>{n&&n(S),c.manager.itemEnd(e)}).catch(S=>{o&&o(S)});return}return setTimeout(function(){n&&n(h),c.manager.itemEnd(e)},0),h}const p={};p.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",p.headers=this.requestHeader;const x=fetch(e,p).then(function(S){return S.blob()}).then(function(S){return createImageBitmap(S,Object.assign(c.options,{colorSpaceConversion:"none"}))}).then(function(S){return gu.add(e,S),n&&n(S),c.manager.itemEnd(e),S}).catch(function(S){o&&o(S),gu.remove(e),c.manager.itemError(e),c.manager.itemEnd(e)});gu.add(e,x),c.manager.itemStart(e)}}let td;class rh{static getContext(){return td===void 0&&(td=new(window.AudioContext||window.webkitAudioContext)),td}static setContext(e){td=e}}class Ap extends null{constructor(e){super(e)}load(e,n,r,o){const c=this,h=new vu(this.manager);h.setResponseType("arraybuffer"),h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(e,function(x){try{const S=x.slice(0);rh.getContext().decodeAudioData(S,function(F){n(F)}).catch(p)}catch(S){p(S)}},r,o);function p(x){o?o(x):console.error(x),c.manager.itemError(e)}}}const sh=new Io,oh=new Io,Tu=new Io;class Pp{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Gl,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Gl,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Tu.copy(e.projectionMatrix);const o=n.eyeSep/2,c=o*n.near/n.focus,h=n.near*Math.tan(Jn*n.fov*.5)/n.zoom;let p,x;oh.elements[12]=-o,sh.elements[12]=o,p=-h*n.aspect+c,x=h*n.aspect+c,Tu.elements[0]=2*n.near/(x-p),Tu.elements[8]=(x+p)/(x-p),this.cameraL.projectionMatrix.copy(Tu),p=-h*n.aspect-c,x=h*n.aspect-c,Tu.elements[0]=2*n.near/(x-p),Tu.elements[8]=(x+p)/(x-p),this.cameraR.projectionMatrix.copy(Tu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(oh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sh)}}class Ff extends Gl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class Bf{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ah(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=ah();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function ah(){return performance.now()}const Au=new ct,lh=new Tl,Uf=new ct,Pu=new ct;class Op extends null{constructor(){super(),this.type="AudioListener",this.context=rh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Bf}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Au,lh,Uf),Pu.set(0,0,-1).applyQuaternion(lh),n.positionX){const o=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Au.x,o),n.positionY.linearRampToValueAtTime(Au.y,o),n.positionZ.linearRampToValueAtTime(Au.z,o),n.forwardX.linearRampToValueAtTime(Pu.x,o),n.forwardY.linearRampToValueAtTime(Pu.y,o),n.forwardZ.linearRampToValueAtTime(Pu.z,o),n.upX.linearRampToValueAtTime(r.x,o),n.upY.linearRampToValueAtTime(r.y,o),n.upZ.linearRampToValueAtTime(r.z,o)}else n.setPosition(Au.x,Au.y,Au.z),n.setOrientation(Pu.x,Pu.y,Pu.z,r.x,r.y,r.z)}}class Rp extends null{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ou=new ct,ch=new Tl,zf=new ct,Ru=new ct;class Ip extends null{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ou,ch,zf),Ru.set(0,0,1).applyQuaternion(ch);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ou.x,r),n.positionY.linearRampToValueAtTime(Ou.y,r),n.positionZ.linearRampToValueAtTime(Ou.z,r),n.orientationX.linearRampToValueAtTime(Ru.x,r),n.orientationY.linearRampToValueAtTime(Ru.y,r),n.orientationZ.linearRampToValueAtTime(Ru.z,r)}else n.setPosition(Ou.x,Ou.y,Ou.z),n.setOrientation(Ru.x,Ru.y,Ru.z)}}class Dp{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class $f{constructor(e,n,r){this.binding=e,this.valueSize=r;let o,c,h;switch(n){case"quaternion":o=this._slerp,c=this._slerpAdditive,h=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":o=this._select,c=this._select,h=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:o=this._lerp,c=this._lerpAdditive,h=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=o,this._mixBufferRegionAdditive=c,this._setIdentity=h,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,o=this.valueSize,c=e*o+o;let h=this.cumulativeWeight;if(h===0){for(let p=0;p!==o;++p)r[c+p]=r[p];h=n}else{h+=n;const p=n/h;this._mixBufferRegion(r,c,0,p,o)}this.cumulativeWeight=h}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,o=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,o,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,o=e*n+n,c=this.cumulativeWeight,h=this.cumulativeWeightAdditive,p=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,c<1){const x=n*this._origIndex;this._mixBufferRegion(r,o,x,1-c,n)}h>0&&this._mixBufferRegionAdditive(r,o,this._addIndex*n,1,n);for(let x=n,S=n+n;x!==S;++x)if(r[x]!==r[x+n]){p.setValue(r,o);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,o=r*this._origIndex;e.getValue(n,o);for(let c=r,h=o;c!==h;++c)n[c]=n[o+c%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,o,c){if(o>=.5)for(let h=0;h!==c;++h)e[n+h]=e[r+h]}_slerp(e,n,r,o){Tl.slerpFlat(e,n,e,n,e,r,o)}_slerpAdditive(e,n,r,o,c){const h=this._workIndex*c;Tl.multiplyQuaternionsFlat(e,h,e,n,e,r),Tl.slerpFlat(e,n,e,n,e,h,o)}_lerp(e,n,r,o,c){const h=1-o;for(let p=0;p!==c;++p){const x=n+p;e[x]=e[x]*h+e[r+p]*o}}_lerpAdditive(e,n,r,o,c){for(let h=0;h!==c;++h){const p=n+h;e[p]=e[p]+e[r+h]*o}}}const Ad="\\[\\]\\.:\\/",kf=new RegExp("["+Ad+"]","g"),Pd="[^"+Ad+"]",Hf="[^"+Ad.replace("\\.","")+"]",Vf=/((?:WC+[\/:])*)/.source.replace("WC",Pd),jf=/(WCOD+)?/.source.replace("WCOD",Hf),Wf=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Pd),Gf=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Pd),Zf=new RegExp("^"+Vf+jf+Wf+Gf+"$"),Xf=["material","materials","bones","map"];class Yf{constructor(e,n,r){const o=r||Qa.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,o)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,o=this._bindings[r];o!==void 0&&o.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,c=r.length;o!==c;++o)r[o].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Qa{constructor(e,n,r){this.path=n,this.parsedPath=r||Qa.parseTrackName(n),this.node=Qa.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Qa.Composite(e,n,r):new Qa(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(kf,"")}static parseTrackName(e){const n=Zf.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const c=r.nodeName.substring(o+1);Xf.indexOf(c)!==-1&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=c)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(c){for(let h=0;h<c.length;h++){const p=c[h];if(p.name===n||p.uuid===n)return p;const x=r(p.children);if(x)return x}return null},o=r(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let o=0,c=r.length;o!==c;++o)e[n++]=r[o]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let o=0,c=r.length;o!==c;++o)r[o]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let o=0,c=r.length;o!==c;++o)r[o]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let o=0,c=r.length;o!==c;++o)r[o]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,o=n.propertyName;let c=n.propertyIndex;if(e||(e=Qa.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let S=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let O=0;O<e.length;O++)if(e[O].name===S){S=O;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(S!==void 0){if(e[S]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[S]}}const h=e[o];if(h===void 0){const S=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+S+"."+o+" but it wasn't found.",e);return}let p=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?p=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(p=this.Versioning.MatrixWorldNeedsUpdate);let x=this.BindingType.Direct;if(c!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[c]!==void 0&&(c=e.morphTargetDictionary[c])}x=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=c}else h.fromArray!==void 0&&h.toArray!==void 0?(x=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(x=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=o;this.getValue=this.GetterByBindingType[x],this.setValue=this.SetterByBindingTypeAndVersioning[x][p]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Qa.Composite=Yf,Qa.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Qa.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Qa.prototype.GetterByBindingType=[Qa.prototype._getValue_direct,Qa.prototype._getValue_array,Qa.prototype._getValue_arrayElement,Qa.prototype._getValue_toArray],Qa.prototype.SetterByBindingTypeAndVersioning=[[Qa.prototype._setValue_direct,Qa.prototype._setValue_direct_setNeedsUpdate,Qa.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qa.prototype._setValue_array,Qa.prototype._setValue_array_setNeedsUpdate,Qa.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qa.prototype._setValue_arrayElement,Qa.prototype._setValue_arrayElement_setNeedsUpdate,Qa.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qa.prototype._setValue_fromArray,Qa.prototype._setValue_fromArray_setNeedsUpdate,Qa.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Lp{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ar(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,o=arguments.length;r!==o;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,o=this._parsedPaths,c=this._bindings,h=c.length;let p,x=e.length,S=this.nCachedObjects_;for(let O=0,F=arguments.length;O!==F;++O){const $=arguments[O],V=$.uuid;let G=n[V];if(G===void 0){G=x++,n[V]=G,e.push($);for(let me=0,De=h;me!==De;++me)c[me].push(new Qa($,r[me],o[me]))}else if(G<S){p=e[G];const me=--S,De=e[me];n[De.uuid]=G,e[G]=De,n[V]=me,e[me]=$;for(let ke=0,mt=h;ke!==mt;++ke){const gt=c[ke],Mt=gt[me];let qn=gt[G];gt[G]=Mt,qn===void 0&&(qn=new Qa($,r[ke],o[ke])),gt[me]=qn}}else e[G]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=S}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,o=r.length;let c=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const x=arguments[h],S=x.uuid,O=n[S];if(O!==void 0&&O>=c){const F=c++,$=e[F];n[$.uuid]=O,e[O]=$,n[S]=F,e[F]=x;for(let V=0,G=o;V!==G;++V){const me=r[V],De=me[F],ke=me[O];me[O]=De,me[F]=ke}}}this.nCachedObjects_=c}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,o=r.length;let c=this.nCachedObjects_,h=e.length;for(let p=0,x=arguments.length;p!==x;++p){const S=arguments[p],O=S.uuid,F=n[O];if(F!==void 0)if(delete n[O],F<c){const $=--c,V=e[$],G=--h,me=e[G];n[V.uuid]=F,e[F]=V,n[me.uuid]=$,e[$]=me,e.pop();for(let De=0,ke=o;De!==ke;++De){const mt=r[De],gt=mt[$],Mt=mt[G];mt[F]=gt,mt[$]=Mt,mt.pop()}}else{const $=--h,V=e[$];$>0&&(n[V.uuid]=F),e[F]=V,e.pop();for(let G=0,me=o;G!==me;++G){const De=r[G];De[F]=De[$],De.pop()}}}this.nCachedObjects_=c}subscribe_(e,n){const r=this._bindingsIndicesByPath;let o=r[e];const c=this._bindings;if(o!==void 0)return c[o];const h=this._paths,p=this._parsedPaths,x=this._objects,S=x.length,O=this.nCachedObjects_,F=new Array(S);o=c.length,r[e]=o,h.push(e),p.push(n),c.push(F);for(let $=O,V=x.length;$!==V;++$){const G=x[$];F[$]=new Qa(G,e,n)}return F}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const o=this._paths,c=this._parsedPaths,h=this._bindings,p=h.length-1,x=h[p],S=e[p];n[S]=r,h[r]=x,h.pop(),c[r]=c[p],c.pop(),o[r]=o[p],o.pop()}}}class Kf{constructor(e,n,r=null,o=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=o;const c=n.tracks,h=c.length,p=new Array(h),x={endingStart:Jr,endingEnd:Jr};for(let S=0;S!==h;++S){const O=c[S].createInterpolant(null);p[S]=O,O.settings=x}this._interpolantSettings=x,this._interpolants=p,this._propertyBindings=new Array(h),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=va,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const o=this._clip.duration,c=e._clip.duration,h=c/o,p=o/c;e.warp(1,h,n),this.warp(p,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const o=this._mixer,c=o.time,h=this.timeScale;let p=this._timeScaleInterpolant;p===null&&(p=o._lendControlInterpolant(),this._timeScaleInterpolant=p);const x=p.parameterPositions,S=p.sampleValues;return x[0]=c,x[1]=c+r,S[0]=e/h,S[1]=n/h,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,o){if(!this.enabled){this._updateWeight(e);return}const c=this._startTime;if(c!==null){const x=(e-c)*r;x<0||r===0?n=0:(this._startTime=null,n=r*x)}n*=this._updateTimeScale(e);const h=this._updateTime(n),p=this._updateWeight(e);if(p>0){const x=this._interpolants,S=this._propertyBindings;switch(this.blendMode){case Uo:for(let O=0,F=x.length;O!==F;++O)x[O].evaluate(h),S[O].accumulateAdditive(p);break;case _s:default:for(let O=0,F=x.length;O!==F;++O)x[O].evaluate(h),S[O].accumulate(o,p)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const o=r.evaluate(e)[0];n*=o,e>r.parameterPositions[1]&&(this.stopFading(),o===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const o=r.evaluate(e)[0];n*=o,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let o=this.time+e,c=this._loopCount;const h=r===qo;if(e===0)return c===-1?o:h&&(c&1)===1?n-o:o;if(r===oo){c===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(o>=n)o=n;else if(o<0)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(c===-1&&(e>=0?(c=0,this._setEndings(!0,this.repetitions===0,h)):this._setEndings(this.repetitions===0,!0,h)),o>=n||o<0){const p=Math.floor(o/n);o-=n*p,c+=Math.abs(p);const x=this.repetitions-c;if(x<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=e>0?n:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(x===1){const S=e<0;this._setEndings(S,!S,h)}else this._setEndings(!1,!1,h);this._loopCount=c,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:p})}}else this.time=o;if(h&&(c&1)===1)return n-o}return o}_setEndings(e,n,r){const o=this._interpolantSettings;r?(o.endingStart=fr,o.endingEnd=fr):(e?o.endingStart=this.zeroSlopeAtStart?fr:Jr:o.endingStart=ai,n?o.endingEnd=this.zeroSlopeAtEnd?fr:Jr:o.endingEnd=ai)}_scheduleFading(e,n,r){const o=this._mixer,c=o.time;let h=this._weightInterpolant;h===null&&(h=o._lendControlInterpolant(),this._weightInterpolant=h);const p=h.parameterPositions,x=h.sampleValues;return p[0]=c,x[0]=n,p[1]=c+e,x[1]=r,this}}const qf=new Float32Array(1);class Np extends null{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,o=e._clip.tracks,c=o.length,h=e._propertyBindings,p=e._interpolants,x=r.uuid,S=this._bindingsByRootAndName;let O=S[x];O===void 0&&(O={},S[x]=O);for(let F=0;F!==c;++F){const $=o[F],V=$.name;let G=O[V];if(G!==void 0)++G.referenceCount,h[F]=G;else{if(G=h[F],G!==void 0){G._cacheIndex===null&&(++G.referenceCount,this._addInactiveBinding(G,x,V));continue}const me=n&&n._propertyBindings[F].binding.parsedPath;G=new $f(Qa.create(r,V,me),$.ValueTypeName,$.getValueSize()),++G.referenceCount,this._addInactiveBinding(G,x,V),h[F]=G}p[F].resultBuffer=G.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,o=e._clip.uuid,c=this._actionsByClip[o];this._bindAction(e,c&&c.knownActions[0]),this._addInactiveAction(e,o,r)}const n=e._propertyBindings;for(let r=0,o=n.length;r!==o;++r){const c=n[r];c.useCount++===0&&(this._lendBinding(c),c.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,o=n.length;r!==o;++r){const c=n[r];--c.useCount===0&&(c.restoreOriginalState(),this._takeBackBinding(c))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const o=this._actions,c=this._actionsByClip;let h=c[n];if(h===void 0)h={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,c[n]=h;else{const p=h.knownActions;e._byClipCacheIndex=p.length,p.push(e)}e._cacheIndex=o.length,o.push(e),h.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],o=e._cacheIndex;r._cacheIndex=o,n[o]=r,n.pop(),e._cacheIndex=null;const c=e._clip.uuid,h=this._actionsByClip,p=h[c],x=p.knownActions,S=x[x.length-1],O=e._byClipCacheIndex;S._byClipCacheIndex=O,x[O]=S,x.pop(),e._byClipCacheIndex=null;const F=p.actionByRoot,$=(e._localRoot||this._root).uuid;delete F[$],x.length===0&&delete h[c],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,o=n.length;r!==o;++r){const c=n[r];--c.referenceCount===0&&this._removeInactiveBinding(c)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,o=this._nActiveActions++,c=n[o];e._cacheIndex=o,n[o]=e,c._cacheIndex=r,n[r]=c}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,o=--this._nActiveActions,c=n[o];e._cacheIndex=o,n[o]=e,c._cacheIndex=r,n[r]=c}_addInactiveBinding(e,n,r){const o=this._bindingsByRootAndName,c=this._bindings;let h=o[n];h===void 0&&(h={},o[n]=h),h[r]=e,e._cacheIndex=c.length,c.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,o=r.rootNode.uuid,c=r.path,h=this._bindingsByRootAndName,p=h[o],x=n[n.length-1],S=e._cacheIndex;x._cacheIndex=S,n[S]=x,n.pop(),delete p[c],Object.keys(p).length===0&&delete h[o]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,o=this._nActiveBindings++,c=n[o];e._cacheIndex=o,n[o]=e,c._cacheIndex=r,n[r]=c}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,o=--this._nActiveBindings,c=n[o];e._cacheIndex=o,n[o]=e,c._cacheIndex=r,n[r]=c}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new Xd(new Float32Array(2),new Float32Array(2),1,qf),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,o=--this._nActiveControlInterpolants,c=n[o];e.__cacheIndex=o,n[o]=e,c.__cacheIndex=r,n[r]=c}clipAction(e,n,r){const o=n||this._root,c=o.uuid;let h=typeof e=="string"?Qu.findByName(o,e):e;const p=h!==null?h.uuid:e,x=this._actionsByClip[p];let S=null;if(r===void 0&&(h!==null?r=h.blendMode:r=_s),x!==void 0){const F=x.actionByRoot[c];if(F!==void 0&&F.blendMode===r)return F;S=x.knownActions[0],h===null&&(h=S._clip)}if(h===null)return null;const O=new Kf(this,h,n,r);return this._bindAction(O,S),this._addInactiveAction(O,p,c),O}existingAction(e,n){const r=n||this._root,o=r.uuid,c=typeof e=="string"?Qu.findByName(r,e):e,h=c?c.uuid:e,p=this._actionsByClip[h];return p!==void 0&&p.actionByRoot[o]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,o=this.time+=e,c=Math.sign(e),h=this._accuIndex^=1;for(let S=0;S!==r;++S)n[S]._update(o,e,c,h);const p=this._bindings,x=this._nActiveBindings;for(let S=0;S!==x;++S)p[S].apply(h);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,o=this._actionsByClip,c=o[r];if(c!==void 0){const h=c.knownActions;for(let p=0,x=h.length;p!==x;++p){const S=h[p];this._deactivateAction(S);const O=S._cacheIndex,F=n[n.length-1];S._cacheIndex=null,S._byClipCacheIndex=null,F._cacheIndex=O,n[O]=F,n.pop(),this._removeInactiveBindingsForAction(S)}delete o[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const h in r){const p=r[h].actionByRoot,x=p[n];x!==void 0&&(this._deactivateAction(x),this._removeInactiveAction(x))}const o=this._bindingsByRootAndName,c=o[n];if(c!==void 0)for(const h in c){const p=c[h];p.restoreOriginalState(),this._removeInactiveBinding(p)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Fp extends null{constructor(e=1,n=1,r=1,o={}){super(e,n,o),this.isRenderTarget3D=!0,this.depth=r,this.texture=new yl(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Bp extends null{constructor(e=1,n=1,r=1,o={}){super(e,n,o),this.isRenderTargetArray=!0,this.depth=r,this.texture=new El(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class uh{constructor(e){this.value=e}clone(){return new uh(this.value.clone===void 0?this.value:this.value.clone())}}let Jf=0;class Up extends null{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Jf++}),this.name="",this.usage=Si,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,o=n.length;r<o;r++){const c=Array.isArray(n[r])?n[r]:[n[r]];for(let h=0;h<c.length;h++)this.uniforms.push(c[h].clone())}return this}clone(){return new this.constructor().copy(this)}}class Qf extends I{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class zp{constructor(e,n,r,o,c){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=o,this.count=c,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const dh=new Io;class $p{constructor(e,n,r=0,o=1/0){this.ray=new xc(e,n),this.near=r,this.far=o,this.camera=null,this.layers=new tc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return dh.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(dh),this}intersectObject(e,n=!0,r=[]){return Od(e,this,r,n),r.sort(hh),r}intersectObjects(e,n=!0,r=[]){for(let o=0,c=e.length;o<c;o++)Od(e[o],this,r,n);return r.sort(hh),r}}function hh(w,e){return w.distance-e.distance}function Od(w,e,n,r){let o=!0;if(w.layers.test(e.layers)&&w.raycast(e,n)===!1&&(o=!1),o===!0&&r===!0){const c=w.children;for(let h=0,p=c.length;h<p;h++)Od(c[h],e,n,!0)}}class kp{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Di(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Di(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Hp{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class fh{constructor(e,n,r,o){fh.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,o)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,o){const c=this.elements;return c[0]=e,c[2]=n,c[1]=r,c[3]=o,this}}const ph=new sn;class Vp{constructor(e=new sn(1/0,1/0),n=new sn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ph.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ph).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const mh=new ct,nd=new ct;class ep{constructor(e=new ct,n=new ct){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){mh.subVectors(e,this.start),nd.subVectors(this.end,this.start);const r=nd.dot(nd);let c=nd.dot(mh)/r;return n&&(c=Di(c,0,1)),c}closestPointToPoint(e,n,r){const o=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(o).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const gh=new ct;class jp extends null{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new In,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let h=0,p=1,x=32;h<x;h++,p++){const S=h/x*Math.PI*2,O=p/x*Math.PI*2;o.push(Math.cos(S),Math.sin(S),1,Math.cos(O),Math.sin(O),1)}r.setAttribute("position",new cr(o,3));const c=new xa({fog:!1,toneMapped:!1});this.cone=new Yc(r,c),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),gh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(gh),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const yu=new ct,id=new Io,Rd=new Io;class Wp extends null{constructor(e){const n=vh(e),r=new In,o=[],c=[],h=new Rn(0,0,1),p=new Rn(0,1,0);for(let S=0;S<n.length;S++){const O=n[S];O.parent&&O.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),c.push(h.r,h.g,h.b),c.push(p.r,p.g,p.b))}r.setAttribute("position",new cr(o,3)),r.setAttribute("color",new cr(c,3));const x=new xa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,x),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,o=r.getAttribute("position");Rd.copy(this.root.matrixWorld).invert();for(let c=0,h=0;c<n.length;c++){const p=n[c];p.parent&&p.parent.isBone&&(id.multiplyMatrices(Rd,p.matrixWorld),yu.setFromMatrixPosition(id),o.setXYZ(h,yu.x,yu.y,yu.z),id.multiplyMatrices(Rd,p.parent.matrixWorld),yu.setFromMatrixPosition(id),o.setXYZ(h+1,yu.x,yu.y,yu.z),h+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function vh(w){const e=[];w.isBone===!0&&e.push(w);for(let n=0;n<w.children.length;n++)e.push(...vh(w.children[n]));return e}class Gp extends null{constructor(e,n,r){const o=new Xu(n,4,2),c=new Wn({wireframe:!0,fog:!1,toneMapped:!1});super(o,c),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tp=new ct,yh=new Rn,xh=new Rn;class Zp extends null{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const o=new Gu(n);o.rotateY(Math.PI*.5),this.material=new Wn({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const c=o.getAttribute("position"),h=new Float32Array(c.count*3);o.setAttribute("color",new xr(h,3)),this.add(new ko(o,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");yh.copy(this.light.color),xh.copy(this.light.groundColor);for(let r=0,o=n.count;r<o;r++){const c=r<o/2?yh:xh;n.setXYZ(r,c.r,c.g,c.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(tp.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Xp extends null{constructor(e=10,n=10,r=4473924,o=8947848){r=new Rn(r),o=new Rn(o);const c=n/2,h=e/n,p=e/2,x=[],S=[];for(let $=0,V=0,G=-p;$<=n;$++,G+=h){x.push(-p,0,G,p,0,G),x.push(G,0,-p,G,0,p);const me=$===c?r:o;me.toArray(S,V),V+=3,me.toArray(S,V),V+=3,me.toArray(S,V),V+=3,me.toArray(S,V),V+=3}const O=new In;O.setAttribute("position",new cr(x,3)),O.setAttribute("color",new cr(S,3));const F=new xa({vertexColors:!0,toneMapped:!1});super(O,F),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yp extends null{constructor(e=10,n=16,r=8,o=64,c=4473924,h=8947848){c=new Rn(c),h=new Rn(h);const p=[],x=[];if(n>1)for(let F=0;F<n;F++){const $=F/n*(Math.PI*2),V=Math.sin($)*e,G=Math.cos($)*e;p.push(0,0,0),p.push(V,0,G);const me=F&1?c:h;x.push(me.r,me.g,me.b),x.push(me.r,me.g,me.b)}for(let F=0;F<r;F++){const $=F&1?c:h,V=e-e/r*F;for(let G=0;G<o;G++){let me=G/o*(Math.PI*2),De=Math.sin(me)*V,ke=Math.cos(me)*V;p.push(De,0,ke),x.push($.r,$.g,$.b),me=(G+1)/o*(Math.PI*2),De=Math.sin(me)*V,ke=Math.cos(me)*V,p.push(De,0,ke),x.push($.r,$.g,$.b)}}const S=new In;S.setAttribute("position",new cr(p,3)),S.setAttribute("color",new cr(x,3));const O=new xa({vertexColors:!0,toneMapped:!1});super(S,O),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const bh=new ct,rd=new ct,Sh=new ct;class Kp extends null{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let o=new In;o.setAttribute("position",new cr([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const c=new xa({fog:!1,toneMapped:!1});this.lightPlane=new sc(o,c),this.add(this.lightPlane),o=new In,o.setAttribute("position",new cr([0,0,0,0,0,1],3)),this.targetLine=new sc(o,c),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),bh.setFromMatrixPosition(this.light.matrixWorld),rd.setFromMatrixPosition(this.light.target.matrixWorld),Sh.subVectors(rd,bh),this.lightPlane.lookAt(rd),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rd),this.targetLine.scale.z=Sh.length()}}const sd=new ct,Nl=new ma;class qp extends null{constructor(e){const n=new In,r=new xa({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],c=[],h={};p("n1","n2"),p("n2","n4"),p("n4","n3"),p("n3","n1"),p("f1","f2"),p("f2","f4"),p("f4","f3"),p("f3","f1"),p("n1","f1"),p("n2","f2"),p("n3","f3"),p("n4","f4"),p("p","n1"),p("p","n2"),p("p","n3"),p("p","n4"),p("u1","u2"),p("u2","u3"),p("u3","u1"),p("c","t"),p("p","c"),p("cn1","cn2"),p("cn3","cn4"),p("cf1","cf2"),p("cf3","cf4");function p(G,me){x(G),x(me)}function x(G){o.push(0,0,0),c.push(0,0,0),h[G]===void 0&&(h[G]=[]),h[G].push(o.length/3-1)}n.setAttribute("position",new cr(o,3)),n.setAttribute("color",new cr(c,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=h,this.update();const S=new Rn(16755200),O=new Rn(16711680),F=new Rn(43775),$=new Rn(16777215),V=new Rn(3355443);this.setColors(S,O,F,$,V)}setColors(e,n,r,o,c){const p=this.geometry.getAttribute("color");p.setXYZ(0,e.r,e.g,e.b),p.setXYZ(1,e.r,e.g,e.b),p.setXYZ(2,e.r,e.g,e.b),p.setXYZ(3,e.r,e.g,e.b),p.setXYZ(4,e.r,e.g,e.b),p.setXYZ(5,e.r,e.g,e.b),p.setXYZ(6,e.r,e.g,e.b),p.setXYZ(7,e.r,e.g,e.b),p.setXYZ(8,e.r,e.g,e.b),p.setXYZ(9,e.r,e.g,e.b),p.setXYZ(10,e.r,e.g,e.b),p.setXYZ(11,e.r,e.g,e.b),p.setXYZ(12,e.r,e.g,e.b),p.setXYZ(13,e.r,e.g,e.b),p.setXYZ(14,e.r,e.g,e.b),p.setXYZ(15,e.r,e.g,e.b),p.setXYZ(16,e.r,e.g,e.b),p.setXYZ(17,e.r,e.g,e.b),p.setXYZ(18,e.r,e.g,e.b),p.setXYZ(19,e.r,e.g,e.b),p.setXYZ(20,e.r,e.g,e.b),p.setXYZ(21,e.r,e.g,e.b),p.setXYZ(22,e.r,e.g,e.b),p.setXYZ(23,e.r,e.g,e.b),p.setXYZ(24,n.r,n.g,n.b),p.setXYZ(25,n.r,n.g,n.b),p.setXYZ(26,n.r,n.g,n.b),p.setXYZ(27,n.r,n.g,n.b),p.setXYZ(28,n.r,n.g,n.b),p.setXYZ(29,n.r,n.g,n.b),p.setXYZ(30,n.r,n.g,n.b),p.setXYZ(31,n.r,n.g,n.b),p.setXYZ(32,r.r,r.g,r.b),p.setXYZ(33,r.r,r.g,r.b),p.setXYZ(34,r.r,r.g,r.b),p.setXYZ(35,r.r,r.g,r.b),p.setXYZ(36,r.r,r.g,r.b),p.setXYZ(37,r.r,r.g,r.b),p.setXYZ(38,o.r,o.g,o.b),p.setXYZ(39,o.r,o.g,o.b),p.setXYZ(40,c.r,c.g,c.b),p.setXYZ(41,c.r,c.g,c.b),p.setXYZ(42,c.r,c.g,c.b),p.setXYZ(43,c.r,c.g,c.b),p.setXYZ(44,c.r,c.g,c.b),p.setXYZ(45,c.r,c.g,c.b),p.setXYZ(46,c.r,c.g,c.b),p.setXYZ(47,c.r,c.g,c.b),p.setXYZ(48,c.r,c.g,c.b),p.setXYZ(49,c.r,c.g,c.b),p.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,o=1;Nl.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const c=this.camera.coordinateSystem===Ft?-1:0;Hl("c",n,e,Nl,0,0,c),Hl("t",n,e,Nl,0,0,1),Hl("n1",n,e,Nl,-1,-1,c),Hl("n2",n,e,Nl,r,-1,c),Hl("n3",n,e,Nl,-1,o,c),Hl("n4",n,e,Nl,r,o,c),Hl("f1",n,e,Nl,-1,-1,1),Hl("f2",n,e,Nl,r,-1,1),Hl("f3",n,e,Nl,-1,o,1),Hl("f4",n,e,Nl,r,o,1),Hl("u1",n,e,Nl,r*.7,o*1.1,c),Hl("u2",n,e,Nl,-1*.7,o*1.1,c),Hl("u3",n,e,Nl,0,o*2,c),Hl("cf1",n,e,Nl,-1,0,1),Hl("cf2",n,e,Nl,r,0,1),Hl("cf3",n,e,Nl,0,-1,1),Hl("cf4",n,e,Nl,0,o,1),Hl("cn1",n,e,Nl,-1,0,c),Hl("cn2",n,e,Nl,r,0,c),Hl("cn3",n,e,Nl,0,-1,c),Hl("cn4",n,e,Nl,0,o,c),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hl(w,e,n,r,o,c,h){sd.set(o,c,h).unproject(r);const p=e[w];if(p!==void 0){const x=n.getAttribute("position");for(let S=0,O=p.length;S<O;S++)x.setXYZ(p[S],sd.x,sd.y,sd.z)}}const od=new zl;class Jp extends null{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(8*3),c=new In;c.setIndex(new xr(r,1)),c.setAttribute("position",new xr(o,3)),super(c,new xa({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&od.setFromObject(this.object),od.isEmpty())return;const e=od.min,n=od.max,r=this.geometry.attributes.position,o=r.array;o[0]=n.x,o[1]=n.y,o[2]=n.z,o[3]=e.x,o[4]=n.y,o[5]=n.z,o[6]=e.x,o[7]=e.y,o[8]=n.z,o[9]=n.x,o[10]=e.y,o[11]=n.z,o[12]=n.x,o[13]=n.y,o[14]=e.z,o[15]=e.x,o[16]=n.y,o[17]=e.z,o[18]=e.x,o[19]=e.y,o[20]=e.z,o[21]=n.x,o[22]=e.y,o[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qp extends null{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],c=new In;c.setIndex(new xr(r,1)),c.setAttribute("position",new cr(o,3)),super(c,new xa({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class em extends null{constructor(e,n=1,r=16776960){const o=r,c=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],h=new In;h.setAttribute("position",new cr(c,3)),h.computeBoundingSphere(),super(h,new xa({color:o,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const p=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],x=new In;x.setAttribute("position",new cr(p,3)),x.computeBoundingSphere(),this.add(new ko(x,new Wn({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Ch=new ct;let ad,Id;class np extends Zt{constructor(e=new ct(0,0,1),n=new ct(0,0,0),r=1,o=16776960,c=r*.2,h=c*.2){super(),this.type="ArrowHelper",ad===void 0&&(ad=new In,ad.setAttribute("position",new cr([0,0,0,0,1,0],3)),Id=new Kl(0,.5,1,5,1),Id.translate(0,-.5,0)),this.position.copy(n),this.line=new sc(ad,new xa({color:o,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ko(Id,new Wn({color:o,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,c,h)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Ch.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Ch,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class tm extends null{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new In;o.setAttribute("position",new cr(n,3)),o.setAttribute("color",new cr(r,3));const c=new xa({vertexColors:!0,toneMapped:!1});super(o,c),this.type="AxesHelper"}setColors(e,n,r){const o=new Rn,c=this.geometry.attributes.color.array;return o.set(e),o.toArray(c,0),o.toArray(c,3),o.set(n),o.toArray(c,6),o.toArray(c,9),o.set(r),o.toArray(c,12),o.toArray(c,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nm{constructor(){this.type="ShapePath",this.color=new Rn,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new _l,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,o){return this.currentPath.quadraticCurveTo(e,n,r,o),this}bezierCurveTo(e,n,r,o,c,h){return this.currentPath.bezierCurveTo(e,n,r,o,c,h),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(ke){const mt=[];for(let gt=0,Mt=ke.length;gt<Mt;gt++){const qn=ke[gt],ri=new Lu;ri.curves=qn.curves,mt.push(ri)}return mt}function r(ke,mt){const gt=mt.length;let Mt=!1;for(let qn=gt-1,ri=0;ri<gt;qn=ri++){let Pi=mt[qn],hi=mt[ri],Yr=hi.x-Pi.x,vs=hi.y-Pi.y;if(Math.abs(vs)>Number.EPSILON){if(vs<0&&(Pi=mt[ri],Yr=-Yr,hi=mt[qn],vs=-vs),ke.y<Pi.y||ke.y>hi.y)continue;if(ke.y===Pi.y){if(ke.x===Pi.x)return!0}else{const To=vs*(ke.x-Pi.x)-Yr*(ke.y-Pi.y);if(To===0)return!0;if(To<0)continue;Mt=!Mt}}else{if(ke.y!==Pi.y)continue;if(hi.x<=ke.x&&ke.x<=Pi.x||Pi.x<=ke.x&&ke.x<=hi.x)return!0}}return Mt}const o=ou.isClockWise,c=this.subPaths;if(c.length===0)return[];let h,p,x;const S=[];if(c.length===1)return p=c[0],x=new Lu,x.curves=p.curves,S.push(x),S;let O=!o(c[0].getPoints());O=e?!O:O;const F=[],$=[];let V=[],G=0,me;$[G]=void 0,V[G]=[];for(let ke=0,mt=c.length;ke<mt;ke++)p=c[ke],me=p.getPoints(),h=o(me),h=e?!h:h,h?(!O&&$[G]&&G++,$[G]={s:new Lu,p:me},$[G].s.curves=p.curves,O&&G++,V[G]=[]):V[G].push({h:p,p:me[0]});if(!$[0])return n(c);if($.length>1){let ke=!1,mt=0;for(let gt=0,Mt=$.length;gt<Mt;gt++)F[gt]=[];for(let gt=0,Mt=$.length;gt<Mt;gt++){const qn=V[gt];for(let ri=0;ri<qn.length;ri++){const Pi=qn[ri];let hi=!0;for(let Yr=0;Yr<$.length;Yr++)r(Pi.p,$[Yr].p)&&(gt!==Yr&&mt++,hi?(hi=!1,F[Yr].push(Pi)):ke=!0);hi&&F[gt].push(Pi)}}mt>0&&ke===!1&&(V=F)}let De;for(let ke=0,mt=$.length;ke<mt;ke++){x=$[ke].s,S.push(x),De=V[ke];for(let gt=0,Mt=De.length;gt<Mt;gt++)x.holes.push(De[gt].h)}return S}}class ip extends yi{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function rp(w,e){const n=w.image&&w.image.width?w.image.width/w.image.height:1;return n>e?(w.repeat.x=1,w.repeat.y=n/e,w.offset.x=0,w.offset.y=(1-w.repeat.y)/2):(w.repeat.x=e/n,w.repeat.y=1,w.offset.x=(1-w.repeat.x)/2,w.offset.y=0),w}function sp(w,e){const n=w.image&&w.image.width?w.image.width/w.image.height:1;return n>e?(w.repeat.x=e/n,w.repeat.y=1,w.offset.x=(1-w.repeat.x)/2,w.offset.y=0):(w.repeat.x=1,w.repeat.y=n/e,w.offset.x=0,w.offset.y=(1-w.repeat.y)/2),w}function op(w){return w.repeat.x=1,w.repeat.y=1,w.offset.x=0,w.offset.y=0,w}function _h(w,e,n,r){const o=ap(r);switch(n){case Tr:return w*e;case Xn:return w*e;case pn:return w*e*2;case or:return w*e/o.components*o.byteLength;case Gr:return w*e/o.components*o.byteLength;case Nr:return w*e*2/o.components*o.byteLength;case Xi:return w*e*2/o.components*o.byteLength;case Dt:return w*e*3/o.components*o.byteLength;case kn:return w*e*4/o.components*o.byteLength;case cs:return w*e*4/o.components*o.byteLength;case zr:case io:return Math.floor((w+3)/4)*Math.floor((e+3)/4)*8;case Ts:case Ns:return Math.floor((w+3)/4)*Math.floor((e+3)/4)*16;case Ao:case ro:return Math.max(w,16)*Math.max(e,8)/4;case Fo:case Po:return Math.max(w,8)*Math.max(e,8)/2;case ua:case Mo:return Math.floor((w+3)/4)*Math.floor((e+3)/4)*8;case Bs:return Math.floor((w+3)/4)*Math.floor((e+3)/4)*16;case Fs:return Math.floor((w+3)/4)*Math.floor((e+3)/4)*16;case Bo:return Math.floor((w+4)/5)*Math.floor((e+3)/4)*16;case bo:return Math.floor((w+4)/5)*Math.floor((e+4)/5)*16;case $r:return Math.floor((w+5)/6)*Math.floor((e+4)/5)*16;case So:return Math.floor((w+5)/6)*Math.floor((e+5)/6)*16;case so:return Math.floor((w+7)/8)*Math.floor((e+4)/5)*16;case mo:return Math.floor((w+7)/8)*Math.floor((e+5)/6)*16;case Us:return Math.floor((w+7)/8)*Math.floor((e+7)/8)*16;case ds:return Math.floor((w+9)/10)*Math.floor((e+4)/5)*16;case Oo:return Math.floor((w+9)/10)*Math.floor((e+5)/6)*16;case Co:return Math.floor((w+9)/10)*Math.floor((e+7)/8)*16;case Fr:return Math.floor((w+9)/10)*Math.floor((e+9)/10)*16;case vo:return Math.floor((w+11)/12)*Math.floor((e+9)/10)*16;case _a:return Math.floor((w+11)/12)*Math.floor((e+11)/12)*16;case bs:case Js:case js:return Math.ceil(w/4)*Math.ceil(e/4)*16;case os:case hs:return Math.ceil(w/4)*Math.ceil(e/4)*8;case qr:case fs:return Math.ceil(w/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function ap(w){switch(w){case Tt:case Tn:return{byteLength:1,components:1};case Ae:case ve:case oi:return{byteLength:2,components:1};case Wi:case Cr:return{byteLength:2,components:4};case fn:case nt:case An:return{byteLength:4,components:1};case Lr:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${w}.`)}class im{static contain(e,n){return rp(e,n)}static cover(e,n){return sp(e,n)}static fill(e){return op(e)}static getByteLength(e,n,r,o){return _h(e,n,r,o)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:a}})),typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=a)},40029:function(ji,It,M){"use strict";M.d(It,{CP7:function(){return fc},Vj0:function(){return _s},rBU:function(){return ai}});var a=M(89888);function W(){let m=null,R=!1,C=null,X=null;function Te(be,St){C(be,St),X=m.requestAnimationFrame(Te)}return{start:function(){R!==!0&&C!==null&&(X=m.requestAnimationFrame(Te),R=!0)},stop:function(){m.cancelAnimationFrame(X),R=!1},setAnimationLoop:function(be){C=be},setContext:function(be){m=be}}}function z(m){const R=new WeakMap;function C(We,wn){const nn=We.array,On=We.usage,Zt=nn.byteLength,Qt=m.createBuffer();m.bindBuffer(wn,Qt),m.bufferData(wn,nn,On),We.onUploadCallback();let on;if(nn instanceof Float32Array)on=m.FLOAT;else if(nn instanceof Uint16Array)We.isFloat16BufferAttribute?on=m.HALF_FLOAT:on=m.UNSIGNED_SHORT;else if(nn instanceof Int16Array)on=m.SHORT;else if(nn instanceof Uint32Array)on=m.UNSIGNED_INT;else if(nn instanceof Int32Array)on=m.INT;else if(nn instanceof Int8Array)on=m.BYTE;else if(nn instanceof Uint8Array)on=m.UNSIGNED_BYTE;else if(nn instanceof Uint8ClampedArray)on=m.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+nn);return{buffer:Qt,type:on,bytesPerElement:nn.BYTES_PER_ELEMENT,version:We.version,size:Zt}}function X(We,wn,nn){const On=wn.array,Zt=wn.updateRanges;if(m.bindBuffer(nn,We),Zt.length===0)m.bufferSubData(nn,0,On);else{Zt.sort((on,Qn)=>on.start-Qn.start);let Qt=0;for(let on=1;on<Zt.length;on++){const Qn=Zt[Qt],Sn=Zt[on];Sn.start<=Qn.start+Qn.count+1?Qn.count=Math.max(Qn.count,Sn.start+Sn.count-Qn.start):(++Qt,Zt[Qt]=Sn)}Zt.length=Qt+1;for(let on=0,Qn=Zt.length;on<Qn;on++){const Sn=Zt[on];m.bufferSubData(nn,Sn.start*On.BYTES_PER_ELEMENT,On,Sn.start,Sn.count)}wn.clearUpdateRanges()}wn.onUploadCallback()}function Te(We){return We.isInterleavedBufferAttribute&&(We=We.data),R.get(We)}function be(We){We.isInterleavedBufferAttribute&&(We=We.data);const wn=R.get(We);wn&&(m.deleteBuffer(wn.buffer),R.delete(We))}function St(We,wn){if(We.isInterleavedBufferAttribute&&(We=We.data),We.isGLBufferAttribute){const On=R.get(We);(!On||On.version<We.version)&&R.set(We,{buffer:We.buffer,type:We.type,bytesPerElement:We.elementSize,version:We.version});return}const nn=R.get(We);if(nn===void 0)R.set(We,C(We,wn));else if(nn.version<We.version){if(nn.size!==We.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");X(nn.buffer,We,wn),nn.version=We.version}}return{get:Te,remove:be,update:St}}var ie=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Pe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,se=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,J=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,fe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Me=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tt=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Be=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,ye=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,$t=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,qe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ye=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vt=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Oe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ee=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,xt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,de=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,re=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Rt=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,T=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Bt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,He=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Fe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Vt=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_t=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,et=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Kt=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,wt=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pt=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,je="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ct=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Le=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,st=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,zt=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Yt=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,xn=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Zn=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Yn=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Fn=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,si=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qi=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,li=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,fi=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Oi=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ei=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Xt=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,rt=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Pt=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,bn=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,di=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,en=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,vr=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Er=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,tr=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,er=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Ui=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Et=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vn=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Mn=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,gi=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,$i=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,hr=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Es=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vi=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ot=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kt=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,cn=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,pi=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,nr=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,mi=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Zi=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$n=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,bi=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Sr=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ir=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Z=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Tt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Tn=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ve=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Ae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,fn=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,An=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oi=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Wi=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Cr=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ur=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Lr=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Tr=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Dt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,kn=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Xn=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pn=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ci=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,ir=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,or=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Gr=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Nr=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Xi=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Zr=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,cs=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,zr=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,io=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ts=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ns=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Fo=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fr={alphahash_fragment:ie,alphahash_pars_fragment:Pe,alphamap_fragment:se,alphamap_pars_fragment:J,alphatest_fragment:oe,alphatest_pars_fragment:fe,aomap_fragment:Me,aomap_pars_fragment:tt,batching_pars_vertex:Be,batching_vertex:ye,begin_vertex:$t,beginnormal_vertex:qe,bsdfs:Ye,iridescence_fragment:vt,bumpmap_pars_fragment:Oe,clipping_planes_fragment:ee,clipping_planes_pars_fragment:xt,clipping_planes_pars_vertex:de,clipping_planes_vertex:re,color_fragment:Rt,color_pars_fragment:T,color_pars_vertex:Bt,color_vertex:He,common:Fe,cube_uv_reflection_fragment:Vt,defaultnormal_vertex:_t,displacementmap_pars_vertex:et,displacementmap_vertex:Kt,emissivemap_fragment:wt,emissivemap_pars_fragment:pt,colorspace_fragment:je,colorspace_pars_fragment:Ct,envmap_fragment:Le,envmap_common_pars_fragment:st,envmap_pars_fragment:zt,envmap_pars_vertex:Yt,envmap_physical_pars_fragment:Xt,envmap_vertex:xn,fog_vertex:Zn,fog_pars_vertex:Yn,fog_fragment:Fn,fog_pars_fragment:si,gradientmap_pars_fragment:qi,lightmap_pars_fragment:li,lights_lambert_fragment:fi,lights_lambert_pars_fragment:Oi,lights_pars_begin:Ei,lights_toon_fragment:rt,lights_toon_pars_fragment:Pt,lights_phong_fragment:bn,lights_phong_pars_fragment:di,lights_physical_fragment:en,lights_physical_pars_fragment:vr,lights_fragment_begin:Er,lights_fragment_maps:tr,lights_fragment_end:er,logdepthbuf_fragment:Ui,logdepthbuf_pars_fragment:Et,logdepthbuf_pars_vertex:vn,logdepthbuf_vertex:Mn,map_fragment:gi,map_pars_fragment:$i,map_particle_fragment:hr,map_particle_pars_fragment:Es,metalnessmap_fragment:vi,metalnessmap_pars_fragment:Ot,morphinstance_vertex:kt,morphcolor_vertex:cn,morphnormal_vertex:pi,morphtarget_pars_vertex:nr,morphtarget_vertex:mi,normal_fragment_begin:Zi,normal_fragment_maps:$n,normal_pars_fragment:bi,normal_pars_vertex:Sr,normal_vertex:Ir,normalmap_pars_fragment:Z,clearcoat_normal_fragment_begin:Tt,clearcoat_normal_fragment_maps:Tn,clearcoat_pars_fragment:ve,iridescence_pars_fragment:Ae,opaque_fragment:nt,packing:fn,premultiplied_alpha_fragment:An,project_vertex:oi,dithering_fragment:Wi,dithering_pars_fragment:Cr,roughnessmap_fragment:Ur,roughnessmap_pars_fragment:Lr,shadowmap_pars_fragment:Tr,shadowmap_pars_vertex:Dt,shadowmap_vertex:kn,shadowmask_pars_fragment:Xn,skinbase_vertex:pn,skinning_pars_vertex:ci,skinning_vertex:ir,skinnormal_vertex:or,specularmap_fragment:Gr,specularmap_pars_fragment:Nr,tonemapping_fragment:Xi,tonemapping_pars_fragment:Zr,transmission_fragment:cs,transmission_pars_fragment:zr,uv_pars_fragment:io,uv_pars_vertex:Ts,uv_vertex:Ns,worldpos_vertex:Fo,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},ai={common:{diffuse:{value:new a.Ilk(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new a.Vkp},alphaMap:{value:null},alphaMapTransform:{value:new a.Vkp},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new a.Vkp}},envmap:{envMap:{value:null},envMapRotation:{value:new a.Vkp},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new a.Vkp}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new a.Vkp}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new a.Vkp},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new a.Vkp},normalScale:{value:new a.FM8(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new a.Vkp},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new a.Vkp}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new a.Vkp}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new a.Vkp}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new a.Ilk(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new a.Ilk(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new a.Vkp},alphaTest:{value:0},uvTransform:{value:new a.Vkp}},sprite:{diffuse:{value:new a.Ilk(16777215)},opacity:{value:1},center:{value:new a.FM8(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new a.Vkp},alphaMap:{value:null},alphaMapTransform:{value:new a.Vkp},alphaTest:{value:0}}},_s={basic:{uniforms:(0,a.Rhp)([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.fog]),vertexShader:fr.meshbasic_vert,fragmentShader:fr.meshbasic_frag},lambert:{uniforms:(0,a.Rhp)([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,ai.lights,{emissive:{value:new a.Ilk(0)}}]),vertexShader:fr.meshlambert_vert,fragmentShader:fr.meshlambert_frag},phong:{uniforms:(0,a.Rhp)([ai.common,ai.specularmap,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,ai.lights,{emissive:{value:new a.Ilk(0)},specular:{value:new a.Ilk(1118481)},shininess:{value:30}}]),vertexShader:fr.meshphong_vert,fragmentShader:fr.meshphong_frag},standard:{uniforms:(0,a.Rhp)([ai.common,ai.envmap,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.roughnessmap,ai.metalnessmap,ai.fog,ai.lights,{emissive:{value:new a.Ilk(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fr.meshphysical_vert,fragmentShader:fr.meshphysical_frag},toon:{uniforms:(0,a.Rhp)([ai.common,ai.aomap,ai.lightmap,ai.emissivemap,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.gradientmap,ai.fog,ai.lights,{emissive:{value:new a.Ilk(0)}}]),vertexShader:fr.meshtoon_vert,fragmentShader:fr.meshtoon_frag},matcap:{uniforms:(0,a.Rhp)([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,ai.fog,{matcap:{value:null}}]),vertexShader:fr.meshmatcap_vert,fragmentShader:fr.meshmatcap_frag},points:{uniforms:(0,a.Rhp)([ai.points,ai.fog]),vertexShader:fr.points_vert,fragmentShader:fr.points_frag},dashed:{uniforms:(0,a.Rhp)([ai.common,ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fr.linedashed_vert,fragmentShader:fr.linedashed_frag},depth:{uniforms:(0,a.Rhp)([ai.common,ai.displacementmap]),vertexShader:fr.depth_vert,fragmentShader:fr.depth_frag},normal:{uniforms:(0,a.Rhp)([ai.common,ai.bumpmap,ai.normalmap,ai.displacementmap,{opacity:{value:1}}]),vertexShader:fr.meshnormal_vert,fragmentShader:fr.meshnormal_frag},sprite:{uniforms:(0,a.Rhp)([ai.sprite,ai.fog]),vertexShader:fr.sprite_vert,fragmentShader:fr.sprite_frag},background:{uniforms:{uvTransform:{value:new a.Vkp},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:fr.background_vert,fragmentShader:fr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new a.Vkp}},vertexShader:fr.backgroundCube_vert,fragmentShader:fr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fr.cube_vert,fragmentShader:fr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fr.equirect_vert,fragmentShader:fr.equirect_frag},distanceRGBA:{uniforms:(0,a.Rhp)([ai.common,ai.displacementmap,{referencePosition:{value:new a.Pa4},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fr.distanceRGBA_vert,fragmentShader:fr.distanceRGBA_frag},shadow:{uniforms:(0,a.Rhp)([ai.lights,ai.fog,{color:{value:new a.Ilk(0)},opacity:{value:1}}]),vertexShader:fr.shadow_vert,fragmentShader:fr.shadow_frag}};_s.physical={uniforms:(0,a.Rhp)([_s.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new a.Vkp},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new a.Vkp},clearcoatNormalScale:{value:new a.FM8(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new a.Vkp},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new a.Vkp},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new a.Vkp},sheen:{value:0},sheenColor:{value:new a.Ilk(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new a.Vkp},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new a.Vkp},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new a.Vkp},transmissionSamplerSize:{value:new a.FM8},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new a.Vkp},attenuationDistance:{value:0},attenuationColor:{value:new a.Ilk(0)},specularColor:{value:new a.Ilk(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new a.Vkp},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new a.Vkp},anisotropyVector:{value:new a.FM8},anisotropyMap:{value:null},anisotropyMapTransform:{value:new a.Vkp}}]),vertexShader:fr.meshphysical_vert,fragmentShader:fr.meshphysical_frag};const Uo={r:0,b:0,g:0},zo=new a.USm,el=new a.yGw;function ws(m,R,C,X,Te,be,St){const We=new a.Ilk(0);let wn=be===!0?0:1,nn,On,Zt=null,Qt=0,on=null;function Qn(ln){let jt=ln.isScene===!0?ln.background:null;return jt&&jt.isTexture&&(jt=(ln.backgroundBlurriness>0?C:R).get(jt)),jt}function Sn(ln){let jt=!1;const _i=Qn(ln);_i===null?he(We,wn):_i&&_i.isColor&&(he(_i,1),jt=!0);const Cn=m.xr.getEnvironmentBlendMode();Cn==="additive"?X.buffers.color.setClear(0,0,0,1,St):Cn==="alpha-blend"&&X.buffers.color.setClear(0,0,0,0,St),(m.autoClear||jt)&&(X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),m.clear(m.autoClearColor,m.autoClearDepth,m.autoClearStencil))}function Re(ln,jt){const _i=Qn(jt);_i&&(_i.isCubeTexture||_i.mapping===a.g8_)?(On===void 0&&(On=new a.Kj0(new a.DvJ(1,1,1),new a.jyz({name:"BackgroundCubeMaterial",uniforms:(0,a.dwf)(_s.backgroundCube.uniforms),vertexShader:_s.backgroundCube.vertexShader,fragmentShader:_s.backgroundCube.fragmentShader,side:a._Li,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),On.geometry.deleteAttribute("normal"),On.geometry.deleteAttribute("uv"),On.onBeforeRender=function(Cn,Nn,wi){this.matrixWorld.copyPosition(wi.matrixWorld)},Object.defineProperty(On.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),Te.update(On)),zo.copy(jt.backgroundRotation),zo.x*=-1,zo.y*=-1,zo.z*=-1,_i.isCubeTexture&&_i.isRenderTargetTexture===!1&&(zo.y*=-1,zo.z*=-1),On.material.uniforms.envMap.value=_i,On.material.uniforms.flipEnvMap.value=_i.isCubeTexture&&_i.isRenderTargetTexture===!1?-1:1,On.material.uniforms.backgroundBlurriness.value=jt.backgroundBlurriness,On.material.uniforms.backgroundIntensity.value=jt.backgroundIntensity,On.material.uniforms.backgroundRotation.value.setFromMatrix4(el.makeRotationFromEuler(zo)),On.material.toneMapped=a.epp.getTransfer(_i.colorSpace)!==a.j17,(Zt!==_i||Qt!==_i.version||on!==m.toneMapping)&&(On.material.needsUpdate=!0,Zt=_i,Qt=_i.version,on=m.toneMapping),On.layers.enableAll(),ln.unshift(On,On.geometry,On.material,0,0,null)):_i&&_i.isTexture&&(nn===void 0&&(nn=new a.Kj0(new a._12(2,2),new a.jyz({name:"BackgroundMaterial",uniforms:(0,a.dwf)(_s.background.uniforms),vertexShader:_s.background.vertexShader,fragmentShader:_s.background.fragmentShader,side:a.Wl3,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),nn.geometry.deleteAttribute("normal"),Object.defineProperty(nn.material,"map",{get:function(){return this.uniforms.t2D.value}}),Te.update(nn)),nn.material.uniforms.t2D.value=_i,nn.material.uniforms.backgroundIntensity.value=jt.backgroundIntensity,nn.material.toneMapped=a.epp.getTransfer(_i.colorSpace)!==a.j17,_i.matrixAutoUpdate===!0&&_i.updateMatrix(),nn.material.uniforms.uvTransform.value.copy(_i.matrix),(Zt!==_i||Qt!==_i.version||on!==m.toneMapping)&&(nn.material.needsUpdate=!0,Zt=_i,Qt=_i.version,on=m.toneMapping),nn.layers.enableAll(),ln.unshift(nn,nn.geometry,nn.material,0,0,null))}function he(ln,jt){ln.getRGB(Uo,(0,a.oDz)(m)),X.buffers.color.setClear(Uo.r,Uo.g,Uo.b,jt,St)}function Pn(){On!==void 0&&(On.geometry.dispose(),On.material.dispose(),On=void 0),nn!==void 0&&(nn.geometry.dispose(),nn.material.dispose(),nn=void 0)}return{getClearColor:function(){return We},setClearColor:function(ln,jt=1){We.set(ln),wn=jt,he(We,wn)},getClearAlpha:function(){return wn},setClearAlpha:function(ln){wn=ln,he(We,wn)},render:Sn,addToRenderList:Re,dispose:Pn}}function za(m,R){const C=m.getParameter(m.MAX_VERTEX_ATTRIBS),X={},Te=Qt(null);let be=Te,St=!1;function We(Ue,un,ki,Mi,Rn){let Li=!1;const Ai=Zt(Mi,ki,un);be!==Ai&&(be=Ai,nn(be.object)),Li=on(Ue,Mi,ki,Rn),Li&&Qn(Ue,Mi,ki,Rn),Rn!==null&&R.update(Rn,m.ELEMENT_ARRAY_BUFFER),(Li||St)&&(St=!1,jt(Ue,un,ki,Mi),Rn!==null&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,R.get(Rn).buffer))}function wn(){return m.createVertexArray()}function nn(Ue){return m.bindVertexArray(Ue)}function On(Ue){return m.deleteVertexArray(Ue)}function Zt(Ue,un,ki){const Mi=ki.wireframe===!0;let Rn=X[Ue.id];Rn===void 0&&(Rn={},X[Ue.id]=Rn);let Li=Rn[un.id];Li===void 0&&(Li={},Rn[un.id]=Li);let Ai=Li[Mi];return Ai===void 0&&(Ai=Qt(wn()),Li[Mi]=Ai),Ai}function Qt(Ue){const un=[],ki=[],Mi=[];for(let Rn=0;Rn<C;Rn++)un[Rn]=0,ki[Rn]=0,Mi[Rn]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:un,enabledAttributes:ki,attributeDivisors:Mi,object:Ue,attributes:{},index:null}}function on(Ue,un,ki,Mi){const Rn=be.attributes,Li=un.attributes;let Ai=0;const yr=ki.getAttributes();for(const Wn in yr)if(yr[Wn].location>=0){const yo=Rn[Wn];let to=Li[Wn];if(to===void 0&&(Wn==="instanceMatrix"&&Ue.instanceMatrix&&(to=Ue.instanceMatrix),Wn==="instanceColor"&&Ue.instanceColor&&(to=Ue.instanceColor)),yo===void 0||yo.attribute!==to||to&&yo.data!==to.data)return!0;Ai++}return be.attributesNum!==Ai||be.index!==Mi}function Qn(Ue,un,ki,Mi){const Rn={},Li=un.attributes;let Ai=0;const yr=ki.getAttributes();for(const Wn in yr)if(yr[Wn].location>=0){let yo=Li[Wn];yo===void 0&&(Wn==="instanceMatrix"&&Ue.instanceMatrix&&(yo=Ue.instanceMatrix),Wn==="instanceColor"&&Ue.instanceColor&&(yo=Ue.instanceColor));const to={};to.attribute=yo,yo&&yo.data&&(to.data=yo.data),Rn[Wn]=to,Ai++}be.attributes=Rn,be.attributesNum=Ai,be.index=Mi}function Sn(){const Ue=be.newAttributes;for(let un=0,ki=Ue.length;un<ki;un++)Ue[un]=0}function Re(Ue){he(Ue,0)}function he(Ue,un){const ki=be.newAttributes,Mi=be.enabledAttributes,Rn=be.attributeDivisors;ki[Ue]=1,Mi[Ue]===0&&(m.enableVertexAttribArray(Ue),Mi[Ue]=1),Rn[Ue]!==un&&(m.vertexAttribDivisor(Ue,un),Rn[Ue]=un)}function Pn(){const Ue=be.newAttributes,un=be.enabledAttributes;for(let ki=0,Mi=un.length;ki<Mi;ki++)un[ki]!==Ue[ki]&&(m.disableVertexAttribArray(ki),un[ki]=0)}function ln(Ue,un,ki,Mi,Rn,Li,Ai){Ai===!0?m.vertexAttribIPointer(Ue,un,ki,Rn,Li):m.vertexAttribPointer(Ue,un,ki,Mi,Rn,Li)}function jt(Ue,un,ki,Mi){Sn();const Rn=Mi.attributes,Li=ki.getAttributes(),Ai=un.defaultAttributeValues;for(const yr in Li){const Wn=Li[yr];if(Wn.location>=0){let Os=Rn[yr];if(Os===void 0&&(yr==="instanceMatrix"&&Ue.instanceMatrix&&(Os=Ue.instanceMatrix),yr==="instanceColor"&&Ue.instanceColor&&(Os=Ue.instanceColor)),Os!==void 0){const yo=Os.normalized,to=Os.itemSize,ta=R.get(Os);if(ta===void 0)continue;const nl=ta.buffer,Kn=ta.type,Hr=ta.bytesPerElement,Rs=Kn===m.INT||Kn===m.UNSIGNED_INT||Os.gpuType===a.Kz5;if(Os.isInterleavedBufferAttribute){const xr=Os.data,xo=xr.stride,Ra=Os.offset;if(xr.isInstancedInterleavedBuffer){for(let Do=0;Do<Wn.locationSize;Do++)he(Wn.location+Do,xr.meshPerAttribute);Ue.isInstancedMesh!==!0&&Mi._maxInstanceCount===void 0&&(Mi._maxInstanceCount=xr.meshPerAttribute*xr.count)}else for(let Do=0;Do<Wn.locationSize;Do++)Re(Wn.location+Do);m.bindBuffer(m.ARRAY_BUFFER,nl);for(let Do=0;Do<Wn.locationSize;Do++)ln(Wn.location+Do,to/Wn.locationSize,Kn,yo,xo*Hr,(Ra+to/Wn.locationSize*Do)*Hr,Rs)}else{if(Os.isInstancedBufferAttribute){for(let xr=0;xr<Wn.locationSize;xr++)he(Wn.location+xr,Os.meshPerAttribute);Ue.isInstancedMesh!==!0&&Mi._maxInstanceCount===void 0&&(Mi._maxInstanceCount=Os.meshPerAttribute*Os.count)}else for(let xr=0;xr<Wn.locationSize;xr++)Re(Wn.location+xr);m.bindBuffer(m.ARRAY_BUFFER,nl);for(let xr=0;xr<Wn.locationSize;xr++)ln(Wn.location+xr,to/Wn.locationSize,Kn,yo,to*Hr,to/Wn.locationSize*xr*Hr,Rs)}}else if(Ai!==void 0){const yo=Ai[yr];if(yo!==void 0)switch(yo.length){case 2:m.vertexAttrib2fv(Wn.location,yo);break;case 3:m.vertexAttrib3fv(Wn.location,yo);break;case 4:m.vertexAttrib4fv(Wn.location,yo);break;default:m.vertexAttrib1fv(Wn.location,yo)}}}}Pn()}function _i(){wi();for(const Ue in X){const un=X[Ue];for(const ki in un){const Mi=un[ki];for(const Rn in Mi)On(Mi[Rn].object),delete Mi[Rn];delete un[ki]}delete X[Ue]}}function Cn(Ue){if(X[Ue.id]===void 0)return;const un=X[Ue.id];for(const ki in un){const Mi=un[ki];for(const Rn in Mi)On(Mi[Rn].object),delete Mi[Rn];delete un[ki]}delete X[Ue.id]}function Nn(Ue){for(const un in X){const ki=X[un];if(ki[Ue.id]===void 0)continue;const Mi=ki[Ue.id];for(const Rn in Mi)On(Mi[Rn].object),delete Mi[Rn];delete ki[Ue.id]}}function wi(){Ke(),St=!0,be!==Te&&(be=Te,nn(be.object))}function Ke(){Te.geometry=null,Te.program=null,Te.wireframe=!1}return{setup:We,reset:wi,resetDefaultState:Ke,dispose:_i,releaseStatesOfGeometry:Cn,releaseStatesOfProgram:Nn,initAttributes:Sn,enableAttribute:Re,disableUnusedAttributes:Pn}}function Ka(m,R,C){let X;function Te(nn){X=nn}function be(nn,On){m.drawArrays(X,nn,On),C.update(On,X,1)}function St(nn,On,Zt){Zt!==0&&(m.drawArraysInstanced(X,nn,On,Zt),C.update(On,X,Zt))}function We(nn,On,Zt){if(Zt===0)return;R.get("WEBGL_multi_draw").multiDrawArraysWEBGL(X,nn,0,On,0,Zt);let on=0;for(let Qn=0;Qn<Zt;Qn++)on+=On[Qn];C.update(on,X,1)}function wn(nn,On,Zt,Qt){if(Zt===0)return;const on=R.get("WEBGL_multi_draw");if(on===null)for(let Qn=0;Qn<nn.length;Qn++)St(nn[Qn],On[Qn],Qt[Qn]);else{on.multiDrawArraysInstancedWEBGL(X,nn,0,On,0,Qt,0,Zt);let Qn=0;for(let Sn=0;Sn<Zt;Sn++)Qn+=On[Sn]*Qt[Sn];C.update(Qn,X,1)}}this.setMode=Te,this.render=be,this.renderInstances=St,this.renderMultiDraw=We,this.renderMultiDrawInstances=wn}function Ma(m,R,C,X){let Te;function be(){if(Te!==void 0)return Te;if(R.has("EXT_texture_filter_anisotropic")===!0){const Nn=R.get("EXT_texture_filter_anisotropic");Te=m.getParameter(Nn.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else Te=0;return Te}function St(Nn){return!(Nn!==a.wk1&&X.convert(Nn)!==m.getParameter(m.IMPLEMENTATION_COLOR_READ_FORMAT))}function We(Nn){const wi=Nn===a.cLu&&(R.has("EXT_color_buffer_half_float")||R.has("EXT_color_buffer_float"));return!(Nn!==a.ywz&&X.convert(Nn)!==m.getParameter(m.IMPLEMENTATION_COLOR_READ_TYPE)&&Nn!==a.VzW&&!wi)}function wn(Nn){if(Nn==="highp"){if(m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.HIGH_FLOAT).precision>0&&m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.HIGH_FLOAT).precision>0)return"highp";Nn="mediump"}return Nn==="mediump"&&m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.MEDIUM_FLOAT).precision>0&&m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let nn=C.precision!==void 0?C.precision:"highp";const On=wn(nn);On!==nn&&(console.warn("THREE.WebGLRenderer:",nn,"not supported, using",On,"instead."),nn=On);const Zt=C.logarithmicDepthBuffer===!0,Qt=C.reverseDepthBuffer===!0&&R.has("EXT_clip_control"),on=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS),Qn=m.getParameter(m.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Sn=m.getParameter(m.MAX_TEXTURE_SIZE),Re=m.getParameter(m.MAX_CUBE_MAP_TEXTURE_SIZE),he=m.getParameter(m.MAX_VERTEX_ATTRIBS),Pn=m.getParameter(m.MAX_VERTEX_UNIFORM_VECTORS),ln=m.getParameter(m.MAX_VARYING_VECTORS),jt=m.getParameter(m.MAX_FRAGMENT_UNIFORM_VECTORS),_i=Qn>0,Cn=m.getParameter(m.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:be,getMaxPrecision:wn,textureFormatReadable:St,textureTypeReadable:We,precision:nn,logarithmicDepthBuffer:Zt,reverseDepthBuffer:Qt,maxTextures:on,maxVertexTextures:Qn,maxTextureSize:Sn,maxCubemapSize:Re,maxAttributes:he,maxVertexUniforms:Pn,maxVaryings:ln,maxFragmentUniforms:jt,vertexTextures:_i,maxSamples:Cn}}function ya(m){const R=this;let C=null,X=0,Te=!1,be=!1;const St=new a.JOQ,We=new a.Vkp,wn={value:null,needsUpdate:!1};this.uniform=wn,this.numPlanes=0,this.numIntersection=0,this.init=function(Zt,Qt){const on=Zt.length!==0||Qt||X!==0||Te;return Te=Qt,X=Zt.length,on},this.beginShadows=function(){be=!0,On(null)},this.endShadows=function(){be=!1},this.setGlobalState=function(Zt,Qt){C=On(Zt,Qt,0)},this.setState=function(Zt,Qt,on){const Qn=Zt.clippingPlanes,Sn=Zt.clipIntersection,Re=Zt.clipShadows,he=m.get(Zt);if(!Te||Qn===null||Qn.length===0||be&&!Re)be?On(null):nn();else{const Pn=be?0:X,ln=Pn*4;let jt=he.clippingState||null;wn.value=jt,jt=On(Qn,Qt,ln,on);for(let _i=0;_i!==ln;++_i)jt[_i]=C[_i];he.clippingState=jt,this.numIntersection=Sn?this.numPlanes:0,this.numPlanes+=Pn}};function nn(){wn.value!==C&&(wn.value=C,wn.needsUpdate=X>0),R.numPlanes=X,R.numIntersection=0}function On(Zt,Qt,on,Qn){const Sn=Zt!==null?Zt.length:0;let Re=null;if(Sn!==0){if(Re=wn.value,Qn!==!0||Re===null){const he=on+Sn*4,Pn=Qt.matrixWorldInverse;We.getNormalMatrix(Pn),(Re===null||Re.length<he)&&(Re=new Float32Array(he));for(let ln=0,jt=on;ln!==Sn;++ln,jt+=4)St.copy(Zt[ln]).applyMatrix4(Pn,We),St.normal.toArray(Re,jt),Re[jt+3]=St.constant}wn.value=Re,wn.needsUpdate=!0}return R.numPlanes=Sn,R.numIntersection=0,Re}}function ra(m){let R=new WeakMap;function C(St,We){return We===a.dSO?St.mapping=a.fY$:We===a.Bf4&&(St.mapping=a.vxC),St}function X(St){if(St&&St.isTexture){const We=St.mapping;if(We===a.dSO||We===a.Bf4)if(R.has(St)){const wn=R.get(St).texture;return C(wn,St.mapping)}else{const wn=St.image;if(wn&&wn.height>0){const nn=new a.oAp(wn.height);return nn.fromEquirectangularTexture(m,St),R.set(St,nn),St.addEventListener("dispose",Te),C(nn.texture,St.mapping)}else return null}}return St}function Te(St){const We=St.target;We.removeEventListener("dispose",Te);const wn=R.get(We);wn!==void 0&&(R.delete(We),wn.dispose())}function be(){R=new WeakMap}return{get:X,dispose:be}}const $a=4,ll=[.125,.215,.35,.446,.526,.582],Jo=20,ba=new a.iKG,hl=new a.Ilk;let $e=null,Y=0,H=0,ae=!1;const Q=(1+Math.sqrt(5))/2,Ze=1/Q,lt=[new a.Pa4(-Q,Ze,0),new a.Pa4(Q,Ze,0),new a.Pa4(-Ze,0,Q),new a.Pa4(Ze,0,Q),new a.Pa4(0,Q,-Ze),new a.Pa4(0,Q,Ze),new a.Pa4(-1,1,-1),new a.Pa4(1,1,-1),new a.Pa4(-1,1,1),new a.Pa4(1,1,1)],tn=new a.Pa4;class _n{constructor(R){this._renderer=R,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(R,C=0,X=.1,Te=100,be={}){const{size:St=256,position:We=tn}=be;$e=this._renderer.getRenderTarget(),Y=this._renderer.getActiveCubeFace(),H=this._renderer.getActiveMipmapLevel(),ae=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(St);const wn=this._allocateTargets();return wn.depthBuffer=!0,this._sceneToCubeUV(R,X,Te,wn,We),C>0&&this._blur(wn,0,0,C),this._applyPMREM(wn),this._cleanup(wn),wn}fromEquirectangular(R,C=null){return this._fromTexture(R,C)}fromCubemap(R,C=null){return this._fromTexture(R,C)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=P(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=E(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(R){this._lodMax=Math.floor(Math.log2(R)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let R=0;R<this._lodPlanes.length;R++)this._lodPlanes[R].dispose()}_cleanup(R){this._renderer.setRenderTarget($e,Y,H),this._renderer.xr.enabled=ae,R.scissorTest=!1,d(R,0,0,R.width,R.height)}_fromTexture(R,C){R.mapping===a.fY$||R.mapping===a.vxC?this._setSize(R.image.length===0?16:R.image[0].width||R.image[0].image.width):this._setSize(R.image.width/4),$e=this._renderer.getRenderTarget(),Y=this._renderer.getActiveCubeFace(),H=this._renderer.getActiveMipmapLevel(),ae=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const X=C||this._allocateTargets();return this._textureToCubeUV(R,X),this._applyPMREM(X),this._cleanup(X),X}_allocateTargets(){const R=3*Math.max(this._cubeSize,112),C=4*this._cubeSize,X={magFilter:a.wem,minFilter:a.wem,generateMipmaps:!1,type:a.cLu,format:a.wk1,colorSpace:a.GUF,depthBuffer:!1},Te=dn(R,C,X);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==R||this._pingPongRenderTarget.height!==C){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dn(R,C,X);const{_lodMax:be}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Hn(be)),this._blurMaterial=y(be,R,C)}return Te}_compileMaterial(R){const C=new a.Kj0(this._lodPlanes[0],R);this._renderer.compile(C,ba)}_sceneToCubeUV(R,C,X,Te,be){const wn=new a.cPb(90,1,C,X),nn=[1,-1,1,1,1,1],On=[1,1,1,-1,-1,-1],Zt=this._renderer,Qt=Zt.autoClear,on=Zt.toneMapping;Zt.getClearColor(hl),Zt.toneMapping=a.uL9,Zt.autoClear=!1;const Qn=new a.vBJ({name:"PMREM.Background",side:a._Li,depthWrite:!1,depthTest:!1}),Sn=new a.Kj0(new a.DvJ,Qn);let Re=!1;const he=R.background;he?he.isColor&&(Qn.color.copy(he),R.background=null,Re=!0):(Qn.color.copy(hl),Re=!0);for(let Pn=0;Pn<6;Pn++){const ln=Pn%3;ln===0?(wn.up.set(0,nn[Pn],0),wn.position.set(be.x,be.y,be.z),wn.lookAt(be.x+On[Pn],be.y,be.z)):ln===1?(wn.up.set(0,0,nn[Pn]),wn.position.set(be.x,be.y,be.z),wn.lookAt(be.x,be.y+On[Pn],be.z)):(wn.up.set(0,nn[Pn],0),wn.position.set(be.x,be.y,be.z),wn.lookAt(be.x,be.y,be.z+On[Pn]));const jt=this._cubeSize;d(Te,ln*jt,Pn>2?jt:0,jt,jt),Zt.setRenderTarget(Te),Re&&Zt.render(Sn,wn),Zt.render(R,wn)}Sn.geometry.dispose(),Sn.material.dispose(),Zt.toneMapping=on,Zt.autoClear=Qt,R.background=he}_textureToCubeUV(R,C){const X=this._renderer,Te=R.mapping===a.fY$||R.mapping===a.vxC;Te?(this._cubemapMaterial===null&&(this._cubemapMaterial=P()),this._cubemapMaterial.uniforms.flipEnvMap.value=R.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=E());const be=Te?this._cubemapMaterial:this._equirectMaterial,St=new a.Kj0(this._lodPlanes[0],be),We=be.uniforms;We.envMap.value=R;const wn=this._cubeSize;d(C,0,0,3*wn,2*wn),X.setRenderTarget(C),X.render(St,ba)}_applyPMREM(R){const C=this._renderer,X=C.autoClear;C.autoClear=!1;const Te=this._lodPlanes.length;for(let be=1;be<Te;be++){const St=Math.sqrt(this._sigmas[be]*this._sigmas[be]-this._sigmas[be-1]*this._sigmas[be-1]),We=lt[(Te-be-1)%lt.length];this._blur(R,be-1,be,St,We)}C.autoClear=X}_blur(R,C,X,Te,be){const St=this._pingPongRenderTarget;this._halfBlur(R,St,C,X,Te,"latitudinal",be),this._halfBlur(St,R,X,X,Te,"longitudinal",be)}_halfBlur(R,C,X,Te,be,St,We){const wn=this._renderer,nn=this._blurMaterial;St!=="latitudinal"&&St!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const On=3,Zt=new a.Kj0(this._lodPlanes[Te],nn),Qt=nn.uniforms,on=this._sizeLods[X]-1,Qn=isFinite(be)?Math.PI/(2*on):2*Math.PI/(2*Jo-1),Sn=be/Qn,Re=isFinite(be)?1+Math.floor(On*Sn):Jo;Re>Jo&&console.warn(`sigmaRadians, ${be}, is too large and will clip, as it requested ${Re} samples when the maximum is set to ${Jo}`);const he=[];let Pn=0;for(let Nn=0;Nn<Jo;++Nn){const wi=Nn/Sn,Ke=Math.exp(-wi*wi/2);he.push(Ke),Nn===0?Pn+=Ke:Nn<Re&&(Pn+=2*Ke)}for(let Nn=0;Nn<he.length;Nn++)he[Nn]=he[Nn]/Pn;Qt.envMap.value=R.texture,Qt.samples.value=Re,Qt.weights.value=he,Qt.latitudinal.value=St==="latitudinal",We&&(Qt.poleAxis.value=We);const{_lodMax:ln}=this;Qt.dTheta.value=Qn,Qt.mipInt.value=ln-X;const jt=this._sizeLods[Te],_i=3*jt*(Te>ln-$a?Te-ln+$a:0),Cn=4*(this._cubeSize-jt);d(C,_i,Cn,3*jt,2*jt),wn.setRenderTarget(C),wn.render(Zt,ba)}}function Hn(m){const R=[],C=[],X=[];let Te=m;const be=m-$a+1+ll.length;for(let St=0;St<be;St++){const We=Math.pow(2,Te);C.push(We);let wn=1/We;St>m-$a?wn=ll[St-m+$a-1]:St===0&&(wn=0),X.push(wn);const nn=1/(We-2),On=-nn,Zt=1+nn,Qt=[On,On,Zt,On,Zt,Zt,On,On,Zt,Zt,On,Zt],on=6,Qn=6,Sn=3,Re=2,he=1,Pn=new Float32Array(Sn*Qn*on),ln=new Float32Array(Re*Qn*on),jt=new Float32Array(he*Qn*on);for(let Cn=0;Cn<on;Cn++){const Nn=Cn%3*2/3-1,wi=Cn>2?0:-1,Ke=[Nn,wi,0,Nn+2/3,wi,0,Nn+2/3,wi+1,0,Nn,wi,0,Nn+2/3,wi+1,0,Nn,wi+1,0];Pn.set(Ke,Sn*Qn*Cn),ln.set(Qt,Re*Qn*Cn);const Ue=[Cn,Cn,Cn,Cn,Cn,Cn];jt.set(Ue,he*Qn*Cn)}const _i=new a.u9r;_i.setAttribute("position",new a.TlE(Pn,Sn)),_i.setAttribute("uv",new a.TlE(ln,Re)),_i.setAttribute("faceIndex",new a.TlE(jt,he)),R.push(_i),Te>$a&&Te--}return{lodPlanes:R,sizeLods:C,sigmas:X}}function dn(m,R,C){const X=new a.dd2(m,R,C);return X.texture.mapping=a.g8_,X.texture.name="PMREM.cubeUv",X.scissorTest=!0,X}function d(m,R,C,X,Te){m.viewport.set(R,C,X,Te),m.scissor.set(R,C,X,Te)}function y(m,R,C){const X=new Float32Array(Jo),Te=new a.Pa4(0,1,0);return new a.jyz({name:"SphericalGaussianBlur",defines:{n:Jo,CUBEUV_TEXEL_WIDTH:1/R,CUBEUV_TEXEL_HEIGHT:1/C,CUBEUV_MAX_MIP:`${m}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:X},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:Te}},vertexShader:k(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:a.jFi,depthTest:!1,depthWrite:!1})}function E(){return new a.jyz({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:k(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:a.jFi,depthTest:!1,depthWrite:!1})}function P(){return new a.jyz({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:k(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:a.jFi,depthTest:!1,depthWrite:!1})}function k(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function N(m){let R=new WeakMap,C=null;function X(We){if(We&&We.isTexture){const wn=We.mapping,nn=wn===a.dSO||wn===a.Bf4,On=wn===a.fY$||wn===a.vxC;if(nn||On){let Zt=R.get(We);const Qt=Zt!==void 0?Zt.texture.pmremVersion:0;if(We.isRenderTargetTexture&&We.pmremVersion!==Qt)return C===null&&(C=new _n(m)),Zt=nn?C.fromEquirectangular(We,Zt):C.fromCubemap(We,Zt),Zt.texture.pmremVersion=We.pmremVersion,R.set(We,Zt),Zt.texture;if(Zt!==void 0)return Zt.texture;{const on=We.image;return nn&&on&&on.height>0||On&&on&&Te(on)?(C===null&&(C=new _n(m)),Zt=nn?C.fromEquirectangular(We):C.fromCubemap(We),Zt.texture.pmremVersion=We.pmremVersion,R.set(We,Zt),We.addEventListener("dispose",be),Zt.texture):null}}}return We}function Te(We){let wn=0;const nn=6;for(let On=0;On<nn;On++)We[On]!==void 0&&wn++;return wn===nn}function be(We){const wn=We.target;wn.removeEventListener("dispose",be);const nn=R.get(wn);nn!==void 0&&(R.delete(wn),nn.dispose())}function St(){R=new WeakMap,C!==null&&(C.dispose(),C=null)}return{get:X,dispose:St}}function K(m){const R={};function C(X){if(R[X]!==void 0)return R[X];let Te;switch(X){case"WEBGL_depth_texture":Te=m.getExtension("WEBGL_depth_texture")||m.getExtension("MOZ_WEBGL_depth_texture")||m.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":Te=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":Te=m.getExtension("WEBGL_compressed_texture_s3tc")||m.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":Te=m.getExtension("WEBGL_compressed_texture_pvrtc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:Te=m.getExtension(X)}return R[X]=Te,Te}return{has:function(X){return C(X)!==null},init:function(){C("EXT_color_buffer_float"),C("WEBGL_clip_cull_distance"),C("OES_texture_float_linear"),C("EXT_color_buffer_half_float"),C("WEBGL_multisampled_render_to_texture"),C("WEBGL_render_shared_exponent")},get:function(X){const Te=C(X);return Te===null&&(0,a.O4K)("THREE.WebGLRenderer: "+X+" extension not supported."),Te}}}function _e(m,R,C,X){const Te={},be=new WeakMap;function St(Zt){const Qt=Zt.target;Qt.index!==null&&R.remove(Qt.index);for(const Qn in Qt.attributes)R.remove(Qt.attributes[Qn]);Qt.removeEventListener("dispose",St),delete Te[Qt.id];const on=be.get(Qt);on&&(R.remove(on),be.delete(Qt)),X.releaseStatesOfGeometry(Qt),Qt.isInstancedBufferGeometry===!0&&delete Qt._maxInstanceCount,C.memory.geometries--}function We(Zt,Qt){return Te[Qt.id]===!0||(Qt.addEventListener("dispose",St),Te[Qt.id]=!0,C.memory.geometries++),Qt}function wn(Zt){const Qt=Zt.attributes;for(const on in Qt)R.update(Qt[on],m.ARRAY_BUFFER)}function nn(Zt){const Qt=[],on=Zt.index,Qn=Zt.attributes.position;let Sn=0;if(on!==null){const Pn=on.array;Sn=on.version;for(let ln=0,jt=Pn.length;ln<jt;ln+=3){const _i=Pn[ln+0],Cn=Pn[ln+1],Nn=Pn[ln+2];Qt.push(_i,Cn,Cn,Nn,Nn,_i)}}else if(Qn!==void 0){const Pn=Qn.array;Sn=Qn.version;for(let ln=0,jt=Pn.length/3-1;ln<jt;ln+=3){const _i=ln+0,Cn=ln+1,Nn=ln+2;Qt.push(_i,Cn,Cn,Nn,Nn,_i)}}else return;const Re=new((0,a.H7L)(Qt)?a.lCJ:a.qlB)(Qt,1);Re.version=Sn;const he=be.get(Zt);he&&R.remove(he),be.set(Zt,Re)}function On(Zt){const Qt=be.get(Zt);if(Qt){const on=Zt.index;on!==null&&Qt.version<on.version&&nn(Zt)}else nn(Zt);return be.get(Zt)}return{get:We,update:wn,getWireframeAttribute:On}}function Ee(m,R,C){let X;function Te(Qt){X=Qt}let be,St;function We(Qt){be=Qt.type,St=Qt.bytesPerElement}function wn(Qt,on){m.drawElements(X,on,be,Qt*St),C.update(on,X,1)}function nn(Qt,on,Qn){Qn!==0&&(m.drawElementsInstanced(X,on,be,Qt*St,Qn),C.update(on,X,Qn))}function On(Qt,on,Qn){if(Qn===0)return;R.get("WEBGL_multi_draw").multiDrawElementsWEBGL(X,on,0,be,Qt,0,Qn);let Re=0;for(let he=0;he<Qn;he++)Re+=on[he];C.update(Re,X,1)}function Zt(Qt,on,Qn,Sn){if(Qn===0)return;const Re=R.get("WEBGL_multi_draw");if(Re===null)for(let he=0;he<Qt.length;he++)nn(Qt[he]/St,on[he],Sn[he]);else{Re.multiDrawElementsInstancedWEBGL(X,on,0,be,Qt,0,Sn,0,Qn);let he=0;for(let Pn=0;Pn<Qn;Pn++)he+=on[Pn]*Sn[Pn];C.update(he,X,1)}}this.setMode=Te,this.setIndex=We,this.render=wn,this.renderInstances=nn,this.renderMultiDraw=On,this.renderMultiDrawInstances=Zt}function it(m){const R={geometries:0,textures:0},C={frame:0,calls:0,triangles:0,points:0,lines:0};function X(be,St,We){switch(C.calls++,St){case m.TRIANGLES:C.triangles+=We*(be/3);break;case m.LINES:C.lines+=We*(be/2);break;case m.LINE_STRIP:C.lines+=We*(be-1);break;case m.LINE_LOOP:C.lines+=We*be;break;case m.POINTS:C.points+=We*be;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",St);break}}function Te(){C.calls=0,C.triangles=0,C.points=0,C.lines=0}return{memory:R,render:C,programs:null,autoReset:!0,reset:Te,update:X}}function Ht(m,R,C){const X=new WeakMap,Te=new a.Ltg;function be(St,We,wn){const nn=St.morphTargetInfluences,On=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,Zt=On!==void 0?On.length:0;let Qt=X.get(We);if(Qt===void 0||Qt.count!==Zt){let Ke=function(){Nn.dispose(),X.delete(We),We.removeEventListener("dispose",Ke)};Qt!==void 0&&Qt.texture.dispose();const on=We.morphAttributes.position!==void 0,Qn=We.morphAttributes.normal!==void 0,Sn=We.morphAttributes.color!==void 0,Re=We.morphAttributes.position||[],he=We.morphAttributes.normal||[],Pn=We.morphAttributes.color||[];let ln=0;on===!0&&(ln=1),Qn===!0&&(ln=2),Sn===!0&&(ln=3);let jt=We.attributes.position.count*ln,_i=1;jt>R.maxTextureSize&&(_i=Math.ceil(jt/R.maxTextureSize),jt=R.maxTextureSize);const Cn=new Float32Array(jt*_i*4*Zt),Nn=new a.p3g(Cn,jt,_i,Zt);Nn.type=a.VzW,Nn.needsUpdate=!0;const wi=ln*4;for(let Ue=0;Ue<Zt;Ue++){const un=Re[Ue],ki=he[Ue],Mi=Pn[Ue],Rn=jt*_i*4*Ue;for(let Li=0;Li<un.count;Li++){const Ai=Li*wi;on===!0&&(Te.fromBufferAttribute(un,Li),Cn[Rn+Ai+0]=Te.x,Cn[Rn+Ai+1]=Te.y,Cn[Rn+Ai+2]=Te.z,Cn[Rn+Ai+3]=0),Qn===!0&&(Te.fromBufferAttribute(ki,Li),Cn[Rn+Ai+4]=Te.x,Cn[Rn+Ai+5]=Te.y,Cn[Rn+Ai+6]=Te.z,Cn[Rn+Ai+7]=0),Sn===!0&&(Te.fromBufferAttribute(Mi,Li),Cn[Rn+Ai+8]=Te.x,Cn[Rn+Ai+9]=Te.y,Cn[Rn+Ai+10]=Te.z,Cn[Rn+Ai+11]=Mi.itemSize===4?Te.w:1)}}Qt={count:Zt,texture:Nn,size:new a.FM8(jt,_i)},X.set(We,Qt),We.addEventListener("dispose",Ke)}if(St.isInstancedMesh===!0&&St.morphTexture!==null)wn.getUniforms().setValue(m,"morphTexture",St.morphTexture,C);else{let on=0;for(let Sn=0;Sn<nn.length;Sn++)on+=nn[Sn];const Qn=We.morphTargetsRelative?1:1-on;wn.getUniforms().setValue(m,"morphTargetBaseInfluence",Qn),wn.getUniforms().setValue(m,"morphTargetInfluences",nn)}wn.getUniforms().setValue(m,"morphTargetsTexture",Qt.texture,C),wn.getUniforms().setValue(m,"morphTargetsTextureSize",Qt.size)}return{update:be}}function gn(m,R,C,X){let Te=new WeakMap;function be(wn){const nn=X.render.frame,On=wn.geometry,Zt=R.get(wn,On);if(Te.get(Zt)!==nn&&(R.update(Zt),Te.set(Zt,nn)),wn.isInstancedMesh&&(wn.hasEventListener("dispose",We)===!1&&wn.addEventListener("dispose",We),Te.get(wn)!==nn&&(C.update(wn.instanceMatrix,m.ARRAY_BUFFER),wn.instanceColor!==null&&C.update(wn.instanceColor,m.ARRAY_BUFFER),Te.set(wn,nn))),wn.isSkinnedMesh){const Qt=wn.skeleton;Te.get(Qt)!==nn&&(Qt.update(),Te.set(Qt,nn))}return Zt}function St(){Te=new WeakMap}function We(wn){const nn=wn.target;nn.removeEventListener("dispose",We),C.remove(nn.instanceMatrix),nn.instanceColor!==null&&C.remove(nn.instanceColor)}return{update:be,dispose:St}}const Ut=new a.xEZ,Bn=new a.$YQ(1,1),Si=new a.p3g,_r=new a.JUT,Br=new a.BtG,fo=[],Qs=[],Ys=new Float32Array(16),Ga=new Float32Array(9),j=new Float32Array(4);function we(m,R,C){const X=m[0];if(X<=0||X>0)return m;const Te=R*C;let be=fo[Te];if(be===void 0&&(be=new Float32Array(Te),fo[Te]=be),R!==0){X.toArray(be,0);for(let St=1,We=0;St!==R;++St)We+=C,m[St].toArray(be,We)}return be}function Je(m,R){if(m.length!==R.length)return!1;for(let C=0,X=m.length;C<X;C++)if(m[C]!==R[C])return!1;return!0}function ht(m,R){for(let C=0,X=R.length;C<X;C++)m[C]=R[C]}function Ft(m,R){let C=Qs[R];C===void 0&&(C=new Int32Array(R),Qs[R]=C);for(let X=0;X!==R;++X)C[X]=m.allocateTextureUnit();return C}function Ti(m,R){const C=this.cache;C[0]!==R&&(m.uniform1f(this.addr,R),C[0]=R)}function Ji(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y)&&(m.uniform2f(this.addr,R.x,R.y),C[0]=R.x,C[1]=R.y);else{if(Je(C,R))return;m.uniform2fv(this.addr,R),ht(C,R)}}function yi(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y||C[2]!==R.z)&&(m.uniform3f(this.addr,R.x,R.y,R.z),C[0]=R.x,C[1]=R.y,C[2]=R.z);else if(R.r!==void 0)(C[0]!==R.r||C[1]!==R.g||C[2]!==R.b)&&(m.uniform3f(this.addr,R.r,R.g,R.b),C[0]=R.r,C[1]=R.g,C[2]=R.b);else{if(Je(C,R))return;m.uniform3fv(this.addr,R),ht(C,R)}}function yn(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y||C[2]!==R.z||C[3]!==R.w)&&(m.uniform4f(this.addr,R.x,R.y,R.z,R.w),C[0]=R.x,C[1]=R.y,C[2]=R.z,C[3]=R.w);else{if(Je(C,R))return;m.uniform4fv(this.addr,R),ht(C,R)}}function rr(m,R){const C=this.cache,X=R.elements;if(X===void 0){if(Je(C,R))return;m.uniformMatrix2fv(this.addr,!1,R),ht(C,R)}else{if(Je(C,X))return;j.set(X),m.uniformMatrix2fv(this.addr,!1,j),ht(C,X)}}function Jn(m,R){const C=this.cache,X=R.elements;if(X===void 0){if(Je(C,R))return;m.uniformMatrix3fv(this.addr,!1,R),ht(C,R)}else{if(Je(C,X))return;Ga.set(X),m.uniformMatrix3fv(this.addr,!1,Ga),ht(C,X)}}function Yi(m,R){const C=this.cache,X=R.elements;if(X===void 0){if(Je(C,R))return;m.uniformMatrix4fv(this.addr,!1,R),ht(C,R)}else{if(Je(C,X))return;Ys.set(X),m.uniformMatrix4fv(this.addr,!1,Ys),ht(C,X)}}function Ar(m,R){const C=this.cache;C[0]!==R&&(m.uniform1i(this.addr,R),C[0]=R)}function Di(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y)&&(m.uniform2i(this.addr,R.x,R.y),C[0]=R.x,C[1]=R.y);else{if(Je(C,R))return;m.uniform2iv(this.addr,R),ht(C,R)}}function Ms(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y||C[2]!==R.z)&&(m.uniform3i(this.addr,R.x,R.y,R.z),C[0]=R.x,C[1]=R.y,C[2]=R.z);else{if(Je(C,R))return;m.uniform3iv(this.addr,R),ht(C,R)}}function Ws(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y||C[2]!==R.z||C[3]!==R.w)&&(m.uniform4i(this.addr,R.x,R.y,R.z,R.w),C[0]=R.x,C[1]=R.y,C[2]=R.z,C[3]=R.w);else{if(Je(C,R))return;m.uniform4iv(this.addr,R),ht(C,R)}}function as(m,R){const C=this.cache;C[0]!==R&&(m.uniform1ui(this.addr,R),C[0]=R)}function eo(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y)&&(m.uniform2ui(this.addr,R.x,R.y),C[0]=R.x,C[1]=R.y);else{if(Je(C,R))return;m.uniform2uiv(this.addr,R),ht(C,R)}}function pr(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y||C[2]!==R.z)&&(m.uniform3ui(this.addr,R.x,R.y,R.z),C[0]=R.x,C[1]=R.y,C[2]=R.z);else{if(Je(C,R))return;m.uniform3uiv(this.addr,R),ht(C,R)}}function go(m,R){const C=this.cache;if(R.x!==void 0)(C[0]!==R.x||C[1]!==R.y||C[2]!==R.z||C[3]!==R.w)&&(m.uniform4ui(this.addr,R.x,R.y,R.z,R.w),C[0]=R.x,C[1]=R.y,C[2]=R.z,C[3]=R.w);else{if(Je(C,R))return;m.uniform4uiv(this.addr,R),ht(C,R)}}function Ro(m,R,C){const X=this.cache,Te=C.allocateTextureUnit();X[0]!==Te&&(m.uniform1i(this.addr,Te),X[0]=Te);let be;this.type===m.SAMPLER_2D_SHADOW?(Bn.compareFunction=a.M$G,be=Bn):be=Ut,C.setTexture2D(R||be,Te)}function Qo(m,R,C){const X=this.cache,Te=C.allocateTextureUnit();X[0]!==Te&&(m.uniform1i(this.addr,Te),X[0]=Te),C.setTexture3D(R||_r,Te)}function ea(m,R,C){const X=this.cache,Te=C.allocateTextureUnit();X[0]!==Te&&(m.uniform1i(this.addr,Te),X[0]=Te),C.setTextureCube(R||Br,Te)}function Oa(m,R,C){const X=this.cache,Te=C.allocateTextureUnit();X[0]!==Te&&(m.uniform1i(this.addr,Te),X[0]=Te),C.setTexture2DArray(R||Si,Te)}function vl(m){switch(m){case 5126:return Ti;case 35664:return Ji;case 35665:return yi;case 35666:return yn;case 35674:return rr;case 35675:return Jn;case 35676:return Yi;case 5124:case 35670:return Ar;case 35667:case 35671:return Di;case 35668:case 35672:return Ms;case 35669:case 35673:return Ws;case 5125:return as;case 36294:return eo;case 36295:return pr;case 36296:return go;case 35678:case 36198:case 36298:case 36306:case 35682:return Ro;case 35679:case 36299:case 36307:return Qo;case 35680:case 36300:case 36308:case 36293:return ea;case 36289:case 36303:case 36311:case 36292:return Oa}}function Sl(m,R){m.uniform1fv(this.addr,R)}function Ce(m,R){const C=we(R,this.size,2);m.uniform2fv(this.addr,C)}function Qe(m,R){const C=we(R,this.size,3);m.uniform3fv(this.addr,C)}function ot(m,R){const C=we(R,this.size,4);m.uniform4fv(this.addr,C)}function bt(m,R){const C=we(R,this.size,4);m.uniformMatrix2fv(this.addr,!1,C)}function rn(m,R){const C=we(R,this.size,9);m.uniformMatrix3fv(this.addr,!1,C)}function ti(m,R){const C=we(R,this.size,16);m.uniformMatrix4fv(this.addr,!1,C)}function ni(m,R){m.uniform1iv(this.addr,R)}function Ln(m,R){m.uniform2iv(this.addr,R)}function Ri(m,R){m.uniform3iv(this.addr,R)}function sn(m,R){m.uniform4iv(this.addr,R)}function ar(m,R){m.uniform1uiv(this.addr,R)}function kr(m,R){m.uniform2uiv(this.addr,R)}function lr(m,R){m.uniform3uiv(this.addr,R)}function Ps(m,R){m.uniform4uiv(this.addr,R)}function xe(m,R,C){const X=this.cache,Te=R.length,be=Ft(C,Te);Je(X,be)||(m.uniform1iv(this.addr,be),ht(X,be));for(let St=0;St!==Te;++St)C.setTexture2D(R[St]||Ut,be[St])}function Ve(m,R,C){const X=this.cache,Te=R.length,be=Ft(C,Te);Je(X,be)||(m.uniform1iv(this.addr,be),ht(X,be));for(let St=0;St!==Te;++St)C.setTexture3D(R[St]||_r,be[St])}function At(m,R,C){const X=this.cache,Te=R.length,be=Ft(C,Te);Je(X,be)||(m.uniform1iv(this.addr,be),ht(X,be));for(let St=0;St!==Te;++St)C.setTextureCube(R[St]||Br,be[St])}function Gt(m,R,C){const X=this.cache,Te=R.length,be=Ft(C,Te);Je(X,be)||(m.uniform1iv(this.addr,be),ht(X,be));for(let St=0;St!==Te;++St)C.setTexture2DArray(R[St]||Si,be[St])}function qt(m){switch(m){case 5126:return Sl;case 35664:return Ce;case 35665:return Qe;case 35666:return ot;case 35674:return bt;case 35675:return rn;case 35676:return ti;case 5124:case 35670:return ni;case 35667:case 35671:return Ln;case 35668:case 35672:return Ri;case 35669:case 35673:return sn;case 5125:return ar;case 36294:return kr;case 36295:return lr;case 36296:return Ps;case 35678:case 36198:case 36298:case 36306:case 35682:return xe;case 35679:case 36299:case 36307:return Ve;case 35680:case 36300:case 36308:case 36293:return At;case 36289:case 36303:case 36311:case 36292:return Gt}}class Vn{constructor(R,C,X){this.id=R,this.addr=X,this.cache=[],this.type=C.type,this.setValue=vl(C.type)}}class jn{constructor(R,C,X){this.id=R,this.addr=X,this.cache=[],this.type=C.type,this.size=C.size,this.setValue=qt(C.type)}}class Ii{constructor(R){this.id=R,this.seq=[],this.map={}}setValue(R,C,X){const Te=this.seq;for(let be=0,St=Te.length;be!==St;++be){const We=Te[be];We.setValue(R,C[We.id],X)}}}const ui=/(\w+)(\])?(\[|\.)?/g;function sr(m,R){m.seq.push(R),m.map[R.id]=R}function Pr(m,R,C){const X=m.name,Te=X.length;for(ui.lastIndex=0;;){const be=ui.exec(X),St=ui.lastIndex;let We=be[1];const wn=be[2]==="]",nn=be[3];if(wn&&(We=We|0),nn===void 0||nn==="["&&St+2===Te){sr(C,nn===void 0?new Vn(We,m,R):new jn(We,m,R));break}else{let Zt=C.map[We];Zt===void 0&&(Zt=new Ii(We),sr(C,Zt)),C=Zt}}}class Ki{constructor(R,C){this.seq=[],this.map={};const X=R.getProgramParameter(C,R.ACTIVE_UNIFORMS);for(let Te=0;Te<X;++Te){const be=R.getActiveUniform(C,Te),St=R.getUniformLocation(C,be.name);Pr(be,St,this)}}setValue(R,C,X,Te){const be=this.map[C];be!==void 0&&be.setValue(R,X,Te)}setOptional(R,C,X){const Te=C[X];Te!==void 0&&this.setValue(R,X,Te)}static upload(R,C,X,Te){for(let be=0,St=C.length;be!==St;++be){const We=C[be],wn=X[We.id];wn.needsUpdate!==!1&&We.setValue(R,wn.value,Te)}}static seqWithValue(R,C){const X=[];for(let Te=0,be=R.length;Te!==be;++Te){const St=R[Te];St.id in C&&X.push(St)}return X}}function ps(m,R,C){const X=m.createShader(R);return m.shaderSource(X,C),m.compileShader(X),X}const Ss=37297;let Vo=0;function Ea(m,R){const C=m.split(`
`),X=[],Te=Math.max(R-6,0),be=Math.min(R+6,C.length);for(let St=Te;St<be;St++){const We=St+1;X.push(`${We===R?">":" "} ${We}: ${C[St]}`)}return X.join(`
`)}const pa=new a.Vkp;function $o(m){a.epp._getMatrix(pa,a.epp.workingColorSpace,m);const R=`mat3( ${pa.elements.map(C=>C.toFixed(4))} )`;switch(a.epp.getTransfer(m)){case a.l6D:return[R,"LinearTransferOETF"];case a.j17:return[R,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",m),[R,"LinearTransferOETF"]}}function ja(m,R,C){const X=m.getShaderParameter(R,m.COMPILE_STATUS),Te=m.getShaderInfoLog(R).trim();if(X&&Te==="")return"";const be=/ERROR: 0:(\d+)/.exec(Te);if(be){const St=parseInt(be[1]);return C.toUpperCase()+`

`+Te+`

`+Ea(m.getShaderSource(R),St)}else return Te}function Il(m,R){const C=$o(R);return[`vec4 ${m}( vec4 value ) {`,`	return ${C[1]}( vec4( value.rgb * ${C[0]}, value.a ) );`,"}"].join(`
`)}function jo(m,R){let C;switch(R){case a.EoG:C="Linear";break;case a.CdI:C="Reinhard";break;case a.YGz:C="Cineon";break;case a.LY2:C="ACESFilmic";break;case a.Bgp:C="AgX";break;case a.ORg:C="Neutral";break;case a.dZ3:C="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",R),C="Linear"}return"vec3 "+m+"( vec3 color ) { return "+C+"ToneMapping( color ); }"}const la=new a.Pa4;function Ul(){a.epp.getLuminanceCoefficients(la);const m=la.x.toFixed(4),R=la.y.toFixed(4),C=la.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${m}, ${R}, ${C} );`,"	return dot( weights, rgb );","}"].join(`
`)}function cc(m){return[m.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",m.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(yl).join(`
`)}function El(m){const R=[];for(const C in m){const X=m[C];X!==!1&&R.push("#define "+C+" "+X)}return R.join(`
`)}function uc(m,R){const C={},X=m.getProgramParameter(R,m.ACTIVE_ATTRIBUTES);for(let Te=0;Te<X;Te++){const be=m.getActiveAttrib(R,Te),St=be.name;let We=1;be.type===m.FLOAT_MAT2&&(We=2),be.type===m.FLOAT_MAT3&&(We=3),be.type===m.FLOAT_MAT4&&(We=4),C[St]={type:be.type,location:m.getAttribLocation(R,St),locationSize:We}}return C}function yl(m){return m!==""}function hu(m,R){const C=R.numSpotLightShadows+R.numSpotLightMaps-R.numSpotLightShadowsWithMaps;return m.replace(/NUM_DIR_LIGHTS/g,R.numDirLights).replace(/NUM_SPOT_LIGHTS/g,R.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,R.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,C).replace(/NUM_RECT_AREA_LIGHTS/g,R.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,R.numPointLights).replace(/NUM_HEMI_LIGHTS/g,R.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,R.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,R.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,R.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,R.numPointLightShadows)}function Tl(m,R){return m.replace(/NUM_CLIPPING_PLANES/g,R.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,R.numClippingPlanes-R.numClipIntersection)}const ct=/^[ \t]*#include +<([\w\d./]+)>/gm;function Cl(m){return m.replace(ct,zl)}const bu=new Map;function zl(m,R){let C=fr[R];if(C===void 0){const X=bu.get(R);if(X!==void 0)C=fr[X],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',R,X);else throw new Error("Can not resolve #include <"+R+">")}return Cl(C)}const yc=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Jl(m){return m.replace(yc,eu)}function eu(m,R,C,X){let Te="";for(let be=parseInt(R);be<parseInt(C);be++)Te+=X.replace(/\[\s*i\s*\]/g,"[ "+be+" ]").replace(/UNROLLED_LOOP_INDEX/g,be);return Te}function Pc(m){let R=`precision ${m.precision} float;
	precision ${m.precision} int;
	precision ${m.precision} sampler2D;
	precision ${m.precision} samplerCube;
	precision ${m.precision} sampler3D;
	precision ${m.precision} sampler2DArray;
	precision ${m.precision} sampler2DShadow;
	precision ${m.precision} samplerCubeShadow;
	precision ${m.precision} sampler2DArrayShadow;
	precision ${m.precision} isampler2D;
	precision ${m.precision} isampler3D;
	precision ${m.precision} isamplerCube;
	precision ${m.precision} isampler2DArray;
	precision ${m.precision} usampler2D;
	precision ${m.precision} usampler3D;
	precision ${m.precision} usamplerCube;
	precision ${m.precision} usampler2DArray;
	`;return m.precision==="highp"?R+=`
#define HIGH_PRECISION`:m.precision==="mediump"?R+=`
#define MEDIUM_PRECISION`:m.precision==="lowp"&&(R+=`
#define LOW_PRECISION`),R}function _c(m){let R="SHADOWMAP_TYPE_BASIC";return m.shadowMapType===a._iA?R="SHADOWMAP_TYPE_PCF":m.shadowMapType===a.ntZ?R="SHADOWMAP_TYPE_PCF_SOFT":m.shadowMapType===a.dwk&&(R="SHADOWMAP_TYPE_VSM"),R}function Fc(m){let R="ENVMAP_TYPE_CUBE";if(m.envMap)switch(m.envMapMode){case a.fY$:case a.vxC:R="ENVMAP_TYPE_CUBE";break;case a.g8_:R="ENVMAP_TYPE_CUBE_UV";break}return R}function wc(m){let R="ENVMAP_MODE_REFLECTION";if(m.envMap)switch(m.envMapMode){case a.vxC:R="ENVMAP_MODE_REFRACTION";break}return R}function Mc(m){let R="ENVMAP_BLENDING_NONE";if(m.envMap)switch(m.combine){case a.Ns1:R="ENVMAP_BLENDING_MULTIPLY";break;case a.qhX:R="ENVMAP_BLENDING_MIX";break;case a.NDo:R="ENVMAP_BLENDING_ADD";break}return R}function Oc(m){const R=m.envMapCubeUVHeight;if(R===null)return null;const C=Math.log2(R)-2,X=1/R;return{texelWidth:1/(3*Math.max(Math.pow(2,C),7*16)),texelHeight:X,maxMip:C}}function Hc(m,R,C,X){const Te=m.getContext(),be=C.defines;let St=C.vertexShader,We=C.fragmentShader;const wn=_c(C),nn=Fc(C),On=wc(C),Zt=Mc(C),Qt=Oc(C),on=cc(C),Qn=El(be),Sn=Te.createProgram();let Re,he,Pn=C.glslVersion?"#version "+C.glslVersion+`
`:"";C.isRawShaderMaterial?(Re=["#define SHADER_TYPE "+C.shaderType,"#define SHADER_NAME "+C.shaderName,Qn].filter(yl).join(`
`),Re.length>0&&(Re+=`
`),he=["#define SHADER_TYPE "+C.shaderType,"#define SHADER_NAME "+C.shaderName,Qn].filter(yl).join(`
`),he.length>0&&(he+=`
`)):(Re=[Pc(C),"#define SHADER_TYPE "+C.shaderType,"#define SHADER_NAME "+C.shaderName,Qn,C.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",C.batching?"#define USE_BATCHING":"",C.batchingColor?"#define USE_BATCHING_COLOR":"",C.instancing?"#define USE_INSTANCING":"",C.instancingColor?"#define USE_INSTANCING_COLOR":"",C.instancingMorph?"#define USE_INSTANCING_MORPH":"",C.useFog&&C.fog?"#define USE_FOG":"",C.useFog&&C.fogExp2?"#define FOG_EXP2":"",C.map?"#define USE_MAP":"",C.envMap?"#define USE_ENVMAP":"",C.envMap?"#define "+On:"",C.lightMap?"#define USE_LIGHTMAP":"",C.aoMap?"#define USE_AOMAP":"",C.bumpMap?"#define USE_BUMPMAP":"",C.normalMap?"#define USE_NORMALMAP":"",C.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",C.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",C.displacementMap?"#define USE_DISPLACEMENTMAP":"",C.emissiveMap?"#define USE_EMISSIVEMAP":"",C.anisotropy?"#define USE_ANISOTROPY":"",C.anisotropyMap?"#define USE_ANISOTROPYMAP":"",C.clearcoatMap?"#define USE_CLEARCOATMAP":"",C.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",C.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",C.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",C.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",C.specularMap?"#define USE_SPECULARMAP":"",C.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",C.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",C.roughnessMap?"#define USE_ROUGHNESSMAP":"",C.metalnessMap?"#define USE_METALNESSMAP":"",C.alphaMap?"#define USE_ALPHAMAP":"",C.alphaHash?"#define USE_ALPHAHASH":"",C.transmission?"#define USE_TRANSMISSION":"",C.transmissionMap?"#define USE_TRANSMISSIONMAP":"",C.thicknessMap?"#define USE_THICKNESSMAP":"",C.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",C.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",C.mapUv?"#define MAP_UV "+C.mapUv:"",C.alphaMapUv?"#define ALPHAMAP_UV "+C.alphaMapUv:"",C.lightMapUv?"#define LIGHTMAP_UV "+C.lightMapUv:"",C.aoMapUv?"#define AOMAP_UV "+C.aoMapUv:"",C.emissiveMapUv?"#define EMISSIVEMAP_UV "+C.emissiveMapUv:"",C.bumpMapUv?"#define BUMPMAP_UV "+C.bumpMapUv:"",C.normalMapUv?"#define NORMALMAP_UV "+C.normalMapUv:"",C.displacementMapUv?"#define DISPLACEMENTMAP_UV "+C.displacementMapUv:"",C.metalnessMapUv?"#define METALNESSMAP_UV "+C.metalnessMapUv:"",C.roughnessMapUv?"#define ROUGHNESSMAP_UV "+C.roughnessMapUv:"",C.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+C.anisotropyMapUv:"",C.clearcoatMapUv?"#define CLEARCOATMAP_UV "+C.clearcoatMapUv:"",C.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+C.clearcoatNormalMapUv:"",C.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+C.clearcoatRoughnessMapUv:"",C.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+C.iridescenceMapUv:"",C.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+C.iridescenceThicknessMapUv:"",C.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+C.sheenColorMapUv:"",C.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+C.sheenRoughnessMapUv:"",C.specularMapUv?"#define SPECULARMAP_UV "+C.specularMapUv:"",C.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+C.specularColorMapUv:"",C.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+C.specularIntensityMapUv:"",C.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+C.transmissionMapUv:"",C.thicknessMapUv?"#define THICKNESSMAP_UV "+C.thicknessMapUv:"",C.vertexTangents&&C.flatShading===!1?"#define USE_TANGENT":"",C.vertexColors?"#define USE_COLOR":"",C.vertexAlphas?"#define USE_COLOR_ALPHA":"",C.vertexUv1s?"#define USE_UV1":"",C.vertexUv2s?"#define USE_UV2":"",C.vertexUv3s?"#define USE_UV3":"",C.pointsUvs?"#define USE_POINTS_UV":"",C.flatShading?"#define FLAT_SHADED":"",C.skinning?"#define USE_SKINNING":"",C.morphTargets?"#define USE_MORPHTARGETS":"",C.morphNormals&&C.flatShading===!1?"#define USE_MORPHNORMALS":"",C.morphColors?"#define USE_MORPHCOLORS":"",C.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+C.morphTextureStride:"",C.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+C.morphTargetsCount:"",C.doubleSided?"#define DOUBLE_SIDED":"",C.flipSided?"#define FLIP_SIDED":"",C.shadowMapEnabled?"#define USE_SHADOWMAP":"",C.shadowMapEnabled?"#define "+wn:"",C.sizeAttenuation?"#define USE_SIZEATTENUATION":"",C.numLightProbes>0?"#define USE_LIGHT_PROBES":"",C.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",C.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(yl).join(`
`),he=[Pc(C),"#define SHADER_TYPE "+C.shaderType,"#define SHADER_NAME "+C.shaderName,Qn,C.useFog&&C.fog?"#define USE_FOG":"",C.useFog&&C.fogExp2?"#define FOG_EXP2":"",C.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",C.map?"#define USE_MAP":"",C.matcap?"#define USE_MATCAP":"",C.envMap?"#define USE_ENVMAP":"",C.envMap?"#define "+nn:"",C.envMap?"#define "+On:"",C.envMap?"#define "+Zt:"",Qt?"#define CUBEUV_TEXEL_WIDTH "+Qt.texelWidth:"",Qt?"#define CUBEUV_TEXEL_HEIGHT "+Qt.texelHeight:"",Qt?"#define CUBEUV_MAX_MIP "+Qt.maxMip+".0":"",C.lightMap?"#define USE_LIGHTMAP":"",C.aoMap?"#define USE_AOMAP":"",C.bumpMap?"#define USE_BUMPMAP":"",C.normalMap?"#define USE_NORMALMAP":"",C.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",C.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",C.emissiveMap?"#define USE_EMISSIVEMAP":"",C.anisotropy?"#define USE_ANISOTROPY":"",C.anisotropyMap?"#define USE_ANISOTROPYMAP":"",C.clearcoat?"#define USE_CLEARCOAT":"",C.clearcoatMap?"#define USE_CLEARCOATMAP":"",C.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",C.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",C.dispersion?"#define USE_DISPERSION":"",C.iridescence?"#define USE_IRIDESCENCE":"",C.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",C.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",C.specularMap?"#define USE_SPECULARMAP":"",C.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",C.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",C.roughnessMap?"#define USE_ROUGHNESSMAP":"",C.metalnessMap?"#define USE_METALNESSMAP":"",C.alphaMap?"#define USE_ALPHAMAP":"",C.alphaTest?"#define USE_ALPHATEST":"",C.alphaHash?"#define USE_ALPHAHASH":"",C.sheen?"#define USE_SHEEN":"",C.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",C.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",C.transmission?"#define USE_TRANSMISSION":"",C.transmissionMap?"#define USE_TRANSMISSIONMAP":"",C.thicknessMap?"#define USE_THICKNESSMAP":"",C.vertexTangents&&C.flatShading===!1?"#define USE_TANGENT":"",C.vertexColors||C.instancingColor||C.batchingColor?"#define USE_COLOR":"",C.vertexAlphas?"#define USE_COLOR_ALPHA":"",C.vertexUv1s?"#define USE_UV1":"",C.vertexUv2s?"#define USE_UV2":"",C.vertexUv3s?"#define USE_UV3":"",C.pointsUvs?"#define USE_POINTS_UV":"",C.gradientMap?"#define USE_GRADIENTMAP":"",C.flatShading?"#define FLAT_SHADED":"",C.doubleSided?"#define DOUBLE_SIDED":"",C.flipSided?"#define FLIP_SIDED":"",C.shadowMapEnabled?"#define USE_SHADOWMAP":"",C.shadowMapEnabled?"#define "+wn:"",C.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",C.numLightProbes>0?"#define USE_LIGHT_PROBES":"",C.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",C.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",C.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",C.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",C.toneMapping!==a.uL9?"#define TONE_MAPPING":"",C.toneMapping!==a.uL9?fr.tonemapping_pars_fragment:"",C.toneMapping!==a.uL9?jo("toneMapping",C.toneMapping):"",C.dithering?"#define DITHERING":"",C.opaque?"#define OPAQUE":"",fr.colorspace_pars_fragment,Il("linearToOutputTexel",C.outputColorSpace),Ul(),C.useDepthPacking?"#define DEPTH_PACKING "+C.depthPacking:"",`
`].filter(yl).join(`
`)),St=Cl(St),St=hu(St,C),St=Tl(St,C),We=Cl(We),We=hu(We,C),We=Tl(We,C),St=Jl(St),We=Jl(We),C.isRawShaderMaterial!==!0&&(Pn=`#version 300 es
`,Re=[on,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Re,he=["#define varying in",C.glslVersion===a.LSk?"":"layout(location = 0) out highp vec4 pc_fragColor;",C.glslVersion===a.LSk?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+he);const ln=Pn+Re+St,jt=Pn+he+We,_i=ps(Te,Te.VERTEX_SHADER,ln),Cn=ps(Te,Te.FRAGMENT_SHADER,jt);Te.attachShader(Sn,_i),Te.attachShader(Sn,Cn),C.index0AttributeName!==void 0?Te.bindAttribLocation(Sn,0,C.index0AttributeName):C.morphTargets===!0&&Te.bindAttribLocation(Sn,0,"position"),Te.linkProgram(Sn);function Nn(un){if(m.debug.checkShaderErrors){const ki=Te.getProgramInfoLog(Sn).trim(),Mi=Te.getShaderInfoLog(_i).trim(),Rn=Te.getShaderInfoLog(Cn).trim();let Li=!0,Ai=!0;if(Te.getProgramParameter(Sn,Te.LINK_STATUS)===!1)if(Li=!1,typeof m.debug.onShaderError=="function")m.debug.onShaderError(Te,Sn,_i,Cn);else{const yr=ja(Te,_i,"vertex"),Wn=ja(Te,Cn,"fragment");console.error("THREE.WebGLProgram: Shader Error "+Te.getError()+" - VALIDATE_STATUS "+Te.getProgramParameter(Sn,Te.VALIDATE_STATUS)+`

Material Name: `+un.name+`
Material Type: `+un.type+`

Program Info Log: `+ki+`
`+yr+`
`+Wn)}else ki!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ki):(Mi===""||Rn==="")&&(Ai=!1);Ai&&(un.diagnostics={runnable:Li,programLog:ki,vertexShader:{log:Mi,prefix:Re},fragmentShader:{log:Rn,prefix:he}})}Te.deleteShader(_i),Te.deleteShader(Cn),wi=new Ki(Te,Sn),Ke=uc(Te,Sn)}let wi;this.getUniforms=function(){return wi===void 0&&Nn(this),wi};let Ke;this.getAttributes=function(){return Ke===void 0&&Nn(this),Ke};let Ue=C.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Ue===!1&&(Ue=Te.getProgramParameter(Sn,Ss)),Ue},this.destroy=function(){X.releaseStatesOfProgram(this),Te.deleteProgram(Sn),this.program=void 0},this.type=C.shaderType,this.name=C.shaderName,this.id=Vo++,this.cacheKey=R,this.usedTimes=1,this.program=Sn,this.vertexShader=_i,this.fragmentShader=Cn,this}let Rc=0;class tu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(R){const C=R.vertexShader,X=R.fragmentShader,Te=this._getShaderStage(C),be=this._getShaderStage(X),St=this._getShaderCacheForMaterial(R);return St.has(Te)===!1&&(St.add(Te),Te.usedTimes++),St.has(be)===!1&&(St.add(be),be.usedTimes++),this}remove(R){const C=this.materialCache.get(R);for(const X of C)X.usedTimes--,X.usedTimes===0&&this.shaderCache.delete(X.code);return this.materialCache.delete(R),this}getVertexShaderID(R){return this._getShaderStage(R.vertexShader).id}getFragmentShaderID(R){return this._getShaderStage(R.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(R){const C=this.materialCache;let X=C.get(R);return X===void 0&&(X=new Set,C.set(R,X)),X}_getShaderStage(R){const C=this.shaderCache;let X=C.get(R);return X===void 0&&(X=new Ic(R),C.set(R,X)),X}}class Ic{constructor(R){this.id=Rc++,this.code=R,this.usedTimes=0}}function Vc(m,R,C,X,Te,be,St){const We=new a.S9g,wn=new tu,nn=new Set,On=[],Zt=Te.logarithmicDepthBuffer,Qt=Te.vertexTextures;let on=Te.precision;const Qn={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Sn(Ke){return nn.add(Ke),Ke===0?"uv":`uv${Ke}`}function Re(Ke,Ue,un,ki,Mi){const Rn=ki.fog,Li=Mi.geometry,Ai=Ke.isMeshStandardMaterial?ki.environment:null,yr=(Ke.isMeshStandardMaterial?C:R).get(Ke.envMap||Ai),Wn=yr&&yr.mapping===a.g8_?yr.image.height:null,Os=Qn[Ke.type];Ke.precision!==null&&(on=Te.getMaxPrecision(Ke.precision),on!==Ke.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ke.precision,"not supported, using",on,"instead."));const yo=Li.morphAttributes.position||Li.morphAttributes.normal||Li.morphAttributes.color,to=yo!==void 0?yo.length:0;let ta=0;Li.morphAttributes.position!==void 0&&(ta=1),Li.morphAttributes.normal!==void 0&&(ta=2),Li.morphAttributes.color!==void 0&&(ta=3);let nl,Kn,Hr,Rs;if(Os){const ma=_s[Os];nl=ma.vertexShader,Kn=ma.fragmentShader}else nl=Ke.vertexShader,Kn=Ke.fragmentShader,wn.update(Ke),Hr=wn.getVertexShaderID(Ke),Rs=wn.getFragmentShaderID(Ke);const xr=m.getRenderTarget(),xo=m.state.buffers.depth.getReversed(),Ra=Mi.isInstancedMesh===!0,Do=Mi.isBatchedMesh===!0,pl=!!Ke.map,il=!!Ke.matcap,Lo=!!yr,Lt=!!Ke.aoMap,$l=!!Ke.lightMap,cr=!!Ke.bumpMap,sa=!!Ke.normalMap,Cs=!!Ke.displacementMap,Wa=!!Ke.emissiveMap,zs=!!Ke.metalnessMap,ze=!!Ke.roughnessMap,pe=Ke.anisotropy>0,hn=Ke.clearcoat>0,In=Ke.dispersion>0,Ni=Ke.iridescence>0,xi=Ke.sheen>0,$s=Ke.transmission>0,Qr=pe&&!!Ke.anisotropyMap,ms=hn&&!!Ke.clearcoatMap,da=hn&&!!Ke.clearcoatNormalMap,ur=hn&&!!Ke.clearcoatRoughnessMap,is=Ni&&!!Ke.iridescenceMap,Gs=Ni&&!!Ke.iridescenceThicknessMap,_o=xi&&!!Ke.sheenColorMap,Kr=xi&&!!Ke.sheenRoughnessMap,ko=!!Ke.specularMap,Wo=!!Ke.specularColorMap,Ta=!!Ke.specularIntensityMap,Wt=$s&&!!Ke.transmissionMap,Vr=$s&&!!Ke.thicknessMap,ei=!!Ke.gradientMap,Fi=!!Ke.alphaMap,ls=Ke.alphaTest>0,es=!!Ke.alphaHash,Go=!!Ke.extensions;let fl=a.uL9;Ke.toneMapped&&(xr===null||xr.isXRRenderTarget===!0)&&(fl=m.toneMapping);const qa={shaderID:Os,shaderType:Ke.type,shaderName:Ke.name,vertexShader:nl,fragmentShader:Kn,defines:Ke.defines,customVertexShaderID:Hr,customFragmentShaderID:Rs,isRawShaderMaterial:Ke.isRawShaderMaterial===!0,glslVersion:Ke.glslVersion,precision:on,batching:Do,batchingColor:Do&&Mi._colorsTexture!==null,instancing:Ra,instancingColor:Ra&&Mi.instanceColor!==null,instancingMorph:Ra&&Mi.morphTexture!==null,supportsVertexTextures:Qt,outputColorSpace:xr===null?m.outputColorSpace:xr.isXRRenderTarget===!0?xr.texture.colorSpace:a.GUF,alphaToCoverage:!!Ke.alphaToCoverage,map:pl,matcap:il,envMap:Lo,envMapMode:Lo&&yr.mapping,envMapCubeUVHeight:Wn,aoMap:Lt,lightMap:$l,bumpMap:cr,normalMap:sa,displacementMap:Qt&&Cs,emissiveMap:Wa,normalMapObjectSpace:sa&&Ke.normalMapType===a.PA7,normalMapTangentSpace:sa&&Ke.normalMapType===a.IOt,metalnessMap:zs,roughnessMap:ze,anisotropy:pe,anisotropyMap:Qr,clearcoat:hn,clearcoatMap:ms,clearcoatNormalMap:da,clearcoatRoughnessMap:ur,dispersion:In,iridescence:Ni,iridescenceMap:is,iridescenceThicknessMap:Gs,sheen:xi,sheenColorMap:_o,sheenRoughnessMap:Kr,specularMap:ko,specularColorMap:Wo,specularIntensityMap:Ta,transmission:$s,transmissionMap:Wt,thicknessMap:Vr,gradientMap:ei,opaque:Ke.transparent===!1&&Ke.blending===a.bdR&&Ke.alphaToCoverage===!1,alphaMap:Fi,alphaTest:ls,alphaHash:es,combine:Ke.combine,mapUv:pl&&Sn(Ke.map.channel),aoMapUv:Lt&&Sn(Ke.aoMap.channel),lightMapUv:$l&&Sn(Ke.lightMap.channel),bumpMapUv:cr&&Sn(Ke.bumpMap.channel),normalMapUv:sa&&Sn(Ke.normalMap.channel),displacementMapUv:Cs&&Sn(Ke.displacementMap.channel),emissiveMapUv:Wa&&Sn(Ke.emissiveMap.channel),metalnessMapUv:zs&&Sn(Ke.metalnessMap.channel),roughnessMapUv:ze&&Sn(Ke.roughnessMap.channel),anisotropyMapUv:Qr&&Sn(Ke.anisotropyMap.channel),clearcoatMapUv:ms&&Sn(Ke.clearcoatMap.channel),clearcoatNormalMapUv:da&&Sn(Ke.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ur&&Sn(Ke.clearcoatRoughnessMap.channel),iridescenceMapUv:is&&Sn(Ke.iridescenceMap.channel),iridescenceThicknessMapUv:Gs&&Sn(Ke.iridescenceThicknessMap.channel),sheenColorMapUv:_o&&Sn(Ke.sheenColorMap.channel),sheenRoughnessMapUv:Kr&&Sn(Ke.sheenRoughnessMap.channel),specularMapUv:ko&&Sn(Ke.specularMap.channel),specularColorMapUv:Wo&&Sn(Ke.specularColorMap.channel),specularIntensityMapUv:Ta&&Sn(Ke.specularIntensityMap.channel),transmissionMapUv:Wt&&Sn(Ke.transmissionMap.channel),thicknessMapUv:Vr&&Sn(Ke.thicknessMap.channel),alphaMapUv:Fi&&Sn(Ke.alphaMap.channel),vertexTangents:!!Li.attributes.tangent&&(sa||pe),vertexColors:Ke.vertexColors,vertexAlphas:Ke.vertexColors===!0&&!!Li.attributes.color&&Li.attributes.color.itemSize===4,pointsUvs:Mi.isPoints===!0&&!!Li.attributes.uv&&(pl||Fi),fog:!!Rn,useFog:Ke.fog===!0,fogExp2:!!Rn&&Rn.isFogExp2,flatShading:Ke.flatShading===!0,sizeAttenuation:Ke.sizeAttenuation===!0,logarithmicDepthBuffer:Zt,reverseDepthBuffer:xo,skinning:Mi.isSkinnedMesh===!0,morphTargets:Li.morphAttributes.position!==void 0,morphNormals:Li.morphAttributes.normal!==void 0,morphColors:Li.morphAttributes.color!==void 0,morphTargetsCount:to,morphTextureStride:ta,numDirLights:Ue.directional.length,numPointLights:Ue.point.length,numSpotLights:Ue.spot.length,numSpotLightMaps:Ue.spotLightMap.length,numRectAreaLights:Ue.rectArea.length,numHemiLights:Ue.hemi.length,numDirLightShadows:Ue.directionalShadowMap.length,numPointLightShadows:Ue.pointShadowMap.length,numSpotLightShadows:Ue.spotShadowMap.length,numSpotLightShadowsWithMaps:Ue.numSpotLightShadowsWithMaps,numLightProbes:Ue.numLightProbes,numClippingPlanes:St.numPlanes,numClipIntersection:St.numIntersection,dithering:Ke.dithering,shadowMapEnabled:m.shadowMap.enabled&&un.length>0,shadowMapType:m.shadowMap.type,toneMapping:fl,decodeVideoTexture:pl&&Ke.map.isVideoTexture===!0&&a.epp.getTransfer(Ke.map.colorSpace)===a.j17,decodeVideoTextureEmissive:Wa&&Ke.emissiveMap.isVideoTexture===!0&&a.epp.getTransfer(Ke.emissiveMap.colorSpace)===a.j17,premultipliedAlpha:Ke.premultipliedAlpha,doubleSided:Ke.side===a.ehD,flipSided:Ke.side===a._Li,useDepthPacking:Ke.depthPacking>=0,depthPacking:Ke.depthPacking||0,index0AttributeName:Ke.index0AttributeName,extensionClipCullDistance:Go&&Ke.extensions.clipCullDistance===!0&&X.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Go&&Ke.extensions.multiDraw===!0||Do)&&X.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:X.has("KHR_parallel_shader_compile"),customProgramCacheKey:Ke.customProgramCacheKey()};return qa.vertexUv1s=nn.has(1),qa.vertexUv2s=nn.has(2),qa.vertexUv3s=nn.has(3),nn.clear(),qa}function he(Ke){const Ue=[];if(Ke.shaderID?Ue.push(Ke.shaderID):(Ue.push(Ke.customVertexShaderID),Ue.push(Ke.customFragmentShaderID)),Ke.defines!==void 0)for(const un in Ke.defines)Ue.push(un),Ue.push(Ke.defines[un]);return Ke.isRawShaderMaterial===!1&&(Pn(Ue,Ke),ln(Ue,Ke),Ue.push(m.outputColorSpace)),Ue.push(Ke.customProgramCacheKey),Ue.join()}function Pn(Ke,Ue){Ke.push(Ue.precision),Ke.push(Ue.outputColorSpace),Ke.push(Ue.envMapMode),Ke.push(Ue.envMapCubeUVHeight),Ke.push(Ue.mapUv),Ke.push(Ue.alphaMapUv),Ke.push(Ue.lightMapUv),Ke.push(Ue.aoMapUv),Ke.push(Ue.bumpMapUv),Ke.push(Ue.normalMapUv),Ke.push(Ue.displacementMapUv),Ke.push(Ue.emissiveMapUv),Ke.push(Ue.metalnessMapUv),Ke.push(Ue.roughnessMapUv),Ke.push(Ue.anisotropyMapUv),Ke.push(Ue.clearcoatMapUv),Ke.push(Ue.clearcoatNormalMapUv),Ke.push(Ue.clearcoatRoughnessMapUv),Ke.push(Ue.iridescenceMapUv),Ke.push(Ue.iridescenceThicknessMapUv),Ke.push(Ue.sheenColorMapUv),Ke.push(Ue.sheenRoughnessMapUv),Ke.push(Ue.specularMapUv),Ke.push(Ue.specularColorMapUv),Ke.push(Ue.specularIntensityMapUv),Ke.push(Ue.transmissionMapUv),Ke.push(Ue.thicknessMapUv),Ke.push(Ue.combine),Ke.push(Ue.fogExp2),Ke.push(Ue.sizeAttenuation),Ke.push(Ue.morphTargetsCount),Ke.push(Ue.morphAttributeCount),Ke.push(Ue.numDirLights),Ke.push(Ue.numPointLights),Ke.push(Ue.numSpotLights),Ke.push(Ue.numSpotLightMaps),Ke.push(Ue.numHemiLights),Ke.push(Ue.numRectAreaLights),Ke.push(Ue.numDirLightShadows),Ke.push(Ue.numPointLightShadows),Ke.push(Ue.numSpotLightShadows),Ke.push(Ue.numSpotLightShadowsWithMaps),Ke.push(Ue.numLightProbes),Ke.push(Ue.shadowMapType),Ke.push(Ue.toneMapping),Ke.push(Ue.numClippingPlanes),Ke.push(Ue.numClipIntersection),Ke.push(Ue.depthPacking)}function ln(Ke,Ue){We.disableAll(),Ue.supportsVertexTextures&&We.enable(0),Ue.instancing&&We.enable(1),Ue.instancingColor&&We.enable(2),Ue.instancingMorph&&We.enable(3),Ue.matcap&&We.enable(4),Ue.envMap&&We.enable(5),Ue.normalMapObjectSpace&&We.enable(6),Ue.normalMapTangentSpace&&We.enable(7),Ue.clearcoat&&We.enable(8),Ue.iridescence&&We.enable(9),Ue.alphaTest&&We.enable(10),Ue.vertexColors&&We.enable(11),Ue.vertexAlphas&&We.enable(12),Ue.vertexUv1s&&We.enable(13),Ue.vertexUv2s&&We.enable(14),Ue.vertexUv3s&&We.enable(15),Ue.vertexTangents&&We.enable(16),Ue.anisotropy&&We.enable(17),Ue.alphaHash&&We.enable(18),Ue.batching&&We.enable(19),Ue.dispersion&&We.enable(20),Ue.batchingColor&&We.enable(21),Ke.push(We.mask),We.disableAll(),Ue.fog&&We.enable(0),Ue.useFog&&We.enable(1),Ue.flatShading&&We.enable(2),Ue.logarithmicDepthBuffer&&We.enable(3),Ue.reverseDepthBuffer&&We.enable(4),Ue.skinning&&We.enable(5),Ue.morphTargets&&We.enable(6),Ue.morphNormals&&We.enable(7),Ue.morphColors&&We.enable(8),Ue.premultipliedAlpha&&We.enable(9),Ue.shadowMapEnabled&&We.enable(10),Ue.doubleSided&&We.enable(11),Ue.flipSided&&We.enable(12),Ue.useDepthPacking&&We.enable(13),Ue.dithering&&We.enable(14),Ue.transmission&&We.enable(15),Ue.sheen&&We.enable(16),Ue.opaque&&We.enable(17),Ue.pointsUvs&&We.enable(18),Ue.decodeVideoTexture&&We.enable(19),Ue.decodeVideoTextureEmissive&&We.enable(20),Ue.alphaToCoverage&&We.enable(21),Ke.push(We.mask)}function jt(Ke){const Ue=Qn[Ke.type];let un;if(Ue){const ki=_s[Ue];un=a.rDY.clone(ki.uniforms)}else un=Ke.uniforms;return un}function _i(Ke,Ue){let un;for(let ki=0,Mi=On.length;ki<Mi;ki++){const Rn=On[ki];if(Rn.cacheKey===Ue){un=Rn,++un.usedTimes;break}}return un===void 0&&(un=new Hc(m,Ue,Ke,be),On.push(un)),un}function Cn(Ke){if(--Ke.usedTimes===0){const Ue=On.indexOf(Ke);On[Ue]=On[On.length-1],On.pop(),Ke.destroy()}}function Nn(Ke){wn.remove(Ke)}function wi(){wn.dispose()}return{getParameters:Re,getProgramCacheKey:he,getUniforms:jt,acquireProgram:_i,releaseProgram:Cn,releaseShaderCache:Nn,programs:On,dispose:wi}}function Su(){let m=new WeakMap;function R(St){return m.has(St)}function C(St){let We=m.get(St);return We===void 0&&(We={},m.set(St,We)),We}function X(St){m.delete(St)}function Te(St,We,wn){m.get(St)[We]=wn}function be(){m=new WeakMap}return{has:R,get:C,remove:X,update:Te,dispose:be}}function jc(m,R){return m.groupOrder!==R.groupOrder?m.groupOrder-R.groupOrder:m.renderOrder!==R.renderOrder?m.renderOrder-R.renderOrder:m.material.id!==R.material.id?m.material.id-R.material.id:m.z!==R.z?m.z-R.z:m.id-R.id}function Ql(m,R){return m.groupOrder!==R.groupOrder?m.groupOrder-R.groupOrder:m.renderOrder!==R.renderOrder?m.renderOrder-R.renderOrder:m.z!==R.z?R.z-m.z:m.id-R.id}function Al(){const m=[];let R=0;const C=[],X=[],Te=[];function be(){R=0,C.length=0,X.length=0,Te.length=0}function St(Zt,Qt,on,Qn,Sn,Re){let he=m[R];return he===void 0?(he={id:Zt.id,object:Zt,geometry:Qt,material:on,groupOrder:Qn,renderOrder:Zt.renderOrder,z:Sn,group:Re},m[R]=he):(he.id=Zt.id,he.object=Zt,he.geometry=Qt,he.material=on,he.groupOrder=Qn,he.renderOrder=Zt.renderOrder,he.z=Sn,he.group=Re),R++,he}function We(Zt,Qt,on,Qn,Sn,Re){const he=St(Zt,Qt,on,Qn,Sn,Re);on.transmission>0?X.push(he):on.transparent===!0?Te.push(he):C.push(he)}function wn(Zt,Qt,on,Qn,Sn,Re){const he=St(Zt,Qt,on,Qn,Sn,Re);on.transmission>0?X.unshift(he):on.transparent===!0?Te.unshift(he):C.unshift(he)}function nn(Zt,Qt){C.length>1&&C.sort(Zt||jc),X.length>1&&X.sort(Qt||Ql),Te.length>1&&Te.sort(Qt||Ql)}function On(){for(let Zt=R,Qt=m.length;Zt<Qt;Zt++){const on=m[Zt];if(on.id===null)break;on.id=null,on.object=null,on.geometry=null,on.material=null,on.group=null}}return{opaque:C,transmissive:X,transparent:Te,init:be,push:We,unshift:wn,finish:On,sort:nn}}function dc(){let m=new WeakMap;function R(X,Te){const be=m.get(X);let St;return be===void 0?(St=new Al,m.set(X,[St])):Te>=be.length?(St=new Al,be.push(St)):St=be[Te],St}function C(){m=new WeakMap}return{get:R,dispose:C}}function jl(){const m={};return{get:function(R){if(m[R.id]!==void 0)return m[R.id];let C;switch(R.type){case"DirectionalLight":C={direction:new a.Pa4,color:new a.Ilk};break;case"SpotLight":C={position:new a.Pa4,direction:new a.Pa4,color:new a.Ilk,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":C={position:new a.Pa4,color:new a.Ilk,distance:0,decay:0};break;case"HemisphereLight":C={direction:new a.Pa4,skyColor:new a.Ilk,groundColor:new a.Ilk};break;case"RectAreaLight":C={color:new a.Ilk,position:new a.Pa4,halfWidth:new a.Pa4,halfHeight:new a.Pa4};break}return m[R.id]=C,C}}}function ec(){const m={};return{get:function(R){if(m[R.id]!==void 0)return m[R.id];let C;switch(R.type){case"DirectionalLight":C={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new a.FM8};break;case"SpotLight":C={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new a.FM8};break;case"PointLight":C={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new a.FM8,shadowCameraNear:1,shadowCameraFar:1e3};break}return m[R.id]=C,C}}}let Dl=0;function Wc(m,R){return(R.castShadow?2:0)-(m.castShadow?2:0)+(R.map?1:0)-(m.map?1:0)}function Dc(m){const R=new jl,C=ec(),X={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let nn=0;nn<9;nn++)X.probe.push(new a.Pa4);const Te=new a.Pa4,be=new a.yGw,St=new a.yGw;function We(nn){let On=0,Zt=0,Qt=0;for(let Ke=0;Ke<9;Ke++)X.probe[Ke].set(0,0,0);let on=0,Qn=0,Sn=0,Re=0,he=0,Pn=0,ln=0,jt=0,_i=0,Cn=0,Nn=0;nn.sort(Wc);for(let Ke=0,Ue=nn.length;Ke<Ue;Ke++){const un=nn[Ke],ki=un.color,Mi=un.intensity,Rn=un.distance,Li=un.shadow&&un.shadow.map?un.shadow.map.texture:null;if(un.isAmbientLight)On+=ki.r*Mi,Zt+=ki.g*Mi,Qt+=ki.b*Mi;else if(un.isLightProbe){for(let Ai=0;Ai<9;Ai++)X.probe[Ai].addScaledVector(un.sh.coefficients[Ai],Mi);Nn++}else if(un.isDirectionalLight){const Ai=R.get(un);if(Ai.color.copy(un.color).multiplyScalar(un.intensity),un.castShadow){const yr=un.shadow,Wn=C.get(un);Wn.shadowIntensity=yr.intensity,Wn.shadowBias=yr.bias,Wn.shadowNormalBias=yr.normalBias,Wn.shadowRadius=yr.radius,Wn.shadowMapSize=yr.mapSize,X.directionalShadow[on]=Wn,X.directionalShadowMap[on]=Li,X.directionalShadowMatrix[on]=un.shadow.matrix,Pn++}X.directional[on]=Ai,on++}else if(un.isSpotLight){const Ai=R.get(un);Ai.position.setFromMatrixPosition(un.matrixWorld),Ai.color.copy(ki).multiplyScalar(Mi),Ai.distance=Rn,Ai.coneCos=Math.cos(un.angle),Ai.penumbraCos=Math.cos(un.angle*(1-un.penumbra)),Ai.decay=un.decay,X.spot[Sn]=Ai;const yr=un.shadow;if(un.map&&(X.spotLightMap[_i]=un.map,_i++,yr.updateMatrices(un),un.castShadow&&Cn++),X.spotLightMatrix[Sn]=yr.matrix,un.castShadow){const Wn=C.get(un);Wn.shadowIntensity=yr.intensity,Wn.shadowBias=yr.bias,Wn.shadowNormalBias=yr.normalBias,Wn.shadowRadius=yr.radius,Wn.shadowMapSize=yr.mapSize,X.spotShadow[Sn]=Wn,X.spotShadowMap[Sn]=Li,jt++}Sn++}else if(un.isRectAreaLight){const Ai=R.get(un);Ai.color.copy(ki).multiplyScalar(Mi),Ai.halfWidth.set(un.width*.5,0,0),Ai.halfHeight.set(0,un.height*.5,0),X.rectArea[Re]=Ai,Re++}else if(un.isPointLight){const Ai=R.get(un);if(Ai.color.copy(un.color).multiplyScalar(un.intensity),Ai.distance=un.distance,Ai.decay=un.decay,un.castShadow){const yr=un.shadow,Wn=C.get(un);Wn.shadowIntensity=yr.intensity,Wn.shadowBias=yr.bias,Wn.shadowNormalBias=yr.normalBias,Wn.shadowRadius=yr.radius,Wn.shadowMapSize=yr.mapSize,Wn.shadowCameraNear=yr.camera.near,Wn.shadowCameraFar=yr.camera.far,X.pointShadow[Qn]=Wn,X.pointShadowMap[Qn]=Li,X.pointShadowMatrix[Qn]=un.shadow.matrix,ln++}X.point[Qn]=Ai,Qn++}else if(un.isHemisphereLight){const Ai=R.get(un);Ai.skyColor.copy(un.color).multiplyScalar(Mi),Ai.groundColor.copy(un.groundColor).multiplyScalar(Mi),X.hemi[he]=Ai,he++}}Re>0&&(m.has("OES_texture_float_linear")===!0?(X.rectAreaLTC1=ai.LTC_FLOAT_1,X.rectAreaLTC2=ai.LTC_FLOAT_2):(X.rectAreaLTC1=ai.LTC_HALF_1,X.rectAreaLTC2=ai.LTC_HALF_2)),X.ambient[0]=On,X.ambient[1]=Zt,X.ambient[2]=Qt;const wi=X.hash;(wi.directionalLength!==on||wi.pointLength!==Qn||wi.spotLength!==Sn||wi.rectAreaLength!==Re||wi.hemiLength!==he||wi.numDirectionalShadows!==Pn||wi.numPointShadows!==ln||wi.numSpotShadows!==jt||wi.numSpotMaps!==_i||wi.numLightProbes!==Nn)&&(X.directional.length=on,X.spot.length=Sn,X.rectArea.length=Re,X.point.length=Qn,X.hemi.length=he,X.directionalShadow.length=Pn,X.directionalShadowMap.length=Pn,X.pointShadow.length=ln,X.pointShadowMap.length=ln,X.spotShadow.length=jt,X.spotShadowMap.length=jt,X.directionalShadowMatrix.length=Pn,X.pointShadowMatrix.length=ln,X.spotLightMatrix.length=jt+_i-Cn,X.spotLightMap.length=_i,X.numSpotLightShadowsWithMaps=Cn,X.numLightProbes=Nn,wi.directionalLength=on,wi.pointLength=Qn,wi.spotLength=Sn,wi.rectAreaLength=Re,wi.hemiLength=he,wi.numDirectionalShadows=Pn,wi.numPointShadows=ln,wi.numSpotShadows=jt,wi.numSpotMaps=_i,wi.numLightProbes=Nn,X.version=Dl++)}function wn(nn,On){let Zt=0,Qt=0,on=0,Qn=0,Sn=0;const Re=On.matrixWorldInverse;for(let he=0,Pn=nn.length;he<Pn;he++){const ln=nn[he];if(ln.isDirectionalLight){const jt=X.directional[Zt];jt.direction.setFromMatrixPosition(ln.matrixWorld),Te.setFromMatrixPosition(ln.target.matrixWorld),jt.direction.sub(Te),jt.direction.transformDirection(Re),Zt++}else if(ln.isSpotLight){const jt=X.spot[on];jt.position.setFromMatrixPosition(ln.matrixWorld),jt.position.applyMatrix4(Re),jt.direction.setFromMatrixPosition(ln.matrixWorld),Te.setFromMatrixPosition(ln.target.matrixWorld),jt.direction.sub(Te),jt.direction.transformDirection(Re),on++}else if(ln.isRectAreaLight){const jt=X.rectArea[Qn];jt.position.setFromMatrixPosition(ln.matrixWorld),jt.position.applyMatrix4(Re),St.identity(),be.copy(ln.matrixWorld),be.premultiply(Re),St.extractRotation(be),jt.halfWidth.set(ln.width*.5,0,0),jt.halfHeight.set(0,ln.height*.5,0),jt.halfWidth.applyMatrix4(St),jt.halfHeight.applyMatrix4(St),Qn++}else if(ln.isPointLight){const jt=X.point[Qt];jt.position.setFromMatrixPosition(ln.matrixWorld),jt.position.applyMatrix4(Re),Qt++}else if(ln.isHemisphereLight){const jt=X.hemi[Sn];jt.direction.setFromMatrixPosition(ln.matrixWorld),jt.direction.transformDirection(Re),Sn++}}}return{setup:We,setupView:wn,state:X}}function Bc(m){const R=new Dc(m),C=[],X=[];function Te(On){nn.camera=On,C.length=0,X.length=0}function be(On){C.push(On)}function St(On){X.push(On)}function We(){R.setup(C)}function wn(On){R.setupView(C,On)}const nn={lightsArray:C,shadowsArray:X,camera:null,lights:R,transmissionRenderTarget:{}};return{init:Te,state:nn,setupLights:We,setupLightsView:wn,pushLight:be,pushShadow:St}}function xc(m){let R=new WeakMap;function C(Te,be=0){const St=R.get(Te);let We;return St===void 0?(We=new Bc(m),R.set(Te,[We])):be>=St.length?(We=new Bc(m),St.push(We)):We=St[be],We}function X(){R=new WeakMap}return{get:C,dispose:X}}const Io=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Uc=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hc(m,R,C){let X=new a.iWj;const Te=new a.FM8,be=new a.FM8,St=new a.Ltg,We=new a.lRF({depthPacking:a.mSO}),wn=new a.Lun,nn={},On=C.maxTextureSize,Zt={[a.Wl3]:a._Li,[a._Li]:a.Wl3,[a.ehD]:a.ehD},Qt=new a.jyz({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new a.FM8},radius:{value:4}},vertexShader:Io,fragmentShader:Uc}),on=Qt.clone();on.defines.HORIZONTAL_PASS=1;const Qn=new a.u9r;Qn.setAttribute("position",new a.TlE(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Sn=new a.Kj0(Qn,Qt),Re=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=a._iA;let he=this.type;this.render=function(Cn,Nn,wi){if(Re.enabled===!1||Re.autoUpdate===!1&&Re.needsUpdate===!1||Cn.length===0)return;const Ke=m.getRenderTarget(),Ue=m.getActiveCubeFace(),un=m.getActiveMipmapLevel(),ki=m.state;ki.setBlending(a.jFi),ki.buffers.color.setClear(1,1,1,1),ki.buffers.depth.setTest(!0),ki.setScissorTest(!1);const Mi=he!==a.dwk&&this.type===a.dwk,Rn=he===a.dwk&&this.type!==a.dwk;for(let Li=0,Ai=Cn.length;Li<Ai;Li++){const yr=Cn[Li],Wn=yr.shadow;if(Wn===void 0){console.warn("THREE.WebGLShadowMap:",yr,"has no shadow.");continue}if(Wn.autoUpdate===!1&&Wn.needsUpdate===!1)continue;Te.copy(Wn.mapSize);const Os=Wn.getFrameExtents();if(Te.multiply(Os),be.copy(Wn.mapSize),(Te.x>On||Te.y>On)&&(Te.x>On&&(be.x=Math.floor(On/Os.x),Te.x=be.x*Os.x,Wn.mapSize.x=be.x),Te.y>On&&(be.y=Math.floor(On/Os.y),Te.y=be.y*Os.y,Wn.mapSize.y=be.y)),Wn.map===null||Mi===!0||Rn===!0){const to=this.type!==a.dwk?{minFilter:a.TyD,magFilter:a.TyD}:{};Wn.map!==null&&Wn.map.dispose(),Wn.map=new a.dd2(Te.x,Te.y,to),Wn.map.texture.name=yr.name+".shadowMap",Wn.camera.updateProjectionMatrix()}m.setRenderTarget(Wn.map),m.clear();const yo=Wn.getViewportCount();for(let to=0;to<yo;to++){const ta=Wn.getViewport(to);St.set(be.x*ta.x,be.y*ta.y,be.x*ta.z,be.y*ta.w),ki.viewport(St),Wn.updateMatrices(yr,to),X=Wn.getFrustum(),jt(Nn,wi,Wn.camera,yr,this.type)}Wn.isPointLightShadow!==!0&&this.type===a.dwk&&Pn(Wn,wi),Wn.needsUpdate=!1}he=this.type,Re.needsUpdate=!1,m.setRenderTarget(Ke,Ue,un)};function Pn(Cn,Nn){const wi=R.update(Sn);Qt.defines.VSM_SAMPLES!==Cn.blurSamples&&(Qt.defines.VSM_SAMPLES=Cn.blurSamples,on.defines.VSM_SAMPLES=Cn.blurSamples,Qt.needsUpdate=!0,on.needsUpdate=!0),Cn.mapPass===null&&(Cn.mapPass=new a.dd2(Te.x,Te.y)),Qt.uniforms.shadow_pass.value=Cn.map.texture,Qt.uniforms.resolution.value=Cn.mapSize,Qt.uniforms.radius.value=Cn.radius,m.setRenderTarget(Cn.mapPass),m.clear(),m.renderBufferDirect(Nn,null,wi,Qt,Sn,null),on.uniforms.shadow_pass.value=Cn.mapPass.texture,on.uniforms.resolution.value=Cn.mapSize,on.uniforms.radius.value=Cn.radius,m.setRenderTarget(Cn.map),m.clear(),m.renderBufferDirect(Nn,null,wi,on,Sn,null)}function ln(Cn,Nn,wi,Ke){let Ue=null;const un=wi.isPointLight===!0?Cn.customDistanceMaterial:Cn.customDepthMaterial;if(un!==void 0)Ue=un;else if(Ue=wi.isPointLight===!0?wn:We,m.localClippingEnabled&&Nn.clipShadows===!0&&Array.isArray(Nn.clippingPlanes)&&Nn.clippingPlanes.length!==0||Nn.displacementMap&&Nn.displacementScale!==0||Nn.alphaMap&&Nn.alphaTest>0||Nn.map&&Nn.alphaTest>0){const ki=Ue.uuid,Mi=Nn.uuid;let Rn=nn[ki];Rn===void 0&&(Rn={},nn[ki]=Rn);let Li=Rn[Mi];Li===void 0&&(Li=Ue.clone(),Rn[Mi]=Li,Nn.addEventListener("dispose",_i)),Ue=Li}if(Ue.visible=Nn.visible,Ue.wireframe=Nn.wireframe,Ke===a.dwk?Ue.side=Nn.shadowSide!==null?Nn.shadowSide:Nn.side:Ue.side=Nn.shadowSide!==null?Nn.shadowSide:Zt[Nn.side],Ue.alphaMap=Nn.alphaMap,Ue.alphaTest=Nn.alphaTest,Ue.map=Nn.map,Ue.clipShadows=Nn.clipShadows,Ue.clippingPlanes=Nn.clippingPlanes,Ue.clipIntersection=Nn.clipIntersection,Ue.displacementMap=Nn.displacementMap,Ue.displacementScale=Nn.displacementScale,Ue.displacementBias=Nn.displacementBias,Ue.wireframeLinewidth=Nn.wireframeLinewidth,Ue.linewidth=Nn.linewidth,wi.isPointLight===!0&&Ue.isMeshDistanceMaterial===!0){const ki=m.properties.get(Ue);ki.light=wi}return Ue}function jt(Cn,Nn,wi,Ke,Ue){if(Cn.visible===!1)return;if(Cn.layers.test(Nn.layers)&&(Cn.isMesh||Cn.isLine||Cn.isPoints)&&(Cn.castShadow||Cn.receiveShadow&&Ue===a.dwk)&&(!Cn.frustumCulled||X.intersectsObject(Cn))){Cn.modelViewMatrix.multiplyMatrices(wi.matrixWorldInverse,Cn.matrixWorld);const Mi=R.update(Cn),Rn=Cn.material;if(Array.isArray(Rn)){const Li=Mi.groups;for(let Ai=0,yr=Li.length;Ai<yr;Ai++){const Wn=Li[Ai],Os=Rn[Wn.materialIndex];if(Os&&Os.visible){const yo=ln(Cn,Os,Ke,Ue);Cn.onBeforeShadow(m,Cn,Nn,wi,Mi,yo,Wn),m.renderBufferDirect(wi,null,Mi,yo,Cn,Wn),Cn.onAfterShadow(m,Cn,Nn,wi,Mi,yo,Wn)}}}else if(Rn.visible){const Li=ln(Cn,Rn,Ke,Ue);Cn.onBeforeShadow(m,Cn,Nn,wi,Mi,Li,null),m.renderBufferDirect(wi,null,Mi,Li,Cn,null),Cn.onAfterShadow(m,Cn,Nn,wi,Mi,Li,null)}}const ki=Cn.children;for(let Mi=0,Rn=ki.length;Mi<Rn;Mi++)jt(ki[Mi],Nn,wi,Ke,Ue)}function _i(Cn){Cn.target.removeEventListener("dispose",_i);for(const wi in nn){const Ke=nn[wi],Ue=Cn.target.uuid;Ue in Ke&&(Ke[Ue].dispose(),delete Ke[Ue])}}}const Ec={[a.BVF]:a.Se2,[a.Zr5]:a.w$m,[a.eD]:a.M6v,[a.vCF]:a.ksN,[a.Se2]:a.BVF,[a.w$m]:a.Zr5,[a.M6v]:a.eD,[a.ksN]:a.vCF};function nu(m,R){function C(){let Wt=!1;const Vr=new a.Ltg;let ei=null;const Fi=new a.Ltg(0,0,0,0);return{setMask:function(ls){ei!==ls&&!Wt&&(m.colorMask(ls,ls,ls,ls),ei=ls)},setLocked:function(ls){Wt=ls},setClear:function(ls,es,Go,fl,qa){qa===!0&&(ls*=fl,es*=fl,Go*=fl),Vr.set(ls,es,Go,fl),Fi.equals(Vr)===!1&&(m.clearColor(ls,es,Go,fl),Fi.copy(Vr))},reset:function(){Wt=!1,ei=null,Fi.set(-1,0,0,0)}}}function X(){let Wt=!1,Vr=!1,ei=null,Fi=null,ls=null;return{setReversed:function(es){if(Vr!==es){const Go=R.get("EXT_clip_control");es?Go.clipControlEXT(Go.LOWER_LEFT_EXT,Go.ZERO_TO_ONE_EXT):Go.clipControlEXT(Go.LOWER_LEFT_EXT,Go.NEGATIVE_ONE_TO_ONE_EXT),Vr=es;const fl=ls;ls=null,this.setClear(fl)}},getReversed:function(){return Vr},setTest:function(es){es?xr(m.DEPTH_TEST):xo(m.DEPTH_TEST)},setMask:function(es){ei!==es&&!Wt&&(m.depthMask(es),ei=es)},setFunc:function(es){if(Vr&&(es=Ec[es]),Fi!==es){switch(es){case a.BVF:m.depthFunc(m.NEVER);break;case a.Se2:m.depthFunc(m.ALWAYS);break;case a.Zr5:m.depthFunc(m.LESS);break;case a.vCF:m.depthFunc(m.LEQUAL);break;case a.eD:m.depthFunc(m.EQUAL);break;case a.ksN:m.depthFunc(m.GEQUAL);break;case a.w$m:m.depthFunc(m.GREATER);break;case a.M6v:m.depthFunc(m.NOTEQUAL);break;default:m.depthFunc(m.LEQUAL)}Fi=es}},setLocked:function(es){Wt=es},setClear:function(es){ls!==es&&(Vr&&(es=1-es),m.clearDepth(es),ls=es)},reset:function(){Wt=!1,ei=null,Fi=null,ls=null,Vr=!1}}}function Te(){let Wt=!1,Vr=null,ei=null,Fi=null,ls=null,es=null,Go=null,fl=null,qa=null;return{setTest:function(ma){Wt||(ma?xr(m.STENCIL_TEST):xo(m.STENCIL_TEST))},setMask:function(ma){Vr!==ma&&!Wt&&(m.stencilMask(ma),Vr=ma)},setFunc:function(ma,cl,Wl){(ei!==ma||Fi!==cl||ls!==Wl)&&(m.stencilFunc(ma,cl,Wl),ei=ma,Fi=cl,ls=Wl)},setOp:function(ma,cl,Wl){(es!==ma||Go!==cl||fl!==Wl)&&(m.stencilOp(ma,cl,Wl),es=ma,Go=cl,fl=Wl)},setLocked:function(ma){Wt=ma},setClear:function(ma){qa!==ma&&(m.clearStencil(ma),qa=ma)},reset:function(){Wt=!1,Vr=null,ei=null,Fi=null,ls=null,es=null,Go=null,fl=null,qa=null}}}const be=new C,St=new X,We=new Te,wn=new WeakMap,nn=new WeakMap;let On={},Zt={},Qt=new WeakMap,on=[],Qn=null,Sn=!1,Re=null,he=null,Pn=null,ln=null,jt=null,_i=null,Cn=null,Nn=new a.Ilk(0,0,0),wi=0,Ke=!1,Ue=null,un=null,ki=null,Mi=null,Rn=null;const Li=m.getParameter(m.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ai=!1,yr=0;const Wn=m.getParameter(m.VERSION);Wn.indexOf("WebGL")!==-1?(yr=parseFloat(/^WebGL (\d)/.exec(Wn)[1]),Ai=yr>=1):Wn.indexOf("OpenGL ES")!==-1&&(yr=parseFloat(/^OpenGL ES (\d)/.exec(Wn)[1]),Ai=yr>=2);let Os=null,yo={};const to=m.getParameter(m.SCISSOR_BOX),ta=m.getParameter(m.VIEWPORT),nl=new a.Ltg().fromArray(to),Kn=new a.Ltg().fromArray(ta);function Hr(Wt,Vr,ei,Fi){const ls=new Uint8Array(4),es=m.createTexture();m.bindTexture(Wt,es),m.texParameteri(Wt,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(Wt,m.TEXTURE_MAG_FILTER,m.NEAREST);for(let Go=0;Go<ei;Go++)Wt===m.TEXTURE_3D||Wt===m.TEXTURE_2D_ARRAY?m.texImage3D(Vr,0,m.RGBA,1,1,Fi,0,m.RGBA,m.UNSIGNED_BYTE,ls):m.texImage2D(Vr+Go,0,m.RGBA,1,1,0,m.RGBA,m.UNSIGNED_BYTE,ls);return es}const Rs={};Rs[m.TEXTURE_2D]=Hr(m.TEXTURE_2D,m.TEXTURE_2D,1),Rs[m.TEXTURE_CUBE_MAP]=Hr(m.TEXTURE_CUBE_MAP,m.TEXTURE_CUBE_MAP_POSITIVE_X,6),Rs[m.TEXTURE_2D_ARRAY]=Hr(m.TEXTURE_2D_ARRAY,m.TEXTURE_2D_ARRAY,1,1),Rs[m.TEXTURE_3D]=Hr(m.TEXTURE_3D,m.TEXTURE_3D,1,1),be.setClear(0,0,0,1),St.setClear(1),We.setClear(0),xr(m.DEPTH_TEST),St.setFunc(a.vCF),cr(!1),sa(a.tm_),xr(m.CULL_FACE),Lt(a.jFi);function xr(Wt){On[Wt]!==!0&&(m.enable(Wt),On[Wt]=!0)}function xo(Wt){On[Wt]!==!1&&(m.disable(Wt),On[Wt]=!1)}function Ra(Wt,Vr){return Zt[Wt]!==Vr?(m.bindFramebuffer(Wt,Vr),Zt[Wt]=Vr,Wt===m.DRAW_FRAMEBUFFER&&(Zt[m.FRAMEBUFFER]=Vr),Wt===m.FRAMEBUFFER&&(Zt[m.DRAW_FRAMEBUFFER]=Vr),!0):!1}function Do(Wt,Vr){let ei=on,Fi=!1;if(Wt){ei=Qt.get(Vr),ei===void 0&&(ei=[],Qt.set(Vr,ei));const ls=Wt.textures;if(ei.length!==ls.length||ei[0]!==m.COLOR_ATTACHMENT0){for(let es=0,Go=ls.length;es<Go;es++)ei[es]=m.COLOR_ATTACHMENT0+es;ei.length=ls.length,Fi=!0}}else ei[0]!==m.BACK&&(ei[0]=m.BACK,Fi=!0);Fi&&m.drawBuffers(ei)}function pl(Wt){return Qn!==Wt?(m.useProgram(Wt),Qn=Wt,!0):!1}const il={[a.bGH]:m.FUNC_ADD,[a.Wbm]:m.FUNC_SUBTRACT,[a.rOj]:m.FUNC_REVERSE_SUBTRACT};il[a.r_]=m.MIN,il[a.Sm8]=m.MAX;const Lo={[a.c8b]:m.ZERO,[a.ghN]:m.ONE,[a.KhW]:m.SRC_COLOR,[a.k74]:m.SRC_ALPHA,[a.RlZ]:m.SRC_ALPHA_SATURATE,[a.Vdb]:m.DST_COLOR,[a.fSK]:m.DST_ALPHA,[a.iWC]:m.ONE_MINUS_SRC_COLOR,[a.LgZ]:m.ONE_MINUS_SRC_ALPHA,[a.Wpd]:m.ONE_MINUS_DST_COLOR,[a.Hy8]:m.ONE_MINUS_DST_ALPHA,[a._wr]:m.CONSTANT_COLOR,[a.Cy]:m.ONE_MINUS_CONSTANT_COLOR,[a.jes]:m.CONSTANT_ALPHA,[a.NKc]:m.ONE_MINUS_CONSTANT_ALPHA};function Lt(Wt,Vr,ei,Fi,ls,es,Go,fl,qa,ma){if(Wt===a.jFi){Sn===!0&&(xo(m.BLEND),Sn=!1);return}if(Sn===!1&&(xr(m.BLEND),Sn=!0),Wt!==a.Xaj){if(Wt!==Re||ma!==Ke){if((he!==a.bGH||jt!==a.bGH)&&(m.blendEquation(m.FUNC_ADD),he=a.bGH,jt=a.bGH),ma)switch(Wt){case a.bdR:m.blendFuncSeparate(m.ONE,m.ONE_MINUS_SRC_ALPHA,m.ONE,m.ONE_MINUS_SRC_ALPHA);break;case a.WMw:m.blendFunc(m.ONE,m.ONE);break;case a.N4l:m.blendFuncSeparate(m.ZERO,m.ONE_MINUS_SRC_COLOR,m.ZERO,m.ONE);break;case a.M5h:m.blendFuncSeparate(m.ZERO,m.SRC_COLOR,m.ZERO,m.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Wt);break}else switch(Wt){case a.bdR:m.blendFuncSeparate(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA,m.ONE,m.ONE_MINUS_SRC_ALPHA);break;case a.WMw:m.blendFunc(m.SRC_ALPHA,m.ONE);break;case a.N4l:m.blendFuncSeparate(m.ZERO,m.ONE_MINUS_SRC_COLOR,m.ZERO,m.ONE);break;case a.M5h:m.blendFunc(m.ZERO,m.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Wt);break}Pn=null,ln=null,_i=null,Cn=null,Nn.set(0,0,0),wi=0,Re=Wt,Ke=ma}return}ls=ls||Vr,es=es||ei,Go=Go||Fi,(Vr!==he||ls!==jt)&&(m.blendEquationSeparate(il[Vr],il[ls]),he=Vr,jt=ls),(ei!==Pn||Fi!==ln||es!==_i||Go!==Cn)&&(m.blendFuncSeparate(Lo[ei],Lo[Fi],Lo[es],Lo[Go]),Pn=ei,ln=Fi,_i=es,Cn=Go),(fl.equals(Nn)===!1||qa!==wi)&&(m.blendColor(fl.r,fl.g,fl.b,qa),Nn.copy(fl),wi=qa),Re=Wt,Ke=!1}function $l(Wt,Vr){Wt.side===a.ehD?xo(m.CULL_FACE):xr(m.CULL_FACE);let ei=Wt.side===a._Li;Vr&&(ei=!ei),cr(ei),Wt.blending===a.bdR&&Wt.transparent===!1?Lt(a.jFi):Lt(Wt.blending,Wt.blendEquation,Wt.blendSrc,Wt.blendDst,Wt.blendEquationAlpha,Wt.blendSrcAlpha,Wt.blendDstAlpha,Wt.blendColor,Wt.blendAlpha,Wt.premultipliedAlpha),St.setFunc(Wt.depthFunc),St.setTest(Wt.depthTest),St.setMask(Wt.depthWrite),be.setMask(Wt.colorWrite);const Fi=Wt.stencilWrite;We.setTest(Fi),Fi&&(We.setMask(Wt.stencilWriteMask),We.setFunc(Wt.stencilFunc,Wt.stencilRef,Wt.stencilFuncMask),We.setOp(Wt.stencilFail,Wt.stencilZFail,Wt.stencilZPass)),Wa(Wt.polygonOffset,Wt.polygonOffsetFactor,Wt.polygonOffsetUnits),Wt.alphaToCoverage===!0?xr(m.SAMPLE_ALPHA_TO_COVERAGE):xo(m.SAMPLE_ALPHA_TO_COVERAGE)}function cr(Wt){Ue!==Wt&&(Wt?m.frontFace(m.CW):m.frontFace(m.CCW),Ue=Wt)}function sa(Wt){Wt!==a.PeU?(xr(m.CULL_FACE),Wt!==un&&(Wt===a.tm_?m.cullFace(m.BACK):Wt===a.S2y?m.cullFace(m.FRONT):m.cullFace(m.FRONT_AND_BACK))):xo(m.CULL_FACE),un=Wt}function Cs(Wt){Wt!==ki&&(Ai&&m.lineWidth(Wt),ki=Wt)}function Wa(Wt,Vr,ei){Wt?(xr(m.POLYGON_OFFSET_FILL),(Mi!==Vr||Rn!==ei)&&(m.polygonOffset(Vr,ei),Mi=Vr,Rn=ei)):xo(m.POLYGON_OFFSET_FILL)}function zs(Wt){Wt?xr(m.SCISSOR_TEST):xo(m.SCISSOR_TEST)}function ze(Wt){Wt===void 0&&(Wt=m.TEXTURE0+Li-1),Os!==Wt&&(m.activeTexture(Wt),Os=Wt)}function pe(Wt,Vr,ei){ei===void 0&&(Os===null?ei=m.TEXTURE0+Li-1:ei=Os);let Fi=yo[ei];Fi===void 0&&(Fi={type:void 0,texture:void 0},yo[ei]=Fi),(Fi.type!==Wt||Fi.texture!==Vr)&&(Os!==ei&&(m.activeTexture(ei),Os=ei),m.bindTexture(Wt,Vr||Rs[Wt]),Fi.type=Wt,Fi.texture=Vr)}function hn(){const Wt=yo[Os];Wt!==void 0&&Wt.type!==void 0&&(m.bindTexture(Wt.type,null),Wt.type=void 0,Wt.texture=void 0)}function In(){try{m.compressedTexImage2D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function Ni(){try{m.compressedTexImage3D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function xi(){try{m.texSubImage2D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function $s(){try{m.texSubImage3D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function Qr(){try{m.compressedTexSubImage2D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function ms(){try{m.compressedTexSubImage3D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function da(){try{m.texStorage2D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function ur(){try{m.texStorage3D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function is(){try{m.texImage2D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function Gs(){try{m.texImage3D(...arguments)}catch(Wt){console.error("THREE.WebGLState:",Wt)}}function _o(Wt){nl.equals(Wt)===!1&&(m.scissor(Wt.x,Wt.y,Wt.z,Wt.w),nl.copy(Wt))}function Kr(Wt){Kn.equals(Wt)===!1&&(m.viewport(Wt.x,Wt.y,Wt.z,Wt.w),Kn.copy(Wt))}function ko(Wt,Vr){let ei=nn.get(Vr);ei===void 0&&(ei=new WeakMap,nn.set(Vr,ei));let Fi=ei.get(Wt);Fi===void 0&&(Fi=m.getUniformBlockIndex(Vr,Wt.name),ei.set(Wt,Fi))}function Wo(Wt,Vr){const Fi=nn.get(Vr).get(Wt);wn.get(Vr)!==Fi&&(m.uniformBlockBinding(Vr,Fi,Wt.__bindingPointIndex),wn.set(Vr,Fi))}function Ta(){m.disable(m.BLEND),m.disable(m.CULL_FACE),m.disable(m.DEPTH_TEST),m.disable(m.POLYGON_OFFSET_FILL),m.disable(m.SCISSOR_TEST),m.disable(m.STENCIL_TEST),m.disable(m.SAMPLE_ALPHA_TO_COVERAGE),m.blendEquation(m.FUNC_ADD),m.blendFunc(m.ONE,m.ZERO),m.blendFuncSeparate(m.ONE,m.ZERO,m.ONE,m.ZERO),m.blendColor(0,0,0,0),m.colorMask(!0,!0,!0,!0),m.clearColor(0,0,0,0),m.depthMask(!0),m.depthFunc(m.LESS),St.setReversed(!1),m.clearDepth(1),m.stencilMask(4294967295),m.stencilFunc(m.ALWAYS,0,4294967295),m.stencilOp(m.KEEP,m.KEEP,m.KEEP),m.clearStencil(0),m.cullFace(m.BACK),m.frontFace(m.CCW),m.polygonOffset(0,0),m.activeTexture(m.TEXTURE0),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindFramebuffer(m.DRAW_FRAMEBUFFER,null),m.bindFramebuffer(m.READ_FRAMEBUFFER,null),m.useProgram(null),m.lineWidth(1),m.scissor(0,0,m.canvas.width,m.canvas.height),m.viewport(0,0,m.canvas.width,m.canvas.height),On={},Os=null,yo={},Zt={},Qt=new WeakMap,on=[],Qn=null,Sn=!1,Re=null,he=null,Pn=null,ln=null,jt=null,_i=null,Cn=null,Nn=new a.Ilk(0,0,0),wi=0,Ke=!1,Ue=null,un=null,ki=null,Mi=null,Rn=null,nl.set(0,0,m.canvas.width,m.canvas.height),Kn.set(0,0,m.canvas.width,m.canvas.height),be.reset(),St.reset(),We.reset()}return{buffers:{color:be,depth:St,stencil:We},enable:xr,disable:xo,bindFramebuffer:Ra,drawBuffers:Do,useProgram:pl,setBlending:Lt,setMaterial:$l,setFlipSided:cr,setCullFace:sa,setLineWidth:Cs,setPolygonOffset:Wa,setScissorTest:zs,activeTexture:ze,bindTexture:pe,unbindTexture:hn,compressedTexImage2D:In,compressedTexImage3D:Ni,texImage2D:is,texImage3D:Gs,updateUBOMapping:ko,uniformBlockBinding:Wo,texStorage2D:da,texStorage3D:ur,texSubImage2D:xi,texSubImage3D:$s,compressedTexSubImage2D:Qr,compressedTexSubImage3D:ms,scissor:_o,viewport:Kr,reset:Ta}}function Tc(m,R,C,X,Te,be,St){const We=R.has("WEBGL_multisampled_render_to_texture")?R.get("WEBGL_multisampled_render_to_texture"):null,wn=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),nn=new a.FM8,On=new WeakMap;let Zt;const Qt=new WeakMap;let on=!1;try{on=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(ze){}function Qn(ze,pe){return on?new OffscreenCanvas(ze,pe):(0,a.cac)("canvas")}function Sn(ze,pe,hn){let In=1;const Ni=zs(ze);if((Ni.width>hn||Ni.height>hn)&&(In=hn/Math.max(Ni.width,Ni.height)),In<1)if(typeof HTMLImageElement!="undefined"&&ze instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&ze instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&ze instanceof ImageBitmap||typeof VideoFrame!="undefined"&&ze instanceof VideoFrame){const xi=Math.floor(In*Ni.width),$s=Math.floor(In*Ni.height);Zt===void 0&&(Zt=Qn(xi,$s));const Qr=pe?Qn(xi,$s):Zt;return Qr.width=xi,Qr.height=$s,Qr.getContext("2d").drawImage(ze,0,0,xi,$s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ni.width+"x"+Ni.height+") to ("+xi+"x"+$s+")."),Qr}else return"data"in ze&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ni.width+"x"+Ni.height+")."),ze;return ze}function Re(ze){return ze.generateMipmaps}function he(ze){m.generateMipmap(ze)}function Pn(ze){return ze.isWebGLCubeRenderTarget?m.TEXTURE_CUBE_MAP:ze.isWebGL3DRenderTarget?m.TEXTURE_3D:ze.isWebGLArrayRenderTarget||ze.isCompressedArrayTexture?m.TEXTURE_2D_ARRAY:m.TEXTURE_2D}function ln(ze,pe,hn,In,Ni=!1){if(ze!==null){if(m[ze]!==void 0)return m[ze];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ze+"'")}let xi=pe;if(pe===m.RED&&(hn===m.FLOAT&&(xi=m.R32F),hn===m.HALF_FLOAT&&(xi=m.R16F),hn===m.UNSIGNED_BYTE&&(xi=m.R8)),pe===m.RED_INTEGER&&(hn===m.UNSIGNED_BYTE&&(xi=m.R8UI),hn===m.UNSIGNED_SHORT&&(xi=m.R16UI),hn===m.UNSIGNED_INT&&(xi=m.R32UI),hn===m.BYTE&&(xi=m.R8I),hn===m.SHORT&&(xi=m.R16I),hn===m.INT&&(xi=m.R32I)),pe===m.RG&&(hn===m.FLOAT&&(xi=m.RG32F),hn===m.HALF_FLOAT&&(xi=m.RG16F),hn===m.UNSIGNED_BYTE&&(xi=m.RG8)),pe===m.RG_INTEGER&&(hn===m.UNSIGNED_BYTE&&(xi=m.RG8UI),hn===m.UNSIGNED_SHORT&&(xi=m.RG16UI),hn===m.UNSIGNED_INT&&(xi=m.RG32UI),hn===m.BYTE&&(xi=m.RG8I),hn===m.SHORT&&(xi=m.RG16I),hn===m.INT&&(xi=m.RG32I)),pe===m.RGB_INTEGER&&(hn===m.UNSIGNED_BYTE&&(xi=m.RGB8UI),hn===m.UNSIGNED_SHORT&&(xi=m.RGB16UI),hn===m.UNSIGNED_INT&&(xi=m.RGB32UI),hn===m.BYTE&&(xi=m.RGB8I),hn===m.SHORT&&(xi=m.RGB16I),hn===m.INT&&(xi=m.RGB32I)),pe===m.RGBA_INTEGER&&(hn===m.UNSIGNED_BYTE&&(xi=m.RGBA8UI),hn===m.UNSIGNED_SHORT&&(xi=m.RGBA16UI),hn===m.UNSIGNED_INT&&(xi=m.RGBA32UI),hn===m.BYTE&&(xi=m.RGBA8I),hn===m.SHORT&&(xi=m.RGBA16I),hn===m.INT&&(xi=m.RGBA32I)),pe===m.RGB&&hn===m.UNSIGNED_INT_5_9_9_9_REV&&(xi=m.RGB9_E5),pe===m.RGBA){const $s=Ni?a.l6D:a.epp.getTransfer(In);hn===m.FLOAT&&(xi=m.RGBA32F),hn===m.HALF_FLOAT&&(xi=m.RGBA16F),hn===m.UNSIGNED_BYTE&&(xi=$s===a.j17?m.SRGB8_ALPHA8:m.RGBA8),hn===m.UNSIGNED_SHORT_4_4_4_4&&(xi=m.RGBA4),hn===m.UNSIGNED_SHORT_5_5_5_1&&(xi=m.RGB5_A1)}return(xi===m.R16F||xi===m.R32F||xi===m.RG16F||xi===m.RG32F||xi===m.RGBA16F||xi===m.RGBA32F)&&R.get("EXT_color_buffer_float"),xi}function jt(ze,pe){let hn;return ze?pe===null||pe===a.JQ4||pe===a.wJv?hn=m.DEPTH24_STENCIL8:pe===a.VzW?hn=m.DEPTH32F_STENCIL8:pe===a.LsT&&(hn=m.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):pe===null||pe===a.JQ4||pe===a.wJv?hn=m.DEPTH_COMPONENT24:pe===a.VzW?hn=m.DEPTH_COMPONENT32F:pe===a.LsT&&(hn=m.DEPTH_COMPONENT16),hn}function _i(ze,pe){return Re(ze)===!0||ze.isFramebufferTexture&&ze.minFilter!==a.TyD&&ze.minFilter!==a.wem?Math.log2(Math.max(pe.width,pe.height))+1:ze.mipmaps!==void 0&&ze.mipmaps.length>0?ze.mipmaps.length:ze.isCompressedTexture&&Array.isArray(ze.image)?pe.mipmaps.length:1}function Cn(ze){const pe=ze.target;pe.removeEventListener("dispose",Cn),wi(pe),pe.isVideoTexture&&On.delete(pe)}function Nn(ze){const pe=ze.target;pe.removeEventListener("dispose",Nn),Ue(pe)}function wi(ze){const pe=X.get(ze);if(pe.__webglInit===void 0)return;const hn=ze.source,In=Qt.get(hn);if(In){const Ni=In[pe.__cacheKey];Ni.usedTimes--,Ni.usedTimes===0&&Ke(ze),Object.keys(In).length===0&&Qt.delete(hn)}X.remove(ze)}function Ke(ze){const pe=X.get(ze);m.deleteTexture(pe.__webglTexture);const hn=ze.source,In=Qt.get(hn);delete In[pe.__cacheKey],St.memory.textures--}function Ue(ze){const pe=X.get(ze);if(ze.depthTexture&&(ze.depthTexture.dispose(),X.remove(ze.depthTexture)),ze.isWebGLCubeRenderTarget)for(let In=0;In<6;In++){if(Array.isArray(pe.__webglFramebuffer[In]))for(let Ni=0;Ni<pe.__webglFramebuffer[In].length;Ni++)m.deleteFramebuffer(pe.__webglFramebuffer[In][Ni]);else m.deleteFramebuffer(pe.__webglFramebuffer[In]);pe.__webglDepthbuffer&&m.deleteRenderbuffer(pe.__webglDepthbuffer[In])}else{if(Array.isArray(pe.__webglFramebuffer))for(let In=0;In<pe.__webglFramebuffer.length;In++)m.deleteFramebuffer(pe.__webglFramebuffer[In]);else m.deleteFramebuffer(pe.__webglFramebuffer);if(pe.__webglDepthbuffer&&m.deleteRenderbuffer(pe.__webglDepthbuffer),pe.__webglMultisampledFramebuffer&&m.deleteFramebuffer(pe.__webglMultisampledFramebuffer),pe.__webglColorRenderbuffer)for(let In=0;In<pe.__webglColorRenderbuffer.length;In++)pe.__webglColorRenderbuffer[In]&&m.deleteRenderbuffer(pe.__webglColorRenderbuffer[In]);pe.__webglDepthRenderbuffer&&m.deleteRenderbuffer(pe.__webglDepthRenderbuffer)}const hn=ze.textures;for(let In=0,Ni=hn.length;In<Ni;In++){const xi=X.get(hn[In]);xi.__webglTexture&&(m.deleteTexture(xi.__webglTexture),St.memory.textures--),X.remove(hn[In])}X.remove(ze)}let un=0;function ki(){un=0}function Mi(){const ze=un;return ze>=Te.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ze+" texture units while this GPU supports only "+Te.maxTextures),un+=1,ze}function Rn(ze){const pe=[];return pe.push(ze.wrapS),pe.push(ze.wrapT),pe.push(ze.wrapR||0),pe.push(ze.magFilter),pe.push(ze.minFilter),pe.push(ze.anisotropy),pe.push(ze.internalFormat),pe.push(ze.format),pe.push(ze.type),pe.push(ze.generateMipmaps),pe.push(ze.premultiplyAlpha),pe.push(ze.flipY),pe.push(ze.unpackAlignment),pe.push(ze.colorSpace),pe.join()}function Li(ze,pe){const hn=X.get(ze);if(ze.isVideoTexture&&Cs(ze),ze.isRenderTargetTexture===!1&&ze.version>0&&hn.__version!==ze.version){const In=ze.image;if(In===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(In.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Kn(hn,ze,pe);return}}C.bindTexture(m.TEXTURE_2D,hn.__webglTexture,m.TEXTURE0+pe)}function Ai(ze,pe){const hn=X.get(ze);if(ze.version>0&&hn.__version!==ze.version){Kn(hn,ze,pe);return}C.bindTexture(m.TEXTURE_2D_ARRAY,hn.__webglTexture,m.TEXTURE0+pe)}function yr(ze,pe){const hn=X.get(ze);if(ze.version>0&&hn.__version!==ze.version){Kn(hn,ze,pe);return}C.bindTexture(m.TEXTURE_3D,hn.__webglTexture,m.TEXTURE0+pe)}function Wn(ze,pe){const hn=X.get(ze);if(ze.version>0&&hn.__version!==ze.version){Hr(hn,ze,pe);return}C.bindTexture(m.TEXTURE_CUBE_MAP,hn.__webglTexture,m.TEXTURE0+pe)}const Os={[a.rpg]:m.REPEAT,[a.uWy]:m.CLAMP_TO_EDGE,[a.OoA]:m.MIRRORED_REPEAT},yo={[a.TyD]:m.NEAREST,[a.YLQ]:m.NEAREST_MIPMAP_NEAREST,[a.aH4]:m.NEAREST_MIPMAP_LINEAR,[a.wem]:m.LINEAR,[a.qyh]:m.LINEAR_MIPMAP_NEAREST,[a.D1R]:m.LINEAR_MIPMAP_LINEAR},to={[a.xoQ]:m.NEVER,[a.T6w]:m.ALWAYS,[a.D67]:m.LESS,[a.M$G]:m.LEQUAL,[a.F1y]:m.EQUAL,[a.Jjb]:m.GEQUAL,[a.Zen]:m.GREATER,[a.O78]:m.NOTEQUAL};function ta(ze,pe){if(pe.type===a.VzW&&R.has("OES_texture_float_linear")===!1&&(pe.magFilter===a.wem||pe.magFilter===a.qyh||pe.magFilter===a.aH4||pe.magFilter===a.D1R||pe.minFilter===a.wem||pe.minFilter===a.qyh||pe.minFilter===a.aH4||pe.minFilter===a.D1R)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),m.texParameteri(ze,m.TEXTURE_WRAP_S,Os[pe.wrapS]),m.texParameteri(ze,m.TEXTURE_WRAP_T,Os[pe.wrapT]),(ze===m.TEXTURE_3D||ze===m.TEXTURE_2D_ARRAY)&&m.texParameteri(ze,m.TEXTURE_WRAP_R,Os[pe.wrapR]),m.texParameteri(ze,m.TEXTURE_MAG_FILTER,yo[pe.magFilter]),m.texParameteri(ze,m.TEXTURE_MIN_FILTER,yo[pe.minFilter]),pe.compareFunction&&(m.texParameteri(ze,m.TEXTURE_COMPARE_MODE,m.COMPARE_REF_TO_TEXTURE),m.texParameteri(ze,m.TEXTURE_COMPARE_FUNC,to[pe.compareFunction])),R.has("EXT_texture_filter_anisotropic")===!0){if(pe.magFilter===a.TyD||pe.minFilter!==a.aH4&&pe.minFilter!==a.D1R||pe.type===a.VzW&&R.has("OES_texture_float_linear")===!1)return;if(pe.anisotropy>1||X.get(pe).__currentAnisotropy){const hn=R.get("EXT_texture_filter_anisotropic");m.texParameterf(ze,hn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(pe.anisotropy,Te.getMaxAnisotropy())),X.get(pe).__currentAnisotropy=pe.anisotropy}}}function nl(ze,pe){let hn=!1;ze.__webglInit===void 0&&(ze.__webglInit=!0,pe.addEventListener("dispose",Cn));const In=pe.source;let Ni=Qt.get(In);Ni===void 0&&(Ni={},Qt.set(In,Ni));const xi=Rn(pe);if(xi!==ze.__cacheKey){Ni[xi]===void 0&&(Ni[xi]={texture:m.createTexture(),usedTimes:0},St.memory.textures++,hn=!0),Ni[xi].usedTimes++;const $s=Ni[ze.__cacheKey];$s!==void 0&&(Ni[ze.__cacheKey].usedTimes--,$s.usedTimes===0&&Ke(pe)),ze.__cacheKey=xi,ze.__webglTexture=Ni[xi].texture}return hn}function Kn(ze,pe,hn){let In=m.TEXTURE_2D;(pe.isDataArrayTexture||pe.isCompressedArrayTexture)&&(In=m.TEXTURE_2D_ARRAY),pe.isData3DTexture&&(In=m.TEXTURE_3D);const Ni=nl(ze,pe),xi=pe.source;C.bindTexture(In,ze.__webglTexture,m.TEXTURE0+hn);const $s=X.get(xi);if(xi.version!==$s.__version||Ni===!0){C.activeTexture(m.TEXTURE0+hn);const Qr=a.epp.getPrimaries(a.epp.workingColorSpace),ms=pe.colorSpace===a.aCh?null:a.epp.getPrimaries(pe.colorSpace),da=pe.colorSpace===a.aCh||Qr===ms?m.NONE:m.BROWSER_DEFAULT_WEBGL;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,pe.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,pe.unpackAlignment),m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL,da);let ur=Sn(pe.image,!1,Te.maxTextureSize);ur=Wa(pe,ur);const is=be.convert(pe.format,pe.colorSpace),Gs=be.convert(pe.type);let _o=ln(pe.internalFormat,is,Gs,pe.colorSpace,pe.isVideoTexture);ta(In,pe);let Kr;const ko=pe.mipmaps,Wo=pe.isVideoTexture!==!0,Ta=$s.__version===void 0||Ni===!0,Wt=xi.dataReady,Vr=_i(pe,ur);if(pe.isDepthTexture)_o=jt(pe.format===a.brP,pe.type),Ta&&(Wo?C.texStorage2D(m.TEXTURE_2D,1,_o,ur.width,ur.height):C.texImage2D(m.TEXTURE_2D,0,_o,ur.width,ur.height,0,is,Gs,null));else if(pe.isDataTexture)if(ko.length>0){Wo&&Ta&&C.texStorage2D(m.TEXTURE_2D,Vr,_o,ko[0].width,ko[0].height);for(let ei=0,Fi=ko.length;ei<Fi;ei++)Kr=ko[ei],Wo?Wt&&C.texSubImage2D(m.TEXTURE_2D,ei,0,0,Kr.width,Kr.height,is,Gs,Kr.data):C.texImage2D(m.TEXTURE_2D,ei,_o,Kr.width,Kr.height,0,is,Gs,Kr.data);pe.generateMipmaps=!1}else Wo?(Ta&&C.texStorage2D(m.TEXTURE_2D,Vr,_o,ur.width,ur.height),Wt&&C.texSubImage2D(m.TEXTURE_2D,0,0,0,ur.width,ur.height,is,Gs,ur.data)):C.texImage2D(m.TEXTURE_2D,0,_o,ur.width,ur.height,0,is,Gs,ur.data);else if(pe.isCompressedTexture)if(pe.isCompressedArrayTexture){Wo&&Ta&&C.texStorage3D(m.TEXTURE_2D_ARRAY,Vr,_o,ko[0].width,ko[0].height,ur.depth);for(let ei=0,Fi=ko.length;ei<Fi;ei++)if(Kr=ko[ei],pe.format!==a.wk1)if(is!==null)if(Wo){if(Wt)if(pe.layerUpdates.size>0){const ls=(0,a.EcG)(Kr.width,Kr.height,pe.format,pe.type);for(const es of pe.layerUpdates){const Go=Kr.data.subarray(es*ls/Kr.data.BYTES_PER_ELEMENT,(es+1)*ls/Kr.data.BYTES_PER_ELEMENT);C.compressedTexSubImage3D(m.TEXTURE_2D_ARRAY,ei,0,0,es,Kr.width,Kr.height,1,is,Go)}pe.clearLayerUpdates()}else C.compressedTexSubImage3D(m.TEXTURE_2D_ARRAY,ei,0,0,0,Kr.width,Kr.height,ur.depth,is,Kr.data)}else C.compressedTexImage3D(m.TEXTURE_2D_ARRAY,ei,_o,Kr.width,Kr.height,ur.depth,0,Kr.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Wo?Wt&&C.texSubImage3D(m.TEXTURE_2D_ARRAY,ei,0,0,0,Kr.width,Kr.height,ur.depth,is,Gs,Kr.data):C.texImage3D(m.TEXTURE_2D_ARRAY,ei,_o,Kr.width,Kr.height,ur.depth,0,is,Gs,Kr.data)}else{Wo&&Ta&&C.texStorage2D(m.TEXTURE_2D,Vr,_o,ko[0].width,ko[0].height);for(let ei=0,Fi=ko.length;ei<Fi;ei++)Kr=ko[ei],pe.format!==a.wk1?is!==null?Wo?Wt&&C.compressedTexSubImage2D(m.TEXTURE_2D,ei,0,0,Kr.width,Kr.height,is,Kr.data):C.compressedTexImage2D(m.TEXTURE_2D,ei,_o,Kr.width,Kr.height,0,Kr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Wo?Wt&&C.texSubImage2D(m.TEXTURE_2D,ei,0,0,Kr.width,Kr.height,is,Gs,Kr.data):C.texImage2D(m.TEXTURE_2D,ei,_o,Kr.width,Kr.height,0,is,Gs,Kr.data)}else if(pe.isDataArrayTexture)if(Wo){if(Ta&&C.texStorage3D(m.TEXTURE_2D_ARRAY,Vr,_o,ur.width,ur.height,ur.depth),Wt)if(pe.layerUpdates.size>0){const ei=(0,a.EcG)(ur.width,ur.height,pe.format,pe.type);for(const Fi of pe.layerUpdates){const ls=ur.data.subarray(Fi*ei/ur.data.BYTES_PER_ELEMENT,(Fi+1)*ei/ur.data.BYTES_PER_ELEMENT);C.texSubImage3D(m.TEXTURE_2D_ARRAY,0,0,0,Fi,ur.width,ur.height,1,is,Gs,ls)}pe.clearLayerUpdates()}else C.texSubImage3D(m.TEXTURE_2D_ARRAY,0,0,0,0,ur.width,ur.height,ur.depth,is,Gs,ur.data)}else C.texImage3D(m.TEXTURE_2D_ARRAY,0,_o,ur.width,ur.height,ur.depth,0,is,Gs,ur.data);else if(pe.isData3DTexture)Wo?(Ta&&C.texStorage3D(m.TEXTURE_3D,Vr,_o,ur.width,ur.height,ur.depth),Wt&&C.texSubImage3D(m.TEXTURE_3D,0,0,0,0,ur.width,ur.height,ur.depth,is,Gs,ur.data)):C.texImage3D(m.TEXTURE_3D,0,_o,ur.width,ur.height,ur.depth,0,is,Gs,ur.data);else if(pe.isFramebufferTexture){if(Ta)if(Wo)C.texStorage2D(m.TEXTURE_2D,Vr,_o,ur.width,ur.height);else{let ei=ur.width,Fi=ur.height;for(let ls=0;ls<Vr;ls++)C.texImage2D(m.TEXTURE_2D,ls,_o,ei,Fi,0,is,Gs,null),ei>>=1,Fi>>=1}}else if(ko.length>0){if(Wo&&Ta){const ei=zs(ko[0]);C.texStorage2D(m.TEXTURE_2D,Vr,_o,ei.width,ei.height)}for(let ei=0,Fi=ko.length;ei<Fi;ei++)Kr=ko[ei],Wo?Wt&&C.texSubImage2D(m.TEXTURE_2D,ei,0,0,is,Gs,Kr):C.texImage2D(m.TEXTURE_2D,ei,_o,is,Gs,Kr);pe.generateMipmaps=!1}else if(Wo){if(Ta){const ei=zs(ur);C.texStorage2D(m.TEXTURE_2D,Vr,_o,ei.width,ei.height)}Wt&&C.texSubImage2D(m.TEXTURE_2D,0,0,0,is,Gs,ur)}else C.texImage2D(m.TEXTURE_2D,0,_o,is,Gs,ur);Re(pe)&&he(In),$s.__version=xi.version,pe.onUpdate&&pe.onUpdate(pe)}ze.__version=pe.version}function Hr(ze,pe,hn){if(pe.image.length!==6)return;const In=nl(ze,pe),Ni=pe.source;C.bindTexture(m.TEXTURE_CUBE_MAP,ze.__webglTexture,m.TEXTURE0+hn);const xi=X.get(Ni);if(Ni.version!==xi.__version||In===!0){C.activeTexture(m.TEXTURE0+hn);const $s=a.epp.getPrimaries(a.epp.workingColorSpace),Qr=pe.colorSpace===a.aCh?null:a.epp.getPrimaries(pe.colorSpace),ms=pe.colorSpace===a.aCh||$s===Qr?m.NONE:m.BROWSER_DEFAULT_WEBGL;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,pe.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,pe.unpackAlignment),m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL,ms);const da=pe.isCompressedTexture||pe.image[0].isCompressedTexture,ur=pe.image[0]&&pe.image[0].isDataTexture,is=[];for(let Fi=0;Fi<6;Fi++)!da&&!ur?is[Fi]=Sn(pe.image[Fi],!0,Te.maxCubemapSize):is[Fi]=ur?pe.image[Fi].image:pe.image[Fi],is[Fi]=Wa(pe,is[Fi]);const Gs=is[0],_o=be.convert(pe.format,pe.colorSpace),Kr=be.convert(pe.type),ko=ln(pe.internalFormat,_o,Kr,pe.colorSpace),Wo=pe.isVideoTexture!==!0,Ta=xi.__version===void 0||In===!0,Wt=Ni.dataReady;let Vr=_i(pe,Gs);ta(m.TEXTURE_CUBE_MAP,pe);let ei;if(da){Wo&&Ta&&C.texStorage2D(m.TEXTURE_CUBE_MAP,Vr,ko,Gs.width,Gs.height);for(let Fi=0;Fi<6;Fi++){ei=is[Fi].mipmaps;for(let ls=0;ls<ei.length;ls++){const es=ei[ls];pe.format!==a.wk1?_o!==null?Wo?Wt&&C.compressedTexSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls,0,0,es.width,es.height,_o,es.data):C.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls,ko,es.width,es.height,0,es.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Wo?Wt&&C.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls,0,0,es.width,es.height,_o,Kr,es.data):C.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls,ko,es.width,es.height,0,_o,Kr,es.data)}}}else{if(ei=pe.mipmaps,Wo&&Ta){ei.length>0&&Vr++;const Fi=zs(is[0]);C.texStorage2D(m.TEXTURE_CUBE_MAP,Vr,ko,Fi.width,Fi.height)}for(let Fi=0;Fi<6;Fi++)if(ur){Wo?Wt&&C.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,0,0,0,is[Fi].width,is[Fi].height,_o,Kr,is[Fi].data):C.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,0,ko,is[Fi].width,is[Fi].height,0,_o,Kr,is[Fi].data);for(let ls=0;ls<ei.length;ls++){const Go=ei[ls].image[Fi].image;Wo?Wt&&C.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls+1,0,0,Go.width,Go.height,_o,Kr,Go.data):C.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls+1,ko,Go.width,Go.height,0,_o,Kr,Go.data)}}else{Wo?Wt&&C.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,0,0,0,_o,Kr,is[Fi]):C.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,0,ko,_o,Kr,is[Fi]);for(let ls=0;ls<ei.length;ls++){const es=ei[ls];Wo?Wt&&C.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls+1,0,0,_o,Kr,es.image[Fi]):C.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,ls+1,ko,_o,Kr,es.image[Fi])}}}Re(pe)&&he(m.TEXTURE_CUBE_MAP),xi.__version=Ni.version,pe.onUpdate&&pe.onUpdate(pe)}ze.__version=pe.version}function Rs(ze,pe,hn,In,Ni,xi){const $s=be.convert(hn.format,hn.colorSpace),Qr=be.convert(hn.type),ms=ln(hn.internalFormat,$s,Qr,hn.colorSpace),da=X.get(pe),ur=X.get(hn);if(ur.__renderTarget=pe,!da.__hasExternalTextures){const is=Math.max(1,pe.width>>xi),Gs=Math.max(1,pe.height>>xi);Ni===m.TEXTURE_3D||Ni===m.TEXTURE_2D_ARRAY?C.texImage3D(Ni,xi,ms,is,Gs,pe.depth,0,$s,Qr,null):C.texImage2D(Ni,xi,ms,is,Gs,0,$s,Qr,null)}C.bindFramebuffer(m.FRAMEBUFFER,ze),sa(pe)?We.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,In,Ni,ur.__webglTexture,0,cr(pe)):(Ni===m.TEXTURE_2D||Ni>=m.TEXTURE_CUBE_MAP_POSITIVE_X&&Ni<=m.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&m.framebufferTexture2D(m.FRAMEBUFFER,In,Ni,ur.__webglTexture,xi),C.bindFramebuffer(m.FRAMEBUFFER,null)}function xr(ze,pe,hn){if(m.bindRenderbuffer(m.RENDERBUFFER,ze),pe.depthBuffer){const In=pe.depthTexture,Ni=In&&In.isDepthTexture?In.type:null,xi=jt(pe.stencilBuffer,Ni),$s=pe.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,Qr=cr(pe);sa(pe)?We.renderbufferStorageMultisampleEXT(m.RENDERBUFFER,Qr,xi,pe.width,pe.height):hn?m.renderbufferStorageMultisample(m.RENDERBUFFER,Qr,xi,pe.width,pe.height):m.renderbufferStorage(m.RENDERBUFFER,xi,pe.width,pe.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,$s,m.RENDERBUFFER,ze)}else{const In=pe.textures;for(let Ni=0;Ni<In.length;Ni++){const xi=In[Ni],$s=be.convert(xi.format,xi.colorSpace),Qr=be.convert(xi.type),ms=ln(xi.internalFormat,$s,Qr,xi.colorSpace),da=cr(pe);hn&&sa(pe)===!1?m.renderbufferStorageMultisample(m.RENDERBUFFER,da,ms,pe.width,pe.height):sa(pe)?We.renderbufferStorageMultisampleEXT(m.RENDERBUFFER,da,ms,pe.width,pe.height):m.renderbufferStorage(m.RENDERBUFFER,ms,pe.width,pe.height)}}m.bindRenderbuffer(m.RENDERBUFFER,null)}function xo(ze,pe){if(pe&&pe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(C.bindFramebuffer(m.FRAMEBUFFER,ze),!(pe.depthTexture&&pe.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const In=X.get(pe.depthTexture);In.__renderTarget=pe,(!In.__webglTexture||pe.depthTexture.image.width!==pe.width||pe.depthTexture.image.height!==pe.height)&&(pe.depthTexture.image.width=pe.width,pe.depthTexture.image.height=pe.height,pe.depthTexture.needsUpdate=!0),Li(pe.depthTexture,0);const Ni=In.__webglTexture,xi=cr(pe);if(pe.depthTexture.format===a.qkB)sa(pe)?We.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,Ni,0,xi):m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,Ni,0);else if(pe.depthTexture.format===a.brP)sa(pe)?We.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,Ni,0,xi):m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,Ni,0);else throw new Error("Unknown depthTexture format")}function Ra(ze){const pe=X.get(ze),hn=ze.isWebGLCubeRenderTarget===!0;if(pe.__boundDepthTexture!==ze.depthTexture){const In=ze.depthTexture;if(pe.__depthDisposeCallback&&pe.__depthDisposeCallback(),In){const Ni=()=>{delete pe.__boundDepthTexture,delete pe.__depthDisposeCallback,In.removeEventListener("dispose",Ni)};In.addEventListener("dispose",Ni),pe.__depthDisposeCallback=Ni}pe.__boundDepthTexture=In}if(ze.depthTexture&&!pe.__autoAllocateDepthBuffer){if(hn)throw new Error("target.depthTexture not supported in Cube render targets");xo(pe.__webglFramebuffer,ze)}else if(hn){pe.__webglDepthbuffer=[];for(let In=0;In<6;In++)if(C.bindFramebuffer(m.FRAMEBUFFER,pe.__webglFramebuffer[In]),pe.__webglDepthbuffer[In]===void 0)pe.__webglDepthbuffer[In]=m.createRenderbuffer(),xr(pe.__webglDepthbuffer[In],ze,!1);else{const Ni=ze.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,xi=pe.__webglDepthbuffer[In];m.bindRenderbuffer(m.RENDERBUFFER,xi),m.framebufferRenderbuffer(m.FRAMEBUFFER,Ni,m.RENDERBUFFER,xi)}}else if(C.bindFramebuffer(m.FRAMEBUFFER,pe.__webglFramebuffer),pe.__webglDepthbuffer===void 0)pe.__webglDepthbuffer=m.createRenderbuffer(),xr(pe.__webglDepthbuffer,ze,!1);else{const In=ze.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,Ni=pe.__webglDepthbuffer;m.bindRenderbuffer(m.RENDERBUFFER,Ni),m.framebufferRenderbuffer(m.FRAMEBUFFER,In,m.RENDERBUFFER,Ni)}C.bindFramebuffer(m.FRAMEBUFFER,null)}function Do(ze,pe,hn){const In=X.get(ze);pe!==void 0&&Rs(In.__webglFramebuffer,ze,ze.texture,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,0),hn!==void 0&&Ra(ze)}function pl(ze){const pe=ze.texture,hn=X.get(ze),In=X.get(pe);ze.addEventListener("dispose",Nn);const Ni=ze.textures,xi=ze.isWebGLCubeRenderTarget===!0,$s=Ni.length>1;if($s||(In.__webglTexture===void 0&&(In.__webglTexture=m.createTexture()),In.__version=pe.version,St.memory.textures++),xi){hn.__webglFramebuffer=[];for(let Qr=0;Qr<6;Qr++)if(pe.mipmaps&&pe.mipmaps.length>0){hn.__webglFramebuffer[Qr]=[];for(let ms=0;ms<pe.mipmaps.length;ms++)hn.__webglFramebuffer[Qr][ms]=m.createFramebuffer()}else hn.__webglFramebuffer[Qr]=m.createFramebuffer()}else{if(pe.mipmaps&&pe.mipmaps.length>0){hn.__webglFramebuffer=[];for(let Qr=0;Qr<pe.mipmaps.length;Qr++)hn.__webglFramebuffer[Qr]=m.createFramebuffer()}else hn.__webglFramebuffer=m.createFramebuffer();if($s)for(let Qr=0,ms=Ni.length;Qr<ms;Qr++){const da=X.get(Ni[Qr]);da.__webglTexture===void 0&&(da.__webglTexture=m.createTexture(),St.memory.textures++)}if(ze.samples>0&&sa(ze)===!1){hn.__webglMultisampledFramebuffer=m.createFramebuffer(),hn.__webglColorRenderbuffer=[],C.bindFramebuffer(m.FRAMEBUFFER,hn.__webglMultisampledFramebuffer);for(let Qr=0;Qr<Ni.length;Qr++){const ms=Ni[Qr];hn.__webglColorRenderbuffer[Qr]=m.createRenderbuffer(),m.bindRenderbuffer(m.RENDERBUFFER,hn.__webglColorRenderbuffer[Qr]);const da=be.convert(ms.format,ms.colorSpace),ur=be.convert(ms.type),is=ln(ms.internalFormat,da,ur,ms.colorSpace,ze.isXRRenderTarget===!0),Gs=cr(ze);m.renderbufferStorageMultisample(m.RENDERBUFFER,Gs,is,ze.width,ze.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+Qr,m.RENDERBUFFER,hn.__webglColorRenderbuffer[Qr])}m.bindRenderbuffer(m.RENDERBUFFER,null),ze.depthBuffer&&(hn.__webglDepthRenderbuffer=m.createRenderbuffer(),xr(hn.__webglDepthRenderbuffer,ze,!0)),C.bindFramebuffer(m.FRAMEBUFFER,null)}}if(xi){C.bindTexture(m.TEXTURE_CUBE_MAP,In.__webglTexture),ta(m.TEXTURE_CUBE_MAP,pe);for(let Qr=0;Qr<6;Qr++)if(pe.mipmaps&&pe.mipmaps.length>0)for(let ms=0;ms<pe.mipmaps.length;ms++)Rs(hn.__webglFramebuffer[Qr][ms],ze,pe,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+Qr,ms);else Rs(hn.__webglFramebuffer[Qr],ze,pe,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+Qr,0);Re(pe)&&he(m.TEXTURE_CUBE_MAP),C.unbindTexture()}else if($s){for(let Qr=0,ms=Ni.length;Qr<ms;Qr++){const da=Ni[Qr],ur=X.get(da);C.bindTexture(m.TEXTURE_2D,ur.__webglTexture),ta(m.TEXTURE_2D,da),Rs(hn.__webglFramebuffer,ze,da,m.COLOR_ATTACHMENT0+Qr,m.TEXTURE_2D,0),Re(da)&&he(m.TEXTURE_2D)}C.unbindTexture()}else{let Qr=m.TEXTURE_2D;if((ze.isWebGL3DRenderTarget||ze.isWebGLArrayRenderTarget)&&(Qr=ze.isWebGL3DRenderTarget?m.TEXTURE_3D:m.TEXTURE_2D_ARRAY),C.bindTexture(Qr,In.__webglTexture),ta(Qr,pe),pe.mipmaps&&pe.mipmaps.length>0)for(let ms=0;ms<pe.mipmaps.length;ms++)Rs(hn.__webglFramebuffer[ms],ze,pe,m.COLOR_ATTACHMENT0,Qr,ms);else Rs(hn.__webglFramebuffer,ze,pe,m.COLOR_ATTACHMENT0,Qr,0);Re(pe)&&he(Qr),C.unbindTexture()}ze.depthBuffer&&Ra(ze)}function il(ze){const pe=ze.textures;for(let hn=0,In=pe.length;hn<In;hn++){const Ni=pe[hn];if(Re(Ni)){const xi=Pn(ze),$s=X.get(Ni).__webglTexture;C.bindTexture(xi,$s),he(xi),C.unbindTexture()}}}const Lo=[],Lt=[];function $l(ze){if(ze.samples>0){if(sa(ze)===!1){const pe=ze.textures,hn=ze.width,In=ze.height;let Ni=m.COLOR_BUFFER_BIT;const xi=ze.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,$s=X.get(ze),Qr=pe.length>1;if(Qr)for(let ms=0;ms<pe.length;ms++)C.bindFramebuffer(m.FRAMEBUFFER,$s.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+ms,m.RENDERBUFFER,null),C.bindFramebuffer(m.FRAMEBUFFER,$s.__webglFramebuffer),m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0+ms,m.TEXTURE_2D,null,0);C.bindFramebuffer(m.READ_FRAMEBUFFER,$s.__webglMultisampledFramebuffer),C.bindFramebuffer(m.DRAW_FRAMEBUFFER,$s.__webglFramebuffer);for(let ms=0;ms<pe.length;ms++){if(ze.resolveDepthBuffer&&(ze.depthBuffer&&(Ni|=m.DEPTH_BUFFER_BIT),ze.stencilBuffer&&ze.resolveStencilBuffer&&(Ni|=m.STENCIL_BUFFER_BIT)),Qr){m.framebufferRenderbuffer(m.READ_FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.RENDERBUFFER,$s.__webglColorRenderbuffer[ms]);const da=X.get(pe[ms]).__webglTexture;m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,da,0)}m.blitFramebuffer(0,0,hn,In,0,0,hn,In,Ni,m.NEAREST),wn===!0&&(Lo.length=0,Lt.length=0,Lo.push(m.COLOR_ATTACHMENT0+ms),ze.depthBuffer&&ze.resolveDepthBuffer===!1&&(Lo.push(xi),Lt.push(xi),m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER,Lt)),m.invalidateFramebuffer(m.READ_FRAMEBUFFER,Lo))}if(C.bindFramebuffer(m.READ_FRAMEBUFFER,null),C.bindFramebuffer(m.DRAW_FRAMEBUFFER,null),Qr)for(let ms=0;ms<pe.length;ms++){C.bindFramebuffer(m.FRAMEBUFFER,$s.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+ms,m.RENDERBUFFER,$s.__webglColorRenderbuffer[ms]);const da=X.get(pe[ms]).__webglTexture;C.bindFramebuffer(m.FRAMEBUFFER,$s.__webglFramebuffer),m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0+ms,m.TEXTURE_2D,da,0)}C.bindFramebuffer(m.DRAW_FRAMEBUFFER,$s.__webglMultisampledFramebuffer)}else if(ze.depthBuffer&&ze.resolveDepthBuffer===!1&&wn){const pe=ze.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT;m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER,[pe])}}}function cr(ze){return Math.min(Te.maxSamples,ze.samples)}function sa(ze){const pe=X.get(ze);return ze.samples>0&&R.has("WEBGL_multisampled_render_to_texture")===!0&&pe.__useRenderToTexture!==!1}function Cs(ze){const pe=St.render.frame;On.get(ze)!==pe&&(On.set(ze,pe),ze.update())}function Wa(ze,pe){const hn=ze.colorSpace,In=ze.format,Ni=ze.type;return ze.isCompressedTexture===!0||ze.isVideoTexture===!0||hn!==a.GUF&&hn!==a.aCh&&(a.epp.getTransfer(hn)===a.j17?(In!==a.wk1||Ni!==a.ywz)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",hn)),pe}function zs(ze){return typeof HTMLImageElement!="undefined"&&ze instanceof HTMLImageElement?(nn.width=ze.naturalWidth||ze.width,nn.height=ze.naturalHeight||ze.height):typeof VideoFrame!="undefined"&&ze instanceof VideoFrame?(nn.width=ze.displayWidth,nn.height=ze.displayHeight):(nn.width=ze.width,nn.height=ze.height),nn}this.allocateTextureUnit=Mi,this.resetTextureUnits=ki,this.setTexture2D=Li,this.setTexture2DArray=Ai,this.setTexture3D=yr,this.setTextureCube=Wn,this.rebindTextures=Do,this.setupRenderTarget=pl,this.updateRenderTargetMipmap=il,this.updateMultisampleRenderTarget=$l,this.setupDepthRenderbuffer=Ra,this.setupFrameBufferTexture=Rs,this.useMultisampledRTT=sa}function iu(m,R){function C(X,Te=a.aCh){let be;const St=a.epp.getTransfer(Te);if(X===a.ywz)return m.UNSIGNED_BYTE;if(X===a.k0A)return m.UNSIGNED_SHORT_4_4_4_4;if(X===a.irR)return m.UNSIGNED_SHORT_5_5_5_1;if(X===a.tQZ)return m.UNSIGNED_INT_5_9_9_9_REV;if(X===a.T95)return m.BYTE;if(X===a.iAb)return m.SHORT;if(X===a.LsT)return m.UNSIGNED_SHORT;if(X===a.Kz5)return m.INT;if(X===a.JQ4)return m.UNSIGNED_INT;if(X===a.VzW)return m.FLOAT;if(X===a.cLu)return m.HALF_FLOAT;if(X===a.OTo)return m.ALPHA;if(X===a.UCm)return m.RGB;if(X===a.wk1)return m.RGBA;if(X===a.Y8D)return m.LUMINANCE;if(X===a.cRx)return m.LUMINANCE_ALPHA;if(X===a.qkB)return m.DEPTH_COMPONENT;if(X===a.brP)return m.DEPTH_STENCIL;if(X===a.hEm)return m.RED;if(X===a.D9w)return m.RED_INTEGER;if(X===a.av9)return m.RG;if(X===a.CtA)return m.RG_INTEGER;if(X===a.E2K)return m.RGBA_INTEGER;if(X===a.wuA||X===a.BFQ||X===a.v3W||X===a.ILR)if(St===a.j17)if(be=R.get("WEBGL_compressed_texture_s3tc_srgb"),be!==null){if(X===a.wuA)return be.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(X===a.BFQ)return be.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(X===a.v3W)return be.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(X===a.ILR)return be.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(be=R.get("WEBGL_compressed_texture_s3tc"),be!==null){if(X===a.wuA)return be.COMPRESSED_RGB_S3TC_DXT1_EXT;if(X===a.BFQ)return be.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(X===a.v3W)return be.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(X===a.ILR)return be.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(X===a._AM||X===a.vCx||X===a.eaV||X===a.CaW)if(be=R.get("WEBGL_compressed_texture_pvrtc"),be!==null){if(X===a._AM)return be.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(X===a.vCx)return be.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(X===a.eaV)return be.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(X===a.CaW)return be.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(X===a.fto||X===a.l0P||X===a.ekQ)if(be=R.get("WEBGL_compressed_texture_etc"),be!==null){if(X===a.fto||X===a.l0P)return St===a.j17?be.COMPRESSED_SRGB8_ETC2:be.COMPRESSED_RGB8_ETC2;if(X===a.ekQ)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:be.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(X===a.ptH||X===a.jZA||X===a.y2t||X===a.gi4||X===a.Djp||X===a.BG$||X===a.NYV||X===a.xJs||X===a.pKu||X===a.GG6||X===a.Gih||X===a.FUD||X===a.iiP||X===a.SvJ)if(be=R.get("WEBGL_compressed_texture_astc"),be!==null){if(X===a.ptH)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:be.COMPRESSED_RGBA_ASTC_4x4_KHR;if(X===a.jZA)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:be.COMPRESSED_RGBA_ASTC_5x4_KHR;if(X===a.y2t)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:be.COMPRESSED_RGBA_ASTC_5x5_KHR;if(X===a.gi4)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:be.COMPRESSED_RGBA_ASTC_6x5_KHR;if(X===a.Djp)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:be.COMPRESSED_RGBA_ASTC_6x6_KHR;if(X===a.BG$)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:be.COMPRESSED_RGBA_ASTC_8x5_KHR;if(X===a.NYV)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:be.COMPRESSED_RGBA_ASTC_8x6_KHR;if(X===a.xJs)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:be.COMPRESSED_RGBA_ASTC_8x8_KHR;if(X===a.pKu)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:be.COMPRESSED_RGBA_ASTC_10x5_KHR;if(X===a.GG6)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:be.COMPRESSED_RGBA_ASTC_10x6_KHR;if(X===a.Gih)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:be.COMPRESSED_RGBA_ASTC_10x8_KHR;if(X===a.FUD)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:be.COMPRESSED_RGBA_ASTC_10x10_KHR;if(X===a.iiP)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:be.COMPRESSED_RGBA_ASTC_12x10_KHR;if(X===a.SvJ)return St===a.j17?be.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:be.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(X===a.bsb||X===a.f2y||X===a.QO2)if(be=R.get("EXT_texture_compression_bptc"),be!==null){if(X===a.bsb)return St===a.j17?be.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:be.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(X===a.f2y)return be.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(X===a.QO2)return be.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(X===a.HdW||X===a.vuL||X===a.ZTh||X===a.lGU)if(be=R.get("EXT_texture_compression_rgtc"),be!==null){if(X===a.bsb)return be.COMPRESSED_RED_RGTC1_EXT;if(X===a.vuL)return be.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(X===a.ZTh)return be.COMPRESSED_RED_GREEN_RGTC2_EXT;if(X===a.lGU)return be.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return X===a.wJv?m.UNSIGNED_INT_24_8:m[X]!==void 0?m[X]:null}return{convert:C}}const tl=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,su=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class fu{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(R,C,X){if(this.texture===null){const Te=new a.xEZ,be=R.properties.get(Te);be.__webglTexture=C.texture,(C.depthNear!==X.depthNear||C.depthFar!==X.depthFar)&&(this.depthNear=C.depthNear,this.depthFar=C.depthFar),this.texture=Te}}getMesh(R){if(this.texture!==null&&this.mesh===null){const C=R.cameras[0].viewport,X=new a.jyz({vertexShader:tl,fragmentShader:su,uniforms:{depthColor:{value:this.texture},depthWidth:{value:C.z},depthHeight:{value:C.w}}});this.mesh=new a.Kj0(new a._12(20,20),X)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Xl extends a.pBf{constructor(R,C){super();const X=this;let Te=null,be=1,St=null,We="local-floor",wn=1,nn=null,On=null,Zt=null,Qt=null,on=null,Qn=null;const Sn=new fu,Re=C.getContextAttributes();let he=null,Pn=null;const ln=[],jt=[],_i=new a.FM8;let Cn=null;const Nn=new a.cPb;Nn.viewport=new a.Ltg;const wi=new a.cPb;wi.viewport=new a.Ltg;const Ke=[Nn,wi],Ue=new a.HkE;let un=null,ki=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Kn){let Hr=ln[Kn];return Hr===void 0&&(Hr=new a.NiX,ln[Kn]=Hr),Hr.getTargetRaySpace()},this.getControllerGrip=function(Kn){let Hr=ln[Kn];return Hr===void 0&&(Hr=new a.NiX,ln[Kn]=Hr),Hr.getGripSpace()},this.getHand=function(Kn){let Hr=ln[Kn];return Hr===void 0&&(Hr=new a.NiX,ln[Kn]=Hr),Hr.getHandSpace()};function Mi(Kn){const Hr=jt.indexOf(Kn.inputSource);if(Hr===-1)return;const Rs=ln[Hr];Rs!==void 0&&(Rs.update(Kn.inputSource,Kn.frame,nn||St),Rs.dispatchEvent({type:Kn.type,data:Kn.inputSource}))}function Rn(){Te.removeEventListener("select",Mi),Te.removeEventListener("selectstart",Mi),Te.removeEventListener("selectend",Mi),Te.removeEventListener("squeeze",Mi),Te.removeEventListener("squeezestart",Mi),Te.removeEventListener("squeezeend",Mi),Te.removeEventListener("end",Rn),Te.removeEventListener("inputsourceschange",Li);for(let Kn=0;Kn<ln.length;Kn++){const Hr=jt[Kn];Hr!==null&&(jt[Kn]=null,ln[Kn].disconnect(Hr))}un=null,ki=null,Sn.reset(),R.setRenderTarget(he),on=null,Qt=null,Zt=null,Te=null,Pn=null,nl.stop(),X.isPresenting=!1,R.setPixelRatio(Cn),R.setSize(_i.width,_i.height,!1),X.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Kn){be=Kn,X.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Kn){We=Kn,X.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return nn||St},this.setReferenceSpace=function(Kn){nn=Kn},this.getBaseLayer=function(){return Qt!==null?Qt:on},this.getBinding=function(){return Zt},this.getFrame=function(){return Qn},this.getSession=function(){return Te},this.setSession=function(Kn){return Rl(this,null,function*(){if(Te=Kn,Te!==null){if(he=R.getRenderTarget(),Te.addEventListener("select",Mi),Te.addEventListener("selectstart",Mi),Te.addEventListener("selectend",Mi),Te.addEventListener("squeeze",Mi),Te.addEventListener("squeezestart",Mi),Te.addEventListener("squeezeend",Mi),Te.addEventListener("end",Rn),Te.addEventListener("inputsourceschange",Li),Re.xrCompatible!==!0&&(yield C.makeXRCompatible()),Cn=R.getPixelRatio(),R.getSize(_i),typeof XRWebGLBinding!="undefined"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Rs=null,xr=null,xo=null;Re.depth&&(xo=Re.stencil?C.DEPTH24_STENCIL8:C.DEPTH_COMPONENT24,Rs=Re.stencil?a.brP:a.qkB,xr=Re.stencil?a.wJv:a.JQ4);const Ra={colorFormat:C.RGBA8,depthFormat:xo,scaleFactor:be};Zt=new XRWebGLBinding(Te,C),Qt=Zt.createProjectionLayer(Ra),Te.updateRenderState({layers:[Qt]}),R.setPixelRatio(1),R.setSize(Qt.textureWidth,Qt.textureHeight,!1),Pn=new a.dd2(Qt.textureWidth,Qt.textureHeight,{format:a.wk1,type:a.ywz,depthTexture:new a.$YQ(Qt.textureWidth,Qt.textureHeight,xr,void 0,void 0,void 0,void 0,void 0,void 0,Rs),stencilBuffer:Re.stencil,colorSpace:R.outputColorSpace,samples:Re.antialias?4:0,resolveDepthBuffer:Qt.ignoreDepthValues===!1,resolveStencilBuffer:Qt.ignoreDepthValues===!1})}else{const Rs={antialias:Re.antialias,alpha:!0,depth:Re.depth,stencil:Re.stencil,framebufferScaleFactor:be};on=new XRWebGLLayer(Te,C,Rs),Te.updateRenderState({baseLayer:on}),R.setPixelRatio(1),R.setSize(on.framebufferWidth,on.framebufferHeight,!1),Pn=new a.dd2(on.framebufferWidth,on.framebufferHeight,{format:a.wk1,type:a.ywz,colorSpace:R.outputColorSpace,stencilBuffer:Re.stencil,resolveDepthBuffer:on.ignoreDepthValues===!1,resolveStencilBuffer:on.ignoreDepthValues===!1})}Pn.isXRRenderTarget=!0,this.setFoveation(wn),nn=null,St=yield Te.requestReferenceSpace(We),nl.setContext(Te),nl.start(),X.isPresenting=!0,X.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(Te!==null)return Te.environmentBlendMode},this.getDepthTexture=function(){return Sn.getDepthTexture()};function Li(Kn){for(let Hr=0;Hr<Kn.removed.length;Hr++){const Rs=Kn.removed[Hr],xr=jt.indexOf(Rs);xr>=0&&(jt[xr]=null,ln[xr].disconnect(Rs))}for(let Hr=0;Hr<Kn.added.length;Hr++){const Rs=Kn.added[Hr];let xr=jt.indexOf(Rs);if(xr===-1){for(let Ra=0;Ra<ln.length;Ra++)if(Ra>=jt.length){jt.push(Rs),xr=Ra;break}else if(jt[Ra]===null){jt[Ra]=Rs,xr=Ra;break}if(xr===-1)break}const xo=ln[xr];xo&&xo.connect(Rs)}}const Ai=new a.Pa4,yr=new a.Pa4;function Wn(Kn,Hr,Rs){Ai.setFromMatrixPosition(Hr.matrixWorld),yr.setFromMatrixPosition(Rs.matrixWorld);const xr=Ai.distanceTo(yr),xo=Hr.projectionMatrix.elements,Ra=Rs.projectionMatrix.elements,Do=xo[14]/(xo[10]-1),pl=xo[14]/(xo[10]+1),il=(xo[9]+1)/xo[5],Lo=(xo[9]-1)/xo[5],Lt=(xo[8]-1)/xo[0],$l=(Ra[8]+1)/Ra[0],cr=Do*Lt,sa=Do*$l,Cs=xr/(-Lt+$l),Wa=Cs*-Lt;if(Hr.matrixWorld.decompose(Kn.position,Kn.quaternion,Kn.scale),Kn.translateX(Wa),Kn.translateZ(Cs),Kn.matrixWorld.compose(Kn.position,Kn.quaternion,Kn.scale),Kn.matrixWorldInverse.copy(Kn.matrixWorld).invert(),xo[10]===-1)Kn.projectionMatrix.copy(Hr.projectionMatrix),Kn.projectionMatrixInverse.copy(Hr.projectionMatrixInverse);else{const zs=Do+Cs,ze=pl+Cs,pe=cr-Wa,hn=sa+(xr-Wa),In=il*pl/ze*zs,Ni=Lo*pl/ze*zs;Kn.projectionMatrix.makePerspective(pe,hn,In,Ni,zs,ze),Kn.projectionMatrixInverse.copy(Kn.projectionMatrix).invert()}}function Os(Kn,Hr){Hr===null?Kn.matrixWorld.copy(Kn.matrix):Kn.matrixWorld.multiplyMatrices(Hr.matrixWorld,Kn.matrix),Kn.matrixWorldInverse.copy(Kn.matrixWorld).invert()}this.updateCamera=function(Kn){if(Te===null)return;let Hr=Kn.near,Rs=Kn.far;Sn.texture!==null&&(Sn.depthNear>0&&(Hr=Sn.depthNear),Sn.depthFar>0&&(Rs=Sn.depthFar)),Ue.near=wi.near=Nn.near=Hr,Ue.far=wi.far=Nn.far=Rs,(un!==Ue.near||ki!==Ue.far)&&(Te.updateRenderState({depthNear:Ue.near,depthFar:Ue.far}),un=Ue.near,ki=Ue.far),Nn.layers.mask=Kn.layers.mask|2,wi.layers.mask=Kn.layers.mask|4,Ue.layers.mask=Nn.layers.mask|wi.layers.mask;const xr=Kn.parent,xo=Ue.cameras;Os(Ue,xr);for(let Ra=0;Ra<xo.length;Ra++)Os(xo[Ra],xr);xo.length===2?Wn(Ue,Nn,wi):Ue.projectionMatrix.copy(Nn.projectionMatrix),yo(Kn,Ue,xr)};function yo(Kn,Hr,Rs){Rs===null?Kn.matrix.copy(Hr.matrixWorld):(Kn.matrix.copy(Rs.matrixWorld),Kn.matrix.invert(),Kn.matrix.multiply(Hr.matrixWorld)),Kn.matrix.decompose(Kn.position,Kn.quaternion,Kn.scale),Kn.updateMatrixWorld(!0),Kn.projectionMatrix.copy(Hr.projectionMatrix),Kn.projectionMatrixInverse.copy(Hr.projectionMatrixInverse),Kn.isPerspectiveCamera&&(Kn.fov=a.I3e*2*Math.atan(1/Kn.projectionMatrix.elements[5]),Kn.zoom=1)}this.getCamera=function(){return Ue},this.getFoveation=function(){if(!(Qt===null&&on===null))return wn},this.setFoveation=function(Kn){wn=Kn,Qt!==null&&(Qt.fixedFoveation=Kn),on!==null&&on.fixedFoveation!==void 0&&(on.fixedFoveation=Kn)},this.hasDepthSensing=function(){return Sn.texture!==null},this.getDepthSensingMesh=function(){return Sn.getMesh(Ue)};let to=null;function ta(Kn,Hr){if(On=Hr.getViewerPose(nn||St),Qn=Hr,On!==null){const Rs=On.views;on!==null&&(R.setRenderTargetFramebuffer(Pn,on.framebuffer),R.setRenderTarget(Pn));let xr=!1;Rs.length!==Ue.cameras.length&&(Ue.cameras.length=0,xr=!0);for(let Do=0;Do<Rs.length;Do++){const pl=Rs[Do];let il=null;if(on!==null)il=on.getViewport(pl);else{const Lt=Zt.getViewSubImage(Qt,pl);il=Lt.viewport,Do===0&&(R.setRenderTargetTextures(Pn,Lt.colorTexture,Lt.depthStencilTexture),R.setRenderTarget(Pn))}let Lo=Ke[Do];Lo===void 0&&(Lo=new a.cPb,Lo.layers.enable(Do),Lo.viewport=new a.Ltg,Ke[Do]=Lo),Lo.matrix.fromArray(pl.transform.matrix),Lo.matrix.decompose(Lo.position,Lo.quaternion,Lo.scale),Lo.projectionMatrix.fromArray(pl.projectionMatrix),Lo.projectionMatrixInverse.copy(Lo.projectionMatrix).invert(),Lo.viewport.set(il.x,il.y,il.width,il.height),Do===0&&(Ue.matrix.copy(Lo.matrix),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale)),xr===!0&&Ue.cameras.push(Lo)}const xo=Te.enabledFeatures;if(xo&&xo.includes("depth-sensing")&&Te.depthUsage=="gpu-optimized"&&Zt){const Do=Zt.getDepthInformation(Rs[0]);Do&&Do.isValid&&Do.texture&&Sn.init(R,Do,Te.renderState)}}for(let Rs=0;Rs<ln.length;Rs++){const xr=jt[Rs],xo=ln[Rs];xr!==null&&xo!==void 0&&xo.update(xr,Hr,nn||St)}to&&to(Kn,Hr),Hr.detectedPlanes&&X.dispatchEvent({type:"planesdetected",data:Hr}),Qn=null}const nl=new W;nl.setAnimationLoop(ta),this.setAnimationLoop=function(Kn){to=Kn},this.dispose=function(){}}}const tc=new a.USm,Cu=new a.yGw;function _u(m,R){function C(Re,he){Re.matrixAutoUpdate===!0&&Re.updateMatrix(),he.value.copy(Re.matrix)}function X(Re,he){he.color.getRGB(Re.fogColor.value,(0,a.oDz)(m)),he.isFog?(Re.fogNear.value=he.near,Re.fogFar.value=he.far):he.isFogExp2&&(Re.fogDensity.value=he.density)}function Te(Re,he,Pn,ln,jt){he.isMeshBasicMaterial||he.isMeshLambertMaterial?be(Re,he):he.isMeshToonMaterial?(be(Re,he),Zt(Re,he)):he.isMeshPhongMaterial?(be(Re,he),On(Re,he)):he.isMeshStandardMaterial?(be(Re,he),Qt(Re,he),he.isMeshPhysicalMaterial&&on(Re,he,jt)):he.isMeshMatcapMaterial?(be(Re,he),Qn(Re,he)):he.isMeshDepthMaterial?be(Re,he):he.isMeshDistanceMaterial?(be(Re,he),Sn(Re,he)):he.isMeshNormalMaterial?be(Re,he):he.isLineBasicMaterial?(St(Re,he),he.isLineDashedMaterial&&We(Re,he)):he.isPointsMaterial?wn(Re,he,Pn,ln):he.isSpriteMaterial?nn(Re,he):he.isShadowMaterial?(Re.color.value.copy(he.color),Re.opacity.value=he.opacity):he.isShaderMaterial&&(he.uniformsNeedUpdate=!1)}function be(Re,he){Re.opacity.value=he.opacity,he.color&&Re.diffuse.value.copy(he.color),he.emissive&&Re.emissive.value.copy(he.emissive).multiplyScalar(he.emissiveIntensity),he.map&&(Re.map.value=he.map,C(he.map,Re.mapTransform)),he.alphaMap&&(Re.alphaMap.value=he.alphaMap,C(he.alphaMap,Re.alphaMapTransform)),he.bumpMap&&(Re.bumpMap.value=he.bumpMap,C(he.bumpMap,Re.bumpMapTransform),Re.bumpScale.value=he.bumpScale,he.side===a._Li&&(Re.bumpScale.value*=-1)),he.normalMap&&(Re.normalMap.value=he.normalMap,C(he.normalMap,Re.normalMapTransform),Re.normalScale.value.copy(he.normalScale),he.side===a._Li&&Re.normalScale.value.negate()),he.displacementMap&&(Re.displacementMap.value=he.displacementMap,C(he.displacementMap,Re.displacementMapTransform),Re.displacementScale.value=he.displacementScale,Re.displacementBias.value=he.displacementBias),he.emissiveMap&&(Re.emissiveMap.value=he.emissiveMap,C(he.emissiveMap,Re.emissiveMapTransform)),he.specularMap&&(Re.specularMap.value=he.specularMap,C(he.specularMap,Re.specularMapTransform)),he.alphaTest>0&&(Re.alphaTest.value=he.alphaTest);const Pn=R.get(he),ln=Pn.envMap,jt=Pn.envMapRotation;ln&&(Re.envMap.value=ln,tc.copy(jt),tc.x*=-1,tc.y*=-1,tc.z*=-1,ln.isCubeTexture&&ln.isRenderTargetTexture===!1&&(tc.y*=-1,tc.z*=-1),Re.envMapRotation.value.setFromMatrix4(Cu.makeRotationFromEuler(tc)),Re.flipEnvMap.value=ln.isCubeTexture&&ln.isRenderTargetTexture===!1?-1:1,Re.reflectivity.value=he.reflectivity,Re.ior.value=he.ior,Re.refractionRatio.value=he.refractionRatio),he.lightMap&&(Re.lightMap.value=he.lightMap,Re.lightMapIntensity.value=he.lightMapIntensity,C(he.lightMap,Re.lightMapTransform)),he.aoMap&&(Re.aoMap.value=he.aoMap,Re.aoMapIntensity.value=he.aoMapIntensity,C(he.aoMap,Re.aoMapTransform))}function St(Re,he){Re.diffuse.value.copy(he.color),Re.opacity.value=he.opacity,he.map&&(Re.map.value=he.map,C(he.map,Re.mapTransform))}function We(Re,he){Re.dashSize.value=he.dashSize,Re.totalSize.value=he.dashSize+he.gapSize,Re.scale.value=he.scale}function wn(Re,he,Pn,ln){Re.diffuse.value.copy(he.color),Re.opacity.value=he.opacity,Re.size.value=he.size*Pn,Re.scale.value=ln*.5,he.map&&(Re.map.value=he.map,C(he.map,Re.uvTransform)),he.alphaMap&&(Re.alphaMap.value=he.alphaMap,C(he.alphaMap,Re.alphaMapTransform)),he.alphaTest>0&&(Re.alphaTest.value=he.alphaTest)}function nn(Re,he){Re.diffuse.value.copy(he.color),Re.opacity.value=he.opacity,Re.rotation.value=he.rotation,he.map&&(Re.map.value=he.map,C(he.map,Re.mapTransform)),he.alphaMap&&(Re.alphaMap.value=he.alphaMap,C(he.alphaMap,Re.alphaMapTransform)),he.alphaTest>0&&(Re.alphaTest.value=he.alphaTest)}function On(Re,he){Re.specular.value.copy(he.specular),Re.shininess.value=Math.max(he.shininess,1e-4)}function Zt(Re,he){he.gradientMap&&(Re.gradientMap.value=he.gradientMap)}function Qt(Re,he){Re.metalness.value=he.metalness,he.metalnessMap&&(Re.metalnessMap.value=he.metalnessMap,C(he.metalnessMap,Re.metalnessMapTransform)),Re.roughness.value=he.roughness,he.roughnessMap&&(Re.roughnessMap.value=he.roughnessMap,C(he.roughnessMap,Re.roughnessMapTransform)),he.envMap&&(Re.envMapIntensity.value=he.envMapIntensity)}function on(Re,he,Pn){Re.ior.value=he.ior,he.sheen>0&&(Re.sheenColor.value.copy(he.sheenColor).multiplyScalar(he.sheen),Re.sheenRoughness.value=he.sheenRoughness,he.sheenColorMap&&(Re.sheenColorMap.value=he.sheenColorMap,C(he.sheenColorMap,Re.sheenColorMapTransform)),he.sheenRoughnessMap&&(Re.sheenRoughnessMap.value=he.sheenRoughnessMap,C(he.sheenRoughnessMap,Re.sheenRoughnessMapTransform))),he.clearcoat>0&&(Re.clearcoat.value=he.clearcoat,Re.clearcoatRoughness.value=he.clearcoatRoughness,he.clearcoatMap&&(Re.clearcoatMap.value=he.clearcoatMap,C(he.clearcoatMap,Re.clearcoatMapTransform)),he.clearcoatRoughnessMap&&(Re.clearcoatRoughnessMap.value=he.clearcoatRoughnessMap,C(he.clearcoatRoughnessMap,Re.clearcoatRoughnessMapTransform)),he.clearcoatNormalMap&&(Re.clearcoatNormalMap.value=he.clearcoatNormalMap,C(he.clearcoatNormalMap,Re.clearcoatNormalMapTransform),Re.clearcoatNormalScale.value.copy(he.clearcoatNormalScale),he.side===a._Li&&Re.clearcoatNormalScale.value.negate())),he.dispersion>0&&(Re.dispersion.value=he.dispersion),he.iridescence>0&&(Re.iridescence.value=he.iridescence,Re.iridescenceIOR.value=he.iridescenceIOR,Re.iridescenceThicknessMinimum.value=he.iridescenceThicknessRange[0],Re.iridescenceThicknessMaximum.value=he.iridescenceThicknessRange[1],he.iridescenceMap&&(Re.iridescenceMap.value=he.iridescenceMap,C(he.iridescenceMap,Re.iridescenceMapTransform)),he.iridescenceThicknessMap&&(Re.iridescenceThicknessMap.value=he.iridescenceThicknessMap,C(he.iridescenceThicknessMap,Re.iridescenceThicknessMapTransform))),he.transmission>0&&(Re.transmission.value=he.transmission,Re.transmissionSamplerMap.value=Pn.texture,Re.transmissionSamplerSize.value.set(Pn.width,Pn.height),he.transmissionMap&&(Re.transmissionMap.value=he.transmissionMap,C(he.transmissionMap,Re.transmissionMapTransform)),Re.thickness.value=he.thickness,he.thicknessMap&&(Re.thicknessMap.value=he.thicknessMap,C(he.thicknessMap,Re.thicknessMapTransform)),Re.attenuationDistance.value=he.attenuationDistance,Re.attenuationColor.value.copy(he.attenuationColor)),he.anisotropy>0&&(Re.anisotropyVector.value.set(he.anisotropy*Math.cos(he.anisotropyRotation),he.anisotropy*Math.sin(he.anisotropyRotation)),he.anisotropyMap&&(Re.anisotropyMap.value=he.anisotropyMap,C(he.anisotropyMap,Re.anisotropyMapTransform))),Re.specularIntensity.value=he.specularIntensity,Re.specularColor.value.copy(he.specularColor),he.specularColorMap&&(Re.specularColorMap.value=he.specularColorMap,C(he.specularColorMap,Re.specularColorMapTransform)),he.specularIntensityMap&&(Re.specularIntensityMap.value=he.specularIntensityMap,C(he.specularIntensityMap,Re.specularIntensityMapTransform))}function Qn(Re,he){he.matcap&&(Re.matcap.value=he.matcap)}function Sn(Re,he){const Pn=R.get(he).light;Re.referencePosition.value.setFromMatrixPosition(Pn.matrixWorld),Re.nearDistance.value=Pn.shadow.camera.near,Re.farDistance.value=Pn.shadow.camera.far}return{refreshFogUniforms:X,refreshMaterialUniforms:Te}}function zc(m,R,C,X){let Te={},be={},St=[];const We=m.getParameter(m.MAX_UNIFORM_BUFFER_BINDINGS);function wn(Pn,ln){const jt=ln.program;X.uniformBlockBinding(Pn,jt)}function nn(Pn,ln){let jt=Te[Pn.id];jt===void 0&&(Qn(Pn),jt=On(Pn),Te[Pn.id]=jt,Pn.addEventListener("dispose",Re));const _i=ln.program;X.updateUBOMapping(Pn,_i);const Cn=R.render.frame;be[Pn.id]!==Cn&&(Qt(Pn),be[Pn.id]=Cn)}function On(Pn){const ln=Zt();Pn.__bindingPointIndex=ln;const jt=m.createBuffer(),_i=Pn.__size,Cn=Pn.usage;return m.bindBuffer(m.UNIFORM_BUFFER,jt),m.bufferData(m.UNIFORM_BUFFER,_i,Cn),m.bindBuffer(m.UNIFORM_BUFFER,null),m.bindBufferBase(m.UNIFORM_BUFFER,ln,jt),jt}function Zt(){for(let Pn=0;Pn<We;Pn++)if(St.indexOf(Pn)===-1)return St.push(Pn),Pn;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Qt(Pn){const ln=Te[Pn.id],jt=Pn.uniforms,_i=Pn.__cache;m.bindBuffer(m.UNIFORM_BUFFER,ln);for(let Cn=0,Nn=jt.length;Cn<Nn;Cn++){const wi=Array.isArray(jt[Cn])?jt[Cn]:[jt[Cn]];for(let Ke=0,Ue=wi.length;Ke<Ue;Ke++){const un=wi[Ke];if(on(un,Cn,Ke,_i)===!0){const ki=un.__offset,Mi=Array.isArray(un.value)?un.value:[un.value];let Rn=0;for(let Li=0;Li<Mi.length;Li++){const Ai=Mi[Li],yr=Sn(Ai);typeof Ai=="number"||typeof Ai=="boolean"?(un.__data[0]=Ai,m.bufferSubData(m.UNIFORM_BUFFER,ki+Rn,un.__data)):Ai.isMatrix3?(un.__data[0]=Ai.elements[0],un.__data[1]=Ai.elements[1],un.__data[2]=Ai.elements[2],un.__data[3]=0,un.__data[4]=Ai.elements[3],un.__data[5]=Ai.elements[4],un.__data[6]=Ai.elements[5],un.__data[7]=0,un.__data[8]=Ai.elements[6],un.__data[9]=Ai.elements[7],un.__data[10]=Ai.elements[8],un.__data[11]=0):(Ai.toArray(un.__data,Rn),Rn+=yr.storage/Float32Array.BYTES_PER_ELEMENT)}m.bufferSubData(m.UNIFORM_BUFFER,ki,un.__data)}}}m.bindBuffer(m.UNIFORM_BUFFER,null)}function on(Pn,ln,jt,_i){const Cn=Pn.value,Nn=ln+"_"+jt;if(_i[Nn]===void 0)return typeof Cn=="number"||typeof Cn=="boolean"?_i[Nn]=Cn:_i[Nn]=Cn.clone(),!0;{const wi=_i[Nn];if(typeof Cn=="number"||typeof Cn=="boolean"){if(wi!==Cn)return _i[Nn]=Cn,!0}else if(wi.equals(Cn)===!1)return wi.copy(Cn),!0}return!1}function Qn(Pn){const ln=Pn.uniforms;let jt=0;const _i=16;for(let Nn=0,wi=ln.length;Nn<wi;Nn++){const Ke=Array.isArray(ln[Nn])?ln[Nn]:[ln[Nn]];for(let Ue=0,un=Ke.length;Ue<un;Ue++){const ki=Ke[Ue],Mi=Array.isArray(ki.value)?ki.value:[ki.value];for(let Rn=0,Li=Mi.length;Rn<Li;Rn++){const Ai=Mi[Rn],yr=Sn(Ai),Wn=jt%_i,Os=Wn%yr.boundary,yo=Wn+Os;jt+=Os,yo!==0&&_i-yo<yr.storage&&(jt+=_i-yo),ki.__data=new Float32Array(yr.storage/Float32Array.BYTES_PER_ELEMENT),ki.__offset=jt,jt+=yr.storage}}}const Cn=jt%_i;return Cn>0&&(jt+=_i-Cn),Pn.__size=jt,Pn.__cache={},this}function Sn(Pn){const ln={boundary:0,storage:0};return typeof Pn=="number"||typeof Pn=="boolean"?(ln.boundary=4,ln.storage=4):Pn.isVector2?(ln.boundary=8,ln.storage=8):Pn.isVector3||Pn.isColor?(ln.boundary=16,ln.storage=12):Pn.isVector4?(ln.boundary=16,ln.storage=16):Pn.isMatrix3?(ln.boundary=48,ln.storage=48):Pn.isMatrix4?(ln.boundary=64,ln.storage=64):Pn.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Pn),ln}function Re(Pn){const ln=Pn.target;ln.removeEventListener("dispose",Re);const jt=St.indexOf(ln.__bindingPointIndex);St.splice(jt,1),m.deleteBuffer(Te[ln.id]),delete Te[ln.id],delete be[ln.id]}function he(){for(const Pn in Te)m.deleteBuffer(Te[Pn]);St=[],Te={},be={}}return{bind:wn,update:nn,dispose:he}}class fc{constructor(R={}){const{canvas:C=(0,a.O5A)(),context:X=null,depth:Te=!0,stencil:be=!1,alpha:St=!1,antialias:We=!1,premultipliedAlpha:wn=!0,preserveDrawingBuffer:nn=!1,powerPreference:On="default",failIfMajorPerformanceCaveat:Zt=!1,reverseDepthBuffer:Qt=!1}=R;this.isWebGLRenderer=!0;let on;if(X!==null){if(typeof WebGLRenderingContext!="undefined"&&X instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");on=X.getContextAttributes().alpha}else on=St;const Qn=new Uint32Array(4),Sn=new Int32Array(4);let Re=null,he=null;const Pn=[],ln=[];this.domElement=C,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=a.uL9,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const jt=this;let _i=!1;this._outputColorSpace=a.KI_;let Cn=0,Nn=0,wi=null,Ke=-1,Ue=null;const un=new a.Ltg,ki=new a.Ltg;let Mi=null;const Rn=new a.Ilk(0);let Li=0,Ai=C.width,yr=C.height,Wn=1,Os=null,yo=null;const to=new a.Ltg(0,0,Ai,yr),ta=new a.Ltg(0,0,Ai,yr);let nl=!1;const Kn=new a.iWj;let Hr=!1,Rs=!1;const xr=new a.yGw,xo=new a.yGw,Ra=new a.Pa4,Do=new a.Ltg,pl={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let il=!1;function Lo(){return wi===null?Wn:1}let Lt=X;function $l(D,ne){return C.getContext(D,ne)}try{const D={alpha:!0,depth:Te,stencil:be,antialias:We,premultipliedAlpha:wn,preserveDrawingBuffer:nn,powerPreference:On,failIfMajorPerformanceCaveat:Zt};if("setAttribute"in C&&C.setAttribute("data-engine",`three.js r${a.UZH}`),C.addEventListener("webglcontextlost",Fi,!1),C.addEventListener("webglcontextrestored",ls,!1),C.addEventListener("webglcontextcreationerror",es,!1),Lt===null){const ne="webgl2";if(Lt=$l(ne,D),Lt===null)throw $l(ne)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(D){throw console.error("THREE.WebGLRenderer: "+D.message),D}let cr,sa,Cs,Wa,zs,ze,pe,hn,In,Ni,xi,$s,Qr,ms,da,ur,is,Gs,_o,Kr,ko,Wo,Ta,Wt;function Vr(){cr=new K(Lt),cr.init(),Wo=new iu(Lt,cr),sa=new Ma(Lt,cr,R,Wo),Cs=new nu(Lt,cr),sa.reverseDepthBuffer&&Qt&&Cs.buffers.depth.setReversed(!0),Wa=new it(Lt),zs=new Su,ze=new Tc(Lt,cr,Cs,zs,sa,Wo,Wa),pe=new ra(jt),hn=new N(jt),In=new z(Lt),Ta=new za(Lt,In),Ni=new _e(Lt,In,Wa,Ta),xi=new gn(Lt,Ni,In,Wa),_o=new Ht(Lt,sa,ze),ur=new ya(zs),$s=new Vc(jt,pe,hn,cr,sa,Ta,ur),Qr=new _u(jt,zs),ms=new dc,da=new xc(cr),Gs=new ws(jt,pe,hn,Cs,xi,on,wn),is=new hc(jt,xi,sa),Wt=new zc(Lt,Wa,sa,Cs),Kr=new Ka(Lt,cr,Wa),ko=new Ee(Lt,cr,Wa),Wa.programs=$s.programs,jt.capabilities=sa,jt.extensions=cr,jt.properties=zs,jt.renderLists=ms,jt.shadowMap=is,jt.state=Cs,jt.info=Wa}Vr();const ei=new Xl(jt,Lt);this.xr=ei,this.getContext=function(){return Lt},this.getContextAttributes=function(){return Lt.getContextAttributes()},this.forceContextLoss=function(){const D=cr.get("WEBGL_lose_context");D&&D.loseContext()},this.forceContextRestore=function(){const D=cr.get("WEBGL_lose_context");D&&D.restoreContext()},this.getPixelRatio=function(){return Wn},this.setPixelRatio=function(D){D!==void 0&&(Wn=D,this.setSize(Ai,yr,!1))},this.getSize=function(D){return D.set(Ai,yr)},this.setSize=function(D,ne,ue=!0){if(ei.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ai=D,yr=ne,C.width=Math.floor(D*Wn),C.height=Math.floor(ne*Wn),ue===!0&&(C.style.width=D+"px",C.style.height=ne+"px"),this.setViewport(0,0,D,ne)},this.getDrawingBufferSize=function(D){return D.set(Ai*Wn,yr*Wn).floor()},this.setDrawingBufferSize=function(D,ne,ue){Ai=D,yr=ne,Wn=ue,C.width=Math.floor(D*ue),C.height=Math.floor(ne*ue),this.setViewport(0,0,D,ne)},this.getCurrentViewport=function(D){return D.copy(un)},this.getViewport=function(D){return D.copy(to)},this.setViewport=function(D,ne,ue,le){D.isVector4?to.set(D.x,D.y,D.z,D.w):to.set(D,ne,ue,le),Cs.viewport(un.copy(to).multiplyScalar(Wn).round())},this.getScissor=function(D){return D.copy(ta)},this.setScissor=function(D,ne,ue,le){D.isVector4?ta.set(D.x,D.y,D.z,D.w):ta.set(D,ne,ue,le),Cs.scissor(ki.copy(ta).multiplyScalar(Wn).round())},this.getScissorTest=function(){return nl},this.setScissorTest=function(D){Cs.setScissorTest(nl=D)},this.setOpaqueSort=function(D){Os=D},this.setTransparentSort=function(D){yo=D},this.getClearColor=function(D){return D.copy(Gs.getClearColor())},this.setClearColor=function(){Gs.setClearColor(...arguments)},this.getClearAlpha=function(){return Gs.getClearAlpha()},this.setClearAlpha=function(){Gs.setClearAlpha(...arguments)},this.clear=function(D=!0,ne=!0,ue=!0){let le=0;if(D){let ce=!1;if(wi!==null){const ut=wi.texture.format;ce=ut===a.E2K||ut===a.CtA||ut===a.D9w}if(ce){const ut=wi.texture.type,Ge=ut===a.ywz||ut===a.JQ4||ut===a.LsT||ut===a.wJv||ut===a.k0A||ut===a.irR,yt=Gs.getClearColor(),Xe=Gs.getClearAlpha(),dt=yt.r,Nt=yt.g,ft=yt.b;Ge?(Qn[0]=dt,Qn[1]=Nt,Qn[2]=ft,Qn[3]=Xe,Lt.clearBufferuiv(Lt.COLOR,0,Qn)):(Sn[0]=dt,Sn[1]=Nt,Sn[2]=ft,Sn[3]=Xe,Lt.clearBufferiv(Lt.COLOR,0,Sn))}else le|=Lt.COLOR_BUFFER_BIT}ne&&(le|=Lt.DEPTH_BUFFER_BIT),ue&&(le|=Lt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Lt.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){C.removeEventListener("webglcontextlost",Fi,!1),C.removeEventListener("webglcontextrestored",ls,!1),C.removeEventListener("webglcontextcreationerror",es,!1),Gs.dispose(),ms.dispose(),da.dispose(),zs.dispose(),pe.dispose(),hn.dispose(),xi.dispose(),Ta.dispose(),Wt.dispose(),$s.dispose(),ei.dispose(),ei.removeEventListener("sessionstart",Gc),ei.removeEventListener("sessionend",Gl),nc.stop()};function Fi(D){D.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_i=!0}function ls(){console.log("THREE.WebGLRenderer: Context Restored."),_i=!1;const D=Wa.autoReset,ne=is.enabled,ue=is.autoUpdate,le=is.needsUpdate,ce=is.type;Vr(),Wa.autoReset=D,is.enabled=ne,is.autoUpdate=ue,is.needsUpdate=le,is.type=ce}function es(D){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",D.statusMessage)}function Go(D){const ne=D.target;ne.removeEventListener("dispose",Go),fl(ne)}function fl(D){qa(D),zs.remove(D)}function qa(D){const ne=zs.get(D).programs;ne!==void 0&&(ne.forEach(function(ue){$s.releaseProgram(ue)}),D.isShaderMaterial&&$s.releaseShaderCache(D))}this.renderBufferDirect=function(D,ne,ue,le,ce,ut){ne===null&&(ne=pl);const Ge=ce.isMesh&&ce.matrixWorld.determinant()<0,yt=_(D,ne,ue,le,ce);Cs.setMaterial(le,Ge);let Xe=ue.index,dt=1;if(le.wireframe===!0){if(Xe=Ni.getWireframeAttribute(ue),Xe===void 0)return;dt=2}const Nt=ue.drawRange,ft=ue.attributes.position;let an=Nt.start*dt,Dn=(Nt.start+Nt.count)*dt;ut!==null&&(an=Math.max(an,ut.start*dt),Dn=Math.min(Dn,(ut.start+ut.count)*dt)),Xe!==null?(an=Math.max(an,0),Dn=Math.min(Dn,Xe.count)):ft!=null&&(an=Math.max(an,0),Dn=Math.min(Dn,ft.count));const ii=Dn-an;if(ii<0||ii===1/0)return;Ta.setup(ce,le,yt,ue,Xe);let Un,Gn=Kr;if(Xe!==null&&(Un=In.get(Xe),Gn=ko,Gn.setIndex(Un)),ce.isMesh)le.wireframe===!0?(Cs.setLineWidth(le.wireframeLinewidth*Lo()),Gn.setMode(Lt.LINES)):Gn.setMode(Lt.TRIANGLES);else if(ce.isLine){let zn=le.linewidth;zn===void 0&&(zn=1),Cs.setLineWidth(zn*Lo()),ce.isLineSegments?Gn.setMode(Lt.LINES):ce.isLineLoop?Gn.setMode(Lt.LINE_LOOP):Gn.setMode(Lt.LINE_STRIP)}else ce.isPoints?Gn.setMode(Lt.POINTS):ce.isSprite&&Gn.setMode(Lt.TRIANGLES);if(ce.isBatchedMesh)if(ce._multiDrawInstances!==null)(0,a.O4K)("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Gn.renderMultiDrawInstances(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount,ce._multiDrawInstances);else if(cr.get("WEBGL_multi_draw"))Gn.renderMultiDraw(ce._multiDrawStarts,ce._multiDrawCounts,ce._multiDrawCount);else{const zn=ce._multiDrawStarts,zi=ce._multiDrawCounts,Ci=ce._multiDrawCount,Hi=Xe?In.get(Xe).bytesPerElement:1,Qi=zs.get(le).currentProgram.getUniforms();for(let Wr=0;Wr<Ci;Wr++)Qi.setValue(Lt,"_gl_DrawID",Wr),Gn.render(zn[Wr]/Hi,zi[Wr])}else if(ce.isInstancedMesh)Gn.renderInstances(an,ii,ce.count);else if(ue.isInstancedBufferGeometry){const zn=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,zi=Math.min(ue.instanceCount,zn);Gn.renderInstances(an,ii,zi)}else Gn.render(an,ii)};function ma(D,ne,ue){D.transparent===!0&&D.side===a.ehD&&D.forceSinglePass===!1?(D.side=a._Li,D.needsUpdate=!0,Zc(D,ne,ue),D.side=a.Wl3,D.needsUpdate=!0,Zc(D,ne,ue),D.side=a.ehD):Zc(D,ne,ue)}this.compile=function(D,ne,ue=null){ue===null&&(ue=D),he=da.get(ue),he.init(ne),ln.push(he),ue.traverseVisible(function(ce){ce.isLight&&ce.layers.test(ne.layers)&&(he.pushLight(ce),ce.castShadow&&he.pushShadow(ce))}),D!==ue&&D.traverseVisible(function(ce){ce.isLight&&ce.layers.test(ne.layers)&&(he.pushLight(ce),ce.castShadow&&he.pushShadow(ce))}),he.setupLights();const le=new Set;return D.traverse(function(ce){if(!(ce.isMesh||ce.isPoints||ce.isLine||ce.isSprite))return;const ut=ce.material;if(ut)if(Array.isArray(ut))for(let Ge=0;Ge<ut.length;Ge++){const yt=ut[Ge];ma(yt,ue,ce),le.add(yt)}else ma(ut,ue,ce),le.add(ut)}),he=ln.pop(),le},this.compileAsync=function(D,ne,ue=null){const le=this.compile(D,ne,ue);return new Promise(ce=>{function ut(){if(le.forEach(function(Ge){zs.get(Ge).currentProgram.isReady()&&le.delete(Ge)}),le.size===0){ce(D);return}setTimeout(ut,10)}cr.get("KHR_parallel_shader_compile")!==null?ut():setTimeout(ut,10)})};let cl=null;function Wl(D){cl&&cl(D)}function Gc(){nc.stop()}function Gl(){nc.start()}const nc=new W;nc.setAnimationLoop(Wl),typeof self!="undefined"&&nc.setContext(self),this.setAnimationLoop=function(D){cl=D,ei.setAnimationLoop(D),D===null?nc.stop():nc.start()},ei.addEventListener("sessionstart",Gc),ei.addEventListener("sessionend",Gl),this.render=function(D,ne){if(ne!==void 0&&ne.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_i===!0)return;if(D.matrixWorldAutoUpdate===!0&&D.updateMatrixWorld(),ne.parent===null&&ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),ei.enabled===!0&&ei.isPresenting===!0&&(ei.cameraAutoUpdate===!0&&ei.updateCamera(ne),ne=ei.getCamera()),D.isScene===!0&&D.onBeforeRender(jt,D,ne,wi),he=da.get(D,ln.length),he.init(ne),ln.push(he),xo.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse),Kn.setFromProjectionMatrix(xo),Rs=this.localClippingEnabled,Hr=ur.init(this.clippingPlanes,Rs),Re=ms.get(D,Pn.length),Re.init(),Pn.push(Re),ei.enabled===!0&&ei.isPresenting===!0){const ut=jt.xr.getDepthSensingMesh();ut!==null&&pc(ut,ne,-1/0,jt.sortObjects)}pc(D,ne,0,jt.sortObjects),Re.finish(),jt.sortObjects===!0&&Re.sort(Os,yo),il=ei.enabled===!1||ei.isPresenting===!1||ei.hasDepthSensing()===!1,il&&Gs.addToRenderList(Re,D),this.info.render.frame++,Hr===!0&&ur.beginShadows();const ue=he.state.shadowsArray;is.render(ue,D,ne),Hr===!0&&ur.endShadows(),this.info.autoReset===!0&&this.info.reset();const le=Re.opaque,ce=Re.transmissive;if(he.setupLights(),ne.isArrayCamera){const ut=ne.cameras;if(ce.length>0)for(let Ge=0,yt=ut.length;Ge<yt;Ge++){const Xe=ut[Ge];Lc(le,ce,D,Xe)}il&&Gs.render(D);for(let Ge=0,yt=ut.length;Ge<yt;Ge++){const Xe=ut[Ge];pu(Re,D,Xe,Xe.viewport)}}else ce.length>0&&Lc(le,ce,D,ne),il&&Gs.render(D),pu(Re,D,ne);wi!==null&&Nn===0&&(ze.updateMultisampleRenderTarget(wi),ze.updateRenderTargetMipmap(wi)),D.isScene===!0&&D.onAfterRender(jt,D,ne),Ta.resetDefaultState(),Ke=-1,Ue=null,ln.pop(),ln.length>0?(he=ln[ln.length-1],Hr===!0&&ur.setGlobalState(jt.clippingPlanes,he.state.camera)):he=null,Pn.pop(),Pn.length>0?Re=Pn[Pn.length-1]:Re=null};function pc(D,ne,ue,le){if(D.visible===!1)return;if(D.layers.test(ne.layers)){if(D.isGroup)ue=D.renderOrder;else if(D.isLOD)D.autoUpdate===!0&&D.update(ne);else if(D.isLight)he.pushLight(D),D.castShadow&&he.pushShadow(D);else if(D.isSprite){if(!D.frustumCulled||Kn.intersectsSprite(D)){le&&Do.setFromMatrixPosition(D.matrixWorld).applyMatrix4(xo);const Ge=xi.update(D),yt=D.material;yt.visible&&Re.push(D,Ge,yt,ue,Do.z,null)}}else if((D.isMesh||D.isLine||D.isPoints)&&(!D.frustumCulled||Kn.intersectsObject(D))){const Ge=xi.update(D),yt=D.material;if(le&&(D.boundingSphere!==void 0?(D.boundingSphere===null&&D.computeBoundingSphere(),Do.copy(D.boundingSphere.center)):(Ge.boundingSphere===null&&Ge.computeBoundingSphere(),Do.copy(Ge.boundingSphere.center)),Do.applyMatrix4(D.matrixWorld).applyMatrix4(xo)),Array.isArray(yt)){const Xe=Ge.groups;for(let dt=0,Nt=Xe.length;dt<Nt;dt++){const ft=Xe[dt],an=yt[ft.materialIndex];an&&an.visible&&Re.push(D,Ge,an,ue,Do.z,ft)}}else yt.visible&&Re.push(D,Ge,yt,ue,Do.z,null)}}const ut=D.children;for(let Ge=0,yt=ut.length;Ge<yt;Ge++)pc(ut[Ge],ne,ue,le)}function pu(D,ne,ue,le){const ce=D.opaque,ut=D.transmissive,Ge=D.transparent;he.setupLightsView(ue),Hr===!0&&ur.setGlobalState(jt.clippingPlanes,ue),le&&Cs.viewport(un.copy(le)),ce.length>0&&xl(ce,ne,ue),ut.length>0&&xl(ut,ne,ue),Ge.length>0&&xl(Ge,ne,ue),Cs.buffers.depth.setTest(!0),Cs.buffers.depth.setMask(!0),Cs.buffers.color.setMask(!0),Cs.setPolygonOffset(!1)}function Lc(D,ne,ue,le){if((ue.isScene===!0?ue.overrideMaterial:null)!==null)return;he.state.transmissionRenderTarget[le.id]===void 0&&(he.state.transmissionRenderTarget[le.id]=new a.dd2(1,1,{generateMipmaps:!0,type:cr.has("EXT_color_buffer_half_float")||cr.has("EXT_color_buffer_float")?a.cLu:a.ywz,minFilter:a.D1R,samples:4,stencilBuffer:be,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:a.epp.workingColorSpace}));const ut=he.state.transmissionRenderTarget[le.id],Ge=le.viewport||un;ut.setSize(Ge.z*jt.transmissionResolutionScale,Ge.w*jt.transmissionResolutionScale);const yt=jt.getRenderTarget();jt.setRenderTarget(ut),jt.getClearColor(Rn),Li=jt.getClearAlpha(),Li<1&&jt.setClearColor(16777215,.5),jt.clear(),il&&Gs.render(ue);const Xe=jt.toneMapping;jt.toneMapping=a.uL9;const dt=le.viewport;if(le.viewport!==void 0&&(le.viewport=void 0),he.setupLightsView(le),Hr===!0&&ur.setGlobalState(jt.clippingPlanes,le),xl(D,ue,le),ze.updateMultisampleRenderTarget(ut),ze.updateRenderTargetMipmap(ut),cr.has("WEBGL_multisampled_render_to_texture")===!1){let Nt=!1;for(let ft=0,an=ne.length;ft<an;ft++){const Dn=ne[ft],ii=Dn.object,Un=Dn.geometry,Gn=Dn.material,zn=Dn.group;if(Gn.side===a.ehD&&ii.layers.test(le.layers)){const zi=Gn.side;Gn.side=a._Li,Gn.needsUpdate=!0,$c(ii,ue,le,Un,Gn,zn),Gn.side=zi,Gn.needsUpdate=!0,Nt=!0}}Nt===!0&&(ze.updateMultisampleRenderTarget(ut),ze.updateRenderTargetMipmap(ut))}jt.setRenderTarget(yt),jt.setClearColor(Rn,Li),dt!==void 0&&(le.viewport=dt),jt.toneMapping=Xe}function xl(D,ne,ue){const le=ne.isScene===!0?ne.overrideMaterial:null;for(let ce=0,ut=D.length;ce<ut;ce++){const Ge=D[ce],yt=Ge.object,Xe=Ge.geometry,dt=Ge.group;let Nt=Ge.material;Nt.allowOverride===!0&&le!==null&&(Nt=le),yt.layers.test(ue.layers)&&$c(yt,ne,ue,Xe,Nt,dt)}}function $c(D,ne,ue,le,ce,ut){D.onBeforeRender(jt,ne,ue,le,ce,ut),D.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,D.matrixWorld),D.normalMatrix.getNormalMatrix(D.modelViewMatrix),ce.onBeforeRender(jt,ne,ue,le,D,ut),ce.transparent===!0&&ce.side===a.ehD&&ce.forceSinglePass===!1?(ce.side=a._Li,ce.needsUpdate=!0,jt.renderBufferDirect(ue,ne,le,ce,D,ut),ce.side=a.Wl3,ce.needsUpdate=!0,jt.renderBufferDirect(ue,ne,le,ce,D,ut),ce.side=a.ehD):jt.renderBufferDirect(ue,ne,le,ce,D,ut),D.onAfterRender(jt,ne,ue,le,ce,ut)}function Zc(D,ne,ue){ne.isScene!==!0&&(ne=pl);const le=zs.get(D),ce=he.state.lights,ut=he.state.shadowsArray,Ge=ce.state.version,yt=$s.getParameters(D,ce.state,ut,ne,ue),Xe=$s.getProgramCacheKey(yt);let dt=le.programs;le.environment=D.isMeshStandardMaterial?ne.environment:null,le.fog=ne.fog,le.envMap=(D.isMeshStandardMaterial?hn:pe).get(D.envMap||le.environment),le.envMapRotation=le.environment!==null&&D.envMap===null?ne.environmentRotation:D.envMapRotation,dt===void 0&&(D.addEventListener("dispose",Go),dt=new Map,le.programs=dt);let Nt=dt.get(Xe);if(Nt!==void 0){if(le.currentProgram===Nt&&le.lightsStateVersion===Ge)return f(D,yt),Nt}else yt.uniforms=$s.getUniforms(D),D.onBeforeCompile(yt,jt),Nt=$s.acquireProgram(yt,Xe),dt.set(Xe,Nt),le.uniforms=yt.uniforms;const ft=le.uniforms;return(!D.isShaderMaterial&&!D.isRawShaderMaterial||D.clipping===!0)&&(ft.clippingPlanes=ur.uniform),f(D,yt),le.needsLights=I(D),le.lightsStateVersion=Ge,le.needsLights&&(ft.ambientLightColor.value=ce.state.ambient,ft.lightProbe.value=ce.state.probe,ft.directionalLights.value=ce.state.directional,ft.directionalLightShadows.value=ce.state.directionalShadow,ft.spotLights.value=ce.state.spot,ft.spotLightShadows.value=ce.state.spotShadow,ft.rectAreaLights.value=ce.state.rectArea,ft.ltc_1.value=ce.state.rectAreaLTC1,ft.ltc_2.value=ce.state.rectAreaLTC2,ft.pointLights.value=ce.state.point,ft.pointLightShadows.value=ce.state.pointShadow,ft.hemisphereLights.value=ce.state.hemi,ft.directionalShadowMap.value=ce.state.directionalShadowMap,ft.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,ft.spotShadowMap.value=ce.state.spotShadowMap,ft.spotLightMatrix.value=ce.state.spotLightMatrix,ft.spotLightMap.value=ce.state.spotLightMap,ft.pointShadowMap.value=ce.state.pointShadowMap,ft.pointShadowMatrix.value=ce.state.pointShadowMatrix),le.currentProgram=Nt,le.uniformsList=null,Nt}function mu(D){if(D.uniformsList===null){const ne=D.currentProgram.getUniforms();D.uniformsList=Ki.seqWithValue(ne.seq,D.uniforms)}return D.uniformsList}function f(D,ne){const ue=zs.get(D);ue.outputColorSpace=ne.outputColorSpace,ue.batching=ne.batching,ue.batchingColor=ne.batchingColor,ue.instancing=ne.instancing,ue.instancingColor=ne.instancingColor,ue.instancingMorph=ne.instancingMorph,ue.skinning=ne.skinning,ue.morphTargets=ne.morphTargets,ue.morphNormals=ne.morphNormals,ue.morphColors=ne.morphColors,ue.morphTargetsCount=ne.morphTargetsCount,ue.numClippingPlanes=ne.numClippingPlanes,ue.numIntersection=ne.numClipIntersection,ue.vertexAlphas=ne.vertexAlphas,ue.vertexTangents=ne.vertexTangents,ue.toneMapping=ne.toneMapping}function _(D,ne,ue,le,ce){ne.isScene!==!0&&(ne=pl),ze.resetTextureUnits();const ut=ne.fog,Ge=le.isMeshStandardMaterial?ne.environment:null,yt=wi===null?jt.outputColorSpace:wi.isXRRenderTarget===!0?wi.texture.colorSpace:a.GUF,Xe=(le.isMeshStandardMaterial?hn:pe).get(le.envMap||Ge),dt=le.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,Nt=!!ue.attributes.tangent&&(!!le.normalMap||le.anisotropy>0),ft=!!ue.morphAttributes.position,an=!!ue.morphAttributes.normal,Dn=!!ue.morphAttributes.color;let ii=a.uL9;le.toneMapped&&(wi===null||wi.isXRRenderTarget===!0)&&(ii=jt.toneMapping);const Un=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,Gn=Un!==void 0?Un.length:0,zn=zs.get(le),zi=he.state.lights;if(Hr===!0&&(Rs===!0||D!==Ue)){const ts=D===Ue&&le.id===Ke;ur.setState(le,D,ts)}let Ci=!1;le.version===zn.__version?(zn.needsLights&&zn.lightsStateVersion!==zi.state.version||zn.outputColorSpace!==yt||ce.isBatchedMesh&&zn.batching===!1||!ce.isBatchedMesh&&zn.batching===!0||ce.isBatchedMesh&&zn.batchingColor===!0&&ce.colorTexture===null||ce.isBatchedMesh&&zn.batchingColor===!1&&ce.colorTexture!==null||ce.isInstancedMesh&&zn.instancing===!1||!ce.isInstancedMesh&&zn.instancing===!0||ce.isSkinnedMesh&&zn.skinning===!1||!ce.isSkinnedMesh&&zn.skinning===!0||ce.isInstancedMesh&&zn.instancingColor===!0&&ce.instanceColor===null||ce.isInstancedMesh&&zn.instancingColor===!1&&ce.instanceColor!==null||ce.isInstancedMesh&&zn.instancingMorph===!0&&ce.morphTexture===null||ce.isInstancedMesh&&zn.instancingMorph===!1&&ce.morphTexture!==null||zn.envMap!==Xe||le.fog===!0&&zn.fog!==ut||zn.numClippingPlanes!==void 0&&(zn.numClippingPlanes!==ur.numPlanes||zn.numIntersection!==ur.numIntersection)||zn.vertexAlphas!==dt||zn.vertexTangents!==Nt||zn.morphTargets!==ft||zn.morphNormals!==an||zn.morphColors!==Dn||zn.toneMapping!==ii||zn.morphTargetsCount!==Gn)&&(Ci=!0):(Ci=!0,zn.__version=le.version);let Hi=zn.currentProgram;Ci===!0&&(Hi=Zc(le,ne,ce));let Qi=!1,Wr=!1,Gi=!1;const Bi=Hi.getUniforms(),Or=zn.uniforms;if(Cs.useProgram(Hi.program)&&(Qi=!0,Wr=!0,Gi=!0),le.id!==Ke&&(Ke=le.id,Wr=!0),Qi||Ue!==D){Cs.buffers.depth.getReversed()?(xr.copy(D.projectionMatrix),(0,a.tNt)(xr),(0,a.yHo)(xr),Bi.setValue(Lt,"projectionMatrix",xr)):Bi.setValue(Lt,"projectionMatrix",D.projectionMatrix),Bi.setValue(Lt,"viewMatrix",D.matrixWorldInverse);const jr=Bi.map.cameraPosition;jr!==void 0&&jr.setValue(Lt,Ra.setFromMatrixPosition(D.matrixWorld)),sa.logarithmicDepthBuffer&&Bi.setValue(Lt,"logDepthBufFC",2/(Math.log(D.far+1)/Math.LN2)),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&Bi.setValue(Lt,"isOrthographic",D.isOrthographicCamera===!0),Ue!==D&&(Ue=D,Wr=!0,Gi=!0)}if(ce.isSkinnedMesh){Bi.setOptional(Lt,ce,"bindMatrix"),Bi.setOptional(Lt,ce,"bindMatrixInverse");const ts=ce.skeleton;ts&&(ts.boneTexture===null&&ts.computeBoneTexture(),Bi.setValue(Lt,"boneTexture",ts.boneTexture,ze))}ce.isBatchedMesh&&(Bi.setOptional(Lt,ce,"batchingTexture"),Bi.setValue(Lt,"batchingTexture",ce._matricesTexture,ze),Bi.setOptional(Lt,ce,"batchingIdTexture"),Bi.setValue(Lt,"batchingIdTexture",ce._indirectTexture,ze),Bi.setOptional(Lt,ce,"batchingColorTexture"),ce._colorsTexture!==null&&Bi.setValue(Lt,"batchingColorTexture",ce._colorsTexture,ze));const Rr=ue.morphAttributes;if((Rr.position!==void 0||Rr.normal!==void 0||Rr.color!==void 0)&&_o.update(ce,ue,Hi),(Wr||zn.receiveShadow!==ce.receiveShadow)&&(zn.receiveShadow=ce.receiveShadow,Bi.setValue(Lt,"receiveShadow",ce.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(Or.envMap.value=Xe,Or.flipEnvMap.value=Xe.isCubeTexture&&Xe.isRenderTargetTexture===!1?-1:1),le.isMeshStandardMaterial&&le.envMap===null&&ne.environment!==null&&(Or.envMapIntensity.value=ne.environmentIntensity),Wr&&(Bi.setValue(Lt,"toneMappingExposure",jt.toneMappingExposure),zn.needsLights&&U(Or,Gi),ut&&le.fog===!0&&Qr.refreshFogUniforms(Or,ut),Qr.refreshMaterialUniforms(Or,le,Wn,yr,he.state.transmissionRenderTarget[D.id]),Ki.upload(Lt,mu(zn),Or,ze)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Ki.upload(Lt,mu(zn),Or,ze),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&Bi.setValue(Lt,"center",ce.center),Bi.setValue(Lt,"modelViewMatrix",ce.modelViewMatrix),Bi.setValue(Lt,"normalMatrix",ce.normalMatrix),Bi.setValue(Lt,"modelMatrix",ce.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const ts=le.uniformsGroups;for(let jr=0,br=ts.length;jr<br;jr++){const Dr=ts[jr];Wt.update(Dr,Hi),Wt.bind(Dr,Hi)}}return Hi}function U(D,ne){D.ambientLightColor.needsUpdate=ne,D.lightProbe.needsUpdate=ne,D.directionalLights.needsUpdate=ne,D.directionalLightShadows.needsUpdate=ne,D.pointLights.needsUpdate=ne,D.pointLightShadows.needsUpdate=ne,D.spotLights.needsUpdate=ne,D.spotLightShadows.needsUpdate=ne,D.rectAreaLights.needsUpdate=ne,D.hemisphereLights.needsUpdate=ne}function I(D){return D.isMeshLambertMaterial||D.isMeshToonMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isShadowMaterial||D.isShaderMaterial&&D.lights===!0}this.getActiveCubeFace=function(){return Cn},this.getActiveMipmapLevel=function(){return Nn},this.getRenderTarget=function(){return wi},this.setRenderTargetTextures=function(D,ne,ue){const le=zs.get(D);le.__autoAllocateDepthBuffer=D.resolveDepthBuffer===!1,le.__autoAllocateDepthBuffer===!1&&(le.__useRenderToTexture=!1),zs.get(D.texture).__webglTexture=ne,zs.get(D.depthTexture).__webglTexture=le.__autoAllocateDepthBuffer?void 0:ue,le.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(D,ne){const ue=zs.get(D);ue.__webglFramebuffer=ne,ue.__useDefaultFramebuffer=ne===void 0};const q=Lt.createFramebuffer();this.setRenderTarget=function(D,ne=0,ue=0){wi=D,Cn=ne,Nn=ue;let le=!0,ce=null,ut=!1,Ge=!1;if(D){const Xe=zs.get(D);if(Xe.__useDefaultFramebuffer!==void 0)Cs.bindFramebuffer(Lt.FRAMEBUFFER,null),le=!1;else if(Xe.__webglFramebuffer===void 0)ze.setupRenderTarget(D);else if(Xe.__hasExternalTextures)ze.rebindTextures(D,zs.get(D.texture).__webglTexture,zs.get(D.depthTexture).__webglTexture);else if(D.depthBuffer){const ft=D.depthTexture;if(Xe.__boundDepthTexture!==ft){if(ft!==null&&zs.has(ft)&&(D.width!==ft.image.width||D.height!==ft.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ze.setupDepthRenderbuffer(D)}}const dt=D.texture;(dt.isData3DTexture||dt.isDataArrayTexture||dt.isCompressedArrayTexture)&&(Ge=!0);const Nt=zs.get(D).__webglFramebuffer;D.isWebGLCubeRenderTarget?(Array.isArray(Nt[ne])?ce=Nt[ne][ue]:ce=Nt[ne],ut=!0):D.samples>0&&ze.useMultisampledRTT(D)===!1?ce=zs.get(D).__webglMultisampledFramebuffer:Array.isArray(Nt)?ce=Nt[ue]:ce=Nt,un.copy(D.viewport),ki.copy(D.scissor),Mi=D.scissorTest}else un.copy(to).multiplyScalar(Wn).floor(),ki.copy(ta).multiplyScalar(Wn).floor(),Mi=nl;if(ue!==0&&(ce=q),Cs.bindFramebuffer(Lt.FRAMEBUFFER,ce)&&le&&Cs.drawBuffers(D,ce),Cs.viewport(un),Cs.scissor(ki),Cs.setScissorTest(Mi),ut){const Xe=zs.get(D.texture);Lt.framebufferTexture2D(Lt.FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,Lt.TEXTURE_CUBE_MAP_POSITIVE_X+ne,Xe.__webglTexture,ue)}else if(Ge){const Xe=zs.get(D.texture),dt=ne;Lt.framebufferTextureLayer(Lt.FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,Xe.__webglTexture,ue,dt)}else if(D!==null&&ue!==0){const Xe=zs.get(D.texture);Lt.framebufferTexture2D(Lt.FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,Lt.TEXTURE_2D,Xe.__webglTexture,ue)}Ke=-1},this.readRenderTargetPixels=function(D,ne,ue,le,ce,ut,Ge){if(!(D&&D.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=zs.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&Ge!==void 0&&(yt=yt[Ge]),yt){Cs.bindFramebuffer(Lt.FRAMEBUFFER,yt);try{const Xe=D.texture,dt=Xe.format,Nt=Xe.type;if(!sa.textureFormatReadable(dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!sa.textureTypeReadable(Nt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ne>=0&&ne<=D.width-le&&ue>=0&&ue<=D.height-ce&&Lt.readPixels(ne,ue,le,ce,Wo.convert(dt),Wo.convert(Nt),ut)}finally{const Xe=wi!==null?zs.get(wi).__webglFramebuffer:null;Cs.bindFramebuffer(Lt.FRAMEBUFFER,Xe)}}},this.readRenderTargetPixelsAsync=function(D,ne,ue,le,ce,ut,Ge){return Rl(this,null,function*(){if(!(D&&D.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let yt=zs.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&Ge!==void 0&&(yt=yt[Ge]),yt)if(ne>=0&&ne<=D.width-le&&ue>=0&&ue<=D.height-ce){Cs.bindFramebuffer(Lt.FRAMEBUFFER,yt);const Xe=D.texture,dt=Xe.format,Nt=Xe.type;if(!sa.textureFormatReadable(dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!sa.textureTypeReadable(Nt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ft=Lt.createBuffer();Lt.bindBuffer(Lt.PIXEL_PACK_BUFFER,ft),Lt.bufferData(Lt.PIXEL_PACK_BUFFER,ut.byteLength,Lt.STREAM_READ),Lt.readPixels(ne,ue,le,ce,Wo.convert(dt),Wo.convert(Nt),0);const an=wi!==null?zs.get(wi).__webglFramebuffer:null;Cs.bindFramebuffer(Lt.FRAMEBUFFER,an);const Dn=Lt.fenceSync(Lt.SYNC_GPU_COMMANDS_COMPLETE,0);return Lt.flush(),yield(0,a.Qey)(Lt,Dn,4),Lt.bindBuffer(Lt.PIXEL_PACK_BUFFER,ft),Lt.getBufferSubData(Lt.PIXEL_PACK_BUFFER,0,ut),Lt.deleteBuffer(ft),Lt.deleteSync(Dn),ut}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")})},this.copyFramebufferToTexture=function(D,ne=null,ue=0){const le=Math.pow(2,-ue),ce=Math.floor(D.image.width*le),ut=Math.floor(D.image.height*le),Ge=ne!==null?ne.x:0,yt=ne!==null?ne.y:0;ze.setTexture2D(D,0),Lt.copyTexSubImage2D(Lt.TEXTURE_2D,ue,0,0,Ge,yt,ce,ut),Cs.unbindTexture()};const Se=Lt.createFramebuffer(),Ie=Lt.createFramebuffer();this.copyTextureToTexture=function(D,ne,ue=null,le=null,ce=0,ut=null){ut===null&&(ce!==0?((0,a.O4K)("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ut=ce,ce=0):ut=0);let Ge,yt,Xe,dt,Nt,ft,an,Dn,ii;const Un=D.isCompressedTexture?D.mipmaps[ut]:D.image;if(ue!==null)Ge=ue.max.x-ue.min.x,yt=ue.max.y-ue.min.y,Xe=ue.isBox3?ue.max.z-ue.min.z:1,dt=ue.min.x,Nt=ue.min.y,ft=ue.isBox3?ue.min.z:0;else{const Rr=Math.pow(2,-ce);Ge=Math.floor(Un.width*Rr),yt=Math.floor(Un.height*Rr),D.isDataArrayTexture?Xe=Un.depth:D.isData3DTexture?Xe=Math.floor(Un.depth*Rr):Xe=1,dt=0,Nt=0,ft=0}le!==null?(an=le.x,Dn=le.y,ii=le.z):(an=0,Dn=0,ii=0);const Gn=Wo.convert(ne.format),zn=Wo.convert(ne.type);let zi;ne.isData3DTexture?(ze.setTexture3D(ne,0),zi=Lt.TEXTURE_3D):ne.isDataArrayTexture||ne.isCompressedArrayTexture?(ze.setTexture2DArray(ne,0),zi=Lt.TEXTURE_2D_ARRAY):(ze.setTexture2D(ne,0),zi=Lt.TEXTURE_2D),Lt.pixelStorei(Lt.UNPACK_FLIP_Y_WEBGL,ne.flipY),Lt.pixelStorei(Lt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),Lt.pixelStorei(Lt.UNPACK_ALIGNMENT,ne.unpackAlignment);const Ci=Lt.getParameter(Lt.UNPACK_ROW_LENGTH),Hi=Lt.getParameter(Lt.UNPACK_IMAGE_HEIGHT),Qi=Lt.getParameter(Lt.UNPACK_SKIP_PIXELS),Wr=Lt.getParameter(Lt.UNPACK_SKIP_ROWS),Gi=Lt.getParameter(Lt.UNPACK_SKIP_IMAGES);Lt.pixelStorei(Lt.UNPACK_ROW_LENGTH,Un.width),Lt.pixelStorei(Lt.UNPACK_IMAGE_HEIGHT,Un.height),Lt.pixelStorei(Lt.UNPACK_SKIP_PIXELS,dt),Lt.pixelStorei(Lt.UNPACK_SKIP_ROWS,Nt),Lt.pixelStorei(Lt.UNPACK_SKIP_IMAGES,ft);const Bi=D.isDataArrayTexture||D.isData3DTexture,Or=ne.isDataArrayTexture||ne.isData3DTexture;if(D.isDepthTexture){const Rr=zs.get(D),ts=zs.get(ne),jr=zs.get(Rr.__renderTarget),br=zs.get(ts.__renderTarget);Cs.bindFramebuffer(Lt.READ_FRAMEBUFFER,jr.__webglFramebuffer),Cs.bindFramebuffer(Lt.DRAW_FRAMEBUFFER,br.__webglFramebuffer);for(let Dr=0;Dr<Xe;Dr++)Bi&&(Lt.framebufferTextureLayer(Lt.READ_FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,zs.get(D).__webglTexture,ce,ft+Dr),Lt.framebufferTextureLayer(Lt.DRAW_FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,zs.get(ne).__webglTexture,ut,ii+Dr)),Lt.blitFramebuffer(dt,Nt,Ge,yt,an,Dn,Ge,yt,Lt.DEPTH_BUFFER_BIT,Lt.NEAREST);Cs.bindFramebuffer(Lt.READ_FRAMEBUFFER,null),Cs.bindFramebuffer(Lt.DRAW_FRAMEBUFFER,null)}else if(ce!==0||D.isRenderTargetTexture||zs.has(D)){const Rr=zs.get(D),ts=zs.get(ne);Cs.bindFramebuffer(Lt.READ_FRAMEBUFFER,Se),Cs.bindFramebuffer(Lt.DRAW_FRAMEBUFFER,Ie);for(let jr=0;jr<Xe;jr++)Bi?Lt.framebufferTextureLayer(Lt.READ_FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,Rr.__webglTexture,ce,ft+jr):Lt.framebufferTexture2D(Lt.READ_FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,Lt.TEXTURE_2D,Rr.__webglTexture,ce),Or?Lt.framebufferTextureLayer(Lt.DRAW_FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,ts.__webglTexture,ut,ii+jr):Lt.framebufferTexture2D(Lt.DRAW_FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,Lt.TEXTURE_2D,ts.__webglTexture,ut),ce!==0?Lt.blitFramebuffer(dt,Nt,Ge,yt,an,Dn,Ge,yt,Lt.COLOR_BUFFER_BIT,Lt.NEAREST):Or?Lt.copyTexSubImage3D(zi,ut,an,Dn,ii+jr,dt,Nt,Ge,yt):Lt.copyTexSubImage2D(zi,ut,an,Dn,dt,Nt,Ge,yt);Cs.bindFramebuffer(Lt.READ_FRAMEBUFFER,null),Cs.bindFramebuffer(Lt.DRAW_FRAMEBUFFER,null)}else Or?D.isDataTexture||D.isData3DTexture?Lt.texSubImage3D(zi,ut,an,Dn,ii,Ge,yt,Xe,Gn,zn,Un.data):ne.isCompressedArrayTexture?Lt.compressedTexSubImage3D(zi,ut,an,Dn,ii,Ge,yt,Xe,Gn,Un.data):Lt.texSubImage3D(zi,ut,an,Dn,ii,Ge,yt,Xe,Gn,zn,Un):D.isDataTexture?Lt.texSubImage2D(Lt.TEXTURE_2D,ut,an,Dn,Ge,yt,Gn,zn,Un.data):D.isCompressedTexture?Lt.compressedTexSubImage2D(Lt.TEXTURE_2D,ut,an,Dn,Un.width,Un.height,Gn,Un.data):Lt.texSubImage2D(Lt.TEXTURE_2D,ut,an,Dn,Ge,yt,Gn,zn,Un);Lt.pixelStorei(Lt.UNPACK_ROW_LENGTH,Ci),Lt.pixelStorei(Lt.UNPACK_IMAGE_HEIGHT,Hi),Lt.pixelStorei(Lt.UNPACK_SKIP_PIXELS,Qi),Lt.pixelStorei(Lt.UNPACK_SKIP_ROWS,Wr),Lt.pixelStorei(Lt.UNPACK_SKIP_IMAGES,Gi),ut===0&&ne.generateMipmaps&&Lt.generateMipmap(zi),Cs.unbindTexture()},this.copyTextureToTexture3D=function(D,ne,ue=null,le=null,ce=0){return(0,a.O4K)('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(D,ne,ue,le,ce)},this.initRenderTarget=function(D){zs.get(D).__webglFramebuffer===void 0&&ze.setupRenderTarget(D)},this.initTexture=function(D){D.isCubeTexture?ze.setTextureCube(D,0):D.isData3DTexture?ze.setTexture3D(D,0):D.isDataArrayTexture||D.isCompressedArrayTexture?ze.setTexture2DArray(D,0):ze.setTexture2D(D,0),Cs.unbindTexture()},this.resetState=function(){Cn=0,Nn=0,wi=null,Cs.reset(),Ta.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return a._RZ}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(R){this._outputColorSpace=R;const C=this.getContext();C.drawingBufferColorSpace=a.epp._getDrawingBufferColorSpace(R),C.unpackColorSpace=a.epp._getUnpackColorSpace()}}},86167:function(ji,It,M){"use strict";M.d(It,{$:function(){return vt}});var a=M(89888);const W={type:"change"},z={type:"start"},ie={type:"end"},Pe=1e-6,se={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4},J=new a.FM8,oe=new a.FM8,fe=new a.Pa4,Me=new a.Pa4,tt=new a.Pa4,Be=new a._fP,ye=new a.Pa4,$t=new a.Pa4,qe=new a.Pa4,Ye=new a.Pa4;class vt extends a.ZXd{constructor(pt,je=null){super(pt,je),this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:a.RsA.ROTATE,MIDDLE:a.RsA.DOLLY,RIGHT:a.RsA.PAN},this.target=new a.Pa4,this.state=se.NONE,this.keyState=se.NONE,this._lastPosition=new a.Pa4,this._lastZoom=1,this._touchZoomDistanceStart=0,this._touchZoomDistanceEnd=0,this._lastAngle=0,this._eye=new a.Pa4,this._movePrev=new a.FM8,this._moveCurr=new a.FM8,this._lastAxis=new a.Pa4,this._zoomStart=new a.FM8,this._zoomEnd=new a.FM8,this._panStart=new a.FM8,this._panEnd=new a.FM8,this._pointers=[],this._pointerPositions={},this._onPointerMove=ee.bind(this),this._onPointerDown=Oe.bind(this),this._onPointerUp=xt.bind(this),this._onPointerCancel=de.bind(this),this._onContextMenu=Vt.bind(this),this._onMouseWheel=Fe.bind(this),this._onKeyDown=Rt.bind(this),this._onKeyUp=re.bind(this),this._onTouchStart=_t.bind(this),this._onTouchMove=et.bind(this),this._onTouchEnd=Kt.bind(this),this._onMouseDown=T.bind(this),this._onMouseMove=Bt.bind(this),this._onMouseUp=He.bind(this),this._target0=this.target.clone(),this._position0=this.object.position.clone(),this._up0=this.object.up.clone(),this._zoom0=this.object.zoom,je!==null&&(this.connect(je),this.handleResize()),this.update()}connect(pt){super.connect(pt),window.addEventListener("keydown",this._onKeyDown),window.addEventListener("keyup",this._onKeyUp),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerCancel),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerCancel),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}handleResize(){const pt=this.domElement.getBoundingClientRect(),je=this.domElement.ownerDocument.documentElement;this.screen.left=pt.left+window.pageXOffset-je.clientLeft,this.screen.top=pt.top+window.pageYOffset-je.clientTop,this.screen.width=pt.width,this.screen.height=pt.height}update(){this._eye.subVectors(this.object.position,this.target),this.noRotate||this._rotateCamera(),this.noZoom||this._zoomCamera(),this.noPan||this._panCamera(),this.object.position.addVectors(this.target,this._eye),this.object.isPerspectiveCamera?(this._checkDistances(),this.object.lookAt(this.target),this._lastPosition.distanceToSquared(this.object.position)>Pe&&(this.dispatchEvent(W),this._lastPosition.copy(this.object.position))):this.object.isOrthographicCamera?(this.object.lookAt(this.target),(this._lastPosition.distanceToSquared(this.object.position)>Pe||this._lastZoom!==this.object.zoom)&&(this.dispatchEvent(W),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type.")}reset(){this.state=se.NONE,this.keyState=se.NONE,this.target.copy(this._target0),this.object.position.copy(this._position0),this.object.up.copy(this._up0),this.object.zoom=this._zoom0,this.object.updateProjectionMatrix(),this._eye.subVectors(this.object.position,this.target),this.object.lookAt(this.target),this.dispatchEvent(W),this._lastPosition.copy(this.object.position),this._lastZoom=this.object.zoom}_panCamera(){if(oe.copy(this._panEnd).sub(this._panStart),oe.lengthSq()){if(this.object.isOrthographicCamera){const pt=(this.object.right-this.object.left)/this.object.zoom/this.domElement.clientWidth,je=(this.object.top-this.object.bottom)/this.object.zoom/this.domElement.clientWidth;oe.x*=pt,oe.y*=je}oe.multiplyScalar(this._eye.length()*this.panSpeed),Me.copy(this._eye).cross(this.object.up).setLength(oe.x),Me.add(fe.copy(this.object.up).setLength(oe.y)),this.object.position.add(Me),this.target.add(Me),this.staticMoving?this._panStart.copy(this._panEnd):this._panStart.add(oe.subVectors(this._panEnd,this._panStart).multiplyScalar(this.dynamicDampingFactor))}}_rotateCamera(){Ye.set(this._moveCurr.x-this._movePrev.x,this._moveCurr.y-this._movePrev.y,0);let pt=Ye.length();pt?(this._eye.copy(this.object.position).sub(this.target),ye.copy(this._eye).normalize(),$t.copy(this.object.up).normalize(),qe.crossVectors($t,ye).normalize(),$t.setLength(this._moveCurr.y-this._movePrev.y),qe.setLength(this._moveCurr.x-this._movePrev.x),Ye.copy($t.add(qe)),tt.crossVectors(Ye,this._eye).normalize(),pt*=this.rotateSpeed,Be.setFromAxisAngle(tt,pt),this._eye.applyQuaternion(Be),this.object.up.applyQuaternion(Be),this._lastAxis.copy(tt),this._lastAngle=pt):!this.staticMoving&&this._lastAngle&&(this._lastAngle*=Math.sqrt(1-this.dynamicDampingFactor),this._eye.copy(this.object.position).sub(this.target),Be.setFromAxisAngle(this._lastAxis,this._lastAngle),this._eye.applyQuaternion(Be),this.object.up.applyQuaternion(Be)),this._movePrev.copy(this._moveCurr)}_zoomCamera(){let pt;this.state===se.TOUCH_ZOOM_PAN?(pt=this._touchZoomDistanceStart/this._touchZoomDistanceEnd,this._touchZoomDistanceStart=this._touchZoomDistanceEnd,this.object.isPerspectiveCamera?this._eye.multiplyScalar(pt):this.object.isOrthographicCamera?(this.object.zoom=a.M8C.clamp(this.object.zoom/pt,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(pt=1+(this._zoomEnd.y-this._zoomStart.y)*this.zoomSpeed,pt!==1&&pt>0&&(this.object.isPerspectiveCamera?this._eye.multiplyScalar(pt):this.object.isOrthographicCamera?(this.object.zoom=a.M8C.clamp(this.object.zoom/pt,this.minZoom,this.maxZoom),this._lastZoom!==this.object.zoom&&this.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),this.staticMoving?this._zoomStart.copy(this._zoomEnd):this._zoomStart.y+=(this._zoomEnd.y-this._zoomStart.y)*this.dynamicDampingFactor)}_getMouseOnScreen(pt,je){return J.set((pt-this.screen.left)/this.screen.width,(je-this.screen.top)/this.screen.height),J}_getMouseOnCircle(pt,je){return J.set((pt-this.screen.width*.5-this.screen.left)/(this.screen.width*.5),(this.screen.height+2*(this.screen.top-je))/this.screen.width),J}_addPointer(pt){this._pointers.push(pt)}_removePointer(pt){delete this._pointerPositions[pt.pointerId];for(let je=0;je<this._pointers.length;je++)if(this._pointers[je].pointerId==pt.pointerId){this._pointers.splice(je,1);return}}_trackPointer(pt){let je=this._pointerPositions[pt.pointerId];je===void 0&&(je=new a.FM8,this._pointerPositions[pt.pointerId]=je),je.set(pt.pageX,pt.pageY)}_getSecondPointerPosition(pt){const je=pt.pointerId===this._pointers[0].pointerId?this._pointers[1]:this._pointers[0];return this._pointerPositions[je.pointerId]}_checkDistances(){(!this.noZoom||!this.noPan)&&(this._eye.lengthSq()>this.maxDistance*this.maxDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.maxDistance)),this._zoomStart.copy(this._zoomEnd)),this._eye.lengthSq()<this.minDistance*this.minDistance&&(this.object.position.addVectors(this.target,this._eye.setLength(this.minDistance)),this._zoomStart.copy(this._zoomEnd)))}}function Oe(wt){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(wt.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._addPointer(wt),wt.pointerType==="touch"?this._onTouchStart(wt):this._onMouseDown(wt))}function ee(wt){this.enabled!==!1&&(wt.pointerType==="touch"?this._onTouchMove(wt):this._onMouseMove(wt))}function xt(wt){this.enabled!==!1&&(wt.pointerType==="touch"?this._onTouchEnd(wt):this._onMouseUp(),this._removePointer(wt),this._pointers.length===0&&(this.domElement.releasePointerCapture(wt.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp)))}function de(wt){this._removePointer(wt)}function re(){this.enabled!==!1&&(this.keyState=se.NONE,window.addEventListener("keydown",this._onKeyDown))}function Rt(wt){this.enabled!==!1&&(window.removeEventListener("keydown",this._onKeyDown),this.keyState===se.NONE&&(wt.code===this.keys[se.ROTATE]&&!this.noRotate?this.keyState=se.ROTATE:wt.code===this.keys[se.ZOOM]&&!this.noZoom?this.keyState=se.ZOOM:wt.code===this.keys[se.PAN]&&!this.noPan&&(this.keyState=se.PAN)))}function T(wt){let pt;switch(wt.button){case 0:pt=this.mouseButtons.LEFT;break;case 1:pt=this.mouseButtons.MIDDLE;break;case 2:pt=this.mouseButtons.RIGHT;break;default:pt=-1}switch(pt){case a.RsA.DOLLY:this.state=se.ZOOM;break;case a.RsA.ROTATE:this.state=se.ROTATE;break;case a.RsA.PAN:this.state=se.PAN;break;default:this.state=se.NONE}const je=this.keyState!==se.NONE?this.keyState:this.state;je===se.ROTATE&&!this.noRotate?(this._moveCurr.copy(this._getMouseOnCircle(wt.pageX,wt.pageY)),this._movePrev.copy(this._moveCurr)):je===se.ZOOM&&!this.noZoom?(this._zoomStart.copy(this._getMouseOnScreen(wt.pageX,wt.pageY)),this._zoomEnd.copy(this._zoomStart)):je===se.PAN&&!this.noPan&&(this._panStart.copy(this._getMouseOnScreen(wt.pageX,wt.pageY)),this._panEnd.copy(this._panStart)),this.dispatchEvent(z)}function Bt(wt){const pt=this.keyState!==se.NONE?this.keyState:this.state;pt===se.ROTATE&&!this.noRotate?(this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(wt.pageX,wt.pageY))):pt===se.ZOOM&&!this.noZoom?this._zoomEnd.copy(this._getMouseOnScreen(wt.pageX,wt.pageY)):pt===se.PAN&&!this.noPan&&this._panEnd.copy(this._getMouseOnScreen(wt.pageX,wt.pageY))}function He(){this.state=se.NONE,this.dispatchEvent(ie)}function Fe(wt){if(this.enabled!==!1&&this.noZoom!==!0){switch(wt.preventDefault(),wt.deltaMode){case 2:this._zoomStart.y-=wt.deltaY*.025;break;case 1:this._zoomStart.y-=wt.deltaY*.01;break;default:this._zoomStart.y-=wt.deltaY*25e-5;break}this.dispatchEvent(z),this.dispatchEvent(ie)}}function Vt(wt){this.enabled!==!1&&wt.preventDefault()}function _t(wt){switch(this._trackPointer(wt),this._pointers.length){case 1:this.state=se.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(this._pointers[0].pageX,this._pointers[0].pageY)),this._movePrev.copy(this._moveCurr);break;default:this.state=se.TOUCH_ZOOM_PAN;const pt=this._pointers[0].pageX-this._pointers[1].pageX,je=this._pointers[0].pageY-this._pointers[1].pageY;this._touchZoomDistanceEnd=this._touchZoomDistanceStart=Math.sqrt(pt*pt+je*je);const Ct=(this._pointers[0].pageX+this._pointers[1].pageX)/2,Le=(this._pointers[0].pageY+this._pointers[1].pageY)/2;this._panStart.copy(this._getMouseOnScreen(Ct,Le)),this._panEnd.copy(this._panStart);break}this.dispatchEvent(z)}function et(wt){switch(this._trackPointer(wt),this._pointers.length){case 1:this._movePrev.copy(this._moveCurr),this._moveCurr.copy(this._getMouseOnCircle(wt.pageX,wt.pageY));break;default:const pt=this._getSecondPointerPosition(wt),je=wt.pageX-pt.x,Ct=wt.pageY-pt.y;this._touchZoomDistanceEnd=Math.sqrt(je*je+Ct*Ct);const Le=(wt.pageX+pt.x)/2,st=(wt.pageY+pt.y)/2;this._panEnd.copy(this._getMouseOnScreen(Le,st));break}}function Kt(wt){switch(this._pointers.length){case 0:this.state=se.NONE;break;case 1:this.state=se.TOUCH_ROTATE,this._moveCurr.copy(this._getMouseOnCircle(wt.pageX,wt.pageY)),this._movePrev.copy(this._moveCurr);break;case 2:this.state=se.TOUCH_ZOOM_PAN;for(let pt=0;pt<this._pointers.length;pt++)if(this._pointers[pt].pointerId!==wt.pointerId){const je=this._pointerPositions[this._pointers[pt].pointerId];this._moveCurr.copy(this._getMouseOnCircle(je.x,je.y)),this._movePrev.copy(this._moveCurr);break}break}this.dispatchEvent(ie)}},66172:function(ji,It,M){"use strict";M.d(It,{w:function(){return T}});var a=M(89888),W=M(83325),z=M(44543);const ie=new a.Ltg,Pe=new a.Pa4,se=new a.Pa4,J=new a.Ltg,oe=new a.Ltg,fe=new a.Ltg,Me=new a.Pa4,tt=new a.yGw,Be=new a.Zzh,ye=new a.Pa4,$t=new a.ZzF,qe=new a.aLr,Ye=new a.Ltg;let vt,Oe;function ee(Bt,He,Fe){return Ye.set(0,0,-He,1).applyMatrix4(Bt.projectionMatrix),Ye.multiplyScalar(1/Ye.w),Ye.x=Oe/Fe.width,Ye.y=Oe/Fe.height,Ye.applyMatrix4(Bt.projectionMatrixInverse),Ye.multiplyScalar(1/Ye.w),Math.abs(Math.max(Ye.x,Ye.y))}function xt(Bt,He){const Fe=Bt.matrixWorld,Vt=Bt.geometry,_t=Vt.attributes.instanceStart,et=Vt.attributes.instanceEnd,Kt=Math.min(Vt.instanceCount,_t.count);for(let wt=0,pt=Kt;wt<pt;wt++){Be.start.fromBufferAttribute(_t,wt),Be.end.fromBufferAttribute(et,wt),Be.applyMatrix4(Fe);const je=new a.Pa4,Ct=new a.Pa4;vt.distanceSqToSegment(Be.start,Be.end,Ct,je),Ct.distanceTo(je)<Oe*.5&&He.push({point:Ct,pointOnLine:je,distance:vt.origin.distanceTo(Ct),object:Bt,face:null,faceIndex:wt,uv:null,uv1:null})}}function de(Bt,He,Fe){const Vt=He.projectionMatrix,et=Bt.material.resolution,Kt=Bt.matrixWorld,wt=Bt.geometry,pt=wt.attributes.instanceStart,je=wt.attributes.instanceEnd,Ct=Math.min(wt.instanceCount,pt.count),Le=-He.near;vt.at(1,fe),fe.w=1,fe.applyMatrix4(He.matrixWorldInverse),fe.applyMatrix4(Vt),fe.multiplyScalar(1/fe.w),fe.x*=et.x/2,fe.y*=et.y/2,fe.z=0,Me.copy(fe),tt.multiplyMatrices(He.matrixWorldInverse,Kt);for(let st=0,zt=Ct;st<zt;st++){if(J.fromBufferAttribute(pt,st),oe.fromBufferAttribute(je,st),J.w=1,oe.w=1,J.applyMatrix4(tt),oe.applyMatrix4(tt),J.z>Le&&oe.z>Le)continue;if(J.z>Le){const si=J.z-oe.z,qi=(J.z-Le)/si;J.lerp(oe,qi)}else if(oe.z>Le){const si=oe.z-J.z,qi=(oe.z-Le)/si;oe.lerp(J,qi)}J.applyMatrix4(Vt),oe.applyMatrix4(Vt),J.multiplyScalar(1/J.w),oe.multiplyScalar(1/oe.w),J.x*=et.x/2,J.y*=et.y/2,oe.x*=et.x/2,oe.y*=et.y/2,Be.start.copy(J),Be.start.z=0,Be.end.copy(oe),Be.end.z=0;const xn=Be.closestPointToPointParameter(Me,!0);Be.at(xn,ye);const Zn=a.M8C.lerp(J.z,oe.z,xn),Yn=Zn>=-1&&Zn<=1,Fn=Me.distanceTo(ye)<Oe*.5;if(Yn&&Fn){Be.start.fromBufferAttribute(pt,st),Be.end.fromBufferAttribute(je,st),Be.start.applyMatrix4(Kt),Be.end.applyMatrix4(Kt);const si=new a.Pa4,qi=new a.Pa4;vt.distanceSqToSegment(Be.start,Be.end,qi,si),Fe.push({point:qi,pointOnLine:si,distance:vt.origin.distanceTo(qi),object:Bt,face:null,faceIndex:st,uv:null,uv1:null})}}}class re extends a.Kj0{constructor(He=new W.z,Fe=new z.Y({color:Math.random()*16777215})){super(He,Fe),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const He=this.geometry,Fe=He.attributes.instanceStart,Vt=He.attributes.instanceEnd,_t=new Float32Array(2*Fe.count);for(let Kt=0,wt=0,pt=Fe.count;Kt<pt;Kt++,wt+=2)Pe.fromBufferAttribute(Fe,Kt),se.fromBufferAttribute(Vt,Kt),_t[wt]=wt===0?0:_t[wt-1],_t[wt+1]=_t[wt]+Pe.distanceTo(se);const et=new a.$TI(_t,2,1);return He.setAttribute("instanceDistanceStart",new a.kB5(et,1,0)),He.setAttribute("instanceDistanceEnd",new a.kB5(et,1,1)),this}raycast(He,Fe){const Vt=this.material.worldUnits,_t=He.camera;_t===null&&!Vt&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const et=He.params.Line2!==void 0&&He.params.Line2.threshold||0;vt=He.ray;const Kt=this.matrixWorld,wt=this.geometry,pt=this.material;Oe=pt.linewidth+et,wt.boundingSphere===null&&wt.computeBoundingSphere(),qe.copy(wt.boundingSphere).applyMatrix4(Kt);let je;if(Vt)je=Oe*.5;else{const Le=Math.max(_t.near,qe.distanceToPoint(vt.origin));je=ee(_t,Le,pt.resolution)}if(qe.radius+=je,vt.intersectsSphere(qe)===!1)return;wt.boundingBox===null&&wt.computeBoundingBox(),$t.copy(wt.boundingBox).applyMatrix4(Kt);let Ct;if(Vt)Ct=Oe*.5;else{const Le=Math.max(_t.near,$t.distanceToPoint(vt.origin));Ct=ee(_t,Le,pt.resolution)}$t.expandByScalar(Ct),vt.intersectsBox($t)!==!1&&(Vt?xt(this,Fe):de(this,_t,Fe))}onBeforeRender(He){const Fe=this.material.uniforms;Fe&&Fe.resolution&&(He.getViewport(ie),this.material.uniforms.resolution.value.set(ie.z,ie.w))}}var Rt=M(23253);class T extends re{constructor(He=new Rt.L,Fe=new z.Y({color:Math.random()*16777215})){super(He,Fe),this.isLine2=!0,this.type="Line2"}}},23253:function(ji,It,M){"use strict";M.d(It,{L:function(){return W}});var a=M(83325);class W extends a.z{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(ie){const Pe=ie.length-3,se=new Float32Array(2*Pe);for(let J=0;J<Pe;J+=3)se[2*J]=ie[J],se[2*J+1]=ie[J+1],se[2*J+2]=ie[J+2],se[2*J+3]=ie[J+3],se[2*J+4]=ie[J+4],se[2*J+5]=ie[J+5];return super.setPositions(se),this}setColors(ie){const Pe=ie.length-3,se=new Float32Array(2*Pe);for(let J=0;J<Pe;J+=3)se[2*J]=ie[J],se[2*J+1]=ie[J+1],se[2*J+2]=ie[J+2],se[2*J+3]=ie[J+3],se[2*J+4]=ie[J+4],se[2*J+5]=ie[J+5];return super.setColors(se),this}setFromPoints(ie){const Pe=ie.length-1,se=new Float32Array(6*Pe);for(let J=0;J<Pe;J++)se[6*J]=ie[J].x,se[6*J+1]=ie[J].y,se[6*J+2]=ie[J].z||0,se[6*J+3]=ie[J+1].x,se[6*J+4]=ie[J+1].y,se[6*J+5]=ie[J+1].z||0;return super.setPositions(se),this}fromLine(ie){const Pe=ie.geometry;return this.setPositions(Pe.attributes.position.array),this}}},44543:function(ji,It,M){"use strict";M.d(It,{Y:function(){return z}});var a=M(40029),W=M(89888);a.rBU.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new W.FM8(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},a.Vj0.line={uniforms:W.rDY.merge([a.rBU.common,a.rBU.fog,a.rBU.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class z extends W.jyz{constructor(Pe){super({type:"LineMaterial",uniforms:W.rDY.clone(a.Vj0.line.uniforms),vertexShader:a.Vj0.line.vertexShader,fragmentShader:a.Vj0.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(Pe)}get color(){return this.uniforms.diffuse.value}set color(Pe){this.uniforms.diffuse.value=Pe}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(Pe){Pe===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(Pe){this.uniforms.linewidth&&(this.uniforms.linewidth.value=Pe)}get dashed(){return"USE_DASH"in this.defines}set dashed(Pe){Pe===!0!==this.dashed&&(this.needsUpdate=!0),Pe===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(Pe){this.uniforms.dashScale.value=Pe}get dashSize(){return this.uniforms.dashSize.value}set dashSize(Pe){this.uniforms.dashSize.value=Pe}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(Pe){this.uniforms.dashOffset.value=Pe}get gapSize(){return this.uniforms.gapSize.value}set gapSize(Pe){this.uniforms.gapSize.value=Pe}get opacity(){return this.uniforms.opacity.value}set opacity(Pe){this.uniforms&&(this.uniforms.opacity.value=Pe)}get resolution(){return this.uniforms.resolution.value}set resolution(Pe){this.uniforms.resolution.value.copy(Pe)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(Pe){this.defines&&(Pe===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),Pe===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}},83325:function(ji,It,M){"use strict";M.d(It,{z:function(){return ie}});var a=M(89888);const W=new a.ZzF,z=new a.Pa4;class ie extends a.L5s{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const se=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],J=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],oe=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(oe),this.setAttribute("position",new a.a$l(se,3)),this.setAttribute("uv",new a.a$l(J,2))}applyMatrix4(se){const J=this.attributes.instanceStart,oe=this.attributes.instanceEnd;return J!==void 0&&(J.applyMatrix4(se),oe.applyMatrix4(se),J.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(se){let J;se instanceof Float32Array?J=se:Array.isArray(se)&&(J=new Float32Array(se));const oe=new a.$TI(J,6,1);return this.setAttribute("instanceStart",new a.kB5(oe,3,0)),this.setAttribute("instanceEnd",new a.kB5(oe,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(se){let J;se instanceof Float32Array?J=se:Array.isArray(se)&&(J=new Float32Array(se));const oe=new a.$TI(J,6,1);return this.setAttribute("instanceColorStart",new a.kB5(oe,3,0)),this.setAttribute("instanceColorEnd",new a.kB5(oe,3,3)),this}fromWireframeGeometry(se){return this.setPositions(se.attributes.position.array),this}fromEdgesGeometry(se){return this.setPositions(se.attributes.position.array),this}fromMesh(se){return this.fromWireframeGeometry(new a.Uk6(se.geometry)),this}fromLineSegments(se){const J=se.geometry;return this.setPositions(J.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new a.ZzF);const se=this.attributes.instanceStart,J=this.attributes.instanceEnd;se!==void 0&&J!==void 0&&(this.boundingBox.setFromBufferAttribute(se),W.setFromBufferAttribute(J),this.boundingBox.union(W))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new a.aLr),this.boundingBox===null&&this.computeBoundingBox();const se=this.attributes.instanceStart,J=this.attributes.instanceEnd;if(se!==void 0&&J!==void 0){const oe=this.boundingSphere.center;this.boundingBox.getCenter(oe);let fe=0;for(let Me=0,tt=se.count;Me<tt;Me++)z.fromBufferAttribute(se,Me),fe=Math.max(fe,oe.distanceToSquared(z)),z.fromBufferAttribute(J,Me),fe=Math.max(fe,oe.distanceToSquared(z));this.boundingSphere.radius=Math.sqrt(fe),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}},41074:function(ji,It,M){"use strict";M.d(It,{cp:function(){return Pe},lX:function(){return fe}});var a=M(89888);const W=new a.Pa4,z=new a._fP,ie=new a.Pa4;class Pe extends a.Tme{constructor(tt=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=tt,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(Be){Be.element instanceof Be.element.ownerDocument.defaultView.Element&&Be.element.parentNode!==null&&Be.element.remove()})})}copy(tt,Be){return super.copy(tt,Be),this.element=tt.element.cloneNode(!0),this}}class se extends null{constructor(tt){super(tt),this.isCSS3DSprite=!0,this.rotation2D=0}copy(tt,Be){return super.copy(tt,Be),this.rotation2D=tt.rotation2D,this}}const J=new a.yGw,oe=new a.yGw;class fe{constructor(tt={}){const Be=this;let ye,$t,qe,Ye;const vt={camera:{style:""},objects:new WeakMap},Oe=tt.element!==void 0?tt.element:document.createElement("div");Oe.style.overflow="hidden",this.domElement=Oe;const ee=document.createElement("div");ee.style.transformOrigin="0 0",ee.style.pointerEvents="none",Oe.appendChild(ee);const xt=document.createElement("div");xt.style.transformStyle="preserve-3d",ee.appendChild(xt),this.getSize=function(){return{width:ye,height:$t}},this.render=function(He,Fe){const Vt=Fe.projectionMatrix.elements[5]*Ye;Fe.view&&Fe.view.enabled?(ee.style.transform=`translate( ${-Fe.view.offsetX*(ye/Fe.view.width)}px, ${-Fe.view.offsetY*($t/Fe.view.height)}px )`,ee.style.transform+=`scale( ${Fe.view.fullWidth/Fe.view.width}, ${Fe.view.fullHeight/Fe.view.height} )`):ee.style.transform="",He.matrixWorldAutoUpdate===!0&&He.updateMatrixWorld(),Fe.parent===null&&Fe.matrixWorldAutoUpdate===!0&&Fe.updateMatrixWorld();let _t,et;Fe.isOrthographicCamera&&(_t=-(Fe.right+Fe.left)/2,et=(Fe.top+Fe.bottom)/2);const Kt=Fe.view&&Fe.view.enabled?Fe.view.height/Fe.view.fullHeight:1,wt=Fe.isOrthographicCamera?`scale( ${Kt} )scale(`+Vt+")translate("+de(_t)+"px,"+de(et)+"px)"+re(Fe.matrixWorldInverse):`scale( ${Kt} )translateZ(`+Vt+"px)"+re(Fe.matrixWorldInverse),je=(Fe.isPerspectiveCamera?"perspective("+Vt+"px) ":"")+wt+"translate("+qe+"px,"+Ye+"px)";vt.camera.style!==je&&(xt.style.transform=je,vt.camera.style=je),Bt(He,He,Fe,wt)},this.setSize=function(He,Fe){ye=He,$t=Fe,qe=ye/2,Ye=$t/2,Oe.style.width=He+"px",Oe.style.height=Fe+"px",ee.style.width=He+"px",ee.style.height=Fe+"px",xt.style.width=He+"px",xt.style.height=Fe+"px"};function de(He){return Math.abs(He)<1e-10?0:He}function re(He){const Fe=He.elements;return"matrix3d("+de(Fe[0])+","+de(-Fe[1])+","+de(Fe[2])+","+de(Fe[3])+","+de(Fe[4])+","+de(-Fe[5])+","+de(Fe[6])+","+de(Fe[7])+","+de(Fe[8])+","+de(-Fe[9])+","+de(Fe[10])+","+de(Fe[11])+","+de(Fe[12])+","+de(-Fe[13])+","+de(Fe[14])+","+de(Fe[15])+")"}function Rt(He){const Fe=He.elements;return"translate(-50%,-50%)"+("matrix3d("+de(Fe[0])+","+de(Fe[1])+","+de(Fe[2])+","+de(Fe[3])+","+de(-Fe[4])+","+de(-Fe[5])+","+de(-Fe[6])+","+de(-Fe[7])+","+de(Fe[8])+","+de(Fe[9])+","+de(Fe[10])+","+de(Fe[11])+","+de(Fe[12])+","+de(Fe[13])+","+de(Fe[14])+","+de(Fe[15])+")")}function T(He){He.isCSS3DObject&&(He.element.style.display="none");for(let Fe=0,Vt=He.children.length;Fe<Vt;Fe++)T(He.children[Fe])}function Bt(He,Fe,Vt,_t){if(He.visible===!1){T(He);return}if(He.isCSS3DObject){const et=He.layers.test(Vt.layers)===!0,Kt=He.element;if(Kt.style.display=et===!0?"":"none",et===!0){He.onBeforeRender(Be,Fe,Vt);let wt;He.isCSS3DSprite?(J.copy(Vt.matrixWorldInverse),J.transpose(),He.rotation2D!==0&&J.multiply(oe.makeRotationZ(He.rotation2D)),He.matrixWorld.decompose(W,z,ie),J.setPosition(W),J.scale(ie),J.elements[3]=0,J.elements[7]=0,J.elements[11]=0,J.elements[15]=1,wt=Rt(J)):wt=Rt(He.matrixWorld);const pt=vt.objects.get(He);if(pt===void 0||pt.style!==wt){Kt.style.transform=wt;const je={style:wt};vt.objects.set(He,je)}Kt.parentNode!==xt&&xt.appendChild(Kt),He.onAfterRender(Be,Fe,Vt)}}for(let et=0,Kt=He.children.length;et<Kt;et++)Bt(He.children[et],Fe,Vt,_t)}}}}}]);
}());